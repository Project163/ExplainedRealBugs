<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2183] TaskManagerFailsWithSlotSharingITCase fails.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2183</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Travis build is failing on this test.&lt;br/&gt;
Here is the log output: &lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/65871133/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/65871133/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12836126">FLINK-2183</key>
            <summary>TaskManagerFailsWithSlotSharingITCase fails.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mxm">Maximilian Michels</assignee>
                                    <reporter username="sachingoel0101">Sachin Goel</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jun 2015 12:04:45 +0000</created>
                <updated>Mon, 2 Nov 2015 21:13:05 +0000</updated>
                            <resolved>Thu, 11 Jun 2015 14:59:07 +0000</resolved>
                                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14577118" author="uce" created="Mon, 8 Jun 2015 12:47:16 +0000"  >&lt;p&gt;The test is waiting for a response for the TM poison pill. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;main-ScalaTest-running-TaskManagerFailsWithSlotSharingITCase&quot;&lt;/span&gt; #1 prio=5 os_prio=0 tid=0x00007f924800a000 nid=0x708e waiting on condition [0x00007f924f5fa000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000000cf5d6cc0&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.LinkedBlockingDeque.pollFirst(LinkedBlockingDeque.java:522)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;receiveOne(TestKit.scala:649)
	at akka.testkit.TestKit.receiveOne(TestKit.scala:718)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;expectMsgClass_internal(TestKit.scala:422)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;expectMsgType(TestKit.scala:396)
	at akka.testkit.TestKit.expectMsgType(TestKit.scala:718)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$apply$mcV$sp$2.apply$mcV$sp(TaskManagerFailsWithSlotSharingITCase.scala:82)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The respective lines from the test:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//kill task manager
&lt;/span&gt;taskManagers(0) ! PoisonPill
val failure = expectMsgType[Failure]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14578423" author="sachingoel0101" created="Tue, 9 Jun 2015 06:40:06 +0000"  >&lt;p&gt;I&apos;m not familiar with that. Is this expected? And is someone already working on it?&lt;/p&gt;</comment>
                            <comment id="14578526" author="uce" created="Tue, 9 Jun 2015 08:05:44 +0000"  >&lt;p&gt;Sorry for not being clear before. No, this is not expected. I just had a look at the log and wanted to leave a pointer here. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chiwanpark&quot; class=&quot;user-hover&quot; rel=&quot;chiwanpark&quot;&gt;chiwanpark&lt;/a&gt; also reported the issue on his local machine...&lt;/p&gt;</comment>
                            <comment id="14578668" author="till.rohrmann" created="Tue, 9 Jun 2015 10:22:08 +0000"  >&lt;p&gt;The &lt;tt&gt;TaskManagerFailsWithSlotSharingITCase&lt;/tt&gt; failed locally on my machine while testing the release candidate, too. I&apos;m using Java8.&lt;/p&gt;

&lt;p&gt;The stack trace is the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;The JobManager should handle hard failing task manager with slot sharing(org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase)  Time elapsed: 1,400.148 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.util.concurrent.TimeoutException: Futures timed out after [200000 milliseconds]
	at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:219)
	at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:153)
	at scala.concurrent.Await$$anonfun$ready$1.apply(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:86)
	at scala.concurrent.Await$$anonfun$ready$1.apply(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:86)
	at scala.concurrent.BlockContext$DefaultBlockContext$.blockOn(BlockContext.scala:53)
	at scala.concurrent.Await$.ready(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:86)
	at org.apache.flink.runtime.minicluster.FlinkMiniCluster.shutdown(FlinkMiniCluster.scala:162)
	at org.apache.flink.runtime.minicluster.FlinkMiniCluster.stop(FlinkMiniCluster.scala:149)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$3.apply$mcV$sp(TaskManagerFailsWithSlotSharingITCase.scala:140)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(TaskManagerFailsWithSlotSharingITCase.scala:95)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(TaskManagerFailsWithSlotSharingITCase.scala:95)
	at org.scalatest.Transformer$$anonfun$apply$1.apply$mcV$sp(Transformer.scala:22)
	at org.scalatest.OutcomeOf$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;outcomeOf(OutcomeOf.scala:85)
	at org.scalatest.OutcomeOf$.outcomeOf(OutcomeOf.scala:104)
	at org.scalatest.Transformer.apply(Transformer.scala:22)
	at org.scalatest.Transformer.apply(Transformer.scala:20)
	at org.scalatest.WordSpecLike$$anon$1.apply(WordSpecLike.scala:953)
	at org.scalatest.Suite$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;withFixture(Suite.scala:1122)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase.withFixture(TaskManagerFailsWithSlotSharingITCase.scala:36)


Results :

Tests in error: 
  TaskManagerFailsWithSlotSharingITCase.run:36-&amp;gt;org$scalatest$BeforeAndAfterAll$$&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$run:36-&amp;gt;org$scalatest$WordSpecLike$$&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$run:36-&amp;gt;runTests:36-&amp;gt;runTest:36-&amp;gt;withFixture:36 &#187; Timeout
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, I could not reproduce it. The second run completed successfully.&lt;/p&gt;</comment>
                            <comment id="14579144" author="chiwanpark" created="Tue, 9 Jun 2015 16:06:10 +0000"  >&lt;p&gt;I can reproduce the hang problem of this test case. I&apos;m using Java 7 (1.7.0_80), Maven 3.3.1.&lt;br/&gt;
In Java 8, the test case doesn&apos;t hang.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;jps&lt;/tt&gt; result is following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;6048 Launcher
6339 Jps
6223 surefirebooter4912048144243244316.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;jstack 6223&lt;/tt&gt; result is following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-06-10 01:01:44
Full thread dump Java HotSpot(TM) 64-Bit Server VM (24.79-b02 mixed mode):

&lt;span class=&quot;code-quote&quot;&gt;&quot;Attach Listener&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d92b800 nid=0x5607 waiting on condition [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-16&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c1a9000 nid=0xb403 waiting on condition [0x0000000119094000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-17&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c9f3800 nid=0xb203 waiting on condition [0x0000000118f91000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-13&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d952000 nid=0xb003 waiting on condition [0x0000000118e8e000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-11&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60a90a800 nid=0xae03 waiting on condition [0x0000000118d8b000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-14&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60a8fd800 nid=0xaa03 waiting on condition [0x0000000118b85000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-15&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b13a800 nid=0xa803 waiting on condition [0x0000000118a82000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-12&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d951000 nid=0xa603 waiting on condition [0x000000011897f000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-10&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c973800 nid=0xa003 waiting on condition [0x0000000118676000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-9&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b146800 nid=0x9e03 waiting on condition [0x0000000118573000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-8&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d0a5800 nid=0x9c03 waiting on condition [0x0000000118470000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-7&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d27c800 nid=0x9603 waiting on condition [0x0000000118167000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c101000 nid=0x9017 waiting on condition [0x0000000117c58000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Timer-2&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d289800 nid=0x8a03 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0x0000000117b55000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0x00000007f77b64a0&amp;gt; (a java.util.TaskQueue)
	at java.util.TimerThread.mainLoop(Timer.java:552)
	- locked &amp;lt;0x00000007f77b64a0&amp;gt; (a java.util.TaskQueue)
	at java.util.TimerThread.run(Timer.java:505)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Timer-1&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b8fc000 nid=0x8803 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0x0000000117932000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0x00000007f7776500&amp;gt; (a java.util.TaskQueue)
	at java.util.TimerThread.mainLoop(Timer.java:552)
	- locked &amp;lt;0x00000007f7776500&amp;gt; (a java.util.TaskQueue)
	at java.util.TimerThread.run(Timer.java:505)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Flink Netty Server (56052) &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 0&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d90c000 nid=0x8407 runnable [0x0000000115d24000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
	at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
	at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
	- locked &amp;lt;0x00000007f7776b58&amp;gt; (a io.netty.channel.nio.SelectedSelectionKeySet)
	- locked &amp;lt;0x00000007f7776b78&amp;gt; (a java.util.Collections$UnmodifiableSet)
	- locked &amp;lt;0x00000007f7776b08&amp;gt; (a sun.nio.ch.KQueueSelectorImpl)
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
	at io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:622)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:310)
	at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-13&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c14c800 nid=0x8203 waiting on condition [0x00000001176e8000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007ce414d58&amp;gt; (a scala.concurrent.forkjoin.ForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-1&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c149000 nid=0x8003 waiting on condition [0x00000001175e5000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007ce414d58&amp;gt; (a scala.concurrent.forkjoin.ForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-3&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c146000 nid=0x7e03 waiting on condition [0x00000001174e2000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007ce414d58&amp;gt; (a scala.concurrent.forkjoin.ForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-5&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b92a000 nid=0x7c03 waiting on condition [0x00000001173df000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007ce414d58&amp;gt; (a scala.concurrent.forkjoin.ForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-7&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c11e000 nid=0x7a03 waiting on condition [0x00000001172dc000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007ce414d58&amp;gt; (a scala.concurrent.forkjoin.ForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-9&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d27b800 nid=0x7803 waiting on condition [0x00000001171d9000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007ce414d58&amp;gt; (a scala.concurrent.forkjoin.ForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-11&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d0fd800 nid=0x7603 waiting on condition [0x00000001170d6000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007ce414d58&amp;gt; (a scala.concurrent.forkjoin.ForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-15&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c915800 nid=0x7403 waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x0000000116fd3000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.flink.runtime.instance.SlotSharingGroupAssignment.releaseSimpleSlot(SlotSharingGroupAssignment.java:478)
	- waiting to lock &amp;lt;0x00000007f797cdf8&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.flink.runtime.instance.SharedSlot.releaseChild(SharedSlot.java:196)
	at org.apache.flink.runtime.instance.SimpleSlot.releaseSlot(SimpleSlot.java:166)
	at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:734)
	at org.apache.flink.runtime.executiongraph.Execution.fail(Execution.java:565)
	at org.apache.flink.runtime.executiongraph.Execution$4.onComplete(Execution.java:821)
	at akka.dispatch.OnComplete.internal(Future.scala:246)
	at akka.dispatch.OnComplete.internal(Future.scala:244)
	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:174)
	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:171)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:32)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$3.exec(ExecutionContextImpl.scala:107)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.pollAndExecAll(ForkJoinPool.java:1253)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1346)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;IOManager reader thread #1&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b105800 nid=0x7203 waiting on condition [0x0000000116ed0000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007f77b4f18&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.flink.runtime.io.disk.iomanager.IOManagerAsync$ReaderThread.run(IOManagerAsync.java:349)

&lt;span class=&quot;code-quote&quot;&gt;&quot;IOManager writer thread #1&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b8fa800 nid=0x7003 waiting on condition [0x0000000116dcd000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007f77b5328&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.flink.runtime.io.disk.iomanager.IOManagerAsync$WriterThread.run(IOManagerAsync.java:455)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Timer-0&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c0ae800 nid=0x6803 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0x0000000116ac4000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0x00000007d5ad62f0&amp;gt; (a java.util.TaskQueue)
	at java.util.TimerThread.mainLoop(Timer.java:552)
	- locked &amp;lt;0x00000007d5ad62f0&amp;gt; (a java.util.TaskQueue)
	at java.util.TimerThread.run(Timer.java:505)

&lt;span class=&quot;code-quote&quot;&gt;&quot;BLOB Server listener at 56049&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b8fa000 nid=0x6603 runnable [0x00000001169c1000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:398)
	at java.net.ServerSocket.implAccept(ServerSocket.java:530)
	at java.net.ServerSocket.accept(ServerSocket.java:498)
	at org.apache.flink.runtime.blob.BlobServer.run(BlobServer.java:177)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-5&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b8f5000 nid=0x6403 waiting on condition [0x00000001168be000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-4&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b8f0000 nid=0x6203 waiting on condition [0x00000001167bb000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-3&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c92d800 nid=0x6003 waiting on condition [0x00000001166b8000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5acc920&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-2&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c853000 nid=0x5e03 runnable [0x00000001165b4000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at org.apache.flink.runtime.instance.SlotSharingGroupAssignment.releaseSharedSlot(SlotSharingGroupAssignment.java:538)
	- locked &amp;lt;0x00000007f797cdf8&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.flink.runtime.instance.SharedSlot.releaseSlot(SharedSlot.java:119)
	at org.apache.flink.runtime.instance.Instance.markDead(Instance.java:150)
	at org.apache.flink.runtime.instance.InstanceManager.unregisterTaskManager(InstanceManager.java:182)
	at org.apache.flink.runtime.jobmanager.JobManager$$anonfun$receiveWithLogMessages$1.applyOrElse(JobManager.scala:435)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)
	at org.apache.flink.runtime.testingUtils.TestingJobManager$$anonfun$receiveTestingMessages$1.applyOrElse(TestingJobManager.scala:185)
	at scala.PartialFunction$OrElse.apply(PartialFunction.scala:162)
	at org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:36)
	at org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:29)
	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:118)
	at org.apache.flink.runtime.ActorLogMessages$$anon$1.applyOrElse(ActorLogMessages.scala:29)
	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:465)
	at org.apache.flink.runtime.jobmanager.JobManager.aroundReceive(JobManager.scala:94)
	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)
	at akka.actor.ActorCell.invoke(ActorCell.scala:487)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:254)
	at akka.dispatch.Mailbox.run(Mailbox.scala:221)
	at akka.dispatch.Mailbox.exec(Mailbox.scala:231)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-scheduler-1&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60e124000 nid=0x5d07 waiting on condition [0x00000001164b2000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
	at akka.actor.LightArrayRevolverScheduler.waitNanos(Scheduler.scala:226)
	at akka.actor.LightArrayRevolverScheduler$$anon$8.nextTick(Scheduler.scala:405)
	at akka.actor.LightArrayRevolverScheduler$$anon$8.run(Scheduler.scala:375)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

&lt;span class=&quot;code-quote&quot;&gt;&quot;TestingActorSystem-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-3&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d106800 nid=0x5403 waiting on condition [0x00000001162ac000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5ace4d0&amp;gt; (a akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinPool)
	at scala.concurrent.forkjoin.ForkJoinPool.scan(ForkJoinPool.java:2075)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;TestingActorSystem-scheduler-1&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60e06a000 nid=0x5003 waiting on condition [0x00000001160a6000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
	at akka.actor.LightArrayRevolverScheduler.waitNanos(Scheduler.scala:226)
	at akka.actor.LightArrayRevolverScheduler$$anon$8.nextTick(Scheduler.scala:405)
	at akka.actor.LightArrayRevolverScheduler$$anon$8.run(Scheduler.scala:375)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Service &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c80b000 nid=0x4c03 runnable [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;C2 CompilerThread1&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c80a800 nid=0x4a03 waiting on condition [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;C2 CompilerThread0&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60d001000 nid=0x4803 waiting on condition [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;Signal Dispatcher&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60c805000 nid=0x3d0b runnable [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;Finalizer&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b006000 nid=0x3303 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0x0000000113139000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0x00000007d5a78e48&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)
	- locked &amp;lt;0x00000007d5a78e48&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Reference Handler&quot;&lt;/span&gt; daemon prio=5 tid=0x00007fd60b005000 nid=0x3103 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0x0000000113036000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0x00000007d5ab5dd8&amp;gt; (a java.lang.ref.Reference$Lock)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)
	- locked &amp;lt;0x00000007d5ab5dd8&amp;gt; (a java.lang.ref.Reference$Lock)

&lt;span class=&quot;code-quote&quot;&gt;&quot;main-ScalaTest-running-TaskManagerFailsWithSlotSharingITCase&quot;&lt;/span&gt; prio=5 tid=0x00007fd60b803000 nid=0xd03 waiting on condition [0x000000010a58c000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000007d5b34e48&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
	at java.util.concurrent.LinkedBlockingDeque.pollFirst(LinkedBlockingDeque.java:519)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;receiveOne(TestKit.scala:649)
	at akka.testkit.TestKit.receiveOne(TestKit.scala:718)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;expectMsgClass_internal(TestKit.scala:422)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;expectMsgType(TestKit.scala:396)
	at akka.testkit.TestKit.expectMsgType(TestKit.scala:718)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$apply$mcV$sp$2.apply$mcV$sp(TaskManagerFailsWithSlotSharingITCase.scala:82)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$apply$mcV$sp$2.apply(TaskManagerFailsWithSlotSharingITCase.scala:71)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$apply$mcV$sp$2.apply(TaskManagerFailsWithSlotSharingITCase.scala:71)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;within(TestKit.scala:296)
	at akka.testkit.TestKit.within(TestKit.scala:718)
	at akka.testkit.TestKitBase$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;within(TestKit.scala:310)
	at akka.testkit.TestKit.within(TestKit.scala:718)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(TaskManagerFailsWithSlotSharingITCase.scala:71)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(TaskManagerFailsWithSlotSharingITCase.scala:46)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(TaskManagerFailsWithSlotSharingITCase.scala:46)
	at org.scalatest.Transformer$$anonfun$apply$1.apply$mcV$sp(Transformer.scala:22)
	at org.scalatest.OutcomeOf$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;outcomeOf(OutcomeOf.scala:85)
	at org.scalatest.OutcomeOf$.outcomeOf(OutcomeOf.scala:104)
	at org.scalatest.Transformer.apply(Transformer.scala:22)
	at org.scalatest.Transformer.apply(Transformer.scala:20)
	at org.scalatest.WordSpecLike$$anon$1.apply(WordSpecLike.scala:953)
	at org.scalatest.Suite$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;withFixture(Suite.scala:1122)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase.withFixture(TaskManagerFailsWithSlotSharingITCase.scala:36)
	at org.scalatest.WordSpecLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;invokeWithFixture$1(WordSpecLike.scala:950)
	at org.scalatest.WordSpecLike$$anonfun$runTest$1.apply(WordSpecLike.scala:962)
	at org.scalatest.WordSpecLike$$anonfun$runTest$1.apply(WordSpecLike.scala:962)
	at org.scalatest.SuperEngine.runTestImpl(Engine.scala:306)
	at org.scalatest.WordSpecLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;runTest(WordSpecLike.scala:962)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase.runTest(TaskManagerFailsWithSlotSharingITCase.scala:36)
	at org.scalatest.WordSpecLike$$anonfun$runTests$1.apply(WordSpecLike.scala:1021)
	at org.scalatest.WordSpecLike$$anonfun$runTests$1.apply(WordSpecLike.scala:1021)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:413)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:401)
	at scala.collection.immutable.List.foreach(List.scala:318)
	at org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:390)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:427)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:401)
	at scala.collection.immutable.List.foreach(List.scala:318)
	at org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:396)
	at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:483)
	at org.scalatest.WordSpecLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;runTests(WordSpecLike.scala:1021)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase.runTests(TaskManagerFailsWithSlotSharingITCase.scala:36)
	at org.scalatest.Suite$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;run(Suite.scala:1424)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase.org$scalatest$WordSpecLike$$&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$run(TaskManagerFailsWithSlotSharingITCase.scala:36)
	at org.scalatest.WordSpecLike$$anonfun$run$1.apply(WordSpecLike.scala:1067)
	at org.scalatest.WordSpecLike$$anonfun$run$1.apply(WordSpecLike.scala:1067)
	at org.scalatest.SuperEngine.runImpl(Engine.scala:545)
	at org.scalatest.WordSpecLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;run(WordSpecLike.scala:1067)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase.org$scalatest$BeforeAndAfterAll$$&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$run(TaskManagerFailsWithSlotSharingITCase.scala:36)
	at org.scalatest.BeforeAndAfterAll$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;liftedTree1$1(BeforeAndAfterAll.scala:257)
	at org.scalatest.BeforeAndAfterAll$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;run(BeforeAndAfterAll.scala:256)
	at org.apache.flink.runtime.jobmanager.TaskManagerFailsWithSlotSharingITCase.run(TaskManagerFailsWithSlotSharingITCase.scala:36)
	at org.scalatest.junit.JUnitRunner.run(JUnitRunner.scala:99)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

&lt;span class=&quot;code-quote&quot;&gt;&quot;VM &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; prio=5 tid=0x00007fd60c800800 nid=0x2f03 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#0 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a805800 nid=0x1f03 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#1 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a806800 nid=0x2103 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#2 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a80a800 nid=0x2303 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#3 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a80b800 nid=0x2503 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#4 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a80c000 nid=0x2703 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#5 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a80c800 nid=0x2903 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#6 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a80d000 nid=0x2b03 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#7 (ParallelGC)&quot;&lt;/span&gt; prio=5 tid=0x00007fd60a80e000 nid=0x2d03 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;VM Periodic Task &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; prio=5 tid=0x00007fd60c005800 nid=0x4e03 waiting on condition 

JNI global references: 224

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14580387" author="chiwanpark" created="Wed, 10 Jun 2015 10:52:13 +0000"  >&lt;p&gt;After I clear my local maven repository, the test case hangs with Java 8.&lt;br/&gt;
It seems that the problem is not related to java version.&lt;/p&gt;</comment>
                            <comment id="14580424" author="mxm" created="Wed, 10 Jun 2015 11:50:02 +0000"  >&lt;p&gt;Thanks Chiwan, I&apos;m also looking into the problem now.&lt;/p&gt;</comment>
                            <comment id="14580785" author="mxm" created="Wed, 10 Jun 2015 16:52:50 +0000"  >&lt;p&gt;Here is the stacktrace isolated for the two deadlocked processes. The job manager holds a lock to release slots when the Disconnect message from the task manager arrives. It then cancels Executions (in separate processes) running in the slots, which mark their slots as cancelled. Then they try to release the slots by acquiring the same lock. However, they cannot do so because the job manager process already has acquired this lock and tries to release the its slots. The job manager can never do so because the slots have already been marked as cancelled by the asynchronous Execution processes.&lt;/p&gt;

&lt;p&gt;It seems not so hard to fix but we have to get all the implications right. Unfortunately I&apos;m running out of time today.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-4&quot;&lt;/span&gt; #22 daemon prio=5 os_prio=31 tid=0x00007ff9ccad4000 nid=0x6d03 runnable [0x000000012e844000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at org.apache.flink.runtime.instance.SlotSharingGroupAssignment.releaseSharedSlot(SlotSharingGroupAssignment.java:537)
	- locked &amp;lt;0x000000076d6bc9d0&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.flink.runtime.instance.SharedSlot.releaseSlot(SharedSlot.java:119)
	at org.apache.flink.runtime.instance.Instance.markDead(Instance.java:150)
	at org.apache.flink.runtime.instance.InstanceManager.unregisterTaskManager(InstanceManager.java:182)
	at org.apache.flink.runtime.jobmanager.JobManager$$anonfun$receiveWithLogMessages$1.applyOrElse(JobManager.scala:435)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)
	at org.apache.flink.runtime.testingUtils.TestingJobManager$$anonfun$receiveTestingMessages$1.applyOrElse(TestingJobManager.scala:185)
	at scala.PartialFunction$OrElse.apply(PartialFunction.scala:162)
	at org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:36)
	at org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:29)
	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:118)
	at org.apache.flink.runtime.ActorLogMessages$$anon$1.applyOrElse(ActorLogMessages.scala:29)
	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:465)
	at org.apache.flink.runtime.jobmanager.JobManager.aroundReceive(JobManager.scala:94)
	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)
	at akka.actor.ActorCell.invoke(ActorCell.scala:487)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:254)
	at akka.dispatch.Mailbox.run(Mailbox.scala:221)
	at akka.dispatch.Mailbox.exec(Mailbox.scala:231)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)


&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-13&quot;&lt;/span&gt; #40 daemon prio=5 os_prio=31 tid=0x00007ff9ca92b800 nid=0x8903 waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x000000012f669000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.flink.runtime.instance.SlotSharingGroupAssignment.releaseSimpleSlot(SlotSharingGroupAssignment.java:478)
	- waiting to lock &amp;lt;0x000000076d6bc9d0&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.flink.runtime.instance.SharedSlot.releaseChild(SharedSlot.java:196)
	at org.apache.flink.runtime.instance.SimpleSlot.releaseSlot(SimpleSlot.java:166)
	at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:734)
	at org.apache.flink.runtime.executiongraph.Execution.fail(Execution.java:565)
	at org.apache.flink.runtime.executiongraph.Execution$4.onComplete(Execution.java:821)
	at akka.dispatch.OnComplete.internal(Future.scala:246)
	at akka.dispatch.OnComplete.internal(Future.scala:244)
	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:174)
	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:171)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:32)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$3.exec(ExecutionContextImpl.scala:107)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.pollAndExecAll(ForkJoinPool.java:1253)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1346)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-1&quot;&lt;/span&gt; #39 daemon prio=5 os_prio=31 tid=0x00007ff9ca92b000 nid=0x8703 waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x000000012f566000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.flink.runtime.instance.SlotSharingGroupAssignment.releaseSimpleSlot(SlotSharingGroupAssignment.java:478)
	- waiting to lock &amp;lt;0x000000076d6bc9d0&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.flink.runtime.instance.SharedSlot.releaseChild(SharedSlot.java:196)
	at org.apache.flink.runtime.instance.SimpleSlot.releaseSlot(SimpleSlot.java:166)
	at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:734)
	at org.apache.flink.runtime.executiongraph.Execution.fail(Execution.java:565)
	at org.apache.flink.runtime.executiongraph.Execution$4.onComplete(Execution.java:821)
	at akka.dispatch.OnComplete.internal(Future.scala:246)
	at akka.dispatch.OnComplete.internal(Future.scala:244)
	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:174)
	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:171)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:32)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$3.exec(ExecutionContextImpl.scala:107)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14581859" author="mxm" created="Thu, 11 Jun 2015 11:59:33 +0000"  >&lt;p&gt;The bug is well reproducible if you set &lt;tt&gt;num_tasks = 100&lt;/tt&gt; in the &lt;tt&gt;TaskManagerFailsWithSlotSharingITCase&lt;/tt&gt; and loop several times.&lt;/p&gt;</comment>
                            <comment id="14581861" author="githubbot" created="Thu, 11 Jun 2015 12:00:20 +0000"  >&lt;p&gt;GitHub user mxm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/824&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2183&quot; title=&quot;TaskManagerFailsWithSlotSharingITCase fails.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2183&quot;&gt;&lt;del&gt;FLINK-2183&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; fix deadlock for concurrent slot release&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mxm/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mxm/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2183&quot; title=&quot;TaskManagerFailsWithSlotSharingITCase fails.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2183&quot;&gt;&lt;del&gt;FLINK-2183&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/824.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/824.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #824&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ab29af15cb03b6c7563b22a3bc98d29c47d37f22&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-06-11T11:27:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2183&quot; title=&quot;TaskManagerFailsWithSlotSharingITCase fails.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2183&quot;&gt;&lt;del&gt;FLINK-2183&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; fix deadlock for concurrent slot release&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14581892" author="githubbot" created="Thu, 11 Jun 2015 12:53:17 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/824#issuecomment-111122577&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/824#issuecomment-111122577&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM&lt;/p&gt;</comment>
                            <comment id="14582020" author="githubbot" created="Thu, 11 Jun 2015 14:56:34 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/824&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2frbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>