<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:50:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-20033] Job fails when stopping JobMaster</title>
                <link>https://issues.apache.org/jira/browse/FLINK-20033</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When a &lt;tt&gt;JobMaster&lt;/tt&gt; is stopped, we first disconnect all &lt;tt&gt;TaskExecutors&lt;/tt&gt;. This disconnection causes potentially running &lt;tt&gt;Executions&lt;/tt&gt; to fail. This in turn can cause a restart of the job or in the worst case a transition into &lt;tt&gt;FAILED&lt;/tt&gt; state if the restarts are depleted. This again can cause the clean up of HA data.&lt;/p&gt;

&lt;p&gt;Instead of failing the job, the job should be suspended if the &lt;tt&gt;JobMaster&lt;/tt&gt; gets stopped because this happens if the &lt;tt&gt;Dispatcher&lt;/tt&gt; loses its leadership. The problem has been fixed unintentionally by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-19237&quot; title=&quot;LeaderChangeClusterComponentsTest.testReelectionOfJobMaster failed with &amp;quot;NoResourceAvailableException: Could not allocate the required slot within slot request timeout&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-19237&quot;&gt;&lt;del&gt;FLINK-19237&lt;/del&gt;&lt;/a&gt; in the master branch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13339202">FLINK-20033</key>
            <summary>Job fails when stopping JobMaster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 6 Nov 2020 15:32:06 +0000</created>
                <updated>Thu, 12 Nov 2020 13:56:29 +0000</updated>
                            <resolved>Thu, 12 Nov 2020 13:56:29 +0000</resolved>
                                    <version>1.10.2</version>
                    <version>1.11.2</version>
                                    <fixVersion>1.10.3</fixVersion>
                    <fixVersion>1.11.3</fixVersion>
                    <fixVersion>1.12.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17227833" author="till.rohrmann" created="Sat, 7 Nov 2020 16:49:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-19237&quot; title=&quot;LeaderChangeClusterComponentsTest.testReelectionOfJobMaster failed with &amp;quot;NoResourceAvailableException: Could not allocate the required slot within slot request timeout&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-19237&quot;&gt;&lt;del&gt;FLINK-19237&lt;/del&gt;&lt;/a&gt; also fixes this problem.&lt;/p&gt;</comment>
                            <comment id="17227838" author="till.rohrmann" created="Sat, 7 Nov 2020 17:09:03 +0000"  >&lt;p&gt;Backport PRs are:&lt;/p&gt;

&lt;p&gt;1.11: &lt;a href=&quot;https://github.com/apache/flink/pull/13979&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/13979&lt;/a&gt;&lt;br/&gt;
1.10: &lt;a href=&quot;https://github.com/apache/flink/pull/13980&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/13980&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17228435" author="till.rohrmann" created="Mon, 9 Nov 2020 09:11:04 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;1.12.0:&lt;br/&gt;
03047a78b6ad8017eb240548a009424d68ffc971&lt;br/&gt;
86a96c7909a1c1db35157ebec4164529c0290c7d&lt;/p&gt;

&lt;p&gt;1.11.3:&lt;br/&gt;
90fb07c311aa6c91ad544705ee96a14ab9302122&lt;br/&gt;
32e23052af547bb1b99274778c666f3d814201a8&lt;/p&gt;

&lt;p&gt;1.10.3:&lt;br/&gt;
9840907ec8c16d4d50d92388b883b959cc10f793&lt;br/&gt;
10bfd2971dd960ac799ba02156683fc7a740383d&lt;/p&gt;</comment>
                            <comment id="17230645" author="till.rohrmann" created="Thu, 12 Nov 2020 13:56:29 +0000"  >&lt;p&gt;Reverted the test and the change which makes the &lt;tt&gt;JobMaster.jobStatusChanged&lt;/tt&gt; call synchronous because of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-20065&quot; title=&quot;UnalignedCheckpointCompatibilityITCase.test failed with AskTimeoutException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-20065&quot;&gt;&lt;del&gt;FLINK-20065&lt;/del&gt;&lt;/a&gt;. The actual fix introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-19237&quot; title=&quot;LeaderChangeClusterComponentsTest.testReelectionOfJobMaster failed with &amp;quot;NoResourceAvailableException: Could not allocate the required slot within slot request timeout&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-19237&quot;&gt;&lt;del&gt;FLINK-19237&lt;/del&gt;&lt;/a&gt; has not been reverted.&lt;/p&gt;

&lt;p&gt;1.12.0:&lt;br/&gt;
dea47d6b17fdd26920c1bfbb5aea24a7003a16be&lt;br/&gt;
89262012a86647ebc3658027e5690a242b2f0782&lt;/p&gt;

&lt;p&gt;1.11.3:&lt;br/&gt;
dcbf474343a43370ae08665e71dad708c65369ca&lt;br/&gt;
68d16f0f04b7ddf0ed5f7aadb14092c101a811f5&lt;/p&gt;

&lt;p&gt;1.10.3:&lt;br/&gt;
d8fa676412a85d5e369e6367978ccfa8a7e07194&lt;br/&gt;
fef13fda361e6dfc566553316fcc8ca4943af787&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13339642">FLINK-20065</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13327576">FLINK-19237</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13337309">FLINK-19816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0kchk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>