<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:20:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-34569] &apos;Streaming File Sink s3 end-to-end test&apos; failed</title>
                <link>https://issues.apache.org/jira/browse/FLINK-34569</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=58026&amp;amp;view=logs&amp;amp;j=af184cdd-c6d8-5084-0b69-7e9c67b35f7a&amp;amp;t=0f3adb59-eefa-51c6-2858-3654d9e0749d&amp;amp;l=3957&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=58026&amp;amp;view=logs&amp;amp;j=af184cdd-c6d8-5084-0b69-7e9c67b35f7a&amp;amp;t=0f3adb59-eefa-51c6-2858-3654d9e0749d&amp;amp;l=3957&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 02 04:12:57 Waiting until all values have been produced
Unable to find image &lt;span class=&quot;code-quote&quot;&gt;&apos;stedolan/jq:latest&apos;&lt;/span&gt; locally
Error: No such container: 
docker: Error response from daemon: Get &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//registry-1.docker.io/v2/&quot;&lt;/span&gt;: read tcp 10.1.0.97:42214-&amp;gt;54.236.113.205:443: read: connection reset by peer.
&lt;/span&gt;See &lt;span class=&quot;code-quote&quot;&gt;&apos;docker run --help&apos;&lt;/span&gt;.
Mar 02 04:12:58 &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of produced values 0/60000
Error: No such container: 
Unable to find image &lt;span class=&quot;code-quote&quot;&gt;&apos;stedolan/jq:latest&apos;&lt;/span&gt; locally
latest: Pulling from stedolan/jq
[DEPRECATION NOTICE] Docker Image Format v1, and Docker Image manifest version 2, schema 1 support will be removed in an upcoming release. Suggest the author of docker.io/stedolan/jq:latest to upgrade the image to the OCI Format, or Docker Image manifest v2, schema 2. More information at https:&lt;span class=&quot;code-comment&quot;&gt;//docs.docker.com/go/deprecated-image-specs/
&lt;/span&gt;237d5fcd25cf: Pulling fs layer
[...]
4dae4fd48813: Pull complete
Digest: sha256:a61ed0bca213081b64be94c5e1b402ea58bc549f457c2682a86704dd55231e09
Status: Downloaded newer image &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stedolan/jq:latest
parse error: Invalid numeric literal at line 1, column 6
Error: No such container: 
parse error: Invalid numeric literal at line 1, column 6
Error: No such container: 
parse error: Invalid numeric literal at line 1, column 6
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13570629">FLINK-34569</key>
            <summary>&apos;Streaming File Sink s3 end-to-end test&apos; failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robyoung">Rob Young</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 4 Mar 2024 07:34:27 +0000</created>
                <updated>Thu, 6 Jun 2024 05:50:36 +0000</updated>
                            <resolved>Thu, 6 Jun 2024 05:50:36 +0000</resolved>
                                    <version>1.19.0</version>
                                    <fixVersion>1.18.2</fixVersion>
                    <fixVersion>1.20.0</fixVersion>
                    <fixVersion>1.19.1</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17825887" author="JIRAUSER298079" created="Wed, 13 Mar 2024 02:28:38 +0000"  >&lt;p&gt;Hi, I&apos;ve had a look into it and I think the repeated:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
parse error: Invalid numeric literal at line 1, column 6
Error: No such container: &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is a symptom of a failure to start the aws-cli image, from earlier in the logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2024-03-02T04:10:55.5496990Z Unable to find image &lt;span class=&quot;code-quote&quot;&gt;&apos;banst/awscli:latest&apos;&lt;/span&gt; locally 2024-03-02T04:10:56.3857380Z docker: Error response from daemon: Head &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//registry-1.docker.io/v2/banst/awscli/manifests/latest&quot;&lt;/span&gt;: read tcp 10.1.0.97:33016-&amp;gt;54.236.113.205:443: read: connection reset by peer. 2024-03-02T04:10:56.3857877Z See &lt;span class=&quot;code-quote&quot;&gt;&apos;docker run --help&apos;&lt;/span&gt;. 2024-03-02T04:10:56.4586492Z Error: No such object:&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;this means that the `AWSCLI_CONTAINER_ID` was empty and hence the error `Error: No such container:` from the docker exec. The failed docker exec in the subshell does not cause a failure, for example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
export ABC=$(docker exec -it &quot;&quot; bash)
Error: No such container:&#160;
[roby@roby flink-end-to-end-tests]$ echo $?
0 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I tested locally by changing `banst/awscli` to a nonexistant name like `banstz/awscli`, which produces similar output.&lt;/p&gt;

&lt;p&gt;I have a branch which fails fast if `AWSCLI_CONTAINER_ID` is unset/empty after the export and adds a single naive retry of `aws_cli_start`, since it looks like a transient network error. Keen to create a PR if that approach sounds okay to you.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17826766" author="mapohl" created="Wed, 13 Mar 2024 15:09:53 +0000"  >&lt;p&gt;Sure, go ahead. Thanks for looking into it. I assigned the ticket to you.&lt;/p&gt;</comment>
                            <comment id="17852426" author="rmetzger" created="Wed, 5 Jun 2024 12:20:29 +0000"  >&lt;p&gt;merged to master for 1.20 in &lt;a href=&quot;https://github.com/apache/flink/commit/b8d527166e095653ae3ff5c0431bf27297efe229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/b8d527166e095653ae3ff5c0431bf27297efe229&lt;/a&gt;&lt;br/&gt;
Propose to merge for 1.18 and 1.19 in &lt;a href=&quot;https://github.com/apache/flink/pull/24893&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/24893&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/flink/pull/24894&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/24894&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17852635" author="rmetzger" created="Thu, 6 Jun 2024 05:50:21 +0000"  >&lt;p&gt;1.18: &lt;a href=&quot;https://github.com/apache/flink/commit/3a2324a705d4e36aec3f412cb0c35767a658553a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/3a2324a705d4e36aec3f412cb0c35767a658553a&lt;/a&gt;&lt;br/&gt;
1.19 &lt;a href=&quot;https://github.com/apache/flink/commit/e5fc647706d7c1129b9ffa91221c91ae8f0c5795&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/e5fc647706d7c1129b9ffa91221c91ae8f0c5795&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17852636" author="rmetzger" created="Thu, 6 Jun 2024 05:50:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robyoung&quot; class=&quot;user-hover&quot; rel=&quot;robyoung&quot;&gt;robyoung&lt;/a&gt; thanks for your fix!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1nr68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>