<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:51:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-20328] UnalignedCheckpointITCase.execute failed with &quot;Insufficient number of network buffers: required 1, but only 0 available&quot;</title>
                <link>https://issues.apache.org/jira/browse/FLINK-20328</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10008&amp;amp;view=logs&amp;amp;j=5c8e7682-d68f-54d1-16a2-a09310218a49&amp;amp;t=f508e270-48d6-5f1e-3138-42a17e0714f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10008&amp;amp;view=logs&amp;amp;j=5c8e7682-d68f-54d1-16a2-a09310218a49&amp;amp;t=f508e270-48d6-5f1e-3138-42a17e0714f0&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-11-24T08:18:15.0273526Z [ERROR] execute[non-parallel pipeline with local channels](org.apache.flink.test.checkpointing.UnalignedCheckpointITCase)  Time elapsed: 4.338 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
2020-11-24T08:18:15.0287436Z org.apache.flink.runtime.client.JobExecutionException: Job execution failed.
2020-11-24T08:18:15.0288449Z 	at org.apache.flink.runtime.jobmaster.JobResult.toJobExecutionResult(JobResult.java:147)
2020-11-24T08:18:15.0292752Z 	at org.apache.flink.runtime.minicluster.MiniClusterJobClient.lambda$getJobExecutionResult$2(MiniClusterJobClient.java:119)
2020-11-24T08:18:15.0293717Z 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
2020-11-24T08:18:15.0294586Z 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
2020-11-24T08:18:15.0295320Z 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2020-11-24T08:18:15.0296301Z 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
2020-11-24T08:18:15.0297083Z 	at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.lambda$invokeRpc$0(AkkaInvocationHandler.java:229)
2020-11-24T08:18:15.0299675Z 	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
2020-11-24T08:18:15.0300561Z 	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
2020-11-24T08:18:15.0301312Z 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2020-11-24T08:18:15.0302041Z 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
2020-11-24T08:18:15.0302911Z 	at org.apache.flink.runtime.concurrent.FutureUtils$1.onComplete(FutureUtils.java:996)
2020-11-24T08:18:15.0303568Z 	at akka.dispatch.OnComplete.internal(Future.scala:264)
2020-11-24T08:18:15.0304112Z 	at akka.dispatch.OnComplete.internal(Future.scala:261)
2020-11-24T08:18:15.0304823Z 	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:191)
2020-11-24T08:18:15.0305426Z 	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:188)
2020-11-24T08:18:15.0349665Z 	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:36)
2020-11-24T08:18:15.0350525Z 	at org.apache.flink.runtime.concurrent.Executors$DirectExecutionContext.execute(Executors.java:74)
2020-11-24T08:18:15.0351135Z 	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:44)
2020-11-24T08:18:15.0351615Z 	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:252)
2020-11-24T08:18:15.0352100Z 	at akka.pattern.PromiseActorRef.$bang(AskSupport.scala:572)
2020-11-24T08:18:15.0352715Z 	at akka.pattern.PipeToSupport$PipeableFuture$$anonfun$pipeTo$1.applyOrElse(PipeToSupport.scala:22)
2020-11-24T08:18:15.0353389Z 	at akka.pattern.PipeToSupport$PipeableFuture$$anonfun$pipeTo$1.applyOrElse(PipeToSupport.scala:21)
2020-11-24T08:18:15.0353992Z 	at scala.concurrent.Future$$anonfun$andThen$1.apply(Future.scala:436)
2020-11-24T08:18:15.0354631Z 	at scala.concurrent.Future$$anonfun$andThen$1.apply(Future.scala:435)
2020-11-24T08:18:15.0355099Z 	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:36)
2020-11-24T08:18:15.0355553Z 	at akka.dispatch.BatchingExecutor$AbstractBatch.processBatch(BatchingExecutor.scala:55)
2020-11-24T08:18:15.0356110Z 	at akka.dispatch.BatchingExecutor$BlockableBatch$$anonfun$run$1.apply$mcV$sp(BatchingExecutor.scala:91)
2020-11-24T08:18:15.0356651Z 	at akka.dispatch.BatchingExecutor$BlockableBatch$$anonfun$run$1.apply(BatchingExecutor.scala:91)
2020-11-24T08:18:15.0357188Z 	at akka.dispatch.BatchingExecutor$BlockableBatch$$anonfun$run$1.apply(BatchingExecutor.scala:91)
2020-11-24T08:18:15.0357682Z 	at scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:72)
2020-11-24T08:18:15.0358133Z 	at akka.dispatch.BatchingExecutor$BlockableBatch.run(BatchingExecutor.scala:90)
2020-11-24T08:18:15.0358661Z 	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40)
2020-11-24T08:18:15.0359167Z 	at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:44)
2020-11-24T08:18:15.0359662Z 	at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
2020-11-24T08:18:15.0360113Z 	at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
2020-11-24T08:18:15.0360575Z 	at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
2020-11-24T08:18:15.0361019Z 	at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
2020-11-24T08:18:15.0361599Z Caused by: org.apache.flink.runtime.JobException: Recovery is suppressed by FixedDelayRestartBackoffTimeStrategy(maxNumberRestartAttempts=5, backoffTimeMS=100)
2020-11-24T08:18:15.0362291Z 	at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)
2020-11-24T08:18:15.0363012Z 	at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)
2020-11-24T08:18:15.0450920Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:224)
2020-11-24T08:18:15.0451758Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:217)
2020-11-24T08:18:15.0512154Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:208)
2020-11-24T08:18:15.0512781Z 	at org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:534)
2020-11-24T08:18:15.0513330Z 	at org.apache.flink.runtime.scheduler.SchedulerNG.updateTaskExecutionState(SchedulerNG.java:89)
2020-11-24T08:18:15.0513856Z 	at org.apache.flink.runtime.jobmaster.JobMaster.updateTaskExecutionState(JobMaster.java:419)
2020-11-24T08:18:15.0514482Z 	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
2020-11-24T08:18:15.0514986Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2020-11-24T08:18:15.0515459Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2020-11-24T08:18:15.0516031Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcInvocation(AkkaRpcActor.java:286)
2020-11-24T08:18:15.0516566Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:201)
2020-11-24T08:18:15.0517102Z 	at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)
2020-11-24T08:18:15.0517625Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:154)
2020-11-24T08:18:15.0518095Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)
2020-11-24T08:18:15.0518622Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)
2020-11-24T08:18:15.0519204Z 	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:123)
2020-11-24T08:18:15.0519830Z 	at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)
2020-11-24T08:18:15.0520684Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)
2020-11-24T08:18:15.0521691Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2020-11-24T08:18:15.0522688Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2020-11-24T08:18:15.0523629Z 	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:517)
2020-11-24T08:18:15.0524469Z 	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)
2020-11-24T08:18:15.0525164Z 	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)
2020-11-24T08:18:15.0525987Z 	at akka.actor.ActorCell.invoke(ActorCell.scala:561)
2020-11-24T08:18:15.0526783Z 	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)
2020-11-24T08:18:15.0527490Z 	at akka.dispatch.Mailbox.run(Mailbox.scala:225)
2020-11-24T08:18:15.0528118Z 	at akka.dispatch.Mailbox.exec(Mailbox.scala:235)
2020-11-24T08:18:15.0528660Z 	... 4 more
2020-11-24T08:18:15.0529196Z Caused by: org.apache.flink.streaming.runtime.tasks.AsynchronousException: Unable to read channel state
2020-11-24T08:18:15.0530090Z 	at org.apache.flink.streaming.runtime.tasks.StreamTask$StreamTaskAsyncExceptionHandler.handleAsyncException(StreamTask.java:1108)
2020-11-24T08:18:15.0530968Z 	at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;$0(StreamTask.java:513)
2020-11-24T08:18:15.0531720Z 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
2020-11-24T08:18:15.0532423Z 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
2020-11-24T08:18:15.0533016Z 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
2020-11-24T08:18:15.0535340Z Caused by: java.io.IOException: Insufficient number of network buffers: required 1, but only 0 available. The total number of network buffers is currently set to 15 of 4096 bytes each. You can increase &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; number by setting the configuration keys &lt;span class=&quot;code-quote&quot;&gt;&apos;taskmanager.memory.network.fraction&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;taskmanager.memory.network.min&apos;&lt;/span&gt;, and &lt;span class=&quot;code-quote&quot;&gt;&apos;taskmanager.memory.network.max&apos;&lt;/span&gt;.
2020-11-24T08:18:15.0536721Z 	at org.apache.flink.runtime.io.network.buffer.NetworkBufferPool.tryRedistributeBuffers(NetworkBufferPool.java:428)
2020-11-24T08:18:15.0565177Z 	at org.apache.flink.runtime.io.network.buffer.NetworkBufferPool.requestMemorySegments(NetworkBufferPool.java:166)
2020-11-24T08:18:15.0566283Z 	at org.apache.flink.runtime.io.network.buffer.NetworkBufferPool.requestMemorySegments(NetworkBufferPool.java:60)
2020-11-24T08:18:15.0567288Z 	at org.apache.flink.runtime.io.network.partition.consumer.BufferManager.requestExclusiveBuffers(BufferManager.java:131)
2020-11-24T08:18:15.0568367Z 	at org.apache.flink.runtime.io.network.partition.consumer.RecoveredInputChannel.requestBufferBlocking(RecoveredInputChannel.java:226)
2020-11-24T08:18:15.0569349Z 	at org.apache.flink.runtime.checkpoint.channel.InputChannelRecoveredStateHandler.getBuffer(RecoveredChannelStateHandler.java:60)
2020-11-24T08:18:15.0570313Z 	at org.apache.flink.runtime.checkpoint.channel.InputChannelRecoveredStateHandler.getBuffer(RecoveredChannelStateHandler.java:50)
2020-11-24T08:18:15.0571266Z 	at org.apache.flink.runtime.checkpoint.channel.ChannelStateChunkReader.readChunk(SequentialChannelStateReaderImpl.java:147)
2020-11-24T08:18:15.0572257Z 	at org.apache.flink.runtime.checkpoint.channel.SequentialChannelStateReaderImpl.readSequentially(SequentialChannelStateReaderImpl.java:89)
2020-11-24T08:18:15.0573281Z 	at org.apache.flink.runtime.checkpoint.channel.SequentialChannelStateReaderImpl.read(SequentialChannelStateReaderImpl.java:78)
2020-11-24T08:18:15.0574468Z 	at org.apache.flink.runtime.checkpoint.channel.SequentialChannelStateReaderImpl.readInputData(SequentialChannelStateReaderImpl.java:63)
2020-11-24T08:18:15.0575364Z 	at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;$0(StreamTask.java:511)
2020-11-24T08:18:15.0575882Z 	... 3 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13342489">FLINK-20328</key>
            <summary>UnalignedCheckpointITCase.execute failed with &quot;Insufficient number of network buffers: required 1, but only 0 available&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="arvid">Arvid Heise</assignee>
                                    <reporter username="dian.fu">Dian Fu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Wed, 25 Nov 2020 01:33:23 +0000</created>
                <updated>Tue, 22 Jun 2021 14:05:07 +0000</updated>
                            <resolved>Wed, 25 Nov 2020 12:15:13 +0000</resolved>
                                    <version>1.12.0</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>Runtime / Checkpointing</component>
                    <component>Runtime / Network</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17238451" author="dian.fu" created="Wed, 25 Nov 2020 01:59:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10059&amp;amp;view=logs&amp;amp;j=baf26b34-3c6a-54e8-f93f-cf269b32f802&amp;amp;t=6dff16b1-bf54-58f3-23c6-76282f49a185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10059&amp;amp;view=logs&amp;amp;j=baf26b34-3c6a-54e8-f93f-cf269b32f802&amp;amp;t=6dff16b1-bf54-58f3-23c6-76282f49a185&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17238452" author="dian.fu" created="Wed, 25 Nov 2020 02:00:23 +0000"  >&lt;p&gt;Upgrade to &quot;Blocker&quot; before we figure out the root cause of this problem.&lt;/p&gt;
</comment>
                            <comment id="17238486" author="jark" created="Wed, 25 Nov 2020 03:33:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10056&amp;amp;view=logs&amp;amp;j=5c8e7682-d68f-54d1-16a2-a09310218a49&amp;amp;t=f508e270-48d6-5f1e-3138-42a17e0714f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10056&amp;amp;view=logs&amp;amp;j=5c8e7682-d68f-54d1-16a2-a09310218a49&amp;amp;t=f508e270-48d6-5f1e-3138-42a17e0714f0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17238487" author="jark" created="Wed, 25 Nov 2020 03:34:37 +0000"  >&lt;p&gt;This seems rather frequent. I upgrade to &quot;Blocker&quot;.&lt;/p&gt;</comment>
                            <comment id="17238712" author="arvid" created="Wed, 25 Nov 2020 12:15:05 +0000"  >&lt;p&gt;Merged into master as 9902c4f22a1bfd734a02dbca21d8ce161436d7a2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0kwqw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>