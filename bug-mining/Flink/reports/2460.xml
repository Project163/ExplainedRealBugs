<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:33:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-9398] Flink CLI list running job returns all jobs except in CREATE state</title>
                <link>https://issues.apache.org/jira/browse/FLINK-9398</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;See: &lt;a href=&quot;https://github.com/apache/flink/blob/4922ced71a307a26b9f5070b41f72fd5d93b0ac8/flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java#L437-L445&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/4922ced71a307a26b9f5070b41f72fd5d93b0ac8/flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java#L437-L445&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Seems like CLI command: &lt;b&gt;flink list -r&lt;/b&gt; returns all jobs except jobs in &lt;b&gt;CREATE&lt;/b&gt; state. which conflicts with the CLI description: &lt;b&gt;Running/Restarting Jobs&lt;/b&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13160233">FLINK-9398</key>
            <summary>Flink CLI list running job returns all jobs except in CREATE state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rongr">Rong Rong</assignee>
                                    <reporter username="rongr">Rong Rong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 May 2018 01:43:18 +0000</created>
                <updated>Thu, 19 Sep 2019 19:18:03 +0000</updated>
                            <resolved>Tue, 12 Jun 2018 09:37:28 +0000</resolved>
                                    <version>1.4.0</version>
                    <version>1.5.0</version>
                    <version>1.6.0</version>
                                    <fixVersion>1.4.3</fixVersion>
                    <fixVersion>1.5.1</fixVersion>
                    <fixVersion>1.6.0</fixVersion>
                                    <component>Command Line Client</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16480670" author="rongr" created="Fri, 18 May 2018 13:48:34 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yanghua&quot; class=&quot;user-hover&quot; rel=&quot;yanghua&quot;&gt;yanghua&lt;/a&gt;, have you started working on this task? &lt;/p&gt;

&lt;p&gt;I was hoping to get this in and work together with &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8985&quot; title=&quot;End-to-end test: CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8985&quot;&gt;&lt;del&gt;FLINK-8985&lt;/del&gt;&lt;/a&gt;. If you haven&apos;t started working on it, can I assign it to myself?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Rong&lt;/p&gt;</comment>
                            <comment id="16480791" author="yanghua" created="Fri, 18 May 2018 15:13:49 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=walterddr&quot; class=&quot;user-hover&quot; rel=&quot;walterddr&quot;&gt;walterddr&lt;/a&gt; I have not started this issue, I have released it, you can start this task.&lt;/p&gt;</comment>
                            <comment id="16482080" author="githubbot" created="Sun, 20 May 2018 23:46:31 +0000"  >&lt;p&gt;GitHub user walterddr opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9398&quot; title=&quot;Flink CLI list running job returns all jobs except in CREATE state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9398&quot;&gt;&lt;del&gt;FLINK-9398&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Client&amp;#93;&lt;/span&gt; Fix CLI list running job returns all except scheduled jobs&lt;/p&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This PR fixes CLI command `bin/flink list -r` returning all except scheduled jobs.&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Change the behavior of `bin/flink list` to&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adding in a `-a` option to list all jobs. Including `CREATED`, `RUNNING` &amp;amp; `RESTARTING`&lt;/li&gt;
	&lt;li&gt;Fixing `-r` option to list only `RUNNING` and `RESTARTING`.&lt;/li&gt;
	&lt;li&gt;Internally map `-a` with `other` job type so it won&apos;t affect the behavior of explicit listing options when adding other options to `list` command.&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This change added tests and can be verified as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added unit-test to verify `-a` options.&lt;/li&gt;
	&lt;li&gt;Added `ListOptions` unit-test suite which never existed before.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): no&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? yes&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? documented in `cli.md`&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/walterddr/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/walterddr/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9398&quot; title=&quot;Flink CLI list running job returns all jobs except in CREATE state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9398&quot;&gt;&lt;del&gt;FLINK-9398&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #6049&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d742f3ec5ffd4b411162db234e108a496a4f5aaa&lt;br/&gt;
Author: Rong Rong &amp;lt;walter_ddr@...&amp;gt;&lt;br/&gt;
Date:   2018-05-20T14:29:56Z&lt;/p&gt;

&lt;p&gt;    fix CLI list options showing all jobs instead of just running / restarting jobs&lt;/p&gt;

&lt;p&gt;commit e6d827700427a3f31a699ff02cb5b9906715c629&lt;br/&gt;
Author: Rong Rong &amp;lt;walter_ddr@...&amp;gt;&lt;br/&gt;
Date:   2018-05-20T23:45:18Z&lt;/p&gt;

&lt;p&gt;    adding in documentation for list all jobs option&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16483604" author="githubbot" created="Tue, 22 May 2018 07:48:19 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r189803747&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r189803747&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -394,29 +394,33 @@ protected void list(String[] args) throws Exception {&lt;/p&gt;

&lt;p&gt;     		final boolean running;&lt;br/&gt;
     		final boolean scheduled;&lt;br/&gt;
    +		final boolean other;&lt;/p&gt;

&lt;p&gt;     		// print running and scheduled jobs if not option supplied&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (!listOptions.getRunning() &amp;amp;&amp;amp; !listOptions.getScheduled()) {&lt;br/&gt;
    +		if (!listOptions.getRunning() &amp;amp;&amp;amp; !listOptions.getScheduled() &amp;amp;&amp;amp; !listOptions.getOther()) 
{
     			running = true;
     			scheduled = true;
    +			other = false;
     		}
&lt;p&gt; else &lt;/p&gt;
{
     			running = listOptions.getRunning();
     			scheduled = listOptions.getScheduled();
    +			other = listOptions.getOther();
     		}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     		final CustomCommandLine&amp;lt;?&amp;gt; activeCommandLine = getActiveCustomCommandLine(commandLine);&lt;/p&gt;

&lt;p&gt;     		runClusterAction(&lt;br/&gt;
     			activeCommandLine,&lt;br/&gt;
     			commandLine,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;clusterClient -&amp;gt; listJobs(clusterClient, running, scheduled));&lt;br/&gt;
    +			clusterClient -&amp;gt; listJobs(clusterClient, running, scheduled, other));&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     	}&lt;/p&gt;

&lt;p&gt;     	private &amp;lt;T&amp;gt; void listJobs(&lt;br/&gt;
     			ClusterClient&amp;lt;T&amp;gt; clusterClient,&lt;br/&gt;
     			boolean running,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;boolean scheduled) throws FlinkException {&lt;br/&gt;
    +			boolean scheduled,&lt;br/&gt;
    +			boolean other) throws FlinkException {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    rename to `showRemaining`&lt;/p&gt;</comment>
                            <comment id="16483605" author="githubbot" created="Tue, 22 May 2018 07:48:20 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r189804643&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r189804643&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/ListOptions.java &amp;#8212;&lt;br/&gt;
    @@ -30,11 +31,13 @@&lt;/p&gt;

&lt;p&gt;     	private final boolean running;&lt;br/&gt;
     	private final boolean scheduled;&lt;br/&gt;
    +	private final boolean other;&lt;/p&gt;

&lt;p&gt;     	public ListOptions(CommandLine line) {&lt;br/&gt;
     		super(line);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.running = line.hasOption(RUNNING_OPTION.getOpt());&lt;/li&gt;
	&lt;li&gt;this.scheduled = line.hasOption(SCHEDULED_OPTION.getOpt());&lt;br/&gt;
    +		this.other = line.hasOption(ALL_OPTION.getOpt());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    rename to `showAll`&lt;/p&gt;</comment>
                            <comment id="16483606" author="githubbot" created="Tue, 22 May 2018 07:48:20 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r189803645&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r189803645&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -436,11 +440,15 @@ protected void list(String[] args) throws Exception {&lt;/p&gt;

&lt;p&gt;     		final List&amp;lt;JobStatusMessage&amp;gt; runningJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
     		final List&amp;lt;JobStatusMessage&amp;gt; scheduledJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
    +		final List&amp;lt;JobStatusMessage&amp;gt; otherJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    rename to `remainingJobs`&lt;/p&gt;</comment>
                            <comment id="16483922" author="githubbot" created="Tue, 22 May 2018 13:16:53 +0000"  >&lt;p&gt;Github user walterddr commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zentol yeah, I totally agree with the naming issue and just updated with a more clear `ListOptions` definitions. Please take another look. &lt;/p&gt;

&lt;p&gt;    Thanks&lt;/p&gt;</comment>
                            <comment id="16500037" author="githubbot" created="Mon, 4 Jun 2018 10:49:37 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r192696972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r192696972&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -436,15 +440,19 @@ protected void list(String[] args) throws Exception {&lt;/p&gt;

&lt;p&gt;     		final List&amp;lt;JobStatusMessage&amp;gt; runningJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
     		final List&amp;lt;JobStatusMessage&amp;gt; scheduledJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
    +		final List&amp;lt;JobStatusMessage&amp;gt; remainingJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
     		jobDetails.forEach(details -&amp;gt; {&lt;br/&gt;
     			if (details.getJobState() == JobStatus.CREATED) &lt;/p&gt;
{
     				scheduledJobs.add(details);
    -			}
&lt;p&gt; else &lt;/p&gt;
{
    +			}
&lt;p&gt; else if (details.getJobState() == JobStatus.RUNNING&lt;br/&gt;
    +				|| details.getJobState() == JobStatus.RESTARTING)&lt;/p&gt;
{
     				runningJobs.add(details);
    +			}
&lt;p&gt; else &lt;/p&gt;
{
    +				remainingJobs.add(details);
     			}
&lt;p&gt;     		});&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (running) {&lt;br/&gt;
    +		if (showRunning) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    after the change in `ListOptions`: `showRunning || showAll`&lt;/p&gt;</comment>
                            <comment id="16500038" author="githubbot" created="Mon, 4 Jun 2018 10:49:37 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r192696977&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r192696977&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -459,7 +467,7 @@ protected void list(String[] args) throws Exception &lt;/p&gt;
{
     				System.out.println(&quot;--------------------------------------------------------------&quot;);
     			}
&lt;p&gt;     		}&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (scheduled) {&lt;br/&gt;
    +		if (showScheduled) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    after the change in `ListOptions`: `showScheduled || showAll`&lt;/p&gt;</comment>
                            <comment id="16500039" author="githubbot" created="Mon, 4 Jun 2018 10:49:37 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r192696608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r192696608&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -436,15 +440,19 @@ protected void list(String[] args) throws Exception {&lt;/p&gt;

&lt;p&gt;     		final List&amp;lt;JobStatusMessage&amp;gt; runningJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
     		final List&amp;lt;JobStatusMessage&amp;gt; scheduledJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
    +		final List&amp;lt;JobStatusMessage&amp;gt; remainingJobs = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
     		jobDetails.forEach(details -&amp;gt; {&lt;br/&gt;
     			if (details.getJobState() == JobStatus.CREATED) &lt;/p&gt;
{
     				scheduledJobs.add(details);
    -			}
&lt;p&gt; else &lt;/p&gt;
{
    +			}
&lt;p&gt; else if (details.getJobState() == JobStatus.RUNNING&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    use `JobStatus#isGloballyTerminalState` instead. This covers all cases where a job can still be considered running.&lt;/p&gt;</comment>
                            <comment id="16500040" author="githubbot" created="Mon, 4 Jun 2018 10:49:37 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r192697261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r192697261&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/ListOptions.java &amp;#8212;&lt;br/&gt;
    @@ -28,20 +29,26 @@&lt;br/&gt;
      */&lt;br/&gt;
     public class ListOptions extends CommandLineOptions {&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final boolean running;&lt;/li&gt;
	&lt;li&gt;private final boolean scheduled;&lt;br/&gt;
    +	private final boolean showRunning;&lt;br/&gt;
    +	private final boolean showScheduled;&lt;br/&gt;
    +	private final boolean showAll;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     	public ListOptions(CommandLine line) {&lt;br/&gt;
     		super(line);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.running = line.hasOption(RUNNING_OPTION.getOpt());&lt;/li&gt;
	&lt;li&gt;this.scheduled = line.hasOption(SCHEDULED_OPTION.getOpt());&lt;br/&gt;
    +		this.showAll = line.hasOption(ALL_OPTION.getOpt());&lt;br/&gt;
    +		this.showRunning = line.hasOption(RUNNING_OPTION.getOpt()) || this.showAll;&lt;br/&gt;
    +		this.showScheduled = line.hasOption(SCHEDULED_OPTION.getOpt()) || this.showAll;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I would prefer this class being a dumb getter and having the OR logic in CLIFrontend.&lt;br/&gt;
    This class is just a representation of what was configured, and I would leave the interpretation up to the using classes.&lt;/p&gt;</comment>
                            <comment id="16500041" author="githubbot" created="Mon, 4 Jun 2018 10:49:37 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r192699721&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r192699721&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -474,6 +482,19 @@ protected void list(String[] args) throws Exception &lt;/p&gt;
{
     				System.out.println(&quot;--------------------------------------------------------------&quot;);
     			}
&lt;p&gt;     		}&lt;br/&gt;
    +		if (showRemaining) {&lt;br/&gt;
    +			if (remainingJobs.size() != 0) {&lt;br/&gt;
    +				remainingJobs.sort(startTimeComparator);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    given the existing pattern of separating by `JobStatus` we may want to do the same for the remaining jobs.&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    runningJobs.stream().collect(Collectors.groupingBy(JobStatusMessage::getJobState))&lt;br/&gt;
    					.entrySet().stream().sorted(&amp;lt;sort by JobStatus&amp;gt;)&lt;br/&gt;
    					.map(Map.Entry::getValue).flatMap(List::stream).sorted(&amp;lt;sort by timestamp&amp;gt;).forEachOrdered(&amp;lt;print&amp;gt;);&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16500362" author="githubbot" created="Mon, 4 Jun 2018 15:17:21 +0000"  >&lt;p&gt;Github user walterddr commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r192778560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r192778560&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -474,6 +482,19 @@ protected void list(String[] args) throws Exception &lt;/p&gt;
{
     				System.out.println(&quot;--------------------------------------------------------------&quot;);
     			}
&lt;p&gt;     		}&lt;br/&gt;
    +		if (showRemaining) {&lt;br/&gt;
    +			if (remainingJobs.size() != 0) {&lt;br/&gt;
    +				remainingJobs.sort(startTimeComparator);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Thanks for the reply @zentol , I wasn&apos;t sure I fully understand this comment. Are you suggesting that we should always group jobs with same status together during print for all 3 cases?&lt;/p&gt;</comment>
                            <comment id="16500677" author="githubbot" created="Mon, 4 Jun 2018 18:27:18 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049#discussion_r192837393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049#discussion_r192837393&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-clients/src/main/java/org/apache/flink/client/cli/CliFrontend.java &amp;#8212;&lt;br/&gt;
    @@ -474,6 +482,19 @@ protected void list(String[] args) throws Exception &lt;/p&gt;
{
     				System.out.println(&quot;--------------------------------------------------------------&quot;);
     			}
&lt;p&gt;     		}&lt;br/&gt;
    +		if (showRemaining) {&lt;br/&gt;
    +			if (remainingJobs.size() != 0) {&lt;br/&gt;
    +				remainingJobs.sort(startTimeComparator);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    only for the last case, specifically this would separate `FAILED`, `COMPLETED` and `CANCELED` jobs.&lt;/p&gt;

&lt;p&gt;    That said the other sections aren&apos;t that fine-grained either. That reminds me, we could name the last section `terminated` instead of `remaining`.&lt;/p&gt;</comment>
                            <comment id="16501864" author="githubbot" created="Tue, 5 Jun 2018 14:27:28 +0000"  >&lt;p&gt;Github user walterddr commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the comment @zentol . I actually thought about it and think we should group same jobs status listings together, there are also some other non-terminating states as well. Regarding the user-facing change to whether use `-t` (terminated) or `-a` (all). I lean towards using `-a`, but internally we named them terminated. Later on we can easily add supports like `finished` `cancelled` etc if necessary. What do you think?&lt;/p&gt;</comment>
                            <comment id="16507955" author="zentol" created="Mon, 11 Jun 2018 12:17:00 +0000"  >&lt;p&gt;1.4: 021266719f2a7699e355d16462c255de54c1546a&lt;/p&gt;</comment>
                            <comment id="16509402" author="zentol" created="Tue, 12 Jun 2018 09:37:28 +0000"  >&lt;p&gt;master: a2a85bcb3cdb5202055984604f45809260787fd5&lt;br/&gt;
1.5: 470691145bf67b60e07e5ed5ec302c8525689fee&lt;/p&gt;</comment>
                            <comment id="16509413" author="githubbot" created="Tue, 12 Jun 2018 09:39:14 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6049&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13169745">FLINK-9711</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13108286">FLINK-7791</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tva7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>