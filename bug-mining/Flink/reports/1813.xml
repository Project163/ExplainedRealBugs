<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7012] remove user-JAR upload when disposing a savepoint the old way</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7012</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Inside &lt;tt&gt;CliFrontend#disposeSavepoint()&lt;/tt&gt;, user JAR files are being uploaded to the &lt;tt&gt;BlobServer&lt;/tt&gt; but they are actually not used (also also not cleaned up) in the job manager&apos;s handling of the &lt;tt&gt;DisposeSavepoint&lt;/tt&gt; message.&lt;/p&gt;

&lt;p&gt;Since removing new savepoints is as simple as deleting files and old savepoints have always worked without these user JARs, we should remove the upload to be able to make the JAR file upload jobId-dependent for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6916&quot; title=&quot;FLIP-19: Improved BLOB storage architecture&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6916&quot;&gt;&lt;del&gt;FLINK-6916&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13082772">FLINK-7012</key>
            <summary>remove user-JAR upload when disposing a savepoint the old way</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkruber">Nico Kruber</assignee>
                                    <reporter username="nkruber">Nico Kruber</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jun 2017 10:13:33 +0000</created>
                <updated>Mon, 3 Jul 2017 13:48:32 +0000</updated>
                            <resolved>Mon, 3 Jul 2017 13:47:54 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Command Line Client</component>
                    <component>Runtime / State Backends</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16071971" author="till.rohrmann" created="Mon, 3 Jul 2017 06:30:34 +0000"  >&lt;p&gt;If I&apos;m not mistaken, then this issue is being addressed as part of &lt;a href=&quot;https://github.com/apache/flink/pull/4238&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4238&lt;/a&gt;. Would be great to not mix different issues into one PR and instead opening separate PRs for separate issues. This makes it easier to review changes and to keep track of them.&lt;/p&gt;</comment>
                            <comment id="16072107" author="nicok" created="Mon, 3 Jul 2017 08:26:21 +0000"  >&lt;p&gt;oh - did I forget to create a (separate) PR for this? - I meant to do this...creating one now&lt;/p&gt;</comment>
                            <comment id="16072114" author="githubbot" created="Mon, 3 Jul 2017 08:37:21 +0000"  >&lt;p&gt;GitHub user NicoK opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4245&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4245&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7012&quot; title=&quot;remove user-JAR upload when disposing a savepoint the old way&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7012&quot;&gt;&lt;del&gt;FLINK-7012&lt;/del&gt;&lt;/a&gt; remove user-JAR upload when disposing a savepoint the old way&lt;/p&gt;

&lt;p&gt;    Inside `CliFrontend#disposeSavepoint()`, user JAR files are being uploaded to the `BlobServer` but they are actually not used (also also not cleaned up) in the job manager&apos;s handling of the `DisposeSavepoint` message.&lt;/p&gt;

&lt;p&gt;    Since removing new savepoints is as simple as deleting files and old savepoints have always worked without these user JARs, we should remove the upload to be able to make the JAR file upload jobId-dependent for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6916&quot; title=&quot;FLIP-19: Improved BLOB storage architecture&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6916&quot;&gt;&lt;del&gt;FLINK-6916&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/NicoK/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/NicoK/flink&lt;/a&gt; flink-7012&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4245.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4245.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4245&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b0cee0b6d95e0ed3c9bc005dfeaf34c5cdef7604&lt;br/&gt;
Author: Nico Kruber &amp;lt;nico@data-artisans.com&amp;gt;&lt;br/&gt;
Date:   2017-06-27T10:14:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7012&quot; title=&quot;remove user-JAR upload when disposing a savepoint the old way&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7012&quot;&gt;&lt;del&gt;FLINK-7012&lt;/del&gt;&lt;/a&gt; remove user-JAR upload when disposing a savepoint the old way&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16072343" author="githubbot" created="Mon, 3 Jul 2017 12:25:07 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4245&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4245&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Good catch @NicoK. LGTM. Failing test case is unrelated. +1 for merging.&lt;/p&gt;</comment>
                            <comment id="16072458" author="till.rohrmann" created="Mon, 3 Jul 2017 13:47:54 +0000"  >&lt;p&gt;Fixed via 236a345236b97a185393ba49875e8691298f5e26&lt;/p&gt;</comment>
                            <comment id="16072459" author="githubbot" created="Mon, 3 Jul 2017 13:48:32 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4245&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4245&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3grzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>