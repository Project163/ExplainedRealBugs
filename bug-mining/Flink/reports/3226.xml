<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:40:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-13741] &quot;SHOW FUNCTIONS&quot; should include Flink built-in functions&apos; names</title>
                <link>https://issues.apache.org/jira/browse/FLINK-13741</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently &quot;SHOW FUNCTIONS;&quot; only returns catalog functions and FunctionDefinitions registered in memory, but does not include Flink built-in functions&apos; names.&lt;/p&gt;

&lt;p&gt;AFAIK, it&apos;s standard for &quot;SHOW FUNCTIONS;&quot; to show all available functions for use in queries in SQL systems like Hive, Presto, Teradata, etc, thus it includes built-in functions naturally. Besides, &lt;tt&gt;FunctionCatalog.lookupFunction(name)&lt;/tt&gt; resolves calls to built-in functions, it&apos;s not feeling right to not displaying functions but can successfully resolve to them.&lt;/p&gt;

&lt;p&gt;It seems to me that the root cause is the call stack for &quot;SHOW FUNCTIONS;&quot; has been a bit messy - it calls &lt;tt&gt;tEnv.listUserDefinedFunctions()&lt;/tt&gt; which further calls &lt;tt&gt;FunctionCatalog.getUserDefinedFunctions()&lt;/tt&gt;, and I&apos;m not sure what&apos;s the intention of those two APIs. Are they dedicated to getting all functions, or just user defined functions excluding built-in ones?&lt;/p&gt;

&lt;p&gt;In the end, I believe &quot;SHOW FUNCTIONS;&quot; should display built-in functions. To achieve that, we either need to modify and/or rename existing APIs mentioned above, or add new APIs to return all functions from FunctionCatalog.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13251110">FLINK-13741</key>
            <summary>&quot;SHOW FUNCTIONS&quot; should include Flink built-in functions&apos; names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phoenixjiangnan">Bowen Li</assignee>
                                    <reporter username="phoenixjiangnan">Bowen Li</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 15 Aug 2019 22:47:10 +0000</created>
                <updated>Sun, 29 Sep 2019 07:17:35 +0000</updated>
                            <resolved>Wed, 21 Aug 2019 22:59:21 +0000</resolved>
                                    <version>1.9.0</version>
                                    <fixVersion>1.10.0</fixVersion>
                                    <component>Table SQL / API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16908703" author="phoenixjiangnan" created="Fri, 16 Aug 2019 04:45:49 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Terry1897&quot; class=&quot;user-hover&quot; rel=&quot;Terry1897&quot;&gt;Terry1897&lt;/a&gt;, I incorporate your comment into the JIRA&apos;s description.&lt;/p&gt;</comment>
                            <comment id="16908727" author="lirui" created="Fri, 16 Aug 2019 05:31:05 +0000"  >&lt;p&gt;+1 to include built-in functions for &lt;tt&gt;SHOW FUNCTIONS&lt;/tt&gt;. On the other hand, maybe it also makes sense to provide a method for users to only list user-defined functions?&lt;/p&gt;</comment>
                            <comment id="16908766" author="jark" created="Fri, 16 Aug 2019 06:05:18 +0000"  >&lt;p&gt;Regarding to the &lt;tt&gt;tEnv.listUserDefinedFunctions()&lt;/tt&gt;, I would like to keep it as is. Not only for compatibility purpose, but also it describe clearly from the method name and javadoc. Maybe we can add a new &lt;tt&gt;tEnv.listAllFunctions()&lt;/tt&gt; to list all functions including builtin ones.&lt;/p&gt;

&lt;p&gt;Regarding to the &lt;tt&gt;SHOW FUNCTIONS;&lt;/tt&gt; , I&apos;m fine with returning all functions. But do we need to provide a command to only return the registered functions? &lt;/p&gt;</comment>
                            <comment id="16908820" author="terry1897" created="Fri, 16 Aug 2019 07:36:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://docs.databricks.com/spark/latest/spark-sql/language-manual/show-functions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;spark sql show function syntax &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;SHOW &lt;span class=&quot;error&quot;&gt;&amp;#91;USER|SYSTEM|ALL&amp;#93;&lt;/span&gt; FUNCTIONS (&lt;span class=&quot;error&quot;&gt;&amp;#91;LIKE&amp;#93;&lt;/span&gt; regex | &lt;span class=&quot;error&quot;&gt;&amp;#91;db_name.&amp;#93;&lt;/span&gt;function_name)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://prestodb.github.io/docs/current/sql/show-functions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;presto sql show function syntax&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Simply use `SHOW FUNCTIONS` to list all the functions available for use in queries.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.snowflake.net/manuals/sql-reference/sql/show-user-functions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;snowflake sql&lt;/a&gt;&lt;br/&gt;
SHOW FUNCTIONS  Lists all the native (i.e. system-defined/built-in) scalar functions provided by Snowflake, as well as any UDFs that have been created for your account.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.snowflake.net/manuals/sql-reference/sql/show-functions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;snowflake sql&lt;/a&gt;&lt;br/&gt;
SHOW USER FUNCTIONS&lt;br/&gt;
Lists all user-defined functions (UDFs) for which you have access privileges. &lt;/p&gt;

&lt;p&gt;I prefer the spark sql way, and the default behavior is to show all functions, meanwhile, users can also query specific kind functions by indicating the &apos;show cope&apos;.&lt;br/&gt;
What do all your other guys think?&lt;/p&gt;</comment>
                            <comment id="16908896" author="twalthr" created="Fri, 16 Aug 2019 09:32:18 +0000"  >&lt;p&gt;I think we should start to align the TableEnvironment with SQL. So a &lt;tt&gt;listFunctions&lt;/tt&gt; with semantics similar to other SQL vendors makes sense to me. Once FunctionCatalog has been integrated into the catalog API and built-in functions are stored there as well, this should be easily doable. We should also introduce a syntax &lt;tt&gt;SHOW EXTENDED FUNCTION&lt;/tt&gt;? to list more useful information such as metadata with comment from the catalog.&lt;/p&gt;</comment>
                            <comment id="16908910" author="terry1897" created="Fri, 16 Aug 2019 09:53:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt; I appreciate the idea of introducing a new syntax like SHOW EXTENDED FUNCTION to show details of a specific one function&lt;/p&gt;</comment>
                            <comment id="16909015" author="phoenixjiangnan" created="Fri, 16 Aug 2019 12:29:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Terry1897&quot; class=&quot;user-hover&quot; rel=&quot;Terry1897&quot;&gt;Terry1897&lt;/a&gt; for the summary of existing systems!&lt;/p&gt;

&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt;, w.r.t. &quot;Once FunctionCatalog has been integrated into the catalog API and built-in functions are stored there as well, this should be easily doable.&quot;, currently &lt;tt&gt;FunctionCatalog&lt;/tt&gt; wraps &lt;tt&gt;CatalogManager&lt;/tt&gt; and builtin functions can be easily obtained&#160;thru&#160;&lt;tt&gt;BuiltInFunctionDefinitions.getDefinitions()&lt;/tt&gt;, thus my understanding is it&apos;s already doable, no?&lt;/p&gt;

&lt;p&gt;seems to me what need to be done is 1) add &lt;tt&gt;listFuntions()&lt;/tt&gt; API to TableEnvironment and FunctionCatalog 2) add new&#160;&lt;tt&gt;Executor.listFunctions()&lt;/tt&gt; API (I&apos;ll just keep &lt;tt&gt;Executor.listUserDefinedFunctions()&lt;/tt&gt; API for now in case we want to support showing UDFs only in the future) 3) make &lt;tt&gt;SHOW FUNCTIONS;&lt;/tt&gt; call&#160;&lt;tt&gt;executor.listFunctions()&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;W.r.t. &quot;We should also introduce a syntax SHOW EXTENDED FUNCTION&quot;, shall they be &lt;tt&gt;DESCRIBE FUNCTION &amp;lt;function_name&amp;gt;;&lt;/tt&gt; and &lt;tt&gt;DESCRIBE FUNCTION EXTENDED &amp;lt;function_name&amp;gt;;&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="16909226" author="xuefuz" created="Fri, 16 Aug 2019 17:05:14 +0000"  >&lt;p&gt;Thanks all for the inputs. I think we are pretty much aligned:&lt;/p&gt;

&lt;p&gt;1. SQL &quot;SHOW FUNCTIONS&quot; and tableEnv.listFunction() should include built-in functions. It would be nice to have some options for filtering, like what were suggested above, but missing it will not kill us right way. Most users to use this to see what are out there.&lt;/p&gt;

&lt;p&gt;2. Showing the details of a function is the job of &quot;DESCRIBE FUNCTION func&quot;. With &quot;EXTENDED&quot;, more info can be shown. &quot;SHOW FUNCTIONS&quot; just list the function names. This aligns with table/column/database.&lt;/p&gt;</comment>
                            <comment id="16909252" author="xuefuz" created="Fri, 16 Aug 2019 17:32:40 +0000"  >&lt;p&gt;Re: Once FunctionCatalog has been integrated into the catalog API and built-in functions are stored there as well.&lt;/p&gt;

&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt;, thanks for bringing this up. I think we briefly touched upon this before, but there wasn&apos;t consensus how we are going to do this. Thus, I look forward to the proposal. To me, certain logic in FunctionCatalog such as function resolution doesn&apos;t seem belonging to Catalog API, and I&apos;m also a little dubious about whether built-in functions need to be stored in a catalog. I think we can have more discussions once we get to it.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="16912757" author="phoenixjiangnan" created="Wed, 21 Aug 2019 22:59:21 +0000"  >&lt;p&gt;merged in master: ae8acd6c53bd925c99185db9d40721603fbf74a5&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13258440">FLINK-14179</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05ps0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>