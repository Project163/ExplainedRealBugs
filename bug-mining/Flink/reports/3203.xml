<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:40:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-13704] TPC-H end-to-end test (Blink planner) fails on Travis</title>
                <link>https://issues.apache.org/jira/browse/FLINK-13704</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;TPC-H&lt;/tt&gt; end-to-end test fails on Travis with the following problem:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running query #22...
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.flink.table.client.SqlClientException: Could not submit given SQL update statement to cluster.
	at org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:129)
	at org.apache.flink.table.client.SqlClient.start(SqlClient.java:105)
	at org.apache.flink.table.client.SqlClient.main(SqlClient.java:194)
[FAIL] Test script contains errors.
Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; errors...

org.apache.flink.table.client.gateway.SqlExecutionException: Invalid SQL update statement.
	at org.apache.flink.table.client.gateway.local.LocalExecutor.applyUpdate(LocalExecutor.java:539)
	at org.apache.flink.table.client.gateway.local.LocalExecutor.executeUpdateInternal(LocalExecutor.java:432)
	at org.apache.flink.table.client.gateway.local.LocalExecutor.executeUpdate(LocalExecutor.java:367)
	at org.apache.flink.table.client.cli.CliClient.callInsertInto(CliClient.java:496)
	at org.apache.flink.table.client.cli.CliClient.lambda$submitUpdate$0(CliClient.java:231)
	at java.util.Optional.map(Optional.java:215)
	at org.apache.flink.table.client.cli.CliClient.submitUpdate(CliClient.java:228)
	at org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:127)
	at org.apache.flink.table.client.SqlClient.start(SqlClient.java:105)
	at org.apache.flink.table.client.SqlClient.main(SqlClient.java:194)
Caused by: org.apache.flink.table.api.ValidationException: SQL validation failed. From line 13, column 10 to line 13, column 30: No match found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; function signature substr(&amp;lt;CHARACTER&amp;gt;, &amp;lt;NUMERIC&amp;gt;, &amp;lt;NUMERIC&amp;gt;)
	at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:125)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:82)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.convertSqlInsert(SqlToOperationConverter.java:154)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:89)
	at org.apache.flink.table.planner.delegation.PlannerBase.parse(PlannerBase.scala:130)
	at org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlUpdate(TableEnvironmentImpl.java:335)
	at org.apache.flink.table.api.java.internal.StreamTableEnvironmentImpl.sqlUpdate(StreamTableEnvironmentImpl.java:299)
	at org.apache.flink.table.client.gateway.local.LocalExecutor.lambda$applyUpdate$12(LocalExecutor.java:531)
	at org.apache.flink.table.client.gateway.local.ExecutionContext.wrapClassLoader(ExecutionContext.java:216)
	at org.apache.flink.table.client.gateway.local.LocalExecutor.applyUpdate(LocalExecutor.java:529)
	... 9 more
Caused by: org.apache.calcite.runtime.CalciteContextException: From line 13, column 10 to line 13, column 30: No match found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; function signature substr(&amp;lt;CHARACTER&amp;gt;, &amp;lt;NUMERIC&amp;gt;, &amp;lt;NUMERIC&amp;gt;)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:463)
	at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:824)
	at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:809)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.newValidationError(SqlValidatorImpl.java:4807)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.handleUnresolvedFunction(SqlValidatorImpl.java:1762)
	at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:273)
	at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:215)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5566)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5553)
	at org.apache.calcite.sql.SqlCall.accept(SqlCall.java:139)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveTypeImpl(SqlValidatorImpl.java:1680)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveType(SqlValidatorImpl.java:1665)
	at org.apache.calcite.sql.type.InferTypes.lambda$&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;$0(InferTypes.java:46)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.inferUnknownTypes(SqlValidatorImpl.java:1854)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.inferUnknownTypes(SqlValidatorImpl.java:1862)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.inferUnknownTypes(SqlValidatorImpl.java:1862)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateWhereOrOn(SqlValidatorImpl.java:4006)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateWhereClause(SqlValidatorImpl.java:3998)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3368)
	at org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)
	at org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:997)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:957)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3111)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3093)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3365)
	at org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)
	at org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:997)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:957)
	at org.apache.calcite.sql.SqlSelect.validate(SqlSelect.java:216)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateScopedExpression(SqlValidatorImpl.java:932)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validate(SqlValidatorImpl.java:639)
	at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:122)
	... 18 more
Caused by: org.apache.calcite.sql.validate.SqlValidatorException: No match found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; function signature substr(&amp;lt;CHARACTER&amp;gt;, &amp;lt;NUMERIC&amp;gt;, &amp;lt;NUMERIC&amp;gt;)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:463)
	at org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:572)
	... 51 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/570757857/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/570757857/log.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://api.travis-ci.org/v3/job/570757863/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/570757863/log.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://api.travis-ci.org/v3/job/570757869/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/570757869/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13250541">FLINK-13704</key>
            <summary>TPC-H end-to-end test (Blink planner) fails on Travis</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lzljs3620320">Jingsong Lee</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 13 Aug 2019 12:53:01 +0000</created>
                <updated>Thu, 15 Aug 2019 02:10:30 +0000</updated>
                            <resolved>Wed, 14 Aug 2019 04:35:16 +0000</resolved>
                                    <version>1.9.0</version>
                    <version>1.10.0</version>
                                    <fixVersion>1.9.1</fixVersion>
                    <fixVersion>1.10.0</fixVersion>
                                    <component>Table SQL / Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16906166" author="till.rohrmann" created="Tue, 13 Aug 2019 12:59:30 +0000"  >&lt;p&gt;More instances from the master cron job:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/570793224/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/570793224/log.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://api.travis-ci.org/v3/job/570793230/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/570793230/log.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://api.travis-ci.org/v3/job/570793236/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/570793236/log.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16906499" author="till.rohrmann" created="Tue, 13 Aug 2019 18:30:04 +0000"  >&lt;p&gt;How critical is this for the release &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ykt836&quot; class=&quot;user-hover&quot; rel=&quot;ykt836&quot;&gt;ykt836&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16906802" author="jark" created="Wed, 14 Aug 2019 02:10:12 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=till.rohrmann&quot; class=&quot;user-hover&quot; rel=&quot;till.rohrmann&quot;&gt;till.rohrmann&lt;/a&gt;, I&apos;m sorry for the issue. We didn&apos;t check the tpc-h e2e locally when merging &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13547&quot; title=&quot;Verify and correct string function&amp;#39;s semantic for Blink planner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13547&quot;&gt;&lt;del&gt;FLINK-13547&lt;/del&gt;&lt;/a&gt;. The reason of this issue is that tpch 22.q uses &lt;tt&gt;substr&lt;/tt&gt; function which we just removed in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13547&quot; title=&quot;Verify and correct string function&amp;#39;s semantic for Blink planner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13547&quot;&gt;&lt;del&gt;FLINK-13547&lt;/del&gt;&lt;/a&gt;. We removed &lt;tt&gt;substr&lt;/tt&gt; because we thought it can be covered by existing &lt;tt&gt;substring&lt;/tt&gt; function, and don&apos;t want to introduce too much functions at once. &lt;tt&gt;substr&lt;/tt&gt; is a synonyms for &lt;tt&gt;substring&lt;/tt&gt;, we only need to add back the function definition and reuse the implementation of &lt;tt&gt;substring&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;So, this issue is only about we need a new &lt;tt&gt;substr&lt;/tt&gt; function. It won&apos;t break any features we already provided. &lt;br/&gt;
The only concern is the sentence &quot;full TPC-H coverage for blink batch planner&quot; in the release note might be questioned. Because it failed in RC2...&lt;/p&gt;</comment>
                            <comment id="16906871" author="jark" created="Wed, 14 Aug 2019 04:35:16 +0000"  >&lt;p&gt;Fixed in master: 5a5966ba273b9ceb4ca2a87c77d3c5948e7717cc&lt;br/&gt;
Fixed in 1.9.1: 09a6aa96909c1e1f0b618d525a26dae8b69817cb&lt;/p&gt;</comment>
                            <comment id="16907046" author="till.rohrmann" created="Wed, 14 Aug 2019 09:01:39 +0000"  >&lt;p&gt;I&apos;d be ok with documenting this as a limitation. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; could you please update &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13547&quot; title=&quot;Verify and correct string function&amp;#39;s semantic for Blink planner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13547&quot;&gt;&lt;del&gt;FLINK-13547&lt;/del&gt;&lt;/a&gt; with a release note saying that &lt;tt&gt;substr&lt;/tt&gt; is not supported in 1.9.0. That way we include this note in the release notes which still needs to be created for the 1.9 release.&lt;/p&gt;</comment>
                            <comment id="16907759" author="jark" created="Thu, 15 Aug 2019 02:10:30 +0000"  >&lt;p&gt;Oh, I see that you have updated the release note in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13547&quot; title=&quot;Verify and correct string function&amp;#39;s semantic for Blink planner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13547&quot;&gt;&lt;del&gt;FLINK-13547&lt;/del&gt;&lt;/a&gt;. Thanks. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=till.rohrmann&quot; class=&quot;user-hover&quot; rel=&quot;till.rohrmann&quot;&gt;till.rohrmann&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13248507">FLINK-13547</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05m9s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>