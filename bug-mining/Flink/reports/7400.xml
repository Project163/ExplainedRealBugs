<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:19:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-33960] Adaptive Scheduler doesn&apos;t respect the lowerBound for tasks</title>
                <link>https://issues.apache.org/jira/browse/FLINK-33960</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Adaptive Scheduler doesn&apos;t respect the lowerBound for tasks when one flink job has more than 1 tasks.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;When we using the adaptive scheduler and the rescale api, users will set the lowerBound and upperBound for each job vertices. And users expect the parallelism of all vertices between lowerBound and upperBound.&lt;/p&gt;

&lt;p&gt;But when one flink job&#160; has more than 1 vertex, and resource isn&apos;t enough. Some of lowerBound won&apos;t be respect.&lt;/p&gt;
&lt;h2&gt;&lt;a name=&quot;Howtoreproducethisbug%3A&quot;&gt;&lt;/a&gt;How to reproduce this bug:&lt;/h2&gt;

&lt;p&gt;One job has 2 job vertices, we set the resource requirements are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Vertex1: lowerBound=2, upperBound=2&lt;/li&gt;
	&lt;li&gt;Vertex2: lowerBound=8, upperBound=8&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;They are same slotSharingGroup, and we only 5 available slots. This job shouldn&apos;t run due to the slots cannot meets the resource requiremnt for vertex2.&lt;/p&gt;

&lt;p&gt;But the job can runs, and the parallelism of vertex2 is 5.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;h2&gt;&lt;a name=&quot;Whydoesthis%C2%A0bughappen%3F&quot;&gt;&lt;/a&gt;Why does this&#160; bug happen?&lt;/h2&gt;

&lt;p&gt;Flink calculates the minimumRequiredSlots for each slot sharing group, it should be the &lt;font color=&quot;#FF0000&quot;&gt;max&lt;/font&gt; lowerBound for all vertices of current slot sharing group.&lt;/p&gt;

&lt;p&gt;But it&apos;s using the on the &lt;font color=&quot;#FF0000&quot;&gt;minimum&lt;/font&gt; lowerBound.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13563264">FLINK-33960</key>
            <summary>Adaptive Scheduler doesn&apos;t respect the lowerBound for tasks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fanrui">Rui Fan</assignee>
                                    <reporter username="fanrui">Rui Fan</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 1 Jan 2024 03:12:58 +0000</created>
                <updated>Sun, 18 Feb 2024 09:38:44 +0000</updated>
                            <resolved>Sun, 18 Feb 2024 09:38:44 +0000</resolved>
                                    <version>1.17.2</version>
                    <version>1.18.1</version>
                                    <fixVersion>1.19.0</fixVersion>
                    <fixVersion>1.18.2</fixVersion>
                    <fixVersion>1.20.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17815475" author="fanrui" created="Thu, 8 Feb 2024 02:10:56 +0000"  >&lt;p&gt;Merged to:&lt;/p&gt;

&lt;p&gt;master(1.20) via: 777e96f0fbd90e5a45366c0fd54bda85dc813b94 and 71336d6c874cd3e4da3b694e22df132dff51a6a8&lt;/p&gt;

&lt;p&gt;1.19 via: 891a9755eba1ba1be7598c35e8b3060dbf28b482 and d039c6f8ace1861517064779999bfa95ac312218&lt;/p&gt;

&lt;p&gt;1.18 via: ae8f8b1eb839dff388f3435a3d16e0db33e1e41e and 6cd71506fe474eca3b02fbb064912fba9f242b94&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mi80:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>