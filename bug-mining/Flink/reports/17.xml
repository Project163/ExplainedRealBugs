<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-949] ChannelManager startup exception not reported in TaskManager</title>
                <link>https://issues.apache.org/jira/browse/FLINK-949</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;While debugging a problem with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;, we noticded that exception in the constructor of the &lt;tt&gt;ChannelManager&lt;/tt&gt; are not properly forwarded to the &lt;tt&gt;TaskManager&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The concrete problem was the following: num network buffers was misconfigured and tried to allocate more memory than available on the machine. The respective exception was hiden in the stdout file instead of the log.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12722230">FLINK-949</key>
            <summary>ChannelManager startup exception not reported in TaskManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uce">Ufuk Celebi</assignee>
                                    <reporter username="uce">Ufuk Celebi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jun 2014 14:39:28 +0000</created>
                <updated>Wed, 25 Jun 2014 10:09:24 +0000</updated>
                            <resolved>Wed, 25 Jun 2014 10:09:24 +0000</resolved>
                                    <version>pre-apache-0.5.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14037103" author="githubbot" created="Thu, 19 Jun 2014 08:09:58 +0000"  >&lt;p&gt;GitHub user uce opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/28&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-949&quot; title=&quot;ChannelManager startup exception not reported in TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-949&quot;&gt;&lt;del&gt;FLINK-949&lt;/del&gt;&lt;/a&gt; Properly report GlobalBufferPool OutOfMemoryError to TaskManager&lt;/p&gt;

&lt;p&gt;    This is &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-949&quot; title=&quot;ChannelManager startup exception not reported in TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-949&quot;&gt;&lt;del&gt;FLINK-949&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-949&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-949&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;    Travis seems to have problems with downloading dependencies from Maven central and hence the &lt;span class=&quot;error&quot;&gt;&amp;#91;builds fail/timeout&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://travis-ci.org/uce/incubator-flink/builds/27917216&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/uce/incubator-flink/builds/27917216&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/uce/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/incubator-flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-949&quot; title=&quot;ChannelManager startup exception not reported in TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-949&quot;&gt;&lt;del&gt;FLINK-949&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/28.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/28.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #28&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit be9f132ec538fba72f9f80cb7aaadf67d845504a&lt;br/&gt;
Author: uce &amp;lt;u.celebi@fu-berlin.de&amp;gt;&lt;br/&gt;
Date:   2014-06-19T00:42:03Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-949&quot; title=&quot;ChannelManager startup exception not reported in TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-949&quot;&gt;&lt;del&gt;FLINK-949&lt;/del&gt;&lt;/a&gt; Properly report GlobalBufferPool OutOfMemoryError to TaskManager&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14037267" author="githubbot" created="Thu, 19 Jun 2014 11:44:58 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/28#issuecomment-46550620&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/28#issuecomment-46550620&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good. &lt;br/&gt;
    Have you tested if the exceptions are properly thrown?&lt;/p&gt;</comment>
                            <comment id="14037269" author="githubbot" created="Thu, 19 Jun 2014 11:49:46 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/28#issuecomment-46550964&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/28#issuecomment-46550964&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This is what you get:&lt;/p&gt;

&lt;p&gt;    ```java&lt;br/&gt;
    java.lang.Exception: Cannot instantiate local instance manager: Failed to instantiate ChannelManager.&lt;br/&gt;
    	at eu.stratosphere.nephele.jobmanager.JobManager.&amp;lt;init&amp;gt;(JobManager.java:223)&lt;br/&gt;
    	at eu.stratosphere.client.minicluster.NepheleMiniCluster.start(NepheleMiniCluster.java:197)&lt;br/&gt;
    	at eu.stratosphere.test.util.AbstractTestBase.startCluster(AbstractTestBase.java:96)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
    	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)&lt;br/&gt;
    	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
    	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)&lt;br/&gt;
    	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)&lt;br/&gt;
    	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)&lt;br/&gt;
    	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)&lt;br/&gt;
    	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)&lt;br/&gt;
    	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)&lt;br/&gt;
    	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)&lt;br/&gt;
    	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)&lt;br/&gt;
    	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)&lt;br/&gt;
    	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)&lt;br/&gt;
    	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)&lt;br/&gt;
    	at org.junit.runner.JUnitCore.run(JUnitCore.java:157)&lt;br/&gt;
    	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)&lt;br/&gt;
    	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:202)&lt;br/&gt;
    	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:65)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
    	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)&lt;br/&gt;
    Caused by: java.lang.Exception: Failed to instantiate ChannelManager.&lt;br/&gt;
    	at eu.stratosphere.nephele.taskmanager.TaskManager.&amp;lt;init&amp;gt;(TaskManager.java:328)&lt;br/&gt;
    	at eu.stratosphere.nephele.instance.local.LocalInstanceManager.&amp;lt;init&amp;gt;(LocalInstanceManager.java:170)&lt;br/&gt;
    	at eu.stratosphere.nephele.jobmanager.JobManager.&amp;lt;init&amp;gt;(JobManager.java:221)&lt;br/&gt;
    	... 28 more&lt;br/&gt;
    Caused by: java.io.IOException: Failed to instantiate GlobalBufferPool.&lt;br/&gt;
    	at eu.stratosphere.runtime.io.network.ChannelManager.&amp;lt;init&amp;gt;(ChannelManager.java:85)&lt;br/&gt;
    	at eu.stratosphere.nephele.taskmanager.TaskManager.&amp;lt;init&amp;gt;(TaskManager.java:325)&lt;br/&gt;
    	... 30 more&lt;br/&gt;
    Caused by: java.lang.OutOfMemoryError: Tried to allocate 32768 buffers of size 32768 bytes each (total: 1024 MB) and ran out of memory after 30009 buffers (937 MB).&lt;br/&gt;
    	at eu.stratosphere.runtime.io.network.bufferprovider.GlobalBufferPool.&amp;lt;init&amp;gt;(GlobalBufferPool.java:70)&lt;br/&gt;
    	at eu.stratosphere.runtime.io.network.ChannelManager.&amp;lt;init&amp;gt;(ChannelManager.java:83)&lt;br/&gt;
    	... 31 more&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="14037288" author="githubbot" created="Thu, 19 Jun 2014 12:12:42 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/28#issuecomment-46552826&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/28#issuecomment-46552826&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Very nice. Thank you.&lt;/p&gt;</comment>
                            <comment id="14043274" author="githubbot" created="Wed, 25 Jun 2014 10:08:31 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/28&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14043275" author="uce" created="Wed, 25 Jun 2014 10:09:24 +0000"  >&lt;p&gt;Fixed in 3d6cc5f48dc5a0336f8afdd35f59f1ee25357766.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wxh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>