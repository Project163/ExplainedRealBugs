<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:16:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-31077] Trigger checkpoint failed but it were shown as COMPLETED by rest API</title>
                <link>https://issues.apache.org/jira/browse/FLINK-31077</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently, we can trigger a checkpoint and poll the status of the checkpoint until it is finished by rest according to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-27101&quot; title=&quot;Add REST API to manually trigger checkpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-27101&quot;&gt;&lt;del&gt;FLINK-27101&lt;/del&gt;&lt;/a&gt;. However, even if the checkpoint status returned by rest is completed, it does not mean that the checkpoint is really completed. If an exception occurs after marking the pendingCheckpoint completed(&lt;a href=&quot;https://github.com/apache/flink/blob/bf0ad52cbcb052961c54c94c7013f5ac0110ef8a/flink-runtime/src/main/java/org/apache/flink/runtime/checkpoint/CheckpointCoordinator.java#L1309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;), the checkpoint is not written to the HA service and we can not failover from this checkpoint.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13524769">FLINK-31077</key>
            <summary>Trigger checkpoint failed but it were shown as COMPLETED by rest API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="JunRuiLi">Junrui Li</assignee>
                                    <reporter username="JunRuiLi">Junrui Li</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 15 Feb 2023 06:09:03 +0000</created>
                <updated>Mon, 27 Feb 2023 07:09:45 +0000</updated>
                            <resolved>Mon, 27 Feb 2023 07:09:45 +0000</resolved>
                                    <version>1.17.0</version>
                    <version>1.15.3</version>
                    <version>1.16.1</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.16.2</fixVersion>
                                    <component>Runtime / Checkpointing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17688841" author="JIRAUSER293716" created="Wed, 15 Feb 2023 06:09:47 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17688858" author="zhuzh" created="Wed, 15 Feb 2023 06:40:49 +0000"  >&lt;p&gt;Thanks for reporting this issue! &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JunRuiLi&quot; class=&quot;user-hover&quot; rel=&quot;JunRuiLi&quot;&gt;JunRuiLi&lt;/a&gt;&lt;br/&gt;
&lt;del&gt;I think it is indeed a problem. Considering the case of stop-with-savepoint, it&apos;s possible that the final savepoint is lost if the savepoint is considered to be done and the job gets terminated, before it is recorded to HA.&lt;/del&gt;&lt;br/&gt;
Do you want to fix it?&lt;/p&gt;

&lt;p&gt;Correction: The problem does not affect savepoints which do not rely on CompletedCheckpointStore. So the actual problem will be that the query result of a &lt;a href=&quot;https://nightlies.apache.org/flink/flink-docs-master/docs/ops/rest_api/#jobs-jobid-checkpoints&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;manually triggered checkpoint&lt;/a&gt; is returned as &quot;COMPLETED&quot;, while on the web UI it is &quot;FAILED&quot;, which may confuse users. &lt;br/&gt;
Therefore the problem is not that critical. I will lower its priority.&lt;/p&gt;</comment>
                            <comment id="17688860" author="JIRAUSER293716" created="Wed, 15 Feb 2023 06:43:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhuzh&quot; class=&quot;user-hover&quot; rel=&quot;zhuzh&quot;&gt;zhuzh&lt;/a&gt; Sure, I&apos;ll fix it.&lt;/p&gt;</comment>
                            <comment id="17693822" author="zhuzh" created="Mon, 27 Feb 2023 07:09:45 +0000"  >&lt;p&gt;master:&lt;br/&gt;
eb17ec3f05d4bd512bc70ee79296d0b884894eaf&lt;/p&gt;

&lt;p&gt;release-1.17:&lt;br/&gt;
dca819556fb9b675852df99ada45e0f22262cb28&lt;/p&gt;

&lt;p&gt;release-1.16:&lt;br/&gt;
4c8159140028cd0654a93dcb7c25fe074ad1f059&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13438227">FLINK-27101</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fxy0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>