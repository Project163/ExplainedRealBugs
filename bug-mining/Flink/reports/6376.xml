<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:10:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26616] AdaptiveSchedulerITCase.testExceptionHistoryIsRetrievableFromTheRestAPI failed with a timeout</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26616</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;tt&gt;AdaptiveSchedulerITCase.&lt;/tt&gt; failed in &lt;a href=&quot;https://dev.azure.com/mapohl/flink/_build/results?buildId=855&amp;amp;view=logs&amp;amp;j=0a15d512-44ac-5ba5-97ab-13a5d066c22c&amp;amp;t=9a028d19-6c4b-5a4e-d378-03fca149d0b1&amp;amp;l=5778&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this build&lt;/a&gt; due to a timeout.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 11 14:41:36 [ERROR] Tests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 76.177 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.test.scheduling.AdaptiveSchedulerITCase
Mar 11 14:41:36 [ERROR] org.apache.flink.test.scheduling.AdaptiveSchedulerITCase.testExceptionHistoryIsRetrievableFromTheRestAPI  Time elapsed: 60.146 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
Mar 11 14:41:36 java.util.concurrent.TimeoutException: Condition was not met in given timeout.
Mar 11 14:41:36 	at org.apache.flink.runtime.testutils.CommonTestUtils.waitUntilCondition(CommonTestUtils.java:167)
Mar 11 14:41:36 	at org.apache.flink.runtime.testutils.CommonTestUtils.waitUntilCondition(CommonTestUtils.java:145)
Mar 11 14:41:36 	at org.apache.flink.runtime.testutils.CommonTestUtils.waitUntilCondition(CommonTestUtils.java:137)
Mar 11 14:41:36 	at org.apache.flink.test.scheduling.AdaptiveSchedulerITCase.testExceptionHistoryIsRetrievableFromTheRestAPI(AdaptiveSchedulerITCase.java:268)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13433369">FLINK-26616</key>
            <summary>AdaptiveSchedulerITCase.testExceptionHistoryIsRetrievableFromTheRestAPI failed with a timeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 11 Mar 2022 15:21:59 +0000</created>
                <updated>Wed, 28 Sep 2022 09:24:45 +0000</updated>
                            <resolved>Wed, 13 Apr 2022 11:10:15 +0000</resolved>
                                    <version>1.15.0</version>
                                    <fixVersion>1.15.1</fixVersion>
                    <fixVersion>1.16.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17505051" author="JIRAUSER284806" created="Fri, 11 Mar 2022 18:19:20 +0000"  >&lt;p&gt;Same here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/smattheis/Flink/_build/results?buildId=39&amp;amp;view=logs&amp;amp;j=0a15d512-44ac-5ba5-97ab-13a5d066c22c&amp;amp;t=9a028d19-6c4b-5a4e-d378-03fca149d0b1&amp;amp;l=6426&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/smattheis/Flink/_build/results?buildId=39&amp;amp;view=logs&amp;amp;j=0a15d512-44ac-5ba5-97ab-13a5d066c22c&amp;amp;t=9a028d19-6c4b-5a4e-d378-03fca149d0b1&amp;amp;l=6426&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 11 15:35:07 [ERROR] Tests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 80.865 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.test.scheduling.AdaptiveSchedulerITCase
Mar 11 15:35:07 [ERROR] org.apache.flink.test.scheduling.AdaptiveSchedulerITCase.testExceptionHistoryIsRetrievableFromTheRestAPI  Time elapsed: 60.122 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
Mar 11 15:35:07 java.util.concurrent.TimeoutException: Condition was not met in given timeout.
...
Mar 11 15:35:07 	at org.apache.flink.test.scheduling.AdaptiveSchedulerITCase.testExceptionHistoryIsRetrievableFromTheRestAPI(AdaptiveSchedulerITCase.java:268)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17506169" author="roman_khachatryan" created="Mon, 14 Mar 2022 10:59:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32981&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12537&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32981&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12537&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17506176" author="zentol" created="Mon, 14 Mar 2022 11:17:10 +0000"  >&lt;p&gt;I couldn&apos;t reproduce it so far. The logs show that the tasks are deployed just fine (with a number of failed checkpoint triggers because not everything was running it).&lt;/p&gt;

&lt;p&gt;But then strangely once the first checkpoint is triggered:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
15:34:07,406 [    Checkpoint Timer] INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 1 (type=CheckpointType{name=&lt;span class=&quot;code-quote&quot;&gt;&apos;Checkpoint&apos;&lt;/span&gt;, sharingFilesStrategy=FORWARD_BACKWARD}) @ 1647012847406 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 339650c79b74dd74a1f27117a41a6dbf.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;nothing happens for an entire minute, and then the test fails with the timeout.&lt;/p&gt;

&lt;p&gt;It is a bit too consistent for it to be one of those &quot;VM just stopped doing stuff for a bit&quot; issues, as it fails exactly when the timeout triggers.&lt;/p&gt;</comment>
                            <comment id="17507575" author="zentol" created="Wed, 16 Mar 2022 13:00:01 +0000"  >&lt;p&gt;I ran the ITCase around 40k times locally over an entire day and couldn&apos;t reproduce the issue. I&apos;m inclined to just remove the timeout and see what happens.&lt;/p&gt;</comment>
                            <comment id="17513885" author="zentol" created="Tue, 29 Mar 2022 07:45:08 +0000"  >&lt;p&gt;master: 7d85b273ccdbd5a2242e05e5d645ea82280f5eea&lt;br/&gt;
1.15: 489827520b1a53db04a94346c98327d0d42301c5&lt;/p&gt;</comment>
                            <comment id="17516482" author="mapohl" created="Sun, 3 Apr 2022 09:19:51 +0000"  >&lt;p&gt;I&apos;m wondering whether it would be worth it to backport the change of this issue as well. This test is also unstable in 1.15 (see &lt;a href=&quot;https://dev.azure.com/mapohl/flink/_build/results?buildId=926&amp;amp;view=logs&amp;amp;j=cc649950-03e9-5fae-8326-2f1ad744b536&amp;amp;t=a9a20597-291c-5240-9913-a731d46d6dd1&amp;amp;l=13067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;failed build&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="17520366" author="gaoyunhaii" created="Mon, 11 Apr 2022 07:39:01 +0000"  >&lt;p&gt;1.15: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=34494&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=34494&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12137&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13361900">FLINK-21564</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10eso:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>