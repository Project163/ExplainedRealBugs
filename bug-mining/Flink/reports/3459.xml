<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:42:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-14809] DataStreamAllroundTestProgram does not run because return types cannot be determined</title>
                <link>https://issues.apache.org/jira/browse/FLINK-14809</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2019-11-14 19:34:55,185 ERROR org.apache.flink.client.cli.CliFrontend                       - Error while running the command.
org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: The return type of function &apos;main(DataStreamAllroundTestProgram.java:182)&apos; could not be determined automatically, due to type erasure. You can give type information hints by using the returns(...) method on the result of the transformation call, or by letting your function implement the &apos;ResultTypeQueryable&apos; interface.
        at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:336)
        at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:206)
        at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:173)
        at org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:747)
        at org.apache.flink.client.cli.CliFrontend.runProgram(CliFrontend.java:282)
        at org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:219)
        at org.apache.flink.client.cli.CliFrontend.parseParameters(CliFrontend.java:1011)
        at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1084)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:422)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1836)
        at org.apache.flink.runtime.security.HadoopSecurityContext.runSecured(HadoopSecurityContext.java:41)
        at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1084)
Caused by: org.apache.flink.api.common.functions.InvalidTypesException: The return type of function &apos;main(DataStreamAllroundTestProgram.java:182)&apos; could not be determined automatically, due to type erasure. You can give type information hints by using the returns(...) method on the result of the transformation call, or by letting your function implement the &apos;ResultTypeQueryable&apos; interface.
        at org.apache.flink.api.dag.Transformation.getOutputType(Transformation.java:412)
        at org.apache.flink.streaming.api.datastream.DataStream.addSink(DataStream.java:1296)
        at org.apache.flink.streaming.tests.DataStreamAllroundTestProgram.main(DataStreamAllroundTestProgram.java:185)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:322)
        ... 12 more
Caused by: org.apache.flink.api.common.functions.InvalidTypesException: Input mismatch: Generic type &apos;org.apache.flink.streaming.tests.Event&apos; or a subclass of it expected but was &apos;org.apache.flink.streaming.tests.Event&apos;.
        at org.apache.flink.api.java.typeutils.TypeExtractor.validateInputType(TypeExtractor.java:1298)
        at org.apache.flink.api.java.typeutils.TypeExtractor.getUnaryOperatorReturnType(TypeExtractor.java:585)
        at org.apache.flink.api.java.typeutils.TypeExtractor.getFlatMapReturnTypes(TypeExtractor.java:196)
        at org.apache.flink.streaming.api.datastream.DataStream.flatMap(DataStream.java:634)
        at org.apache.flink.streaming.tests.DataStreamAllroundTestProgram.main(DataStreamAllroundTestProgram.java:182)
        ... 17 more
Caused by: org.apache.flink.api.common.functions.InvalidTypesException: Generic type &apos;org.apache.flink.streaming.tests.Event&apos; or a subclass of it expected but was &apos;org.apache.flink.streaming.tests.Event&apos;.
        at org.apache.flink.api.java.typeutils.TypeExtractor.validateInfo(TypeExtractor.java:1481)
        at org.apache.flink.api.java.typeutils.TypeExtractor.validateInfo(TypeExtractor.java:1491)
        at org.apache.flink.api.java.typeutils.TypeExtractor.validateInputType(TypeExtractor.java:1295)
        ... 21 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This happens in multiple nightlies and jepsen runs. Example&lt;br/&gt;
&lt;a href=&quot;https://api.travis-ci.org/v3/job/611848582/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/611848582/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13268509">FLINK-14809</key>
            <summary>DataStreamAllroundTestProgram does not run because return types cannot be determined</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kkl0u">Kostas Kloudas</assignee>
                                    <reporter username="gjy">Gary Yao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Nov 2019 08:13:37 +0000</created>
                <updated>Fri, 15 Nov 2019 11:53:00 +0000</updated>
                            <resolved>Fri, 15 Nov 2019 11:53:00 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.10.0</fixVersion>
                                    <component>API / DataStream</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16975011" author="aljoscha" created="Fri, 15 Nov 2019 11:01:29 +0000"  >&lt;p&gt;The reason seems to be &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-14808&quot; title=&quot;ClientUtils set thread ClassLoader that is different from the user cl of PackagedProgram&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-14808&quot;&gt;&lt;del&gt;FLINK-14808&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16975035" author="kkl0u" created="Fri, 15 Nov 2019 11:53:00 +0000"  >&lt;p&gt;Merged with 1f28a24263971c5e9591e90b825a5b8e4a65e99b&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08n9k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>