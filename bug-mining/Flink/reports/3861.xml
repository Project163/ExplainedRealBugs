<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:44:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-16805] StreamingKafkaITCase fails with &quot;Could not instantiate instance using default factory.&quot;</title>
                <link>https://issues.apache.org/jira/browse/FLINK-16805</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;CI: &lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6654&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=27d1d645-cbce-54e2-51c4-d8b45fe24607&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6654&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=27d1d645-cbce-54e2-51c4-d8b45fe24607&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-03-26T08:17:42.8881925Z [INFO]  T E S T S
2020-03-26T08:17:42.8882791Z [INFO] -------------------------------------------------------
2020-03-26T08:17:43.6840472Z [INFO] Running org.apache.flink.tests.util.kafka.StreamingKafkaITCase
2020-03-26T08:17:43.6933052Z [ERROR] Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 0.006 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.tests.util.kafka.StreamingKafkaITCase
2020-03-26T08:17:43.6934567Z [ERROR] testKafka[0: kafka-version:0.10.2.0](org.apache.flink.tests.util.kafka.StreamingKafkaITCase)  Time elapsed: 0.004 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
2020-03-26T08:17:43.6935170Z java.lang.RuntimeException: Could not instantiate instance using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; factory.
2020-03-26T08:17:43.6935702Z 	at org.apache.flink.tests.util.kafka.StreamingKafkaITCase.&amp;lt;init&amp;gt;(StreamingKafkaITCase.java:72)
2020-03-26T08:17:43.6936024Z 
2020-03-26T08:17:43.6936691Z [ERROR] testKafka[1: kafka-version:0.11.0.2](org.apache.flink.tests.util.kafka.StreamingKafkaITCase)  Time elapsed: 0 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
2020-03-26T08:17:43.6937288Z java.lang.RuntimeException: Could not instantiate instance using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; factory.
2020-03-26T08:17:43.6937789Z 	at org.apache.flink.tests.util.kafka.StreamingKafkaITCase.&amp;lt;init&amp;gt;(StreamingKafkaITCase.java:72)
2020-03-26T08:17:43.6938113Z 
2020-03-26T08:17:43.6938890Z [ERROR] testKafka[2: kafka-version:2.2.0](org.apache.flink.tests.util.kafka.StreamingKafkaITCase)  Time elapsed: 0 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
2020-03-26T08:17:43.6939646Z java.lang.RuntimeException: Could not instantiate instance using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; factory.
2020-03-26T08:17:43.6940153Z 	at org.apache.flink.tests.util.kafka.StreamingKafkaITCase.&amp;lt;init&amp;gt;(StreamingKafkaITCase.java:72)
2020-03-26T08:17:43.6940485Z 
2020-03-26T08:17:44.0270048Z [INFO] 
2020-03-26T08:17:44.0270457Z [INFO] Results:
2020-03-26T08:17:44.0270649Z [INFO] 
2020-03-26T08:17:44.0270863Z [ERROR] Errors: 
2020-03-26T08:17:44.0271847Z [ERROR]   StreamingKafkaITCase.&amp;lt;init&amp;gt;:72 &#194;&#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Could not instantiate instance using ...
2020-03-26T08:17:44.0272651Z [ERROR]   StreamingKafkaITCase.&amp;lt;init&amp;gt;:72 &#194;&#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Could not instantiate instance using ...
2020-03-26T08:17:44.0273487Z [ERROR]   StreamingKafkaITCase.&amp;lt;init&amp;gt;:72 &#194;&#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Could not instantiate instance using ...
2020-03-26T08:17:44.0274218Z [INFO] 
2020-03-26T08:17:44.0274517Z [ERROR] Tests run: 3, Failures: 0, Errors: 3, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13294168">FLINK-16805</key>
            <summary>StreamingKafkaITCase fails with &quot;Could not instantiate instance using default factory.&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmetzger">Robert Metzger</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 26 Mar 2020 10:45:13 +0000</created>
                <updated>Thu, 26 Mar 2020 13:58:32 +0000</updated>
                            <resolved>Thu, 26 Mar 2020 13:58:32 +0000</resolved>
                                    <version>1.11.0</version>
                                    <fixVersion>1.11.0</fixVersion>
                                    <component>Connectors / Kafka</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17067580" author="rmetzger" created="Thu, 26 Mar 2020 10:50:01 +0000"  >&lt;p&gt;Another case: &lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6657&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=27d1d645-cbce-54e2-51c4-d8b45fe24607&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6657&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=27d1d645-cbce-54e2-51c4-d8b45fe24607&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17067581" author="rmetzger" created="Thu, 26 Mar 2020 10:50:41 +0000"  >&lt;p&gt;The problem is reproducible on in IntelliJ on master.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.RuntimeException: Could not instantiate instance using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; factory.

	at org.apache.flink.tests.util.util.FactoryUtils.lambda$loadAndInvokeFactory$0(FactoryUtils.java:61)
	at java.util.Optional.orElseThrow(Optional.java:290)
	at org.apache.flink.tests.util.util.FactoryUtils.loadAndInvokeFactory(FactoryUtils.java:61)
	at org.apache.flink.tests.util.flink.FlinkResource.get(FlinkResource.java:75)
	at org.apache.flink.tests.util.kafka.StreamingKafkaITCase.&amp;lt;init&amp;gt;(StreamingKafkaITCase.java:72)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Upgrading this to a blocker issue.&lt;/p&gt;</comment>
                            <comment id="17067584" author="zentol" created="Thu, 26 Mar 2020 10:54:37 +0000"  >&lt;p&gt;You can probably reproduce it in IntelliJ since youu didn&apos;t set the &lt;tt&gt;distDir&lt;/tt&gt; property there, so it is expected to fail.&lt;/p&gt;</comment>
                            <comment id="17067586" author="rmetzger" created="Thu, 26 Mar 2020 10:56:58 +0000"  >&lt;p&gt;If that&apos;s the case, then we should improve the error reporting &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17067589" author="zentol" created="Thu, 26 Mar 2020 11:01:15 +0000"  >&lt;p&gt;I&apos;m aware of that, in the meantime you can enable logging to get this info.&lt;/p&gt;</comment>
                            <comment id="17067592" author="zentol" created="Thu, 26 Mar 2020 11:06:31 +0000"  >&lt;p&gt;Unfortunately we don&apos;t have the logs for the test execution, so I can&apos;t tell what the problem is.&lt;/p&gt;

&lt;p&gt;We know that the distDir property is correctly set on azure, otherwise the other e2e tests wouldn&apos;t have run so far.&lt;/p&gt;</comment>
                            <comment id="17067639" author="rmetzger" created="Thu, 26 Mar 2020 12:31:36 +0000"  >&lt;p&gt;I believe this commit introduced the issue: &lt;a href=&quot;https://github.com/flink-ci/flink-mirror/commit/dee9156360122209c6d7b703bff5be882d1a6389&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/flink-ci/flink-mirror/commit/dee9156360122209c6d7b703bff5be882d1a6389&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17067641" author="zentol" created="Thu, 26 Mar 2020 12:36:10 +0000"  >&lt;p&gt;By setting &lt;tt&gt;-Dpre-commit-tests&lt;/tt&gt; we have enabled this test in all test runs. If there is any that doesnt that distDir, that might explain it.&lt;/p&gt;</comment>
                            <comment id="17067644" author="rmetzger" created="Thu, 26 Mar 2020 12:39:41 +0000"  >&lt;p&gt;We can either revert, or I try to fix the issue quickly. When passing &lt;tt&gt;-DdistDir&lt;/tt&gt; and &lt;tt&gt;-DmoduleDir&lt;/tt&gt; the test passes locally.&lt;br/&gt;
I guess something is wrong on AZP&lt;/p&gt;</comment>
                            <comment id="17067646" author="zentol" created="Thu, 26 Mar 2020 12:45:55 +0000"  >&lt;p&gt;You only need to revert the pre-commit thing (it is redundant anyway), the hadoop category is fine.&lt;/p&gt;</comment>
                            <comment id="17067647" author="zentol" created="Thu, 26 Mar 2020 12:48:55 +0000"  >&lt;p&gt;If we pass distDir in other places we&apos;re likely just running the test multiple times.&lt;/p&gt;</comment>
                            <comment id="17067651" author="rmetzger" created="Thu, 26 Mar 2020 12:51:31 +0000"  >&lt;p&gt;I pushed a commit removing the pre commit profile to ci.&lt;/p&gt;</comment>
                            <comment id="17067695" author="rmetzger" created="Thu, 26 Mar 2020 13:58:32 +0000"  >&lt;p&gt;Resolved in cd5e3f47c4877f2d271aa69989e664a45f2fab5a&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13293813">FLINK-16778</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cxlk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>