<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:21:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-36349] ClassNotFoundException due to org.apache.flink.runtime.types.FlinkScalaKryoInstantiator missing</title>
                <link>https://issues.apache.org/jira/browse/FLINK-36349</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;This is most likely caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-29741&quot; title=&quot;[FLIP-265] Remove all Scala APIs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-29741&quot;&gt;&lt;del&gt;FLINK-29741&lt;/del&gt;&lt;/a&gt; which was recently merged.&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=62359&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=ea7cf968-e585-52cb-e0fc-f48de023a7ca&amp;amp;l=17558&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=62359&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=ea7cf968-e585-52cb-e0fc-f48de023a7ca&amp;amp;l=17558&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Sep 23 01:58:51 01:58:50,533 12326 [AsyncOperations-thread-1] INFO  org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer [] - Kryo serializer scala extensions are not available.
Sep 23 01:58:51 java.lang.ClassNotFoundException: org.apache.flink.runtime.types.FlinkScalaKryoInstantiator
Sep 23 01:58:51 	at java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[?:1.8.0_292]
Sep 23 01:58:51 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:418) ~[?:1.8.0_292]
Sep 23 01:58:51 	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) ~[?:1.8.0_292]
Sep 23 01:58:51 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:351) ~[?:1.8.0_292]
Sep 23 01:58:51 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName0(Native Method) ~[?:1.8.0_292]
Sep 23 01:58:51 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:264) ~[?:1.8.0_292]
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It causes ClosureCleanerITCase to fail in the AdaptiveScheduler test profile.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592910">FLINK-36349</key>
            <summary>ClassNotFoundException due to org.apache.flink.runtime.types.FlinkScalaKryoInstantiator missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yyhx">xuhuang</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 23 Sep 2024 07:21:32 +0000</created>
                <updated>Tue, 24 Sep 2024 10:17:41 +0000</updated>
                            <resolved>Tue, 24 Sep 2024 10:17:37 +0000</resolved>
                                    <version>2.0-preview</version>
                                    <fixVersion>2.0-preview</fixVersion>
                                    <component>API / Type Serialization System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17883725" author="mapohl" created="Mon, 23 Sep 2024 07:22:57 +0000"  >&lt;p&gt;There is a similar issue with &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-33514&quot; title=&quot;FlinkScalaKryoInstantiator class not found in KryoSerializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-33514&quot;&gt;FLINK-33514&lt;/a&gt; which seems to be unrelated.&lt;/p&gt;</comment>
                            <comment id="17883733" author="mapohl" created="Mon, 23 Sep 2024 07:33:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yyhx&quot; class=&quot;user-hover&quot; rel=&quot;yyhx&quot;&gt;yyhx&lt;/a&gt; can you have a look at it?&lt;/p&gt;</comment>
                            <comment id="17883886" author="JIRAUSER300304" created="Mon, 23 Sep 2024 13:49:57 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank for your reminder. I think the failure of the &lt;em&gt;ClosureCleanerITCase&lt;/em&gt; in the AdaptiveScheduler test profile is not due to the absence of &lt;em&gt;FlinkScalaKryoInstantiator&lt;/em&gt; class.&lt;/p&gt;

&lt;p&gt;In pull request &lt;a href=&quot;https://github.com/apache/flink/pull/25324&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;25324&lt;/a&gt;, the &lt;em&gt;ClosureCleanerITCase&lt;/em&gt;&#160;was updated to use Java language and the DataStream API. This test case employs the&#160;&lt;em&gt;fullWindowPartition&lt;/em&gt;&#160;operator while running in streaming job mode.&lt;/p&gt;

&lt;p&gt;The&#160;&lt;em&gt;fullWindowPartition&lt;/em&gt;&#160;operator will sets jobEdge blocking, which leads the &lt;em&gt;AdaptiveScheduler&lt;/em&gt; fail to check whether the job edge can be pipelined (org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler#assertPreconditions).&lt;/p&gt;

&lt;p&gt;I have correct the &lt;em&gt;ClosureCleanerITCase&lt;/em&gt; in pull request &lt;a href=&quot;https://github.com/apache/flink/pull/25378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;25378&lt;/a&gt;, modifing the test case in ClosureCleanerITCase to run in batch mode.&lt;/p&gt;</comment>
                            <comment id="17883888" author="JIRAUSER300304" created="Mon, 23 Sep 2024 14:05:38 +0000"  >&lt;p&gt;The ClassNotFoundException log related to the &lt;em&gt;FlinkScalaKryoInstantiator&lt;/em&gt; is generated in the &lt;em&gt;org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer#getKryoInstance&lt;/em&gt; method. &lt;/p&gt;

&lt;p&gt;This occurs because the &lt;em&gt;FlinkScalaKryoInstantiator&lt;/em&gt; is defined in the &lt;em&gt;flink-scala&lt;/em&gt; module, but the dependency for &lt;em&gt;flink-scala&lt;/em&gt; has been removed from the pom.xml file in most modules (in pull request &lt;a href=&quot;https://github.com/apache/flink/pull/25324&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;25324&lt;/a&gt;). The &lt;em&gt;FlinkScalaKryoInstantiator&lt;/em&gt; is specifically used for serializing Scala objects. Given the deprecation of Scala APIs, it is likely that the &lt;em&gt;FlinkScalaKryoInstantiator&lt;/em&gt; will be removed entirely once these Scala APIs are removed. &lt;/p&gt;

&lt;p&gt;Thus, the ClassNotFoundException log is anticipated at this stage. When all Scala APIs are eventually removed, this log will no longer be necessary, as there will be no requirement to handle Scala-specific objects in Kryo.&lt;/p&gt;</comment>
                            <comment id="17884168" author="mapohl" created="Tue, 24 Sep 2024 08:05:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=62413&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=ea7cf968-e585-52cb-e0fc-f48de023a7ca&amp;amp;l=15954&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=62413&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=ea7cf968-e585-52cb-e0fc-f48de023a7ca&amp;amp;l=15954&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17884208" author="weijie guo" created="Tue, 24 Sep 2024 10:17:37 +0000"  >&lt;p&gt;master(2.0) via b2d328919c0244c54427e82e71b7c1c4ac9aff8a.&lt;/p&gt;

&lt;p&gt;This should fix the failure case, feel free to reopen this if not.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13490561">FLINK-29741</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13557452">FLINK-33514</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rk1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>