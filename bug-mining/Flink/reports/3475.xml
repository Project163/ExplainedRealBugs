<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:42:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-14872] (Partial fix) Potential deadlock for task reading from blocking ResultPartition.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-14872</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently, the buffer pool size of InputGate reading from blocking ResultPartition is unbounded which have a potential of using too many buffers and may lead to ResultPartition of the same task can not acquire enough core buffers and finally lead to deadlock.&lt;/p&gt;

&lt;p&gt;Considers the following ï¿½case:&lt;/p&gt;

&lt;p&gt;Core buffers are reserved for InputGate and ResultPartition -&amp;gt; InputGate consumes lots of Buffer (not including the buffer reserved for ResultPartition) -&amp;gt; Other tasks acquire exclusive buffer for InputGate and trigger redistribute of Buffers (Buffers taken by previous InputGate can not be released) -&amp;gt; The first task of which InputGate uses lots of buffers begin to emit records but can not acquire enough core Buffers (Some operators may not emit records out immediately or there is just nothing to emit) -&amp;gt; Deadlock.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think we can fix this problem by limit the number of Buffers can be allocated by a InputGate which&#160;reads from blocking ResultPartition.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13269528">FLINK-14872</key>
            <summary>(Partial fix) Potential deadlock for task reading from blocking ResultPartition.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevin.cyj">Yingjie Cao</assignee>
                                    <reporter username="kevin.cyj">Yingjie Cao</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 20 Nov 2019 08:04:47 +0000</created>
                <updated>Sat, 7 Dec 2019 19:45:49 +0000</updated>
                            <resolved>Sat, 7 Dec 2019 19:45:48 +0000</resolved>
                                    <version>1.9.1</version>
                                    <fixVersion>1.10.0</fixVersion>
                                    <component>Runtime / Network</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16979037" author="kevin.cyj" created="Thu, 21 Nov 2019 07:14:53 +0000"  >&lt;p&gt;Only limit the number of Buffers can be allocated can only reduce the possibility of deadlock and gives users a chance to increase the number of network buffers by configuration. To totally solve the problem, we may also need to request core buffers directly from global NetworkBufferPool like the exclusive buffers for InputGate, we may add a method to local buffer pool like reserveRequiredBuffers and call it at result partition setup. Currently, core buffer request of the result partition is lazy, the buffer is not allocated from global pool until emitting records. Like the&#160;exclusive buffer request for InputGate, we can add a request time out and let the users know that the number of network buffer should be increased.&lt;/p&gt;

&lt;p&gt;Another possible option is letting the InputGate release Buffer by spilling to disk, though the implementation is more complicated.&lt;/p&gt;

&lt;p&gt;Letting the ResultPartition reserve core buffer at setup may lead to waste of Buffer, but I think that is not a big problem, most of the task will emit records sooner or latter.&lt;/p&gt;</comment>
                            <comment id="16979069" author="kevin.cyj" created="Thu, 21 Nov 2019 08:28:44 +0000"  >&lt;p&gt;Theoretically, the problem is also exist with Pipelined mode. It is because the number extra Buffers a pipeline gate can use is very limited by default (8), the possibility is small enough. However, if the users increase the config value of&#160;taskmanager.network.memory.floating-buffers-per-gate, then the possibility of deadlock may increase.&lt;/p&gt;</comment>
                            <comment id="16979177" author="pnowojski" created="Thu, 21 Nov 2019 11:18:02 +0000"  >&lt;p&gt;Is this a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13203&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-13203&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="16979191" author="kevin.cyj" created="Thu, 21 Nov 2019 11:51:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&#160;They are relevant and the causes are similar though not exactly the same. Even with the timeout fix, there is still deadlock problem.&lt;/p&gt;

&lt;p&gt;The issue reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-12852&quot; title=&quot;[hotfix timeout] Deadlock occurs when requiring exclusive buffer for RemoteInputChannel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-12852&quot;&gt;&lt;del&gt;FLINK-12852&lt;/del&gt;&lt;/a&gt; is because the down stream relies the upstream to release Buffer, but the upstream relies downstream to consume data before recycling Buffers.&lt;/p&gt;

&lt;p&gt;The issue reported in this Jira is because the ResultPartition relies the InputGate to release Buffer, but the InputGate relies the data to be processed and emitted to ResultPartition.&lt;/p&gt;</comment>
                            <comment id="16979304" author="pnowojski" created="Thu, 21 Nov 2019 14:08:39 +0000"  >&lt;p&gt;Ok, I see. Do you have a proposal how to actually change the buffers assignment? The number of exclusive/floating buffers?&lt;/p&gt;</comment>
                            <comment id="16979866" author="kevin.cyj" created="Fri, 22 Nov 2019 05:32:52 +0000"  >&lt;p&gt;There are some choices we may consider:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Like Blink, each buffer pool has a finite min and max size which are calculate from number of channels and config options like buffer-per-channel, JM and RM will calculate according the max value a buffer pool can use, that is, the max value is guaranteed and no buffer pool will use more than the max value. The weak point of this option would be guaranteeing the max value and no floating may lead to waste of network memory.&lt;/li&gt;
	&lt;li&gt;As mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13203&quot; title=&quot;[proper fix] Deadlock occurs when requiring exclusive buffer for RemoteInputChannel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13203&quot;&gt;FLINK-13203&lt;/a&gt;, no buffer floating, the downside is also waste&#160; of memory, compared with 1, the good side would be we do not need to calculate the number of buffers at JM and RM.&lt;/li&gt;
	&lt;li&gt;As mentioned in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13203&quot; title=&quot;[proper fix] Deadlock occurs when requiring exclusive buffer for RemoteInputChannel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13203&quot;&gt;FLINK-13203&lt;/a&gt;, make buffers always revokable by spilling. The problem we must consider would be when, how and which thread do the spill, which is not trivial. A choice may be allocating exclusive and core memory at setup and notify the buffer pool owner to release buffer if no enough buffer available. NetworkBufferPool may decide many buffers should be freed by each local pool. The problem of this option is some times we may not need to spill and only need to wait some more time. And another problem is that the Implementation is a little complicated.&lt;/li&gt;
	&lt;li&gt;The simplest way may be just like what we did for exclusive buffer, that is, allocating core (required) buffers at setup and giving a timeout. The advantage of this option is that it dose not change the behavior of the system and it&apos;s simple enough, though it dose not solves the deadlock problem directly.&lt;/li&gt;
	&lt;li&gt;Split the network memory into core and floating parts. The core buffers are not floatable, and we only reserve buffers from the core pool. The floating buffers are shared among all local pools. However this decrease the core buffer we can use and can lead to buffer insufficient problem, the users may need to reconfig the network buffer. Option 2 can be a special case of this one if we set the floating buffer to 0 (no floating). I would prefer this solution if the side impact on user is acceptable.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;For a short term fix, I would prefer 4. For a long term solution, I think we can consider 3 and 5. What do you think? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16979921" author="lzljs3620320" created="Fri, 22 Nov 2019 07:07:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevin.cyj&quot; class=&quot;user-hover&quot; rel=&quot;kevin.cyj&quot;&gt;kevin.cyj&lt;/a&gt;&#160;and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;, I provide some test&#160;background information, when we test TPC-DS with 10TB in batch mode and batch shuffle type:&lt;/p&gt;

&lt;p&gt;It is very likely to bump into the deadlock situation. Try several times, and it is still possible to bump into it.&#160;Maybe the upstream data scale is too large, and it is very easy to fill all buffers (even if setting a large network buffer).&lt;/p&gt;</comment>
                            <comment id="16979969" author="pnowojski" created="Fri, 22 Nov 2019 08:38:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevin.cyj&quot; class=&quot;user-hover&quot; rel=&quot;kevin.cyj&quot;&gt;kevin.cyj&lt;/a&gt; let me think about it a bit more. &lt;/p&gt;

&lt;p&gt;Side note, please do not confuse floating buffers (credit based flow control) and optional buffers. Floating buffers can float within for example &lt;tt&gt;InputGate&lt;/tt&gt; between channels. Optional buffers can be floating or exclusive, InputGate/ResultPartition will request required buffers (1 per channel) and optional (1 per channel + floating).&lt;/p&gt;

&lt;p&gt;I personally do not like the spilling approach. If we had to implement something, I would be voting more toward &quot;assign required buffers immediately, and recommended only after a downstream consumers are guaranteed to make a progress&quot;. &lt;/p&gt;

&lt;p&gt;For a quick fix, we might want to configure &lt;tt&gt;InputGate&lt;/tt&gt; for &lt;tt&gt;BoundedBlockingSubpartition&lt;/tt&gt; to request always obligatory &quot;1 exclusive buffer per channel + couple of floating&quot;, without any &quot;optional&quot; buffers. Probably we could go away without any floating buffers, as performance will be bottlenecked by reading from files on the sender side.&lt;/p&gt;

&lt;p&gt;There is one more dimension here. There is a semi known issue, that Flink allocates/requires way too many buffers in the network stack, which causes problems with checkpointing under backpressure and with general memory requirements. Currently we try requesting 2 exclusive per channel + 8 floating both on the input and output. I suspect we could cut it down to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;on the input: 0 exclusive per channel + 10 (8? 20? 40?) floating&lt;/li&gt;
	&lt;li&gt;on the output: 1 exclusive per channel + 10 (8? 20?) floating&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Without negative performance effects (10 floating buffers should be enough to saturate 1gbps network with 1 ms message round trip). However having 0 exclusive buffers per channel on the input, would require some changes/rethinking of credits assigning mechanism.&lt;/p&gt;

&lt;p&gt;After cutting the exclusive buffers from 4 per channel (current input + output) down to 1, we could make all of them obligatory, which should solve dead lock issues, right?&lt;/p&gt;</comment>
                            <comment id="16985948" author="kevin.cyj" created="Mon, 2 Dec 2019 10:21:56 +0000"  >&lt;p&gt;&amp;gt;&#160;If we had to implement something, I would be voting more toward &quot;assign required buffers immediately, and recommended only after a downstream consumers are guaranteed to make a progress&quot;.&lt;/p&gt;

&lt;p&gt;After reconsidering the problem, I think this should be the right direction. Maybe the easiest way to fix the problem is always using the optimal number of require buffer (numberOfSubpartitions * networkBuffersPerChannel + floatingNetworkBuffersPerGate) for BufferPool of ResultPartition and always assigning required buffer immediately (before assigning exclusive buffer for InputGate). This guarantees that no more buffers than the require one will be used by ResultPartition, which solves the problem reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-12852&quot; title=&quot;[hotfix timeout] Deadlock occurs when requiring exclusive buffer for RemoteInputChannel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-12852&quot;&gt;&lt;del&gt;FLINK-12852&lt;/del&gt;&lt;/a&gt;. And assigning required buffers immediately before assigning exclusive buffers for InputGate can solve the problem reported in this JIRA. Then we can remove the previous timeout fix safely. There should be no performance problem because both the blocking and pipelined ResultPartition never use buffers more than the above optimal number when using default configuration. The only problem is that we may use more require buffer than before.&lt;/p&gt;

&lt;p&gt;What do you think? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt;&#160;After cutting the exclusive buffers from 4 per channel (current input + output) down to 1, we could make all of them obligatory, which should solve dead lock issues, right?&lt;/p&gt;

&lt;p&gt;There are argument checks and we can not set the number of exclusive buffer per channel to 0 currently.&lt;/p&gt;</comment>
                            <comment id="16986991" author="pnowojski" created="Tue, 3 Dec 2019 15:17:00 +0000"  >&lt;blockquote&gt;
&lt;p&gt;. The only problem is that we may use more require buffer than before.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think this is the blocker, which would cause quite a lot of deployments to start failing. As I wrote above, for the quick fix, I would vote for:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For a quick fix, we might want to configure InputGate for BoundedBlockingSubpartition to request always obligatory &quot;1 exclusive buffer per channel + couple of floating&quot;, without any &quot;optional&quot; buffers. Probably we could go away without any floating buffers, as performance will be bottlenecked by reading from files on the sender side.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;There are argument checks and we can not set the number of exclusive buffer per channel to 0 currently.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it&apos;s not only those checks, but currently code always assumes that it can send some exclusive buffers and this is used to propagate pending backlog lenght. With 0 exclusive buffers on the input gates, upstream producer, after completing a buffer, would have to pro-actively send a &quot;credit request message&quot;, to acquire a credit.&lt;/p&gt;</comment>
                            <comment id="16987470" author="kevin.cyj" created="Wed, 4 Dec 2019 02:55:10 +0000"  >&lt;p&gt;Thanks for the comment. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Making the&#160;BoundedBlockingSubpartition request always obligatory &quot;1 exclusive buffer per channel + couple of floating&quot; can solve the problem of&#160;BoundedBlockingSubpartition and is simple enough. I like this idea as a&#160;quick fix for version 1.10 and we can leave the final proper fix of both blocking and pipeline mode to future version.&lt;/p&gt;

&lt;p&gt;Do you mind if I open a PR and fix the problem for blocking mode just in this way?&lt;/p&gt;</comment>
                            <comment id="16987969" author="pnowojski" created="Wed, 4 Dec 2019 16:09:07 +0000"  >&lt;p&gt;Please do so &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Am I right that the proper fix for this issue is the probably the same as for the &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13203&quot; title=&quot;[proper fix] Deadlock occurs when requiring exclusive buffer for RemoteInputChannel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13203&quot;&gt;FLINK-13203&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16988808" author="kevin.cyj" created="Thu, 5 Dec 2019 13:30:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; You are right. We may add a related link to this Jira in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13203&quot; title=&quot;[proper fix] Deadlock occurs when requiring exclusive buffer for RemoteInputChannel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13203&quot;&gt;FLINK-13203&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I will open a PR soon.&lt;/p&gt;</comment>
                            <comment id="16989723" author="kevin.cyj" created="Fri, 6 Dec 2019 12:39:39 +0000"  >&lt;p&gt;Sadly, I find the number of exclusive buffer a channel requested is always the number of configured exclusive buffer per channel, we can not allocate only one exclusive buffer when exclusive buffer per channel is set to 2 or more except that we change the interface of NetworkBufferPool, which is what I don&apos;t want to do. Then what I can do is to reduce the number of optional buffers for InputGate to 0 and finally no buffer can float. What do you think? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16989755" author="kevin.cyj" created="Fri, 6 Dec 2019 13:29:16 +0000"  >&lt;p&gt;By the way, I will test the change by running tpc-ds benchmark and guarantee that there is no performance regression.&lt;/p&gt;</comment>
                            <comment id="16989796" author="pnowojski" created="Fri, 6 Dec 2019 14:13:06 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Then what I can do is to reduce the number of optional buffers for InputGate to 0 and finally no buffer can float. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;What do you mean by that?&lt;/p&gt;</comment>
                            <comment id="16989800" author="kevin.cyj" created="Fri, 6 Dec 2019 14:18:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&#160;I mean creating a zero size buffer pool for InputGates that reading data from blocking ResultPartition. Just like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; SupplierWithException&amp;lt;BufferPool, IOException&amp;gt; createBufferPoolFactory(
      BufferPoolFactory bufferPoolFactory,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; networkBuffersPerChannel,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; floatingNetworkBuffersPerGate,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; size,
      ResultPartitionType type) {
   &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxNumberOfMemorySegments = type.isBounded() ? floatingNetworkBuffersPerGate : 0;
   &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; () -&amp;gt; bufferPoolFactory.createBufferPool(0, maxNumberOfMemorySegments);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16989957" author="kevin.cyj" created="Fri, 6 Dec 2019 16:40:52 +0000"  >&lt;p&gt;As discussed, we would implement a temporary fix for the problem for version 1.10 and leave the proper fix to the future version of Flink. I have opened a PR&#160;&lt;a href=&quot;https://github.com/apache/flink/pull/10472&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/10472&lt;/a&gt;, could you please take a look? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16990525" author="pnowojski" created="Sat, 7 Dec 2019 15:52:06 +0000"  >&lt;p&gt;merged commit 1863bb8 to master.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevin.cyj&quot; class=&quot;user-hover&quot; rel=&quot;kevin.cyj&quot;&gt;kevin.cyj&lt;/a&gt; can you confirm/validate the fix on a cluster? &lt;/p&gt;</comment>
                            <comment id="16990532" author="kevin.cyj" created="Sat, 7 Dec 2019 16:03:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; Thanks for the review. I have already tested the fix on our cluster and it works. The previous blocked tpc-ds query now can finish successfully. Sorry for the late update.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13244241">FLINK-13203</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08tjk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>