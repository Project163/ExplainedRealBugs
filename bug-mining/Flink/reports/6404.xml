<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:10:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26810] The local time zone does not take effect when the dynamic index uses a field of type timestamp_ltz</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26810</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When using&#160; TIMESTAMP_WITH_LOCAL_TIMEZONE field to generate a dynamic index,&#160; it will alway use UTC timezone.&#160; &#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13435165">FLINK-26810</key>
            <summary>The local time zone does not take effect when the dynamic index uses a field of type timestamp_ltz</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alexanderpreuss">Alexander Preuss</assignee>
                                    <reporter username="hackergin">Feng Jin</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 22 Mar 2022 17:00:06 +0000</created>
                <updated>Tue, 13 Sep 2022 08:59:32 +0000</updated>
                            <resolved>Thu, 7 Apr 2022 11:00:20 +0000</resolved>
                                                    <fixVersion>1.15.0</fixVersion>
                    <fixVersion>elasticsearch-3.0.0</fixVersion>
                                    <component>Connectors / ElasticSearch</component>
                    <component>Table SQL / Planner</component>
                    <component>Table SQL / Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17510764" author="hackergin" created="Tue, 22 Mar 2022 17:12:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpaul&quot; class=&quot;user-hover&quot; rel=&quot;fpaul&quot;&gt;fpaul&lt;/a&gt; &#160; Can you help to confirm this issue?&lt;/p&gt;</comment>
                            <comment id="17511112" author="martijnvisser" created="Wed, 23 Mar 2022 08:39:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hackergin&quot; class=&quot;user-hover&quot; rel=&quot;hackergin&quot;&gt;hackergin&lt;/a&gt; I don&apos;t think this is a connector problem, but this would be Table/SQL related I guess. Which version of Flink are you using? &lt;/p&gt;</comment>
                            <comment id="17511288" author="hackergin" created="Wed, 23 Mar 2022 14:39:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=martijnvisser&quot; class=&quot;user-hover&quot; rel=&quot;martijnvisser&quot;&gt;martijnvisser&lt;/a&gt;&#160; &#160;I think this is a problem with the elasticSearch connector, because the conversion of timestampData to String is implemented inside the connector, not at the Table Runtime layer.&lt;br/&gt;
as shown in the code below&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//&#20195;&#30721;&#21344;&#20301;&#31526;
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; TIMESTAMP_WITH_LOCAL_TIME_ZONE:
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (value, dateTimeFormatter) -&amp;gt; {
                    TimestampData indexField = (TimestampData) value;
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; indexField.toInstant().atZone(ZoneOffset.UTC).format(dateTimeFormatter);
                };
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When formatting TimestampData as String, session local timezone is not used&lt;/p&gt;</comment>
                            <comment id="17511292" author="martijnvisser" created="Wed, 23 Mar 2022 14:45:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexanderpreuss&quot; class=&quot;user-hover&quot; rel=&quot;alexanderpreuss&quot;&gt;alexanderpreuss&lt;/a&gt; Can you take a look?&lt;/p&gt;</comment>
                            <comment id="17511293" author="twalthr" created="Wed, 23 Mar 2022 14:48:51 +0000"  >&lt;p&gt;IIRC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=matriv&quot; class=&quot;user-hover&quot; rel=&quot;matriv&quot;&gt;matriv&lt;/a&gt; was also involved here.&lt;/p&gt;</comment>
                            <comment id="17518792" author="fabian.paul" created="Thu, 7 Apr 2022 10:59:33 +0000"  >&lt;p&gt;Merged in master: 0d0c7a5e10f38b394ccd956511d92f0d11569d26&lt;/p&gt;</comment>
                            <comment id="17518793" author="fabian.paul" created="Thu, 7 Apr 2022 11:00:14 +0000"  >&lt;p&gt;Merged in release-1.15: 051825bd00275cbea2a684ad8085b9563aa6fb47&lt;/p&gt;</comment>
                            <comment id="17603470" author="zentol" created="Tue, 13 Sep 2022 08:59:32 +0000"  >&lt;p&gt;elasticsearch-main: 6e61d797872f1e49d1840c3339464bb55c3de2f6&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13041428" name="&#25130;&#23631;2022-03-23 &#19978;&#21320;12.48.02.png" size="234144" author="hackergin" created="Tue, 22 Mar 2022 16:59:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10pu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>