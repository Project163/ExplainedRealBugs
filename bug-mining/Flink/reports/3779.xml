<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:44:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-16360]  connector on hive 2.0.1 don&apos;t  support type conversion from STRING to VARCHAR</title>
                <link>https://issues.apache.org/jira/browse/FLINK-16360</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&#160;it threw &#160;exception&#160; when we query hive 2.0.1 by flink 1.10.0&lt;/p&gt;

&lt;p&gt;&#160;Exception stack&#65306;&lt;/p&gt;

&lt;p&gt;org.apache.flink.runtime.JobException: Recovery is suppressed by FixedDelayRestartBackoffTimeStrategy(maxNumberRestartAttempts=50, backoffTimeMS=10000)&lt;br/&gt;
 at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:110)&lt;br/&gt;
 at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:76)&lt;br/&gt;
 at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)&lt;br/&gt;
 at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:186)&lt;br/&gt;
 at org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:180)&lt;br/&gt;
 at org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:484)&lt;br/&gt;
 at org.apache.flink.runtime.jobmaster.JobMaster.updateTaskExecutionState(JobMaster.java:380)&lt;br/&gt;
 at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)&lt;br/&gt;
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
 at java.lang.reflect.Method.invoke(Method.java:498)&lt;br/&gt;
 at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcInvocation(AkkaRpcActor.java:279)&lt;br/&gt;
 at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:194)&lt;br/&gt;
 at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&lt;br/&gt;
 at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&lt;br/&gt;
 at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&lt;br/&gt;
 at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&lt;br/&gt;
 at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:123)&lt;br/&gt;
 at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&lt;br/&gt;
 at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)&lt;br/&gt;
 at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&lt;br/&gt;
 at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&lt;br/&gt;
 at akka.actor.Actor$class.aroundReceive(Actor.scala:517)&lt;br/&gt;
 at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&lt;br/&gt;
 at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&lt;br/&gt;
 at akka.actor.ActorCell.invoke(ActorCell.scala:561)&lt;br/&gt;
 at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&lt;br/&gt;
 at akka.dispatch.Mailbox.run(Mailbox.scala:225)&lt;br/&gt;
 at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&lt;br/&gt;
 at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&lt;br/&gt;
 at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&lt;br/&gt;
 at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&lt;br/&gt;
 at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&lt;br/&gt;
Caused by: java.io.IOException: java.lang.reflect.InvocationTargetException&lt;br/&gt;
 at org.apache.flink.orc.shim.OrcShimV200.createRecordReader(OrcShimV200.java:76)&lt;br/&gt;
 at org.apache.flink.orc.shim.OrcShimV200.createRecordReader(OrcShimV200.java:123)&lt;br/&gt;
 at org.apache.flink.orc.OrcSplitReader.&amp;lt;init&amp;gt;(OrcSplitReader.java:73)&lt;br/&gt;
 at org.apache.flink.orc.OrcColumnarRowSplitReader.&amp;lt;init&amp;gt;(OrcColumnarRowSplitReader.java:55)&lt;br/&gt;
 at org.apache.flink.orc.OrcSplitReaderUtil.genPartColumnarRowReader(OrcSplitReaderUtil.java:96)&lt;br/&gt;
 at org.apache.flink.connectors.hive.read.HiveVectorizedOrcSplitReader.&amp;lt;init&amp;gt;(HiveVectorizedOrcSplitReader.java:65)&lt;br/&gt;
 at org.apache.flink.connectors.hive.read.HiveTableInputFormat.open(HiveTableInputFormat.java:117)&lt;br/&gt;
 at org.apache.flink.connectors.hive.read.HiveTableInputFormat.open(HiveTableInputFormat.java:56)&lt;br/&gt;
 at org.apache.flink.streaming.api.functions.source.InputFormatSourceFunction.run(InputFormatSourceFunction.java:85)&lt;br/&gt;
 at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:100)&lt;br/&gt;
 at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:63)&lt;br/&gt;
 at org.apache.flink.streaming.runtime.tasks.SourceStreamTask$LegacySourceFunctionThread.run(SourceStreamTask.java:196)&lt;br/&gt;
Caused by: java.lang.reflect.InvocationTargetException&lt;br/&gt;
 at sun.reflect.GeneratedMethodAccessor37.invoke(Unknown Source)&lt;br/&gt;
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
 at java.lang.reflect.Method.invoke(Method.java:498)&lt;br/&gt;
 at org.apache.commons.lang3.reflect.MethodUtils.invokeExactMethod(MethodUtils.java:204)&lt;br/&gt;
 at org.apache.commons.lang3.reflect.MethodUtils.invokeExactMethod(MethodUtils.java:165)&lt;br/&gt;
 at org.apache.flink.orc.shim.OrcShimV200.createRecordReader(OrcShimV200.java:74)&lt;br/&gt;
 ... 11 more&lt;br/&gt;
Caused by: java.io.IOException: ORC does not support type conversion from STRING to VARCHAR&lt;br/&gt;
 at org.apache.hadoop.hive.ql.io.orc.SchemaEvolution.validateAndCreate(SchemaEvolution.java:96)&lt;br/&gt;
 at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.&amp;lt;init&amp;gt;(RecordReaderImpl.java:255)&lt;br/&gt;
 at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.&amp;lt;init&amp;gt;(RecordReaderImpl.java:79)&lt;br/&gt;
 at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$Builder.build(RecordReaderImpl.java:236)&lt;br/&gt;
 at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.rowsOptions(ReaderImpl.java:680)&lt;br/&gt;
 ... 17 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;os:centos&lt;br/&gt;
java:&#160;1.8.0_92&lt;/p&gt;

&lt;p&gt;flink :1.10.0&lt;/p&gt;

&lt;p&gt;hadoop:&#160;2.7.2&lt;/p&gt;

&lt;p&gt;hive:2.0.1&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</environment>
        <key id="13288616">FLINK-16360</key>
            <summary> connector on hive 2.0.1 don&apos;t  support type conversion from STRING to VARCHAR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lzljs3620320">Jingsong Lee</assignee>
                                    <reporter username="wgcn">wgcn</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 2 Mar 2020 06:06:53 +0000</created>
                <updated>Mon, 2 Mar 2020 10:00:58 +0000</updated>
                            <resolved>Mon, 2 Mar 2020 10:00:58 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Connectors / Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17048816" author="lzljs3620320" created="Mon, 2 Mar 2020 06:16:49 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wgcn&quot; class=&quot;user-hover&quot; rel=&quot;wgcn&quot;&gt;wgcn&lt;/a&gt;&#160;for reporting, Hive 2.0 ORC not support schema evolution from STRING to VARCHAR.&lt;/p&gt;

&lt;p&gt;We need produce STRING in ORC for VarcharType(MAX_LENGHT) in Flink.&lt;/p&gt;</comment>
                            <comment id="17048981" author="lzljs3620320" created="Mon, 2 Mar 2020 10:00:41 +0000"  >&lt;p&gt;master:&#160;d9b9aad6c92bc4f65bae04821a041082b3ed6cf8&lt;/p&gt;

&lt;p&gt;release-1.10:&#160;ec4155a298eaf3012bbbb139082713e86a4e60b4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12995092" name="exceptionstack" size="5111" author="wgcn" created="Mon, 2 Mar 2020 05:52:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c220:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>