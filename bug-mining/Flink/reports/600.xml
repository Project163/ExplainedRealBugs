<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:21:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2694] JobManagerProcessReapingTest.testReapProcessOnFailure failed on Travis</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2694</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;I observed a failing &lt;tt&gt;JobManagerProcessReapingTest.testReapProcessOnFailure&lt;/tt&gt; test case on Travis. The reason for the test failure seems to be that the &lt;tt&gt;JobManager&lt;/tt&gt; could not be started. The reason for this was that Netty could not bind to the specified port.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/80642036/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/80642036/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12875383">FLINK-2694</key>
            <summary>JobManagerProcessReapingTest.testReapProcessOnFailure failed on Travis</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 17 Sep 2015 14:58:20 +0000</created>
                <updated>Wed, 23 Sep 2015 10:14:33 +0000</updated>
                            <resolved>Wed, 23 Sep 2015 10:14:33 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14875644" author="githubbot" created="Fri, 18 Sep 2015 13:53:28 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1145&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2694&quot; title=&quot;JobManagerProcessReapingTest.testReapProcessOnFailure failed on Travis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2694&quot;&gt;&lt;del&gt;FLINK-2694&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;test-stability&amp;#93;&lt;/span&gt; Hardens the JobManagerProcessReapingTest.testReapProcessOnFailure test case&lt;/p&gt;

&lt;p&gt;    The `JobManagerProcessReapingTest.testReapProcessOnFailure` predetermines the port for the `JobManager` which is started by using `NetUtils.getAvailablePort`. This can cause problems if in the meantime another process has opened a socket binding to this port. In order to harden this test case, the `JobManager` is now allowed to pick itself a free port. The selected port is extracted from the logging output of the `JobManager`.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixJobManagerProcessReapingTest&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1145.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1145.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1145&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4332b8e8aafd43f766be5357e505297322d109c7&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-09-18T13:49:24Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2694&quot; title=&quot;JobManagerProcessReapingTest.testReapProcessOnFailure failed on Travis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2694&quot;&gt;&lt;del&gt;FLINK-2694&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;test-stability&amp;#93;&lt;/span&gt; Hardens the JobManagerProcessReapingTest.testReapProcessOnFailure test case by letting the JobManager choose its port instead of predetermining it via the NetUtils.getAvailablePort.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14900429" author="githubbot" created="Mon, 21 Sep 2015 09:26:48 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1145#issuecomment-141923403&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1145#issuecomment-141923403&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Failing test case is `org.apache.flink.yarn.YARNSessionFIFOITCase.testJavaAPI` and, thus, unrelated.&lt;/p&gt;</comment>
                            <comment id="14904292" author="githubbot" created="Wed, 23 Sep 2015 10:06:12 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1145#issuecomment-142553329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1145#issuecomment-142553329&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This is more robust, because Akka has retry loop when trying to bind to the randomly picked port, right? The change looks good and works fine. +1&lt;/p&gt;

&lt;p&gt;    Optional: I would add two comments to test: one that the log4j log level needs to be &amp;gt;= INFO and that the log message needs to be &quot;Starting JobManager...&quot;. If one of these two things changes, the test will not work anymore and it might be helpful for debugging if it every happens.&lt;/p&gt;</comment>
                            <comment id="14904293" author="githubbot" created="Wed, 23 Sep 2015 10:08:15 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1145#issuecomment-142554024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1145#issuecomment-142554024&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think that the Akka will just randomly pick a free port. Thus, there is no need for retrying.&lt;/p&gt;

&lt;p&gt;    I&apos;ll add the comments to the test. That&apos;s a good point &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    Merging this then.&lt;/p&gt;</comment>
                            <comment id="14904297" author="githubbot" created="Wed, 23 Sep 2015 10:11:16 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1145#issuecomment-142554920&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1145#issuecomment-142554920&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ah yeah they directly bind the socket &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14904301" author="githubbot" created="Wed, 23 Sep 2015 10:13:32 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1145&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14904303" author="till.rohrmann" created="Wed, 23 Sep 2015 10:14:33 +0000"  >&lt;p&gt;Fixed via 54d8f49d2aae1b9b92828f0a81a411f11520ecc9&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2kb2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>