<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:34:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-9159] Sanity check default timeout values</title>
                <link>https://issues.apache.org/jira/browse/FLINK-9159</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Check that the default timeout values for resource release are sanely chosen.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13151832">FLINK-9159</key>
            <summary>Sanity check default timeout values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gjy">Gary Yao</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>flip-6</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 12 Apr 2018 02:31:11 +0000</created>
                <updated>Tue, 31 Jul 2018 12:30:03 +0000</updated>
                            <resolved>Tue, 31 Jul 2018 12:30:03 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16454535" author="fhueske" created="Thu, 26 Apr 2018 16:55:28 +0000"  >&lt;p&gt;By default Tez kills idle containers with a min timeout of 5 seconds and max timeout of 10 seconds (&lt;a href=&quot;http://tez.apache.org/releases/0.9.0/tez-api-javadocs/configs/TezConfiguration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tez.apache.org/releases/0.9.0/tez-api-javadocs/configs/TezConfiguration.html&lt;/a&gt;, parameters: tez.am.container.idle.release-timeout-max.millis, tez.am.container.idle.release-timeout-min.millis)&lt;/p&gt;</comment>
                            <comment id="16553247" author="gjy" created="Mon, 23 Jul 2018 18:40:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=till.rohrmann&quot; class=&quot;user-hover&quot; rel=&quot;till.rohrmann&quot;&gt;till.rohrmann&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Find below the config keys that I had a look at and their default values.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Config Key&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Default Value&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;slotmanager.request-timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10 m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;slotmanager.taskmanager-timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;30 s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;slot.request.timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;5 m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;slot.idle.timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;50 s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;taskmanager.registration.timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;5 m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;mesos.failover-timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10 m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;resourcemanager.job.timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;5 m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;heartbeat.timeout&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;50s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;heartbeat.interval&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Recommendations: &lt;/p&gt;

&lt;p&gt;The value for &lt;tt&gt;mesos.failover-timeout&lt;/tt&gt; is too low. The value specifies the &lt;em&gt;&quot;amount of time (in seconds) that the master will wait for the  scheduler to failover before it tears down the framework by killing all its tasks/executors.&quot;&lt;/em&gt; For production systems, the recommended value is 1 week.&lt;/p&gt;

&lt;p&gt;Between slotmanager.request-timeout and slot.request.timeout the minimum of both values will be effectively used. One of them should be removed or at least both should be set to the same value.&lt;/p&gt;

&lt;p&gt;Some of the timeouts, e.g., slotmanager.taskmanager-timeout, are measured using &lt;tt&gt;System.currentTimeMillis()&lt;/tt&gt;. If the stars align, e.g., during DST clock changes, resources may not be freed.&lt;/p&gt;</comment>
                            <comment id="16554447" author="githubbot" created="Tue, 24 Jul 2018 16:02:46 +0000"  >&lt;p&gt;GitHub user GJL opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6406&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6406&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9159&quot; title=&quot;Sanity check default timeout values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9159&quot;&gt;&lt;del&gt;FLINK-9159&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Sanity check default timeout values&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    &lt;b&gt;Set the default timeouts for resource release to sane values. Consolidate config keys and documentation.&lt;/b&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;b&gt;Set default value of `mesos.failover-timeout` to 1 week.&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Deprecate config key `slotmanager.request-timeout`&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This change added tests and can be verified as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;b&gt;Added test `SlotManagerConfigurationTest` to verify that slot request timeouts are set correctly.&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Manually deployed on Mesos 1.5.0.&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (*&lt;b&gt;yes&lt;/b&gt;* / no)&lt;/li&gt;
	&lt;li&gt;The serializers: (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (*&lt;b&gt;yes&lt;/b&gt;* / no / don&apos;t know)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? (*&lt;b&gt;not applicable&lt;/b&gt;* / docs / JavaDocs / not documented)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    cc: @tillrohrmann &lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/GJL/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/GJL/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9159&quot; title=&quot;Sanity check default timeout values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9159&quot;&gt;&lt;del&gt;FLINK-9159&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6406.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6406.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #6406&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 96ef18e322c5623a609382057985b35971ba3234&lt;br/&gt;
Author: gyao &amp;lt;gary@...&amp;gt;&lt;br/&gt;
Date:   2018-07-24T13:38:47Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9159&quot; title=&quot;Sanity check default timeout values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9159&quot;&gt;&lt;del&gt;FLINK-9159&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;mesos&amp;#93;&lt;/span&gt; Set default value of mesos.failover-timeout to 1 week.&lt;/p&gt;

&lt;p&gt;commit 112122912d7dd78c612c1648f3e2b041ae65afa6&lt;br/&gt;
Author: gyao &amp;lt;gary@...&amp;gt;&lt;br/&gt;
Date:   2018-07-24T13:48:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9159&quot; title=&quot;Sanity check default timeout values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9159&quot;&gt;&lt;del&gt;FLINK-9159&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Deprecate config key slotmanager.request-timeout&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Replace config key slotmanager.request-timeout with slot.request.timeout because&lt;br/&gt;
    both keys have effectively the same semantics.&lt;/li&gt;
	&lt;li&gt;Rename key slotmanager.taskmanager-timeout to&lt;br/&gt;
    resourcemanager.taskmanager-timeout.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 787f7c1480a5676e7ce52092265b3cd051064e3c&lt;br/&gt;
Author: gyao &amp;lt;gary@...&amp;gt;&lt;br/&gt;
Date:   2018-07-24T13:55:16Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Add -DskipTests flag to command that generates docs.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16554463" author="githubbot" created="Tue, 24 Jul 2018 16:12:56 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6406#discussion_r204819304&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6406#discussion_r204819304&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-docs/README.md &amp;#8212;&lt;br/&gt;
    @@ -28,7 +28,7 @@ The `RestAPIDocGenerator` can be used to generate a full reference of the REST A&lt;br/&gt;
     To integrate a new endpoint into the generator&lt;br/&gt;
     1. Add a new `DocumentingRestEndpoint` class to `RestAPIDocGenerator` that extends the new endpoint class&lt;br/&gt;
     2. Add another call to `createHtmlFile` in `RestAPIDocGenerator#main`&lt;br/&gt;
    -3. Regenerate the documentation by running `mvn package -Dgenerate-rest-docs -pl flink-docs -am -nsu`&lt;br/&gt;
    +3. Regenerate the documentation by running `mvn package -Dgenerate-rest-docs -pl flink-docs -am -nsu -DskipTests`&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I intentionally left this option out. This guarantees the correctness of the output since it both tests the generator before the generation, and the completeness afterwards. There&apos;s a lot of additional options one &lt;em&gt;could&lt;/em&gt; add, but I&apos;d prefer if we stick to the &lt;em&gt;necessary&lt;/em&gt; ones.&lt;/p&gt;</comment>
                            <comment id="16554469" author="githubbot" created="Tue, 24 Jul 2018 16:16:35 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6406#discussion_r204820593&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6406#discussion_r204820593&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-docs/README.md &amp;#8212;&lt;br/&gt;
    @@ -28,7 +28,7 @@ The `RestAPIDocGenerator` can be used to generate a full reference of the REST A&lt;br/&gt;
     To integrate a new endpoint into the generator&lt;br/&gt;
     1. Add a new `DocumentingRestEndpoint` class to `RestAPIDocGenerator` that extends the new endpoint class&lt;br/&gt;
     2. Add another call to `createHtmlFile` in `RestAPIDocGenerator#main`&lt;br/&gt;
    -3. Regenerate the documentation by running `mvn package -Dgenerate-rest-docs -pl flink-docs -am -nsu`&lt;br/&gt;
    +3. Regenerate the documentation by running `mvn package -Dgenerate-rest-docs -pl flink-docs -am -nsu -DskipTests`&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    ah wait a second, this would run the test for all modules. urgh...&lt;/p&gt;</comment>
                            <comment id="16563549" author="githubbot" created="Tue, 31 Jul 2018 12:11:02 +0000"  >&lt;p&gt;tillrohrmann commented on a change in pull request #6406: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9159&quot; title=&quot;Sanity check default timeout values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9159&quot;&gt;&lt;del&gt;FLINK-9159&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Sanity check default timeout values&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6406#discussion_r206499652&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6406#discussion_r206499652&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfigurationTest.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,66 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+package org.apache.flink.runtime.resourcemanager.slotmanager;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.flink.configuration.Configuration;&lt;br/&gt;
+import org.apache.flink.configuration.JobManagerOptions;&lt;br/&gt;
+import org.apache.flink.configuration.ResourceManagerOptions;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import static org.hamcrest.CoreMatchers.equalTo;&lt;br/&gt;
+import static org.hamcrest.CoreMatchers.is;&lt;br/&gt;
+import static org.junit.Assert.assertThat;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Tests for &lt;/p&gt;
{@link SlotManagerConfiguration}
&lt;p&gt;.&lt;br/&gt;
+ */&lt;br/&gt;
+public class SlotManagerConfigurationTest {&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Should extend `TestLogger`&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16563550" author="githubbot" created="Tue, 31 Jul 2018 12:11:02 +0000"  >&lt;p&gt;tillrohrmann commented on a change in pull request #6406: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9159&quot; title=&quot;Sanity check default timeout values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9159&quot;&gt;&lt;del&gt;FLINK-9159&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Sanity check default timeout values&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6406#discussion_r206500540&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6406#discussion_r206500540&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfiguration.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -68,11 +74,24 @@ public static SlotManagerConfiguration fromConfiguration(Configuration configura&lt;br/&gt;
 				&quot;value &quot; + AkkaOptions.ASK_TIMEOUT + &apos;.&apos;, e);&lt;br/&gt;
 		}&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final Time slotRequestTimeout = Time.milliseconds(&lt;/li&gt;
	&lt;li&gt;configuration.getLong(ResourceManagerOptions.SLOT_REQUEST_TIMEOUT));&lt;br/&gt;
+		final Time slotRequestTimeout = getSlotRequestTimeout(configuration);&lt;br/&gt;
 		final Time taskManagerTimeout = Time.milliseconds(&lt;br/&gt;
 				configuration.getLong(ResourceManagerOptions.TASK_MANAGER_TIMEOUT));&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; 		return new SlotManagerConfiguration(rpcTimeout, slotRequestTimeout, taskManagerTimeout);&lt;br/&gt;
 	}&lt;br/&gt;
+&lt;br/&gt;
+	private static Time getSlotRequestTimeout(final Configuration configuration) {&lt;br/&gt;
+		final long legacySlotRequestTimeoutMs = configuration.getLong(ResourceManagerOptions.SLOT_REQUEST_TIMEOUT);&lt;br/&gt;
+		final long slotRequestTimeoutMs;&lt;br/&gt;
+		if (legacySlotRequestTimeoutMs == ResourceManagerOptions.SLOT_REQUEST_TIMEOUT.defaultValue()) {&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   I think `configuration.contains(ResourceManagerOptions.SLOT_REQUEST_TIMEOUT)` would be more accurate because one could set this option accidentally to the default value.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16563581" author="githubbot" created="Tue, 31 Jul 2018 12:28:40 +0000"  >&lt;p&gt;asfgit closed pull request #6406: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9159&quot; title=&quot;Sanity check default timeout values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9159&quot;&gt;&lt;del&gt;FLINK-9159&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Sanity check default timeout values&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6406&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6406&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/docs/_includes/generated/mesos_configuration.html b/docs/_includes/generated/mesos_configuration.html&lt;br/&gt;
index cd0ae2432e3..c514c86af3e 100644&lt;br/&gt;
&amp;#8212; a/docs/_includes/generated/mesos_configuration.html&lt;br/&gt;
+++ b/docs/_includes/generated/mesos_configuration.html&lt;br/&gt;
@@ -9,7 +9,7 @@&lt;br/&gt;
     &amp;lt;tbody&amp;gt;&lt;br/&gt;
         &amp;lt;tr&amp;gt;&lt;br/&gt;
             &amp;lt;td&amp;gt;&amp;lt;h5&amp;gt;mesos.failover-timeout&amp;lt;/h5&amp;gt;&amp;lt;/td&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;td style=&quot;word-wrap: break-word;&quot;&amp;gt;600&amp;lt;/td&amp;gt;&lt;br/&gt;
+            &amp;lt;td style=&quot;word-wrap: break-word;&quot;&amp;gt;604800&amp;lt;/td&amp;gt;&lt;br/&gt;
             &amp;lt;td&amp;gt;The failover timeout in seconds for the Mesos scheduler, after which running tasks are automatically shut down.&amp;lt;/td&amp;gt;&lt;br/&gt;
         &amp;lt;/tr&amp;gt;&lt;br/&gt;
         &amp;lt;tr&amp;gt;&lt;br/&gt;
diff --git a/docs/_includes/generated/resource_manager_configuration.html b/docs/_includes/generated/resource_manager_configuration.html&lt;br/&gt;
index 1b82e51b4ef..9243fcd3cb9 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/docs/_includes/generated/resource_manager_configuration.html&lt;br/&gt;
+++ b/docs/_includes/generated/resource_manager_configuration.html&lt;br/&gt;
@@ -32,5 +32,10 @@&lt;br/&gt;
             &amp;lt;td style=&quot;word-wrap: break-word;&quot;&amp;gt;0&amp;lt;/td&amp;gt;&lt;br/&gt;
             &amp;lt;td&amp;gt;Defines the network port to connect to for communication with the resource manager. By default, the port of the JobManager, because the same ActorSystem is used. Its not possible to use this configuration key to define port ranges.&amp;lt;/td&amp;gt;&lt;br/&gt;
         &amp;lt;/tr&amp;gt;&lt;br/&gt;
+        &amp;lt;tr&amp;gt;&lt;br/&gt;
+            &amp;lt;td&amp;gt;&amp;lt;h5&amp;gt;resourcemanager.taskmanager-timeout&amp;lt;/h5&amp;gt;&amp;lt;/td&amp;gt;&lt;br/&gt;
+            &amp;lt;td style=&quot;word-wrap: break-word;&quot;&amp;gt;30000&amp;lt;/td&amp;gt;&lt;br/&gt;
+            &amp;lt;td&amp;gt;The timeout for an idle task manager to be released.&amp;lt;/td&amp;gt;&lt;br/&gt;
+        &amp;lt;/tr&amp;gt;&lt;br/&gt;
     &amp;lt;/tbody&amp;gt;&lt;br/&gt;
 &amp;lt;/table&amp;gt;&lt;br/&gt;
diff --git a/docs/_includes/generated/slot_manager_configuration.html b/docs/_includes/generated/slot_manager_configuration.html&lt;br/&gt;
deleted file mode 100644&lt;br/&gt;
index 1517a395f27..00000000000&lt;/li&gt;
			&lt;li&gt;a/docs/_includes/generated/slot_manager_configuration.html&lt;br/&gt;
+++ /dev/null&lt;br/&gt;
@@ -1,21 +0,0 @@&lt;br/&gt;
-&amp;lt;table class=&quot;table table-bordered&quot;&amp;gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;&amp;lt;thead&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;tr&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;th class=&quot;text-left&quot; style=&quot;width: 20%&quot;&amp;gt;Key&amp;lt;/th&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;th class=&quot;text-left&quot; style=&quot;width: 15%&quot;&amp;gt;Default&amp;lt;/th&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;th class=&quot;text-left&quot; style=&quot;width: 65%&quot;&amp;gt;Description&amp;lt;/th&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/tr&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/thead&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;tbody&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;tr&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;td&amp;gt;&amp;lt;h5&amp;gt;slotmanager.request-timeout&amp;lt;/h5&amp;gt;&amp;lt;/td&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;td style=&quot;word-wrap: break-word;&quot;&amp;gt;600000&amp;lt;/td&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;td&amp;gt;The timeout for a slot request to be discarded.&amp;lt;/td&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/tr&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;tr&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;td&amp;gt;&amp;lt;h5&amp;gt;slotmanager.taskmanager-timeout&amp;lt;/h5&amp;gt;&amp;lt;/td&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;td style=&quot;word-wrap: break-word;&quot;&amp;gt;30000&amp;lt;/td&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;td&amp;gt;The timeout for an idle task manager to be released.&amp;lt;/td&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/tr&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/tbody&amp;gt;&lt;br/&gt;
-&amp;lt;/table&amp;gt;&lt;br/&gt;
diff --git a/docs/ops/config.md b/docs/ops/config.md&lt;br/&gt;
index 1e6be19e724..fd0df0c2370 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/docs/ops/config.md&lt;br/&gt;
+++ b/docs/ops/config.md&lt;br/&gt;
@@ -170,12 +170,6 @@ You have to configure `jobmanager.archive.fs.dir` in order to archive terminated&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


 {% include generated/history_server_configuration.html %}

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;
			&lt;ol&gt;
				&lt;li&gt;Slot Manager&lt;br/&gt;
-&lt;br/&gt;
-The configuration keys in this section are relevant for the SlotManager running in the ResourceManager&lt;br/&gt;
-&lt;br/&gt;
-
{% include generated/slot_manager_configuration.html %}
&lt;p&gt;-&lt;/p&gt;&lt;/li&gt;
			&lt;/ol&gt;
			&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
		&lt;li&gt;Legacy&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;`mode`: Execution mode of Flink. Possible values are `legacy` and `new`. In order to start the legacy components, you have to specify `legacy` (DEFAULT: `new`).&lt;br/&gt;
diff --git a/flink-core/src/main/java/org/apache/flink/configuration/JobManagerOptions.java b/flink-core/src/main/java/org/apache/flink/configuration/JobManagerOptions.java&lt;br/&gt;
index f78ed9d367d..2bb5732cb42 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/flink-core/src/main/java/org/apache/flink/configuration/JobManagerOptions.java&lt;br/&gt;
+++ b/flink-core/src/main/java/org/apache/flink/configuration/JobManagerOptions.java&lt;br/&gt;
@@ -145,11 +145,17 @@&lt;br/&gt;
 		.defaultValue(60L * 60L)&lt;br/&gt;
 		.withDescription(&quot;The time in seconds after which a completed job expires and is purged from the job store.&quot;);&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+	/**&lt;br/&gt;
+	 * The timeout in milliseconds for requesting a slot from Slot Pool.&lt;br/&gt;
+	 */&lt;br/&gt;
 	public static final ConfigOption&amp;lt;Long&amp;gt; SLOT_REQUEST_TIMEOUT =&lt;br/&gt;
 		key(&quot;slot.request.timeout&quot;)&lt;br/&gt;
 		.defaultValue(5L * 60L * 1000L)&lt;br/&gt;
 		.withDescription(&quot;The timeout in milliseconds for requesting a slot from Slot Pool.&quot;);&lt;/p&gt;

&lt;p&gt;+	/**&lt;br/&gt;
+	 * The timeout in milliseconds for a idle slot in Slot Pool.&lt;br/&gt;
+	 */&lt;br/&gt;
 	public static final ConfigOption&amp;lt;Long&amp;gt; SLOT_IDLE_TIMEOUT =&lt;br/&gt;
 		key(&quot;slot.idle.timeout&quot;)&lt;br/&gt;
 			// default matches heartbeat.timeout so that sticky allocation is not lost on timeouts for local recovery&lt;br/&gt;
diff --git a/flink-core/src/main/java/org/apache/flink/configuration/ResourceManagerOptions.java b/flink-core/src/main/java/org/apache/flink/configuration/ResourceManagerOptions.java&lt;br/&gt;
index 4ce49813bc5..5a203e3372b 100644&lt;br/&gt;
&amp;#8212; a/flink-core/src/main/java/org/apache/flink/configuration/ResourceManagerOptions.java&lt;br/&gt;
+++ b/flink-core/src/main/java/org/apache/flink/configuration/ResourceManagerOptions.java&lt;br/&gt;
@@ -19,16 +19,12 @@&lt;br/&gt;
 package org.apache.flink.configuration;&lt;/p&gt;

&lt;p&gt; import org.apache.flink.annotation.PublicEvolving;&lt;br/&gt;
-import org.apache.flink.annotation.docs.ConfigGroup;&lt;br/&gt;
-import org.apache.flink.annotation.docs.ConfigGroups;&lt;br/&gt;
+import org.apache.flink.configuration.description.Description;&lt;/p&gt;

&lt;p&gt; /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The set of configuration options relating to the ResourceManager.&lt;br/&gt;
  */&lt;br/&gt;
 @PublicEvolving&lt;br/&gt;
-@ConfigGroups(groups = 
{
-	@ConfigGroup(name = &quot;SlotManager&quot;, keyPrefix = &quot;slotmanager&quot;)
-}
&lt;p&gt;)&lt;br/&gt;
 public class ResourceManagerOptions {&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; 	/**&lt;br/&gt;
@@ -72,20 +68,35 @@&lt;/p&gt;

&lt;p&gt; 	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The timeout for a slot request to be discarded, in milliseconds.&lt;br/&gt;
+	 * @deprecated Use 
{@link JobManagerOptions#SLOT_REQUEST_TIMEOUT}.&lt;br/&gt;
 	 */&lt;br/&gt;
+	@Deprecated&lt;br/&gt;
 	public static final ConfigOption&amp;lt;Long&amp;gt; SLOT_REQUEST_TIMEOUT = ConfigOptions&lt;br/&gt;
 		.key(&quot;slotmanager.request-timeout&quot;)&lt;br/&gt;
-		.defaultValue(600000L)&lt;br/&gt;
+		.defaultValue(-1L)&lt;br/&gt;
 		.withDescription(&quot;The timeout for a slot request to be discarded.&quot;);&lt;br/&gt;
 &lt;br/&gt;
 	/**&lt;br/&gt;
 	 * The timeout for an idle task manager to be released, in milliseconds.&lt;br/&gt;
+	 * @deprecated Use {@link #TASK_MANAGER_TIMEOUT}.&lt;br/&gt;
 	 */&lt;br/&gt;
-	public static final ConfigOption&amp;lt;Long&amp;gt; TASK_MANAGER_TIMEOUT = ConfigOptions&lt;br/&gt;
+	@Deprecated&lt;br/&gt;
+	public static final ConfigOption&amp;lt;Long&amp;gt; SLOT_MANAGER_TASK_MANAGER_TIMEOUT = ConfigOptions&lt;br/&gt;
 		.key(&quot;slotmanager.taskmanager-timeout&quot;)&lt;br/&gt;
 		.defaultValue(30000L)&lt;br/&gt;
 		.withDescription(&quot;The timeout for an idle task manager to be released.&quot;);&lt;br/&gt;
 &lt;br/&gt;
+	/**&lt;br/&gt;
+	 * The timeout for an idle task manager to be released, in milliseconds.&lt;br/&gt;
+	 */&lt;br/&gt;
+	public static final ConfigOption&amp;lt;Long&amp;gt; TASK_MANAGER_TIMEOUT = ConfigOptions&lt;br/&gt;
+		.key(&quot;resourcemanager.taskmanager-timeout&quot;)&lt;br/&gt;
+		.defaultValue(30000L)&lt;br/&gt;
+		.withDeprecatedKeys(SLOT_MANAGER_TASK_MANAGER_TIMEOUT.key())&lt;br/&gt;
+		.withDescription(Description.builder()&lt;br/&gt;
+			.text(&quot;The timeout for an idle task manager to be released.&quot;)&lt;br/&gt;
+			.build());&lt;br/&gt;
+&lt;br/&gt;
 	/**&lt;br/&gt;
 	 * Prefix for passing custom environment variables to Flink&apos;s master process.&lt;br/&gt;
 	 * For example for passing LD_LIBRARY_PATH as an env variable to the AppMaster, set:&lt;br/&gt;
diff --git a/flink-docs/README.md b/flink-docs/README.md&lt;br/&gt;
index 61624fad16d..0a574286574 100644&lt;br/&gt;
&amp;#8212; a/flink-docs/README.md&lt;br/&gt;
+++ b/flink-docs/README.md&lt;br/&gt;
@@ -28,7 +28,7 @@ The `RestAPIDocGenerator` can be used to generate a full reference of the REST A&lt;br/&gt;
 To integrate a new endpoint into the generator&lt;br/&gt;
 1. Add a new `DocumentingRestEndpoint` class to `RestAPIDocGenerator` that extends the new endpoint class&lt;br/&gt;
 2. Add another call to `createHtmlFile` in `RestAPIDocGenerator#main`&lt;br/&gt;
-3. Regenerate the documentation by running `mvn package -Dgenerate-rest-docs -pl flink-docs -am -nsu`&lt;br/&gt;
+3. Regenerate the documentation by running `mvn package -Dgenerate-rest-docs -pl flink-docs -am -nsu -DskipTests`&lt;br/&gt;
 4. Integrate the generated file into the REST API documentation by adding `{% include generated/&amp;lt;file-name&amp;gt;.html %}` to the corresponding markdown file.&lt;br/&gt;
 &lt;br/&gt;
 The documentation must be regenerated whenever&lt;br/&gt;
@@ -41,7 +41,7 @@ The `ConfigOptionsDocGenerator` can be use to generate a reference of `ConfigOpt&lt;br/&gt;
 &lt;br/&gt;
 To integrate an `*Options` class from another package, add another module-package argument pair to `ConfigOptionsDocGenerator#LOCATIONS`.&lt;br/&gt;
 &lt;br/&gt;
-The files can be generated by running `mvn package -Dgenerate-config-docs -pl flink-docs -am -nsu`, and can be integrated into the documentation using `{% include generated/&amp;lt;file-name&amp;gt;.html %}`.&lt;br/&gt;
+The files can be generated by running `mvn package -Dgenerate-config-docs -pl flink-docs -am -nsu -DskipTests`, and can be integrated into the documentation using `{% include generated/&amp;lt;file-name&amp;gt;.html %}`.&lt;br/&gt;
 &lt;br/&gt;
 The documentation must be regenerated whenever&lt;br/&gt;
 * an `*Options` class was added or removed&lt;br/&gt;
diff --git a/flink-mesos/src/main/java/org/apache/flink/mesos/configuration/MesosOptions.java b/flink-mesos/src/main/java/org/apache/flink/mesos/configuration/MesosOptions.java&lt;br/&gt;
index 753923fc35e..7046605f514 100644&lt;br/&gt;
&amp;#8212; a/flink-mesos/src/main/java/org/apache/flink/mesos/configuration/MesosOptions.java&lt;br/&gt;
+++ b/flink-mesos/src/main/java/org/apache/flink/mesos/configuration/MesosOptions.java&lt;br/&gt;
@@ -72,7 +72,7 @@&lt;br/&gt;
 	 */&lt;br/&gt;
 	public static final ConfigOption&amp;lt;Integer&amp;gt; FAILOVER_TIMEOUT_SECONDS =&lt;br/&gt;
 		key(&quot;mesos.failover-timeout&quot;)&lt;br/&gt;
-			.defaultValue(600)&lt;br/&gt;
+			.defaultValue(60 * 60 * 24 * 7)&lt;br/&gt;
 			.withDescription(&quot;The failover timeout in seconds for the Mesos scheduler, after which running tasks are&quot; +&lt;br/&gt;
 				&quot; automatically shut down.&quot;);&lt;br/&gt;
 &lt;br/&gt;
diff --git a/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfiguration.java b/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfiguration.java&lt;br/&gt;
index 2f8751a2203..3c806120587 100644&lt;br/&gt;
&amp;#8212; a/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfiguration.java&lt;br/&gt;
+++ b/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfiguration.java&lt;br/&gt;
@@ -21,10 +21,14 @@&lt;br/&gt;
 import org.apache.flink.api.common.time.Time;&lt;br/&gt;
 import org.apache.flink.configuration.AkkaOptions;&lt;br/&gt;
 import org.apache.flink.configuration.Configuration;&lt;br/&gt;
+import org.apache.flink.configuration.JobManagerOptions;&lt;br/&gt;
 import org.apache.flink.configuration.ResourceManagerOptions;&lt;br/&gt;
 import org.apache.flink.util.ConfigurationException;&lt;br/&gt;
 import org.apache.flink.util.Preconditions;&lt;br/&gt;
 &lt;br/&gt;
+import org.slf4j.Logger;&lt;br/&gt;
+import org.slf4j.LoggerFactory;&lt;br/&gt;
+&lt;br/&gt;
 import scala.concurrent.duration.Duration;&lt;br/&gt;
 &lt;br/&gt;
 /**&lt;br/&gt;
@@ -32,6 +36,8 @@&lt;br/&gt;
  */&lt;br/&gt;
 public class SlotManagerConfiguration {
 
+	private static final Logger LOGGER = LoggerFactory.getLogger(SlotManagerConfiguration.class);
+
 	private final Time taskManagerRequestTimeout;
 	private final Time slotRequestTimeout;
 	private final Time taskManagerTimeout;
@@ -68,11 +74,24 @@ public static SlotManagerConfiguration fromConfiguration(Configuration configura
 				&quot;value &quot; + AkkaOptions.ASK_TIMEOUT + &apos;.&apos;, e);
 		}&lt;br/&gt;
 &lt;br/&gt;
-		final Time slotRequestTimeout = Time.milliseconds(&lt;br/&gt;
-				configuration.getLong(ResourceManagerOptions.SLOT_REQUEST_TIMEOUT));&lt;br/&gt;
+		final Time slotRequestTimeout = getSlotRequestTimeout(configuration);&lt;br/&gt;
 		final Time taskManagerTimeout = Time.milliseconds(&lt;br/&gt;
 				configuration.getLong(ResourceManagerOptions.TASK_MANAGER_TIMEOUT));&lt;br/&gt;
 &lt;br/&gt;
 		return new SlotManagerConfiguration(rpcTimeout, slotRequestTimeout, taskManagerTimeout);&lt;br/&gt;
 	}&lt;br/&gt;
+&lt;br/&gt;
+	private static Time getSlotRequestTimeout(final Configuration configuration) {&lt;br/&gt;
+		final long legacySlotRequestTimeoutMs = configuration.getLong(ResourceManagerOptions.SLOT_REQUEST_TIMEOUT);&lt;br/&gt;
+		final long slotRequestTimeoutMs;&lt;br/&gt;
+		if (legacySlotRequestTimeoutMs == ResourceManagerOptions.SLOT_REQUEST_TIMEOUT.defaultValue()) {
+			slotRequestTimeoutMs = configuration.getLong(JobManagerOptions.SLOT_REQUEST_TIMEOUT);
+		} else {&lt;br/&gt;
+			LOGGER.warn(&quot;Config key {} is deprecated; use {} instead.&quot;,&lt;br/&gt;
+				ResourceManagerOptions.SLOT_REQUEST_TIMEOUT,&lt;br/&gt;
+				JobManagerOptions.SLOT_REQUEST_TIMEOUT);&lt;br/&gt;
+			slotRequestTimeoutMs = legacySlotRequestTimeoutMs;&lt;br/&gt;
+		}&lt;br/&gt;
+		return Time.milliseconds(slotRequestTimeoutMs);&lt;br/&gt;
+	}&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfigurationTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfigurationTest.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 00000000000..255ed6b4114&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/slotmanager/SlotManagerConfigurationTest.java&lt;br/&gt;
@@ -0,0 +1,66 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+package org.apache.flink.runtime.resourcemanager.slotmanager;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.flink.configuration.Configuration;&lt;br/&gt;
+import org.apache.flink.configuration.JobManagerOptions;&lt;br/&gt;
+import org.apache.flink.configuration.ResourceManagerOptions;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import static org.hamcrest.CoreMatchers.equalTo;&lt;br/&gt;
+import static org.hamcrest.CoreMatchers.is;&lt;br/&gt;
+import static org.junit.Assert.assertThat;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Tests for {@link SlotManagerConfiguration}.&lt;br/&gt;
+ */&lt;br/&gt;
+public class SlotManagerConfigurationTest {&lt;br/&gt;
+&lt;br/&gt;
+	/**&lt;br/&gt;
+	 * Tests that {@link SlotManagerConfiguration#getSlotRequestTimeout()} returns the value&lt;br/&gt;
+	 * configured under key {@link JobManagerOptions#SLOT_REQUEST_TIMEOUT}
&lt;p&gt;.&lt;br/&gt;
+	 */&lt;br/&gt;
+	@Test&lt;br/&gt;
+	public void testSetSlotRequestTimeout() throws Exception &lt;/p&gt;
{
+		final long slotIdleTimeout = 42;
+
+		final Configuration configuration = new Configuration();
+		configuration.setLong(JobManagerOptions.SLOT_REQUEST_TIMEOUT, slotIdleTimeout);
+		final SlotManagerConfiguration slotManagerConfiguration = SlotManagerConfiguration.fromConfiguration(configuration);
+
+		assertThat(slotManagerConfiguration.getSlotRequestTimeout().toMilliseconds(), is(equalTo(slotIdleTimeout)));
+	}
&lt;p&gt;+&lt;br/&gt;
+	/**&lt;br/&gt;
+	 * Tests that &lt;/p&gt;
{@link ResourceManagerOptions#SLOT_REQUEST_TIMEOUT}
&lt;p&gt; is preferred over&lt;br/&gt;
+	 * &lt;/p&gt;
{@link JobManagerOptions#SLOT_REQUEST_TIMEOUT}
&lt;p&gt; if set.&lt;br/&gt;
+	 */&lt;br/&gt;
+	@Test&lt;br/&gt;
+	public void testPreferLegacySlotRequestTimeout() throws Exception &lt;/p&gt;
{
+		final long legacySlotIdleTimeout = 42;
+
+		final Configuration configuration = new Configuration();
+		configuration.setLong(ResourceManagerOptions.SLOT_REQUEST_TIMEOUT, legacySlotIdleTimeout);
+		configuration.setLong(JobManagerOptions.SLOT_REQUEST_TIMEOUT, 300000L);
+		final SlotManagerConfiguration slotManagerConfiguration = SlotManagerConfiguration.fromConfiguration(configuration);
+
+		assertThat(slotManagerConfiguration.getSlotRequestTimeout().toMilliseconds(), is(equalTo(legacySlotIdleTimeout)));
+	}
&lt;p&gt;+}&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16563584" author="till.rohrmann" created="Tue, 31 Jul 2018 12:30:03 +0000"  >&lt;p&gt;Fixed via&lt;br/&gt;
master:&lt;br/&gt;
a1d5fb37926eecdf11ecbe821a67ec46c0215e8c&lt;br/&gt;
c33aefa9a014653d928910dcfafdab8e113f623c&lt;/p&gt;

&lt;p&gt;1.6.0: &lt;br/&gt;
b693b014ab39eb8e61db915adf9957c66774abb0&lt;br/&gt;
fa8e281bc67e411ca4002b79f3f803045ec4b53d&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13172934">FLINK-9890</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3sg4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>