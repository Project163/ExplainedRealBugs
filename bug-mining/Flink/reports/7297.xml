<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:19:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-31339] PlannerScalaFreeITCase.testImperativeUdaf</title>
                <link>https://issues.apache.org/jira/browse/FLINK-31339</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;tt&gt;PlannerScalaFreeITCase.testImperativeUdaf&lt;/tt&gt; failed:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46812&amp;amp;view=logs&amp;amp;j=87489130-75dc-54e4-1f45-80c30aa367a3&amp;amp;t=73da6d75-f30d-5d5a-acbe-487a9dcff678&amp;amp;l=15012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46812&amp;amp;view=logs&amp;amp;j=87489130-75dc-54e4-1f45-80c30aa367a3&amp;amp;t=73da6d75-f30d-5d5a-acbe-487a9dcff678&amp;amp;l=15012&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 05 05:55:50 [ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 62.028 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.table.sql.codegen.PlannerScalaFreeITCase
Mar 05 05:55:50 [ERROR] PlannerScalaFreeITCase.testImperativeUdaf  Time elapsed: 40.924 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
Mar 05 05:55:50 org.opentest4j.AssertionFailedError: Did not get expected results before timeout, actual result: [{&lt;span class=&quot;code-quote&quot;&gt;&quot;before&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;after&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;user_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Bob&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;order_cnt&quot;&lt;/span&gt;:1},&lt;span class=&quot;code-quote&quot;&gt;&quot;op&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;}, {&lt;span class=&quot;code-quote&quot;&gt;&quot;before&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;after&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;user_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Alice&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;order_cnt&quot;&lt;/span&gt;:1},&lt;span class=&quot;code-quote&quot;&gt;&quot;op&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;}, {&lt;span class=&quot;code-quote&quot;&gt;&quot;before&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;user_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Bob&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;order_cnt&quot;&lt;/span&gt;:1},&lt;span class=&quot;code-quote&quot;&gt;&quot;after&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;op&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;d&quot;&lt;/span&gt;}, {&lt;span class=&quot;code-quote&quot;&gt;&quot;before&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;after&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;user_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Bob&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;order_cnt&quot;&lt;/span&gt;:2},&lt;span class=&quot;code-quote&quot;&gt;&quot;op&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;}]. ==&amp;gt; expected: &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;gt; but was: &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;gt;
Mar 05 05:55:50 	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
Mar 05 05:55:50 	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
Mar 05 05:55:50 	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
Mar 05 05:55:50 	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
Mar 05 05:55:50 	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:211)
Mar 05 05:55:50 	at org.apache.flink.table.sql.codegen.SqlITCaseBase.checkJsonResultFile(SqlITCaseBase.java:168)
Mar 05 05:55:50 	at org.apache.flink.table.sql.codegen.SqlITCaseBase.runAndCheckSQL(SqlITCaseBase.java:111)
Mar 05 05:55:50 	at org.apache.flink.table.sql.codegen.PlannerScalaFreeITCase.testImperativeUdaf(PlannerScalaFreeITCase.java:43)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13527231">FLINK-31339</key>
            <summary>PlannerScalaFreeITCase.testImperativeUdaf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jiabao.sun">jiabao.sun</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>auto-deprioritized-critical</label>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 6 Mar 2023 10:05:21 +0000</created>
                <updated>Wed, 29 Nov 2023 01:53:31 +0000</updated>
                            <resolved>Wed, 29 Nov 2023 01:53:31 +0000</resolved>
                                    <version>1.16.2</version>
                    <version>1.18.0</version>
                    <version>1.17.1</version>
                                    <fixVersion>1.19.0</fixVersion>
                    <fixVersion>1.18.1</fixVersion>
                    <fixVersion>1.17.3</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17696903" author="mapohl" created="Mon, 6 Mar 2023 12:09:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiangang&quot; class=&quot;user-hover&quot; rel=&quot;Jiangang&quot;&gt;Jiangang&lt;/a&gt; can you have a look at it. This test was added as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-27790&quot; title=&quot;Port ADD JAR /SHOW JARS syntax implementation from SqlClient to TableEnvironment side&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-27790&quot;&gt;&lt;del&gt;FLINK-27790&lt;/del&gt;&lt;/a&gt;. You both showed up in the commit as author and commiter. That&apos;s why I selected you.&lt;/p&gt;

&lt;p&gt;In general, this test relies on some timeout (see &lt;a href=&quot;https://github.com/apache/flink/blob/469049a4359aea40f083bb2b7e4fbc1f86b65ce9/flink-end-to-end-tests/flink-end-to-end-tests-sql/src/test/java/org/apache/flink/table/sql/codegen/SqlITCaseBase.java#L149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SqlITCaseBase:149&lt;/a&gt; which we shouldn&apos;t use in tests anymore (see &lt;a href=&quot;https://flink.apache.org/how-to-contribute/code-style-and-quality-common/#avoid-timeouts-in-junit-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink Coding Guidelines&lt;/a&gt;). I&apos;m not sure whether that&apos;s the reason for the test instability.&lt;/p&gt;

&lt;p&gt;Can you give us some advice on whether that&apos;s a serious issue or whether we can lower the priority?&lt;/p&gt;</comment>
                            <comment id="17697292" author="mapohl" created="Tue, 7 Mar 2023 08:21:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=qafro&quot; class=&quot;user-hover&quot; rel=&quot;qafro&quot;&gt;qafro&lt;/a&gt; may you have a look at it?&lt;/p&gt;</comment>
                            <comment id="17697332" author="lsy" created="Tue, 7 Mar 2023 10:02:54 +0000"  >&lt;p&gt;This test has been introduced since 1.16, so I think it isn&apos;t a blocker issue, just unstable now, we can lower its priority. I will take a look.&lt;/p&gt;</comment>
                            <comment id="17697341" author="mapohl" created="Tue, 7 Mar 2023 10:28:48 +0000"  >&lt;p&gt;Thanks for the clarification. I reduced the priority accordingly.&lt;/p&gt;</comment>
                            <comment id="17753187" author="flink-jira-bot" created="Fri, 11 Aug 2023 10:35:20 +0000"  >&lt;p&gt;I am the &lt;a href=&quot;https://github.com/apache/flink-jira-bot/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink Jira Bot&lt;/a&gt; and I help the community manage its development. I see this issues has been marked as Critical but is unassigned and neither itself nor its Sub-Tasks have been updated for 14 days. I have gone ahead and marked it &quot;stale-critical&quot;. If this ticket is critical, please either assign yourself or give an update. Afterwards, please remove the label or in 7 days the issue will be deprioritized.&lt;/p&gt;</comment>
                            <comment id="17756303" author="flink-jira-bot" created="Sat, 19 Aug 2023 10:35:11 +0000"  >&lt;p&gt;This issue was labeled &quot;stale-critical&quot; 7 days ago and has not received any updates so it is being deprioritized. If this ticket is actually Critical, please raise the priority and ask a committer to assign you the issue or revive the public discussion.&lt;/p&gt;</comment>
                            <comment id="17771943" author="sergey nuyanzin" created="Wed, 4 Oct 2023 17:24:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=53504&amp;amp;view=logs&amp;amp;j=af184cdd-c6d8-5084-0b69-7e9c67b35f7a&amp;amp;t=0f3adb59-eefa-51c6-2858-3654d9e0749d&amp;amp;l=15329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=53504&amp;amp;view=logs&amp;amp;j=af184cdd-c6d8-5084-0b69-7e9c67b35f7a&amp;amp;t=0f3adb59-eefa-51c6-2858-3654d9e0749d&amp;amp;l=15329&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17773936" author="jiabao.sun" created="Wed, 11 Oct 2023 07:36:26 +0000"  >&lt;p&gt;I think the reason for this problem is that it exceeds the `mini-batch.allow-latency`.&lt;/p&gt;

&lt;p&gt;Other problems caused by the same cause:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-31033&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-31033&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-31141&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-31141&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-32269&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-32269&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;MINI-BATCH can have the same results in streaming and batch execution mode, but this will lead to unstable testing.&lt;br/&gt;
I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lsy&quot; class=&quot;user-hover&quot; rel=&quot;lsy&quot;&gt;lsy&lt;/a&gt; that just sending one record for every group key in source is a simple way to fix this problem.&lt;/p&gt;</comment>
                            <comment id="17777590" author="jiabao.sun" created="Fri, 20 Oct 2023 06:33:51 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lsy&quot; class=&quot;user-hover&quot; rel=&quot;lsy&quot;&gt;lsy&lt;/a&gt;, could you help review this?&lt;br/&gt;
Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17790379" author="leonard xu" created="Tue, 28 Nov 2023 06:47:53 +0000"  >&lt;p&gt;Fixed in master(1.19): 63996b5c7fe15d792e6a74d5323b008b9a762b52&lt;/p&gt;</comment>
                            <comment id="17790451" author="mapohl" created="Tue, 28 Nov 2023 09:05:16 +0000"  >&lt;p&gt;Sorry for reopening this one. But it would be helpful to backport test instability fixes as well if the error also appeared in older releases.&lt;/p&gt;</comment>
                            <comment id="17790459" author="leonard xu" created="Tue, 28 Nov 2023 09:12:24 +0000"  >&lt;p&gt;Np, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; &#65292; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiabao.sun&quot; class=&quot;user-hover&quot; rel=&quot;jiabao.sun&quot;&gt;jiabao.sun&lt;/a&gt; would you like to backport the fix to release-1.17 and release-1.18 branch ?&lt;/p&gt;</comment>
                            <comment id="17790461" author="jiabao.sun" created="Tue, 28 Nov 2023 09:22:45 +0000"  >&lt;p&gt;Sure. I&apos;m working on this.&lt;/p&gt;</comment>
                            <comment id="17790592" author="jiabao.sun" created="Tue, 28 Nov 2023 14:18:12 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;BP-1.18&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/flink/pull/23816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/23816&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;BP-1.17&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/flink/pull/23817&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/23817&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;BP-1.16&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/flink/pull/23818&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/23818&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17790599" author="mapohl" created="Tue, 28 Nov 2023 14:26:37 +0000"  >&lt;p&gt;Thanks. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; just as a hint for future backports: 1.16 already reached EOL (with the release of 1.18). There&apos;s no need to create test stability fix backports for 1.16.&lt;/p&gt;</comment>
                            <comment id="17790600" author="jiabao.sun" created="Tue, 28 Nov 2023 14:29:12 +0000"  >&lt;p&gt;Thanks, I have closed that PR.&lt;/p&gt;</comment>
                            <comment id="17790847" author="leonard xu" created="Wed, 29 Nov 2023 01:53:31 +0000"  >&lt;p&gt;Fixed in&lt;/p&gt;

&lt;p&gt;master(1.19): 63996b5c7fe15d792e6a74d5323b008b9a762b52&lt;/p&gt;

&lt;p&gt;release-1.18&#65306;b3b7240cc34e552273b26d8090d45e492474c9ea&lt;/p&gt;

&lt;p&gt;release-1.17: 0053db03772a70c70de0516cc46f7ab363dc74f5&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gd40:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>