<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:58:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23235] SinkITCase.writerAndCommitterAndGlobalCommitterExecuteInStreamingMode fails on azure</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23235</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19867&amp;amp;view=logs&amp;amp;j=02c4e775-43bf-5625-d1cc-542b5209e072&amp;amp;t=e5961b24-88d9-5c77-efd3-955422674c25&amp;amp;l=9972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19867&amp;amp;view=logs&amp;amp;j=02c4e775-43bf-5625-d1cc-542b5209e072&amp;amp;t=e5961b24-88d9-5c77-efd3-955422674c25&amp;amp;l=9972&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Jul 03 23:57:29 [ERROR] Tests run: 6, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.53 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.test.streaming.runtime.SinkITCase
Jul 03 23:57:29 [ERROR] writerAndCommitterAndGlobalCommitterExecuteInStreamingMode(org.apache.flink.test.streaming.runtime.SinkITCase)  Time elapsed: 0.68 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
Jul 03 23:57:29 java.lang.AssertionError: 
Jul 03 23:57:29 
Jul 03 23:57:29 Expected: iterable over [&lt;span class=&quot;code-quote&quot;&gt;&quot;(895,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(895,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(127,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(127,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(148,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(148,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(161,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(161,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(148,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(148,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(662,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(662,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(822,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(822,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(491,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(491,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(275,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(275,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(122,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(122,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(850,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(850,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(630,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(630,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(682,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(682,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(765,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(765,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(434,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(434,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(970,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(970,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(714,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(714,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(795,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(795,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(288,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(288,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(422,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;(422,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,-9223372036854775808)&quot;&lt;/span&gt;] in any order
Jul 03 23:57:29      but: Not matched: &lt;span class=&quot;code-quote&quot;&gt;&quot;end of input&quot;&lt;/span&gt;
Jul 03 23:57:29 	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
Jul 03 23:57:29 	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)
Jul 03 23:57:29 	at org.apache.flink.test.streaming.runtime.SinkITCase.writerAndCommitterAndGlobalCommitterExecuteInStreamingMode(SinkITCase.java:139)
Jul 03 23:57:29 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
Jul 03 23:57:29 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
Jul 03 23:57:29 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
Jul 03 23:57:29 	at java.lang.reflect.Method.invoke(Method.java:498)
Jul 03 23:57:29 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
Jul 03 23:57:29 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
Jul 03 23:57:29 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
Jul 03 23:57:29 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
Jul 03 23:57:29 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
Jul 03 23:57:29 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
Jul 03 23:57:29 	at org.apache.flink.util.TestNameProvider$1.evaluate(TestNameProvider.java:45)
Jul 03 23:57:29 	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
Jul 03 23:57:29 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
Jul 03 23:57:29 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
Jul 03 23:57:29 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
Jul 03 23:57:29 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
Jul 03 23:57:29 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
Jul 03 23:57:29 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
Jul 03 23:57:29 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
Jul 03 23:57:29 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
Jul 03 23:57:29 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
Jul 03 23:57:29 	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
Jul 03 23:57:29 	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
Jul 03 23:57:29 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
Jul 03 23:57:29 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
Jul 03 23:57:29 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
Jul 03 23:57:29 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
Jul 03 23:57:29 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
Jul 03 23:57:29 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
Jul 03 23:57:29 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
Jul 03 23:57:29 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
Jul 03 23:57:29 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
Jul 03 23:57:29 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13387628">FLINK-23235</key>
            <summary>SinkITCase.writerAndCommitterAndGlobalCommitterExecuteInStreamingMode fails on azure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="maguowei">Guowei Ma</assignee>
                                    <reporter username="xtsong">Xintong Song</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 5 Jul 2021 04:48:22 +0000</created>
                <updated>Thu, 23 Sep 2021 18:02:26 +0000</updated>
                            <resolved>Tue, 13 Jul 2021 02:59:26 +0000</resolved>
                                    <version>1.13.1</version>
                                    <fixVersion>1.14.0</fixVersion>
                    <fixVersion>1.13.2</fixVersion>
                                    <component>API / DataStream</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17374525" author="xintongsong" created="Mon, 5 Jul 2021 04:49:36 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevin.cyj&quot; class=&quot;user-hover&quot; rel=&quot;kevin.cyj&quot;&gt;kevin.cyj&lt;/a&gt;&lt;br/&gt;
Could this be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-20010&quot; title=&quot;SinkITCase.writerAndCommitterAndGlobalCommitterExecuteInStreamingMode fails on Azure Pipeline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-20010&quot;&gt;&lt;del&gt;FLINK-20010&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17375128" author="kevin.cyj" created="Tue, 6 Jul 2021 02:28:09 +0000"  >&lt;p&gt;The error seems to be similar. But&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-20010&quot; title=&quot;SinkITCase.writerAndCommitterAndGlobalCommitterExecuteInStreamingMode fails on Azure Pipeline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-20010&quot;&gt;&lt;del&gt;FLINK-20010&lt;/del&gt;&lt;/a&gt;&#160;has been confirmed to be fixed and not reported for a long time. I guess this instability can be a new Introduced one.&lt;/p&gt;</comment>
                            <comment id="17377240" author="maguowei" created="Thu, 8 Jul 2021 09:07:20 +0000"  >&lt;p&gt;Investigated the reason for this problem: At present, an operator may still complete the checkpoint after receiving &quot;EndOfInput&quot;. Leading to GlobalCommit will submit an &quot;end of input&quot;.Specifically, when Checkpoint4 is successful, the source node has sent the end-of-input message&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13030261/13030261_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;br/&gt;
Because at present, it is not certain that an operator can complete a checkpoint after receiving &quot;EndOfInput&quot;. Therefore, in Streaming mode, I will tell the test sink not to output the string &quot;end of input&quot; in endOfInput.&lt;/p&gt;

&lt;p&gt;In the future, this will be restored when Final-CP becomes a certainty.&lt;/p&gt;</comment>
                            <comment id="17377791" author="maguowei" created="Fri, 9 Jul 2021 04:33:07 +0000"  >&lt;p&gt;I thought about it again. In fact, we only need to exclude the &quot;end of input&quot; contained in GLOBAL_COMMIT_QUEUE. Such modification will be simpler than modifying TestSink. After the Final Checkpoint is over in the future, it will be very convenient to resume the detection of &quot;end of input&quot;.&lt;/p&gt;</comment>
                            <comment id="17379068" author="maguowei" created="Mon, 12 Jul 2021 09:03:01 +0000"  >&lt;p&gt;Fix in release-1.13: 92398d42498e61554566ab2dcfd8a5fa8f2a64a2&lt;br/&gt;
Fix in master: 2268baf211f1b367e56c8f8d7cd8ee8dee355cab&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13351929">FLINK-20950</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13030261" name="screenshot-1.png" size="290379" author="maguowei" created="Thu, 8 Jul 2021 09:03:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0slpc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>