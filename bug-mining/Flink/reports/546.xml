<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:20:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2596] Failing Test: RandomSamplerTest</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2596</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 17, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 14.925 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.api.java.sampling.RandomSamplerTest

testReservoirSamplerWithMultiSourcePartitions2(org.apache.flink.api.java.sampling.RandomSamplerTest) Time elapsed: 0.444 sec &amp;lt;&amp;lt;&amp;lt; ERROR!

java.lang.IllegalArgumentException: Comparison method violates its general contract!
at java.util.TimSort.mergeLo(TimSort.java:747)
at java.util.TimSort.mergeAt(TimSort.java:483)
at java.util.TimSort.mergeCollapse(TimSort.java:410)
at java.util.TimSort.sort(TimSort.java:214)
at java.util.TimSort.sort(TimSort.java:173)
at java.util.Arrays.sort(Arrays.java:659)
at java.util.Collections.sort(Collections.java:217)
at org.apache.flink.api.java.sampling.RandomSamplerTest.transferFromListToArrayWithOrder(RandomSamplerTest.java:375)
at org.apache.flink.api.java.sampling.RandomSamplerTest.getSampledOutput(RandomSamplerTest.java:367)
at org.apache.flink.api.java.sampling.RandomSamplerTest.verifyKSTest(RandomSamplerTest.java:338)
at org.apache.flink.api.java.sampling.RandomSamplerTest.verifyRandomSamplerWithSampleSize(RandomSamplerTest.java:330)
at org.apache.flink.api.java.sampling.RandomSamplerTest.verifyReservoirSamplerWithReplacement(RandomSamplerTest.java:290)
at org.apache.flink.api.java.sampling.RandomSamplerTest.testReservoirSamplerWithMultiSourcePartitions2(RandomSamplerTest.java:212)

Results :

Tests in error:

RandomSamplerTest.testReservoirSamplerWithMultiSourcePartitions2:212-&amp;gt;verifyReservoirSamplerWithReplacement:290-&amp;gt;verifyRandomSamplerWithSampleSize:330-&amp;gt;verifyKSTest:338-&amp;gt;getSampledOutput:367-&amp;gt;transferFromListToArrayWithOrder:375 &#187; IllegalArgument
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://travis-ci.org/apache/flink/jobs/77750329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/flink/jobs/77750329&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12860435">FLINK-2596</key>
            <summary>Failing Test: RandomSamplerTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chengxiang li">Chengxiang Li</assignee>
                                    <reporter username="mjsax">Matthias J. Sax</reporter>
                        <labels>
                            <label>test-stability</label>
                    </labels>
                <created>Fri, 28 Aug 2015 21:48:04 +0000</created>
                <updated>Wed, 2 Sep 2015 07:44:39 +0000</updated>
                            <resolved>Tue, 1 Sep 2015 10:00:46 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14720996" author="chiwanpark" created="Sat, 29 Aug 2015 06:59:13 +0000"  >&lt;p&gt;Did you rebase on current master? It seems resolved at &lt;a href=&quot;https://github.com/apache/flink/commit/5156a1b3f82c2362481812dfee480823ac492975&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;5156a1b&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14720999" author="mjsax" created="Sat, 29 Aug 2015 07:15:34 +0000"  >&lt;p&gt;Of course I did rebase. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I even double checked that &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2564&quot; title=&quot;Failing Test: RandomSamplerTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2564&quot;&gt;&lt;del&gt;FLINK-2564&lt;/del&gt;&lt;/a&gt; is different before creating this JIRA. In &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2564&quot; title=&quot;Failing Test: RandomSamplerTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2564&quot;&gt;&lt;del&gt;FLINK-2564&lt;/del&gt;&lt;/a&gt; it is reported that &quot;testPoissonSamplerFraction&quot; fails. Here it is &quot;testReservoirSamplerWithMultiSourcePartitions2&quot;, ie, a different test method.&lt;/p&gt;</comment>
                            <comment id="14721001" author="chiwanpark" created="Sat, 29 Aug 2015 07:21:30 +0000"  >&lt;p&gt;Oh I got it. I&apos;ll investigate about this. I confused because we touched &lt;tt&gt;verifyKSTest&lt;/tt&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2564&quot; title=&quot;Failing Test: RandomSamplerTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2564&quot;&gt;&lt;del&gt;FLINK-2564&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14721002" author="chiwanpark" created="Sat, 29 Aug 2015 07:38:35 +0000"  >&lt;p&gt;Maybe It occured because of non-transitive comparator in &lt;tt&gt;transferFromListToArrayWithOrder&lt;/tt&gt;. I&apos;m not sure that we can substitute default double comparator for them.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chengxiang+li&quot; class=&quot;user-hover&quot; rel=&quot;chengxiang li&quot;&gt;chengxiang li&lt;/a&gt; Could you check this issue?&lt;/p&gt;</comment>
                            <comment id="14723000" author="githubbot" created="Mon, 31 Aug 2015 06:00:13 +0000"  >&lt;p&gt;GitHub user ChengXiangLi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1080&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2596&quot; title=&quot;Failing Test: RandomSamplerTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2596&quot;&gt;&lt;del&gt;FLINK-2596&lt;/del&gt;&lt;/a&gt; Failing Test: RandomSamplerTest&lt;/p&gt;

&lt;p&gt;    Remove the non-transitive comparator which cause this issue, default Double comparator works just fine.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ChengXiangLi/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ChengXiangLi/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2596&quot; title=&quot;Failing Test: RandomSamplerTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2596&quot;&gt;&lt;del&gt;FLINK-2596&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1080.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1080.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1080&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 87d53380e8f83841011f787801042b7ca9560bd8&lt;br/&gt;
Author: chengxiang li &amp;lt;chengxiang.li@intel.com&amp;gt;&lt;br/&gt;
Date:   2015-08-31T06:02:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2596&quot; title=&quot;Failing Test: RandomSamplerTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2596&quot;&gt;&lt;del&gt;FLINK-2596&lt;/del&gt;&lt;/a&gt; Remove non-tranitive comparator in random sampler test.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14723001" author="githubbot" created="Mon, 31 Aug 2015 06:03:53 +0000"  >&lt;p&gt;Github user chiwanpark commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1080#issuecomment-136276551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1080#issuecomment-136276551&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good to merge. :+1:&lt;/p&gt;</comment>
                            <comment id="14723298" author="githubbot" created="Mon, 31 Aug 2015 11:02:13 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1080#issuecomment-136335673&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1080#issuecomment-136335673&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks, will merge this!&lt;/p&gt;</comment>
                            <comment id="14725116" author="stephanewen" created="Tue, 1 Sep 2015 10:00:46 +0000"  >&lt;p&gt;Fixed via f4a48c23a30c170a5a2c08c27e1f01f7827eefd2&lt;/p&gt;

&lt;p&gt;Thank you for the contribution!&lt;/p&gt;</comment>
                            <comment id="14725127" author="githubbot" created="Tue, 1 Sep 2015 10:15:04 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1080#issuecomment-136663351&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1080#issuecomment-136663351&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This has been merged, but I think apache and github is out of sync again. Feel free to manually close this.&lt;/p&gt;

&lt;p&gt;    Thank you for the contribution!&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf/flink/repo?p=flink.git;a=commit;h=f4a48c23a30c170a5a2c08c27e1f01f7827eefd2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf/flink/repo?p=flink.git;a=commit;h=f4a48c23a30c170a5a2c08c27e1f01f7827eefd2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14726933" author="githubbot" created="Wed, 2 Sep 2015 07:44:39 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1080&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jk0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>