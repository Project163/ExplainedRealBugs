<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:40:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-13279] not able to query table registered in catalogs in SQL CLI</title>
                <link>https://issues.apache.org/jira/browse/FLINK-13279</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When querying a simple table in catalog, SQL CLI reports &quot;org.apache.flink.table.api.TableException: No table was registered under the name ArrayBuffer(default: select * from hivetable).&quot;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ykt836&quot; class=&quot;user-hover&quot; rel=&quot;ykt836&quot;&gt;ykt836&lt;/a&gt; can you please help to triage this ticket to proper person?&lt;/p&gt;

&lt;p&gt;Repro steps in SQL CLI (to set up dependencies of HiveCatalog, please refer to dev/table/catalog.md):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Flink SQL&amp;gt; show catalogs;
default_catalog
myhive

Flink SQL&amp;gt; use catalog myhive
&amp;gt; ;

Flink SQL&amp;gt; show databases;
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;

Flink SQL&amp;gt; show tables;
hivetable
products
test

Flink SQL&amp;gt; describe hivetable;
root
 |-- name: STRING
 |-- score: DOUBLE

Flink SQL&amp;gt; select * from hivetable;
[ERROR] Could not execute SQL statement. Reason:
org.apache.flink.table.api.TableException: No table was registered under the name ArrayBuffer(&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;: select * from hivetable).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exception in log:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2019-07-15 14:59:12,273 WARN  org.apache.flink.table.client.cli.CliClient                   - Could not execute SQL statement.
org.apache.flink.table.client.gateway.SqlExecutionException: Invalid SQL query.
	at org.apache.flink.table.client.gateway.local.LocalExecutor.executeQueryInternal(LocalExecutor.java:485)
	at org.apache.flink.table.client.gateway.local.LocalExecutor.executeQuery(LocalExecutor.java:317)
	at org.apache.flink.table.client.cli.CliClient.callSelect(CliClient.java:469)
	at org.apache.flink.table.client.cli.CliClient.callCommand(CliClient.java:291)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.flink.table.client.cli.CliClient.open(CliClient.java:200)
	at org.apache.flink.table.client.SqlClient.openCli(SqlClient.java:123)
	at org.apache.flink.table.client.SqlClient.start(SqlClient.java:105)
	at org.apache.flink.table.client.SqlClient.main(SqlClient.java:194)
Caused by: org.apache.flink.table.api.TableException: No table was registered under the name ArrayBuffer(&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;: select * from hivetable).
	at org.apache.flink.table.api.internal.TableEnvImpl.insertInto(TableEnvImpl.scala:529)
	at org.apache.flink.table.api.internal.TableEnvImpl.insertInto(TableEnvImpl.scala:507)
	at org.apache.flink.table.api.internal.BatchTableEnvImpl.insertInto(BatchTableEnvImpl.scala:58)
	at org.apache.flink.table.api.internal.TableImpl.insertInto(TableImpl.java:428)
	at org.apache.flink.table.api.internal.TableImpl.insertInto(TableImpl.java:416)
	at org.apache.flink.table.client.gateway.local.LocalExecutor.lambda$executeQueryInternal$10(LocalExecutor.java:476)
	at org.apache.flink.table.client.gateway.local.ExecutionContext.wrapClassLoader(ExecutionContext.java:202)
	at org.apache.flink.table.client.gateway.local.LocalExecutor.executeQueryInternal(LocalExecutor.java:474)
	... 8 more

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, &lt;tt&gt;select * from myhive.`default`.hivetable;&lt;/tt&gt; seems to work well&lt;/p&gt;

&lt;p&gt;Also note this is tested with changes in &lt;a href=&quot;https://github.com/apache/flink/pull/9049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/9049&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13245063">FLINK-13279</key>
            <summary>not able to query table registered in catalogs in SQL CLI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dwysakowicz">Dawid Wysakowicz</assignee>
                                    <reporter username="phoenixjiangnan">Bowen Li</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 15 Jul 2019 22:03:45 +0000</created>
                <updated>Tue, 1 Oct 2019 15:39:08 +0000</updated>
                            <resolved>Tue, 30 Jul 2019 09:45:55 +0000</resolved>
                                    <version>1.9.0</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>Table SQL / API</component>
                    <component>Table SQL / Client</component>
                    <component>Table SQL / Legacy Planner</component>
                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16885660" author="phoenixjiangnan" created="Mon, 15 Jul 2019 22:11:15 +0000"  >&lt;p&gt;we need some e2e tests to stop this from happening again  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ruili&quot; class=&quot;user-hover&quot; rel=&quot;ruili&quot;&gt;ruili&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Terry1897&quot; class=&quot;user-hover&quot; rel=&quot;Terry1897&quot;&gt;Terry1897&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16885949" author="danny0405" created="Tue, 16 Jul 2019 08:53:54 +0000"  >&lt;p&gt;+1 for the end to end tests&lt;/p&gt;</comment>
                            <comment id="16887780" author="lzljs3620320" created="Thu, 18 Jul 2019 09:17:52 +0000"  >&lt;p&gt;At present, the executeQuery of SQL Client is implemented by registerTableSink(into&#160;in memory sink) + insertInto + get the result from InMemorySink class. The register sink is through the interface of &lt;b&gt;TableEnv.registerTableSink&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;But TableEnv.registerTableSink&lt;/b&gt; is registered in builtin_catalog, not in current_catalog. So insertInto can&apos;t find the table in current_catalog.&lt;/p&gt;

&lt;p&gt;There are others similar issues:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13150&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-13150&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-12771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-12771&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Why &lt;b&gt;TableEnv.registerTableSink&lt;/b&gt;&#160;is registered in builtin_catalog? Because flink TableSource and TableSink can not be serializeable, So them can not be put into HiveCatalog.&lt;/p&gt;

&lt;p&gt;IMO, this case&#160;is important for users because it is often the first step for users.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; What do you think about this?&lt;/p&gt;</comment>
                            <comment id="16887839" author="dawidwys" created="Thu, 18 Jul 2019 10:14:17 +0000"  >&lt;p&gt;Hi, I think we should treat the builtin catalog as a fallback catalog, similarly as we do it for functions. I will take this task over and try to fix it, if that&apos;s ok.&lt;/p&gt;</comment>
                            <comment id="16887846" author="lzljs3620320" created="Thu, 18 Jul 2019 10:23:20 +0000"  >&lt;p&gt;&amp;gt;&#160;Hi, I think we should treat the builtin catalog as a fallback catalog, similarly as we do it for functions.&lt;/p&gt;

&lt;p&gt;Big Big +1,&#160;I used to think that function was fallback, and it was strange that source/sink could only find current Catalog.&lt;/p&gt;</comment>
                            <comment id="16888197" author="xuefuz" created="Thu, 18 Jul 2019 17:49:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; thanks for looking into this. After thinking about the proposal and reading the PR, I&apos;m very concerned about the approach.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Table resolution is different from that for function and should be deterministic and unambiguous. In fact, I don&apos;t know any of DB product that has such a behavior. A table reference in user&apos;s query should be uniquely identified: either the reference itself is fully qualified, or the query engine qualifies it with the current database. None of database engine I know of would further resolve the table, if previous resolution fails, in the default database, for example. Instead, it just simple reports an error.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;What&apos;s the consequence of this fallback resolution? A user query, which should fail, might not fail depending on if built-in catalog happens to have a table with the same name. The query may further succeed in execution and produce unexpected result. This subtle implication, however slim the chance is, introduces unpredictability in query behavior and can cause severe consequences for the user.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In summary, I think table reference and resolution should be deterministic and unambiguous and this proposal violates the principle.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The original problem, as I understand, is that the planner internally creates a table in built-in catalog and subsequently look up that table in the current catalog. Wouldn&apos;t the natural solution is to qualify the created table with the built-in catalog/database? This way, we don&apos;t have to change table resolution at the system level.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16888732" author="twalthr" created="Fri, 19 Jul 2019 09:20:31 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;thanks for your valuable feedback. Your concerns are valid. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;&apos;s PR makes the API more user-friendly but we are also messing up the lookup design here.&lt;/p&gt;

&lt;p&gt;I think the root cause of this discussion is that we don&apos;t have a proper separation between tables that need to be persisted in a catalog and temporary tables that are only available in the current session.&lt;/p&gt;

&lt;p&gt;I did some research for future discussions:&lt;/p&gt;

&lt;p&gt;MySQL: &lt;a href=&quot;https://dev.mysql.com/doc/refman/8.0/en/create-temporary-table.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.mysql.com/doc/refman/8.0/en/create-temporary-table.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
TEMPORARY tables have a very loose relationship with databases (schemas). Dropping a database does not automatically drop any TEMPORARY tables created within that database. Also, you can create a TEMPORARY table in a nonexistent database &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you qualify the table name with the database name in the CREATE TABLE statement. In &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;, all subsequent references to the table must be qualified with the database name.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;SQL Server: &lt;a href=&quot;https://docs.microsoft.com/de-de/sql/relational-databases/databases/tempdb-database?view=sql-server-2017&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.microsoft.com/de-de/sql/relational-databases/databases/tempdb-database?view=sql-server-2017&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tempdb is used to hold: Temporary user objects that are explicitly created, such as: global or local temporary tables
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We have two options: either we force users to fully specify the path or maintain a separate Map as MySQL does it. I think we can avoid the exception of this JIRA ticket easily by changing the SQL Client &lt;tt&gt;insertInto&lt;/tt&gt; statement to a fully qualified one and stick to the current behavior for now.&lt;/p&gt;</comment>
                            <comment id="16888770" author="dawidwys" created="Fri, 19 Jul 2019 10:21:07 +0000"  >&lt;p&gt;I also think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; raised a valid point there.&lt;/p&gt;

&lt;p&gt;Just to add another point to the research I also checked how spark handles temporary tables. They actually introduced ambiguity similar as in the PR. Local temporary views in spark cannot be qualified with database. If a user uses a not qualified table name it is first checked if there is a temporary local view and only after that they check in the current database. (As far as I could tell they do not support multiple catalogs).&lt;/p&gt;

&lt;p&gt;Also for a global temp view they are enforcing reserved database &lt;tt&gt;global_temp&lt;/tt&gt;: &lt;a href=&quot;https://spark.apache.org/docs/latest/sql-getting-started.html#global-temporary-view&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://spark.apache.org/docs/latest/sql-getting-started.html#global-temporary-view&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt; mentioned we thought my PR would make the API a bit more user-friendly, but I agree this could result in surprising behavior. Therefore I agree we should not do it. The suggestion to fully qualify the name in sql-client should solve the reported issue and I think this will be the best solution as of now. I will close the current PR and prepare a new one.&lt;/p&gt;</comment>
                            <comment id="16888864" author="xuefuz" created="Fri, 19 Jul 2019 13:34:14 +0000"  >&lt;p&gt;Thank &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; for sharing the research results. Just wanted to clarify one point. The temp table that failed in name resolution is NOT created by the user, but by the planner. Thus to me the planner should be able to fully qualify that temp table with correct catalog and db. On the other hand, solving the problem at sql-client might not be enough since user may also do the same with tableEnv.sqlQuery().&lt;/p&gt;</comment>
                            <comment id="16888896" author="jark" created="Fri, 19 Jul 2019 14:08:18 +0000"  >&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, we still have the problem because users can use a HIVE catalog, and in the meanwhile, registering TableSource/TableSink on tableEnv.&lt;/p&gt;</comment>
                            <comment id="16895967" author="twalthr" created="Tue, 30 Jul 2019 09:45:55 +0000"  >&lt;p&gt;Fixed in 1.9.0: 9b1d78198cd25275b17e1d43ebd75a8a2f6cff7f&lt;br/&gt;
Fixed in 1.10.0: b1db13f5cfb3b81409d6f6fb079424f44ccc826e&lt;/p&gt;</comment>
                            <comment id="16896062" author="lirui" created="Tue, 30 Jul 2019 12:05:03 +0000"  >&lt;p&gt;Does this ticket fix blink planner as well? I ran some test with blink planner and seems I hit the same issue.&lt;/p&gt;</comment>
                            <comment id="16896077" author="dawidwys" created="Tue, 30 Jul 2019 12:30:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt; It should there is nothing planner specific in the bug fix.&lt;/p&gt;</comment>
                            <comment id="16896087" author="lirui" created="Tue, 30 Jul 2019 12:37:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; Thanks for clarifying. I&apos;ll double check.&lt;/p&gt;</comment>
                            <comment id="16896809" author="lirui" created="Wed, 31 Jul 2019 06:21:48 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;, I was trying something like the following and got exception that sink does not exist:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
TableEnvironment tableEnv = ... &lt;span class=&quot;code-comment&quot;&gt;// create table environment
&lt;/span&gt;tableEnv.useCatalog(&lt;span class=&quot;code-quote&quot;&gt;&quot;some_hive_catalog&quot;&lt;/span&gt;);
Table table = tableEnv.sqlQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;select * from some_hive_table&quot;&lt;/span&gt;);
CollectRowTableSink sink = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CollectRowTableSink();
tableEnv.registerTableSink(&lt;span class=&quot;code-quote&quot;&gt;&quot;sink&quot;&lt;/span&gt;, sink.configure(table_names_and_typeinfos));
tableEnv.insertInto(table, &lt;span class=&quot;code-quote&quot;&gt;&quot;sink&quot;&lt;/span&gt;);
tableEnv.execute(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I understand this may be out of the scope of this ticket. Just wondering whether this is valid use case and do we plan to support it?&lt;/p&gt;</comment>
                            <comment id="16896825" author="dawidwys" created="Wed, 31 Jul 2019 06:54:11 +0000"  >&lt;p&gt;As discussed in the ml thread: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/flink-dev/201907.mbox/%3ce22331ca-00f3-fbdb-e4cf-671959b9322c@apache.org%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/flink-dev/201907.mbox/%3ce22331ca-00f3-fbdb-e4cf-671959b9322c@apache.org%3e&lt;/a&gt; You have to fully qualify temporary sinks.&lt;/p&gt;

&lt;p&gt;So it should be &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
tableEnv.insertInto(table, &lt;span class=&quot;code-quote&quot;&gt;&quot;default_catalog&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;default_database&quot;&lt;/span&gt;,  &lt;span class=&quot;code-quote&quot;&gt;&quot;sink&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16896836" author="lirui" created="Wed, 31 Jul 2019 07:12:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; Got it. Thanks for the pointers.&lt;/p&gt;</comment>
                            <comment id="16897757" author="xuefuz" created="Thu, 1 Aug 2019 04:33:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;, I understand this is a conscious decision that we made in 1.9, but from the issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt; reported, the usability is very poor. There lacks a consistency: when user register a temp sink, he/she has no choice but registering it in built-in catalog; when he/she references the sink, he/she has to give the name of the catalog/db that he/she didn&apos;t choose to. I suppose we should revisit all topics around this post 1.9.&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt; for future reference.&lt;/p&gt;</comment>
                            <comment id="16897884" author="twalthr" created="Thu, 1 Aug 2019 08:56:36 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, I totally agree that the usability is not optimal here. This issue popped up too late to be fixed correctly, it should have been discussed as part of FLIP-30. We will definitely have to revisit the catalog handling again. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13246250">FLINK-13350</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13247597">FLINK-13461</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ztta:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>