<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:42:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15036] Container startup error will be handled out side of the YarnResourceManager&apos;s main thread</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15036</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13184&quot; title=&quot;Starting a TaskExecutor blocks the YarnResourceManager&amp;#39;s main thread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-13184&quot;&gt;&lt;del&gt;FLINK-13184&lt;/del&gt;&lt;/a&gt;, we replaced the &lt;tt&gt;NMClient&lt;/tt&gt; with the &lt;tt&gt;NMClientAsync&lt;/tt&gt;. As part of this change, container start up errors are now handled by a callback to &lt;tt&gt;NMClientAsync.CallbackHandler&lt;/tt&gt;. The implementation of &lt;tt&gt;NMClientAsync.CallbackHandler#onStartContainerError&lt;/tt&gt; will be called by the &lt;tt&gt;NMClientAsync&lt;/tt&gt;. Since the implementation does state changing operations, it needs to happen inside of the &lt;tt&gt;YarnResourceManager&lt;/tt&gt; main thread.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13271914">FLINK-15036</key>
            <summary>Container startup error will be handled out side of the YarnResourceManager&apos;s main thread</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wangyang0918">Yang Wang</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 3 Dec 2019 11:02:20 +0000</created>
                <updated>Wed, 4 Dec 2019 21:17:42 +0000</updated>
                            <resolved>Wed, 4 Dec 2019 21:17:42 +0000</resolved>
                                    <version>1.8.3</version>
                    <version>1.9.2</version>
                    <version>1.10.0</version>
                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>1.9.2</fixVersion>
                    <fixVersion>1.10.0</fixVersion>
                                    <component>Deployment / YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16986797" author="till.rohrmann" created="Tue, 3 Dec 2019 11:02:57 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yangwang166&quot; class=&quot;user-hover&quot; rel=&quot;yangwang166&quot;&gt;yangwang166&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16986913" author="fly_in_gis" created="Tue, 3 Dec 2019 13:45:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&#160;You are right. It should be handled in the main thread of &lt;tt&gt;YarnResourceManager&lt;/tt&gt;. Otherwise, concurrent exceptions may happen. We could wrap all the codes of &lt;tt&gt;onStartContainerError&lt;/tt&gt;&#160;into &lt;tt&gt;runAsync&lt;/tt&gt;&#160;for a quick fix.&lt;/p&gt;</comment>
                            <comment id="16987408" author="hequn8128" created="Wed, 4 Dec 2019 01:30:54 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fly_in_gis&quot; class=&quot;user-hover&quot; rel=&quot;fly_in_gis&quot;&gt;fly_in_gis&lt;/a&gt; The 1.8.3-rc2 is under voting. Is this issue a blocker for it? Or if we can leave the fix into the next release?&lt;/p&gt;</comment>
                            <comment id="16987419" author="fly_in_gis" created="Wed, 4 Dec 2019 01:48:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hequn8128&quot; class=&quot;user-hover&quot; rel=&quot;hequn8128&quot;&gt;hequn8128&lt;/a&gt; Even there&apos;s a very small probability of that happening, i think it is better merged to 1.8.3 if possible. Sorry for the inconvenience. &lt;/p&gt;

&lt;p&gt;I have attached a PR to fix this. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; Could you please take a look.&lt;/p&gt;</comment>
                            <comment id="16987715" author="till.rohrmann" created="Wed, 4 Dec 2019 10:23:21 +0000"  >&lt;p&gt;I actually think that this issue should be a blocker. In particular since &lt;tt&gt;1.8.3&lt;/tt&gt; will most likely be our last bug fix release for Flink &lt;tt&gt;1.8&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16987719" author="hequn8128" created="Wed, 4 Dec 2019 10:26:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fly_in_gis&quot; class=&quot;user-hover&quot; rel=&quot;fly_in_gis&quot;&gt;fly_in_gis&lt;/a&gt; OK, let&apos;s make the fix in 1.8.3. Thanks a lot for your suggestions. &lt;/p&gt;</comment>
                            <comment id="16988229" author="till.rohrmann" created="Wed, 4 Dec 2019 21:17:42 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;1.10.0: 560726a796b0de86869bb63ecdbd980d3cdb6a32&lt;br/&gt;
1.9.2: 0071401f3dee67f45684d349864f94bf3cc6359a&lt;br/&gt;
1.8.3: 2f0e93fa4f1a534c994d2e7da810cb140fe88790&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0989s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>