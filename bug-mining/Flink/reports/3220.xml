<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:40:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-13752] TaskDeploymentDescriptor cannot be recycled by GC due to referenced by an anonymous function</title>
                <link>https://issues.apache.org/jira/browse/FLINK-13752</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When comparing the 1.8 and 1.9.0-rc2 on a test&#160;streaming job, we found that the performance on 1.9.0-rc2 is much lower than that of 1.8. By comparing the two versions, we found that the count of Full GC of TaskExecutor process on 1.9.0-rc2 is much more than that on 1.8.&lt;/p&gt;

&lt;p&gt;A further analysis found that the difference is due to in &lt;em&gt;TaskExecutor#setupResultPartitionBookkeeping&lt;/em&gt;, the anonymous function in &lt;em&gt;taskTermimationWithResourceCleanFuture&lt;/em&gt; has referenced the &lt;em&gt;TaskDeploymentDescriptor&lt;/em&gt;, since this function will be kept till the task is terminated,&#160;&#160;&lt;em&gt;TaskDeploymentDescriptor&lt;/em&gt; will also be kept referenced in the closure and cannot be recycled by GC. In this job,&#160;&lt;em&gt;TaskDeploymentDescriptor&lt;/em&gt; of some tasks are as large as 10M, and the total heap is about 113M, thus the kept&#160;&lt;em&gt;TaskDeploymentDescriptors&lt;/em&gt; will cause relatively large impact on GC and performance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13251279">FLINK-13752</key>
            <summary>TaskDeploymentDescriptor cannot be recycled by GC due to referenced by an anonymous function</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gaoyunhaii">Yun Gao</assignee>
                                    <reporter username="gaoyunhaii">Yun Gao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2019 16:08:55 +0000</created>
                <updated>Mon, 19 Aug 2019 23:10:30 +0000</updated>
                            <resolved>Mon, 19 Aug 2019 11:44:28 +0000</resolved>
                                    <version>1.9.0</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16910343" author="till.rohrmann" created="Mon, 19 Aug 2019 11:44:28 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;1.9.0:  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tzulitai&quot; class=&quot;user-hover&quot; rel=&quot;tzulitai&quot;&gt;tzulitai&lt;/a&gt; please update when cherry picking for the new RC&lt;br/&gt;
1.9.1: 51e50aba23e9d62f66fa3274485d2bad05478841&lt;br/&gt;
1.10.0: 9391a70a4362f8a02cdd744a2a7f3ebbd1d577d6&lt;/p&gt;</comment>
                            <comment id="16910819" author="tzulitai" created="Mon, 19 Aug 2019 23:10:30 +0000"  >&lt;p&gt;Cherry-picked for 1.9.0: 04e95278777611519f5d14813dec4cbc533e2934&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05qtk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>