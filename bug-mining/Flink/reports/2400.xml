<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:33:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-9261] Regression - Flink CLI and Web UI not working when SSL is enabled</title>
                <link>https://issues.apache.org/jira/browse/FLINK-9261</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When&#160;&lt;b&gt;security.ssl.enabled&lt;/b&gt;&#160;config is set to true, Web UI is no longer reachable; there is no logs on jobmanager.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;When setting&#160;&lt;b&gt;web.ssl.enabled&lt;/b&gt;&#160;to false (keeping security.ssl.enabled to true), the dashboard is not reachable and there is the following exception on jobmanager:&#160;&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
WARN&#160; org.apache.flink.runtime.dispatcher.DispatcherRestEndpoint&#160; &#160; - Unhandled exception

org.apache.flink.shaded.netty4.io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 474554202f20485454502f312e310d0a486f73743a206c6f63616c686f73743a383038310d0a436f6e6e656374696f6e3a206b6565702d616c6976650d0a557067726164652d496e7365637572652d52657175657374733a20310d0a557365722d4167656e743a204d6f7a696c6c612f352e3020284d6163696e746f73683b20496e74656c204d6163204f5320582031305f31335f3329204170706c655765624b69742f3533372e333620284b48544d4c2c206c696b65204765636b6f29204368726f6d652f36352e302e333332352e313831205361666172692f3533372e33360d0a4163636570743a20746578742f68746d6c2c6170706c69636174696f6e2f7868746d6c2b786d6c2c6170706c69636174696f6e2f786d6c3b713d302e392c696d6167652f776562702c696d6167652f61706e672c2a2f2a3b713d302e380d0a4163636570742d456e636f64696e673a20677a69702c206465666c6174652c2062720d0a4163636570742d4c616e67756167653a20656e2c656e2d47423b713d302e392c65732d3431393b713d302e382c65733b713d302e372c66722d46523b713d302e362c66723b713d302e350d0a436f6f6b69653a20496465612d39326365626136363d39396464633637632d613838382d346439332d396166612d3737396631373636326264320d0a49662d4d6f6469666965642d53696e63653a205468752c2032362041707220323031382031313a30313a313520474d540d0a0d0a

at org.apache.flink.shaded.netty4.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:940)

at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:315)

at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:229)

at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:339)

at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:324)

at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:847)

at org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:131)

at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:511)

at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:468)

at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:382)

at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:354)

at org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)

at org.apache.flink.shaded.netty4.io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:137)

at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Also when trying to use the Flink CLI, it get stuck on &quot;Waiting for response...&quot; and there is no error messages on jobmanager. None of the commands works, list, run etc.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Taskmanagers are able to registrate to Jobmanager, so the SSL configuration is good.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;SSL configuration:&lt;br/&gt;
security.ssl.enabled: true&lt;br/&gt;
security.ssl.keystore: /path/to/keystore&lt;br/&gt;
security.ssl.keystore-password:&#160;xxxx&lt;br/&gt;
security.ssl.key-password:&#160;xxxx&lt;br/&gt;
security.ssl.truststore: /path/to/truststore&lt;br/&gt;
security.ssl.truststore-password:&#160;xxxx&lt;br/&gt;
web.ssl.enabled: false&lt;/p&gt;

&lt;p&gt;This same configuration works perfectly on Flink 1.4.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13155397">FLINK-9261</key>
            <summary>Regression - Flink CLI and Web UI not working when SSL is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gjy">Gary Yao</assignee>
                                    <reporter username="edRojas">Edward Rojas</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Thu, 26 Apr 2018 12:32:25 +0000</created>
                <updated>Thu, 28 Feb 2019 13:34:47 +0000</updated>
                            <resolved>Thu, 10 May 2018 13:38:41 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Command Line Client</component>
                    <component>Runtime / Network</component>
                    <component>Runtime / Web Frontend</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16458513" author="zentol" created="Mon, 30 Apr 2018 12:09:34 +0000"  >&lt;p&gt;Currently (in 1.5) &lt;tt&gt;web.ssl.enabled&lt;/tt&gt; is not respected. this &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/rest/RestServerEndpointConfiguration.java#L158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;line&lt;/a&gt; must be modified to check for `WebOptions.SSL_ENABLED` as well.&lt;/p&gt;</comment>
                            <comment id="16458622" author="stephanewen" created="Mon, 30 Apr 2018 14:20:43 +0000"  >&lt;p&gt;Chesnay&apos;s suggestion may fix this, by enabling / disabling REST security separate from on-the-wire encryption.&lt;/p&gt;

&lt;p&gt;For a clean solution, there is something more needed, because clients now communicate via REST with the server, and I think users would very much like the client to be authenticated as well when submitting something to a Flink server.&lt;/p&gt;

&lt;p&gt;The configuration posted above is affecting the RPC and data place meaning.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Previously (Flink 1.4) it was TM/TM and JM/TM and Client/JM communication.&lt;/li&gt;
	&lt;li&gt;Now (Flink 1.5+), this affects only TM/TM and JM/TM.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16459686" author="zentol" created="Tue, 1 May 2018 13:45:28 +0000"  >&lt;p&gt;Given that the UI and client in part go through the same REST calls I&apos;m not sure whether we can implement things such that the client is authenticated but the UI isn&apos;t.&lt;br/&gt;
What we could maybe do is separate the REST API into a monitoring part (getting details for a job/jm) and control part (submitting jobs, savepoints, cancellation) with separate SSL settings.&lt;/p&gt;
</comment>
                            <comment id="16462124" author="edrojas" created="Thu, 3 May 2018 08:49:00 +0000"  >&lt;p&gt;I just want to point out that even with&#160;&lt;b&gt;web.ssl.enabled&lt;/b&gt;&#160;set to true, the Web UI is not reachable and the CLI does not work either, it just gets stuck in &quot;Waiting for response&quot; and there is no logs on jobmanager.&lt;/p&gt;</comment>
                            <comment id="16468737" author="githubbot" created="Wed, 9 May 2018 11:47:44 +0000"  >&lt;p&gt;GitHub user GJL opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5973&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9261&quot; title=&quot;Regression - Flink CLI and Web UI not working when SSL is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9261&quot;&gt;&lt;del&gt;FLINK-9261&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ssl&amp;#93;&lt;/span&gt; Fix SSL support for REST API and Web UI.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    &lt;b&gt;Fix SSL support for REST API and Web UI.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;    cc: @tillrohrmann @StephanEwen @zentol &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;*Remove wrong reuse of SSLEngine instances. SSLEngine must be re-created for&lt;br/&gt;
        every SocketChannel initialization.*&lt;/li&gt;
	&lt;li&gt;*Add ChunkedWriteHandler to REST server pipeline because StaticFileServerHandler&lt;br/&gt;
        relies on it.*&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Add integration tests to verify that SSL can be enabled.&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;    This change added tests and can be verified as follows:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;b&gt;Added integration tests for check if the RestServerEndpoint works with SSL enabled.&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Manually verified the change by submitting a job to a cluster with SSL enabled via the CLI, and  by accessing the Web UI.&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;/li&gt;
	&lt;li&gt;The serializers: (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (*&lt;b&gt;yes&lt;/b&gt;* / no / don&apos;t know)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? (*&lt;b&gt;not applicable&lt;/b&gt;* / docs / JavaDocs / not documented)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/GJL/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/GJL/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9261&quot; title=&quot;Regression - Flink CLI and Web UI not working when SSL is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9261&quot;&gt;&lt;del&gt;FLINK-9261&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5973.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5973.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5973&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a74fee4853e8b97427e9607b8ed6bdaeedae0c12&lt;br/&gt;
Author: gyao &amp;lt;gary@...&amp;gt;&lt;br/&gt;
Date:   2018-05-09T11:30:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9261&quot; title=&quot;Regression - Flink CLI and Web UI not working when SSL is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9261&quot;&gt;&lt;del&gt;FLINK-9261&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ssl,flip6&amp;#93;&lt;/span&gt; Fix SSL support for REST API and Web UI.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Remove wrong reuse of SSLEngine instances. SSLEngine must be re-created for&lt;br/&gt;
    every SocketChannel initialization.&lt;/li&gt;
	&lt;li&gt;Add ChunkedWriteHandler to REST server pipeline because StaticFileServerHandler&lt;br/&gt;
    relies on it.&lt;/li&gt;
	&lt;li&gt;Add integration tests to verify that SSL can be enabled.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 710c7e222ff7c13b48ecb4a1549571afae60312c&lt;br/&gt;
Author: gyao &amp;lt;gary@...&amp;gt;&lt;br/&gt;
Date:   2018-05-09T11:41:29Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ssl,docs&amp;#93;&lt;/span&gt; Use markdown hyperlink instead of writing out the URL.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16468802" author="githubbot" created="Wed, 9 May 2018 12:43:22 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5973#discussion_r187025268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5973#discussion_r187025268&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/net/SSLUtils.java &amp;#8212;&lt;br/&gt;
    @@ -81,16 +85,62 @@ public static void setSSLVerAndCipherSuites(ServerSocket socket, Configuration c&lt;br/&gt;
     		}&lt;br/&gt;
     	}&lt;/p&gt;

&lt;p&gt;    +	/**&lt;br/&gt;
    +	 * Creates a &lt;/p&gt;
{@link SSLEngineFactory} to be used by the Server.&lt;br/&gt;
    +	 *&lt;br/&gt;
    +	 * @param config The application configuration.&lt;br/&gt;
    +	 */&lt;br/&gt;
    +	public static SSLEngineFactory createServerSSLEngineFactory(final Configuration config) throws Exception {
    +		return createSSLEngineFactory(config, false);
    +	}&lt;br/&gt;
    +&lt;br/&gt;
    +	/**&lt;br/&gt;
    +	 * Creates a {@link SSLEngineFactory}
&lt;p&gt; to be used by the Client.&lt;br/&gt;
    +	 * @param config The application configuration.&lt;br/&gt;
    +	 */&lt;br/&gt;
    +	public static SSLEngineFactory createClientSSLEngineFactory(final Configuration config) throws Exception &lt;/p&gt;
{
    +		return createSSLEngineFactory(config, true);
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	private static SSLEngineFactory createSSLEngineFactory(&lt;br/&gt;
    +			final Configuration config,&lt;br/&gt;
    +			final boolean clientMode) throws Exception &lt;/p&gt;
{
    +
    +		final SSLContext sslContext = clientMode ?
    +			createSSLClientContext(config) :
    +			createSSLServerContext(config);
    +
    +		checkState(sslContext != null, &quot;%s it not enabled&quot;, SecurityOptions.SSL_ENABLED.key());
    +
    +		return new SSLEngineFactory(
    +			sslContext,
    +			getEnabledProtocols(config),
    +			getEnabledCipherSuites(config),
    +			clientMode);
    +	}
&lt;p&gt;    +&lt;br/&gt;
     	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sets SSL version and cipher suites for SSLEngine.&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @param engine&lt;/li&gt;
	&lt;li&gt;*        SSLEngine to be handled&lt;/li&gt;
	&lt;li&gt;* @param config&lt;/li&gt;
	&lt;li&gt;*        The application configuration&lt;br/&gt;
    +	 *&lt;br/&gt;
    +	 * @param engine SSLEngine to be handled&lt;br/&gt;
    +	 * @param config The application configuration&lt;br/&gt;
    +	 * @deprecated Use 
{@link #createClientSSLEngineFactory(Configuration)}
&lt;p&gt; or&lt;br/&gt;
    +	 * &lt;/p&gt;
{@link #createServerSSLEngineFactory(Configuration)}
&lt;p&gt;.&lt;br/&gt;
     	 */&lt;br/&gt;
    +	@Deprecated&lt;br/&gt;
     	public static void setSSLVerAndCipherSuites(SSLEngine engine, Configuration config) &lt;/p&gt;
{
    -		engine.setEnabledProtocols(config.getString(SecurityOptions.SSL_PROTOCOL).split(&quot;,&quot;));
    -		engine.setEnabledCipherSuites(config.getString(SecurityOptions.SSL_ALGORITHMS).split(&quot;,&quot;));
    +		engine.setEnabledProtocols(getEnabledProtocols(config));
    +		engine.setEnabledCipherSuites(getEnabledCipherSuites(config));
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	private static String[] getEnabledProtocols(final Configuration config) {&lt;br/&gt;
    +		requireNonNull(config, &quot;config must not be null&quot;);&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    For private internal utilities, I suggest to skip the null check in most places, especially when it will eagerly fail with an exception on null anyways.&lt;/p&gt;

&lt;p&gt;    In any case, if you believe the check should be there, please use `Preconditions.checkNotNull` rather than `requireNonNull`.&lt;/p&gt;</comment>
                            <comment id="16469600" author="githubbot" created="Wed, 9 May 2018 22:20:50 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5973&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging this...&lt;/p&gt;</comment>
                            <comment id="16469611" author="githubbot" created="Wed, 9 May 2018 22:30:22 +0000"  >&lt;p&gt;Github user GJL commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5973#discussion_r187194770&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5973#discussion_r187194770&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/net/SSLUtils.java &amp;#8212;&lt;br/&gt;
    @@ -81,16 +85,62 @@ public static void setSSLVerAndCipherSuites(ServerSocket socket, Configuration c&lt;br/&gt;
     		}&lt;br/&gt;
     	}&lt;/p&gt;

&lt;p&gt;    +	/**&lt;br/&gt;
    +	 * Creates a &lt;/p&gt;
{@link SSLEngineFactory} to be used by the Server.&lt;br/&gt;
    +	 *&lt;br/&gt;
    +	 * @param config The application configuration.&lt;br/&gt;
    +	 */&lt;br/&gt;
    +	public static SSLEngineFactory createServerSSLEngineFactory(final Configuration config) throws Exception {
    +		return createSSLEngineFactory(config, false);
    +	}&lt;br/&gt;
    +&lt;br/&gt;
    +	/**&lt;br/&gt;
    +	 * Creates a {@link SSLEngineFactory}
&lt;p&gt; to be used by the Client.&lt;br/&gt;
    +	 * @param config The application configuration.&lt;br/&gt;
    +	 */&lt;br/&gt;
    +	public static SSLEngineFactory createClientSSLEngineFactory(final Configuration config) throws Exception &lt;/p&gt;
{
    +		return createSSLEngineFactory(config, true);
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	private static SSLEngineFactory createSSLEngineFactory(&lt;br/&gt;
    +			final Configuration config,&lt;br/&gt;
    +			final boolean clientMode) throws Exception &lt;/p&gt;
{
    +
    +		final SSLContext sslContext = clientMode ?
    +			createSSLClientContext(config) :
    +			createSSLServerContext(config);
    +
    +		checkState(sslContext != null, &quot;%s it not enabled&quot;, SecurityOptions.SSL_ENABLED.key());
    +
    +		return new SSLEngineFactory(
    +			sslContext,
    +			getEnabledProtocols(config),
    +			getEnabledCipherSuites(config),
    +			clientMode);
    +	}
&lt;p&gt;    +&lt;br/&gt;
     	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sets SSL version and cipher suites for SSLEngine.&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @param engine&lt;/li&gt;
	&lt;li&gt;*        SSLEngine to be handled&lt;/li&gt;
	&lt;li&gt;* @param config&lt;/li&gt;
	&lt;li&gt;*        The application configuration&lt;br/&gt;
    +	 *&lt;br/&gt;
    +	 * @param engine SSLEngine to be handled&lt;br/&gt;
    +	 * @param config The application configuration&lt;br/&gt;
    +	 * @deprecated Use 
{@link #createClientSSLEngineFactory(Configuration)}
&lt;p&gt; or&lt;br/&gt;
    +	 * &lt;/p&gt;
{@link #createServerSSLEngineFactory(Configuration)}
&lt;p&gt;.&lt;br/&gt;
     	 */&lt;br/&gt;
    +	@Deprecated&lt;br/&gt;
     	public static void setSSLVerAndCipherSuites(SSLEngine engine, Configuration config) &lt;/p&gt;
{
    -		engine.setEnabledProtocols(config.getString(SecurityOptions.SSL_PROTOCOL).split(&quot;,&quot;));
    -		engine.setEnabledCipherSuites(config.getString(SecurityOptions.SSL_ALGORITHMS).split(&quot;,&quot;));
    +		engine.setEnabledProtocols(getEnabledProtocols(config));
    +		engine.setEnabledCipherSuites(getEnabledCipherSuites(config));
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	private static String[] getEnabledProtocols(final Configuration config) {&lt;br/&gt;
    +		requireNonNull(config, &quot;config must not be null&quot;);&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Ok, I will use Flink&apos;s `checkNotNull` next time.&lt;/p&gt;</comment>
                            <comment id="16470398" author="till.rohrmann" created="Thu, 10 May 2018 13:38:41 +0000"  >&lt;p&gt;Fixed via&lt;br/&gt;
master: 3afa5eb3c4&lt;br/&gt;
1.5.0: a357bedede&lt;/p&gt;</comment>
                            <comment id="16471918" author="githubbot" created="Fri, 11 May 2018 13:37:15 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5973&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merged in `master` in 3afa5eb3c47158086ab29012a835f96682a85d34&lt;/p&gt;</comment>
                            <comment id="16472049" author="githubbot" created="Fri, 11 May 2018 14:55:47 +0000"  >&lt;p&gt;Github user GJL closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5973&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13171936">FLINK-9842</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3t20f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>