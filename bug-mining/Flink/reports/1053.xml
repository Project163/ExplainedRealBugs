<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:24:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4128] compile error about git-commit-id-plugin</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4128</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When I build with latest flink code, I got following error:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD FAILURE&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 01:06 h&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: 2016-06-28T22:11:58+08:00&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 104M/3186M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal pl.project13.maven:git-commit-id-plugin:2.1.5:revision (default) on project flink-runtime_2.11: Execution default of goal pl.project13.maven:git-commit-id-plugin:2.1.5:revision failed. NullPointerException -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :flink-runtime_2.11&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think it&apos;s because wrong `doGetDirectory` value is provided.&lt;/p&gt;

&lt;p&gt;And another question is if we should upgrade the version of this plugin, so that we can got more meaningful error message instead of NPE. Eg:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Could not get HEAD Ref, are you sure you have some commits in the dotGitDirectory?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Current stable version is 2.2.1, but the disadvantage is that Java 1.6 is no longer supported with new version.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12984430">FLINK-4128</key>
            <summary>compile error about git-commit-id-plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mwws">Mao, Wei</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jun 2016 17:12:01 +0000</created>
                <updated>Thu, 30 Jun 2016 19:51:51 +0000</updated>
                            <resolved>Thu, 30 Jun 2016 19:51:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15353464" author="greghogan" created="Tue, 28 Jun 2016 18:05:21 +0000"  >&lt;p&gt;Minimum Java version for building Flink is 1.7.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci.apache.org/projects/flink/flink-docs-master/setup/building.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.apache.org/projects/flink/flink-docs-master/setup/building.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15354215" author="githubbot" created="Wed, 29 Jun 2016 02:06:52 +0000"  >&lt;p&gt;Github user mwws commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, I am also confused about why it can compile before. But according to &lt;span class=&quot;error&quot;&gt;&amp;#91;archived flink-dev mail&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/flink-dev/201506.mbox/%3CCAJLORfdqMsJdNricb8WDSBrNWPzgAD=oqdWned1cL3KFB+i+=g@mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/flink-dev/201506.mbox/%3CCAJLORfdqMsJdNricb8WDSBrNWPzgAD=oqdWned1cL3KFB+i+=g@mail.gmail.com%3E&lt;/a&gt;) Some people do have the same issue as me.&lt;/p&gt;
</comment>
                            <comment id="15354385" author="mwws" created="Wed, 29 Jun 2016 02:21:44 +0000"  >&lt;p&gt;Thanks for the info. Then I think it&apos;s make sense to upgrade to latest stable version.&lt;/p&gt;</comment>
                            <comment id="15356383" author="githubbot" created="Thu, 30 Jun 2016 03:38:10 +0000"  >&lt;p&gt;Github user gallenvara commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This problem appears occasionally when i build source code, but not always. The modified line corrects the right directory of `.git`. In the case where maven using the plugin, this fix is neccessary, IMO.&lt;/p&gt;</comment>
                            <comment id="15357242" author="githubbot" created="Thu, 30 Jun 2016 15:14:13 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hmm I&apos;m wondering why it worked for me before. I just checked and yesterday I&apos;ve generated a `.version.properties` file in `flink-runtime/src/main/resources/`.&lt;/p&gt;

&lt;p&gt;    Have you verified that the `.version.properties` is still created with your fix applied?&lt;/p&gt;</comment>
                            <comment id="15357266" author="githubbot" created="Thu, 30 Jun 2016 15:23:49 +0000"  >&lt;p&gt;Github user mwws commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, I just verified that the file you mentioned exists after this fix.&lt;/p&gt;</comment>
                            <comment id="15357297" author="githubbot" created="Thu, 30 Jun 2016 15:41:41 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Also works when `dotGitDirectory` is removed from the pom.xml. The plugin searches up the directory hierarchy if the given directory is not valid. Looks to be a valid change but I wouldn&apos;t expect this to fix the intermittent errors.&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/ktoso/maven-git-commit-id-plugin/blob/v2.1.15/src/main/java/pl/project13/maven/git/GitDirLocator.java#L75&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ktoso/maven-git-commit-id-plugin/blob/v2.1.15/src/main/java/pl/project13/maven/git/GitDirLocator.java#L75&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15357348" author="githubbot" created="Thu, 30 Jun 2016 16:03:41 +0000"  >&lt;p&gt;Github user mwws commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @greghogan Thanks so much for point this file out! In my case, `../../.git` file exists, so the `lookupGitDirectory` method direct return without smartly search the basePath directory hierarchy. &lt;br/&gt;
    &lt;a href=&quot;https://github.com/ktoso/maven-git-commit-id-plugin/blob/v2.1.15/src/main/java/pl/project13/maven/git/GitDirLocator.java#L45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ktoso/maven-git-commit-id-plugin/blob/v2.1.15/src/main/java/pl/project13/maven/git/GitDirLocator.java#L45&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    On the other hand, for most of people, `../../.git` doesn&apos;t exis, so the compile can work.&lt;/p&gt;

&lt;p&gt;    Everything make sense now. And I think this RP is still a valid fix. &lt;/p&gt;</comment>
                            <comment id="15357468" author="githubbot" created="Thu, 30 Jun 2016 16:59:23 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Will merge this ...&lt;/p&gt;</comment>
                            <comment id="15357512" author="githubbot" created="Thu, 30 Jun 2016 17:27:53 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    As I verify the merge can we check the author string ... currently showing &quot;unknown &amp;lt;maowei@maowei-MOBL.ccr.corp.intel.com&amp;gt;&quot;.&lt;/p&gt;</comment>
                            <comment id="15357532" author="githubbot" created="Thu, 30 Jun 2016 17:45:11 +0000"  >&lt;p&gt;Github user mwws commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I fix the author info and add two more commits, not sure if it can work? If not, maybe I need to create a totally new PR.&lt;/p&gt;</comment>
                            <comment id="15357660" author="githubbot" created="Thu, 30 Jun 2016 19:05:33 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think you could have done a `git commit --amend` and simply saved the commit message unedited and git would hopefully have updated the author info.&lt;/p&gt;

&lt;p&gt;    I couldn&apos;t get the reversions to work with rebase so I used `git commit --amend --author &quot;...&quot;` to edit the original commit.&lt;/p&gt;</comment>
                            <comment id="15357690" author="githubbot" created="Thu, 30 Jun 2016 19:19:08 +0000"  >&lt;p&gt;Github user mwws commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I reset this branch and force push a new commit with author info. It should be OK now. Sorry for the inconvenient.&lt;/p&gt;</comment>
                            <comment id="15357697" author="githubbot" created="Thu, 30 Jun 2016 19:22:16 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    No problem at all, just wanted to make sure we had the proper attribution. Thanks for finding, reporting, and fixing this issue.&lt;/p&gt;</comment>
                            <comment id="15357744" author="githubbot" created="Thu, 30 Jun 2016 19:51:20 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2179&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15357745" author="greghogan" created="Thu, 30 Jun 2016 19:51:51 +0000"  >&lt;p&gt;Fixed in 913dc8df242047698a8be91a5e5aeaab45345394&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i309mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>