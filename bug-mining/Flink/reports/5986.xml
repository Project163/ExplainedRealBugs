<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:07:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23696] RMQSourceTest.testRedeliveredSessionIDsAck fails on azure</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23696</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=21792&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=906e9244-f3be-5604-1979-e767c8a6f6d9&amp;amp;l=13297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=21792&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=906e9244-f3be-5604-1979-e767c8a6f6d9&amp;amp;l=13297&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Aug 10 01:15:35 [ERROR] Tests run: 16, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 3.181 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.streaming.connectors.rabbitmq.RMQSourceTest
Aug 10 01:15:35 [ERROR] testRedeliveredSessionIDsAck(org.apache.flink.streaming.connectors.rabbitmq.RMQSourceTest)  Time elapsed: 0.269 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
Aug 10 01:15:35 java.lang.AssertionError: expected:&amp;lt;25&amp;gt; but was:&amp;lt;27&amp;gt;
Aug 10 01:15:35 	at org.junit.Assert.fail(Assert.java:88)
Aug 10 01:15:35 	at org.junit.Assert.failNotEquals(Assert.java:834)
Aug 10 01:15:35 	at org.junit.Assert.assertEquals(Assert.java:645)
Aug 10 01:15:35 	at org.junit.Assert.assertEquals(Assert.java:631)
Aug 10 01:15:35 	at org.apache.flink.streaming.connectors.rabbitmq.RMQSourceTest.testRedeliveredSessionIDsAck(RMQSourceTest.java:407)
Aug 10 01:15:35 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
Aug 10 01:15:35 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
Aug 10 01:15:35 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
Aug 10 01:15:35 	at java.lang.reflect.Method.invoke(Method.java:498)
Aug 10 01:15:35 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
Aug 10 01:15:35 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
Aug 10 01:15:35 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
Aug 10 01:15:35 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
Aug 10 01:15:35 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
Aug 10 01:15:35 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
Aug 10 01:15:35 	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)
Aug 10 01:15:35 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
Aug 10 01:15:35 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
Aug 10 01:15:35 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
Aug 10 01:15:35 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
Aug 10 01:15:35 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
Aug 10 01:15:35 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
Aug 10 01:15:35 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
Aug 10 01:15:35 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
Aug 10 01:15:35 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
Aug 10 01:15:35 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
Aug 10 01:15:35 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
Aug 10 01:15:35 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
Aug 10 01:15:35 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
Aug 10 01:15:35 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
Aug 10 01:15:35 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
Aug 10 01:15:35 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
Aug 10 01:15:35 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
Aug 10 01:15:35 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13394312">FLINK-23696</key>
            <summary>RMQSourceTest.testRedeliveredSessionIDsAck fails on azure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cmick">Micha&#322; Ciesielczyk</assignee>
                                    <reporter username="xtsong">Xintong Song</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 10 Aug 2021 03:16:19 +0000</created>
                <updated>Wed, 15 Dec 2021 01:44:16 +0000</updated>
                            <resolved>Wed, 10 Nov 2021 15:22:59 +0000</resolved>
                                    <version>1.14.0</version>
                    <version>1.12.5</version>
                    <version>1.13.2</version>
                    <version>1.15.0</version>
                                    <fixVersion>1.13.6</fixVersion>
                    <fixVersion>1.14.3</fixVersion>
                    <fixVersion>1.15.0</fixVersion>
                                    <component>Connectors/ RabbitMQ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17412374" author="xintongsong" created="Thu, 9 Sep 2021 06:34:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=23803&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=906e9244-f3be-5604-1979-e767c8a6f6d9&amp;amp;l=13325&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=23803&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=906e9244-f3be-5604-1979-e767c8a6f6d9&amp;amp;l=13325&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17412535" author="dianfu" created="Thu, 9 Sep 2021 12:21:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/dianfu/Flink/_build/results?buildId=527&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/dianfu/Flink/_build/results?buildId=527&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17412986" author="xintongsong" created="Fri, 10 Sep 2021 06:30:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=23876&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=66648bdf-9af9-503d-c9a7-11f783a19935&amp;amp;l=13913&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=23876&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=66648bdf-9af9-503d-c9a7-11f783a19935&amp;amp;l=13913&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17426078" author="till.rohrmann" created="Fri, 8 Oct 2021 09:46:58 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://dev.azure.com/ververica-dev/daplatform-flink/_build/results?buildId=1552&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&amp;amp;l=13978&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/ververica-dev/daplatform-flink/_build/results?buildId=1552&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&amp;amp;l=13978&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17426079" author="till.rohrmann" created="Fri, 8 Oct 2021 09:47:35 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://dev.azure.com/ververica-dev/daplatform-flink/_build/results?buildId=1551&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&amp;amp;l=13979&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/ververica-dev/daplatform-flink/_build/results?buildId=1551&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&amp;amp;l=13979&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17426964" author="dawidwys" created="Mon, 11 Oct 2021 06:25:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=24932&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=906e9244-f3be-5604-1979-e767c8a6f6d9&amp;amp;l=13274&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=24932&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=906e9244-f3be-5604-1979-e767c8a6f6d9&amp;amp;l=13274&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17428004" author="ym" created="Wed, 13 Oct 2021 04:44:05 +0000"  >&lt;p&gt;another case:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/mymeiyuan/Flink/_build/results?buildId=342&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/mymeiyuan/Flink/_build/results?buildId=342&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17428040" author="fabian.paul" created="Wed, 13 Oct 2021 06:38:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmick&quot; class=&quot;user-hover&quot; rel=&quot;cmick&quot;&gt;cmick&lt;/a&gt;&#160;do you have time to take a look?&lt;/p&gt;</comment>
                            <comment id="17439182" author="till.rohrmann" created="Fri, 5 Nov 2021 10:58:00 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=25986&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=66648bdf-9af9-503d-c9a7-11f783a19935&amp;amp;l=13978&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=25986&amp;amp;view=logs&amp;amp;j=e1276d0f-df12-55ec-86b5-c0ad597d83c9&amp;amp;t=66648bdf-9af9-503d-c9a7-11f783a19935&amp;amp;l=13978&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17439183" author="till.rohrmann" created="Fri, 5 Nov 2021 10:58:32 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arvid&quot; class=&quot;user-hover&quot; rel=&quot;arvid&quot;&gt;arvid&lt;/a&gt; this test seems to be failing repeatedly. Can we make a plan how to handle the problem?&lt;/p&gt;</comment>
                            <comment id="17439186" author="fabian.paul" created="Fri, 5 Nov 2021 11:01:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmick&quot; class=&quot;user-hover&quot; rel=&quot;cmick&quot;&gt;cmick&lt;/a&gt; can you spare some time to help us debug it?&lt;/p&gt;</comment>
                            <comment id="17440127" author="cmick" created="Mon, 8 Nov 2021 00:31:31 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpaul&quot; class=&quot;user-hover&quot; rel=&quot;fpaul&quot;&gt;fpaul&lt;/a&gt; , sorry for the delay. Yes. I think I know what causes the issue. It&apos;s a race condition between the message count checks and the message producer. I managed to reproduce it locally by adding an Thread.sleep. Moving the problematic asserts into a synchronized code block fixes the issue. Since, it&apos;s a minor change I will prepare a PR shortly.&lt;/p&gt;</comment>
                            <comment id="17441790" author="arvid" created="Wed, 10 Nov 2021 15:22:52 +0000"  >&lt;p&gt;Merged into master as 4eaeb92691fc60b1680ffa7450a534a4bcf08533, into 1.14 as 71891823f2c82c12952c0dee52d6bc25c6e56fc9, and into 1.13 as 89acb9a5b36a36b4397310c935f6537a37bec885.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0tqwg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>