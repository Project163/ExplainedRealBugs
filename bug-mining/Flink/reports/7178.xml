<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:18:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-32768] SpeculativeSchedulerITCase.testSpeculativeExecutionOfInputFormatSource times out</title>
                <link>https://issues.apache.org/jira/browse/FLINK-32768</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;SpeculativeSchedulerITCase.testSpeculativeExecutionOfInputFormatSource is timing out:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=52009&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=9022&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=52009&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=9022&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2023-08-06T05:34:27.1867230Z Aug 06 05:34:27 &lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool-1-worker-1&quot;&lt;/span&gt; #14 daemon prio=5 os_prio=0 tid=0x00007fb7d4e82800 nid=0x6dde7 waiting on condition [0x00007fb7834a4000]
2023-08-06T05:34:27.1867541Z Aug 06 05:34:27    java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
2023-08-06T05:34:27.1867777Z Aug 06 05:34:27 	at sun.misc.Unsafe.park(Native Method)
2023-08-06T05:34:27.1868191Z Aug 06 05:34:27 	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000000a77360d8&amp;gt; (a java.util.concurrent.CompletableFuture$Signaller)
2023-08-06T05:34:27.1868571Z Aug 06 05:34:27 	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
2023-08-06T05:34:27.1868896Z Aug 06 05:34:27 	at java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1707)
2023-08-06T05:34:27.1869240Z Aug 06 05:34:27 	at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3313)
2023-08-06T05:34:27.1869682Z Aug 06 05:34:27 	at java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1742)
2023-08-06T05:34:27.1870022Z Aug 06 05:34:27 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
2023-08-06T05:34:27.1870395Z Aug 06 05:34:27 	at org.apache.flink.test.scheduling.SpeculativeSchedulerITCase.executeJob(SpeculativeSchedulerITCase.java:229)
2023-08-06T05:34:27.1870858Z Aug 06 05:34:27 	at org.apache.flink.test.scheduling.SpeculativeSchedulerITCase.testSpeculativeExecutionOfInputFormatSource(SpeculativeSchedulerITCase.java:165)
2023-08-06T05:34:27.1871251Z Aug 06 05:34:27 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13546324">FLINK-32768</key>
            <summary>SpeculativeSchedulerITCase.testSpeculativeExecutionOfInputFormatSource times out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="JunRuiLi">Junrui Li</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 7 Aug 2023 09:45:21 +0000</created>
                <updated>Thu, 10 Aug 2023 02:55:53 +0000</updated>
                            <resolved>Thu, 10 Aug 2023 02:55:53 +0000</resolved>
                                    <version>1.18.0</version>
                                    <fixVersion>1.18.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17751566" author="mapohl" created="Mon, 7 Aug 2023 09:46:23 +0000"  >&lt;p&gt;There was a similar issue in 1.17 (covered by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30846&quot; title=&quot;SpeculativeSchedulerITCase.testSpeculativeExecutionOfInputFormatSource fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30846&quot;&gt;&lt;del&gt;FLINK-30846&lt;/del&gt;&lt;/a&gt;) which was fixed. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JunRuiLi&quot; class=&quot;user-hover&quot; rel=&quot;JunRuiLi&quot;&gt;JunRuiLi&lt;/a&gt; can you have a look at this?&lt;/p&gt;</comment>
                            <comment id="17751660" author="JIRAUSER293716" created="Mon, 7 Aug 2023 12:50:46 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt;, thanks for reporting this issue.&#160;I tried to reproduce this issue locally but was not successful, so it will take some time to resolve it. If there are any debug logs or a heap dump available, they would be helpful in resolving the issue.&lt;/p&gt;</comment>
                            <comment id="17751661" author="mapohl" created="Mon, 7 Aug 2023 12:52:59 +0000"  >&lt;p&gt;Thanks for looking into it. The only artifacts that are available are the ones provided by the build.&lt;/p&gt;</comment>
                            <comment id="17751864" author="JIRAUSER293716" created="Tue, 8 Aug 2023 02:45:04 +0000"  >&lt;p&gt;This issue arises because createDeploymentHandles requires a correspondence between executionsToDeploy and executionSlotAssignments (&lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/scheduler/DefaultExecutionDeployer.java#L140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;), but after &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-31843&quot; title=&quot;Select slots from SlotPool#freeSlots in bulk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-31843&quot;&gt;&lt;del&gt;FLINK-31843&lt;/del&gt;&lt;/a&gt;, SimpleExecutionSlotAllocator broke this assumption (&lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/scheduler/SimpleExecutionSlotAllocator.java#L127&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;). The error only occurs during schedule slow tasks by SpeculativeScheduler because AdaptiveBatchScheduler will schedule task one-by-one, while SpeculativeScheduler may schedule multiple slow tasks at once. This issue renders speculative execution completely unusable, so I will raise its priority and prepare a PR to fix it.&#160;&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wanglijie&quot; class=&quot;user-hover&quot; rel=&quot;wanglijie&quot;&gt;wanglijie&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhuzh&quot; class=&quot;user-hover&quot; rel=&quot;zhuzh&quot;&gt;zhuzh&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17752594" author="zhuzh" created="Thu, 10 Aug 2023 02:55:53 +0000"  >&lt;p&gt;Fixed via 6806f30fe234790f25b5ca83e6d2910286a76aeb&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13533039">FLINK-31843</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13546476">FLINK-32788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13522183">FLINK-30846</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jmfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>