<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7166] generated avro sources not cleaned up or re-created after changes</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7166</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Since the AVRO upgrade to 1.8.2, I could compile the flink-avro module any more with a failure like this in &lt;tt&gt;mvn clean install -DskipTests -pl flink-connectors/flink-avro&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Compilation failure
[ERROR] flink-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/generated/Fixed16.java:[10,8] org.apache.flink.api.io.avro.generated.Fixed16 is not &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; and does not override &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; method readExternal(java.io.ObjectInput) in org.apache.avro.specific.SpecificFixed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was caused by maven both not cleaning up the generated sources and also not overwriting them with new ones itself. Only a manual &lt;tt&gt;rm -rf flink-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/generated&lt;/tt&gt; solved the issue.&lt;/p&gt;

&lt;p&gt;The cause for this, though, is that the avro files are generated under the &lt;tt&gt;src&lt;/tt&gt; directory, not &lt;tt&gt;target/generated-test-sources&lt;/tt&gt; as they should be. Either the generated sources should be cleaned up as well, or the generated files should be moved to this directory which is a more invasive change due to some hacks with respect to these files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13086536">FLINK-7166</key>
            <summary>generated avro sources not cleaned up or re-created after changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkruber">Nico Kruber</assignee>
                                    <reporter username="nkruber">Nico Kruber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jul 2017 10:00:38 +0000</created>
                <updated>Wed, 2 Aug 2017 14:32:39 +0000</updated>
                            <resolved>Wed, 2 Aug 2017 14:32:39 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16083889" author="githubbot" created="Wed, 12 Jul 2017 12:18:06 +0000"  >&lt;p&gt;GitHub user NicoK opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7166&quot; title=&quot;generated avro sources not cleaned up or re-created after changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7166&quot;&gt;&lt;del&gt;FLINK-7166&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;avro&amp;#93;&lt;/span&gt; cleanup generated test classes in the cleanup phase&lt;/p&gt;

&lt;p&gt;    Maven neither cleaned up generated avro classes used by tests nor did it replace&lt;br/&gt;
    them with new ones after the avro dependency change causing troubles to build&lt;br/&gt;
    the project. Although the target directory inside `src` is unusual, we keep it&lt;br/&gt;
    for now but at least delete these files in the cleanup stage so that a&lt;br/&gt;
    `mvn clean install` always works.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/NicoK/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/NicoK/flink&lt;/a&gt; flink-7166&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4309&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d6aec8f4d9666bdf912c768190033cf521b40b0a&lt;br/&gt;
Author: Nico Kruber &amp;lt;nico@data-artisans.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:15:24Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7166&quot; title=&quot;generated avro sources not cleaned up or re-created after changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7166&quot;&gt;&lt;del&gt;FLINK-7166&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;avro&amp;#93;&lt;/span&gt; cleanup generated test classes in the cleanup phase&lt;/p&gt;

&lt;p&gt;    Maven neither cleaned up generated avro classes used by tests nor did it replace&lt;br/&gt;
    them with new ones after the avro dependency change causing troubles to build&lt;br/&gt;
    the project. Although the target directory inside `src` is unusual, we keep it&lt;br/&gt;
    for now but at least delete these files in the cleanup stage so that a&lt;br/&gt;
    `mvn clean install` always works.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16086069" author="githubbot" created="Thu, 13 Jul 2017 17:37:28 +0000"  >&lt;p&gt;Github user bowenli86 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I ran into this too. Thanks for the PR!&lt;/p&gt;

&lt;p&gt;    Shall we also create a ticket to move generated files out of `src`?&lt;/p&gt;</comment>
                            <comment id="16092681" author="githubbot" created="Wed, 19 Jul 2017 06:59:35 +0000"  >&lt;p&gt;Github user NicoK commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    That would make sense and I was going that way at first. It is spread over some of the project files though and there was something about eclipse having problems with it (although the last time, we tried, using eclipse for developing Flink didn&apos;t work anymore).&lt;br/&gt;
    So in the end, changing this may be more beautiful but we don&apos;t really gain much by it, do we? Only, potentially, some problems.&lt;/p&gt;</comment>
                            <comment id="16107079" author="githubbot" created="Mon, 31 Jul 2017 10:07:34 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the fix. I think this LGTM, +1.&lt;br/&gt;
    @NicoK could you rebase on the latest master to incorproate the new test profiles (just to make sure nothing bad is affected by this change, although I don&apos;t really expect it)?&lt;/p&gt;

&lt;p&gt;    After a green run I&apos;ll merge this!&lt;/p&gt;</comment>
                            <comment id="16107210" author="githubbot" created="Mon, 31 Jul 2017 12:01:38 +0000"  >&lt;p&gt;Github user NicoK commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    did the rebase and it looks good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16110608" author="githubbot" created="Wed, 2 Aug 2017 09:20:21 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging ..&lt;/p&gt;</comment>
                            <comment id="16111009" author="githubbot" created="Wed, 2 Aug 2017 14:31:56 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4309&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16111012" author="tzulitai" created="Wed, 2 Aug 2017 14:32:39 +0000"  >&lt;p&gt;Thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=NicoK&quot; class=&quot;user-hover&quot; rel=&quot;NicoK&quot;&gt;NicoK&lt;/a&gt;!&lt;br/&gt;
Fixed in master via 08658bb06fe331e7312f915be404580bcb835010.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hf4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>