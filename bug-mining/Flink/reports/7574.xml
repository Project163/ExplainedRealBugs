<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:20:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-34446] SqlValidatorException with LATERAL TABLE and JOIN</title>
                <link>https://issues.apache.org/jira/browse/FLINK-34446</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;found one regression issue. Query working Flink 1.17.2, but failing with Flink 1.18.+&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-- Query working Flink 1.17.2, but failing with Flink 1.18.+

-- -- [ERROR] Could not execute SQL statement. Reason:

-- -- org.apache.calcite.sql.validate.SqlValidatorException: Table &lt;span class=&quot;code-quote&quot;&gt;&apos;s&apos;&lt;/span&gt; not found

SELECT * FROM sample as s,
LATERAL TABLE(split(s.id,&lt;span class=&quot;code-quote&quot;&gt;&apos;[01]&apos;&lt;/span&gt;))
CROSS JOIN (VALUES (&lt;span class=&quot;code-quote&quot;&gt;&apos;A&apos;&lt;/span&gt;), (&lt;span class=&quot;code-quote&quot;&gt;&apos;B&apos;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is not related to the the alias scope. Even if we replace split(s.id.. ) with split(id,...) the error&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: org.apache.calcite.sql.validate.SqlValidatorException: Column &lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt; not found in any table
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;will be generated. This seems to be Calcite issue, since this test fails on Calcite v1.32 and does not fail on Calcite 1.29.0 and 1.30.0.&lt;br/&gt;
We tested it with Calcite versions 1.31.0, 1.32.0, 1.33.0, 1.34.0, 1.35.0, 1.36.0 and the main branch (c774c313a81d01c4e3e77cf296d04839c5ab04c0). The issue still remains&lt;/p&gt;</description>
                <environment></environment>
        <key id="13568562">FLINK-34446</key>
            <summary>SqlValidatorException with LATERAL TABLE and JOIN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Sergey Nuyanzin">Sergey Nuyanzin</assignee>
                                    <reporter username="jingge">Jing Ge</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 15 Feb 2024 09:41:16 +0000</created>
                <updated>Mon, 2 Sep 2024 09:26:55 +0000</updated>
                            <resolved>Sun, 11 Aug 2024 22:45:56 +0000</resolved>
                                                    <fixVersion>2.0-preview</fixVersion>
                                    <component>Table SQL / Ecosystem</component>
                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="17817665" author="sergey nuyanzin" created="Thu, 15 Feb 2024 12:43:45 +0000"  >&lt;p&gt;most probably came with 1.31.0 as part of&#160; &lt;a href=&quot;https://issues.apache.org/jira/browse/CALCITE-35&quot; title=&quot;Support parenthesized sub-clause in JOIN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CALCITE-35&quot;&gt;&lt;del&gt;CALCITE-35&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17817845" author="sergey nuyanzin" created="Fri, 16 Feb 2024 05:15:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingge&quot; class=&quot;user-hover&quot; rel=&quot;jingge&quot;&gt;jingge&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeyhunkarimov&quot; class=&quot;user-hover&quot; rel=&quot;jeyhunkarimov&quot;&gt;jeyhunkarimov&lt;/a&gt;&#160;&lt;br/&gt;
I applied similar fix I submitted for Calcite &lt;br/&gt;
it seems passing the test mentioned in the issue description&lt;/p&gt;

&lt;p&gt;please have a look&lt;/p&gt;</comment>
                            <comment id="17818466" author="jingge" created="Mon, 19 Feb 2024 12:18:42 +0000"  >&lt;p&gt;Let&apos;s wait until the PR &lt;a href=&quot;https://github.com/apache/calcite/pull/3690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/calcite/pull/3690&lt;/a&gt; has been reviewed and is accepted.&lt;/p&gt;</comment>
                            <comment id="17872743" author="sergey nuyanzin" created="Sun, 11 Aug 2024 22:45:07 +0000"  >&lt;p&gt;Finally was fixed in Calcite within &lt;a href=&quot;https://github.com/apache/calcite/pull/3871&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/calcite/pull/3871&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17872744" author="sergey nuyanzin" created="Sun, 11 Aug 2024 22:45:47 +0000"  >&lt;p&gt;Merged as &lt;a href=&quot;https://github.com/apache/flink/commit/11b1fdfc7cffb74c7515a522b923fc2eba223fb8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;11b1fdfc7cffb74c7515a522b923fc2eba223fb8&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13527535">FLINK-31362</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13568574">CALCITE-6266</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1newo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>