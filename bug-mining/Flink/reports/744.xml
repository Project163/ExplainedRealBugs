<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:22:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3180] MemoryLogger does not log direct memory</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3180</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;MemoryLogger&lt;/tt&gt; logs &lt;tt&gt;MemoryPoolMXBean&lt;/tt&gt; outputs. These do not contain the direct memory. I think this was assumed to be the case.&lt;/p&gt;

&lt;p&gt;We have to query the MBeanServer manually for this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12922684">FLINK-3180</key>
            <summary>MemoryLogger does not log direct memory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uce">Ufuk Celebi</assignee>
                                    <reporter username="uce">Ufuk Celebi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Dec 2015 11:47:54 +0000</created>
                <updated>Fri, 12 Feb 2016 14:05:34 +0000</updated>
                            <resolved>Mon, 21 Dec 2015 17:47:29 +0000</resolved>
                                    <version>0.10.1</version>
                                    <fixVersion>0.10.2</fixVersion>
                    <fixVersion>1.0.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15062031" author="githubbot" created="Thu, 17 Dec 2015 13:31:09 +0000"  >&lt;p&gt;GitHub user uce opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3180&quot; title=&quot;MemoryLogger does not log direct memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3180&quot;&gt;&lt;del&gt;FLINK-3180&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Log direct memory usage in MemoryLogger&lt;/p&gt;

&lt;p&gt;    The off-heap stats reported by the memory logger didn&apos;t include direct memory.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/uce/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/flink&lt;/a&gt; 3180-memlog&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1466&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ce6688dbe0a70c161e8995a1a279f54f15380b4e&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-12-17T13:28:15Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3180&quot; title=&quot;MemoryLogger does not log direct memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3180&quot;&gt;&lt;del&gt;FLINK-3180&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Log direct memory usage in MemoryLogger&lt;/p&gt;

&lt;p&gt;    The off-heap stats reported by the memory logger didn&apos;t include&lt;br/&gt;
    direct memory.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15062201" author="githubbot" created="Thu, 17 Dec 2015 15:40:40 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466#issuecomment-165486967&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466#issuecomment-165486967&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the pull request. Could we also include the direct memory in the `getMemoryUsageStatsAsString()` which outputs memory information on task manager startups?&lt;/p&gt;

&lt;p&gt;    Looks good to merge otherwise!&lt;/p&gt;</comment>
                            <comment id="15062407" author="githubbot" created="Thu, 17 Dec 2015 17:40:48 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466#issuecomment-165524534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466#issuecomment-165524534&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ve added some related changes to this PR to display the direct memory usage in the web frontend as well. The current structure didn&apos;t make a lot of sense to me:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Current&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    !&lt;span class=&quot;error&quot;&gt;&amp;#91;screen shot 2015-12-17 at 17 28 42&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://cloud.githubusercontent.com/assets/1756620/11876983/cf7b5280-a4ec-11e5-9a06-67075ad5a34a.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cloud.githubusercontent.com/assets/1756620/11876983/cf7b5280-a4ec-11e5-9a06-67075ad5a34a.png&lt;/a&gt;)&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;This PR&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    !&lt;span class=&quot;error&quot;&gt;&amp;#91;screen shot 2015-12-17 at 18 26 00&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://cloud.githubusercontent.com/assets/1756620/11876991/dd456c98-a4ec-11e5-840c-1653fc393698.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cloud.githubusercontent.com/assets/1756620/11876991/dd456c98-a4ec-11e5-840c-1653fc393698.png&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;    It&apos;s not that beautiful, but I think the ordering makes more sense now. I&apos;ve also fixed a bug with the reporting of the PS-Scavenge GC times.&lt;/p&gt;

&lt;p&gt;    (PS: Sorry for overloading this PR.)&lt;/p&gt;

&lt;p&gt;    @mxm Is it OK if we address your comment in a follow up? I&apos;m not sure how the respective bean is initialized and how expensive it is. In contrast to the other beans, this is not just a getter which initializes the bean on first access.&lt;/p&gt;</comment>
                            <comment id="15063754" author="githubbot" created="Fri, 18 Dec 2015 09:35:37 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466#issuecomment-165726928&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466#issuecomment-165726928&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @uce Sure. We can do that.&lt;/p&gt;</comment>
                            <comment id="15063795" author="githubbot" created="Fri, 18 Dec 2015 10:27:45 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466#issuecomment-165741781&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466#issuecomment-165741781&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Nice addition.&lt;/p&gt;

&lt;p&gt;    +1&lt;/p&gt;</comment>
                            <comment id="15066566" author="githubbot" created="Mon, 21 Dec 2015 15:26:09 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466#issuecomment-166330037&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466#issuecomment-166330037&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM, will merge&lt;/p&gt;</comment>
                            <comment id="15066773" author="githubbot" created="Mon, 21 Dec 2015 17:44:30 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1466&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1466&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15066777" author="fhueske" created="Mon, 21 Dec 2015 17:47:29 +0000"  >&lt;p&gt;Fixed with af996301756563e58df7559ca0d5e0e58a87145b&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2q15z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>