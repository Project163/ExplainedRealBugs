<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:58:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23409] CrossITCase fails with &quot;NoResourceAvailableException: Slot request bulk is not fulfillable! Could not allocate the required slot within slot request timeout&quot;</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23409</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=20548&amp;amp;view=logs&amp;amp;j=a57e0635-3fad-5b08-57c7-a4142d7d6fa9&amp;amp;t=5360d54c-8d94-5d85-304e-a89267eb785a&amp;amp;l=10074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=20548&amp;amp;view=logs&amp;amp;j=a57e0635-3fad-5b08-57c7-a4142d7d6fa9&amp;amp;t=5360d54c-8d94-5d85-304e-a89267eb785a&amp;amp;l=10074&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Jul 16 09:21:37 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
Jul 16 09:21:37 	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:517)
Jul 16 09:21:37 	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)
Jul 16 09:21:37 	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)
Jul 16 09:21:37 	at akka.actor.ActorCell.invoke(ActorCell.scala:561)
Jul 16 09:21:37 	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)
Jul 16 09:21:37 	at akka.dispatch.Mailbox.run(Mailbox.scala:225)
Jul 16 09:21:37 	at akka.dispatch.Mailbox.exec(Mailbox.scala:235)
Jul 16 09:21:37 	... 4 more
Jul 16 09:21:37 Caused by: java.util.concurrent.CompletionException: org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Slot request bulk is not fulfillable! Could not allocate the required slot within slot request timeout
Jul 16 09:21:37 	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
Jul 16 09:21:37 	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
Jul 16 09:21:37 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
Jul 16 09:21:37 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
Jul 16 09:21:37 	... 31 more
Jul 16 09:21:37 Caused by: org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Slot request bulk is not fulfillable! Could not allocate the required slot within slot request timeout
Jul 16 09:21:37 	at org.apache.flink.runtime.jobmaster.slotpool.PhysicalSlotRequestBulkCheckerImpl.lambda$schedulePendingRequestBulkWithTimestampCheck$0(PhysicalSlotRequestBulkCheckerImpl.java:86)
Jul 16 09:21:37 	... 24 more
Jul 16 09:21:37 Caused by: java.util.concurrent.TimeoutException: Timeout has occurred: 300000 ms
Jul 16 09:21:37 	... 25 more

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13390033">FLINK-23409</key>
            <summary>CrossITCase fails with &quot;NoResourceAvailableException: Slot request bulk is not fulfillable! Could not allocate the required slot within slot request timeout&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="guoyangze">Yangze Guo</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Fri, 16 Jul 2021 12:05:42 +0000</created>
                <updated>Thu, 21 Nov 2024 04:03:28 +0000</updated>
                            <resolved>Fri, 20 Aug 2021 10:12:07 +0000</resolved>
                                    <version>1.14.0</version>
                                    <fixVersion>1.14.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17382015" author="dawidwys" created="Fri, 16 Jul 2021 12:06:40 +0000"  >&lt;p&gt;I am wondering if this could be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-23093&quot; title=&quot;Limit number of I/O pool and Future threads in Mini Cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-23093&quot;&gt;&lt;del&gt;FLINK-23093&lt;/del&gt;&lt;/a&gt; cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wanglijie95&quot; class=&quot;user-hover&quot; rel=&quot;wanglijie95&quot;&gt;wanglijie95&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17382038" author="till.rohrmann" created="Fri, 16 Jul 2021 12:27:08 +0000"  >&lt;p&gt;Hmm, locally everything passes. Also the build for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-23093&quot; title=&quot;Limit number of I/O pool and Future threads in Mini Cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-23093&quot;&gt;&lt;del&gt;FLINK-23093&lt;/del&gt;&lt;/a&gt; passed.&lt;/p&gt;

&lt;p&gt;What I found in the logs is the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
09:16:36,416 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - DataSink (CsvOutputFormat (path: file:/tmp/junit7235602407204969305/junit837890199545668434.tmp, delimiter: ,)) (2/4) (61b9f281e369b96551f4f42d7bc6b156) switched from CREATED to SCHEDULED.
09:16:36,416 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - DataSink (CsvOutputFormat (path: file:/tmp/junit7235602407204969305/junit837890199545668434.tmp, delimiter: ,)) (3/4) (4d49ea1e8acbc3f8368ece58928e6c5f) switched from CREATED to SCHEDULED.
09:16:36,416 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - DataSink (CsvOutputFormat (path: file:/tmp/junit7235602407204969305/junit837890199545668434.tmp, delimiter: ,)) (4/4) (e0e327a62ffe2733022a92cf4c605921) switched from CREATED to SCHEDULED.
09:16:36,419 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Connecting to ResourceManager akka:&lt;span class=&quot;code-comment&quot;&gt;//flink/user/rpc/resourcemanager_2(b2ae4decd3b74394548861ada12c402f)
&lt;/span&gt;09:16:36,420 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Resolved ResourceManager address, beginning registration
09:16:36,421 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-4] INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering job manager ba78e82641830967d1cf39d623934f97@akka:&lt;span class=&quot;code-comment&quot;&gt;//flink/user/rpc/jobmanager_7 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 72e507bcdef499061e756475aa153b19.
&lt;/span&gt;09:16:36,421 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registered job manager ba78e82641830967d1cf39d623934f97@akka:&lt;span class=&quot;code-comment&quot;&gt;//flink/user/rpc/jobmanager_7 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 72e507bcdef499061e756475aa153b19.
&lt;/span&gt;09:16:36,422 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-4] INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - JobManager successfully registered at ResourceManager, leader id: b2ae4decd3b74394548861ada12c402f.
09:16:36,422 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Received resource requirements from job 72e507bcdef499061e756475aa153b19: [ResourceRequirement{resourceProfile=ResourceProfile{UNKNOWN}, numberOfRequiredSlots=4}]
09:17:33,474 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-11] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:18:03,493 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-22] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:18:33,512 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-28] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:19:03,532 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-34] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:19:33,552 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-37] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:20:03,587 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-45] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:20:33,601 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-51] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:21:03,613 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-56] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:21:33,632 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-64] INFO  org.apache.flink.runtime.resourcemanager.slotmanager.FineGrainedSlotManager [] - Release TaskManager a61dbdd440a00d4a7dd5d7e16944f57f because it exceeded the idle timeout.
09:21:36,443 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-65] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - DataSource (at org.apache.flink.api.scala.util.CollectionDataSets$.getSmall5TupleDataSet(CollectionDataSets.scala:94) (org.apache.flink.api.java.io.CollectionInpu) (1/1) (9e7f450b1c1d7ef21005a7f237f8aae7) switched from SCHEDULED to FAILED on [unassigned resource].
java.util.concurrent.CompletionException: org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Slot request bulk is not fulfillable! Could not allocate the required slot within slot request timeout
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that there are quite some gaps in the timestamps. This could point towards some infrastructure problems.&lt;/p&gt;

&lt;p&gt;Also, the build runs with fine grained resource management. Maybe this is affecting the test case. cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xintongsong&quot; class=&quot;user-hover&quot; rel=&quot;xintongsong&quot;&gt;xintongsong&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17382956" author="karmagyz" created="Mon, 19 Jul 2021 02:23:35 +0000"  >&lt;p&gt;One possible cause is that something went wrong in calling the &lt;tt&gt;checkResourceRequirements&lt;/tt&gt;. I&apos;d add some logs for it. So that we can get more clues if this test fails again.&lt;/p&gt;</comment>
                            <comment id="17382958" author="xintongsong" created="Mon, 19 Jul 2021 02:24:53 +0000"  >&lt;p&gt;This indeed looks like a problem of fine grained resource management.&lt;br/&gt;
The resource requirements RM received from the job look good, but somehow the TM never received slot requests from RM.&lt;br/&gt;
We probably need to add a few more logs. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guoyangze&quot; class=&quot;user-hover&quot; rel=&quot;guoyangze&quot;&gt;guoyangze&lt;/a&gt; will look into this.&lt;/p&gt;</comment>
                            <comment id="17383718" author="xintongsong" created="Tue, 20 Jul 2021 03:21:59 +0000"  >&lt;p&gt;Logs added in b3eea9821aead6b8e11f592361384bed0a4fb016&lt;/p&gt;</comment>
                            <comment id="17402132" author="till.rohrmann" created="Fri, 20 Aug 2021 09:51:56 +0000"  >&lt;p&gt;The problem hasn&apos;t re-occurred for quite some time. Shall we close this ticket as cannot reproduce &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xtsong&quot; class=&quot;user-hover&quot; rel=&quot;xtsong&quot;&gt;xtsong&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17402136" author="xintongsong" created="Fri, 20 Aug 2021 10:11:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;,&lt;br/&gt;
Closing it makes sense to me. There is no other instances reported since it first occured.&lt;/p&gt;</comment>
                            <comment id="17607477" author="felixzh" created="Wed, 21 Sep 2022 03:26:07 +0000"  >&lt;p&gt;I also encountered this problem. After locating, the reason is that the yarn queue resources running this job are exhausted&lt;/p&gt;</comment>
                            <comment id="17899927" author="daniel_duan" created="Thu, 21 Nov 2024 04:03:28 +0000"  >&lt;p&gt;same as @felixzh, No more queue resouces.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0t0i8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>