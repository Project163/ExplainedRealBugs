<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:43:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15685] org.apache.flink.tests.util.kafka.SQLClientKafkaITCase failed on traivs</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15685</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
08:50:02.717 [ERROR] Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 76.395 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.tests.util.kafka.SQLClientKafkaITCase
&#160;
1897208:50:02.722 [ERROR] testKafka[0: kafka-version:0.10 kafka-sql-version:.*kafka-0.10.jar](org.apache.flink.tests.util.kafka.SQLClientKafkaITCase) Time elapsed: 23.806 s &amp;lt;&amp;lt;&amp;lt; ERROR!
&#160;
18973java.io.IOException: 
&#160;
18974Process execution failed due error. Error output:Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.flink.table.client.SqlClientException: Unexpected exception. This is a bug. Please consider filing an issue.
&#160;
18975 at org.apache.flink.table.client.SqlClient.main(SqlClient.java:190)
&#160;
18976Caused by: org.apache.flink.table.client.gateway.SqlExecutionException: Could not create execution context.
&#160;
18977 at org.apache.flink.table.client.gateway.local.ExecutionContext$Builder.build(ExecutionContext.java:759)
&#160;
18978 at org.apache.flink.table.client.gateway.local.LocalExecutor.openSession(LocalExecutor.java:228)
&#160;
18979 at org.apache.flink.table.client.SqlClient.start(SqlClient.java:98)
&#160;
18980 at org.apache.flink.table.client.SqlClient.main(SqlClient.java:178)
&#160;
18981Caused by: java.lang.NoClassDefFoundError: org/apache/avro/io/DatumReader
&#160;
18982 at org.apache.flink.formats.avro.AvroRowFormatFactory.createDeserializationSchema(AvroRowFormatFactory.java:64)
&#160;
18983 at org.apache.flink.streaming.connectors.kafka.KafkaTableSourceSinkFactoryBase.getDeserializationSchema(KafkaTableSourceSinkFactoryBase.java:285)
&#160;
18984 at org.apache.flink.streaming.connectors.kafka.KafkaTableSourceSinkFactoryBase.createStreamTableSource(KafkaTableSourceSinkFactoryBase.java:163)
&#160;
18985 at org.apache.flink.table.factories.StreamTableSourceFactory.createTableSource(StreamTableSourceFactory.java:49)
&#160;
18986 at org.apache.flink.table.client.gateway.local.ExecutionContext.createTableSource(ExecutionContext.java:371)
&#160;
18987 at org.apache.flink.table.client.gateway.local.ExecutionContext.lambda$initializeCatalogs$6(ExecutionContext.java:552)
&#160;
18988 at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
&#160;
18989 at org.apache.flink.table.client.gateway.local.ExecutionContext.initializeCatalogs(ExecutionContext.java:550)
&#160;
18990 at org.apache.flink.table.client.gateway.local.ExecutionContext.initializeTableEnvironment(ExecutionContext.java:487)
&#160;
18991 at org.apache.flink.table.client.gateway.local.ExecutionContext.&amp;lt;init&amp;gt;(ExecutionContext.java:159)
&#160;
18992 at org.apache.flink.table.client.gateway.local.ExecutionContext.&amp;lt;init&amp;gt;(ExecutionContext.java:118)
&#160;
18993 at org.apache.flink.table.client.gateway.local.ExecutionContext$Builder.build(ExecutionContext.java:748)
&#160;
18994 ... 3 more
&#160;
18995Caused by: java.lang.ClassNotFoundException: org.apache.avro.io.DatumReader
&#160;
18996 at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
&#160;
18997 at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:424)
&#160;
18998 at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357)
&#160;
18999 ... 15 more
&#160;
19000
&#160;
19001 at org.apache.flink.tests.util.kafka.SQLClientKafkaITCase.insertIntoAvroTable(SQLClientKafkaITCase.java:178)
&#160;
19002 at org.apache.flink.tests.util.kafka.SQLClientKafkaITCase.testKafka(SQLClientKafkaITCase.java:151)
&#160;
19003
&#160;
1900408:50:02.734 [ERROR] testKafka[1: kafka-version:0.11 kafka-sql-version:.*kafka-0.11.jar](org.apache.flink.tests.util.kafka.SQLClientKafkaITCase) Time elapsed: 25.227 s &amp;lt;&amp;lt;&amp;lt; ERROR!
&#160;
19005java.io.IOException: 
&#160;
19006Process execution failed due error. Error output:Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.flink.table.client.SqlClientException: Unexpected exception. This is a bug. Please consider filing an issue.
&#160;
19007 at org.apache.flink.table.client.SqlClient.main(SqlClient.java:190)
&#160;
19008Caused by: org.apache.flink.table.client.gateway.SqlExecutionException: Could not create execution context.
&#160;
19009 at org.apache.flink.table.client.gateway.local.ExecutionContext$Builder.build(ExecutionContext.java:759)
&#160;
19010 at org.apache.flink.table.client.gateway.local.LocalExecutor.openSession(LocalExecutor.java:228)
&#160;
19011 at org.apache.flink.table.client.SqlClient.start(SqlClient.java:98)
&#160;
19012 at org.apache.flink.table.client.SqlClient.main(SqlClient.java:178)
&#160;
19013Caused by: java.lang.NoClassDefFoundError: org/apache/avro/io/DatumReader
&#160;
19014 at org.apache.flink.formats.avro.AvroRowFormatFactory.createDeserializationSchema(AvroRowFormatFactory.java:64)
&#160;
19015 at org.apache.flink.streaming.connectors.kafka.KafkaTableSourceSinkFactoryBase.getDeserializationSchema(KafkaTableSourceSinkFactoryBase.java:285)
&#160;
19016 at org.apache.flink.streaming.connectors.kafka.KafkaTableSourceSinkFactoryBase.createStreamTableSource(KafkaTableSourceSinkFactoryBase.java:163)
&#160;
19017 at org.apache.flink.table.factories.StreamTableSourceFactory.createTableSource(StreamTableSourceFactory.java:49)
&#160;
19018 at org.apache.flink.table.client.gateway.local.ExecutionContext.createTableSource(ExecutionContext.java:371)
&#160;
19019 at org.apache.flink.table.client.gateway.local.ExecutionContext.lambda$initializeCatalogs$6(ExecutionContext.java:552)
&#160;
19020 at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
&#160;
19021 at org.apache.flink.table.client.gateway.local.ExecutionContext.initializeCatalogs(ExecutionContext.java:550)
&#160;
19022 at org.apache.flink.table.client.gateway.local.ExecutionContext.initializeTableEnvironment(ExecutionContext.java:487)
&#160;
19023 at org.apache.flink.table.client.gateway.local.ExecutionContext.&amp;lt;init&amp;gt;(ExecutionContext.java:159)
&#160;
19024 at org.apache.flink.table.client.gateway.local.ExecutionContext.&amp;lt;init&amp;gt;(ExecutionContext.java:118)
&#160;
19025 at org.apache.flink.table.client.gateway.local.ExecutionContext$Builder.build(ExecutionContext.java:748)
&#160;
19026 ... 3 more
&#160;
19027Caused by: java.lang.ClassNotFoundException: org.apache.avro.io.DatumReader
&#160;
19028 at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
&#160;
19029 at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:424)
&#160;
19030 at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357)
&#160;
19031 ... 15 more
&#160;
19032
&#160;
19033 at org.apache.flink.tests.util.kafka.SQLClientKafkaITCase.insertIntoAvroTable(SQLClientKafkaITCase.java:178)
&#160;
19034 at org.apache.flink.tests.util.kafka.SQLClientKafkaITCase.testKafka(SQLClientKafkaITCase.java:151)
&#160;
19035
&#160;
1903608:50:02.745 [ERROR] testKafka[2: kafka-version:universal kafka-sql-version:.*kafka.jar](org.apache.flink.tests.util.kafka.SQLClientKafkaITCase) Time elapsed: 27.321 s &amp;lt;&amp;lt;&amp;lt; ERROR!
&#160;
19037java.io.IOException: 
&#160;
19038Process execution failed due error. Error output:Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.flink.table.client.SqlClientException: Unexpected exception. This is a bug. Please consider filing an issue.
&#160;
19039 at org.apache.flink.table.client.SqlClient.main(SqlClient.java:190)
&#160;
19040Caused by: org.apache.flink.table.client.gateway.SqlExecutionException: Could not create execution context.
&#160;
19041 at org.apache.flink.table.client.gateway.local.ExecutionContext$Builder.build(ExecutionContext.java:759)
&#160;
19042 at org.apache.flink.table.client.gateway.local.LocalExecutor.openSession(LocalExecutor.java:228)
&#160;
19043 at org.apache.flink.table.client.SqlClient.start(SqlClient.java:98)
&#160;
19044 at org.apache.flink.table.client.SqlClient.main(SqlClient.java:178)
&#160;
19045Caused by: java.lang.NoClassDefFoundError: org/apache/avro/io/DatumReader
&#160;
19046 at org.apache.flink.formats.avro.AvroRowFormatFactory.createDeserializationSchema(AvroRowFormatFactory.java:64)
&#160;
19047 at org.apache.flink.streaming.connectors.kafka.KafkaTableSourceSinkFactoryBase.getDeserializationSchema(KafkaTableSourceSinkFactoryBase.java:285)
&#160;
19048 at org.apache.flink.streaming.connectors.kafka.KafkaTableSourceSinkFactoryBase.createStreamTableSource(KafkaTableSourceSinkFactoryBase.java:163)
&#160;
19049 at org.apache.flink.table.factories.StreamTableSourceFactory.createTableSource(StreamTableSourceFactory.java:49)
&#160;
19050 at org.apache.flink.table.client.gateway.local.ExecutionContext.createTableSource(ExecutionContext.java:371)
&#160;
19051 at org.apache.flink.table.client.gateway.local.ExecutionContext.lambda$initializeCatalogs$6(ExecutionContext.java:552)
&#160;
19052 at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
&#160;
19053 at org.apache.flink.table.client.gateway.local.ExecutionContext.initializeCatalogs(ExecutionContext.java:550)
&#160;
19054 at org.apache.flink.table.client.gateway.local.ExecutionContext.initializeTableEnvironment(ExecutionContext.java:487)
&#160;
19055 at org.apache.flink.table.client.gateway.local.ExecutionContext.&amp;lt;init&amp;gt;(ExecutionContext.java:159)
&#160;
19056 at org.apache.flink.table.client.gateway.local.ExecutionContext.&amp;lt;init&amp;gt;(ExecutionContext.java:118)
&#160;
19057 at org.apache.flink.table.client.gateway.local.ExecutionContext$Builder.build(ExecutionContext.java:748)
&#160;
19058 ... 3 more
&#160;
19059Caused by: java.lang.ClassNotFoundException: org.apache.avro.io.DatumReader
&#160;
19060 at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
&#160;
19061 at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:424)
&#160;
19062 at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357)
&#160;
19063 ... 15 more
&#160;
19064
&#160;
19065 at org.apache.flink.tests.util.kafka.SQLClientKafkaITCase.insertIntoAvroTable(SQLClientKafkaITCase.java:178)
&#160;
19066 at org.apache.flink.tests.util.kafka.SQLClientKafkaITCase.testKafka(SQLClientKafkaITCase.java:151)
&#160;
19067
&#160;
1906808:50:03.069 [INFO] 
&#160;
1906908:50:03.069 [INFO] Results:
&#160;
1907008:50:03.069 [INFO] 
&#160;
1907108:50:03.069 [ERROR] Errors: 
&#160;
1907208:50:03.069 [ERROR] SQLClientKafkaITCase.testKafka:151-&amp;gt;insertIntoAvroTable:178 &#187; IO &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; execu...
&#160;
1907308:50:03.069 [ERROR] SQLClientKafkaITCase.testKafka:151-&amp;gt;insertIntoAvroTable:178 &#187; IO &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; execu...
&#160;
1907408:50:03.069 [ERROR] SQLClientKafkaITCase.testKafka:151-&amp;gt;insertIntoAvroTable:178 &#187; IO &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; execu...
&#160;
1907508:50:03.069 [INFO] 
&#160;
1907608:50:03.069 [ERROR] Tests run: 6, Failures: 0, Errors: 3, Skipped: 0
&#160;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://travis-ci.org/klion26/flink/jobs/639304872?utm_medium=notification&amp;amp;utm_source=github_status&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/klion26/flink/jobs/639304872?utm_medium=notification&amp;amp;utm_source=github_status&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13280520">FLINK-15685</key>
            <summary>org.apache.flink.tests.util.kafka.SQLClientKafkaITCase failed on traivs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="klion26">Congxian Qiu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2020 10:15:12 +0000</created>
                <updated>Thu, 13 Feb 2020 09:44:21 +0000</updated>
                            <resolved>Thu, 13 Feb 2020 09:44:21 +0000</resolved>
                                    <version>1.11.0</version>
                                    <fixVersion>1.11.0</fixVersion>
                                    <component>Table SQL / Client</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17019365" author="klion26" created="Mon, 20 Jan 2020 10:16:36 +0000"  >&lt;p&gt;From the exception log, it was thrown in &lt;tt&gt;SqlClinet.java&lt;/tt&gt;, so I attached this issue to &lt;tt&gt;Table SQL/Cline&lt;/tt&gt; component.&#160;&lt;/p&gt;</comment>
                            <comment id="17023604" author="till.rohrmann" created="Sat, 25 Jan 2020 17:25:58 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://api.travis-ci.org/v3/job/641346359/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/641346359/log.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17023896" author="zentol" created="Sun, 26 Jan 2020 18:26:55 +0000"  >&lt;p&gt;Bit of a weird one; my first instinct is that there&apos;s some issue in the build process for the avro jars, but I can&apos;t see how that could be non-deterministic.&lt;/p&gt;</comment>
                            <comment id="17024382" author="jark" created="Mon, 27 Jan 2020 14:39:50 +0000"  >&lt;p&gt;It seems that the reason is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15500&quot; title=&quot;&amp;quot;SQL Client end-to-end test for Kafka&amp;quot; failed in my local environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15500&quot;&gt;&lt;del&gt;FLINK-15500&lt;/del&gt;&lt;/a&gt; that the e2e test is not run with hadoop pre-bundled. &lt;/p&gt;</comment>
                            <comment id="17024408" author="till.rohrmann" created="Mon, 27 Jan 2020 15:11:57 +0000"  >&lt;p&gt;Do you have time to fix this issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17024466" author="jark" created="Mon, 27 Jan 2020 16:24:07 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;, if this is not urgent I think I can take this, because I&apos;m still on vacation. &lt;/p&gt;

&lt;p&gt;If this is the root cause, I guess the fixing is not difficult, we can just copy the hadoop pre-bundled jars into &lt;tt&gt;flink-end-to-end-tests/flink-end-to-end-tests-common-kafka/target/dependencies&lt;/tt&gt; directory. But I&apos;m wondering is the case always failed since &lt;tt&gt;SQLClientKafkaITCase&lt;/tt&gt; was checked in or failed recently? &lt;/p&gt;</comment>
                            <comment id="17024724" author="zentol" created="Mon, 27 Jan 2020 22:44:18 +0000"  >&lt;p&gt;I will fix this tomorrow. We just have to disable the test for builds that don&apos;t include hadoop in the distribution using the &lt;tt&gt;Hadoop&lt;/tt&gt; category, although it seems I never set up this logic in the travis scripts.&lt;/p&gt;</comment>
                            <comment id="17036078" author="zentol" created="Thu, 13 Feb 2020 09:44:21 +0000"  >&lt;p&gt;master: d2ea1fcdaca5f81639cbfbc0fc5ef683feb5ec3c&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aonc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>