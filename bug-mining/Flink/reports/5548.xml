<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:58:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-22464] OperatorEventSendingCheckpointITCase.testOperatorEventLostWithReaderFailure hangs with `AdaptiveScheduler`</title>
                <link>https://issues.apache.org/jira/browse/FLINK-22464</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17178&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=8171&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17178&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=8171&lt;/a&gt;&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

	2021-05-10T02:56:09.3603584Z &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; #1 prio=5 os_prio=0 tid=0x00007f677000b800 nid=0x40e4 waiting on condition [0x00007f6776cc8000]
2021-05-10T02:56:09.3604176Z    java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
2021-05-10T02:56:09.3604468Z 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
2021-05-10T02:56:09.3604925Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.sleepBeforeRetry(CollectResultFetcher.java:237)
2021-05-10T02:56:09.3605582Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.next(CollectResultFetcher.java:113)
2021-05-10T02:56:09.3606205Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.nextResultFromFetcher(CollectResultIterator.java:106)
2021-05-10T02:56:09.3606924Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.hasNext(CollectResultIterator.java:80)
2021-05-10T02:56:09.3607469Z 	at org.apache.flink.streaming.api.datastream.DataStream.executeAndCollect(DataStream.java:1320)
2021-05-10T02:56:09.3607996Z 	at org.apache.flink.streaming.api.datastream.DataStream.executeAndCollect(DataStream.java:1303)
2021-05-10T02:56:09.3608616Z 	at org.apache.flink.runtime.operators.coordination.OperatorEventSendingCheckpointITCase.runTest(OperatorEventSendingCheckpointITCase.java:223)
2021-05-10T02:56:09.3609378Z 	at org.apache.flink.runtime.operators.coordination.OperatorEventSendingCheckpointITCase.testOperatorEventLostWithReaderFailure(OperatorEventSendingCheckpointITCase.java:135)
2021-05-10T02:56:09.3609968Z 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-05-10T02:56:09.3610386Z 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
2021-05-10T02:56:09.3610858Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2021-05-10T02:56:09.3611295Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2021-05-10T02:56:09.3611703Z 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
2021-05-10T02:56:09.3612207Z 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
2021-05-10T02:56:09.3612774Z 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
2021-05-10T02:56:09.3613470Z 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
2021-05-10T02:56:09.3613930Z 	at org.apache.flink.util.TestNameProvider$1.evaluate(TestNameProvider.java:45)
2021-05-10T02:56:09.3614401Z 	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
2021-05-10T02:56:09.3614770Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2021-05-10T02:56:09.3615138Z 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
2021-05-10T02:56:09.3615584Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
2021-05-10T02:56:09.3616070Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
2021-05-10T02:56:09.3616487Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2021-05-10T02:56:09.3616962Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2021-05-10T02:56:09.3617361Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2021-05-10T02:56:09.3617785Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2021-05-10T02:56:09.3618209Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2021-05-10T02:56:09.3618635Z 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
2021-05-10T02:56:09.3619101Z 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
2021-05-10T02:56:09.3619507Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2021-05-10T02:56:09.3619879Z 	at org.junit.runners.Suite.runChild(Suite.java:128)
2021-05-10T02:56:09.3620239Z 	at org.junit.runners.Suite.runChild(Suite.java:27)
2021-05-10T02:56:09.3620596Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2021-05-10T02:56:09.3621009Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2021-05-10T02:56:09.3621406Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2021-05-10T02:56:09.3621906Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2021-05-10T02:56:09.3622319Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2021-05-10T02:56:09.3622843Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2021-05-10T02:56:09.3623263Z 	at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)
2021-05-10T02:56:09.3623739Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)
2021-05-10T02:56:09.3624332Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)
2021-05-10T02:56:09.3624854Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)
2021-05-10T02:56:09.3625342Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)
2021-05-10T02:56:09.3625851Z 	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)
2021-05-10T02:56:09.3626385Z 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
2021-05-10T02:56:09.3626978Z 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
2021-05-10T02:56:09.3627473Z 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
2021-05-10T02:56:09.3627912Z 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13374970">FLINK-22464</key>
            <summary>OperatorEventSendingCheckpointITCase.testOperatorEventLostWithReaderFailure hangs with `AdaptiveScheduler`</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmetzger">Robert Metzger</assignee>
                                    <reporter username="maguowei">Guowei Ma</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 26 Apr 2021 03:57:42 +0000</created>
                <updated>Thu, 23 Sep 2021 17:29:15 +0000</updated>
                            <resolved>Fri, 25 Jun 2021 14:20:22 +0000</resolved>
                                    <version>1.14.0</version>
                    <version>1.13.1</version>
                                    <fixVersion>1.14.0</fixVersion>
                    <fixVersion>1.13.2</fixVersion>
                                    <component>Runtime / Coordination</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17338165" author="maguowei" created="Mon, 3 May 2021 04:54:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17491&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=8151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17491&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=8151&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17341695" author="maguowei" created="Mon, 10 May 2021 06:22:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17761&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=7709&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17761&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=7709&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17341917" author="rmetzger" created="Mon, 10 May 2021 13:45:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=9076&amp;amp;view=logs&amp;amp;j=39259e64-fab3-5f14-656b-9c348703dab5&amp;amp;t=2f155df2-a089-542d-f56b-bb9d11f597f3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=9076&amp;amp;view=logs&amp;amp;j=39259e64-fab3-5f14-656b-9c348703dab5&amp;amp;t=2f155df2-a089-542d-f56b-bb9d11f597f3&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17347576" author="flink-jira-bot" created="Wed, 19 May 2021 10:53:01 +0000"  >&lt;p&gt;I am the &lt;a href=&quot;https://github.com/apache/flink-jira-bot/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink Jira Bot&lt;/a&gt; and I help the community manage its development. I see this issues has been marked as Critical but is unassigned and neither itself nor its Sub-Tasks have been updated for 7 days. I have gone ahead and marked it &quot;stale-critical&quot;. If this ticket is critical, please either assign yourself or give an update. Afterwards, please remove the label or in 7 days the issue will be deprioritized.&lt;/p&gt;</comment>
                            <comment id="17350885" author="rmetzger" created="Tue, 25 May 2021 07:43:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=18292&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=18292&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17350895" author="rmetzger" created="Tue, 25 May 2021 08:12:43 +0000"  >&lt;p&gt;The issue is reproducible 100% of the time locally with current master.&lt;br/&gt;
The job is in a restart loop due to this error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
22:48:45,251 [    Checkpoint Timer] INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 2 (type=CHECKPOINT) @ 1621896525250 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 566fd0f105339e3cecdfb994df6e1cf9.
22:48:45,251 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-2] INFO  org.apache.flink.runtime.operators.coordination.OperatorCoordinatorHolder [] - Coordinator checkpoint 2 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; coordinator cbc357ccb763df2852fee8c4fc7d55f2 is awaiting 1 pending events
22:48:45,704 [    Checkpoint Timer] WARN  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Failed to trigger checkpoint 2 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 566fd0f105339e3cecdfb994df6e1cf9. (1 consecutive failed attempts so far)
org.apache.flink.util.FlinkException: Failing OperatorCoordinator checkpoint because some OperatorEvents before &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; checkpoint barrier were not received by the target tasks.
	at org.apache.flink.runtime.operators.coordination.OperatorCoordinatorHolder.lambda$completeCheckpointOnceEventsAreDone$4(OperatorCoordinatorHolder.java:344) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_282]
	at org.apache.flink.runtime.concurrent.FutureUtils$WaitingConjunctFuture.handleCompletedFuture(FutureUtils.java:905) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_282]
	at org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$23(FutureUtils.java:1356) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) ~[?:1.8.0_282]
	at org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1255) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at org.apache.flink.runtime.concurrent.DirectExecutorService.execute(DirectExecutorService.java:217) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at org.apache.flink.runtime.concurrent.FutureUtils.lambda$orTimeout$15(FutureUtils.java:582) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_282]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_282]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_282]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_282]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_282]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_282]
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) [?:1.8.0_282]
22:48:45,706 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-3] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: numbers -&amp;gt; Map -&amp;gt; Sink: Data stream collect sink (1/1) (fe486f6c9a46e270c73a9832d6e2aab5) switched from RUNNING to FAILED on 1072e91c-cd0e-4c5a-99fe-46fa9f65f579 @ localhost (dataPort=-1).
org.apache.flink.util.FlinkException: An OperatorEvent from an OperatorCoordinator to a task was lost. Triggering task failover to ensure consistency. Event: &lt;span class=&quot;code-quote&quot;&gt;&apos;AddSplitEvents[[[B@57ec5d1f]]&apos;&lt;/span&gt;, targetTask: Source: numbers -&amp;gt; Map -&amp;gt; Sink: Data stream collect sink (1/1) - execution #0
	at org.apache.flink.runtime.operators.coordination.SubtaskGatewayImpl.lambda$sendEvent$0(SubtaskGatewayImpl.java:81) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_282]
	at java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:456) ~[?:1.8.0_282]
	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:440) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:208) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:77) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:158) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:123) [scala-library-2.11.12.jar:?]
	at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170) [scala-library-2.11.12.jar:?]
	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [scala-library-2.11.12.jar:?]
	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171) [scala-library-2.11.12.jar:?]
	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:517) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.actor.ActorCell.invoke(ActorCell.scala:561) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.dispatch.Mailbox.run(Mailbox.scala:225) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.dispatch.Mailbox.exec(Mailbox.scala:235) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [akka-actor_2.11-2.5.21.jar:2.5.21]
	at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [akka-actor_2.11-2.5.21.jar:2.5.21]
Caused by: java.util.concurrent.TimeoutException
	at org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1255) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at org.apache.flink.runtime.concurrent.DirectExecutorService.execute(DirectExecutorService.java:217) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at org.apache.flink.runtime.concurrent.FutureUtils.lambda$orTimeout$15(FutureUtils.java:582) ~[flink-runtime_2.11-1.14-SNAPSHOT.jar:1.14-SNAPSHOT]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_282]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_282]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_282]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_282]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_282]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_282]
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) ~[?:1.8.0_282]
22:48:45,707 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-3] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Discarding the results produced by task execution fe486f6c9a46e270c73a9832d6e2aab5.
22:48:45,707 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-2] INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Attempting to cancel task Source: numbers -&amp;gt; Map -&amp;gt; Sink: Data stream collect sink (1/1)#0 (fe486f6c9a46e270c73a9832d6e2aab5).
22:48:45,707 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-2] INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: numbers -&amp;gt; Map -&amp;gt; Sink: Data stream collect sink (1/1)#0 (fe486f6c9a46e270c73a9832d6e2aab5) switched from RUNNING to CANCELING.
22:48:45,707 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-2] INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Triggering cancellation of task code Source: numbers -&amp;gt; Map -&amp;gt; Sink: Data stream collect sink (1/1)#0 (fe486f6c9a46e270c73a9832d6e2aab5).
22:48:45,707 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-3] INFO  org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler [] - Restarting job.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17350990" author="rmetzger" created="Tue, 25 May 2021 11:11:54 +0000"  >&lt;p&gt;Actually, the test seems to pass regularly on CI. Yesterday, it finished after 9 minutes. &lt;br/&gt;
With the regular scheduler, the test finishes in under 5 seconds on CI.&lt;/p&gt;

&lt;p&gt;Even if the test is not always failing with Adaptive Scheduler, the test should not take significantly more time with Adaptive Scheduler.&lt;/p&gt;

&lt;p&gt;In AS, it seems that &lt;tt&gt;AssignAfterCheckpointEnumerator.snapshotState()&lt;/tt&gt; doesn&apos;t get called anymore after the first exception occurred.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; could you take a look at the test failure?&lt;/p&gt;</comment>
                            <comment id="17351034" author="rmetzger" created="Tue, 25 May 2021 12:43:46 +0000"  >&lt;p&gt;Disabled test for AS in &lt;a href=&quot;https://github.com/apache/flink/commit/80ad5b3b511a68cce19a53291000c9936e10db17&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/80ad5b3b511a68cce19a53291000c9936e10db17&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17354910" author="dawidwys" created="Tue, 1 Jun 2021 07:47:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=18467&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=7992&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=18467&amp;amp;view=logs&amp;amp;j=8fd9202e-fd17-5b26-353c-ac1ff76c8f28&amp;amp;t=a0a633b8-47ef-5c5a-2806-3c13b9e48228&amp;amp;l=7992&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17354989" author="till.rohrmann" created="Tue, 1 Jun 2021 10:18:27 +0000"  >&lt;p&gt;The test now seems to also fail with the &lt;tt&gt;DefaultScheduler&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17355053" author="rmetzger" created="Tue, 1 Jun 2021 11:53:27 +0000"  >&lt;p&gt;It is still only failing with AS, but I only disabled it in master, not in the release-1.13 branch. I&apos;ve now deactivated it there as well: feac87eb5a2ab66c04182e9b0d866571678a3535&lt;/p&gt;</comment>
                            <comment id="17355055" author="rmetzger" created="Tue, 1 Jun 2021 11:55:17 +0000"  >&lt;p&gt;Once I have time I&apos;ll look into this failure again.&lt;/p&gt;</comment>
                            <comment id="17355180" author="till.rohrmann" created="Tue, 1 Jun 2021 15:40:44 +0000"  >&lt;p&gt;Ah ok, thanks for the clarification &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17359637" author="flink-jira-bot" created="Tue, 8 Jun 2021 22:43:59 +0000"  >&lt;p&gt;This issue was labeled &quot;stale-critical&quot; 7 ago and has not received any updates so it is being deprioritized. If this ticket is actually Critical, please raise the priority and ask a committer to assign you the issue or revive the public discussion.&lt;/p&gt;</comment>
                            <comment id="17369496" author="rmetzger" created="Fri, 25 Jun 2021 14:20:22 +0000"  >&lt;p&gt;Resolved in master: &lt;a href=&quot;https://github.com/apache/flink/commit/be15eb0f01175acc8cfa1c146caa6f12778941cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/be15eb0f01175acc8cfa1c146caa6f12778941cf&lt;/a&gt;&lt;br/&gt;
Resolved in release-1.13: &lt;a href=&quot;https://github.com/apache/flink/commit/cd54b584371b67e67015d104d34c2f19a446e2b3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/cd54b584371b67e67015d104d34c2f19a446e2b3&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13376319">FLINK-22545</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qfr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>