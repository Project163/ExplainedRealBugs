<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:27:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-6064] wrong BlobServer hostname in TaskExecutor</title>
                <link>https://issues.apache.org/jira/browse/FLINK-6064</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The hostname currently used for the connection to the blob server inside TaskExecutor is the akka RPC address which is invalid here.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056312">FLINK-6064</key>
            <summary>wrong BlobServer hostname in TaskExecutor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkruber">Nico Kruber</assignee>
                                    <reporter username="nkruber">Nico Kruber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Mar 2017 15:16:54 +0000</created>
                <updated>Wed, 19 Apr 2017 07:45:46 +0000</updated>
                            <resolved>Thu, 16 Mar 2017 13:37:17 +0000</resolved>
                                    <version>1.3.0</version>
                                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15926526" author="githubbot" created="Wed, 15 Mar 2017 16:36:55 +0000"  >&lt;p&gt;GitHub user NicoK opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3551&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6064&quot; title=&quot;wrong BlobServer hostname in TaskExecutor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6064&quot;&gt;&lt;del&gt;FLINK-6064&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;flip6&amp;#93;&lt;/span&gt; fix BlobServer connection in TaskExecutor&lt;/p&gt;

&lt;p&gt;    The hostname used for the `BlobServer` was set to the akka address which is&lt;br/&gt;
    invalid for this use. Instead, this adds the hostname to the `RpcGateway` /&lt;br/&gt;
    `AkkaInvocationHandler` so that this information is available to the `TaskExecutor`.&lt;/p&gt;

&lt;p&gt;    The `AkkaInvocationHandler` already includes the akka rpc address which is set from the `AkkaRpcService` class where we are able to extract the correct host info similarly to what the `TaskManager` currently does.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/NicoK/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/NicoK/flink&lt;/a&gt; flink-6064&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3551.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3551.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3551&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e87d568068eacf536659832a784edc13c93c2b89&lt;br/&gt;
Author: Nico Kruber &amp;lt;nico@data-artisans.com&amp;gt;&lt;br/&gt;
Date:   2017-03-15T15:09:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6064&quot; title=&quot;wrong BlobServer hostname in TaskExecutor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6064&quot;&gt;&lt;del&gt;FLINK-6064&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;flip6&amp;#93;&lt;/span&gt; fix BlobServer connection in TaskExecutor&lt;/p&gt;

&lt;p&gt;    The hostname used for the BlobServer was set to the akka address which is&lt;br/&gt;
    invalid for this use. Instead, this adds the hostname to the RpcGateway /&lt;br/&gt;
    AkkaInvocationHandler so that this information is available to the TaskExecutor.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15927701" author="githubbot" created="Thu, 16 Mar 2017 09:08:05 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3551#discussion_r106366787&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3551#discussion_r106366787&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/rpc/akka/AkkaRpcService.java &amp;#8212;&lt;br/&gt;
    @@ -143,9 +142,17 @@ public C checkedApply(Object obj) throws Exception {&lt;br/&gt;
     					ActorRef actorRef = actorIdentity.getRef();&lt;/p&gt;

&lt;p&gt;     					final String address = AkkaUtils.getAkkaURL(actorSystem, actorRef);&lt;br/&gt;
    +					final String hostname;&lt;br/&gt;
    +					Option&amp;lt;String&amp;gt; host = actorRef.path().address().host();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    let&apos;s write `host().getOrElse(&quot;localhost&quot;)` here.&lt;/p&gt;</comment>
                            <comment id="15927702" author="githubbot" created="Thu, 16 Mar 2017 09:08:06 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3551#discussion_r106366813&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3551#discussion_r106366813&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/rpc/akka/AkkaRpcService.java &amp;#8212;&lt;br/&gt;
    @@ -187,9 +194,17 @@ public C checkedApply(Object obj) throws Exception {&lt;br/&gt;
     		LOG.info(&quot;Starting RPC endpoint for {} at {} .&quot;, rpcEndpoint.getClass().getName(), actorRef.path());&lt;/p&gt;

&lt;p&gt;     		final String address = AkkaUtils.getAkkaURL(actorSystem, actorRef);&lt;br/&gt;
    +		final String hostname;&lt;br/&gt;
    +		Option&amp;lt;String&amp;gt; host = actorRef.path().address().host();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    same here&lt;/p&gt;</comment>
                            <comment id="15927742" author="githubbot" created="Thu, 16 Mar 2017 09:46:43 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3551#discussion_r106374520&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3551#discussion_r106374520&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/rpc/akka/AkkaRpcService.java &amp;#8212;&lt;br/&gt;
    @@ -143,9 +142,17 @@ public C checkedApply(Object obj) throws Exception {&lt;br/&gt;
     					ActorRef actorRef = actorIdentity.getRef();&lt;/p&gt;

&lt;p&gt;     					final String address = AkkaUtils.getAkkaURL(actorSystem, actorRef);&lt;br/&gt;
    +					final String hostname;&lt;br/&gt;
    +					Option&amp;lt;String&amp;gt; host = actorRef.path().address().host();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Actually, forget my comments. We would have to define a `Function0` for that.&lt;/p&gt;</comment>
                            <comment id="15927745" author="githubbot" created="Thu, 16 Mar 2017 09:51:13 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3551&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15927748" author="githubbot" created="Thu, 16 Mar 2017 09:54:16 +0000"  >&lt;p&gt;Github user NicoK commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3551#discussion_r106376150&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3551#discussion_r106376150&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/rpc/akka/AkkaRpcService.java &amp;#8212;&lt;br/&gt;
    @@ -143,9 +142,17 @@ public C checkedApply(Object obj) throws Exception {&lt;br/&gt;
     					ActorRef actorRef = actorIdentity.getRef();&lt;/p&gt;

&lt;p&gt;     					final String address = AkkaUtils.getAkkaURL(actorSystem, actorRef);&lt;br/&gt;
    +					final String hostname;&lt;br/&gt;
    +					Option&amp;lt;String&amp;gt; host = actorRef.path().address().host();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    yeah, I also tried `getOrElse` first but didn&apos;t feel too good about it&lt;/p&gt;</comment>
                            <comment id="15928036" author="till.rohrmann" created="Thu, 16 Mar 2017 13:37:17 +0000"  >&lt;p&gt;Fixed via 97f1788941b3a1a0710f530ddd83bad713098d56&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cb2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>