<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:19:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-33414] MiniClusterITCase.testHandleStreamingJobsWhenNotEnoughSlot fails due to unexpected TimeoutException</title>
                <link>https://issues.apache.org/jira/browse/FLINK-33414</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;We see this test instability in &lt;a href=&quot;https://github.com/XComp/flink/actions/runs/6695266358/job/18192039035#step:12:9253&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this build&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error: 17:04:52 17:04:52.042 [ERROR] Failures: 
9252Error: 17:04:52 17:04:52.042 [ERROR]   MiniClusterITCase.testHandleStreamingJobsWhenNotEnoughSlot:120 
9253Oct 30 17:04:52 Expecting a throwable with root cause being an instance of:
9254Oct 30 17:04:52   org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException
9255Oct 30 17:04:52 but was an instance of:
9256Oct 30 17:04:52   java.util.concurrent.TimeoutException: Timeout has occurred: 100 ms
9257Oct 30 17:04:52 	at org.apache.flink.runtime.jobmaster.slotpool.PhysicalSlotRequestBulkCheckerImpl.lambda$schedulePendingRequestBulkWithTimestampCheck$0(PhysicalSlotRequestBulkCheckerImpl.java:86)
9258Oct 30 17:04:52 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
9259Oct 30 17:04:52 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
9260Oct 30 17:04:52 	...(27 remaining lines not displayed - &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; can be changed with Assertions.setMaxStackTraceElementsDisplayed) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The same error occurred in the &lt;a href=&quot;https://github.com/XComp/flink/actions/runs/6468655160/job/17563927249#step:11:26516&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;finegrained_resourcemanager stage of this build&lt;/a&gt; (as reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-33245&quot; title=&quot;finegrained_resource_management module failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-33245&quot;&gt;&lt;del&gt;FLINK-33245&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13556225">FLINK-33414</key>
            <summary>MiniClusterITCase.testHandleStreamingJobsWhenNotEnoughSlot fails due to unexpected TimeoutException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Jiang Xin">Jiang Xin</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>github-actions</label>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 31 Oct 2023 10:45:54 +0000</created>
                <updated>Fri, 12 Jan 2024 11:48:01 +0000</updated>
                            <resolved>Fri, 12 Jan 2024 11:48:01 +0000</resolved>
                                    <version>1.19.0</version>
                                    <fixVersion>1.19.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17783526" author="mapohl" created="Tue, 7 Nov 2023 08:09:07 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/6774272900/job/18411630196#step:12:9254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/6774272900/job/18411630196#step:12:9254&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/6778931640/job/18425414988#step:12:9275&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/6778931640/job/18425414988#step:12:9275&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17787865" author="sergey nuyanzin" created="Mon, 20 Nov 2023 07:45:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54687&amp;amp;view=logs&amp;amp;j=77a9d8e1-d610-59b3-fc2a-4766541e0e33&amp;amp;t=125e07e7-8de0-5c6c-a541-a567415af3ef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54687&amp;amp;view=logs&amp;amp;j=77a9d8e1-d610-59b3-fc2a-4766541e0e33&amp;amp;t=125e07e7-8de0-5c6c-a541-a567415af3ef&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17787980" author="mapohl" created="Mon, 20 Nov 2023 12:22:27 +0000"  >&lt;p&gt;Ok, looks like it&apos;s a general issue. I&apos;m converting it to a bug and move it out of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-27075&quot; title=&quot;Migrate CI from Azure to Github Actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-27075&quot;&gt;FLINK-27075&lt;/a&gt;. Thanks for reporting, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=snuyanzin&quot; class=&quot;user-hover&quot; rel=&quot;snuyanzin&quot;&gt;snuyanzin&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17788662" author="mapohl" created="Wed, 22 Nov 2023 07:53:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/6944945499/job/18893668436#step:12:8893&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/6944945499/job/18893668436#step:12:8893&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17789434" author="sergey nuyanzin" created="Fri, 24 Nov 2023 11:17:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54856&amp;amp;view=logs&amp;amp;j=77a9d8e1-d610-59b3-fc2a-4766541e0e33&amp;amp;t=125e07e7-8de0-5c6c-a541-a567415af3ef&amp;amp;l=8858&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54856&amp;amp;view=logs&amp;amp;j=77a9d8e1-d610-59b3-fc2a-4766541e0e33&amp;amp;t=125e07e7-8de0-5c6c-a541-a567415af3ef&amp;amp;l=8858&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17790953" author="mapohl" created="Wed, 29 Nov 2023 07:53:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7019921193/job/19098991758#step:12:8972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7019921193/job/19098991758#step:12:8972&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17794267" author="mapohl" created="Thu, 7 Dec 2023 14:52:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7069011044/job/19244368664#step:12:8888&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7069011044/job/19244368664#step:12:8888&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17797082" author="mapohl" created="Fri, 15 Dec 2023 08:21:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55530&amp;amp;view=logs&amp;amp;j=77a9d8e1-d610-59b3-fc2a-4766541e0e33&amp;amp;t=125e07e7-8de0-5c6c-a541-a567415af3ef&amp;amp;l=9217&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55530&amp;amp;view=logs&amp;amp;j=77a9d8e1-d610-59b3-fc2a-4766541e0e33&amp;amp;t=125e07e7-8de0-5c6c-a541-a567415af3ef&amp;amp;l=9217&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17798926" author="mapohl" created="Wed, 20 Dec 2023 11:24:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7235798862/job/19713778857#step:12:9017&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7235798862/job/19713778857#step:12:9017&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17799308" author="jiang xin" created="Thu, 21 Dec 2023 08:53:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; Could you assign this issue to me?&lt;/p&gt;

&lt;p&gt;I fould the reason is that the `FineGrainedSlotManager.checkResourceRequirementsWithDelay` would schedule a resource requirements check with a delay of 50 seconds by default. The check would also be aware of the lack of slots and notify the JobMaster so that the scheduler doesn&apos;t need to wait until timeout(100ms in the test) to fail the job. If the resource requirements check thread is not finished within 50ms, the JobMaster will fail due to a Timeout exception. So we can fix the issue by disabling the resource requirements check or adjusting the checking delay and waiting timeout to make sure the Timeout exception never be thrown.&lt;/p&gt;</comment>
                            <comment id="17799933" author="mapohl" created="Fri, 22 Dec 2023 20:17:30 +0000"  >&lt;p&gt;Thanks for volunteering, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiang+Xin&quot; class=&quot;user-hover&quot; rel=&quot;Jiang Xin&quot;&gt;Jiang Xin&lt;/a&gt;. Unfortunately, I don&apos;t have the time to verify your conclusion right now. It looks like the issue can be reproduced locally. Feel free to create a PR. I&apos;m happy to pick it up and review it after the holiday week. &lt;/p&gt;</comment>
                            <comment id="17800025" author="mapohl" created="Sat, 23 Dec 2023 09:23:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiang+Xin&quot; class=&quot;user-hover&quot; rel=&quot;Jiang Xin&quot;&gt;Jiang Xin&lt;/a&gt; Can you link the issue that caused this instability? Or is this only caused by &quot;slower&quot; machines? The latter reason might apply since we see it most of the times on GitHub Actions. But that doesn&apos;t explain why this error also started to appear in Azure Pipelines. That is why I am wondering whether there was a change that made this instability to appear.&lt;/p&gt;</comment>
                            <comment id="17800056" author="jiang xin" created="Sat, 23 Dec 2023 13:56:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; I think it is caused by this &lt;span class=&quot;error&quot;&gt;&amp;#91;change&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/flink/pull/23244)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/23244)&lt;/a&gt; about junit5 migration. In this change, the &quot;assertThat(e, FlinkMatchers.containsCause(NoResourceAvailableException.class));&quot; is replaced by &quot;.hasRootCauseInstanceOf(NoResourceAvailableException.class)&quot;.&lt;/p&gt;

&lt;p&gt;The test would not fail even if the root cause is a TimeoutExcption before the change, because the NoResourceAvailableException is also in the error stack trace. However, with the change, the root cause has to be NoResourceAvailableException.&lt;/p&gt;</comment>
                            <comment id="17804414" author="mapohl" created="Mon, 8 Jan 2024 18:26:00 +0000"  >&lt;p&gt;master: &lt;a href=&quot;https://github.com/apache/flink/commit/f45de0c6de87c182a49f2a979884d3d2f66f870f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;f45de0c6de87c182a49f2a979884d3d2f66f870f&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17804603" author="sergey nuyanzin" created="Tue, 9 Jan 2024 07:16:28 +0000"  >&lt;p&gt;I fear I have to reopen this issue since now testHandleStreamingJobsWhenNotEnoughSlot started to hang forever on AZP&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56124&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=9813&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56124&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=9813&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
Jan 09 02:01:16 	at java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1707)
Jan 09 02:01:16 	at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3313)
Jan 09 02:01:16 	at java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1742)
Jan 09 02:01:16 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
Jan 09 02:01:16 	at org.apache.flink.runtime.minicluster.MiniCluster.executeJobBlocking(MiniCluster.java:1050)
Jan 09 02:01:16 	at org.apache.flink.runtime.minicluster.MiniClusterITCase.runHandleJobsWhenNotEnoughSlots(MiniClusterITCase.java:152)
Jan 09 02:01:16 	at org.apache.flink.runtime.minicluster.MiniClusterITCase.lambda$testHandleStreamingJobsWhenNotEnoughSlot$0(MiniClusterITCase.java:119)
Jan 09 02:01:16 	at org.apache.flink.runtime.minicluster.MiniClusterITCase$$Lambda$1927/1144737794.call(Unknown Source)
Jan 09 02:01:16 	at org.assertj.core.api.ThrowableAssert.catchThrowable(ThrowableAssert.java:63)
Jan 09 02:01:16 	at org.assertj.core.api.AssertionsForClassTypes.catchThrowable(AssertionsForClassTypes.java:892)
Jan 09 02:01:16 	at org.assertj.core.api.Assertions.catchThrowable(Assertions.java:1366)
Jan 09 02:01:16 	at org.assertj.core.api.Assertions.assertThatThrownBy(Assertions.java:1210)
Jan 09 02:01:16 	at org.apache.flink.runtime.minicluster.MiniClusterITCase.testHandleStreamingJobsWhenNotEnoughSlot(MiniClusterITCase.java:119)
Jan 09 02:01:16 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
Jan 09 02:01:16 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
Jan 09 02:01:16 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiang+Xin&quot; class=&quot;user-hover&quot; rel=&quot;Jiang Xin&quot;&gt;Jiang Xin&lt;/a&gt; coudl you please have a look?&lt;/p&gt;</comment>
                            <comment id="17804610" author="jiang xin" created="Tue, 9 Jan 2024 07:44:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sergey+Nuyanzin&quot; class=&quot;user-hover&quot; rel=&quot;Sergey Nuyanzin&quot;&gt;Sergey Nuyanzin&lt;/a&gt; Can it be consistently reproduced on AZP? I ran this test locally for hundreds of times, but no hang happened.&lt;/p&gt;</comment>
                            <comment id="17804616" author="sergey nuyanzin" created="Tue, 9 Jan 2024 07:52:59 +0000"  >&lt;p&gt;I don&apos;t know it appeared only today during nightly run which is scheduled once per 24 hours, &lt;br/&gt;
I suspect it is a consequence of merging the related PR yesterday&lt;/p&gt;</comment>
                            <comment id="17805001" author="sergey nuyanzin" created="Wed, 10 Jan 2024 07:42:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiang+Xin&quot; class=&quot;user-hover&quot; rel=&quot;Jiang Xin&quot;&gt;Jiang Xin&lt;/a&gt; there is another reproduction from today&apos;s nightly&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56166&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=10782&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56166&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=10782&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17805022" author="jiang xin" created="Wed, 10 Jan 2024 08:50:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; Do you have time to take a look? I went through the code but didn&apos;t find out how could it happen. By the way, I cannot reproduce it locally after running hundreds of times.&lt;/p&gt;</comment>
                            <comment id="17805180" author="mapohl" created="Wed, 10 Jan 2024 14:59:33 +0000"  >&lt;p&gt;Yeah, I am not able to reproduce it locally either (with ~900 repetitions). My first suspicion would be that the slotmanager isn&apos;t reaching out to the JobMaster to inform him about the missing resources. &lt;/p&gt;</comment>
                            <comment id="17805986" author="mapohl" created="Fri, 12 Jan 2024 10:37:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56226&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=10773&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56226&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=10773&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17805987" author="mapohl" created="Fri, 12 Jan 2024 10:39:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56285&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=10800&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=56285&amp;amp;view=logs&amp;amp;j=0e7be18f-84f2-53f0-a32d-4a5e4a174679&amp;amp;t=7c1d86e3-35bd-5fd5-3b7c-30c126a78702&amp;amp;l=10800&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17806004" author="mapohl" created="Fri, 12 Jan 2024 11:23:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiang+Xin&quot; class=&quot;user-hover&quot; rel=&quot;Jiang Xin&quot;&gt;Jiang Xin&lt;/a&gt; The issue only appears with the &lt;tt&gt;AdaptiveScheduler&lt;/tt&gt;. You can reproduce it locally by enabling the &lt;tt&gt;AdaptiveScheduler&lt;/tt&gt; in your test run: Add &lt;tt&gt;-Dflink.tests.enable-adaptive-scheduler=true&lt;/tt&gt; to the VMOptions field of your Intellij run configuration for this test.&lt;/p&gt;

&lt;p&gt;Do we use FineGrainedSlotManager&lt;/p&gt;</comment>
                            <comment id="17806005" author="mapohl" created="Fri, 12 Jan 2024 11:23:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiang+Xin&quot; class=&quot;user-hover&quot; rel=&quot;Jiang Xin&quot;&gt;Jiang Xin&lt;/a&gt; The issue only appears with the &lt;tt&gt;AdaptiveScheduler&lt;/tt&gt;. You can reproduce it locally by enabling the &lt;tt&gt;AdaptiveScheduler&lt;/tt&gt; in your test run: Add &lt;tt&gt;-Dflink.tests.enable-adaptive-scheduler=true&lt;/tt&gt; to the VMOptions field of your Intellij run configuration for this test.&lt;/p&gt;

&lt;p&gt;Can you have a look? My suspicion is that we use the slot timeout in the &lt;tt&gt;AdaptiveScheduler&lt;/tt&gt; in some ways that were not considered by our initial change.&lt;/p&gt;</comment>
                            <comment id="17806021" author="mapohl" created="Fri, 12 Jan 2024 11:48:01 +0000"  >&lt;p&gt;I&apos;m closing this one again in favor of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-34070&quot; title=&quot;MiniClusterITCase.testHandleStreamingJobsWhenNotEnoughSlot fails for the AdaptiveScheduler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-34070&quot;&gt;&lt;del&gt;FLINK-34070&lt;/del&gt;&lt;/a&gt;. Because it&apos;s rather a new issue due to the fix of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-33414&quot; title=&quot;MiniClusterITCase.testHandleStreamingJobsWhenNotEnoughSlot fails due to unexpected TimeoutException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-33414&quot;&gt;&lt;del&gt;FLINK-33414&lt;/del&gt;&lt;/a&gt;, I suspect.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13564492">FLINK-34070</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13546938">FLINK-32846</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lb4w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>