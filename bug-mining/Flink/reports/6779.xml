<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:15:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-29557] The SinkOperator&apos;s OutputFormat function is not recognized</title>
                <link>https://issues.apache.org/jira/browse/FLINK-29557</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In the &lt;tt&gt;SimpleOperatorFactory#of&lt;/tt&gt;, only &lt;tt&gt;StreamSink&lt;/tt&gt; is handled to register as &lt;tt&gt;SimpleOutputFormatOperatorFactory&lt;/tt&gt;. So it will lost the output format information in  &lt;tt&gt;SinkOperator&lt;/tt&gt;. Then some hook functions like &lt;tt&gt;FinalizeOnMaster&lt;/tt&gt; will have no chance to be executed.&lt;br/&gt;
Due to the &lt;tt&gt;SinkOperator&lt;/tt&gt; is in the table module, it can&apos;t be reached directly in the &lt;tt&gt;flink-streaming-java&lt;/tt&gt;. So maybe we need introduce an extra common class eg: &lt;tt&gt;SinkFunctionOperator&lt;/tt&gt; to describe the &lt;tt&gt;Sink&lt;/tt&gt; operator and handle it individually.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13485363">FLINK-29557</key>
            <summary>The SinkOperator&apos;s OutputFormat function is not recognized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aitozi">WenJun Min</assignee>
                                    <reporter username="aitozi">WenJun Min</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 10 Oct 2022 04:21:39 +0000</created>
                <updated>Sun, 20 Nov 2022 10:02:28 +0000</updated>
                            <resolved>Sun, 20 Nov 2022 10:02:28 +0000</resolved>
                                                    <fixVersion>1.17.0</fixVersion>
                                    <component>API / Core</component>
                    <component>Table SQL / API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17616135" author="aitozi" created="Wed, 12 Oct 2022 02:20:47 +0000"  >&lt;p&gt;Anyone can help confirm this issue ? &lt;/p&gt;</comment>
                            <comment id="17617598" author="gaoyunhaii" created="Fri, 14 Oct 2022 09:31:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aitozi&quot; class=&quot;user-hover&quot; rel=&quot;aitozi&quot;&gt;aitozi&lt;/a&gt; may I have a double confirmation on the scenario of this issue? Namely why we could not directly use OutputFormatSinkFunction so that it could be registered as SimpleOutputFormatOperatorFactory?&#160;&lt;/p&gt;</comment>
                            <comment id="17618052" author="aitozi" created="Sat, 15 Oct 2022 11:16:49 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt; for your reply. The &lt;tt&gt;OutputFormatProvider&lt;/tt&gt; in the table module will generate the &lt;tt&gt;SinkOperator&lt;/tt&gt;. And the &lt;tt&gt;SinkOperator&lt;/tt&gt; with &lt;tt&gt;OutputFormatSinkFunction&lt;/tt&gt; will not be treated as an operator with &lt;tt&gt;OutputFormat&lt;/tt&gt; in the &lt;tt&gt;SimpleOperatorFactory&lt;/tt&gt;. In the end, it will miss the chance to execute the hook method eg: &lt;tt&gt;InitializeOnMaster&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17621475" author="aitozi" created="Fri, 21 Oct 2022 04:17:31 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17623601" author="gaoyunhaii" created="Tue, 25 Oct 2022 07:10:52 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aitozi&quot; class=&quot;user-hover&quot; rel=&quot;aitozi&quot;&gt;aitozi&lt;/a&gt; for reporting the issue! Now I have understood why there is issue here, I&apos;ll have a double confirmation of the proper way to fix it here, and do you already have some thoughts on it?&lt;/p&gt;</comment>
                            <comment id="17623665" author="aitozi" created="Tue, 25 Oct 2022 08:39:07 +0000"  >&lt;p&gt;I make a solution to add a common interface &lt;tt&gt;SinkFunctionOperator&lt;/tt&gt; in the &lt;tt&gt;flink-streaming-java&lt;/tt&gt; module and let the &lt;tt&gt;SinkOperator&lt;/tt&gt; and &lt;tt&gt;StreamSink&lt;/tt&gt; extends from it. So that we can check for the &lt;tt&gt;SinkFunctionOperator#sinkFunction&lt;/tt&gt; in the &lt;tt&gt;SimpleOperatorFactory&lt;/tt&gt; directly. what do you think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="17624867" author="gaoyunhaii" created="Thu, 27 Oct 2022 05:47:37 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aitozi&quot; class=&quot;user-hover&quot; rel=&quot;aitozi&quot;&gt;aitozi&lt;/a&gt; LGTM, very thanks for tracking the issue. Would you like to open a PR to fix the issue? Both side is ok to me.&#160;&lt;/p&gt;</comment>
                            <comment id="17624987" author="aitozi" created="Thu, 27 Oct 2022 09:38:48 +0000"  >&lt;p&gt;Yes, I will open a PR to fix this. Please help assign the ticket&lt;/p&gt;</comment>
                            <comment id="17636277" author="gaoyunhaii" created="Sun, 20 Nov 2022 10:02:19 +0000"  >&lt;p&gt;Merged on master via&#160;a56af3b5702f805b477f8cf11a27167e626ad9fe.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z197k0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>