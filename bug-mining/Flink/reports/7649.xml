<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:21:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-36423] RichMapPartitionFunction does not invoke the open method in the KeyedPartitionWindowedStream</title>
                <link>https://issues.apache.org/jira/browse/FLINK-36423</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In cases like the one below, the &lt;tt&gt;open&lt;/tt&gt; method of the RichMapPartitionFunction not be called, which can lead to unexpected errors such as Null Pointer Error.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;source.keyBy(xxxx).fullWindowPartition().mapPartition(&lt;/p&gt;

&lt;p&gt;&#160; &#160; new RichMapPartition(xxxx) {&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; public void open(context)&lt;/p&gt;
{ &#160; &#160; &#160; &#160;

&#160; &#160; &#160; &#160; &#160; &#160; // some init operations, like object creation &#160; &#160;

&#160; &#160; &#160; &#160; }

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; public void mapPartition(xxxx)&lt;/p&gt;
{ &#160; &#160; &#160; &#160;

&#160; &#160; &#160; &#160; &#160; &#160; // actual computation logical &#160; &#160;

&#160; &#160; &#160; &#160; }

&lt;p&gt;&#160; &#160; }&lt;/p&gt;

&lt;p&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13594247">FLINK-36423</key>
            <summary>RichMapPartitionFunction does not invoke the open method in the KeyedPartitionWindowedStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yyhx">xuhuang</assignee>
                                    <reporter username="yyhx">xuhuang</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 4 Oct 2024 02:53:52 +0000</created>
                <updated>Fri, 11 Oct 2024 02:08:04 +0000</updated>
                            <resolved>Fri, 11 Oct 2024 02:08:04 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17886826" author="JIRAUSER300304" created="Fri, 4 Oct 2024 02:59:02 +0000"  >&lt;p&gt;I found that the &lt;em&gt;reduce&lt;/em&gt; and &lt;em&gt;aggregate&lt;/em&gt; operations on the &lt;em&gt;KeyedPartitionWindowedStream&lt;/em&gt; have a similar issue. &lt;/p&gt;

&lt;p&gt;The reason for this is that the &lt;em&gt;WindowOperator&lt;/em&gt; does not support rich reduce function and rich aggregate function.  See org.apache.flink.streaming.runtime.operators.windowing.WindowOperatorBuilder#reduce&lt;/p&gt;

&lt;p&gt;I am unsure of the specific reason for this, and as a result, I have not made any changes to it.&lt;/p&gt;</comment>
                            <comment id="17888491" author="weijie guo" created="Fri, 11 Oct 2024 02:08:04 +0000"  >&lt;p&gt;master(2.0) via 2949815de621efab4d362bb2ee2c30058c8744a2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rsa0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>