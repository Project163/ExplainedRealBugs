<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:45:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-17309] TPC-DS fail to run data generator</title>
                <link>https://issues.apache.org/jira/browse/FLINK-17309</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] Download data generator success.
[INFO] 15:53:41 Generating TPC-DS qualification data, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; need several minutes, please wait...
./dsdgen_linux: line 1: 500:: command not found
[FAIL] Test script contains errors.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=7849&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=7849&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13300026">FLINK-17309</key>
            <summary>TPC-DS fail to run data generator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="leonard">Leonard Xu</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 21 Apr 2020 16:17:43 +0000</created>
                <updated>Tue, 12 May 2020 12:14:53 +0000</updated>
                            <resolved>Tue, 12 May 2020 12:14:53 +0000</resolved>
                                    <version>1.11.0</version>
                                    <fixVersion>1.11.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17088834" author="dawidwys" created="Tue, 21 Apr 2020 16:21:43 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=7850&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=7850&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17089205" author="lzljs3620320" created="Wed, 22 Apr 2020 01:56:48 +0000"  >&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Leonard+Xu&quot; class=&quot;user-hover&quot; rel=&quot;Leonard Xu&quot;&gt;Leonard Xu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17089209" author="leonard xu" created="Wed, 22 Apr 2020 02:06:38 +0000"  >&lt;p&gt;it&apos;s maybe caused by scripts, Let me track this.&#160; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;&#160;could you assign the ticket to me?&lt;/p&gt;</comment>
                            <comment id="17089261" author="leonard xu" created="Wed, 22 Apr 2020 03:57:16 +0000"  >&lt;p&gt;I checked related scripts hasn&apos;t modified, and looked up some materials to find the root cause but not a reasonable answer.&#160;&lt;/p&gt;

&lt;p&gt;Hi&#160;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, could you help to answer the two questions?&#160; I&apos;m not familiar with Azure pipeline(many thanks).&lt;/p&gt;

&lt;p&gt;(1) It seems these tests fails are random, Is the bash of Azuere&apos;s machine environment are same between pipelines?&#160;&lt;/p&gt;

&lt;p&gt;(2)`dsdgen_linux` need to be execute by root, so the scripts `chmod +x` before execution, Is there any possible the step may happen error when invoke&#160;`chmod +x` ?&lt;/p&gt;</comment>
                            <comment id="17089353" author="rmetzger" created="Wed, 22 Apr 2020 06:56:44 +0000"  >&lt;p&gt;Regarding (1): Except for the e2e tests, all the compile and test jobs are executed in this docker container &lt;tt&gt;rmetzger/flink-ci:ubuntu-amd64-bcef226&lt;/tt&gt;. I run the tests inside the container to make sure we always have the same environment, and we can reproduce issues locally.&lt;br/&gt;
(2) I guess you are talking about this line here: &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-end-to-end-tests/flink-tpcds-test/tpcds-tool/data_generator.sh#L79&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/master/flink-end-to-end-tests/flink-tpcds-test/tpcds-tool/data_generator.sh#L79&lt;/a&gt;&lt;br/&gt;
What you can do is execute the script (on Azure) with &quot;set -x&quot; to get debugging information. I don&apos;t think the chmod call fails. I think is is the &lt;tt&gt;./dsdgen_linux&lt;/tt&gt; call, because the error message looks like this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./dsdgen_linux: line 1: 500:: command not found
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17089373" author="rmetzger" created="Wed, 22 Apr 2020 07:21:06 +0000"  >&lt;p&gt;The only explanation I can come up with is that the binary is corrupted, due to network issues?&lt;br/&gt;
We could print the md5sum of the binary before execution to rule that out? &lt;/p&gt;</comment>
                            <comment id="17089390" author="leonard xu" created="Wed, 22 Apr 2020 07:29:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks for you reply, What I&apos;m considering is similar&#160; to you, I&#8216;m using &apos;-x&apos; to debug and I guess the&#160;network issues two, I have an original idea to avoid that is checking the md5sum of binary before execution and retry download for several times.&lt;/p&gt;</comment>
                            <comment id="17100426" author="leonard xu" created="Wed, 6 May 2020 03:07:03 +0000"  >&lt;p&gt;Hi, all&#160;&lt;/p&gt;

&lt;p&gt;I prepared the PR that add validation and retry logic when the md5sum of generator is not matched, I triggered many times in past days and only found one fail because network issue as we doubt&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;And I checked all AZP &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;in past week(AZP number from 4.30.1 to 5.6.1) manually and found no TPC-DS failure comes from data generator.&lt;/p&gt;

&lt;p&gt;I think it&apos;s time to confirm the PR is worked or not, I can polish the PR soon if we reach a consensus.&lt;/p&gt;

&lt;p&gt;What do you think? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://github.com/apache/flink/pull/11867#issuecomment-618413808&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/11867#issuecomment-618413808&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build?definitionId=2&amp;amp;_a=summary&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build?definitionId=2&amp;amp;_a=summary&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17101395" author="rmetzger" created="Thu, 7 May 2020 05:49:06 +0000"  >&lt;p&gt;Thanks a lot for validating the change. In my opinion, we can polish &amp;amp; merge the PR.&lt;/p&gt;</comment>
                            <comment id="17101494" author="leonard xu" created="Thu, 7 May 2020 10:01:00 +0000"  >&lt;p&gt;Hi,&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you help assign this ticket to me ? and I have updated the PR.&lt;/p&gt;</comment>
                            <comment id="17101687" author="dawidwys" created="Thu, 7 May 2020 13:37:07 +0000"  >&lt;p&gt;I assigned this issue to you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Leonard+Xu&quot; class=&quot;user-hover&quot; rel=&quot;Leonard Xu&quot;&gt;Leonard Xu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17105368" author="rmetzger" created="Tue, 12 May 2020 12:14:53 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;https://github.com/apache/flink/commit/79a7bbad457a7128b5e2f059c6fd167f3f4381ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/79a7bbad457a7128b5e2f059c6fd167f3f4381ba&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks a lot!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0dwm0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>