<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-6422] Unreachable code in FileInputFormat#createInputSplits</title>
                <link>https://issues.apache.org/jira/browse/FLINK-6422</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Here is related code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (minNumSplits &amp;lt; 1) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of input splits has to be at least 1.&quot;&lt;/span&gt;);
    }
...
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; maxSplitSize = (minNumSplits &amp;lt; 1) ? &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE : (totalLength / minNumSplits +
          (totalLength % minNumSplits == 0 ? 0 : 1));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;minNumSplits wouldn&apos;t be less than 1 getting to the assignment of maxSplitSize.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13067952">FLINK-6422</key>
            <summary>Unreachable code in FileInputFormat#createInputSplits</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mingleizhang">zhangminglei</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Apr 2017 19:41:41 +0000</created>
                <updated>Wed, 2 Oct 2019 17:50:57 +0000</updated>
                            <resolved>Thu, 6 Jul 2017 04:33:28 +0000</resolved>
                                                                    <component>API / DataSet</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16055733" author="mingleizhang" created="Tue, 20 Jun 2017 13:16:19 +0000"  >&lt;p&gt;Thanks for your report Ted. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; . Actually, The code stream can not come to &lt;tt&gt;Long.MAX_VALUE&lt;/tt&gt;. Suppose that it can reach &lt;tt&gt;Long.MAX_VALUE&lt;/tt&gt;, below code &lt;tt&gt;Math.min(maxSplitSize, blockSize)&lt;/tt&gt; always return a blockSize. I think it seems to be very do not understand. Strange... So I would fix the code  like the following. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; If would be great helpful if you can take a look at this. What do you think ? Also, cc Ted Yu. And I will give a PR to this issue soon.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; maxSplitSize = totalLength / minNumSplits + (totalLength % minNumSplits == 0 ? 0 : 1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="16065741" author="githubbot" created="Wed, 28 Jun 2017 00:47:51 +0000"  >&lt;p&gt;GitHub user zhangminglei opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6422&quot; title=&quot;Unreachable code in FileInputFormat#createInputSplits&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6422&quot;&gt;&lt;del&gt;FLINK-6422&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;core&amp;#93;&lt;/span&gt; Unreachable code in FileInputFormat#createInputSp&#8230;&lt;/p&gt;

&lt;p&gt;    Fix Unreachable code in FileInputFormat#createInputSplits.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zhangminglei/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zhangminglei/flink&lt;/a&gt; flink-6422&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4202&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4cc3e55621372eaf4a9661939f52656aeef4eeef&lt;br/&gt;
Author: zhangminglei &amp;lt;zml13856086071@163.com&amp;gt;&lt;br/&gt;
Date:   2017-06-28T00:45:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6422&quot; title=&quot;Unreachable code in FileInputFormat#createInputSplits&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6422&quot;&gt;&lt;del&gt;FLINK-6422&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;core&amp;#93;&lt;/span&gt; Unreachable code in FileInputFormat#createInputSplits&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16065744" author="githubbot" created="Wed, 28 Jun 2017 00:52:30 +0000"  >&lt;p&gt;Github user zhangminglei commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks  @tedyu for reporting this. cc  @StephanEwen @tedyu Could both you take a look ? I checked the first version you designed. &lt;/p&gt;</comment>
                            <comment id="16071483" author="githubbot" created="Sun, 2 Jul 2017 03:53:49 +0000"  >&lt;p&gt;Github user tedyu commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Can you take a look at the error in CI ?&lt;/p&gt;</comment>
                            <comment id="16071527" author="githubbot" created="Sun, 2 Jul 2017 05:52:04 +0000"  >&lt;p&gt;Github user zhangminglei commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Seems I could not get any useful information from CI, except for this kinda stuff following and it seems  not relevant to this issue.&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    Running org.apache.flink.test.recovery.JobManagerHACheckpointRecoveryITCase&lt;br/&gt;
    java.lang.RuntimeException: org.apache.zookeeper.server.ZooKeeperServer class is frozen&lt;br/&gt;
    	at javassist.CtClassType.checkModify(CtClassType.java:288)&lt;br/&gt;
    	at javassist.CtBehavior.setBody(CtBehavior.java:432)&lt;br/&gt;
    	at javassist.CtBehavior.setBody(CtBehavior.java:412)&lt;br/&gt;
    	at org.apache.curator.test.ByteCodeRewrite.fixMethods(ByteCodeRewrite.java:91)&lt;br/&gt;
    	at org.apache.curator.test.ByteCodeRewrite.&amp;lt;clinit&amp;gt;(ByteCodeRewrite.java:50)&lt;br/&gt;
    	at org.apache.curator.test.TestingServer.&amp;lt;clinit&amp;gt;(TestingServer.java:33)&lt;br/&gt;
    	at org.apache.flink.test.recovery.JobManagerHACheckpointRecoveryITCase.testCheckpointedStreamingProgram(JobManagerHACheckpointRecoveryITCase.java:345)&lt;br/&gt;
    	at org.apache.flink.test.recovery.JobManagerHACheckpointRecoveryITCase.testCheckpointedStreamingProgramIncrementalRocksDB(JobManagerHACheckpointRecoveryITCase.java:331)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
    ```&lt;/p&gt;
</comment>
                            <comment id="16074497" author="githubbot" created="Wed, 5 Jul 2017 09:39:12 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM, merging ..&lt;/p&gt;</comment>
                            <comment id="16074504" author="githubbot" created="Wed, 5 Jul 2017 09:46:41 +0000"  >&lt;p&gt;Github user zhangminglei commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @tzulitai for review! And thanks @tedyu for reporting this! &lt;/p&gt;</comment>
                            <comment id="16075907" author="githubbot" created="Thu, 6 Jul 2017 04:24:52 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4202&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16075920" author="tzulitai" created="Thu, 6 Jul 2017 04:33:28 +0000"  >&lt;p&gt;Fixed for master via df859fb284f0cefd8ff31bd511d2719469de9fdc.&lt;br/&gt;
Fixed for 1.3 via 530a4d1f6ca7a55933563a949393046f58b23af9.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ea9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>