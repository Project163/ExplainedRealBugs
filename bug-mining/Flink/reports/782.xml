<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:22:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3292] Bug in flink-jdbc. Not all JDBC drivers supported</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3292</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;In method open in JDBCInputFormat.java, while using dbConn.createStatement, the resultSetType &amp;amp; resultSetConcurrency are hardcoded. &lt;br/&gt;
These two fields may vary with different JDBC drivers &amp;amp; hence it fails in a few cases like SAP HANA Jdbc driver. &lt;br/&gt;
There are two variants of the method dbCon.createStatement, one with parameters &amp;amp; the other without  parameters. Both should be supported. &lt;/p&gt;

&lt;p&gt;Thanks &amp;amp; regards,&lt;br/&gt;
Subhobrata&lt;/p&gt;</description>
                <environment></environment>
        <key id="12934212">FLINK-3292</key>
            <summary>Bug in flink-jdbc. Not all JDBC drivers supported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sbcd90">Subhobrata Dey</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2016 19:58:56 +0000</created>
                <updated>Thu, 16 Jun 2016 17:11:50 +0000</updated>
                            <resolved>Thu, 28 Jan 2016 15:45:02 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15117913" author="githubbot" created="Tue, 26 Jan 2016 20:21:15 +0000"  >&lt;p&gt;GitHub user sbcd90 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3292&quot; title=&quot;Bug in flink-jdbc. Not all JDBC drivers supported&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3292&quot;&gt;&lt;del&gt;FLINK-3292&lt;/del&gt;&lt;/a&gt;Fix for Bug in flink-jdbc. Not all JDBC drivers supported&lt;/p&gt;

&lt;p&gt;    Hello,&lt;/p&gt;

&lt;p&gt;    Here is the fix for issue &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3292&quot; title=&quot;Bug in flink-jdbc. Not all JDBC drivers supported&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3292&quot;&gt;&lt;del&gt;FLINK-3292&lt;/del&gt;&lt;/a&gt;. Kindly review &amp;amp; merge.&lt;/p&gt;

&lt;p&gt;    Thanks &amp;amp; regards,&lt;br/&gt;
    Subhobrata&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/sbcd90/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sbcd90/flink&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1551&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8f1ab49c823d53d4b46eb57789bdca29533bb37e&lt;br/&gt;
Author: Subhobrata Dey &amp;lt;sbcd90@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-01-26T20:18:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3292&quot; title=&quot;Bug in flink-jdbc. Not all JDBC drivers supported&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3292&quot;&gt;&lt;del&gt;FLINK-3292&lt;/del&gt;&lt;/a&gt;Fix for Bug in flink-jdbc. Not all JDBC drivers supported&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15118878" author="githubbot" created="Wed, 27 Jan 2016 08:45:21 +0000"  >&lt;p&gt;Github user zentol commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-175486665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-175486665&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    is there any way to check which createStatement method is supported? what happens if you use the wrong statement?&lt;/p&gt;</comment>
                            <comment id="15118884" author="githubbot" created="Wed, 27 Jan 2016 08:48:45 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#discussion_r50955346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#discussion_r50955346&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-batch-connectors/flink-jdbc/src/main/java/org/apache/flink/api/java/io/jdbc/JDBCInputFormat.java &amp;#8212;&lt;br/&gt;
    @@ -92,6 +94,15 @@ public void open(InputSplit ignored) throws IOException {&lt;br/&gt;
     		}&lt;br/&gt;
     	}&lt;/p&gt;

&lt;p&gt;    +	private Statement createStatement() throws SQLException {&lt;br/&gt;
    +		if(resultSetType == 0 || resultSetConcurrency == 0) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    this line might lead to confusion when a user only sets either the type or concurrency. &lt;br/&gt;
    IMO we should check with &amp;amp;&amp;amp; here, require the user to set both type and concurrency at the same time, and throw a meaningful exception if only one these is 0.&lt;/p&gt;</comment>
                            <comment id="15119136" author="githubbot" created="Wed, 27 Jan 2016 12:16:59 +0000"  >&lt;p&gt;Github user sbcd90 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-175589833&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-175589833&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hello zentol,&lt;/p&gt;

&lt;p&gt;    I made changes according to your post. Kindly review now.&lt;/p&gt;</comment>
                            <comment id="15119154" author="githubbot" created="Wed, 27 Jan 2016 12:28:52 +0000"  >&lt;p&gt;Github user sbcd90 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-175592466&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-175592466&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hello zentol,&lt;/p&gt;

&lt;p&gt;    To answer your initial question,&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    is there any way to check which createStatement method is supported? what happens if you use the wrong statement?&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    I went into the Jdbc driver code &amp;amp; found that both methods are supported, however, with the ones defaulted in the code,&lt;br/&gt;
    ResultSet.TYPE_SCROLL_INSENSITIVE&lt;br/&gt;
    ResultSet.CONCUR_READ_ONLY&lt;/p&gt;

&lt;p&gt;    I got this error, &lt;br/&gt;
    ```&lt;br/&gt;
    java.sql.SQLException: Result set type is TYPE_FORWARD_ONLY&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    I think both variants should be supported &amp;amp; it is up to the api user to specify which variant they should go for. Hence, this PR. Kindly let me know if the changes in code are fine now. &lt;/p&gt;</comment>
                            <comment id="15119211" author="githubbot" created="Wed, 27 Jan 2016 13:17:09 +0000"  >&lt;p&gt;Github user zentol commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-175619319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-175619319&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    In that case i would suggest the following:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;change the default values to TYPE_FORWARD_ONLY and CONCUR_READ_ONLY to be in line with createStatement()&lt;br/&gt;
    -allow the user to set either one of these&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15119286" author="githubbot" created="Wed, 27 Jan 2016 14:20:27 +0000"  >&lt;p&gt;Github user sbcd90 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-175653356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-175653356&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hello zentol,&lt;/p&gt;

&lt;p&gt;    Can you check the code changes now? The changes look exactly similar to what you suggest. Can you let me know if this can be merged? or do I provide a new PR?&lt;/p&gt;</comment>
                            <comment id="15119346" author="githubbot" created="Wed, 27 Jan 2016 14:52:40 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#discussion_r50993131&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#discussion_r50993131&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-batch-connectors/flink-jdbc/src/test/java/org/apache/flink/api/java/io/jdbc/JDBCOutputFormatTest.java &amp;#8212;&lt;br/&gt;
    @@ -19,10 +19,7 @@&lt;br/&gt;
     package org.apache.flink.api.java.io.jdbc;&lt;/p&gt;

&lt;p&gt;     import java.io.IOException;&lt;br/&gt;
    -import java.sql.Connection;&lt;br/&gt;
    -import java.sql.DriverManager;&lt;br/&gt;
    -import java.sql.SQLException;&lt;br/&gt;
    -import java.sql.Statement;&lt;br/&gt;
    +import java.sql.*;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    we don&apos;t allow star imports.&lt;/p&gt;</comment>
                            <comment id="15119354" author="githubbot" created="Wed, 27 Jan 2016 14:54:27 +0000"  >&lt;p&gt;Github user zentol commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-175666661&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-175666661&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    if you can revert the changes to the imports it&apos;s good to merge IMO.&lt;/p&gt;

&lt;p&gt;    you don&apos;t have to create a new PR. you can squash the commits if you wish, otherwise I&apos;ll do it when merging.&lt;/p&gt;</comment>
                            <comment id="15120010" author="githubbot" created="Wed, 27 Jan 2016 19:27:03 +0000"  >&lt;p&gt;Github user sbcd90 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-175810825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-175810825&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hello zentol,&lt;/p&gt;

&lt;p&gt;    I have squashed all changes. Can you please merge now?&lt;/p&gt;</comment>
                            <comment id="15121311" author="githubbot" created="Thu, 28 Jan 2016 12:21:48 +0000"  >&lt;p&gt;Github user sbcd90 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-176153352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-176153352&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hello zentol,&lt;/p&gt;

&lt;p&gt;    I dont see any updates from your side. Can you kindly let me know if this PR is good to be merged so that I can close the issue?&lt;/p&gt;</comment>
                            <comment id="15121338" author="githubbot" created="Thu, 28 Jan 2016 12:32:19 +0000"  >&lt;p&gt;Github user zentol commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-176157025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-176157025&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    looks good. +1 to merge.&lt;/p&gt;</comment>
                            <comment id="15121452" author="githubbot" created="Thu, 28 Jan 2016 13:37:15 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551#issuecomment-176188709&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551#issuecomment-176188709&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank for the contribution and review!&lt;/p&gt;

&lt;p&gt;    Will merge this...&lt;/p&gt;</comment>
                            <comment id="15121712" author="githubbot" created="Thu, 28 Jan 2016 15:32:45 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1551&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15121735" author="stephanewen" created="Thu, 28 Jan 2016 15:45:02 +0000"  >&lt;p&gt;Fixed via d97fcda6635b6821ac3f61c39e0fa156bc7c7fd4&lt;/p&gt;

&lt;p&gt;Thank you for the contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rzrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>