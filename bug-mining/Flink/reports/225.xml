<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:18:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1454] CliFrontend blocks for 100 seconds when submitting to a non-existent JobManager</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1454</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When a user tries to submit a job to a job manager which doesn&apos;t exist at all, the CliFrontend blocks for 100 seconds.&lt;/p&gt;

&lt;p&gt;Ideally, Akka would fail because it can not connect to the given hostname:port.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;./bin/flink run ./examples/flink-java-examples-0.9-SNAPSHOT-WordCount.jar -c foo.Baz
org.apache.flink.client.program.ProgramInvocationException: The main method caused an error.
	at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:449)
	at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:350)
	at org.apache.flink.client.program.Client.run(Client.java:242)
	at org.apache.flink.client.CliFrontend.executeProgram(CliFrontend.java:389)
	at org.apache.flink.client.CliFrontend.run(CliFrontend.java:362)
	at org.apache.flink.client.CliFrontend.parseParameters(CliFrontend.java:1078)
	at org.apache.flink.client.CliFrontend.main(CliFrontend.java:1102)
Caused by: java.util.concurrent.TimeoutException: Futures timed out after [100 seconds]
	at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:219)
	at scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:223)
	at scala.concurrent.Await$$anonfun$result$1.apply(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:107)
	at scala.concurrent.BlockContext$DefaultBlockContext$.blockOn(BlockContext.scala:53)
	at scala.concurrent.Await$.result(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:107)
	at org.apache.flink.runtime.akka.AkkaUtils$.ask(AkkaUtils.scala:265)
	at org.apache.flink.runtime.client.JobClient$.uploadJarFiles(JobClient.scala:169)
	at org.apache.flink.runtime.client.JobClient.uploadJarFiles(JobClient.scala)
	at org.apache.flink.client.program.Client.run(Client.java:314)
	at org.apache.flink.client.program.Client.run(Client.java:296)
	at org.apache.flink.client.program.Client.run(Client.java:290)
	at org.apache.flink.client.program.ContextEnvironment.execute(ContextEnvironment.java:55)
	at org.apache.flink.examples.java.wordcount.WordCount.main(WordCount.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:434)
	... 6 more

The exception above occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; trying to run your command.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12770092">FLINK-1454</key>
            <summary>CliFrontend blocks for 100 seconds when submitting to a non-existent JobManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jan 2015 14:12:22 +0000</created>
                <updated>Thu, 28 Feb 2019 14:01:50 +0000</updated>
                            <resolved>Mon, 16 Feb 2015 19:47:07 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14291941" author="qmlmoon" created="Mon, 26 Jan 2015 15:23:19 +0000"  >&lt;p&gt;isn&apos;t it because akka timeout is set to 100s?&lt;/p&gt;</comment>
                            <comment id="14291951" author="rmetzger" created="Mon, 26 Jan 2015 15:29:20 +0000"  >&lt;p&gt;Yes. It would be nicer if the system told the user that the network connection was refused.&lt;br/&gt;
Also, 100s is a pretty long time, in particular because many newbies will come across this issue.&lt;/p&gt;</comment>
                            <comment id="14322206" author="stephanewen" created="Sun, 15 Feb 2015 21:46:55 +0000"  >&lt;p&gt;I have been looking into various ways to solve this, such as monitoring of the actor system connection events. It seems that approach does not work properly after all.&lt;/p&gt;

&lt;p&gt;How about we define a separate (rather low) timeout for actor lookups?&lt;/p&gt;

&lt;p&gt;I&apos;ll also write on the akka mailing list for another solution, but so far, the search was fruitless.&lt;/p&gt;</comment>
                            <comment id="14322803" author="githubbot" created="Mon, 16 Feb 2015 14:14:47 +0000"  >&lt;p&gt;GitHub user StephanEwen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/404&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/404&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1454&quot; title=&quot;CliFrontend blocks for 100 seconds when submitting to a non-existent JobManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1454&quot;&gt;&lt;del&gt;FLINK-1454&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;job client&amp;#93;&lt;/span&gt; Improve error handling for failed connections between JobClient and JobManager&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Decreases time until connection failure is discovered.&lt;/li&gt;
	&lt;li&gt;Improves error messages&lt;/li&gt;
	&lt;li&gt;adds / extends tests&lt;/li&gt;
	&lt;li&gt;Removes implicits in runtime, makes actor system and timeout always an explicit parameter&lt;/li&gt;
	&lt;li&gt;Removes old redundant config constants&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/StephanEwen/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/StephanEwen/incubator-flink&lt;/a&gt; client_connect&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/404.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/404.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #404&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9365ba8cb3859d7a04a301d3417e418914ce813c&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-02-16T12:37:22Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1454&quot; title=&quot;CliFrontend blocks for 100 seconds when submitting to a non-existent JobManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1454&quot;&gt;&lt;del&gt;FLINK-1454&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;job client&amp;#93;&lt;/span&gt; Improve error handling for failed connections between JobClient and JobManager&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14323198" author="stephanewen" created="Mon, 16 Feb 2015 19:47:07 +0000"  >&lt;p&gt;Fixed via b941cf2d091bb38b9a45e1f2412136acae2b0f3f&lt;/p&gt;</comment>
                            <comment id="14323204" author="githubbot" created="Mon, 16 Feb 2015 19:52:35 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/404#issuecomment-74563335&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/404#issuecomment-74563335&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Manually merged in b941cf2d091bb38b9a45e1f2412136acae2b0f3f&lt;/p&gt;</comment>
                            <comment id="14323205" author="githubbot" created="Mon, 16 Feb 2015 19:52:35 +0000"  >&lt;p&gt;Github user StephanEwen closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/404&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/404&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24str:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>