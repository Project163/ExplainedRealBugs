<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:45:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-17403] Fix invalid classpath in BashJavaUtilsITCase</title>
                <link>https://issues.apache.org/jira/browse/FLINK-17403</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;runBashJavaUtilsCmd.sh locates flink-dist.jar by `find` with pattern `flink-dist*.jar`, but it doesn&apos;t filter out the flink-dist*-source.jar built by maven and the flink-dist jar in the original bin directory, so it might get 3 jars as the result, which might break the command depends on it.&lt;/p&gt;

&lt;p&gt;For instance, the result of `find` can be:&lt;br/&gt;
```&lt;br/&gt;
project_dir/flink-dist/src/test/bin/../../../target/flink-dist_2.11-1.10.0-sources.jar&lt;br/&gt;
project_dir/flink-dist/src/test/bin/../../../target/flink-1.10.0-bin/flink-1.10.0/lib/flink-dist_2.11-1.10.0.jar&lt;br/&gt;
project_dirflink-dist/src/test/bin/../../../target/flink-dist_2.11-1.10.0.jar&lt;br/&gt;
```&lt;/p&gt;

&lt;p&gt;Moreover, there&apos;s a redundant `}` in the command, which seems to be accidentally skipped by the multiple-line result provided by `find`.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13301166">FLINK-17403</key>
            <summary>Fix invalid classpath in BashJavaUtilsITCase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Paul Lin">Paul Lin</assignee>
                                    <reporter username="Paul Lin">Paul Lin</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 27 Apr 2020 06:25:51 +0000</created>
                <updated>Wed, 6 May 2020 16:44:14 +0000</updated>
                            <resolved>Wed, 6 May 2020 08:50:05 +0000</resolved>
                                    <version>1.10.0</version>
                    <version>1.11.0</version>
                                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17093067" author="paul lin" created="Mon, 27 Apr 2020 06:44:45 +0000"  >&lt;p&gt;I propose to change to `find $FLINK_TARGET_DIR -name &apos;flink-dist*.jar&apos; -not -path &apos;*-sources.jar&apos; -maxdepth 1` to get the very dist jar under target.&lt;/p&gt;</comment>
                            <comment id="17093236" author="aljoscha" created="Mon, 27 Apr 2020 09:17:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xintongsong&quot; class=&quot;user-hover&quot; rel=&quot;xintongsong&quot;&gt;xintongsong&lt;/a&gt; Could you please have a look? You initially wrote the script.&lt;/p&gt;</comment>
                            <comment id="17093297" author="xintongsong" created="Mon, 27 Apr 2020 10:01:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;&lt;br/&gt;
 Thanks for pulling me in.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Paul+Lin&quot; class=&quot;user-hover&quot; rel=&quot;Paul Lin&quot;&gt;Paul Lin&lt;/a&gt;&lt;br/&gt;
 Thanks for reporting this issue. It seems to me this is a valid problem. &lt;/p&gt;

&lt;p&gt;As for the solution, I think we probably also consider the possibility that there are jar files with other suffix under &lt;tt&gt;$FLINK_TARGET_DIR&lt;/tt&gt;. E.g., &lt;tt&gt;flink-dist*-test.jar&lt;/tt&gt;. Of course we could further filter the patterns for the &lt;tt&gt;find&lt;/tt&gt; command. However, I&apos;m in favor of an alternative approach to properly add all jar files that meets the pattern to the class path. That safes us from closely depending on the certain pattern of the name of flink dist jar file. WDYT?&lt;/p&gt;</comment>
                            <comment id="17093301" author="xintongsong" created="Mon, 27 Apr 2020 10:04:41 +0000"  >&lt;p&gt;BTW, would you like to work on this? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Paul+Lin&quot; class=&quot;user-hover&quot; rel=&quot;Paul Lin&quot;&gt;Paul Lin&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17093309" author="paul lin" created="Mon, 27 Apr 2020 10:08:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xintongsong&quot; class=&quot;user-hover&quot; rel=&quot;xintongsong&quot;&gt;xintongsong&lt;/a&gt; Sounds good. How about restricting the search scope to `-maxdepth 1` under `target` directory, and joining the jars found with `:` before adding them to the classpath?&lt;/p&gt;</comment>
                            <comment id="17093310" author="paul lin" created="Mon, 27 Apr 2020 10:09:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xintongsong&quot; class=&quot;user-hover&quot; rel=&quot;xintongsong&quot;&gt;xintongsong&lt;/a&gt;&#160;Yes, please assign it to me.&lt;/p&gt;</comment>
                            <comment id="17093313" author="xintongsong" created="Mon, 27 Apr 2020 10:13:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;How about restricting the search scope to `-maxdepth 1` under `target` directory, and joining the jars found with `:` before adding them to the classpath?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good to me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;, could you help assign this ticket to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Paul+Lin&quot; class=&quot;user-hover&quot; rel=&quot;Paul Lin&quot;&gt;Paul Lin&lt;/a&gt;. Thanks.&lt;/p&gt;</comment>
                            <comment id="17094247" author="aljoscha" created="Tue, 28 Apr 2020 07:41:11 +0000"  >&lt;p&gt;Done! &#127861;&lt;/p&gt;</comment>
                            <comment id="17100594" author="azagrebin" created="Wed, 6 May 2020 08:50:05 +0000"  >&lt;p&gt;merged into master by 40b742f83ca307eac398055ca5231d5a30747051&lt;br/&gt;
merged into 1.10 by f99bd715e7d171a1929471dcfa43e38111f912f9&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0e3nc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>