<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:14:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-28102] Flink AkkaRpcSystemLoader fails when temporary directory is a symlink</title>
                <link>https://issues.apache.org/jira/browse/FLINK-28102</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Flink AkkaRpcSystemLoader fails when temporary directory is a symlink&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Error Message:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.nio.file.FileAlreadyExistsException: /tmp
        at sun.nio.fs.UnixException.translateToIOException(UnixException.java:88) ~[?:1.8.0_332]
        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[?:1.8.0_332]
        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[?:1.8.0_332]
        at sun.nio.fs.UnixFileSystemProvider.createDirectory(UnixFileSystemProvider.java:384) ~[?:1.8.0_332]
        at java.nio.file.Files.createDirectory(Files.java:674) ~[?:1.8.0_332]
        at java.nio.file.Files.createAndCheckIsDirectory(Files.java:781) ~[?:1.8.0_332]
        at java.nio.file.Files.createDirectories(Files.java:727) ~[?:1.8.0_332]
        at org.apache.flink.runtime.rpc.akka.AkkaRpcSystemLoader.loadRpcSystem(AkkaRpcSystemLoader.java:58) ~[flink-dist-1.15.0.jar:1.15.0]
        at org.apache.flink.runtime.rpc.RpcSystem.load(RpcSystem.java:101) ~[flink-dist-1.15.0.jar:1.15.0]
        at org.apache.flink.runtime.taskexecutor.TaskManagerRunner.startTaskManagerRunnerServices(TaskManagerRunner.java:186) ~[flink-dist-1.15.0.jar:1.15.0]
        at org.apache.flink.runtime.taskexecutor.TaskManagerRunner.start(TaskManagerRunner.java:288) ~[flink-dist-1.15.0.jar:1.15.0]
        at org.apache.flink.runtime.taskexecutor.TaskManagerRunner.runTaskManager(TaskManagerRunner.java:481) ~[flink-dist-1.15.0.jar:1.15.0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;b&gt;Repro:&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
1. /tmp is a symlink points to actual directory /mnt/tmp

[root@prabhuHost log]# ls -lrt /tmp
lrwxrwxrwx 1 root root 8 Jun 15 07:51 /tmp -&amp;gt; /mnt/tmp

2. Start Cluster
./bin/start-cluster.sh

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13450529">FLINK-28102</key>
            <summary>Flink AkkaRpcSystemLoader fails when temporary directory is a symlink</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Weijie Guo">Weijie Guo</assignee>
                                    <reporter username="prabhujoseph">Prabhu Joseph</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 17 Jun 2022 04:37:30 +0000</created>
                <updated>Tue, 22 Nov 2022 09:44:25 +0000</updated>
                            <resolved>Mon, 31 Oct 2022 01:34:47 +0000</resolved>
                                    <version>1.16.0</version>
                    <version>1.15.2</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.16.1</fixVersion>
                                    <component>Runtime / RPC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17555442" author="weijie guo" created="Fri, 17 Jun 2022 07:19:21 +0000"  >&lt;p&gt;You can set io.tmp.dirs yourself using -D&lt;/p&gt;

&lt;p&gt;createDirectories will throw FileAlreadyExistsException if dir exists but is not a directory, such as symlink.&lt;/p&gt;</comment>
                            <comment id="17555455" author="prabhu joseph" created="Fri, 17 Jun 2022 08:07:11 +0000"  >&lt;p&gt;Yes setting io.tmp.dirs to the actual directory pointed by symlink worked. Shall we improve the logic to handle the symlink which points to Actual Directory case as well.&lt;/p&gt;</comment>
                            <comment id="17555485" author="weijie guo" created="Fri, 17 Jun 2022 08:58:13 +0000"  >&lt;p&gt;&#160;We can handle symlinks correctly before &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-23500&quot; title=&quot;AkkaRpcSystemLoader fails if tmp directory does not exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-23500&quot;&gt;&lt;del&gt;FLINK-23500&lt;/del&gt;&lt;/a&gt;, but now it&apos;s broken, from my personal point of view, we should allow symlinks as before, what do you think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prabhujoseph&quot; class=&quot;user-hover&quot; rel=&quot;prabhujoseph&quot;&gt;prabhujoseph&lt;/a&gt; ,I can try to fix this if you guys think so too.&lt;/p&gt;</comment>
                            <comment id="17620838" author="tsreaper" created="Thu, 20 Oct 2022 07:21:03 +0000"  >&lt;p&gt;Mistakenly closed.&lt;/p&gt;</comment>
                            <comment id="17620871" author="weijie guo" created="Thu, 20 Oct 2022 07:48:20 +0000"  >&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xtsong&quot; class=&quot;user-hover&quot; rel=&quot;xtsong&quot;&gt;xtsong&lt;/a&gt;&lt;/em&gt; I will fix this, could you help assign this ticket to me? Thanks~&lt;/p&gt;</comment>
                            <comment id="17626332" author="xintongsong" created="Mon, 31 Oct 2022 01:34:47 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;master (1.17): 2859196f9ab1d86a3d90e47a89cbd13be74741b9&lt;/li&gt;
	&lt;li&gt;release-1.16: 3ae578e2233abd42f770d1bf395792c85698fd89&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13487198">FLINK-29698</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13505286">FLINK-30143</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13489026">FLINK-29728</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13505245">FLINK-30139</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z13bbs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>