<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-990] Scala API: Compiler Hints are not forwarded</title>
                <link>https://issues.apache.org/jira/browse/FLINK-990</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The Scala API contains functions such as preserve, observe, neglect, uniqueKey etc. which can be used to specify compiler hints. However, they are not forwarded to the compiler. Thus an operation:&lt;/p&gt;

&lt;p&gt;DataSet&lt;span class=&quot;error&quot;&gt;&amp;#91;A&amp;#93;&lt;/span&gt; ds = input.map&lt;/p&gt;
{ x=&amp;gt; x}
&lt;p&gt;ds.preserve(x=&amp;gt;x, y=&amp;gt;y)&lt;/p&gt;

&lt;p&gt;which should say that the fields stay constant, does not have an effect. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12724370">FLINK-990</key>
            <summary>Scala API: Compiler Hints are not forwarded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Jun 2014 22:56:37 +0000</created>
                <updated>Thu, 3 Jul 2014 16:59:19 +0000</updated>
                            <resolved>Thu, 3 Jul 2014 16:59:19 +0000</resolved>
                                                    <fixVersion>0.6-incubating</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14047513" author="githubbot" created="Mon, 30 Jun 2014 10:09:55 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/51&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-990&quot; title=&quot;Scala API: Compiler Hints are not forwarded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-990&quot;&gt;&lt;del&gt;FLINK-990&lt;/del&gt;&lt;/a&gt; Scala API: Compiler Hints are not forwarded&lt;/p&gt;

&lt;p&gt;    Added constant fields and combinable annotations forwarding to Scala API. The problem is that annotations information is not available when the Operators are created. Thus, we need a operator translation similar to the new Java API which triggers an update of the respective semantic information.  Furthermore, the Scala generated annotations are appended to the operator class, whereas the udf is checked for annotations. That&apos;s why Scala&apos;s combinableReduce operation does not generate a combinable operator.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/incubator-flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-990&quot; title=&quot;Scala API: Compiler Hints are not forwarded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-990&quot;&gt;&lt;del&gt;FLINK-990&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/51.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/51.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #51&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 735e93cd17df35b7f7340c777d03e57f00562472&lt;br/&gt;
Author: Till Rohrmann &amp;lt;till.rohrmann@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-06-30T09:45:49Z&lt;/p&gt;

&lt;p&gt;    Added constant fields and combinable annotations forwarding to Scala API&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14047605" author="aljoscha" created="Mon, 30 Jun 2014 12:21:54 +0000"  >&lt;p&gt;Why did you only add the &lt;tt&gt;applyHints&lt;/tt&gt; call in line 108 in CompilerHints.scala and not in the other methods where &lt;tt&gt;addCardinality&lt;/tt&gt; is called?&lt;/p&gt;

&lt;p&gt;Also, the system is a mess there because the way the annotations and hints are handled here is from a time when the system used annotations to specify those hints and did not really provide an API. This stuff will have to be reworked to bring the scala interface up to speed with the java interface.&lt;/p&gt;</comment>
                            <comment id="14047624" author="till.rohrmann" created="Mon, 30 Jun 2014 12:53:52 +0000"  >&lt;p&gt;Good point. I&apos;ll add it for addCardinality as well.&lt;/p&gt;

&lt;p&gt;You&apos;re right, it&apos;s more like a temporary fix until the Scala API has been moved to the non-Record based operators. It would make things considerably easier to maintain if they were using the same utility functions. We could probably reuse the OperatorTranslation functionality, which, among others, sets the semantics properties after the Operator plan has been created.&lt;/p&gt;</comment>
                            <comment id="14049795" author="githubbot" created="Wed, 2 Jul 2014 09:59:40 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/51#issuecomment-47757737&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/51#issuecomment-47757737&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Changed so that all addCardinality calls will trigger an applyHints call.&lt;/p&gt;</comment>
                            <comment id="14051415" author="githubbot" created="Thu, 3 Jul 2014 13:03:22 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/51#issuecomment-47926329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/51#issuecomment-47926329&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good to me. I will merge it...&lt;/p&gt;</comment>
                            <comment id="14051682" author="githubbot" created="Thu, 3 Jul 2014 16:58:34 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/51&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14051684" author="stephanewen" created="Thu, 3 Jul 2014 16:59:19 +0000"  >&lt;p&gt;Fixed via b422fe27879ab2d5ad54f782b7321b1b5808c245&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402553</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xae7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>