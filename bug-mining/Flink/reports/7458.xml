<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:20:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-28693] Codegen failed if the watermark is defined on a columnByExpression</title>
                <link>https://issues.apache.org/jira/browse/FLINK-28693</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The following code will throw an exception:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Table program cannot be compiled. This is a bug. Please file an issue.
 ...
 Caused by: org.codehaus.commons.compiler.CompileException: Line 29, Column 54: Cannot determine simple type name &lt;span class=&quot;code-quote&quot;&gt;&quot;org&quot;&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;Code:&lt;/font&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestUdf &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt;  ScalarFunction {
    @DataTypeHint(&lt;span class=&quot;code-quote&quot;&gt;&quot;TIMESTAMP(3)&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; LocalDateTime eval(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; strDate) {
       &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; LocalDateTime.now();
    }
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FlinkTest {
    @Test
    void testUdf() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; env = StreamExecutionEnvironment.createLocalEnvironment();
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// run `gradlew shadowJar` first to generate the uber jar.
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// It contains the kafka connector and a dummy UDF function.
&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; env = StreamExecutionEnvironment.createRemoteEnvironment(&lt;span class=&quot;code-quote&quot;&gt;&quot;localhost&quot;&lt;/span&gt;, 8081,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;build/libs/flink-test-all.jar&quot;&lt;/span&gt;);
        env.setParallelism(1);
        &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; tableEnv = StreamTableEnvironment.create(env);
        tableEnv.createTemporarySystemFunction(&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST_UDF&quot;&lt;/span&gt;, TestUdf.class);

        &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; testTable = tableEnv.from(TableDescriptor.forConnector(&lt;span class=&quot;code-quote&quot;&gt;&quot;kafka&quot;&lt;/span&gt;)
                .schema(Schema.newBuilder()
                        .column(&lt;span class=&quot;code-quote&quot;&gt;&quot;time_stamp&quot;&lt;/span&gt;, DataTypes.STRING())
                        .columnByExpression(&lt;span class=&quot;code-quote&quot;&gt;&quot;udf_ts&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;TEST_UDF(time_stamp)&quot;&lt;/span&gt;)
                        .watermark(&lt;span class=&quot;code-quote&quot;&gt;&quot;udf_ts&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;udf_ts - INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; second&quot;&lt;/span&gt;)
                        .build())
                &lt;span class=&quot;code-comment&quot;&gt;// the kafka server doesn&apos;t need to exist. It fails in the compile stage before fetching data.
&lt;/span&gt;                .option(&lt;span class=&quot;code-quote&quot;&gt;&quot;properties.bootstrap.servers&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;localhost:9092&quot;&lt;/span&gt;)
                .option(&lt;span class=&quot;code-quote&quot;&gt;&quot;topic&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;test_topic&quot;&lt;/span&gt;)
                .option(&lt;span class=&quot;code-quote&quot;&gt;&quot;format&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;json&quot;&lt;/span&gt;)
                .option(&lt;span class=&quot;code-quote&quot;&gt;&quot;scan.startup.mode&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;latest-offset&quot;&lt;/span&gt;)
                .build());
        testTable.printSchema();
        tableEnv.createTemporaryView(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;, testTable );

        &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; query = tableEnv.sqlQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;select * from test&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; tableResult = query.executeInsert(TableDescriptor.forConnector(&lt;span class=&quot;code-quote&quot;&gt;&quot;print&quot;&lt;/span&gt;).build());
        tableResult.await();
    }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What does the code do?&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;read a stream from Kakfa&lt;/li&gt;
	&lt;li&gt;create a derived column using an UDF expression&lt;/li&gt;
	&lt;li&gt;define the watermark based on the derived column&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The full callstack:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.flink.util.FlinkRuntimeException: org.apache.flink.api.common.InvalidProgramException: Table program cannot be compiled. This is a bug. Please file an issue.
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.compile(CompileUtils.java:94) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedClass.compile(GeneratedClass.java:97) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedClass.newInstance(GeneratedClass.java:68) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedWatermarkGeneratorSupplier.createWatermarkGenerator(GeneratedWatermarkGeneratorSupplier.java:62) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.api.operators.source.ProgressiveTimestampsAndWatermarks.createMainOutput(ProgressiveTimestampsAndWatermarks.java:104) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.api.operators.SourceOperator.initializeMainOutput(SourceOperator.java:426) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.api.operators.SourceOperator.emitNextNotReading(SourceOperator.java:402) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.api.operators.SourceOperator.emitNext(SourceOperator.java:387) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.runtime.io.StreamTaskSourceInput.emitNext(StreamTaskSourceInput.java:68) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:519) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:804) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:753) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:948) [flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927) [flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:741) [flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.run(Task.java:563) [flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:829) [?:?]
Caused by: org.apache.flink.shaded.guava30.com.google.common.util.concurrent.UncheckedExecutionException: org.apache.flink.api.common.InvalidProgramException: Table program cannot be compiled. This is a bug. Please file an issue.
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2051) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache.get(LocalCache.java:3962) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4859) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.compile(CompileUtils.java:92) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; ... 18 more
Caused by: org.apache.flink.api.common.InvalidProgramException: Table program cannot be compiled. This is a bug. Please file an issue.
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.doCompile(CompileUtils.java:107) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.lambda$compile$0(CompileUtils.java:92) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4864) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache.get(LocalCache.java:3962) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4859) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.compile(CompileUtils.java:92) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; ... 18 more
Caused by: org.codehaus.commons.compiler.CompileException: Line 29, Column 54: Cannot determine simple type name &lt;span class=&quot;code-quote&quot;&gt;&quot;org&quot;&lt;/span&gt;
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileError(UnitCompiler.java:12211) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6833) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6594) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType2(UnitCompiler.java:6573) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$13900(UnitCompiler.java:215) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$1.visitReferenceType(UnitCompiler.java:6481) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$1.visitReferenceType(UnitCompiler.java:6476) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$ReferenceType.accept(Java.java:3928) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitType(UnitCompiler.java:6476) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitType(UnitCompiler.java:6469) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$ReferenceType.accept(Java.java:3927) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType(UnitCompiler.java:6469) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType2(UnitCompiler.java:7121) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$17000(UnitCompiler.java:215) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$2.visitNewClassInstance(UnitCompiler.java:6529) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$2.visitNewClassInstance(UnitCompiler.java:6490) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$NewClassInstance.accept(Java.java:5190) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitRvalue(UnitCompiler.java:6490) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitRvalue(UnitCompiler.java:6469) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$Rvalue.accept(Java.java:4116) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType(UnitCompiler.java:6469) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.findMostSpecificIInvocable(UnitCompiler.java:9237) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.findIMethod(UnitCompiler.java:9123) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.findIMethod(UnitCompiler.java:9025) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileGet2(UnitCompiler.java:5062) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$9100(UnitCompiler.java:215) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$16.visitMethodInvocation(UnitCompiler.java:4423) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$16.visitMethodInvocation(UnitCompiler.java:4396) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$MethodInvocation.accept(Java.java:5073) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileGet(UnitCompiler.java:4396) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileGetValue(UnitCompiler.java:5662) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:3783) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$5900(UnitCompiler.java:215) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$13.visitMethodInvocation(UnitCompiler.java:3762) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$13.visitMethodInvocation(UnitCompiler.java:3734) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$MethodInvocation.accept(Java.java:5073) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:3734) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:2360) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$1800(UnitCompiler.java:215) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$6.visitExpressionStatement(UnitCompiler.java:1494) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$6.visitExpressionStatement(UnitCompiler.java:1487) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$ExpressionStatement.accept(Java.java:2874) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:1487) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileStatements(UnitCompiler.java:1567) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:3388) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileDeclaredMethods(UnitCompiler.java:1357) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileDeclaredMethods(UnitCompiler.java:1330) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:822) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:432) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$400(UnitCompiler.java:215) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$2.visitPackageMemberClassDeclaration(UnitCompiler.java:411) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler$2.visitPackageMemberClassDeclaration(UnitCompiler.java:406) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.Java$PackageMemberClassDeclaration.accept(Java.java:1414) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:406) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileUnit(UnitCompiler.java:378) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.SimpleCompiler.cook(SimpleCompiler.java:237) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.SimpleCompiler.compileToClassLoader(SimpleCompiler.java:465) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.SimpleCompiler.cook(SimpleCompiler.java:216) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.janino.SimpleCompiler.cook(SimpleCompiler.java:207) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.commons.compiler.Cookable.cook(Cookable.java:80) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.codehaus.commons.compiler.Cookable.cook(Cookable.java:75) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.doCompile(CompileUtils.java:104) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.lambda$compile$0(CompileUtils.java:92) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4864) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache.get(LocalCache.java:3962) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4859) ~[flink-dist-1.15.1.jar:1.15.1]
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.compile(CompileUtils.java:92) ~[flink-table-runtime-1.15.1.jar:1.15.1]
&#160; &#160; ... 18 more
2022-07-26 09:53:12,770 INFO &#160;org.apache.flink.connector.base.source.reader.SourceReaderBase [] - Closing Source Reader.
2022-07-26 09:53:12,772 WARN &#160;org.apache.flink.runtime.taskmanager.Task &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;[] - Source: *anonymous_kafka$1*[1] -&amp;gt; Calc[2] -&amp;gt; Sink: *anonymous_print$2*[3] (1/1)#0 (5283ea1dc807419920579ac3f255a090) switched from RUNNING to FAILED with failure cause: java.lang.RuntimeException: Could not instantiate generated class &lt;span class=&quot;code-quote&quot;&gt;&apos;WatermarkGenerator$0&apos;&lt;/span&gt;
&#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedClass.newInstance(GeneratedClass.java:74)
&#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedWatermarkGeneratorSupplier.createWatermarkGenerator(GeneratedWatermarkGeneratorSupplier.java:62)
&#160; &#160; at org.apache.flink.streaming.api.operators.source.ProgressiveTimestampsAndWatermarks.createMainOutput(ProgressiveTimestampsAndWatermarks.java:104)
&#160; &#160; at org.apache.flink.streaming.api.operators.SourceOperator.initializeMainOutput(SourceOperator.java:426)
&#160; &#160; at org.apache.flink.streaming.api.operators.SourceOperator.emitNextNotReading(SourceOperator.java:402)
&#160; &#160; at org.apache.flink.streaming.api.operators.SourceOperator.emitNext(SourceOperator.java:387)
&#160; &#160; at org.apache.flink.streaming.runtime.io.StreamTaskSourceInput.emitNext(StreamTaskSourceInput.java:68)
&#160; &#160; at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:519)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:804)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:753)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:948)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:741)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)
&#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:829)
Caused by: org.apache.flink.util.FlinkRuntimeException: org.apache.flink.api.common.InvalidProgramException: Table program cannot be compiled. This is a bug. Please file an issue.
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.compile(CompileUtils.java:94)
&#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedClass.compile(GeneratedClass.java:101)
&#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedClass.newInstance(GeneratedClass.java:68)
&#160; &#160; ... 16 more
Caused by: org.apache.flink.shaded.guava30.com.google.common.util.concurrent.UncheckedExecutionException: org.apache.flink.api.common.InvalidProgramException: Table program cannot be compiled. This is a bug. Please file an issue.
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2051)
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache.get(LocalCache.java:3962)
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4859)
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.compile(CompileUtils.java:92)
&#160; &#160; ... 18 more
Caused by: org.apache.flink.api.common.InvalidProgramException: Table program cannot be compiled. This is a bug. Please file an issue.
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.doCompile(CompileUtils.java:107)
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.lambda$compile$0(CompileUtils.java:92)
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4864)
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529)
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278)
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155)
&#160; &#160; at org.apache.flink.shaded.guava30.com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045)
&#160; &#160; ... 21 more
Caused by: org.codehaus.commons.compiler.CompileException: Line 29, Column 54: Cannot determine simple type name &lt;span class=&quot;code-quote&quot;&gt;&quot;org&quot;&lt;/span&gt;
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileError(UnitCompiler.java:12211)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6833)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6594)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6607)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType2(UnitCompiler.java:6573)
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$13900(UnitCompiler.java:215)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$1.visitReferenceType(UnitCompiler.java:6481)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$1.visitReferenceType(UnitCompiler.java:6476)
&#160; &#160; at org.codehaus.janino.Java$ReferenceType.accept(Java.java:3928)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitType(UnitCompiler.java:6476)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitType(UnitCompiler.java:6469)
&#160; &#160; at org.codehaus.janino.Java$ReferenceType.accept(Java.java:3927)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType(UnitCompiler.java:6469)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType2(UnitCompiler.java:7121)
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$17000(UnitCompiler.java:215)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$2.visitNewClassInstance(UnitCompiler.java:6529)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22$2.visitNewClassInstance(UnitCompiler.java:6490)
&#160; &#160; at org.codehaus.janino.Java$NewClassInstance.accept(Java.java:5190)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitRvalue(UnitCompiler.java:6490)
&#160; &#160; at org.codehaus.janino.UnitCompiler$22.visitRvalue(UnitCompiler.java:6469)
&#160; &#160; at org.codehaus.janino.Java$Rvalue.accept(Java.java:4116)
&#160; &#160; at org.codehaus.janino.UnitCompiler.getType(UnitCompiler.java:6469)
&#160; &#160; at org.codehaus.janino.UnitCompiler.findMostSpecificIInvocable(UnitCompiler.java:9237)
&#160; &#160; at org.codehaus.janino.UnitCompiler.findIMethod(UnitCompiler.java:9123)
&#160; &#160; at org.codehaus.janino.UnitCompiler.findIMethod(UnitCompiler.java:9025)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileGet2(UnitCompiler.java:5062)
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$9100(UnitCompiler.java:215)
&#160; &#160; at org.codehaus.janino.UnitCompiler$16.visitMethodInvocation(UnitCompiler.java:4423)
&#160; &#160; at org.codehaus.janino.UnitCompiler$16.visitMethodInvocation(UnitCompiler.java:4396)
&#160; &#160; at org.codehaus.janino.Java$MethodInvocation.accept(Java.java:5073)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileGet(UnitCompiler.java:4396)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileGetValue(UnitCompiler.java:5662)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:3783)
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$5900(UnitCompiler.java:215)
&#160; &#160; at org.codehaus.janino.UnitCompiler$13.visitMethodInvocation(UnitCompiler.java:3762)
&#160; &#160; at org.codehaus.janino.UnitCompiler$13.visitMethodInvocation(UnitCompiler.java:3734)
&#160; &#160; at org.codehaus.janino.Java$MethodInvocation.accept(Java.java:5073)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:3734)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:2360)
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$1800(UnitCompiler.java:215)
&#160; &#160; at org.codehaus.janino.UnitCompiler$6.visitExpressionStatement(UnitCompiler.java:1494)
&#160; &#160; at org.codehaus.janino.UnitCompiler$6.visitExpressionStatement(UnitCompiler.java:1487)
&#160; &#160; at org.codehaus.janino.Java$ExpressionStatement.accept(Java.java:2874)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:1487)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileStatements(UnitCompiler.java:1567)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:3388)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileDeclaredMethods(UnitCompiler.java:1357)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileDeclaredMethods(UnitCompiler.java:1330)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:822)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile2(UnitCompiler.java:432)
&#160; &#160; at org.codehaus.janino.UnitCompiler.access$400(UnitCompiler.java:215)
&#160; &#160; at org.codehaus.janino.UnitCompiler$2.visitPackageMemberClassDeclaration(UnitCompiler.java:411)
&#160; &#160; at org.codehaus.janino.UnitCompiler$2.visitPackageMemberClassDeclaration(UnitCompiler.java:406)
&#160; &#160; at org.codehaus.janino.Java$PackageMemberClassDeclaration.accept(Java.java:1414)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compile(UnitCompiler.java:406)
&#160; &#160; at org.codehaus.janino.UnitCompiler.compileUnit(UnitCompiler.java:378)
&#160; &#160; at org.codehaus.janino.SimpleCompiler.cook(SimpleCompiler.java:237)
&#160; &#160; at org.codehaus.janino.SimpleCompiler.compileToClassLoader(SimpleCompiler.java:465)
&#160; &#160; at org.codehaus.janino.SimpleCompiler.cook(SimpleCompiler.java:216)
&#160; &#160; at org.codehaus.janino.SimpleCompiler.cook(SimpleCompiler.java:207)
&#160; &#160; at org.codehaus.commons.compiler.Cookable.cook(Cookable.java:80)
&#160; &#160; at org.codehaus.commons.compiler.Cookable.cook(Cookable.java:75)
&#160; &#160; at org.apache.flink.table.runtime.generated.CompileUtils.doCompile(CompileUtils.java:104)
&#160; &#160; ... 27 more &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The generated class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 1 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 2 */&lt;/span&gt; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;WatermarkGenerator$0
&lt;span class=&quot;code-comment&quot;&gt;/* 3 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.flink.table.runtime.generated.WatermarkGenerator {
&lt;span class=&quot;code-comment&quot;&gt;/* 4 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 5 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.table.runtime.typeutils.StringDataSerializer typeSerializer$2;
&lt;span class=&quot;code-comment&quot;&gt;/* 6 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; com.flinktest.TestUdf function_com$flinktest$TestUdf;
&lt;span class=&quot;code-comment&quot;&gt;/* 7 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.table.data.conversion.StringStringConverter converter$4;
&lt;span class=&quot;code-comment&quot;&gt;/* 8 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.table.data.conversion.TimestampLocalDateTimeConverter converter$6;
&lt;span class=&quot;code-comment&quot;&gt;/* 9 */&lt;/span&gt; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 10 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.api.common.eventtime.WatermarkGeneratorSupplier.Context
&lt;span class=&quot;code-comment&quot;&gt;/* 11 */&lt;/span&gt; &#160; &#160; &#160; &#160;context;
&lt;span class=&quot;code-comment&quot;&gt;/* 12 */&lt;/span&gt; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 13 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 14 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; WatermarkGenerator$0(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] references) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 15 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;typeSerializer$2 = (((org.apache.flink.table.runtime.typeutils.StringDataSerializer) references[0]));
&lt;span class=&quot;code-comment&quot;&gt;/* 16 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;function_com$flinktest$TestUdf = (((com.flinktest.TestUdf) references[1]));
&lt;span class=&quot;code-comment&quot;&gt;/* 17 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$4 = (((org.apache.flink.table.data.conversion.StringStringConverter) references[2]));
&lt;span class=&quot;code-comment&quot;&gt;/* 18 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$6 = (((org.apache.flink.table.data.conversion.TimestampLocalDateTimeConverter) references[3]));
&lt;span class=&quot;code-comment&quot;&gt;/* 19 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 20 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len = references.length;
&lt;span class=&quot;code-comment&quot;&gt;/* 21 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;context =
&lt;span class=&quot;code-comment&quot;&gt;/* 22 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;(org.apache.flink.api.common.eventtime.WatermarkGeneratorSupplier.Context) references[len-1];
&lt;span class=&quot;code-comment&quot;&gt;/* 23 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 24 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 25 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 26 */&lt;/span&gt; &#160; &#160; &#160; &#160;@Override
&lt;span class=&quot;code-comment&quot;&gt;/* 27 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void open(org.apache.flink.configuration.Configuration parameters) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 28 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 29 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;function_com$flinktest$TestUdf.open(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.flink.table.planner.codegen.WatermarkGeneratorCodeGeneratorFunctionContextWrapper(context));
&lt;span class=&quot;code-comment&quot;&gt;/* 30 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 31 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 32 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$4.open(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getClass().getClassLoader());
&lt;span class=&quot;code-comment&quot;&gt;/* 33 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 34 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 35 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$6.open(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getClass().getClassLoader());
&lt;span class=&quot;code-comment&quot;&gt;/* 36 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 37 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 38 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 39 */&lt;/span&gt; &#160; &#160; &#160; &#160;@Override
&lt;span class=&quot;code-comment&quot;&gt;/* 40 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; currentWatermark(org.apache.flink.table.data.RowData row) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 41 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 42 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.binary.BinaryStringData field$1;
&lt;span class=&quot;code-comment&quot;&gt;/* 43 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull$1;
&lt;span class=&quot;code-comment&quot;&gt;/* 44 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.binary.BinaryStringData field$3;
&lt;span class=&quot;code-comment&quot;&gt;/* 45 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;java.time.LocalDateTime externalResult$5;
&lt;span class=&quot;code-comment&quot;&gt;/* 46 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.TimestampData result$7;
&lt;span class=&quot;code-comment&quot;&gt;/* 47 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull$7;
&lt;span class=&quot;code-comment&quot;&gt;/* 48 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull$8;
&lt;span class=&quot;code-comment&quot;&gt;/* 49 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.TimestampData result$9;
&lt;span class=&quot;code-comment&quot;&gt;/* 50 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 51 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;isNull$1 = row.isNullAt(0);
&lt;span class=&quot;code-comment&quot;&gt;/* 52 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;field$1 = org.apache.flink.table.data.binary.BinaryStringData.EMPTY_UTF8;
&lt;span class=&quot;code-comment&quot;&gt;/* 53 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$1) {
&lt;span class=&quot;code-comment&quot;&gt;/* 54 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;field$1 = ((org.apache.flink.table.data.binary.BinaryStringData) row.getString(0));
&lt;span class=&quot;code-comment&quot;&gt;/* 55 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 56 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;field$3 = field$1;
&lt;span class=&quot;code-comment&quot;&gt;/* 57 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$1) {
&lt;span class=&quot;code-comment&quot;&gt;/* 58 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;field$3 = (org.apache.flink.table.data.binary.BinaryStringData) (typeSerializer$2.copy(field$3));
&lt;span class=&quot;code-comment&quot;&gt;/* 59 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 60 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 61 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 62 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 63 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 64 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 65 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;externalResult$5 = (java.time.LocalDateTime) function_com$flinktest$TestUdf
&lt;span class=&quot;code-comment&quot;&gt;/* 66 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;.eval(isNull$1 ? &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; : ((java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) converter$4.toExternal((org.apache.flink.table.data.binary.BinaryStringData) field$3)));
&lt;span class=&quot;code-comment&quot;&gt;/* 67 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 68 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;isNull$7 = externalResult$5 == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 69 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;result$7 = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 70 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$7) {
&lt;span class=&quot;code-comment&quot;&gt;/* 71 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;result$7 = (org.apache.flink.table.data.TimestampData) converter$6.toInternalOrNull((java.time.LocalDateTime) externalResult$5);
&lt;span class=&quot;code-comment&quot;&gt;/* 72 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 73 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 74 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 75 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;isNull$8 = isNull$7 || &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 76 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;result$9 = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 77 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$8) {
&lt;span class=&quot;code-comment&quot;&gt;/* 78 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 79 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 80 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;result$9 = org.apache.flink.table.data.TimestampData.fromEpochMillis(result$7.getMillisecond() - ((&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) 1000L), result$7.getNanoOfMillisecond());
&lt;span class=&quot;code-comment&quot;&gt;/* 81 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 82 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 83 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 84 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 85 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isNull$8) {
&lt;span class=&quot;code-comment&quot;&gt;/* 86 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 87 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&lt;span class=&quot;code-comment&quot;&gt;/* 88 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result$9.getMillisecond();
&lt;span class=&quot;code-comment&quot;&gt;/* 89 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 90 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 91 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 92 */&lt;/span&gt; &#160; &#160; &#160; &#160;@Override
&lt;span class=&quot;code-comment&quot;&gt;/* 93 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 94 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 95 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;function_com$flinktest$TestUdf.close();
&lt;span class=&quot;code-comment&quot;&gt;/* 96 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 97 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 98 */&lt;/span&gt; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 99 */&lt;/span&gt; &#160; &#160;&lt;span class=&quot;code-comment&quot;&gt;/* 1 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 2 */&lt;/span&gt; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;WatermarkGenerator$0
&lt;span class=&quot;code-comment&quot;&gt;/* 3 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.flink.table.runtime.generated.WatermarkGenerator {
&lt;span class=&quot;code-comment&quot;&gt;/* 4 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 5 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.table.runtime.typeutils.StringDataSerializer typeSerializer$2;
&lt;span class=&quot;code-comment&quot;&gt;/* 6 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; com.flinktest.TestUdf function_com$flinktest$TestUdf;
&lt;span class=&quot;code-comment&quot;&gt;/* 7 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.table.data.conversion.StringStringConverter converter$4;
&lt;span class=&quot;code-comment&quot;&gt;/* 8 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.table.data.conversion.TimestampLocalDateTimeConverter converter$6;
&lt;span class=&quot;code-comment&quot;&gt;/* 9 */&lt;/span&gt; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 10 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; org.apache.flink.api.common.eventtime.WatermarkGeneratorSupplier.Context
&lt;span class=&quot;code-comment&quot;&gt;/* 11 */&lt;/span&gt; &#160; &#160; &#160; &#160;context;
&lt;span class=&quot;code-comment&quot;&gt;/* 12 */&lt;/span&gt; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 13 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 14 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; WatermarkGenerator$0(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] references) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 15 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;typeSerializer$2 = (((org.apache.flink.table.runtime.typeutils.StringDataSerializer) references[0]));
&lt;span class=&quot;code-comment&quot;&gt;/* 16 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;function_com$flinktest$TestUdf = (((com.flinktest.TestUdf) references[1]));
&lt;span class=&quot;code-comment&quot;&gt;/* 17 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$4 = (((org.apache.flink.table.data.conversion.StringStringConverter) references[2]));
&lt;span class=&quot;code-comment&quot;&gt;/* 18 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$6 = (((org.apache.flink.table.data.conversion.TimestampLocalDateTimeConverter) references[3]));
&lt;span class=&quot;code-comment&quot;&gt;/* 19 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 20 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len = references.length;
&lt;span class=&quot;code-comment&quot;&gt;/* 21 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;context =
&lt;span class=&quot;code-comment&quot;&gt;/* 22 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;(org.apache.flink.api.common.eventtime.WatermarkGeneratorSupplier.Context) references[len-1];
&lt;span class=&quot;code-comment&quot;&gt;/* 23 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 24 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 25 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 26 */&lt;/span&gt; &#160; &#160; &#160; &#160;@Override
&lt;span class=&quot;code-comment&quot;&gt;/* 27 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void open(org.apache.flink.configuration.Configuration parameters) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 28 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 29 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;function_com$flinktest$TestUdf.open(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.flink.table.planner.codegen.WatermarkGeneratorCodeGeneratorFunctionContextWrapper(context));
&lt;span class=&quot;code-comment&quot;&gt;/* 30 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 31 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 32 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$4.open(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getClass().getClassLoader());
&lt;span class=&quot;code-comment&quot;&gt;/* 33 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 34 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 35 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;converter$6.open(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getClass().getClassLoader());
&lt;span class=&quot;code-comment&quot;&gt;/* 36 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 37 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 38 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 39 */&lt;/span&gt; &#160; &#160; &#160; &#160;@Override
&lt;span class=&quot;code-comment&quot;&gt;/* 40 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; currentWatermark(org.apache.flink.table.data.RowData row) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 41 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 42 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.binary.BinaryStringData field$1;
&lt;span class=&quot;code-comment&quot;&gt;/* 43 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull$1;
&lt;span class=&quot;code-comment&quot;&gt;/* 44 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.binary.BinaryStringData field$3;
&lt;span class=&quot;code-comment&quot;&gt;/* 45 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;java.time.LocalDateTime externalResult$5;
&lt;span class=&quot;code-comment&quot;&gt;/* 46 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.TimestampData result$7;
&lt;span class=&quot;code-comment&quot;&gt;/* 47 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull$7;
&lt;span class=&quot;code-comment&quot;&gt;/* 48 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull$8;
&lt;span class=&quot;code-comment&quot;&gt;/* 49 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;org.apache.flink.table.data.TimestampData result$9;
&lt;span class=&quot;code-comment&quot;&gt;/* 50 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 51 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;isNull$1 = row.isNullAt(0);
&lt;span class=&quot;code-comment&quot;&gt;/* 52 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;field$1 = org.apache.flink.table.data.binary.BinaryStringData.EMPTY_UTF8;
&lt;span class=&quot;code-comment&quot;&gt;/* 53 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$1) {
&lt;span class=&quot;code-comment&quot;&gt;/* 54 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;field$1 = ((org.apache.flink.table.data.binary.BinaryStringData) row.getString(0));
&lt;span class=&quot;code-comment&quot;&gt;/* 55 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 56 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;field$3 = field$1;
&lt;span class=&quot;code-comment&quot;&gt;/* 57 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$1) {
&lt;span class=&quot;code-comment&quot;&gt;/* 58 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;field$3 = (org.apache.flink.table.data.binary.BinaryStringData) (typeSerializer$2.copy(field$3));
&lt;span class=&quot;code-comment&quot;&gt;/* 59 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 60 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 61 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 62 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 63 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 64 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 65 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;externalResult$5 = (java.time.LocalDateTime) function_com$flinktest$TestUdf
&lt;span class=&quot;code-comment&quot;&gt;/* 66 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;.eval(isNull$1 ? &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; : ((java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) converter$4.toExternal((org.apache.flink.table.data.binary.BinaryStringData) field$3)));
&lt;span class=&quot;code-comment&quot;&gt;/* 67 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 68 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;isNull$7 = externalResult$5 == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 69 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;result$7 = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 70 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$7) {
&lt;span class=&quot;code-comment&quot;&gt;/* 71 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;result$7 = (org.apache.flink.table.data.TimestampData) converter$6.toInternalOrNull((java.time.LocalDateTime) externalResult$5);
&lt;span class=&quot;code-comment&quot;&gt;/* 72 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 73 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 74 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 75 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;isNull$8 = isNull$7 || &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 76 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;result$9 = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 77 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull$8) {
&lt;span class=&quot;code-comment&quot;&gt;/* 78 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 79 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 80 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;result$9 = org.apache.flink.table.data.TimestampData.fromEpochMillis(result$7.getMillisecond() - ((&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) 1000L), result$7.getNanoOfMillisecond());
&lt;span class=&quot;code-comment&quot;&gt;/* 81 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 82 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 83 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 84 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 85 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isNull$8) {
&lt;span class=&quot;code-comment&quot;&gt;/* 86 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 87 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&lt;span class=&quot;code-comment&quot;&gt;/* 88 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result$9.getMillisecond();
&lt;span class=&quot;code-comment&quot;&gt;/* 89 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 90 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 91 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 92 */&lt;/span&gt; &#160; &#160; &#160; &#160;@Override
&lt;span class=&quot;code-comment&quot;&gt;/* 93 */&lt;/span&gt; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;span class=&quot;code-comment&quot;&gt;/* 94 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 95 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160;function_com$flinktest$TestUdf.close();
&lt;span class=&quot;code-comment&quot;&gt;/* 96 */&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
&lt;span class=&quot;code-comment&quot;&gt;/* 97 */&lt;/span&gt; &#160; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 98 */&lt;/span&gt; &#160; &#160; &#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 99 */&lt;/span&gt; &#160; &#160;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Addtional information:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;This is a regression from 1.14. The issue doesn&apos;t happen in 1.14&lt;/li&gt;
	&lt;li&gt;It needs to be run in a flink cluster. It doesn&apos;t happen in a LocalEnvironment.&lt;/li&gt;
	&lt;li&gt;It doen&apos;t happen when using `datagen` source instead of Kafka.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Reproduce steps:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;download flink-1.15.1-bin-scala_2.12.tgz and run bin/start-cluster&lt;/li&gt;
	&lt;li&gt;clone the test code from `git clone -b &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-28693&quot; title=&quot;Codegen failed if the watermark is defined on a columnByExpression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-28693&quot;&gt;&lt;del&gt;FLINK-28693&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://github.com/liuhb86/flink-test.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/liuhb86/flink-test.git&lt;/a&gt;`&lt;/li&gt;
	&lt;li&gt;run `gradlew shadowJar` to generate the jar files with the UDF function.&lt;/li&gt;
	&lt;li&gt;run `gradlew test`. The exception occurs in about 10 seconds.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13473562">FLINK-28693</key>
            <summary>Codegen failed if the watermark is defined on a columnByExpression</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuyangzhong">Xuyang Zhong</assignee>
                                    <reporter username="liuhb86">Hongbo</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 26 Jul 2022 12:54:53 +0000</created>
                <updated>Thu, 8 May 2025 09:19:22 +0000</updated>
                            <resolved>Wed, 3 Apr 2024 10:25:27 +0000</resolved>
                                    <version>1.15.1</version>
                                    <fixVersion>1.18.2</fixVersion>
                    <fixVersion>1.20.0</fixVersion>
                    <fixVersion>1.19.1</fixVersion>
                                    <component>Table SQL / Runtime</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="17571444" author="liuhb86" created="Tue, 26 Jul 2022 13:57:28 +0000"  >&lt;p&gt;Is it caused by change in the codegen logic or a classloader problem because of the new module `&lt;tt&gt;flink-table-planner-loader&lt;/tt&gt;`?&lt;/p&gt;</comment>
                            <comment id="17571487" author="liuhb86" created="Tue, 26 Jul 2022 15:07:49 +0000"  >&lt;p&gt;Swaping flink-table-planner-loader with flink-table-planer in the opt/ folder can solve the problem.&lt;/p&gt;

&lt;p&gt;Is there any drawback to the swap? (If not, why use flink-table-planner-loader as the default, as I saw others also reported problems about this lib).&lt;/p&gt;</comment>
                            <comment id="17755761" author="JIRAUSER301658" created="Fri, 18 Aug 2023 02:05:48 +0000"  >&lt;p&gt;watermark with column by udf may cause a error. when i replace json_value(build-in function) with myUDF, no error.&lt;/p&gt;</comment>
                            <comment id="17804161" author="wczhu" created="Mon, 8 Jan 2024 07:55:59 +0000"  >&lt;p&gt;same problem &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-34016&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;FLINK-34016&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17815141" author="xuyangzhong" created="Wed, 7 Feb 2024 07:26:00 +0000"  >&lt;p&gt;This bug is caused by that the code generated by codegen references the class in the table-planner package, but the class in the table-planner package is hidden by table-planner-loader, so classloader cannot find it.&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ll try to fix it.&lt;/p&gt;</comment>
                            <comment id="17815957" author="JIRAUSER302567" created="Fri, 9 Feb 2024 08:00:08 +0000"  >&lt;p&gt;We are facing similar issue in 1.18 - our analyses lead to this:&lt;/p&gt;

&lt;p&gt;Once deployed, the job fails with: &lt;b&gt;&lt;em&gt;Could not instantiate generated class &apos;WatermarkGenerator$0&apos;&lt;/em&gt;&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.flink.runtime.taskmanager.Task &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;[] - Source: source_1___TABLE[1] -&amp;gt; Calc[2] -&amp;gt; KafkaSinkTable6[3]: Writer -&amp;gt; KafkaSinkTable6[3]: Committer (1/1)#0 (b7ae8e7fdeab754fd21c02a17b7736aa_cbc357ccb763df2852fee8c4fc7d55f2_0_0) switched from RUNNING to FAILED with failure cause:
2024-02-08T16:25:56.613700525Z java.lang.RuntimeException: Could not instantiate generated class &lt;span class=&quot;code-quote&quot;&gt;&apos;WatermarkGenerator$0&apos;&lt;/span&gt;
2024-02-08T16:25:56.613703025Z &#160; &#160; at org.apache.flink.table.runtime.generated.GeneratedClass.newInstance(GeneratedClass.java:74) ~[flink-table-runtime-1.18.0.jar:1.18.0]
[...]
Caused by: org.apache.flink.shaded.guava31.com.google.common.util.concurrent.UncheckedExecutionException: org.apache.flink.api.common.InvalidProgramException: Table program cannot be compiled. This is a bug. Please file an issue.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;To reproduce, the source table should meet these conditions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the watermark definition is based on a computed column,&lt;/li&gt;
	&lt;li&gt;the computed column relies on a UDF,&lt;/li&gt;
	&lt;li&gt;uses the `kafka` connector&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TABLE `source_1___TABLE`
(
  `ts` STRING,
  `ts___EVENT_TIME` AS CAST (TO_TIMESTAMP_UDF(`ts`) AS TIMESTAMP(3)),
  WATERMARK FOR `ts___EVENT_TIME` AS `ts___EVENT_TIME` - INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; MINUTE
)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note that with the `filesystem` connector, such declaration deploys and consume events as expected.&lt;/p&gt;

&lt;p&gt;Behavior is consistent when the job is created and deployed directly through the table API or through the SQL client using SQL statement definition.&lt;/p&gt;</comment>
                            <comment id="17833489" author="sergey nuyanzin" created="Wed, 3 Apr 2024 10:25:53 +0000"  >&lt;p&gt;Merged as &lt;a href=&quot;https://github.com/apache/flink/commit/0acf92f1c8a90dcb3eb2c1038c1cda3344b7b988&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;0acf92f1c8a90dcb3eb2c1038c1cda3344b7b988&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17835457" author="sergey nuyanzin" created="Tue, 9 Apr 2024 15:11:14 +0000"  >&lt;p&gt;1.18: &lt;a href=&quot;https://github.com/apache/flink/commit/f5c62abf7475ea8bc976de2a2079b1a9e29b79df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;f5c62abf7475ea8bc976de2a2079b1a9e29b79df&lt;/a&gt;&lt;br/&gt;
1.19: &lt;a href=&quot;https://github.com/apache/flink/commit/b1165a89edb9857754e283c6afd7983a34acd465&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;b1165a89edb9857754e283c6afd7983a34acd465&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17950218" author="JIRAUSER309386" created="Thu, 8 May 2025 08:39:38 +0000"  >&lt;p&gt;Tried to remove the flink-table-planner-loader and replace with flink-table-planner but still get the same issue in Flink 1.20.1 when trying to add a custom UDF to our job running on Kubernetes. We add the jar containing the UDF to a Docker image and then load via tableEnv.createFunction(&quot;ToUpper&quot;,&quot;com.xyz.something.ToUpper&quot;,&quot;jar-resource-uri&quot;).&lt;br/&gt;
What solved the issue for me is to put the jar into the same directory as I put my job jar. For example:&lt;/p&gt;

&lt;p&gt;/opt/flink/usrlib/MyJob.jar&lt;br/&gt;
/opt/flink/usrlib/MyUdf.jar&lt;/p&gt;

&lt;p&gt;It didn&apos;t work when I put MyUdf.jar in a different directory like &quot;/opt/flink/udf/MyUdf.jar&quot;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13563854">FLINK-34016</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13575449">FLINK-35081</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z177a0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>