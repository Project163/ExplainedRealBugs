<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:34:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-9654] Internal error while deserializing custom Scala TypeSerializer instances</title>
                <link>https://issues.apache.org/jira/browse/FLINK-9654</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When you are using custom `TypeSerializer` instances implemented&#160;in Scala, the Scala&#160;issue&#160;&lt;a href=&quot;https://issues.scala-lang.org/browse/SI-2034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SI-2034&lt;/a&gt;&#160;can manifest itself when a Flink job is restored from checkpoint or started with a savepoint.&lt;/p&gt;

&lt;p&gt;The reason is that in such a restore from checkpoint or savepoint, Flink uses&#160;`InstantiationUtil.FailureTolerantObjectInputStream` to deserialize the type serializers and&#160;their configurations. The deserialization walks through the entire object graph corresponding, and for each class it calls `isAnonymousClass`, which, in turn, calls `getSimpleName` (mechanism in place for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6869&quot; title=&quot;Scala serializers do not have the serialVersionUID specified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6869&quot;&gt;&lt;del&gt;FLINK-6869&lt;/del&gt;&lt;/a&gt;). If there is an internal class defined in a Scala object for which `getSimpleName` fails (see the Scala issue), then a `java.lang.InternalError` is thrown which causes the&#160;task manager to restart. In this case, Flink tries to restart the job on another task manager, causing all the task managers to restart, wreaking havoc on the entire Flink cluster.&lt;/p&gt;

&lt;p&gt;There are some alternative type information derivation mechanisms that rely on anonymous classes and, most importantly, classes generated by macros, that can easily trigger the above problem. I am personally working on &lt;a href=&quot;https://github.com/zsolt-donca/flink-alt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zsolt-donca/flink-alt&lt;/a&gt;, and there is also &lt;a href=&quot;https://github.com/joroKr21/flink-shapeless&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/joroKr21/flink-shapeless&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I prepared a pull request that fixes the issue.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Edit: added a stack trace to help demonstrate the issue.&lt;/p&gt;

&lt;p&gt;2018-06-21 13:08:07.829 &lt;span class=&quot;error&quot;&gt;&amp;#91;today-stats (2/2)&amp;#93;&lt;/span&gt; ERROR org.apache.flink.runtime.taskmanager.Task&#160; - Encountered fatal error java.lang.InternalError - terminating the JVM&lt;br/&gt;
 java.lang.InternalError: Malformed class name&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.lang.Class.getSimpleName(Class.java:1330) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.lang.Class.isAnonymousClass(Class.java:1411) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.util.InstantiationUtil$FailureTolerantObjectInputStream.readClassDescriptor(InstantiationUtil.java:206) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1855) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1749) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2040) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1571) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2285) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2209) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2067) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1571) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2285) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2209) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2067) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1571) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.io.ObjectInputStream.readObject(ObjectInputStream.java:431) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.api.common.typeutils.TypeSerializerSerializationUtil$TypeSerializerSerializationProxy.read(TypeSerializerSerializationUtil.java:375) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.api.common.typeutils.TypeSerializerSerializationUtil.tryReadSerializer(TypeSerializerSerializationUtil.java:110) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.api.common.typeutils.TypeSerializerSerializationUtil.tryReadSerializer(TypeSerializerSerializationUtil.java:83) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.api.common.typeutils.TypeSerializerSerializationUtil.readSerializersAndConfigsWithResilience(TypeSerializerSerializationUtil.java:203) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.state.KeyedBackendSerializationProxy.read(KeyedBackendSerializationProxy.java:138) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.state.heap.HeapKeyedStateBackend.restorePartitionedState(HeapKeyedStateBackend.java:480) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.state.heap.HeapKeyedStateBackend.restore(HeapKeyedStateBackend.java:446) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.createKeyedStateBackend(StreamTask.java:773) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initKeyedState(AbstractStreamOperator.java:282) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:224) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeOperators(StreamTask.java:692) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeState(StreamTask.java:679) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:253) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.taskmanager.Task.run(Task.java:718) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.11-1.4.2.jar:1.4.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.lang.Thread.run(Thread.java:748) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_171&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13168007">FLINK-9654</key>
            <summary>Internal error while deserializing custom Scala TypeSerializer instances</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsolt-donca">Zsolt Donca</assignee>
                                    <reporter username="zsolt-donca">Zsolt Donca</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 25 Jun 2018 10:27:01 +0000</created>
                <updated>Wed, 4 Jul 2018 10:01:15 +0000</updated>
                            <resolved>Wed, 4 Jul 2018 10:00:55 +0000</resolved>
                                    <version>1.5.0</version>
                    <version>1.6.0</version>
                                    <fixVersion>1.5.1</fixVersion>
                    <fixVersion>1.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16522143" author="githubbot" created="Mon, 25 Jun 2018 10:55:49 +0000"  >&lt;p&gt;GitHub user zsolt-donca opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9654&quot; title=&quot;Internal error while deserializing custom Scala TypeSerializer instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9654&quot;&gt;&lt;del&gt;FLINK-9654&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;core&amp;#93;&lt;/span&gt; Changed the check for anonymous classes to avoid InternalError&lt;/p&gt;

&lt;p&gt;    &#8230;SI-2034.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This pull request avoids triggering &lt;span class=&quot;error&quot;&gt;&amp;#91;SI-2034&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.scala-lang.org/browse/SI-2034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.scala-lang.org/browse/SI-2034&lt;/a&gt;) for Scala classes that are defined inside of Scala objects. The issue will be fixed only when Scala is will be officially supported by Java 9, as, after all, it&apos;s fixed in Java 9: &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8057919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8057919&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;    As explained in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9654&quot; title=&quot;Internal error while deserializing custom Scala TypeSerializer instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9654&quot;&gt;&lt;del&gt;FLINK-9654&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9654&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-9654&lt;/a&gt;), whenever there is a custom `TypeSerializer` implementation that, when serialized, has in its object graph a reference to a class that triggers &lt;span class=&quot;error&quot;&gt;&amp;#91;SI-2034&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.scala-lang.org/browse/SI-2034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.scala-lang.org/browse/SI-2034&lt;/a&gt;), it makes the task manager instance fail, potentially bringing down the entire Flink cluster.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;made the classname-related checks happen &lt;b&gt;before&lt;/b&gt; the call to `Class.isAnonymousClass`, after all, there is no reason to call it if we can know it just by looking at the class name;&lt;/li&gt;
	&lt;li&gt;added the check for &quot;$macro$&quot; in the name checks, as, after all, macro-generated classes are always anonymous;&lt;/li&gt;
	&lt;li&gt;wrapped the call to `isAnonymousClass` into a try-catch block, to catch the `InternalError` that the issue might trigger.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This change is a trivial rework / code cleanup without any test coverage.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): no&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? no&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? not applicable&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zsolt-donca/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zsolt-donca/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9654&quot; title=&quot;Internal error while deserializing custom Scala TypeSerializer instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9654&quot;&gt;&lt;del&gt;FLINK-9654&lt;/del&gt;&lt;/a&gt;-internal-error-fix&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #6206&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit fbad06a398fe58f8d312e0ed4dc6bdd31ac65d08&lt;br/&gt;
Author: Zsolt Donca &amp;lt;zsolt.donca@...&amp;gt;&lt;br/&gt;
Date:   2018-06-25T07:43:29Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9654&quot; title=&quot;Internal error while deserializing custom Scala TypeSerializer instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9654&quot;&gt;&lt;del&gt;FLINK-9654&lt;/del&gt;&lt;/a&gt; Changed the way we check if a class is anonymous to avoid SI-2034.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16523382" author="githubbot" created="Tue, 26 Jun 2018 08:07:31 +0000"  >&lt;p&gt;Github user zsolt-donca commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It would be great if somebody could help me understand what went wrong with the tests. I tried running the same tests locally (kafka connector-related tests), but they pass for me. Is this some kind of instability?&lt;/p&gt;</comment>
                            <comment id="16529121" author="githubbot" created="Sun, 1 Jul 2018 14:54:05 +0000"  >&lt;p&gt;Github user yanghua commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    hi @zsolt-donca I have seen the Travis build error log, the failed reason is not because of your code. This PR looks good, but if you can add a test for `isAnonymousClass` method, that would be better.&lt;br/&gt;
    cc @tillrohrmann &lt;/p&gt;</comment>
                            <comment id="16529544" author="githubbot" created="Mon, 2 Jul 2018 08:45:07 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for looking into this @zsolt-donca.&lt;br/&gt;
    The changes looks good to me, but as @yanghua mentioned, a test to cover the previous bug would be nice here and allow the reviewer to understand directly that it is a required fix.&lt;/p&gt;</comment>
                            <comment id="16529715" author="githubbot" created="Mon, 2 Jul 2018 11:10:43 +0000"  >&lt;p&gt;Github user zsolt-donca commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the review! I will update the MR with tests covering the bug.&lt;/p&gt;</comment>
                            <comment id="16531266" author="githubbot" created="Tue, 3 Jul 2018 12:09:45 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zsolt-donca I actually added some test to my branch &lt;a href=&quot;https://github.com/tillrohrmann/flink/commits/FLINK-9654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink/commits/FLINK-9654&lt;/a&gt;. If this should cover your fix, then I could merge your PR with this test. What do you think?&lt;/p&gt;</comment>
                            <comment id="16531493" author="githubbot" created="Tue, 3 Jul 2018 14:40:53 +0000"  >&lt;p&gt;Github user zsolt-donca commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @tillrohrmann looks good to me. The class `Foo.Bar.Foobar` should trigger the issue. Thanks for writing the test!&lt;/p&gt;</comment>
                            <comment id="16532309" author="githubbot" created="Wed, 4 Jul 2018 06:21:57 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Glad to hear. Then I will merge your PR with this test. Thanks for fixing this problem @zsolt-donca.&lt;/p&gt;</comment>
                            <comment id="16532564" author="till.rohrmann" created="Wed, 4 Jul 2018 10:00:55 +0000"  >&lt;p&gt;Fixed via&lt;br/&gt;
1.6.0:&lt;br/&gt;
7ca0fd783eb2ec01a0011eb891db75d998d635f4&lt;br/&gt;
82e6f737787314aa02a08aa2f45bed2989d71c43&lt;/p&gt;

&lt;p&gt;1.5.1:&lt;br/&gt;
9304a0bdeba8eeddb6aaf1474ae3fb931b861767&lt;br/&gt;
ce1510d6cb14053b4754bd1bf8644ef14b6402da&lt;/p&gt;</comment>
                            <comment id="16532565" author="githubbot" created="Wed, 4 Jul 2018 10:01:15 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6206&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3v6tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>