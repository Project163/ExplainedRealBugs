<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:27:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-5650] Flink-python tests executing cost too long time</title>
                <link>https://issues.apache.org/jira/browse/FLINK-5650</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When execute `mvn clean test` in flink-python, it will wait more than half hour after the console output below:&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.flink.python.api.PythonPlanBinderTest&lt;br/&gt;
log4j:WARN No appenders could be found for logger (org.apache.flink.python.api.PythonPlanBinderTest).&lt;br/&gt;
log4j:WARN Please initialize the log4j system properly.&lt;br/&gt;
log4j:WARN See &lt;a href=&quot;http://logging.apache.org/log4j/1.2/faq.html#noconfig&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logging.apache.org/log4j/1.2/faq.html#noconfig&lt;/a&gt; for more info.&lt;/p&gt;



&lt;p&gt;The stack below:&lt;br/&gt;
&quot;main&quot; prio=5 tid=0x00007f8d7780b800 nid=0x1c03 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000700009fd8000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (sleeping)&lt;br/&gt;
	at java.lang.Thread.sleep(Native Method)&lt;br/&gt;
	at org.apache.flink.python.api.streaming.plan.PythonPlanStreamer.startPython(PythonPlanStreamer.java:70)&lt;br/&gt;
	at org.apache.flink.python.api.streaming.plan.PythonPlanStreamer.open(PythonPlanStreamer.java:50)&lt;br/&gt;
	at org.apache.flink.python.api.PythonPlanBinder.startPython(PythonPlanBinder.java:211)&lt;br/&gt;
	at org.apache.flink.python.api.PythonPlanBinder.runPlan(PythonPlanBinder.java:141)&lt;br/&gt;
	at org.apache.flink.python.api.PythonPlanBinder.main(PythonPlanBinder.java:114)&lt;br/&gt;
	at org.apache.flink.python.api.PythonPlanBinderTest.testProgram(PythonPlanBinderTest.java:83)&lt;br/&gt;
	at org.apache.flink.test.util.JavaProgramTestBase.testJobWithoutObjectReuse(JavaProgramTestBase.java:174)&lt;/p&gt;

&lt;p&gt;this is the jstack:&lt;br/&gt;
&lt;a href=&quot;https://gist.github.com/shijinkui/af47e8bc6c9f748336bf52efd3df94b0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/shijinkui/af47e8bc6c9f748336bf52efd3df94b0&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13038044">FLINK-5650</key>
            <summary>Flink-python tests executing cost too long time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="shijinkui">shijinkui</reporter>
                        <labels>
                            <label>osx</label>
                    </labels>
                <created>Thu, 26 Jan 2017 07:43:18 +0000</created>
                <updated>Wed, 2 Oct 2019 17:48:06 +0000</updated>
                            <resolved>Fri, 17 Mar 2017 07:05:05 +0000</resolved>
                                    <version>1.2.0</version>
                    <version>1.3.0</version>
                                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>API / Python</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15925824" author="shijinkui" created="Wed, 15 Mar 2017 09:58:12 +0000"  >&lt;p&gt;Now I have to excute `mvn clean test -pl &apos;!flink-libraries/flink-python&apos;` to exclude flink-python module.&lt;/p&gt;</comment>
                            <comment id="15925833" author="shijinkui" created="Wed, 15 Mar 2017 10:07:37 +0000"  >&lt;p&gt;Also we can make PythonPlanStreamer support async executing in the thread pool, instead of blocked single process. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think such bad design unit test shouldn&apos;t be merge into the code base.&lt;/p&gt;</comment>
                            <comment id="15925943" author="zentol" created="Wed, 15 Mar 2017 11:26:19 +0000"  >&lt;p&gt;This got very little to do with test design; the python tests are actually integration tests that simply run jobs like they would normally be run. The connection must be established synchronously as otherwise you cannot fulfill the purpose of open(); instantiate all resources that are required to do the data processing.&lt;/p&gt;

&lt;p&gt;We can however add a timeout to prevent it from being active for too long.&lt;/p&gt;

&lt;p&gt;Nevertheless i would like to know why the python process doesn&apos;t connect, since it does start up properly.&lt;/p&gt;
</comment>
                            <comment id="15926433" author="zentol" created="Wed, 15 Mar 2017 16:08:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shijinkui&quot; class=&quot;user-hover&quot; rel=&quot;shijinkui&quot;&gt;shijinkui&lt;/a&gt; Could you check out this branch, run the tests in flink-python and report back? &lt;a href=&quot;https://github.com/zentol/flink/tree/5650_python_test_debug&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink/tree/5650_python_test_debug&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15927543" author="shijinkui" created="Thu, 16 Mar 2017 06:00:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, Your PR can work. flink-python UT cost one min. Very good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 01:09 min&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: 2017-03-16T13:57:12+08:00&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 22M/268M&lt;/p&gt;</comment>
                            <comment id="15929506" author="zentol" created="Fri, 17 Mar 2017 07:05:05 +0000"  >&lt;p&gt;1.2: edd1065c73f3600929b1f731bc0b66255a56d26d&lt;br/&gt;
1.3: c2bb5de6faeb314bd8cdb8c279a5cd9bfb4df059&lt;/p&gt;</comment>
                            <comment id="15929946" author="shijinkui" created="Fri, 17 Mar 2017 13:13:34 +0000"  >&lt;p&gt;Good job, Thanks.&lt;/p&gt;</comment>
                            <comment id="15932953" author="till.rohrmann" created="Mon, 20 Mar 2017 16:21:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, I think the encouraged way is to open a PR instead of linking private branches which are no longer accessible.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13027820">FLINK-5331</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i398bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>