<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:19:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-33641] JUnit5 fails to delete a directory on AZP for various table-planner tests</title>
                <link>https://issues.apache.org/jira/browse/FLINK-33641</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;this build &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54856&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=11289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54856&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=11289&lt;/a&gt;&lt;br/&gt;
fails with &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Nov 24 02:21:53 	Suppressed: java.nio.file.DirectoryNotEmptyException: /tmp/junit1727687356898183357/junit4798298549994985259/1ac07a5866d81240870d5a2982531508
Nov 24 02:21:53 		at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)
Nov 24 02:21:53 		at sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)
Nov 24 02:21:53 		at java.nio.file.Files.delete(Files.java:1126)
Nov 24 02:21:53 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.deleteAndContinue(TempDirectory.java:293)
Nov 24 02:21:53 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.postVisitDirectory(TempDirectory.java:288)
Nov 24 02:21:53 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.postVisitDirectory(TempDirectory.java:264)
Nov 24 02:21:53 		at java.nio.file.Files.walkFileTree(Files.java:2688)
Nov 24 02:21:53 		at java.nio.file.Files.walkFileTree(Files.java:2742)
Nov 24 02:21:53 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.deleteAllFilesAndDirectories(TempDirectory.java:264)
Nov 24 02:21:53 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.close(TempDirectory.java:249)
Nov 24 02:21:53 		... 92 more

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;not sure however this might be related to recent JUnit4 =&amp;gt; JUnit5 upgrade&lt;/p&gt;</description>
                <environment></environment>
        <key id="13559324">FLINK-33641</key>
            <summary>JUnit5 fails to delete a directory on AZP for various table-planner tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jiabao.sun">jiabao.sun</assignee>
                                    <reporter username="Sergey Nuyanzin">Sergey Nuyanzin</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Fri, 24 Nov 2023 11:20:44 +0000</created>
                <updated>Wed, 20 Dec 2023 17:42:41 +0000</updated>
                            <resolved>Wed, 20 Dec 2023 17:42:41 +0000</resolved>
                                    <version>1.19.0</version>
                                    <fixVersion>1.19.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17789639" author="jiabao.sun" created="Sat, 25 Nov 2023 09:37:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54898&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54898&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17789640" author="jiabao.sun" created="Sat, 25 Nov 2023 09:40:16 +0000"  >&lt;p&gt;Seems TempDirectory#deleteAllFilesAndDirectories does not support recursive deletion.&lt;br/&gt;
We can change the StreamingWithStateTestBase#before method to prevent creating subdirectories.&lt;/p&gt;</comment>
                            <comment id="17789648" author="sergey nuyanzin" created="Sat, 25 Nov 2023 09:53:31 +0000"  >&lt;p&gt;couldn&apos;t it be the case that tempdir is shared between tests and one test is writing somewhere in that dir while another one trying do perform delete operation?&lt;/p&gt;

&lt;p&gt;I tend to think that it is not&#160; a problem with recursive removal otherwise in case it is a problem with recursive removal it could be reproduced always and not once per 5-10 ci runs&lt;/p&gt;</comment>
                            <comment id="17789652" author="jiabao.sun" created="Sat, 25 Nov 2023 10:25:49 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sergey+Nuyanzin&quot; class=&quot;user-hover&quot; rel=&quot;Sergey Nuyanzin&quot;&gt;Sergey Nuyanzin&lt;/a&gt; for your reminder, this problem may need to continue to investigate.&lt;/p&gt;</comment>
                            <comment id="17790938" author="sergey nuyanzin" created="Wed, 29 Nov 2023 07:20:55 +0000"  >&lt;p&gt;same case with another test &lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55012&amp;amp;view=logs&amp;amp;j=de826397-1924-5900-0034-51895f69d4b7&amp;amp;t=f311e913-93a2-5a37-acab-4a63e1328f94&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55012&amp;amp;view=logs&amp;amp;j=de826397-1924-5900-0034-51895f69d4b7&amp;amp;t=f311e913-93a2-5a37-acab-4a63e1328f94&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17790959" author="mapohl" created="Wed, 29 Nov 2023 07:59:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30132&quot; title=&quot;Test LocalRecoveryITCase#testRecoverLocallyFromProcessCrashWithWorkingDirectory failed on azure due to File not exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30132&quot;&gt;&lt;del&gt;FLINK-30132&lt;/del&gt;&lt;/a&gt; seems to cover the same topic. I closed &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30132&quot; title=&quot;Test LocalRecoveryITCase#testRecoverLocallyFromProcessCrashWithWorkingDirectory failed on azure due to File not exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30132&quot;&gt;&lt;del&gt;FLINK-30132&lt;/del&gt;&lt;/a&gt; in favor of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-33641&quot; title=&quot;JUnit5 fails to delete a directory on AZP for various table-planner tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-33641&quot;&gt;&lt;del&gt;FLINK-33641&lt;/del&gt;&lt;/a&gt; because here&apos;s more discussion going on already. The test failures reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30132&quot; title=&quot;Test LocalRecoveryITCase#testRecoverLocallyFromProcessCrashWithWorkingDirectory failed on azure due to File not exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30132&quot;&gt;&lt;del&gt;FLINK-30132&lt;/del&gt;&lt;/a&gt; are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;LocalRecoveryITCase#testRecoverLocallyFromProcessCrashWithWorkingDirectory (&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=43366&amp;amp;view=logs&amp;amp;j=a57e0635-3fad-5b08-57c7-a4142d7d6fa9&amp;amp;t=2ef0effc-1da1-50e5-c2bd-aab434b1c5b7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;already-wiped-out build&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;JoinITCase.testLeftOuterJoin (&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=54925&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&amp;amp;l=11391&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;related 1.19 build&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17791590" author="sergey nuyanzin" created="Thu, 30 Nov 2023 11:36:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55042&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&amp;amp;l=11999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55042&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&amp;amp;l=11999&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17791591" author="sergey nuyanzin" created="Thu, 30 Nov 2023 11:37:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55042&amp;amp;view=logs&amp;amp;j=32715a4c-21b8-59a3-4171-744e5ab107eb&amp;amp;t=ff64056b-5320-5afe-c22c-6fa339e59586&amp;amp;l=11778&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55042&amp;amp;view=logs&amp;amp;j=32715a4c-21b8-59a3-4171-744e5ab107eb&amp;amp;t=ff64056b-5320-5afe-c22c-6fa339e59586&amp;amp;l=11778&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17791712" author="jiabao.sun" created="Thu, 30 Nov 2023 16:55:06 +0000"  >&lt;p&gt;I found a similar issue in the JUnit community.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/junit-team/junit5/issues/2811#issuecomment-1703476137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/junit-team/junit5/issues/2811#issuecomment-1703476137&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;If a file is still open during TempDirectory.close(), deleteAndContinue() will succeed during the walk, but the held file will remain in the directory, merely marked for deletion. Then the subsequent delete() of the dir will fail.

So when TempDirectory hits this problem, it&apos;s likely that something involved in the test is still holding a handle to some file in the dir.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17794235" author="mapohl" created="Thu, 7 Dec 2023 14:25:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55146&amp;amp;view=logs&amp;amp;j=26b84117-e436-5720-913e-3e280ce55cae&amp;amp;t=77cc7e77-39a0-5007-6d65-4137ac13a471&amp;amp;l=11857&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55146&amp;amp;view=logs&amp;amp;j=26b84117-e436-5720-913e-3e280ce55cae&amp;amp;t=77cc7e77-39a0-5007-6d65-4137ac13a471&amp;amp;l=11857&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 Dec 03 01:19:24 01:19:24.311 [ERROR] Tests run: 337, Failures: 0, Errors: 1, Skipped: 1, Time elapsed: 201.007 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.table.planner.runtime.stream.sql.AggregateITCase
Dec 03 01:19:24 01:19:24.311 [ERROR] org.apache.flink.table.planner.runtime.stream.sql.AggregateITCase.testPojoField  Time elapsed: 0.37 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
Dec 03 01:19:24 java.io.IOException: Failed to delete temp directory /tmp/junit5892046034617387805. The following paths could not be deleted (see suppressed exceptions &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details): , 78d09796046c6a48aad962a2efde7d8b
Dec 03 01:19:24 	at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.createIOExceptionWithAttachedFailures(TempDirectory.java:350)
Dec 03 01:19:24 	at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.close(TempDirectory.java:251)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$3(ExtensionValuesStore.java:68)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
Dec 03 01:19:24 	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
Dec 03 01:19:24 	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395)
Dec 03 01:19:24 	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
Dec 03 01:19:24 	at org.junit.jupiter.engine.execution.ExtensionValuesStore.closeAllStoredCloseableValues(ExtensionValuesStore.java:68)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.AbstractExtensionContext.close(AbstractExtensionContext.java:80)
Dec 03 01:19:24 	at org.junit.jupiter.engine.execution.JupiterEngineExecutionContext.close(JupiterEngineExecutionContext.java:53)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.cleanUp(JupiterTestDescriptor.java:222)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$cleanUp$1(TestMethodTestDescriptor.java:155)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:155)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:68)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$10(NodeTestTask.java:167)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:167)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:98)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.submit(ForkJoinPoolHierarchicalTestExecutorService.java:118)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:142)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:110)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
Dec 03 01:19:24 	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
Dec 03 01:19:24 	at scala.collection.convert.Wrappers$IteratorWrapper.forEachRemaining(Wrappers.scala:31)
Dec 03 01:19:24 	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)
Dec 03 01:19:24 	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
Dec 03 01:19:24 	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
Dec 03 01:19:24 	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
Dec 03 01:19:24 	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:110)
Dec 03 01:19:24 	at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:44)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.executeNonConcurrentTasks(ForkJoinPoolHierarchicalTestExecutorService.java:155)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:135)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:129)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
Dec 03 01:19:24 	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)
Dec 03 01:19:24 	at java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:194)
Dec 03 01:19:24 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
Dec 03 01:19:24 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)
Dec 03 01:19:24 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)
Dec 03 01:19:24 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)
Dec 03 01:19:24 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
Dec 03 01:19:24 	Suppressed: java.nio.file.DirectoryNotEmptyException: /tmp/junit5892046034617387805
Dec 03 01:19:24 		at java.base/sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:289)
Dec 03 01:19:24 		at java.base/sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:104)
Dec 03 01:19:24 		at java.base/java.nio.file.Files.delete(Files.java:1152)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.deleteAndContinue(TempDirectory.java:293)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.postVisitDirectory(TempDirectory.java:288)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.postVisitDirectory(TempDirectory.java:264)
Dec 03 01:19:24 		at java.base/java.nio.file.Files.walkFileTree(Files.java:2803)
Dec 03 01:19:24 		at java.base/java.nio.file.Files.walkFileTree(Files.java:2857)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.deleteAllFilesAndDirectories(TempDirectory.java:264)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.close(TempDirectory.java:249)
Dec 03 01:19:24 		... 93 more
Dec 03 01:19:24 	Suppressed: java.nio.file.DirectoryNotEmptyException: /tmp/junit5892046034617387805/78d09796046c6a48aad962a2efde7d8b
Dec 03 01:19:24 		at java.base/sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:289)
Dec 03 01:19:24 		at java.base/sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:104)
Dec 03 01:19:24 		at java.base/java.nio.file.Files.delete(Files.java:1152)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.deleteAndContinue(TempDirectory.java:293)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.postVisitDirectory(TempDirectory.java:288)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath$1.postVisitDirectory(TempDirectory.java:264)
Dec 03 01:19:24 		at java.base/java.nio.file.Files.walkFileTree(Files.java:2803)
Dec 03 01:19:24 		at java.base/java.nio.file.Files.walkFileTree(Files.java:2857)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.deleteAllFilesAndDirectories(TempDirectory.java:264)
Dec 03 01:19:24 		at org.junit.jupiter.engine.extension.TempDirectory$CloseablePath.close(TempDirectory.java:249)
Dec 03 01:19:24 		... 93 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The same workflow run but separate stage had the same issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55146&amp;amp;view=logs&amp;amp;j=f2c100be-250b-5e85-7bbe-176f68fcddc5&amp;amp;t=05efd11e-5400-54a4-0d27-a4663be008a9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55146&amp;amp;view=logs&amp;amp;j=f2c100be-250b-5e85-7bbe-176f68fcddc5&amp;amp;t=05efd11e-5400-54a4-0d27-a4663be008a9&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17794240" author="mapohl" created="Thu, 7 Dec 2023 14:30:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55160&amp;amp;view=logs&amp;amp;j=26b84117-e436-5720-913e-3e280ce55cae&amp;amp;t=77cc7e77-39a0-5007-6d65-4137ac13a471&amp;amp;l=11361&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55160&amp;amp;view=logs&amp;amp;j=26b84117-e436-5720-913e-3e280ce55cae&amp;amp;t=77cc7e77-39a0-5007-6d65-4137ac13a471&amp;amp;l=11361&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17794242" author="mapohl" created="Thu, 7 Dec 2023 14:33:06 +0000"  >&lt;p&gt;JoinITCase.testInnerJoinWithDuplicateKey &amp;amp; WindowAggregateITCase:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55189&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55189&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17794247" author="mapohl" created="Thu, 7 Dec 2023 14:38:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55253&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=11732&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55253&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=11732&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17795401" author="mapohl" created="Mon, 11 Dec 2023 14:51:28 +0000"  >&lt;p&gt;&lt;tt&gt;WindowDistinctAggregateITCase&lt;/tt&gt;: &lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7167579892/job/19514311693#step:12:11835&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7167579892/job/19514311693#step:12:11835&lt;/a&gt; (GHA workflow for &lt;a href=&quot;https://cwiki.apache.org/confluence/display/FLINK/FLIP-396%3A+Trial+to+test+GitHub+Actions+as+an+alternative+for+Flink&amp;#39;s+current+Azure+CI+infrastructure&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;FLIP-396&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-27075&quot; title=&quot;Migrate CI from Azure to Github Actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-27075&quot;&gt;FLINK-27075&lt;/a&gt; work)&lt;/p&gt;</comment>
                            <comment id="17795701" author="mapohl" created="Tue, 12 Dec 2023 11:55:08 +0000"  >&lt;p&gt;LimitITCase: &lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7172788948/job/19531081853#step:12:11583&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7172788948/job/19531081853#step:12:11583&lt;/a&gt; (GHA workflow for FLIP-396/&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-27075&quot; title=&quot;Migrate CI from Azure to Github Actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-27075&quot;&gt;FLINK-27075&lt;/a&gt; work)&lt;/p&gt;</comment>
                            <comment id="17795705" author="mapohl" created="Tue, 12 Dec 2023 12:00:55 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;AggregateITCase&lt;/tt&gt;: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55420&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=11399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55420&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=11399&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17795706" author="mapohl" created="Tue, 12 Dec 2023 12:03:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln&quot; class=&quot;user-hover&quot; rel=&quot;lincoln&quot;&gt;lincoln&lt;/a&gt; (because you were assigned in &lt;a href=&quot;https://cwiki.apache.org/confluence/display/FLINK/1.19+Release#id-1.19Release-12/12/2023&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;today&apos;s 1.19 release call&lt;/a&gt; to look into existing blocker issues): this is popping up in numerous places. Do we have someone who can look into it? &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiabao.sun&quot; class=&quot;user-hover&quot; rel=&quot;jiabao.sun&quot;&gt;jiabao.sun&lt;/a&gt; do you have capacity to look into it further?&lt;/p&gt;</comment>
                            <comment id="17795709" author="mapohl" created="Tue, 12 Dec 2023 12:08:23 +0000"  >&lt;p&gt;RankITCase.testTopNWithoutRowNumber: &lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7176084685/job/19540635669#step:12:11545&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7176084685/job/19540635669#step:12:11545&lt;/a&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-27075&quot; title=&quot;Migrate CI from Azure to Github Actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-27075&quot;&gt;FLINK-27075&lt;/a&gt; GHA workflow)&lt;/p&gt;</comment>
                            <comment id="17795725" author="lincoln.86xy" created="Tue, 12 Dec 2023 12:48:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; Of course, I&apos;ll track this issue. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiabao.sun&quot; class=&quot;user-hover&quot; rel=&quot;jiabao.sun&quot;&gt;jiabao.sun&lt;/a&gt; Any updates from your side&#65311;&lt;/p&gt;</comment>
                            <comment id="17795749" author="jiabao.sun" created="Tue, 12 Dec 2023 13:34:41 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt;, sorry for the late reply.&lt;br/&gt;
This problem is difficult to reproduce locally. &lt;br/&gt;
I guess it is RocksDBBackend still writing data asynchronous when cleaning up the temporary directory.&lt;br/&gt;
Can we use Junit5&apos;s TestExcutionExceptionHandler to ignore this IOException until we find the root cause?&lt;/p&gt;</comment>
                            <comment id="17795782" author="jiabao.sun" created="Tue, 12 Dec 2023 14:27:12 +0000"  >&lt;p&gt;Sorry, TestExcutionExceptionHandler cannot capture the Exception thrown by CloseableResource.&lt;br/&gt;
I will continue to try. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln.86xy&quot; class=&quot;user-hover&quot; rel=&quot;lincoln.86xy&quot;&gt;lincoln.86xy&lt;/a&gt;, please help assist in the investigation.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="17795804" author="lincoln.86xy" created="Tue, 12 Dec 2023 15:11:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiabao.sun&quot; class=&quot;user-hover&quot; rel=&quot;jiabao.sun&quot;&gt;jiabao.sun&lt;/a&gt; Has this problem ever been reproduced by you in your local environment(and what&apos;s your local os, macos/linux/windows)?&lt;br/&gt;
I see the possible related issue which you mentioned above (&lt;a href=&quot;https://github.com/junit-team/junit5/issues/2811#issuecomment-1703476137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/junit-team/junit5/issues/2811#issuecomment-1703476137&lt;/a&gt;) pointed to windows os only, if this is the problem, I think we first need a windows environment to try to reproduce it and find out exactly what triggers it, then we can look for a solution to it, WDYT?&lt;/p&gt;</comment>
                            <comment id="17795816" author="jiabao.sun" created="Tue, 12 Dec 2023 15:21:52 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln.86xy&quot; class=&quot;user-hover&quot; rel=&quot;lincoln.86xy&quot;&gt;lincoln.86xy&lt;/a&gt;.&lt;br/&gt;
This problem has never been reproduced locally(macos).&lt;br/&gt;
It was surprising that the mentioned failure occurred in the CI environment running on Linux.&lt;/p&gt;

&lt;p&gt;I tried to set a breakpoint at TempDirectory:293:fileOperations.delete(path), and encountered this error when wrote some new files before deleting the folder. Therefore, I suspect that there might be another thread writing to the TempDirectory while it is being cleared.&lt;/p&gt;
</comment>
                            <comment id="17795829" author="mapohl" created="Tue, 12 Dec 2023 16:01:55 +0000"  >&lt;p&gt;It looks like it&apos;s more frequently appearing in the GitHub Actions infrastructure (&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-27075&quot; title=&quot;Migrate CI from Azure to Github Actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-27075&quot;&gt;FLINK-27075&lt;/a&gt;; e.g. the &lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7178593131/job/19547405107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;most-recent run&lt;/a&gt;). Maybe, that helps to investigate it? ...by using the GitHub Actions workflow to debug the issue. ...just as another idea.&lt;/p&gt;</comment>
                            <comment id="17795830" author="jiabao.sun" created="Tue, 12 Dec 2023 16:03:34 +0000"  >&lt;p&gt;I submitted a PR that manually creates a temporary folder and manually deletes it after each test to suppress the DirectoryNotEmptyException.&lt;br/&gt;
This is a temporary solution that we can avoid test failures until we find the root cause.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln.86xy&quot; class=&quot;user-hover&quot; rel=&quot;lincoln.86xy&quot;&gt;lincoln.86xy&lt;/a&gt;, WDYT?&lt;/p&gt;</comment>
                            <comment id="17795850" author="mapohl" created="Tue, 12 Dec 2023 16:57:01 +0000"  >&lt;p&gt;Thanks for the proposal. I looked into it a bit more and responded in the PR &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17796611" author="mapohl" created="Thu, 14 Dec 2023 08:28:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55496&amp;amp;view=logs&amp;amp;j=26b84117-e436-5720-913e-3e280ce55cae&amp;amp;t=77cc7e77-39a0-5007-6d65-4137ac13a471&amp;amp;l=11707&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=55496&amp;amp;view=logs&amp;amp;j=26b84117-e436-5720-913e-3e280ce55cae&amp;amp;t=77cc7e77-39a0-5007-6d65-4137ac13a471&amp;amp;l=11707&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17796637" author="mapohl" created="Thu, 14 Dec 2023 09:31:30 +0000"  >&lt;p&gt;master: &lt;a href=&quot;https://github.com/apache/flink/commit/b2b8323ccd931be85dbaa6542552c26e6a29a105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;b2b8323ccd931be85dbaa6542552c26e6a29a105&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17798931" author="mapohl" created="Wed, 20 Dec 2023 11:33:36 +0000"  >&lt;p&gt;We experience the issue still. The follow GitHub Actions workflows included the fix above:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7267597869/job/19802079134#step:12:11646&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7267597869/job/19802079134#step:12:11646&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/XComp/flink/actions/runs/7246692424/job/19739487910#step:12:11634&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/XComp/flink/actions/runs/7246692424/job/19739487910#step:12:11634&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The workflow is based on 1cf27ff26332e5b3bf2fba4f749dac1805af72de which has b2b8323ccd931be85dbaa6542552c26e6a29a105 included:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ git log 1cf27ff26332e5b3bf2fba4f749dac1805af72de | grep b2b8323ccd931be85dbaa6542552c26e6a29a105
commit b2b8323ccd931be85dbaa6542552c26e6a29a105&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17799011" author="jiabao.sun" created="Wed, 20 Dec 2023 13:31:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt;, please take a look at this PR &lt;a href=&quot;https://github.com/apache/flink/pull/23917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/23917&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In the previous fix, I think we shouldn&apos;t reuse the tempFolder to create a new temporary folder.&lt;br/&gt;
Although we clean up the newly created directory during the &quot;after&quot; method, it is still possible for the checkpoint thread to continue writing, resulting in the failure of JUnit5 TemporaryFolder cleanup.&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/flink/pull/23917#discussion_r1428188735&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/23917#discussion_r1428188735&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think this problem was fixed by 23917, so could you help include the commit ac88acfbb1b4ebf7336e9a20e0b6d0b0fe32be51 and try it again?&lt;/p&gt;</comment>
                            <comment id="17799113" author="mapohl" created="Wed, 20 Dec 2023 17:40:53 +0000"  >&lt;p&gt;Thanks for the point, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiabao.sun&quot; class=&quot;user-hover&quot; rel=&quot;jiabao.sun&quot;&gt;jiabao.sun&lt;/a&gt; . I will update my GHA test branch to include ac88acfbb1b4ebf7336e9a20e0b6d0b0fe32be51. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m gonna close the issue again in the meantime.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13505228">FLINK-30132</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13559281">FLINK-33637</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13562448">FLINK-33900</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310760">
                    <name>Testing</name>
                                            <outwardlinks description="Testing discovered">
                                        <issuelink>
            <issuekey id="13561803">FLINK-33820</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ltxc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>