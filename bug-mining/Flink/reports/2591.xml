<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:34:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-10107] SQL Client end-to-end test fails for releases</title>
                <link>https://issues.apache.org/jira/browse/FLINK-10107</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;It seems that SQL JARs for Kafka 0.10 and Kafka 0.9 have conflicts that only occur for releases and not SNAPSHOT builds. This might be due to their file name. Depending on the file name either 0.9 is loaded before 0.10 and vice versa.&lt;/p&gt;

&lt;p&gt;One of the following errors occured:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2018-08-08 18:28:51,636 ERROR org.apache.flink.kafka09.shaded.org.apache.kafka.clients.ClientUtils  - Failed to close coordinator
java.lang.NoClassDefFoundError: org/apache/flink/kafka09/shaded/org/apache/kafka/common/requests/OffsetCommitResponse
    at org.apache.flink.kafka09.shaded.org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:473)
    at org.apache.flink.kafka09.shaded.org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:357)
    at org.apache.flink.kafka09.shaded.org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.maybeAutoCommitOffsetsSync(ConsumerCoordinator.java:439)
    at org.apache.flink.kafka09.shaded.org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.close(ConsumerCoordinator.java:319)
    at org.apache.flink.kafka09.shaded.org.apache.kafka.clients.ClientUtils.closeQuietly(ClientUtils.java:63)
    at org.apache.flink.kafka09.shaded.org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1277)
    at org.apache.flink.kafka09.shaded.org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1258)
    at org.apache.flink.streaming.connectors.kafka.internal.KafkaConsumerThread.run(KafkaConsumerThread.java:286)
Caused by: java.lang.ClassNotFoundException: org.apache.flink.kafka09.shaded.org.apache.kafka.common.requests.OffsetCommitResponse
    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:424)
    at org.apache.flink.runtime.execution.librarycache.FlinkUserCodeClassLoaders$ChildFirstClassLoader.loadClass(FlinkUserCodeClassLoaders.java:120)
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357)
    ... 8 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NoSuchFieldError: producer
    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer010.invoke(FlinkKafkaProducer010.java:369)
    at org.apache.flink.streaming.api.operators.StreamSink.processElement(StreamSink.java:56)
    at org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:579)
    at org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:554)
    at org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:534)
    at org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:689)
    at org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:667)
    at org.apache.flink.streaming.api.operators.StreamMap.processElement(StreamMap.java:41)
    at org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.pushToOperator(OperatorChain.java:579)
    at org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:554)
    at org.apache.flink.streaming.runtime.tasks.OperatorChain$CopyingChainingOutput.collect(OperatorChain.java:534)
    at org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:689)
    at org.apache.flink.streaming.api.operators.AbstractStreamOperator$CountingOutput.collect(AbstractStreamOperator.java:667)
    at org.apache.flink.streaming.api.operators.TimestampedCollector.collect(TimestampedCollector.java:51)
    at org.apache.flink.table.runtime.CRowWrappingCollector.collect(CRowWrappingCollector.scala:37)
    at org.apache.flink.table.runtime.CRowWrappingCollector.collect(CRowWrappingCollector.scala:28)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13177900">FLINK-10107</key>
            <summary>SQL Client end-to-end test fails for releases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="twalthr">Timo Walther</reporter>
                        <labels>
                            <label>auto-unassigned</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 9 Aug 2018 08:37:39 +0000</created>
                <updated>Thu, 29 Apr 2021 09:45:56 +0000</updated>
                            <resolved>Thu, 29 Apr 2021 09:45:56 +0000</resolved>
                                                                    <component>Table SQL / Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16574512" author="githubbot" created="Thu, 9 Aug 2018 09:00:45 +0000"  >&lt;p&gt;twalthr opened a new pull request #6528: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;e2e&amp;#93;&lt;/span&gt; Exclude conflicting SQL JARs from test&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6528&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6528&lt;/a&gt;&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This is a temporary solution for fixing the SQL Client end-to-end test for releases.&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Do not include conflicting SQL JARs in library folder of test.&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This change is already covered by existing tests.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): no&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (yes / no)&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16574845" author="githubbot" created="Thu, 9 Aug 2018 13:35:05 +0000"  >&lt;p&gt;asfgit closed pull request #6528: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;e2e&amp;#93;&lt;/span&gt; Exclude conflicting SQL JARs from test&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6528&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6528&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/flink-end-to-end-tests/flink-sql-client-test/pom.xml b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
index ec5a0e10360..6e69568939f 100644&lt;br/&gt;
&amp;#8212; a/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
+++ b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
@@ -153,13 +153,14 @@ under the License.&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;br/&gt;
 								&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
+								&amp;lt;!-- This SQL JAR is not used for now to avoid dependency conflicts; see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 									&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
+								&amp;lt;/artifactItem&amp;gt;--&amp;gt;&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
@@ -167,13 +168,14 @@ under the License.&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;br/&gt;
 								&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
+								&amp;lt;!-- This SQL JAR is not used for now to avoid dependency conflicts; see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.11_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 									&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
+								&amp;lt;/artifactItem&amp;gt;--&amp;gt;&lt;br/&gt;
 							&amp;lt;/artifactItems&amp;gt;&lt;br/&gt;
 						&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 					&amp;lt;/execution&amp;gt;&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16574846" author="twalthr" created="Thu, 9 Aug 2018 13:36:22 +0000"  >&lt;p&gt;A temporary fix has been merged which avoids dependency conflicts in the test.&lt;/p&gt;

&lt;p&gt;Fixed in 1.7.0: 764da8183b6dfd0fe00eebe96fb619ca8d096047&lt;br/&gt;
Fixed in 1.6.1: da23c5d3c1e921cd7d2a88b7c0892f17e5d7276f&lt;/p&gt;</comment>
                            <comment id="16575083" author="githubbot" created="Thu, 9 Aug 2018 16:20:58 +0000"  >&lt;p&gt;twalthr opened a new pull request #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534&lt;/a&gt;&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This PR enforces even more shading for SQL JARs than before. In the past, we only shaded Kafka dependencies. However, since Flink&apos;s Kafka connectors mutually depend on each other and do not use version-specific package names (e.g. for Elasticsearch we use `elasticsearch2`, `elasticsearch3`, etc.). This is the only way of avoiding dependency conflicts between different Kafka SQL JARs. The end-to-end tests has been extended to detect classloading issues in builds.&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add more relocation to Flink&apos;s Kafka SQL JARs&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   SQL Client end-to-end tests has been adapted to detect classloading issues earlier.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): yes, but only for SQL JARs&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? no&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? not applicable&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16575084" author="githubbot" created="Thu, 9 Aug 2018 16:21:11 +0000"  >&lt;p&gt;twalthr commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-411815540&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-411815540&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   CC @zentol &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16575086" author="githubbot" created="Thu, 9 Aug 2018 16:21:26 +0000"  >&lt;p&gt;twalthr commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-411815618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-411815618&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   CC @fhueske &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16575760" author="githubbot" created="Fri, 10 Aug 2018 05:21:10 +0000"  >&lt;p&gt;zentol commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-411978270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-411978270&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I don&apos;t understand the goal here. Are we actually trying to support multiple different kafka connector versions being used at once?&lt;br/&gt;
   IF there is a use-case for that (which i doubt), why are we restricting this to SQL?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16575881" author="githubbot" created="Fri, 10 Aug 2018 07:32:44 +0000"  >&lt;p&gt;twalthr commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-412001055&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-412001055&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @zentol The goal of SQL jars was to provide ready-to-use libraries that could be added on a drag and drop basis. We do not need to support multiple Kafka versions. Even though I can image ETL cases where you might want to read from a global Kafka storage (maybe using an old version) to a testing storage (maybe using a newer version).&lt;/p&gt;

&lt;p&gt;   This PR tries to solve the problem of having SQL jars that interfere with each other. The root cause of this is actually our current dependency structure for Kafka connectors. We have a Kafka-base but actually depend on the previous versions. After sleeping a night over this PR, I think we cannot merge this because we expose FlinkKafkaPartitioner which is also relocated now.&lt;/p&gt;

&lt;p&gt;   A perfect solution would be:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Move version-specific Kafka code into version-specific packages (e.g. o.a.f.kafka10)&lt;/li&gt;
	&lt;li&gt;Move version-agnostic Kafka code into a common package (e.g. o.a.f.kafka)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16577904" author="githubbot" created="Mon, 13 Aug 2018 07:20:30 +0000"  >&lt;p&gt;zentol commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-412429668&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-412429668&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &amp;gt; This PR tries to solve the problem of having SQL jars that interfere with each other.&lt;br/&gt;
   If it&apos;s not between different kafka jars, which jars are actually affected by this?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16577905" author="githubbot" created="Mon, 13 Aug 2018 07:20:38 +0000"  >&lt;p&gt;zentol edited a comment on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-412429668&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-412429668&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &amp;gt; This PR tries to solve the problem of having SQL jars that interfere with each other.&lt;/p&gt;

&lt;p&gt;   If it&apos;s not between different kafka jars, which jars are actually affected by this?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16578231" author="githubbot" created="Mon, 13 Aug 2018 12:41:47 +0000"  >&lt;p&gt;twalthr commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-412504536&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-412504536&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Currently, only the Kafka JARs are affected. The format JARs have their own namespaces.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16578246" author="githubbot" created="Mon, 13 Aug 2018 12:57:25 +0000"  >&lt;p&gt;zentol commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-412508686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-412508686&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   so, given that we do not care about situations where multiple connectors are on the CP (as concluded in previous comments), this means that this also affects a single kafka-connector jar in isolation? I.e. this *&lt;b&gt;not&lt;/b&gt;* being a class between *&lt;b&gt;jars&lt;/b&gt;*?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16578247" author="githubbot" created="Mon, 13 Aug 2018 12:57:34 +0000"  >&lt;p&gt;zentol edited a comment on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-412508686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-412508686&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   so, given that we do not care about situations where multiple connectors are on the CP (as concluded in previous comments), this means that this also affects a single kafka-connector jar in isolation? I.e. this *&lt;b&gt;not&lt;/b&gt;* being a clash between *&lt;b&gt;jars&lt;/b&gt;*?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16665316" author="githubbot" created="Fri, 26 Oct 2018 15:44:32 +0000"  >&lt;p&gt;pnowojski commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-433452599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-433452599&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @twalthr what is the problem here? Do I understand this correctly, that different versions of `flink-kafka-connector`s conflicting with one another if they are used/loaded at the same time? And that&apos;s potential production issue (however a rare use case),  but it&apos;s causing problems in our end-to-end tests?&lt;/p&gt;

&lt;p&gt;   If so why would this help:&lt;/p&gt;

&lt;p&gt;   &amp;gt; A perfect solution would be:&lt;br/&gt;
   &amp;gt;&lt;br/&gt;
   &amp;gt; Move version-specific Kafka code into version-specific packages (e.g. o.a.f.kafka10)&lt;br/&gt;
   &amp;gt; Move version-agnostic Kafka code into a common package (e.g. o.a.f.kafka)&lt;/p&gt;

&lt;p&gt;   ? &lt;/p&gt;

&lt;p&gt;   Isn&apos;t the correct &quot;perfect&quot; solution to load each connector/plugin in a separate independent class loader, isolated from others?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16665319" author="githubbot" created="Fri, 26 Oct 2018 15:45:28 +0000"  >&lt;p&gt;pnowojski commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-433452892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-433452892&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   e&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16665320" author="githubbot" created="Fri, 26 Oct 2018 15:45:29 +0000"  >&lt;p&gt;pnowojski closed pull request #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/flink-connectors/flink-connector-kafka-0.10/pom.xml b/flink-connectors/flink-connector-kafka-0.10/pom.xml&lt;br/&gt;
index 135dc59b655..c7a840caafb 100644&lt;br/&gt;
&amp;#8212; a/flink-connectors/flink-connector-kafka-0.10/pom.xml&lt;br/&gt;
+++ b/flink-connectors/flink-connector-kafka-0.10/pom.xml&lt;br/&gt;
@@ -225,6 +225,7 @@ under the License.&lt;br/&gt;
 								&amp;lt;configuration&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedArtifactAttached&amp;gt;true&amp;lt;/shadedArtifactAttached&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedClassifierName&amp;gt;sql-jar&amp;lt;/shadedClassifierName&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Flink&apos;s Kafka 0.10 connector depends on Flink&apos;s Kafka 0.9 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactSet&amp;gt;&lt;br/&gt;
 										&amp;lt;includes combine.children=&quot;append&quot;&amp;gt;&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.kafka:*&amp;lt;/include&amp;gt;&lt;br/&gt;
@@ -232,6 +233,11 @@ under the License.&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.flink:flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/include&amp;gt;&lt;br/&gt;
 										&amp;lt;/includes&amp;gt;&lt;br/&gt;
 									&amp;lt;/artifactSet&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Update service files for table factories. --&amp;gt;&lt;br/&gt;
+									&amp;lt;transformers&amp;gt;&lt;br/&gt;
+										&amp;lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&amp;gt;&lt;br/&gt;
+									&amp;lt;/transformers&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Remove version-specific resources not needed by Flink&apos;s Kafka 0.10 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;filters&amp;gt;&lt;br/&gt;
 										&amp;lt;filter&amp;gt;&lt;br/&gt;
 											&amp;lt;artifact&amp;gt;&lt;b&gt;:&lt;/b&gt;&amp;lt;/artifact&amp;gt;&lt;br/&gt;
@@ -239,12 +245,23 @@ under the License.&lt;br/&gt;
 												&amp;lt;exclude&amp;gt;kafka/kafka-version.properties&amp;lt;/exclude&amp;gt;&lt;br/&gt;
 											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
 										&amp;lt;/filter&amp;gt;&lt;br/&gt;
+										&amp;lt;filter&amp;gt;&lt;br/&gt;
+											&amp;lt;artifact&amp;gt;org.apache.flink:flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifact&amp;gt;&lt;br/&gt;
+											&amp;lt;excludes&amp;gt;&lt;br/&gt;
+												&amp;lt;exclude&amp;gt;META-INF/services/org.apache.flink.table.factories.TableFactory&amp;lt;/exclude&amp;gt;&lt;br/&gt;
+											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
+										&amp;lt;/filter&amp;gt;&lt;br/&gt;
 									&amp;lt;/filters&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Relocate all version-specific classes. --&amp;gt;&lt;br/&gt;
 									&amp;lt;relocations&amp;gt;&lt;br/&gt;
 										&amp;lt;relocation&amp;gt;&lt;br/&gt;
 											&amp;lt;pattern&amp;gt;org.apache.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
 											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka010.shaded.org.apache.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
 										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
+										&amp;lt;relocation&amp;gt;&lt;br/&gt;
+											&amp;lt;pattern&amp;gt;org.apache.flink.streaming.connectors.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
+											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka010.shaded.org.apache.flink.streaming.connectors.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
 									&amp;lt;/relocations&amp;gt;&lt;br/&gt;
 								&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 							&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-connectors/flink-connector-kafka-0.11/pom.xml b/flink-connectors/flink-connector-kafka-0.11/pom.xml&lt;br/&gt;
index bf04aebb390..c6bf71e8d5a 100644&lt;br/&gt;
&amp;#8212; a/flink-connectors/flink-connector-kafka-0.11/pom.xml&lt;br/&gt;
+++ b/flink-connectors/flink-connector-kafka-0.11/pom.xml&lt;br/&gt;
@@ -234,6 +234,7 @@ under the License.&lt;br/&gt;
 								&amp;lt;configuration&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedArtifactAttached&amp;gt;true&amp;lt;/shadedArtifactAttached&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedClassifierName&amp;gt;sql-jar&amp;lt;/shadedClassifierName&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Flink&apos;s Kafka 0.11 connector depends on Flink&apos;s Kafka 0.9 and 0.10 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactSet&amp;gt;&lt;br/&gt;
 										&amp;lt;includes combine.children=&quot;append&quot;&amp;gt;&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.kafka:*&amp;lt;/include&amp;gt;&lt;br/&gt;
@@ -242,6 +243,11 @@ under the License.&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.flink:flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/include&amp;gt;&lt;br/&gt;
 										&amp;lt;/includes&amp;gt;&lt;br/&gt;
 									&amp;lt;/artifactSet&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Update service files for table factories. --&amp;gt;&lt;br/&gt;
+									&amp;lt;transformers&amp;gt;&lt;br/&gt;
+										&amp;lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&amp;gt;&lt;br/&gt;
+									&amp;lt;/transformers&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Remove version-specific resources not needed by Flink&apos;s Kafka 0.11 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;filters&amp;gt;&lt;br/&gt;
 										&amp;lt;filter&amp;gt;&lt;br/&gt;
 											&amp;lt;artifact&amp;gt;&lt;b&gt;:&lt;/b&gt;&amp;lt;/artifact&amp;gt;&lt;br/&gt;
@@ -249,12 +255,29 @@ under the License.&lt;br/&gt;
 												&amp;lt;exclude&amp;gt;kafka/kafka-version.properties&amp;lt;/exclude&amp;gt;&lt;br/&gt;
 											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
 										&amp;lt;/filter&amp;gt;&lt;br/&gt;
+										&amp;lt;filter&amp;gt;&lt;br/&gt;
+											&amp;lt;artifact&amp;gt;org.apache.flink:flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifact&amp;gt;&lt;br/&gt;
+											&amp;lt;excludes&amp;gt;&lt;br/&gt;
+												&amp;lt;exclude&amp;gt;META-INF/services/org.apache.flink.table.factories.TableFactory&amp;lt;/exclude&amp;gt;&lt;br/&gt;
+											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
+										&amp;lt;/filter&amp;gt;&lt;br/&gt;
+										&amp;lt;filter&amp;gt;&lt;br/&gt;
+											&amp;lt;artifact&amp;gt;org.apache.flink:flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/artifact&amp;gt;&lt;br/&gt;
+											&amp;lt;excludes&amp;gt;&lt;br/&gt;
+												&amp;lt;exclude&amp;gt;META-INF/services/org.apache.flink.table.factories.TableFactory&amp;lt;/exclude&amp;gt;&lt;br/&gt;
+											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
+										&amp;lt;/filter&amp;gt;&lt;br/&gt;
 									&amp;lt;/filters&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Relocate all version-specific classes. --&amp;gt;&lt;br/&gt;
 									&amp;lt;relocations&amp;gt;&lt;br/&gt;
 										&amp;lt;relocation&amp;gt;&lt;br/&gt;
 											&amp;lt;pattern&amp;gt;org.apache.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
 											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka011.shaded.org.apache.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
 										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
+										&amp;lt;relocation&amp;gt;&lt;br/&gt;
+											&amp;lt;pattern&amp;gt;org.apache.flink.streaming.connectors.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
+											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka011.shaded.org.apache.flink.streaming.connectors.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
 									&amp;lt;/relocations&amp;gt;&lt;br/&gt;
 								&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 							&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-connectors/flink-connector-kafka-0.9/pom.xml b/flink-connectors/flink-connector-kafka-0.9/pom.xml&lt;br/&gt;
index 3e0aa46e095..99f40c574af 100644&lt;br/&gt;
&amp;#8212; a/flink-connectors/flink-connector-kafka-0.9/pom.xml&lt;br/&gt;
+++ b/flink-connectors/flink-connector-kafka-0.9/pom.xml&lt;br/&gt;
@@ -219,6 +219,10 @@ under the License.&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.flink:flink-connector-kafka-base_${scala.binary.version}&amp;lt;/include&amp;gt;&lt;br/&gt;
 										&amp;lt;/includes&amp;gt;&lt;br/&gt;
 									&amp;lt;/artifactSet&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Update service files for table factories. --&amp;gt;&lt;br/&gt;
+									&amp;lt;transformers&amp;gt;&lt;br/&gt;
+										&amp;lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&amp;gt;&lt;br/&gt;
+									&amp;lt;/transformers&amp;gt;&lt;br/&gt;
 									&amp;lt;filters&amp;gt;&lt;br/&gt;
 										&amp;lt;filter&amp;gt;&lt;br/&gt;
 											&amp;lt;artifact&amp;gt;&lt;b&gt;:&lt;/b&gt;&amp;lt;/artifact&amp;gt;&lt;br/&gt;
@@ -227,11 +231,16 @@ under the License.&lt;br/&gt;
 											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
 										&amp;lt;/filter&amp;gt;&lt;br/&gt;
 									&amp;lt;/filters&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Relocate all version-specific classes. --&amp;gt;&lt;br/&gt;
 									&amp;lt;relocations&amp;gt;&lt;br/&gt;
 										&amp;lt;relocation&amp;gt;&lt;br/&gt;
 											&amp;lt;pattern&amp;gt;org.apache.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
 											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka09.shaded.org.apache.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
 										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
+										&amp;lt;relocation&amp;gt;&lt;br/&gt;
+											&amp;lt;pattern&amp;gt;org.apache.flink.streaming.connectors.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
+											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka09.shaded.org.apache.flink.streaming.connectors.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
 									&amp;lt;/relocations&amp;gt;&lt;br/&gt;
 								&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 							&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-end-to-end-tests/flink-sql-client-test/pom.xml b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
index 6e69568939f..ec5a0e10360 100644&lt;br/&gt;
&amp;#8212; a/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
+++ b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
@@ -153,14 +153,13 @@ under the License.&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;br/&gt;
 								&amp;lt;/artifactItem&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;!-- This SQL JAR is not used for now to avoid dependency conflicts; see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 									&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/artifactItem&amp;gt;--&amp;gt;&lt;br/&gt;
+								&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
@@ -168,14 +167,13 @@ under the License.&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;br/&gt;
 								&amp;lt;/artifactItem&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;!-- This SQL JAR is not used for now to avoid dependency conflicts; see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.11_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 									&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/artifactItem&amp;gt;--&amp;gt;&lt;br/&gt;
+								&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
 							&amp;lt;/artifactItems&amp;gt;&lt;br/&gt;
 						&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 					&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-end-to-end-tests/test-scripts/test_sql_client.sh b/flink-end-to-end-tests/test-scripts/test_sql_client.sh&lt;br/&gt;
index 934f7d43ed4..ff364a0b6c9 100755
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/flink-end-to-end-tests/test-scripts/test_sql_client.sh&lt;br/&gt;
+++ b/flink-end-to-end-tests/test-scripts/test_sql_client.sh&lt;br/&gt;
@@ -57,6 +57,10 @@ for SQL_JAR in $SQL_JARS_DIR/*.jar; do&lt;br/&gt;
   rm -r $EXTRACTED_JAR/*&lt;br/&gt;
 done&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+# randomize JAR list for detecting classloading issues due to JAR order&lt;br/&gt;
+SQL_JARS_PARAMETERS=$(find $SQL_JARS_DIR -type f | sort -R | awk &apos;&lt;/p&gt;
{ print &quot;--jar \&quot;&quot;$0&quot;\&quot;&quot;}
&lt;p&gt;&apos; | tr &apos;\n&apos; &apos; &apos;)&lt;br/&gt;
+echo &quot;Using randomized SQL JAR list: $SQL_JARS_PARAMETERS&quot;&lt;br/&gt;
+&lt;br/&gt;
 ################################################################################&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Run a SQL statement&lt;br/&gt;
 ################################################################################&lt;br/&gt;
@@ -254,7 +258,7 @@ echo &quot;Executing SQL: Kafka JSON -&amp;gt; Kafka Avro&quot;&lt;br/&gt;
 echo &quot;$SQL_STATEMENT_1&quot;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt; $FLINK_DIR/bin/sql-client.sh embedded \&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;--library $SQL_JARS_DIR \&lt;br/&gt;
+  $SQL_JARS_PARAMETERS \&lt;br/&gt;
   --jar $SQL_TOOLBOX_JAR \&lt;br/&gt;
   --environment $SQL_CONF \&lt;br/&gt;
   --update &quot;$SQL_STATEMENT_1&quot;&lt;br/&gt;
@@ -269,7 +273,7 @@ echo &quot;Executing SQL: Kafka Avro -&amp;gt; Filesystem CSV&quot;&lt;br/&gt;
 echo &quot;$SQL_STATEMENT_2&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; $FLINK_DIR/bin/sql-client.sh embedded \&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;--library $SQL_JARS_DIR \&lt;br/&gt;
+  $SQL_JARS_PARAMETERS \&lt;br/&gt;
   --jar $SQL_TOOLBOX_JAR \&lt;br/&gt;
   --environment $SQL_CONF \&lt;br/&gt;
   --update &quot;$SQL_STATEMENT_2&quot;&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16665321" author="githubbot" created="Fri, 26 Oct 2018 15:45:35 +0000"  >&lt;p&gt;pnowojski removed a comment on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-433452892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-433452892&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   e&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16665322" author="githubbot" created="Fri, 26 Oct 2018 15:45:38 +0000"  >&lt;p&gt;twalthr opened a new pull request #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534&lt;/a&gt;&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This PR enforces even more shading for SQL JARs than before. In the past, we only shaded Kafka dependencies. However, since Flink&apos;s Kafka connectors mutually depend on each other and do not use version-specific package names (e.g. for Elasticsearch we use `elasticsearch2`, `elasticsearch3`, etc.). This is the only way of avoiding dependency conflicts between different Kafka SQL JARs. The end-to-end tests has been extended to detect classloading issues in builds.&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add more relocation to Flink&apos;s Kafka SQL JARs&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   SQL Client end-to-end tests has been adapted to detect classloading issues earlier.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): yes, but only for SQL JARs&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? no&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? not applicable&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16666872" author="githubbot" created="Mon, 29 Oct 2018 08:58:21 +0000"  >&lt;p&gt;twalthr commented on issue #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534#issuecomment-433833459&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534#issuecomment-433833459&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @pnowojski yes, loading each connector in a separate class loader would solve all problems.&lt;/p&gt;

&lt;p&gt;   However, we should fix our own internal dependency conflicts first. I haven&apos;t looked into the new Kafka connector but as far as I know it should solve the version conflict.&lt;/p&gt;

&lt;p&gt;   I will close this PR for now.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16666873" author="githubbot" created="Mon, 29 Oct 2018 08:58:22 +0000"  >&lt;p&gt;twalthr closed pull request #6534: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql-client&amp;#93;&lt;/span&gt; Relocate Flink Kafka connectors for SQL JARs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6534&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/flink-connectors/flink-connector-kafka-0.10/pom.xml b/flink-connectors/flink-connector-kafka-0.10/pom.xml&lt;br/&gt;
index 135dc59b655..c7a840caafb 100644&lt;br/&gt;
&amp;#8212; a/flink-connectors/flink-connector-kafka-0.10/pom.xml&lt;br/&gt;
+++ b/flink-connectors/flink-connector-kafka-0.10/pom.xml&lt;br/&gt;
@@ -225,6 +225,7 @@ under the License.&lt;br/&gt;
 								&amp;lt;configuration&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedArtifactAttached&amp;gt;true&amp;lt;/shadedArtifactAttached&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedClassifierName&amp;gt;sql-jar&amp;lt;/shadedClassifierName&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Flink&apos;s Kafka 0.10 connector depends on Flink&apos;s Kafka 0.9 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactSet&amp;gt;&lt;br/&gt;
 										&amp;lt;includes combine.children=&quot;append&quot;&amp;gt;&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.kafka:*&amp;lt;/include&amp;gt;&lt;br/&gt;
@@ -232,6 +233,11 @@ under the License.&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.flink:flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/include&amp;gt;&lt;br/&gt;
 										&amp;lt;/includes&amp;gt;&lt;br/&gt;
 									&amp;lt;/artifactSet&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Update service files for table factories. --&amp;gt;&lt;br/&gt;
+									&amp;lt;transformers&amp;gt;&lt;br/&gt;
+										&amp;lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&amp;gt;&lt;br/&gt;
+									&amp;lt;/transformers&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Remove version-specific resources not needed by Flink&apos;s Kafka 0.10 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;filters&amp;gt;&lt;br/&gt;
 										&amp;lt;filter&amp;gt;&lt;br/&gt;
 											&amp;lt;artifact&amp;gt;&lt;b&gt;:&lt;/b&gt;&amp;lt;/artifact&amp;gt;&lt;br/&gt;
@@ -239,12 +245,23 @@ under the License.&lt;br/&gt;
 												&amp;lt;exclude&amp;gt;kafka/kafka-version.properties&amp;lt;/exclude&amp;gt;&lt;br/&gt;
 											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
 										&amp;lt;/filter&amp;gt;&lt;br/&gt;
+										&amp;lt;filter&amp;gt;&lt;br/&gt;
+											&amp;lt;artifact&amp;gt;org.apache.flink:flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifact&amp;gt;&lt;br/&gt;
+											&amp;lt;excludes&amp;gt;&lt;br/&gt;
+												&amp;lt;exclude&amp;gt;META-INF/services/org.apache.flink.table.factories.TableFactory&amp;lt;/exclude&amp;gt;&lt;br/&gt;
+											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
+										&amp;lt;/filter&amp;gt;&lt;br/&gt;
 									&amp;lt;/filters&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Relocate all version-specific classes. --&amp;gt;&lt;br/&gt;
 									&amp;lt;relocations&amp;gt;&lt;br/&gt;
 										&amp;lt;relocation&amp;gt;&lt;br/&gt;
 											&amp;lt;pattern&amp;gt;org.apache.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
 											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka010.shaded.org.apache.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
 										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
+										&amp;lt;relocation&amp;gt;&lt;br/&gt;
+											&amp;lt;pattern&amp;gt;org.apache.flink.streaming.connectors.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
+											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka010.shaded.org.apache.flink.streaming.connectors.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
 									&amp;lt;/relocations&amp;gt;&lt;br/&gt;
 								&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 							&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-connectors/flink-connector-kafka-0.11/pom.xml b/flink-connectors/flink-connector-kafka-0.11/pom.xml&lt;br/&gt;
index bf04aebb390..c6bf71e8d5a 100644&lt;br/&gt;
&amp;#8212; a/flink-connectors/flink-connector-kafka-0.11/pom.xml&lt;br/&gt;
+++ b/flink-connectors/flink-connector-kafka-0.11/pom.xml&lt;br/&gt;
@@ -234,6 +234,7 @@ under the License.&lt;br/&gt;
 								&amp;lt;configuration&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedArtifactAttached&amp;gt;true&amp;lt;/shadedArtifactAttached&amp;gt;&lt;br/&gt;
 									&amp;lt;shadedClassifierName&amp;gt;sql-jar&amp;lt;/shadedClassifierName&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Flink&apos;s Kafka 0.11 connector depends on Flink&apos;s Kafka 0.9 and 0.10 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactSet&amp;gt;&lt;br/&gt;
 										&amp;lt;includes combine.children=&quot;append&quot;&amp;gt;&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.kafka:*&amp;lt;/include&amp;gt;&lt;br/&gt;
@@ -242,6 +243,11 @@ under the License.&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.flink:flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/include&amp;gt;&lt;br/&gt;
 										&amp;lt;/includes&amp;gt;&lt;br/&gt;
 									&amp;lt;/artifactSet&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Update service files for table factories. --&amp;gt;&lt;br/&gt;
+									&amp;lt;transformers&amp;gt;&lt;br/&gt;
+										&amp;lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&amp;gt;&lt;br/&gt;
+									&amp;lt;/transformers&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Remove version-specific resources not needed by Flink&apos;s Kafka 0.11 connector. --&amp;gt;&lt;br/&gt;
 									&amp;lt;filters&amp;gt;&lt;br/&gt;
 										&amp;lt;filter&amp;gt;&lt;br/&gt;
 											&amp;lt;artifact&amp;gt;&lt;b&gt;:&lt;/b&gt;&amp;lt;/artifact&amp;gt;&lt;br/&gt;
@@ -249,12 +255,29 @@ under the License.&lt;br/&gt;
 												&amp;lt;exclude&amp;gt;kafka/kafka-version.properties&amp;lt;/exclude&amp;gt;&lt;br/&gt;
 											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
 										&amp;lt;/filter&amp;gt;&lt;br/&gt;
+										&amp;lt;filter&amp;gt;&lt;br/&gt;
+											&amp;lt;artifact&amp;gt;org.apache.flink:flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifact&amp;gt;&lt;br/&gt;
+											&amp;lt;excludes&amp;gt;&lt;br/&gt;
+												&amp;lt;exclude&amp;gt;META-INF/services/org.apache.flink.table.factories.TableFactory&amp;lt;/exclude&amp;gt;&lt;br/&gt;
+											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
+										&amp;lt;/filter&amp;gt;&lt;br/&gt;
+										&amp;lt;filter&amp;gt;&lt;br/&gt;
+											&amp;lt;artifact&amp;gt;org.apache.flink:flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/artifact&amp;gt;&lt;br/&gt;
+											&amp;lt;excludes&amp;gt;&lt;br/&gt;
+												&amp;lt;exclude&amp;gt;META-INF/services/org.apache.flink.table.factories.TableFactory&amp;lt;/exclude&amp;gt;&lt;br/&gt;
+											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
+										&amp;lt;/filter&amp;gt;&lt;br/&gt;
 									&amp;lt;/filters&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Relocate all version-specific classes. --&amp;gt;&lt;br/&gt;
 									&amp;lt;relocations&amp;gt;&lt;br/&gt;
 										&amp;lt;relocation&amp;gt;&lt;br/&gt;
 											&amp;lt;pattern&amp;gt;org.apache.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
 											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka011.shaded.org.apache.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
 										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
+										&amp;lt;relocation&amp;gt;&lt;br/&gt;
+											&amp;lt;pattern&amp;gt;org.apache.flink.streaming.connectors.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
+											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka011.shaded.org.apache.flink.streaming.connectors.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
 									&amp;lt;/relocations&amp;gt;&lt;br/&gt;
 								&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 							&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-connectors/flink-connector-kafka-0.9/pom.xml b/flink-connectors/flink-connector-kafka-0.9/pom.xml&lt;br/&gt;
index 3e0aa46e095..99f40c574af 100644&lt;br/&gt;
&amp;#8212; a/flink-connectors/flink-connector-kafka-0.9/pom.xml&lt;br/&gt;
+++ b/flink-connectors/flink-connector-kafka-0.9/pom.xml&lt;br/&gt;
@@ -219,6 +219,10 @@ under the License.&lt;br/&gt;
 											&amp;lt;include&amp;gt;org.apache.flink:flink-connector-kafka-base_${scala.binary.version}&amp;lt;/include&amp;gt;&lt;br/&gt;
 										&amp;lt;/includes&amp;gt;&lt;br/&gt;
 									&amp;lt;/artifactSet&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Update service files for table factories. --&amp;gt;&lt;br/&gt;
+									&amp;lt;transformers&amp;gt;&lt;br/&gt;
+										&amp;lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&amp;gt;&lt;br/&gt;
+									&amp;lt;/transformers&amp;gt;&lt;br/&gt;
 									&amp;lt;filters&amp;gt;&lt;br/&gt;
 										&amp;lt;filter&amp;gt;&lt;br/&gt;
 											&amp;lt;artifact&amp;gt;&lt;b&gt;:&lt;/b&gt;&amp;lt;/artifact&amp;gt;&lt;br/&gt;
@@ -227,11 +231,16 @@ under the License.&lt;br/&gt;
 											&amp;lt;/excludes&amp;gt;&lt;br/&gt;
 										&amp;lt;/filter&amp;gt;&lt;br/&gt;
 									&amp;lt;/filters&amp;gt;&lt;br/&gt;
+									&amp;lt;!-- Relocate all version-specific classes. --&amp;gt;&lt;br/&gt;
 									&amp;lt;relocations&amp;gt;&lt;br/&gt;
 										&amp;lt;relocation&amp;gt;&lt;br/&gt;
 											&amp;lt;pattern&amp;gt;org.apache.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
 											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka09.shaded.org.apache.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
 										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
+										&amp;lt;relocation&amp;gt;&lt;br/&gt;
+											&amp;lt;pattern&amp;gt;org.apache.flink.streaming.connectors.kafka&amp;lt;/pattern&amp;gt;&lt;br/&gt;
+											&amp;lt;shadedPattern&amp;gt;org.apache.flink.kafka09.shaded.org.apache.flink.streaming.connectors.kafka&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+										&amp;lt;/relocation&amp;gt;&lt;br/&gt;
 									&amp;lt;/relocations&amp;gt;&lt;br/&gt;
 								&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 							&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-end-to-end-tests/flink-sql-client-test/pom.xml b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
index 6e69568939f..ec5a0e10360 100644&lt;br/&gt;
&amp;#8212; a/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
+++ b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
@@ -153,14 +153,13 @@ under the License.&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;br/&gt;
 								&amp;lt;/artifactItem&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;!-- This SQL JAR is not used for now to avoid dependency conflicts; see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 									&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/artifactItem&amp;gt;--&amp;gt;&lt;br/&gt;
+								&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
@@ -168,14 +167,13 @@ under the License.&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;br/&gt;
 								&amp;lt;/artifactItem&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;!-- This SQL JAR is not used for now to avoid dependency conflicts; see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10107&quot; title=&quot;SQL Client end-to-end test fails for releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10107&quot;&gt;&lt;del&gt;FLINK-10107&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 									&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.11_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 									&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
 									&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
 									&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/artifactItem&amp;gt;--&amp;gt;&lt;br/&gt;
+								&amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
 							&amp;lt;/artifactItems&amp;gt;&lt;br/&gt;
 						&amp;lt;/configuration&amp;gt;&lt;br/&gt;
 					&amp;lt;/execution&amp;gt;&lt;br/&gt;
diff --git a/flink-end-to-end-tests/test-scripts/test_sql_client.sh b/flink-end-to-end-tests/test-scripts/test_sql_client.sh&lt;br/&gt;
index 934f7d43ed4..ff364a0b6c9 100755
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/flink-end-to-end-tests/test-scripts/test_sql_client.sh&lt;br/&gt;
+++ b/flink-end-to-end-tests/test-scripts/test_sql_client.sh&lt;br/&gt;
@@ -57,6 +57,10 @@ for SQL_JAR in $SQL_JARS_DIR/*.jar; do&lt;br/&gt;
   rm -r $EXTRACTED_JAR/*&lt;br/&gt;
 done&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+# randomize JAR list for detecting classloading issues due to JAR order&lt;br/&gt;
+SQL_JARS_PARAMETERS=$(find $SQL_JARS_DIR -type f | sort -R | awk &apos;&lt;/p&gt;
{ print &quot;--jar \&quot;&quot;$0&quot;\&quot;&quot;}
&lt;p&gt;&apos; | tr &apos;\n&apos; &apos; &apos;)&lt;br/&gt;
+echo &quot;Using randomized SQL JAR list: $SQL_JARS_PARAMETERS&quot;&lt;br/&gt;
+&lt;br/&gt;
 ################################################################################&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Run a SQL statement&lt;br/&gt;
 ################################################################################&lt;br/&gt;
@@ -254,7 +258,7 @@ echo &quot;Executing SQL: Kafka JSON -&amp;gt; Kafka Avro&quot;&lt;br/&gt;
 echo &quot;$SQL_STATEMENT_1&quot;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt; $FLINK_DIR/bin/sql-client.sh embedded \&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;--library $SQL_JARS_DIR \&lt;br/&gt;
+  $SQL_JARS_PARAMETERS \&lt;br/&gt;
   --jar $SQL_TOOLBOX_JAR \&lt;br/&gt;
   --environment $SQL_CONF \&lt;br/&gt;
   --update &quot;$SQL_STATEMENT_1&quot;&lt;br/&gt;
@@ -269,7 +273,7 @@ echo &quot;Executing SQL: Kafka Avro -&amp;gt; Filesystem CSV&quot;&lt;br/&gt;
 echo &quot;$SQL_STATEMENT_2&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; $FLINK_DIR/bin/sql-client.sh embedded \&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;--library $SQL_JARS_DIR \&lt;br/&gt;
+  $SQL_JARS_PARAMETERS \&lt;br/&gt;
   --jar $SQL_TOOLBOX_JAR \&lt;br/&gt;
   --environment $SQL_CONF \&lt;br/&gt;
   --update &quot;$SQL_STATEMENT_2&quot;&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17323492" author="flink-jira-bot" created="Fri, 16 Apr 2021 11:21:07 +0000"  >&lt;p&gt;This issue is assigned but has not received an update in 7 days so it has been labeled &quot;stale-assigned&quot;. If you are still working on the issue, please give an update and remove the label. If you are no longer working on the issue, please unassign so someone else may work on it. In 7 days the issue will be automatically unassigned.&lt;/p&gt;</comment>
                            <comment id="17334118" author="flink-jira-bot" created="Tue, 27 Apr 2021 23:14:18 +0000"  >&lt;p&gt;This issue was marked &quot;stale-assigned&quot; and has not received an update in 7 days. It is now automatically unassigned. If you are still working on it, you can assign it to yourself again. Please also give an update about the status of the work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3wv8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>