<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:15:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-29817] Published metadata for apache-flink in pypi are inconsistent and causes poetry to fail</title>
                <link>https://issues.apache.org/jira/browse/FLINK-29817</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Hi,&#160;&lt;/p&gt;

&lt;p&gt;Following the debug steps described in &lt;a href=&quot;https://github.com/python-poetry/poetry/issues/3011&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this github thread&lt;/a&gt; I got to the conclusion that the metadata of the apache-flink 1.16.0 package is wrong. And because of that I cannot properly manage my dependencies using poetry.&lt;/p&gt;

&lt;p&gt;I can successfully install it with pip (runs with no errors), as stated in the docs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
python -m pip install apache-flink &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But when I try to include the dependency in my poetry project I got the following error:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#10095; poetry add apache-flink@1.16.0Updating dependencies
Resolving dependencies... (2.0s)Because pemja (0.2.6) depends on numpy (1.21.4)
&#160;and apache-flink (1.16.0) depends on numpy (&amp;gt;=1.14.3,&amp;lt;1.20), pemja (0.2.6) is incompatible with apache-flink (1.16.0).
So, because cv-features depends on apache-flink (1.16.0) which depends on pemja (0.2.6), version solving failed. &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ve followed the same debug steps as in &lt;a href=&quot;https://github.com/python-poetry/poetry/issues/3011&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this github thread&lt;/a&gt; and can confirm that apache-flink has exactly the same problem as described in the thread: the wheel package in pypi has correct dependency metadata but the pypi published don&apos;t.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#10095; pkginfo -f requires_dist /Users/andre/Downloads/apache_flink-1.16.0-cp39-cp39-macosx_11_0_arm64.whl
requires_dist: [&lt;span class=&quot;code-quote&quot;&gt;&apos;py4j (==0.10.9.3)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;python-dateutil (==2.8.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;apache-beam (==2.38.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;cloudpickle (==2.1.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;avro-python3 (!=1.9.2,&amp;lt;1.10.0,&amp;gt;=1.8.1)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pytz (&amp;gt;=2018.3)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;fastavro (&amp;lt;1.4.8,&amp;gt;=1.1.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;requests (&amp;gt;=2.26.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;protobuf (&amp;lt;3.18)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;httplib2 (&amp;lt;=0.20.4,&amp;gt;=0.19.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;apache-flink-libraries (&amp;lt;1.16.1,&amp;gt;=1.16.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;numpy (&amp;lt;1.22.0,&amp;gt;=1.21.4)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pandas (&amp;lt;1.4.0,&amp;gt;=1.3.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pyarrow (&amp;lt;9.0.0,&amp;gt;=5.0.0)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pemja (==0.2.6) ; python_full_version &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&quot;3.7&quot;&lt;/span&gt; and platform_system != &lt;span class=&quot;code-quote&quot;&gt;&quot;Windows&quot;&lt;/span&gt;&apos;&lt;/span&gt;] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but the pipy json metadata is wrong:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#10095; curl -sL https:&lt;span class=&quot;code-comment&quot;&gt;//pypi.org/pypi/apache-flink/json | jq &lt;span class=&quot;code-quote&quot;&gt;&apos;.info.requires_dist&apos;&lt;/span&gt;[
&lt;/span&gt;&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;py4j (==0.10.9.3)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;python-dateutil (==2.8.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;apache-beam (==2.38.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;cloudpickle (==2.1.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;avro-python3 (!=1.9.2,&amp;lt;1.10.0,&amp;gt;=1.8.1)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;pytz (&amp;gt;=2018.3)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;fastavro (&amp;lt;1.4.8,&amp;gt;=1.1.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;requests (&amp;gt;=2.26.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;protobuf (&amp;lt;3.18)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;httplib2 (&amp;lt;=0.20.4,&amp;gt;=0.19.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;apache-flink-libraries (&amp;lt;1.16.1,&amp;gt;=1.16.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;numpy (&amp;lt;1.20,&amp;gt;=1.14.3)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;pandas (&amp;lt;1.2.0,&amp;gt;=1.0)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;pyarrow (&amp;lt;7.0.0,&amp;gt;=0.15.1)&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;pemja (==0.2.6) ; python_full_version &amp;gt;= \&quot;&lt;/span&gt;3.7\&lt;span class=&quot;code-quote&quot;&gt;&quot; and platform_system != \&quot;&lt;/span&gt;Windows\&quot;&quot;
]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;As per &lt;a href=&quot;https://github.com/python-poetry/poetry/issues/3011#issuecomment-702826616&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this comment&lt;/a&gt;, could you please republish the package correcting this metadata information, please? This &lt;a href=&quot;https://github.com/apple/turicreate/issues/3342#issuecomment-702957550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;other comment&lt;/a&gt; can help gain more context.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;macos 12.6 (M1)&lt;/p&gt;

&lt;p&gt;Poetry Version: 1.2.2&lt;br/&gt;
Python Version: &#160;3.9.12&lt;/p&gt;</environment>
        <key id="13493780">FLINK-29817</key>
            <summary>Published metadata for apache-flink in pypi are inconsistent and causes poetry to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hxbks2ks">Huang Xingbo</assignee>
                                    <reporter username="ah.casimiro">Andr&#233; Casimiro</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 31 Oct 2022 14:26:43 +0000</created>
                <updated>Fri, 18 Nov 2022 07:58:05 +0000</updated>
                            <resolved>Fri, 18 Nov 2022 07:58:05 +0000</resolved>
                                    <version>1.16.0</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.16.1</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17626638" author="martijnvisser" created="Mon, 31 Oct 2022 15:13:10 +0000"  >&lt;p&gt;CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hxbks2ks&quot; class=&quot;user-hover&quot; rel=&quot;hxbks2ks&quot;&gt;hxbks2ks&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dianfu&quot; class=&quot;user-hover&quot; rel=&quot;dianfu&quot;&gt;dianfu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17626911" author="hxbks2ks" created="Tue, 1 Nov 2022 02:07:40 +0000"  >&lt;p&gt;The `install_requirements` of PyFlink depends on your `python_version`.   &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-python&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; sys.version_info &amp;lt; (3, 7):
        &lt;span class=&quot;code-comment&quot;&gt;# python 3.6 upper &lt;span class=&quot;code-keyword&quot;&gt;and&lt;/span&gt; lower limit
&lt;/span&gt;        install_requires.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;numpy&amp;gt;=1.14.3,&amp;lt;1.20&apos;&lt;/span&gt;)
        install_requires.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;pandas&amp;gt;=1.0,&amp;lt;1.2.0&apos;&lt;/span&gt;)
        install_requires.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;pyarrow&amp;gt;=0.15.1,&amp;lt;7.0.0&apos;&lt;/span&gt;)
    &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;:
        &lt;span class=&quot;code-comment&quot;&gt;# python 3.7, 3.8 &lt;span class=&quot;code-keyword&quot;&gt;and&lt;/span&gt; 3.9 upper limit &lt;span class=&quot;code-keyword&quot;&gt;and&lt;/span&gt; M1 chip lower limit,
&lt;/span&gt;        install_requires.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;numpy&amp;gt;=1.21.4,&amp;lt;1.22.0&apos;&lt;/span&gt;)
        install_requires.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;pandas&amp;gt;=1.3.0,&amp;lt;1.4.0&apos;&lt;/span&gt;)
        install_requires.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;pyarrow&amp;gt;=5.0.0,&amp;lt;9.0.0&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; So I guess Pypi collects the `metadata` used in Python3.6.&lt;/p&gt;
</comment>
                            <comment id="17627413" author="hxbks2ks" created="Wed, 2 Nov 2022 02:01:34 +0000"  >&lt;p&gt;I think we can optimize the `metadata` to solve this problem in the 1.16.1.&lt;/p&gt;</comment>
                            <comment id="17635726" author="hxbks2ks" created="Fri, 18 Nov 2022 07:58:05 +0000"  >&lt;p&gt;Merged into master via e5762a558f3697294cd73da4247a741fc6f73456&lt;br/&gt;
Merged into release-1.16 via d5b10d8ec9ca9fa03201ce57421bb0e714e224a7&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1anbs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>