<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:18:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-32144] FileSourceTextLinesITCase times out on AZP</title>
                <link>https://issues.apache.org/jira/browse/FLINK-32144</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&#160;May 21 01:15:09 ==============================================================================
May 21 01:15:09 Process produced no output for 900 seconds.
May 21 01:15:09 ==============================================================================
May 21 01:15:09 ==============================================================================
May 21 01:15:09 The following Java processes are running (JPS)
May 21 01:15:09 ==============================================================================
...
May 21 01:15:10 &quot;ForkJoinPool-1-worker-25&quot; #27 daemon prio=5 os_prio=0 tid=0x00007ff334c35800 nid=0x1e49 waiting on condition [0x00007ff23c3e7000]
May 21 01:15:10    java.lang.Thread.State: WAITING (parking)
May 21 01:15:10 	at sun.misc.Unsafe.park(Native Method)
May 21 01:15:10 	- parking to wait for  &amp;lt;0x00000000ce8682e0&amp;gt; (a java.util.concurrent.CompletableFuture$Signaller)
May 21 01:15:10 	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
May 21 01:15:10 	at java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1707)
May 21 01:15:10 	at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3313)
May 21 01:15:10 	at java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1742)
May 21 01:15:10 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
May 21 01:15:10 	at org.apache.flink.connector.file.src.FileSourceTextLinesITCase$RecordCounterToFail.waitToFail(FileSourceTextLinesITCase.java:481)
May 21 01:15:10 	at org.apache.flink.connector.file.src.FileSourceTextLinesITCase$RecordCounterToFail.access$100(FileSourceTextLinesITCase.java:457)
May 21 01:15:10 	at org.apache.flink.connector.file.src.FileSourceTextLinesITCase.testBoundedTextFileSource(FileSourceTextLinesITCase.java:145)
May 21 01:15:10 	at org.apache.flink.connector.file.src.FileSourceTextLinesITCase.testBoundedTextFileSourceWithJobManagerFailover(FileSourceTextLinesITCase.java:110)
May 21 01:15:10 	
...
May 21 01:15:10 Killing process with pid=860 and all descendants
/__w/2/s/tools/ci/watchdog.sh: line 113:   860 Terminated              $cmd
May 21 01:15:11 Process exited with EXIT CODE: 143.
May 21 01:15:11 Trying to KILL watchdog (856).
May 21 01:15:11 Searching for .dump, .dumpstream and related files in &apos;/__w/2/s&apos;
May 21 01:15:15 Moving &apos;/__w/2/s/flink-connectors/flink-connector-files/target/surefire-reports/2023-05-21T00-58-13_549-jvmRun2.dumpstream&apos; to target directory (&apos;/__w/_temp/debug_files&apos;)
May 21 01:15:15 Moving &apos;/__w/2/s/flink-connectors/flink-connector-files/target/surefire-reports/2023-05-21T00-58-13_549-jvmRun2.dump&apos; to target directory (&apos;/__w/_temp/debug_files&apos;)
The STDIO streams did not close within 10 seconds of the exit event from process &apos;/bin/bash&apos;. This may indicate a child process inherited the STDIO streams and has not yet exited.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=49181&amp;amp;view=logs&amp;amp;j=4eda0b4a-bd0d-521a-0916-8285b9be9bb5&amp;amp;t=2ff6d5fa-53a6-53ac-bff7-fa524ea361a9&amp;amp;l=14436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=49181&amp;amp;view=logs&amp;amp;j=4eda0b4a-bd0d-521a-0916-8285b9be9bb5&amp;amp;t=2ff6d5fa-53a6-53ac-bff7-fa524ea361a9&amp;amp;l=14436&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13537061">FLINK-32144</key>
            <summary>FileSourceTextLinesITCase times out on AZP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wanglijie">Lijie Wang</assignee>
                                    <reporter username="Sergey Nuyanzin">Sergey Nuyanzin</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 22 May 2023 07:31:02 +0000</created>
                <updated>Tue, 8 Aug 2023 06:38:25 +0000</updated>
                            <resolved>Tue, 8 Aug 2023 06:38:25 +0000</resolved>
                                    <version>1.18.0</version>
                                    <fixVersion>1.18.0</fixVersion>
                                    <component>Connectors / FileSystem</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17725174" author="wanglijie95" created="Tue, 23 May 2023 03:50:17 +0000"  >&lt;p&gt;I can reproduce this problem locally with `cluster.evenly-spread-out-slots: true`, and found the root cause is the wrong usage of &lt;tt&gt;MiniClusterExtension&lt;/tt&gt;. Each test in &lt;tt&gt;FileSourceTextLinesITCase&lt;/tt&gt; needs a new minicluster instance (as some tests kill the TM), but &lt;tt&gt;MiniClusterExtension&lt;/tt&gt; creates only one &lt;tt&gt;MiniCluster&lt;/tt&gt; instance for each test class, all tests in the test class share one minicluster instance.&lt;/p&gt;

&lt;p&gt;I can easily fix this problem by manully creating a minicluster instance in each test, but I think it&apos;s worth discussing whether to enrich&#160;&lt;tt&gt;MiniClusterExtension&lt;/tt&gt; to support this functionality, just like the &lt;tt&gt;@Rule&lt;/tt&gt; in Junit4.&lt;/p&gt;</comment>
                            <comment id="17726101" author="wanglijie95" created="Thu, 25 May 2023 08:24:21 +0000"  >&lt;p&gt;Do you have any thoughts? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ruanhang1993&quot; class=&quot;user-hover&quot; rel=&quot;ruanhang1993&quot;&gt;ruanhang1993&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slinkydeveloper&quot; class=&quot;user-hover&quot; rel=&quot;slinkydeveloper&quot;&gt;slinkydeveloper&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17726103" author="wanglijie95" created="Thu, 25 May 2023 08:28:15 +0000"  >&lt;p&gt;Perhaps we should provide two extensions, one that creates a minicluster instance per class and another one per test.&lt;/p&gt;</comment>
                            <comment id="17726104" author="sergey nuyanzin" created="Thu, 25 May 2023 08:29:48 +0000"  >&lt;p&gt;Thanks for diving into and sorry for the delay&lt;/p&gt;

&lt;p&gt;is it possible to add such feature to &lt;tt&gt;MiniClusterExtension&lt;/tt&gt; on configuration level and make it off by default?&lt;/p&gt;</comment>
                            <comment id="17726264" author="wanglijie95" created="Thu, 25 May 2023 14:49:51 +0000"  >&lt;p&gt;Adding this feature on configuration level is an option. &lt;/p&gt;

&lt;p&gt;Another option, according to the &lt;a href=&quot;https://docs.google.com/document/d/1514Wa_aNB9bJUen4xm5uiuXOooOJTtXqS_Jqk9KJitU&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;doc of junit5 migration&lt;/a&gt;,&#160; is to let &lt;tt&gt;MiniClusterExtension&lt;/tt&gt; implements &lt;tt&gt;CustomExtension&lt;/tt&gt; interface, and wrap it with &lt;tt&gt;EachCallbackWrapper&lt;/tt&gt; for per-test lifecycle, or wrap it with &lt;tt&gt;AllCallbackWrapper&lt;/tt&gt; for per-class lifecycle (Currently there are some other extensions following this rule, for example &lt;tt&gt;ZooKeeperExtension&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;But I found that we did as this before &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26252&quot; title=&quot;Refactor MiniClusterExtension&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26252&quot;&gt;&lt;del&gt;FLINK-26252&lt;/del&gt;&lt;/a&gt;, and I don&apos;t know why it has been changed to the current state in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26252&quot; title=&quot;Refactor MiniClusterExtension&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26252&quot;&gt;&lt;del&gt;FLINK-26252&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17731952" author="renqs" created="Tue, 13 Jun 2023 08:18:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wanglijie&quot; class=&quot;user-hover&quot; rel=&quot;wanglijie&quot;&gt;wanglijie&lt;/a&gt; Any progress on this issue?&lt;/p&gt;</comment>
                            <comment id="17735243" author="sergey nuyanzin" created="Tue, 20 Jun 2023 10:45:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=50014&amp;amp;view=logs&amp;amp;j=075127ba-54d5-54b0-cccf-6a36778b332d&amp;amp;t=c35a13eb-0df9-505f-29ac-8097029d4d79&amp;amp;l=13199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=50014&amp;amp;view=logs&amp;amp;j=075127ba-54d5-54b0-cccf-6a36778b332d&amp;amp;t=c35a13eb-0df9-505f-29ac-8097029d4d79&amp;amp;l=13199&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17749064" author="mapohl" created="Mon, 31 Jul 2023 07:28:05 +0000"  >&lt;p&gt;2x in the same build:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=51804&amp;amp;view=logs&amp;amp;j=075127ba-54d5-54b0-cccf-6a36778b332d&amp;amp;t=c35a13eb-0df9-505f-29ac-8097029d4d79&amp;amp;l=12810&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=51804&amp;amp;view=logs&amp;amp;j=075127ba-54d5-54b0-cccf-6a36778b332d&amp;amp;t=c35a13eb-0df9-505f-29ac-8097029d4d79&amp;amp;l=12810&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=51804&amp;amp;view=logs&amp;amp;j=7e3d33c3-a462-5ea8-98b8-27e1aafe4ceb&amp;amp;t=ef77f8d1-44c8-5ee2-f175-1c88f61de8c0&amp;amp;l=14368&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=51804&amp;amp;view=logs&amp;amp;j=7e3d33c3-a462-5ea8-98b8-27e1aafe4ceb&amp;amp;t=ef77f8d1-44c8-5ee2-f175-1c88f61de8c0&amp;amp;l=14368&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17751908" author="renqs" created="Tue, 8 Aug 2023 06:38:12 +0000"  >&lt;p&gt;Merged on master: fa61dd439ece9e2b9ef710ce2f7eed54c4d4403a&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1i1g0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>