<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:41:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-13887] Ensure defaultInputDependencyConstraint to be non-null when setting it in ExecutionConfig</title>
                <link>https://issues.apache.org/jira/browse/FLINK-13887</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;If a user invokes ExecutionConfig#setDefaultInputDependencyConstraint(null) to set the&#160;defaultInputDependencyConstraint to be null, the scheduling topology building will throw NPE in ExecutionGraph creating stage, causing a master node fatal error.&lt;/p&gt;

&lt;p&gt;Thus we need to do checkNotNull on the ExecutionConfig#setDefaultInputDependencyConstraint param to remind users in an early stage.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Exception is as blow:&lt;/p&gt;

&lt;p&gt;2019-08-28T15:19:21.287+0000 ERROR org.apache.flink.runtime.entrypoint.ClusterEntrypoint &#160; &#160; &#160; &#160; - Fatal error occurred in the cluster entrypoint.&lt;br/&gt;
 org.apache.flink.runtime.dispatcher.DispatcherException: Failed to take leadership with session id 2f8f7919-a81b-4529-ad57-9789dbf07707.&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.dispatcher.Dispatcher.lambda$null$30(Dispatcher.java:915)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.concurrent.FutureUtils$WaitingConjunctFuture.handleCompletedFuture(FutureUtils.java:691)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:561)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:739)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:442)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:397)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:190)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at scala.PartialFunction.applyOrElse(PartialFunction.scala:123)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at scala.PartialFunction.applyOrElse$(PartialFunction.scala:122)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.actor.Actor.aroundReceive(Actor.scala:517)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.actor.Actor.aroundReceive$(Actor.scala:515)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.actor.ActorCell.invoke(ActorCell.scala:561)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.Mailbox.run(Mailbox.scala:225)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.Mailbox.exec(Mailbox.scala:235)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&lt;br/&gt;
 Caused by: java.lang.RuntimeException: org.apache.flink.runtime.client.JobExecutionException: Could not set up JobManager&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.util.function.CheckedSupplier.lambda$unchecked$0(CheckedSupplier.java:36)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:40)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:44)&lt;br/&gt;
 &#160; &#160; &#160; &#160; ... 4 more&lt;br/&gt;
 Caused by: org.apache.flink.runtime.client.JobExecutionException: Could not set up JobManager&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.jobmaster.JobManagerRunner.&amp;lt;init&amp;gt;(JobManagerRunner.java:152)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.dispatcher.DefaultJobManagerRunnerFactory.createJobManagerRunner(DefaultJobManagerRunnerFactory.java:83)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.dispatcher.Dispatcher.lambda$createJobManagerRunner$5(Dispatcher.java:375)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.util.function.CheckedSupplier.lambda$unchecked$0(CheckedSupplier.java:34)&lt;br/&gt;
 &#160; &#160; &#160; &#160; ... 7 more&lt;br/&gt;
 Caused by: java.lang.NullPointerException&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.util.Preconditions.checkNotNull(Preconditions.java:58)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.scheduler.adapter.DefaultSchedulingExecutionVertex.&amp;lt;init&amp;gt;(DefaultSchedulingExecutionVertex.java:59)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.scheduler.adapter.ExecutionGraphToSchedulingTopologyAdapter.generateSchedulingExecutionVertex(ExecutionGraphToSchedulingTopologyAdapter.java:113)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.scheduler.adapter.ExecutionGraphToSchedulingTopologyAdapter.&amp;lt;init&amp;gt;(ExecutionGraphToSchedulingTopologyAdapter.java:65)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.executiongraph.ExecutionGraph.attachJobGraph(ExecutionGraph.java:939)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.executiongraph.ExecutionGraphBuilder.buildGraph(ExecutionGraphBuilder.java:230)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.executiongraph.ExecutionGraphBuilder.buildGraph(ExecutionGraphBuilder.java:106)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.scheduler.LegacyScheduler.createExecutionGraph(LegacyScheduler.java:207)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.scheduler.LegacyScheduler.createAndRestoreExecutionGraph(LegacyScheduler.java:184)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.scheduler.LegacyScheduler.&amp;lt;init&amp;gt;(LegacyScheduler.java:176)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.scheduler.LegacySchedulerFactory.createInstance(LegacySchedulerFactory.java:70)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.jobmaster.JobMaster.createScheduler(JobMaster.java:275)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.jobmaster.JobMaster.&amp;lt;init&amp;gt;(JobMaster.java:265)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.jobmaster.factories.DefaultJobMasterServiceFactory.createJobMasterService(DefaultJobMasterServiceFactory.java:98)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.jobmaster.factories.DefaultJobMasterServiceFactory.createJobMasterService(DefaultJobMasterServiceFactory.java:40)&lt;br/&gt;
 &#160; &#160; &#160; &#160; at org.apache.flink.runtime.jobmaster.JobManagerRunner.&amp;lt;init&amp;gt;(JobManagerRunner.java:146)&lt;br/&gt;
 &#160; &#160; &#160; &#160; ... 10 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="13253607">FLINK-13887</key>
            <summary>Ensure defaultInputDependencyConstraint to be non-null when setting it in ExecutionConfig</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhuzh">Zhu Zhu</assignee>
                                    <reporter username="zhuzh">Zhu Zhu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 29 Aug 2019 02:51:18 +0000</created>
                <updated>Wed, 2 Oct 2019 17:48:13 +0000</updated>
                            <resolved>Tue, 3 Sep 2019 09:24:31 +0000</resolved>
                                    <version>1.9.0</version>
                    <version>1.10.0</version>
                                    <fixVersion>1.9.1</fixVersion>
                    <fixVersion>1.10.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16918454" author="zentol" created="Thu, 29 Aug 2019 09:47:39 +0000"  >&lt;p&gt;Given that this method isn&apos;t new, and apparently accepted null in the past, we may instead want to opt for setting the constraint to ANY if null is passed.&lt;/p&gt;</comment>
                            <comment id="16918494" author="zhuzh" created="Thu, 29 Aug 2019 10:51:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160;yes you are right. We shouldn&apos;t break users&apos; existing jobs.&lt;/p&gt;</comment>
                            <comment id="16919368" author="zentol" created="Fri, 30 Aug 2019 09:38:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhuzh&quot; class=&quot;user-hover&quot; rel=&quot;zhuzh&quot;&gt;zhuzh&lt;/a&gt; Do you want do work on this?&lt;/p&gt;</comment>
                            <comment id="16919378" author="zhuzh" created="Fri, 30 Aug 2019 09:49:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160;Yes I can fix it.&lt;/p&gt;</comment>
                            <comment id="16921281" author="zentol" created="Tue, 3 Sep 2019 09:24:31 +0000"  >&lt;p&gt;master: 21a21a652324411babd7772665703fb75729687d&lt;br/&gt;
1.9: 7687b5bdffa01ec71ea176a199c6b559a37ed642&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06520:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>