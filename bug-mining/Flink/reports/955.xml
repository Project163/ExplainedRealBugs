<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:23:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3803] Checkpoint Stats Tracker Reads from Wrong Configuration</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3803</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In &lt;tt&gt;ExecutionGraph.java&lt;/tt&gt; when configuring the checkpoint stats tracker the config values are read from the &lt;tt&gt;jobConfiguration&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isStatsDisabled = jobConfiguration.getBoolean(
        ConfigConstants.JOB_MANAGER_WEB_CHECKPOINTS_DISABLE,
        ConfigConstants.DEFAULT_JOB_MANAGER_WEB_CHECKPOINTS_DISABLE);

&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isStatsDisabled) {
    checkpointStatsTracker = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DisabledCheckpointStatsTracker();
}
&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; historySize = jobConfiguration.getInteger(
            ConfigConstants.JOB_MANAGER_WEB_CHECKPOINTS_HISTORY_SIZE,
            ConfigConstants.DEFAULT_JOB_MANAGER_WEB_CHECKPOINTS_HISTORY_SIZE);

    checkpointStatsTracker = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleCheckpointStatsTracker(historySize, tasksToWaitFor);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The settings are only available in the Flink Configuration, however. Right now, the &lt;tt&gt;ExecutionGraph&lt;/tt&gt; has no access to the Flink Configuration.&lt;/p&gt;

&lt;p&gt;I see three solutions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;pass the Flink Configuration to the &lt;tt&gt;ExecutionGraph&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;pass just the two required settings to the &lt;tt&gt;ExecutionGraph&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Introduce a new &lt;tt&gt;ExecutionGraphSettings&lt;/tt&gt; that contains settings only for the &lt;tt&gt;ExecutionGraph&lt;/tt&gt; in order to clean up things a bit&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12961611">FLINK-3803</key>
            <summary>Checkpoint Stats Tracker Reads from Wrong Configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uce">Ufuk Celebi</assignee>
                                    <reporter username="aljoscha">Aljoscha Krettek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Apr 2016 11:45:31 +0000</created>
                <updated>Thu, 28 Feb 2019 11:14:42 +0000</updated>
                            <resolved>Tue, 26 Apr 2016 08:37:04 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15256188" author="uce" created="Mon, 25 Apr 2016 10:32:33 +0000"  >&lt;p&gt;I assigned myself since I introduced this. I would go for 1). Any thoughts?&lt;/p&gt;</comment>
                            <comment id="15256195" author="aljoscha" created="Mon, 25 Apr 2016 10:38:38 +0000"  >&lt;p&gt;I talked to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann@apache.org&quot;&gt;trohrmann@apache.org&lt;/a&gt; about this because he had his hands in there. He thinks that 3) would be the best way to go. It&apos;s a bit more complicated but I think in the end worth it.&lt;/p&gt;</comment>
                            <comment id="15256196" author="uce" created="Mon, 25 Apr 2016 10:38:54 +0000"  >&lt;p&gt;I agree that 3) is cleaner though, so we might want to go with that.&lt;/p&gt;</comment>
                            <comment id="15256197" author="uce" created="Mon, 25 Apr 2016 10:39:50 +0000"  >&lt;p&gt;A comment race... I agree with the assessment &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15256303" author="uce" created="Mon, 25 Apr 2016 13:04:30 +0000"  >&lt;p&gt;Just looked into it, it&apos;s actually only affecting the `enableCheckpointing` method call, where we can easily add the missing arguments.&lt;/p&gt;</comment>
                            <comment id="15257726" author="githubbot" created="Tue, 26 Apr 2016 08:21:11 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1927#issuecomment-214665070&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1927#issuecomment-214665070&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Test failures are unrelated and I have two successful runs in my local Travis: &lt;a href=&quot;https://travis-ci.org/uce/flink/builds/125561984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/uce/flink/builds/125561984&lt;/a&gt;, &lt;a href=&quot;https://travis-ci.org/uce/flink/builds/125563304&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/uce/flink/builds/125563304&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;    I&apos;m going to merge this for 1.1.0 and 1.0.3.&lt;/p&gt;</comment>
                            <comment id="15257747" author="uce" created="Tue, 26 Apr 2016 08:37:04 +0000"  >&lt;p&gt;Fixed in 8330539 (1.1.0), 7062b0a (1.0.3).&lt;/p&gt;</comment>
                            <comment id="15257750" author="githubbot" created="Tue, 26 Apr 2016 08:37:33 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1927&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wl27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>