<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:18:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1776] APIs provide invalid Semantic Properties for Operators with SelectorFunction keys</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1776</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Semantic properties are defined by users and evaluated by the optimizer.&lt;br/&gt;
When semantic properties such as forwarded or read fields are bound to the input type of a function.&lt;br/&gt;
In case of operators with selector function keys, a user function is wrapped by a wrapping function that has a different input types than the original user function. However, the user-defined semantic properties are verbatim forwarded to the optimizer. &lt;br/&gt;
Since the properties refer to a specific type which is changed by the wrapping function and the semantic properties are not adapted, the optimizer uses wrong properties and might produce invalid plans&lt;/p&gt;</description>
                <environment></environment>
        <key id="12784875">FLINK-1776</key>
            <summary>APIs provide invalid Semantic Properties for Operators with SelectorFunction keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fhueske">Fabian Hueske</assignee>
                                    <reporter username="fhueske">Fabian Hueske</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Mar 2015 16:53:47 +0000</created>
                <updated>Thu, 28 Feb 2019 14:29:21 +0000</updated>
                            <resolved>Fri, 3 Apr 2015 19:36:08 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                                    <component>API / Scala</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14377789" author="stephanewen" created="Tue, 24 Mar 2015 12:49:48 +0000"  >&lt;p&gt;That is critical, I agree.&lt;/p&gt;

&lt;p&gt;Can we make the assumption that all fields are shifted by one (or as many as the key selector returns values) since the data gets wrapped in a tuple2(key, value)?&lt;/p&gt;</comment>
                            <comment id="14377907" author="fhueske" created="Tue, 24 Mar 2015 14:08:01 +0000"  >&lt;p&gt;The fix is straight-forward.&lt;br/&gt;
We get the numbers of fields of the extracted grouping and sorting keys and add that offset to all indexes of input record fields.&lt;/p&gt;

&lt;p&gt;I am working on a fix for all affected operators.&lt;/p&gt;</comment>
                            <comment id="14378851" author="githubbot" created="Tue, 24 Mar 2015 22:56:23 +0000"  >&lt;p&gt;GitHub user fhueske opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/532&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/532&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1776&quot; title=&quot;APIs provide invalid Semantic Properties for Operators with SelectorFunction keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1776&quot;&gt;&lt;del&gt;FLINK-1776&lt;/del&gt;&lt;/a&gt; Add offsets to field indexes of semantic properties for operators with key selectors&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/fhueske/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/fhueske/flink&lt;/a&gt; fixSelectionKeySemProps&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/532.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/532.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #532&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 72dcf2b2e1d62f22a5d684cdc09eaba3d4d78358&lt;br/&gt;
Author: Fabian Hueske &amp;lt;fhueske@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-03-24T14:18:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1776&quot; title=&quot;APIs provide invalid Semantic Properties for Operators with SelectorFunction keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1776&quot;&gt;&lt;del&gt;FLINK-1776&lt;/del&gt;&lt;/a&gt; Add offsets to field indexes of semantic properties for operators with key selectors&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14393169" author="githubbot" created="Thu, 2 Apr 2015 19:00:11 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/532#issuecomment-89010020&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/532#issuecomment-89010020&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Will rebase and merge this in about 24h unless somebody raises a flag.&lt;/p&gt;</comment>
                            <comment id="14394966" author="githubbot" created="Fri, 3 Apr 2015 19:33:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/532&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/532&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14394976" author="fhueske" created="Fri, 3 Apr 2015 19:36:08 +0000"  >&lt;p&gt;Fixed with f39aec82d6cd1286f129b11366d101cb646716ee&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i278hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>