<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:34:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-9874] set_conf_ssl in E2E tests fails on macOS</title>
                <link>https://issues.apache.org/jira/browse/FLINK-9874</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Setting up a cluster with SSL support in the end-to-end tests with `&lt;em&gt;set_conf_ssl&lt;/em&gt;` will fail under macOS because in the command&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hostname -I&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is used, but &apos;&lt;em&gt;-I&apos;&lt;/em&gt;&#160;is not a supported parameter for the hostname command under macOS&lt;/p&gt;</description>
                <environment></environment>
        <key id="13172644">FLINK-9874</key>
            <summary>set_conf_ssl in E2E tests fails on macOS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="florianschmidt">Florian Schmidt</assignee>
                                    <reporter username="florianschmidt">Florian Schmidt</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 17 Jul 2018 13:07:12 +0000</created>
                <updated>Wed, 1 Aug 2018 10:56:29 +0000</updated>
                            <resolved>Wed, 1 Aug 2018 10:56:29 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16546587" author="florianschmidt" created="Tue, 17 Jul 2018 13:12:58 +0000"  >&lt;p&gt;I think we should be able to work around this issue by checking the OS in the bash script and using ifconfig to obtain all possible ip addresses on all network interfaces?&lt;/p&gt;</comment>
                            <comment id="16561844" author="githubbot" created="Mon, 30 Jul 2018 12:19:14 +0000"  >&lt;p&gt;florianschmidt1994 opened a new pull request #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453&lt;/a&gt;&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This fixes the set_ssl_conf utility function under macOS. The previous&lt;br/&gt;
   version was using `hostname -I` regardless of the OS, but the -I option&lt;br/&gt;
   is not available on the BSD version of the hostname command.&lt;/p&gt;

&lt;p&gt;   This is now fixed by checking for all IPv4 addresses from ifconfig if the&lt;br/&gt;
   OS is macOS and formatting the output to be identical to `hostname -I`.&lt;/p&gt;

&lt;p&gt;   Additionally the filtering of the output is removed so that now all&lt;br/&gt;
   ip addresses are appended to the SANSTRING instead of just one.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Successfully ran `./run-single-test.sh test-scripts/test_batch_allround.sh` (this uses SSL setup) on macOS 10.13.6&lt;/li&gt;
	&lt;li&gt;Successfully ran `./run-single-test.sh test-scripts/test_batch_allround.sh` (this uses SSL setup) on Ubuntu 16.04.4&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): no&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? no&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? not applicable&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16561845" author="githubbot" created="Mon, 30 Jul 2018 12:19:36 +0000"  >&lt;p&gt;florianschmidt1994 commented on issue #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453#issuecomment-408844189&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453#issuecomment-408844189&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @NicoK here we go &#128588;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16562067" author="githubbot" created="Mon, 30 Jul 2018 16:07:27 +0000"  >&lt;p&gt;NicoK commented on issue #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453#issuecomment-408918418&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453#issuecomment-408918418&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   just out of curiosity (and I don&apos;t know the details there):&lt;br/&gt;
   Does this still work with the gnu versions of these tools installed, e.g. via `homebrew`? Because at the moment, this completely depends on the OS detection, not on the actual tools.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16562075" author="githubbot" created="Mon, 30 Jul 2018 16:15:59 +0000"  >&lt;p&gt;florianschmidt1994 commented on issue #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453#issuecomment-408921235&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453#issuecomment-408921235&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   According to &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;`ifconfig` is not part of coreutils, but more like &quot;a wrapper to the IPConfiguration agent&quot;. IDK if there is any other version of ifconfig out there that could be installed on MacOS, but if it were it would possibly break the code.. I&apos;d say the risk of that happening is rather slim though&lt;/p&gt;

&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/List_of_GNU_Core_Utilities_commands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/List_of_GNU_Core_Utilities_commands&lt;/a&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/Ifconfig&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/Ifconfig&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16562076" author="githubbot" created="Mon, 30 Jul 2018 16:16:12 +0000"  >&lt;p&gt;florianschmidt1994 edited a comment on issue #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453#issuecomment-408921235&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453#issuecomment-408921235&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   According to &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;`ifconfig` is not part of coreutils, but more like &quot;a wrapper to the IPConfiguration agent&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. IDK if there is any other version of ifconfig out there that could be installed on MacOS, but if it were it would possibly break the code.. I&apos;d say the risk of that happening is rather slim though&lt;/p&gt;

&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/List_of_GNU_Core_Utilities_commands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/List_of_GNU_Core_Utilities_commands&lt;/a&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/Ifconfig&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/Ifconfig&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16565039" author="githubbot" created="Wed, 1 Aug 2018 09:27:41 +0000"  >&lt;p&gt;twalthr commented on a change in pull request #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453#discussion_r206811377&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453#discussion_r206811377&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: flink-end-to-end-tests/test-scripts/common.sh&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -154,12 +175,15 @@ function set_conf_ssl {&lt;br/&gt;
        rm -rf &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
     fi&lt;br/&gt;
     mkdir -p &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
+&lt;br/&gt;
     NODENAME=`hostname -f`&lt;br/&gt;
     SANSTRING=&quot;dns:${NODENAME}&quot;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for NODEIP in `hostname -I | cut -d&apos; &apos; -f1` ; do&lt;br/&gt;
+    for NODEIP in $(get_node_ip) ; do&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   Why did you remove the additional `| cut -d&apos; &apos; -f1`?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16565041" author="githubbot" created="Wed, 1 Aug 2018 09:30:03 +0000"  >&lt;p&gt;florianschmidt1994 commented on a change in pull request #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453#discussion_r206812468&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453#discussion_r206812468&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: flink-end-to-end-tests/test-scripts/common.sh&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -154,12 +175,15 @@ function set_conf_ssl {&lt;br/&gt;
        rm -rf &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
     fi&lt;br/&gt;
     mkdir -p &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
+&lt;br/&gt;
     NODENAME=`hostname -f`&lt;br/&gt;
     SANSTRING=&quot;dns:${NODENAME}&quot;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for NODEIP in `hostname -I | cut -d&apos; &apos; -f1` ; do&lt;br/&gt;
+    for NODEIP in $(get_node_ip) ; do&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   `hostname -I ` would return a list of IP addresses separated by a space, and the cut would only select one of those. The intended behaviour according to my discussion with @NicoK is that we append all IP addresses returned by `hostname -I` to the SANSTRING, which is why I removed that line&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16565045" author="githubbot" created="Wed, 1 Aug 2018 09:31:55 +0000"  >&lt;p&gt;twalthr commented on a change in pull request #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453#discussion_r206813050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453#discussion_r206813050&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: flink-end-to-end-tests/test-scripts/common.sh&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -154,12 +175,15 @@ function set_conf_ssl {&lt;br/&gt;
        rm -rf &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
     fi&lt;br/&gt;
     mkdir -p &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
+&lt;br/&gt;
     NODENAME=`hostname -f`&lt;br/&gt;
     SANSTRING=&quot;dns:${NODENAME}&quot;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for NODEIP in `hostname -I | cut -d&apos; &apos; -f1` ; do&lt;br/&gt;
+    for NODEIP in $(get_node_ip) ; do&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   Thanks for the clarification.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16565073" author="githubbot" created="Wed, 1 Aug 2018 09:59:43 +0000"  >&lt;p&gt;twalthr closed pull request #6453: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9874&quot; title=&quot;set_conf_ssl in E2E tests fails on macOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9874&quot;&gt;&lt;del&gt;FLINK-9874&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;E2E Tests&amp;#93;&lt;/span&gt; Fix set_ssl_conf for macOS&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6453&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6453&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/flink-end-to-end-tests/test-scripts/common.sh b/flink-end-to-end-tests/test-scripts/common.sh&lt;br/&gt;
index c78afe74b6d..f428a52c488 100644&lt;br/&gt;
&amp;#8212; a/flink-end-to-end-tests/test-scripts/common.sh&lt;br/&gt;
+++ b/flink-end-to-end-tests/test-scripts/common.sh&lt;br/&gt;
@@ -146,6 +146,27 @@ function create_ha_config() &lt;/p&gt;
{
 EOL
 }

&lt;p&gt;+function get_node_ip {&lt;br/&gt;
+    local ip_addr&lt;br/&gt;
+&lt;br/&gt;
+    if [[ ${OS_TYPE} == &quot;linux&quot; ]]; then&lt;br/&gt;
+        ip_addr=$(hostname -I)&lt;br/&gt;
+    elif [[ ${OS_TYPE} == &quot;mac&quot; ]]; then&lt;br/&gt;
+        ip_addr=$(&lt;br/&gt;
+            ifconfig |&lt;br/&gt;
+            grep -E &quot;(&lt;span class=&quot;error&quot;&gt;&amp;#91;0-9&amp;#93;&lt;/span&gt;&lt;/p&gt;
{1,3}\.){3}&lt;span class=&quot;error&quot;&gt;&amp;#91;0-9&amp;#93;&lt;/span&gt;{1,3}
&lt;p&gt;&quot; | # grep IPv4 addresses only&lt;br/&gt;
+            grep -v 127.0.0.1 |                     # do not use 127.0.0.1 (to be consistent with hostname -I)&lt;br/&gt;
+            awk &apos;&lt;/p&gt;
{ print $2 }
&lt;p&gt;&apos; |                    # extract ip from row&lt;br/&gt;
+            paste -sd &quot; &quot; -                         # combine everything to one line&lt;br/&gt;
+        )&lt;br/&gt;
+    else&lt;br/&gt;
+        echo &quot;Warning: Unsupported OS_TYPE &apos;${OS_TYPE}&apos; for &apos;get_node_ip&apos;. Falling back to &apos;hostname -I&apos; (linux)&quot;&lt;br/&gt;
+        ip_addr=$(hostname -I)&lt;br/&gt;
+    fi&lt;br/&gt;
+&lt;br/&gt;
+    echo ${ip_addr}&lt;br/&gt;
+}&lt;br/&gt;
+&lt;br/&gt;
 function set_conf_ssl {&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;clean up the dir that will be used for SSL certificates and trust stores&lt;br/&gt;
@@ -154,12 +175,15 @@ function set_conf_ssl {&lt;br/&gt;
        rm -rf &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
     fi&lt;br/&gt;
     mkdir -p &quot;${TEST_DATA_DIR}/ssl&quot;&lt;br/&gt;
+&lt;br/&gt;
     NODENAME=`hostname -f`&lt;br/&gt;
     SANSTRING=&quot;dns:${NODENAME}&quot;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for NODEIP in `hostname -I | cut -d&apos; &apos; -f1` ; do&lt;br/&gt;
+    for NODEIP in $(get_node_ip) ; do&lt;br/&gt;
         SANSTRING=&quot;${SANSTRING},ip:${NODEIP}&quot;&lt;br/&gt;
     done&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+    echo &quot;Using SAN ${SANSTRING}&quot;&lt;br/&gt;
+&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;create certificates&lt;br/&gt;
     keytool -genkeypair -alias ca -keystore &quot;${TEST_DATA_DIR}/ssl/ca.keystore&quot; -dname &quot;CN=Sample CA&quot; -storepass password -keypass password -keyalg RSA -ext bc=ca:true&lt;br/&gt;
     keytool -keystore &quot;${TEST_DATA_DIR}/ssl/ca.keystore&quot; -storepass password -alias ca -exportcert &amp;gt; &quot;${TEST_DATA_DIR}/ssl/ca.cer&quot;&lt;/li&gt;
&lt;/ol&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16565124" author="twalthr" created="Wed, 1 Aug 2018 10:56:29 +0000"  >&lt;p&gt;Fixed in 1.7.0: 891d3a36fca8569e61956ba5c2addbe9ac15e2f4&lt;br/&gt;
Fixed in 1.6.0: ed20d4dd76b1107bdd0987b3e6439a52c8aa6535&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vz4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>