<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:31:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8200] RocksDBAsyncSnapshotTest should use temp fold instead of fold with fixed name</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8200</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The following case failed when different user run the test in the same machine.&lt;/p&gt;

&lt;p&gt;Tests run: 4, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 3.226 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.contrib.streaming.state.RocksDBAsyncSnapshotTest&lt;br/&gt;
testCleanupOfSnapshotsInFailureCase(org.apache.flink.contrib.streaming.state.RocksDBAsyncSnapshotTest) &#160;Time elapsed: 0.023 sec &#160;&amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.io.IOException: No local storage directories available. Local DB files directory &apos;file:/tmp/foobar&apos; does not exist and cannot be created.&lt;br/&gt;
&#160;&#160; &#160;at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.lazyInitializeForJob(RocksDBStateBackend.java:251)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:300)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.flink.contrib.streaming.state.RocksDBAsyncSnapshotTest.testCleanupOfSnapshotsInFailureCase(RocksDBAsyncSnapshotTest.java:338)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13122774">FLINK-8200</key>
            <summary>RocksDBAsyncSnapshotTest should use temp fold instead of fold with fixed name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wenlong.lwl">Wenlong Lyu</assignee>
                                    <reporter username="wenlong.lwl">Wenlong Lyu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Dec 2017 07:01:53 +0000</created>
                <updated>Mon, 8 Jan 2018 21:40:35 +0000</updated>
                            <resolved>Mon, 8 Jan 2018 21:40:35 +0000</resolved>
                                                    <fixVersion>1.4.1</fixVersion>
                    <fixVersion>1.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16278134" author="githubbot" created="Tue, 5 Dec 2017 07:24:06 +0000"  >&lt;p&gt;GitHub user wenlong88 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5122&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8200&quot; title=&quot;RocksDBAsyncSnapshotTest should use temp fold instead of fold with fixed name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8200&quot;&gt;&lt;del&gt;FLINK-8200&lt;/del&gt;&lt;/a&gt; RocksDBAsyncSnapshotTest should use temp fold instead of fold with fixed name&lt;/p&gt;

&lt;p&gt;    Using fixed folder in test makes test fail when different users run the test in the same machine. We should TemporaryFolder instead to avoid the conflicts and make the test folder be cleared automaticlly when execution finished.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/wenlong88/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wenlong88/flink&lt;/a&gt; flink-8200&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5122.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5122.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5122&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 6798f54291941300a1c0a57dbf9971d21e3a4422&lt;br/&gt;
Author: wenlong.lwl &amp;lt;wenlong.lwl@alibaba-inc.com&amp;gt;&lt;br/&gt;
Date:   2017-12-05T07:16:32Z&lt;/p&gt;

&lt;p&gt;    use TemporaryFolder instead of fixed folder in RocksDBAsyncSnapshotTest&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16278453" author="githubbot" created="Tue, 5 Dec 2017 12:10:17 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5122#discussion_r154925706&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5122#discussion_r154925706&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-contrib/flink-statebackend-rocksdb/src/test/java/org/apache/flink/contrib/streaming/state/RocksDBAsyncSnapshotTest.java &amp;#8212;&lt;br/&gt;
    @@ -333,7 +339,7 @@ public void testCleanupOfSnapshotsInFailureCase() throws Exception {&lt;/p&gt;

&lt;p&gt;     		RocksDBStateBackend backend = new RocksDBStateBackend(stateBackend);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;backend.setDbStoragePath(&quot;file:///tmp/foobar&quot;);&lt;br/&gt;
    +		backend.setDbStoragePath(&quot;file://&quot; + temporaryFolder.newFolder().getAbsolutePath());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    To make this cross compatible with Windows (and other OSs), can you change that to `backend.setDbStoragePath(temporaryFolder.newFolder().toUri().toString());`&lt;/p&gt;</comment>
                            <comment id="16278715" author="githubbot" created="Tue, 5 Dec 2017 15:20:10 +0000"  >&lt;p&gt;Github user wenlong88 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5122&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @StephanEwen Thanks for reviewing, I have update the pr according to your comment.&lt;/p&gt;</comment>
                            <comment id="16289090" author="githubbot" created="Wed, 13 Dec 2017 10:55:00 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5122&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    merging.&lt;/p&gt;</comment>
                            <comment id="16290830" author="githubbot" created="Thu, 14 Dec 2017 13:24:33 +0000"  >&lt;p&gt;Github user wenlong88 closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5122&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16316828" author="zentol" created="Mon, 8 Jan 2018 19:23:22 +0000"  >&lt;p&gt;master: 4ac348d1fa539d64ce9317035716243c74d70818&lt;/p&gt;</comment>
                            <comment id="16317129" author="zentol" created="Mon, 8 Jan 2018 21:40:35 +0000"  >&lt;p&gt;1.4: 78e3405becb13ec74d6edd4624727f7fd40fea07&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3nj73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>