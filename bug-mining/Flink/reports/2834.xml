<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:38:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-11001] Window rowtime attribute can&apos;t be renamed in Java</title>
                <link>https://issues.apache.org/jira/browse/FLINK-11001</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently, we can rename window rowtime attribute like this in Scala:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
table
      .window(Tumble over 2.millis on &lt;span class=&quot;code-quote&quot;&gt;&apos;rowtime as &apos;&lt;/span&gt;w)
      .groupBy(&apos;w)
      .select(&lt;span class=&quot;code-quote&quot;&gt;&apos;w.rowtime as &apos;&lt;/span&gt;rowtime, &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;.count as &apos;&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, an exception will be thrown if we use java(by changing the Expressions to String):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
table
      .window(Tumble over 2.millis on &lt;span class=&quot;code-quote&quot;&gt;&apos;rowtime as &apos;&lt;/span&gt;w)
      .groupBy(&apos;w)
      .select(&lt;span class=&quot;code-quote&quot;&gt;&quot;w.rowtime as rowtime, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;.count as &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The Exception is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.flink.table.api.ExpressionParserException: Could not parse expression at column 11: `,&lt;span class=&quot;code-quote&quot;&gt;&apos; expected but `a&apos;&lt;/span&gt; found
w.rowtime as rowtime, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;.count as &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;To solve the problem, we&#160;can add rename support in&#160;&lt;tt&gt;ExpressionParser&lt;/tt&gt;. However, this may conflict with the design of source which use as before rowtime:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
stream.toTable(
      tEnv,
      ExpressionParser.parseExpressionList(&lt;span class=&quot;code-quote&quot;&gt;&quot;(b as b).rowtime, c as c, a as a&quot;&lt;/span&gt;): _*)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Personally, I think we should keep the two consistent, so the final api&#160;would be:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// window &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;
&lt;/span&gt;.select(&lt;span class=&quot;code-quote&quot;&gt;&quot;w.rowtime as rowtime, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;.count as &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&quot;&lt;/span&gt;)

&lt;span class=&quot;code-comment&quot;&gt;// source &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;
&lt;/span&gt;stream.toTable(
      tEnv,
      ExpressionParser.parseExpressionList(&lt;span class=&quot;code-quote&quot;&gt;&quot;b.rowtime as b, c as c, a as a&quot;&lt;/span&gt;): _*)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Any suggestions would be greatly appreciated!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13200345">FLINK-11001</key>
            <summary>Window rowtime attribute can&apos;t be renamed in Java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hequn8128">Hequn Cheng</assignee>
                                    <reporter username="hequn8128">Hequn Cheng</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 24 Nov 2018 09:42:26 +0000</created>
                <updated>Fri, 4 Jan 2019 14:57:43 +0000</updated>
                            <resolved>Thu, 13 Dec 2018 04:25:12 +0000</resolved>
                                                    <fixVersion>1.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16698700" author="fhueske" created="Mon, 26 Nov 2018 10:07:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hequn8128&quot; class=&quot;user-hover&quot; rel=&quot;hequn8128&quot;&gt;hequn8128&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I agree, Scala and Java Table API should be as close as possible.&lt;br/&gt;
So +1 for the proposed syntax.&lt;/p&gt;

&lt;p&gt;Best, Fabian&lt;/p&gt;</comment>
                            <comment id="16718873" author="githubbot" created="Wed, 12 Dec 2018 11:53:21 +0000"  >&lt;p&gt;hequn8128 opened a new pull request #7289: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-11001&quot; title=&quot;Window rowtime attribute can&amp;#39;t be renamed in Java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-11001&quot;&gt;&lt;del&gt;FLINK-11001&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Fix window rowtime attribute can&apos;t be renamed bug in Java&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/7289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/7289&lt;/a&gt;&lt;/p&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This pull request fixes the bug that window rowtime attribute can&apos;t be renamed in Java. It also changes the alias logic for proctime and rowtime fields in source, so it will *&lt;b&gt;break&lt;/b&gt;* backward compatibility. &lt;/p&gt;

&lt;p&gt;   The reason to change the alias logic in source is that we should make all alias logic consistent, as described in the jira(&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-11001&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-11001&lt;/a&gt;).&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Support time attribute alias in `ExpressionParser`.&lt;/li&gt;
	&lt;li&gt;Change time attribute alias logic in source.&lt;/li&gt;
	&lt;li&gt;Add tests.&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This change added tests and can be verified as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added tests in `AggregateStringExpressionTest` to test proctime and rowtime rename.&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: (no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (no)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16719738" author="fhueske" created="Thu, 13 Dec 2018 04:25:12 +0000"  >&lt;p&gt;Fixed for 1.8.0 with ff9b7f1b60a4aeb1d925b236b9818002aad830de&lt;/p&gt;</comment>
                            <comment id="16734222" author="twalthr" created="Fri, 4 Jan 2019 14:57:18 +0000"  >&lt;p&gt;Updated exception message in master: 038dc0008f7b27c787e3ccba2204f3a2851dff7d&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00too:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>