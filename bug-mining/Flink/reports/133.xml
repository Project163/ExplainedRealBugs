<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1305] Flink&apos;s hadoop compatibility layer cannot handle NullWritables</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1305</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;NullWritable is a special object that is commonly used in Hadoop applications. NullWritable does not provide a public constructor, but only a singleton factory method. Therefore Flink fails when users to try to read NullWritables from Hadoop sequencefiles.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12759717">FLINK-1305</key>
            <summary>Flink&apos;s hadoop compatibility layer cannot handle NullWritables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmetzger">Robert Metzger</assignee>
                                    <reporter username="ssc">Sebastian Schelter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Dec 2014 16:30:04 +0000</created>
                <updated>Thu, 16 Jun 2016 17:07:57 +0000</updated>
                            <resolved>Sun, 14 Dec 2014 22:27:40 +0000</resolved>
                                    <version>0.7.0-incubating</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>API / DataSet</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14235722" author="stephanewen" created="Fri, 5 Dec 2014 16:55:01 +0000"  >&lt;p&gt;How does Hadoop handle this? In many cases, they create a new instance as well (public null-ary constructor) and use that to read the data...&lt;/p&gt;</comment>
                            <comment id="14235910" author="githubbot" created="Fri, 5 Dec 2014 19:01:07 +0000"  >&lt;p&gt;GitHub user rmetzger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/252&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1305&quot; title=&quot;Flink&amp;#39;s hadoop compatibility layer cannot handle NullWritables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1305&quot;&gt;&lt;del&gt;FLINK-1305&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1304&quot; title=&quot;Add tests for the I/O Format wrappers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1304&quot;&gt;&lt;del&gt;FLINK-1304&lt;/del&gt;&lt;/a&gt; Test for HadoopInputWrapper and NullWritable support&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rmetzger/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rmetzger/incubator-flink&lt;/a&gt; flink1304&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/252.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/252.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #252&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 48778e83d2c04e2f65649b7c96f1aa92d4e1d350&lt;br/&gt;
Author: Robert Metzger &amp;lt;rmetzger@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-12-05T18:19:29Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1305&quot; title=&quot;Flink&amp;#39;s hadoop compatibility layer cannot handle NullWritables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1305&quot;&gt;&lt;del&gt;FLINK-1305&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1304&quot; title=&quot;Add tests for the I/O Format wrappers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1304&quot;&gt;&lt;del&gt;FLINK-1304&lt;/del&gt;&lt;/a&gt; Test for HadoopInputWrapper and NullWritable support&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14237305" author="githubbot" created="Sun, 7 Dec 2014 22:54:09 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/252#issuecomment-65959720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/252#issuecomment-65959720&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This change adds hadoop as a hard dependency to the `flink-java` project. Per the discussion on the mailing list, concerning support for Hadoop Writables, we voted to not do that and instead add an &quot;mimick interface&quot; to the Java API.&lt;/p&gt;

&lt;p&gt;    For a big change like reversing that, it would be good to have some reasons...&lt;/p&gt;</comment>
                            <comment id="14237840" author="githubbot" created="Mon, 8 Dec 2014 12:56:53 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/252#issuecomment-66112318&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/252#issuecomment-66112318&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The reason why I added the dependency to `hadoop-common` is that I need it to be able to instantiate the `NullWritable`.&lt;/p&gt;

&lt;p&gt;    Before that, we only needed the `Writable` interface which didn&apos;t require any other classes from Hadoop. However the `NullWritable` is depending on a lot of classes. I first tried it by copy-pasting classes from Hadoop, but after the 5th file or so I gave up. I don&apos;t know how many files it will be in the end. &lt;br/&gt;
    But it quickly becomes dangerous shipping Hadoop code due to incompatible versions.&lt;/p&gt;

&lt;p&gt;    Also, at the end of the day, people are going to have the Hadoop jars in their classpath anyways, because flink-runtime is depending on it.&lt;/p&gt;

&lt;p&gt;    The only argument left is probably the collection based execution. I think that one only requires flink-core and flink-java. But if somebody has an issue with the hadoop dependency, they can exclude it.&lt;/p&gt;</comment>
                            <comment id="14245946" author="githubbot" created="Sun, 14 Dec 2014 15:36:06 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/252#issuecomment-66916880&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/252#issuecomment-66916880&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Okay, let&apos;s add it as a dependency library. Might also make the &quot;Hadoop compatibility&quot; implementation easier, if we can assume it as a dependency.&lt;/p&gt;

&lt;p&gt;    For the collection execution, it should be fine. One can strip the Hadoop libraries if no Hadoop-related feature is used.&lt;/p&gt;

&lt;p&gt;    +1&lt;/p&gt;

&lt;p&gt;    Will merge this...&lt;/p&gt;</comment>
                            <comment id="14246167" author="githubbot" created="Sun, 14 Dec 2014 22:26:50 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/252&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14246170" author="stephanewen" created="Sun, 14 Dec 2014 22:27:40 +0000"  >&lt;p&gt;Fixed via 13968cd4de446b4f565a094554380eb8559b6cf9&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i233t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>