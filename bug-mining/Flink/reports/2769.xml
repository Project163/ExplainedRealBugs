<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:36:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-10991] Dockerfile in flink-container does not work with RocksDBStatebackend</title>
                <link>https://issues.apache.org/jira/browse/FLINK-10991</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The problem is described (and fixed for flink-docker) by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=plucas&quot; class=&quot;user-hover&quot; rel=&quot;plucas&quot;&gt;plucas&lt;/a&gt; in &lt;a href=&quot;https://github.com/docker-flink/docker-flink/issues/14.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/docker-flink/docker-flink/issues/14.&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13200147">FLINK-10991</key>
            <summary>Dockerfile in flink-container does not work with RocksDBStatebackend</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knaufk">Konstantin Knauf</assignee>
                                    <reporter username="knaufk">Konstantin Knauf</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 22 Nov 2018 18:22:46 +0000</created>
                <updated>Tue, 26 Feb 2019 17:25:21 +0000</updated>
                            <resolved>Wed, 28 Nov 2018 13:39:54 +0000</resolved>
                                                    <fixVersion>1.8.0</fixVersion>
                                    <component>flink-docker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16696188" author="githubbot" created="Thu, 22 Nov 2018 18:31:02 +0000"  >&lt;p&gt;knaufk opened a new pull request #7162: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10991&quot; title=&quot;Dockerfile in flink-container does not work with RocksDBStatebackend&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10991&quot;&gt;&lt;del&gt;FLINK-10991&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docker&amp;#93;&lt;/span&gt; Added libc6-compat package to all alpine-based Flink imag&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/7162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/7162&lt;/a&gt;&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   Flink images based on Dockerfile in the Flink repository should work with RocksDB out-of-the-box.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul&gt;
	&lt;li&gt;Added libc6-compat package to all alpine-based Flink images for RocksDB statebackend&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   Verified by building the image and running a job with RocksDBStatebackend. There are apparently no tests for flink-container yet and it seems out-of-scope for this change to add those.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): no&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`:  no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? no&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? not applicable&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16701882" author="githubbot" created="Wed, 28 Nov 2018 13:36:47 +0000"  >&lt;p&gt;dawidwys commented on issue #7162: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10991&quot; title=&quot;Dockerfile in flink-container does not work with RocksDBStatebackend&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10991&quot;&gt;&lt;del&gt;FLINK-10991&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docker&amp;#93;&lt;/span&gt; Added libc6-compat package to all alpine-based Flink imag&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/7162#issuecomment-442448892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/7162#issuecomment-442448892&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   +1, merging&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16701887" author="githubbot" created="Wed, 28 Nov 2018 13:39:11 +0000"  >&lt;p&gt;dawidwys closed pull request #7162: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10991&quot; title=&quot;Dockerfile in flink-container does not work with RocksDBStatebackend&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10991&quot;&gt;&lt;del&gt;FLINK-10991&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docker&amp;#93;&lt;/span&gt; Added libc6-compat package to all alpine-based Flink imag&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/7162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/7162&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/flink-container/docker/Dockerfile b/flink-container/docker/Dockerfile&lt;br/&gt;
index 458c2145278..57454799dd8 100644&lt;br/&gt;
&amp;#8212; a/flink-container/docker/Dockerfile&lt;br/&gt;
+++ b/flink-container/docker/Dockerfile&lt;br/&gt;
@@ -16,10 +16,10 @@&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;limitations under the License.&lt;br/&gt;
 ################################################################################&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;-FROM java:8-jre-alpine&lt;br/&gt;
+FROM openjdk:8-jre-alpine&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Install requirements&lt;br/&gt;
-RUN apk add --no-cache bash snappy&lt;br/&gt;
+RUN apk add --no-cache bash snappy libc6-compat&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Flink environment variables&lt;br/&gt;
 ENV FLINK_INSTALL_PATH=/opt&lt;br/&gt;
diff --git a/flink-contrib/docker-flink/Dockerfile b/flink-contrib/docker-flink/Dockerfile&lt;br/&gt;
index 46db36cfe81..d24a68c9235 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/flink-contrib/docker-flink/Dockerfile&lt;br/&gt;
+++ b/flink-contrib/docker-flink/Dockerfile&lt;br/&gt;
@@ -16,10 +16,10 @@&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;limitations under the License.&lt;br/&gt;
 ################################################################################&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;-FROM java:8-jre-alpine&lt;br/&gt;
+FROM openjdk:8-jre-alpine&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Install requirements&lt;br/&gt;
-RUN apk add --no-cache bash snappy&lt;br/&gt;
+RUN apk add --no-cache bash snappy libc6-compat&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Flink environment variables&lt;br/&gt;
 ENV FLINK_INSTALL_PATH=/opt&lt;/li&gt;
&lt;/ol&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16701891" author="dawidwys" created="Wed, 28 Nov 2018 13:39:54 +0000"  >&lt;p&gt;Fixed in master via: c86211883a886b099eee09472f36be68e6d0121b&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13049428">FLINK-6003</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00sgo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>