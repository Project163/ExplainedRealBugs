<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:24:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3757] addAccumulator does not throw Exception on duplicate accumulator name</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3757</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Works if tasks are chained, but in many situations it does not, see&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://gist.github.com/knaufk/a0026eff9792aa905a2f586f3b0cb112&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/knaufk/a0026eff9792aa905a2f586f3b0cb112&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Is this an undocumented feature or a valid bug?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12958798">FLINK-3757</key>
            <summary>addAccumulator does not throw Exception on duplicate accumulator name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mxm">Maximilian Michels</assignee>
                                    <reporter username="knaufk">Konstantin Knauf</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Apr 2016 10:03:11 +0000</created>
                <updated>Sat, 25 Jun 2016 15:36:22 +0000</updated>
                            <resolved>Sat, 25 Jun 2016 15:36:21 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15339224" author="mxm" created="Mon, 20 Jun 2016 09:25:06 +0000"  >&lt;p&gt;Accumulators are first created locally without checking at the JobManager whether they exist. Only once they have been transferred to the JobManager they are merged (and errors are reported). Since accumulators can be created at arbitrary points during job execution, I think this behavior makes sense. We would have to send a message to the JobManager upon creation or do static analysis of the code to see if accumulators collide.&lt;/p&gt;

&lt;p&gt;I would say it is a feature to avoid making requests to the JobManager during execution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15339724" author="knaufk" created="Mon, 20 Jun 2016 15:32:26 +0000"  >&lt;p&gt;Thank you for looking into it. I find the javadoc, quite misleading in this case.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;/**&lt;br/&gt;
 &amp;#42; Add this accumulator. Throws an exception if the accumulator already exists.&lt;br/&gt;
 */&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="15339744" author="mxm" created="Mon, 20 Jun 2016 15:41:50 +0000"  >&lt;p&gt;It does throw an exception if you previously added it in the same Task. I agree, we should clarify that.&lt;/p&gt;</comment>
                            <comment id="15339748" author="githubbot" created="Mon, 20 Jun 2016 15:45:58 +0000"  >&lt;p&gt;GitHub user mxm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2138&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3757&quot; title=&quot;addAccumulator does not throw Exception on duplicate accumulator name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3757&quot;&gt;&lt;del&gt;FLINK-3757&lt;/del&gt;&lt;/a&gt; clarify JavaDoc for addAccumulator method&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mxm/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mxm/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3757&quot; title=&quot;addAccumulator does not throw Exception on duplicate accumulator name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3757&quot;&gt;&lt;del&gt;FLINK-3757&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2138.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2138.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2138&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 99f6dd570be5afedc2d01443c67e33e0ad994d97&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-20T15:45:57Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3757&quot; title=&quot;addAccumulator does not throw Exception on duplicate accumulator name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3757&quot;&gt;&lt;del&gt;FLINK-3757&lt;/del&gt;&lt;/a&gt; clarify JavaDoc for addAccumulator method&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15339749" author="mxm" created="Mon, 20 Jun 2016 15:46:47 +0000"  >&lt;p&gt;Does the pull request improve the documentation?&lt;/p&gt;</comment>
                            <comment id="15339772" author="githubbot" created="Mon, 20 Jun 2016 15:57:44 +0000"  >&lt;p&gt;Github user knaufk commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2138&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    What about:&lt;/p&gt;

&lt;p&gt;    Add this accumulator. Throws an exception if the accumulator already exists in the &lt;b&gt;same&lt;/b&gt; Task.&lt;br/&gt;
    Note that the namespace of Accumulators is scoped to the Flink Job, and adding multiple accumulators with the same name &lt;b&gt;across&lt;/b&gt; Tasks will still lead to unexpected behaviour.&lt;/p&gt;
</comment>
                            <comment id="15349690" author="githubbot" created="Sat, 25 Jun 2016 15:35:37 +0000"  >&lt;p&gt;Github user mxm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2138&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you for the suggestion. I incorporated it!&lt;/p&gt;</comment>
                            <comment id="15349691" author="mxm" created="Sat, 25 Jun 2016 15:36:21 +0000"  >&lt;p&gt;Fixed via 9c15406400af16861be8cf08e60d94074addbba0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2w45z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>