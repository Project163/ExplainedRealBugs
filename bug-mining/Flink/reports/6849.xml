<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:15:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-30623] Performance regression in checkpointSingleInput.UNALIGNED on 04.01.2023</title>
                <link>https://issues.apache.org/jira/browse/FLINK-30623</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Performance regression&lt;br/&gt;
checkpointSingleInput.UNALIGNED median=338.1445195 recent_median=67.6453005&lt;br/&gt;
checkpointSingleInput.UNALIGNED_1 median=213.230041 recent_median=39.830277&lt;br/&gt;
deployAllTasks.STREAMING median=168.533106 recent_median=159.8534395&lt;br/&gt;
stateBackends.MEMORY median=3229.0248875 recent_median=2985.782919&lt;br/&gt;
tupleKeyBy median=4155.684199 recent_median=3987.5812305&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/#/?exe=1&amp;amp;ben=checkpointSingleInput.UNALIGNED&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/#/?exe=1&amp;amp;ben=checkpointSingleInput.UNALIGNED&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/#/?exe=1&amp;amp;ben=checkpointSingleInput.UNALIGNED_1&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/#/?exe=1&amp;amp;ben=checkpointSingleInput.UNALIGNED_1&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/#/?exe=8&amp;amp;ben=deployAllTasks.STREAMING&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/#/?exe=8&amp;amp;ben=deployAllTasks.STREAMING&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/#/?exe=6&amp;amp;ben=stateBackends.MEMORY&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/#/?exe=6&amp;amp;ben=stateBackends.MEMORY&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/#/?exe=6&amp;amp;ben=tupleKeyBy&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/#/?exe=6&amp;amp;ben=tupleKeyBy&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13517474">FLINK-30623</key>
            <summary>Performance regression in checkpointSingleInput.UNALIGNED on 04.01.2023</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fanrui">Rui Fan</assignee>
                                    <reporter username="martijnvisser">Martijn Visser</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 10 Jan 2023 17:02:01 +0000</created>
                <updated>Tue, 31 Jan 2023 14:09:26 +0000</updated>
                            <resolved>Tue, 31 Jan 2023 14:09:26 +0000</resolved>
                                                    <fixVersion>1.17.0</fixVersion>
                                    <component>Benchmarks</component>
                    <component>Runtime / Checkpointing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="17672271" author="yanfei lei" created="Wed, 11 Jan 2023 09:38:54 +0000"  >&lt;p&gt;For checkpointSingleInput.UNALIGNED and checkpointSingleInput.UNALIGNED_1, the regression occurred during 13ef498172b...fb272D2cdebf. Seems to be related to fb272D2cdebf(&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30533&quot; title=&quot;SourceOperator#emitNext() should push records to DataOutput in a while loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30533&quot;&gt;&lt;del&gt;FLINK-30533&lt;/del&gt;&lt;/a&gt;). I submitted two benchmark requests to verify this:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8080/job/flink-benchmark-request/177/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#177&lt;/a&gt; (before &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30533&quot; title=&quot;SourceOperator#emitNext() should push records to DataOutput in a while loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30533&quot;&gt;&lt;del&gt;FLINK-30533&lt;/del&gt;&lt;/a&gt;)
	&lt;ul&gt;
		&lt;li&gt;checkpointSingleInput.UNALIGNED &#65306; 333.635178(+-8.169488)&lt;/li&gt;
		&lt;li&gt;checkpointSingleInput.UNALIGNED_1&#65306;213.837107(+-7.282883)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8080/job/flink-benchmark-request/178/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#178&lt;/a&gt; (after &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30533&quot; title=&quot;SourceOperator#emitNext() should push records to DataOutput in a while loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30533&quot;&gt;&lt;del&gt;FLINK-30533&lt;/del&gt;&lt;/a&gt;)
	&lt;ul&gt;
		&lt;li&gt;checkpointSingleInput.UNALIGNED &#65306; 61.536982&#65288;+-3.581509&#65289;&lt;/li&gt;
		&lt;li&gt;checkpointSingleInput.UNALIGNED_1&#65306;38.207438&#65288;+-2.937051&#65289;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lindong&quot; class=&quot;user-hover&quot; rel=&quot;lindong&quot;&gt;lindong&lt;/a&gt; could you please help take a look?&lt;/p&gt;</comment>
                            <comment id="17672279" author="martijnvisser" created="Wed, 11 Jan 2023 09:49:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yanfei+Lei&quot; class=&quot;user-hover&quot; rel=&quot;Yanfei Lei&quot;&gt;Yanfei Lei&lt;/a&gt;&#160; Thanks for helping out on this&lt;/p&gt;</comment>
                            <comment id="17676002" author="pnowojski" created="Thu, 12 Jan 2023 13:04:04 +0000"  >&lt;p&gt;I have &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30533?focusedCommentId=17676585&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17676585&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;some doubts&lt;/a&gt; about &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30533&quot; title=&quot;SourceOperator#emitNext() should push records to DataOutput in a while loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30533&quot;&gt;&lt;del&gt;FLINK-30533&lt;/del&gt;&lt;/a&gt; design. Maybe it would be best to revert it and re-open the discussion? &lt;/p&gt;</comment>
                            <comment id="17677312" author="fanrui" created="Mon, 16 Jan 2023 10:37:15 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=martijnvisser&quot; class=&quot;user-hover&quot; rel=&quot;martijnvisser&quot;&gt;martijnvisser&lt;/a&gt; reports this issue, and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yanfei+Lei&quot; class=&quot;user-hover&quot; rel=&quot;Yanfei Lei&quot;&gt;Yanfei Lei&lt;/a&gt;&#160; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; discuss here.&lt;/p&gt;

&lt;p&gt;After analysis, I think the root cause is &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30533&quot; title=&quot;SourceOperator#emitNext() should push records to DataOutput in a while loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30533&quot;&gt;&lt;del&gt;FLINK-30533&lt;/del&gt;&lt;/a&gt; doesn&apos;t check `recordWriter.isAvailable()` in the loop of SourceOperator.&lt;/p&gt;

&lt;p&gt;When the recordWriter is unavailable, task shouldn&apos;t send data to downstream task, the task thread may get stuck in requestMemoryBuffer due to backpressure. The checkpoint barrier cannot be handled when task thread is stucking in requestMemoryBuffer, that&apos;s why performance regression for unaligned checkpoint.&#160;&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lindong&quot; class=&quot;user-hover&quot; rel=&quot;lindong&quot;&gt;lindong&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17677421" author="lindong" created="Mon, 16 Jan 2023 14:46:09 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=martijnvisser&quot; class=&quot;user-hover&quot; rel=&quot;martijnvisser&quot;&gt;martijnvisser&lt;/a&gt; for creating the issue. And thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fanrui&quot; class=&quot;user-hover&quot; rel=&quot;fanrui&quot;&gt;fanrui&lt;/a&gt; for creating the bugfix PR!&lt;/p&gt;

&lt;p&gt;Sorry, I didn&apos;t notice the Jira notification due to my gmail filter misconfiguration. I just fixed the configuration and should be able to notice Jira comments in the future.&lt;/p&gt;

&lt;p&gt;I will look into this issue and the PR tomorrow morning.&lt;/p&gt;</comment>
                            <comment id="17681102" author="pnowojski" created="Thu, 26 Jan 2023 19:54:51 +0000"  >&lt;p&gt;It seems like not everything has been fixed?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/?ben=checkpointSingleInput.UNALIGNED&amp;amp;env=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/?ben=checkpointSingleInput.UNALIGNED&amp;amp;env=2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Does anyone has some idea why?&lt;/p&gt;</comment>
                            <comment id="17681196" author="fanrui" created="Fri, 27 Jan 2023 06:22:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; was merged at 23.01.2023, I&apos;m not sure whether it will affect the benchmark. I can check it today.&lt;/p&gt;</comment>
                            <comment id="17681237" author="pnowojski" created="Fri, 27 Jan 2023 08:51:10 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="17681273" author="lindong" created="Fri, 27 Jan 2023 10:52:50 +0000"  >&lt;p&gt;Merged to master branch with the following commits:&lt;/p&gt;

&lt;p&gt;2d1510a9d559a49806a60ececfd854dd53a6591d&lt;br/&gt;
877511b8ea2b4ef62fc520a0d0bd9087f2f25c56&lt;br/&gt;
560f314703858464f5089e24e065347d00704af5&lt;/p&gt;</comment>
                            <comment id="17681300" author="lindong" created="Fri, 27 Jan 2023 12:05:36 +0000"  >&lt;p&gt;It appears that the records/sec of checkpointSingleInput dropped by about 9% from 337.5 to 309.4.&lt;/p&gt;

&lt;p&gt;My hypothesis for this regression is that most workload of this benchmark is related to control flow (e.g. checkpoint-related events) rather than data flow. Thus it can not take advantage of the optimization we put in emitNext(...). Instead, it suffers the additional overhead of the operation (e.g. checking whether mailbox is empty and whether task is available) we put in the emitNext(), which leads to the 10% performance regression.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17681313" author="fanrui" created="Fri, 27 Jan 2023 12:53:47 +0000"  >&lt;p&gt;&amp;gt; It can not take advantage of the optimization we put in emitNext(...). Instead, it suffers the additional overhead of the operation (e.g. checking whether mailbox is empty and whether task is available) we put in the emitNext(), which leads to the 10% performance regression.&lt;/p&gt;

&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lindong&quot; class=&quot;user-hover&quot; rel=&quot;lindong&quot;&gt;lindong&lt;/a&gt; thanks for your feedback. Sorry, I don&apos;t think it can lead to the 10% performance regression. We can take a look the benchmark of mapSink&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. The records/sec can reach 40k, indicating that the additional overhead is very small. Shouldn&apos;t reduce 330 records/sec to 300.&lt;/p&gt;

&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; is the root cause, the execution.checkpointing.unaligned.max-subtasks-per-channel-state-file=5 by default. It means 5 subtasks will share the same Unaligned checkpooint file. It will reduce the number of small files, but the UC time will become larger.&lt;/p&gt;

&lt;p&gt;I run the UNALIGNED benchmark on my Mac based on master, and check the benchmark result after setting execution.checkpointing.unaligned.max-subtasks-per-channel-state-file=1.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// execution.checkpointing.unaligned.max-subtasks-per-channel-state-file=5
&lt;/span&gt;Benchmark                                            (mode)   Mode  Cnt    Score    Error  Units
CheckpointingTimeBenchmark.checkpointSingleInput  UNALIGNED  thrpt   30  317.063 &#177; 12.762  ops/s

&lt;span class=&quot;code-comment&quot;&gt;// execution.checkpointing.unaligned.max-subtasks-per-channel-state-file=1
&lt;/span&gt;Benchmark                                            (mode)   Mode  Cnt    Score   Error  Units
CheckpointingTimeBenchmark.checkpointSingleInput  UNALIGNED  thrpt   30  351.852 &#177; 6.857  ops/s &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;From the benchmark, I think we can ensure &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; is the root cause. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;, do you think we should set execution.checkpointing.unaligned.max-subtasks-per-channel-state-file=1 in the flink-benchmark? Or should we add the parameters about it? We can compare the performance impact on UC under different execution.checkpointing.unaligned.max-subtasks-per-channel-state-file.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/?ben=mapSink.F27_UNBOUNDED&amp;amp;env=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/?ben=mapSink.F27_UNBOUNDED&amp;amp;env=2&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://codespeed.dak8s.net:8000/timeline/#/?exe=1&amp;amp;ben=checkpointSingleInput.UNALIGNED&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codespeed.dak8s.net:8000/timeline/#/?exe=1&amp;amp;ben=checkpointSingleInput.UNALIGNED&amp;amp;extr=on&amp;amp;quarts=on&amp;amp;equid=off&amp;amp;env=2&amp;amp;revs=200&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17682121" author="pnowojski" created="Mon, 30 Jan 2023 14:37:41 +0000"  >&lt;p&gt;Thanks for the analysis &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fanrui&quot; class=&quot;user-hover&quot; rel=&quot;fanrui&quot;&gt;fanrui&lt;/a&gt; !&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&#160;It means 5 subtasks will share the same Unaligned checkpooint file. It will reduce the number of small files, but the UC time will become larger.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;What do you think is the actual reason behind the regression? That now we have to enqueue writes from a couple of subtasks one after another, so for example with 2 subtasks, the second has to wait until first completes it&apos;s writes?&#160;&lt;/p&gt;

&lt;p&gt;And what do you think is the impact of this setting in a production setups? If this is an issue related to number of shared IO threads, it might be that we only increased the checkpoint time by a small constant (&lt;tt&gt;0.3ms / checkpoint&lt;/tt&gt;&#160;based on the numbers that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fanrui&quot; class=&quot;user-hover&quot; rel=&quot;fanrui&quot;&gt;fanrui&lt;/a&gt;&#160; has quoted), that simply remains a constant with more realistic setups. Increase checkpoint time by 0.3ms when checkpoints are taking a couple of seconds, doesn&apos;t matter.&lt;/p&gt;</comment>
                            <comment id="17682466" author="fanrui" created="Tue, 31 Jan 2023 09:47:56 +0000"  >&lt;blockquote&gt;&lt;p&gt; What do you think is the actual reason behind the regression? That now we have to enqueue writes from a couple of subtasks one after another, so for example with 2 subtasks, the second has to wait until first completes it&apos;s writes? &lt;/p&gt;&lt;/blockquote&gt; 

&lt;p&gt;When two subtasks share the same file, only one subtask can write the file at a time, that is, subtask 2 must wait while subtask1 is writing to the file, so the UC time will become larger.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt; And what do you think is the impact of this setting in a production setups?&lt;/p&gt;&lt;/blockquote&gt; 

&lt;p&gt;I think the impact on production is minimal. If hdfs writes quickly, the checkpoint time will not increase significantly. Of course, if hdfs writes slowly, it may have an impact, a reasonable solution at this point is: flink or hdfs sre should improve the stability and performance of hdfs.&lt;/p&gt;</comment>
                            <comment id="17682584" author="pnowojski" created="Tue, 31 Jan 2023 14:09:26 +0000"  >&lt;p&gt;Ok, let&apos;s keep it as it is. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fanrui&quot; class=&quot;user-hover&quot; rel=&quot;fanrui&quot;&gt;fanrui&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13519843">FLINK-30709</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13515915">FLINK-30533</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ep5k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>