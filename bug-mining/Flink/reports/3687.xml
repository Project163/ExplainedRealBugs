<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:43:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15592] Streaming sql throw hive exception when it doesn&apos;t use any hive table</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15592</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;I use the following streaming sql to query a kafka table whose metadata is store in hive metastore via HiveCatalog. But it will throw hive related exception which is very confusing.&lt;/p&gt;

&lt;p&gt;SQL&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SELECT *
FROM (
   SELECT *,
     ROW_NUMBER() OVER(
       ORDER BY event_ts) AS rownum
   FROM source_kafka)
WHERE rownum &amp;lt;= 10
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exception&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: org.apache.flink.table.api.ValidationException: SQL validation failed. java.lang.reflect.InvocationTargetException
	at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:130)
	at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:105)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:127)
	at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:66)
	at org.apache.flink.table.api.internal.TableEnvironmentImpl.sqlQuery(TableEnvironmentImpl.java:464)
	at org.apache.zeppelin.flink.sql.AbstractStreamSqlJob.run(AbstractStreamSqlJob.java:103)
	... 13 more
Caused by: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException
	at org.apache.flink.table.planner.functions.utils.HiveFunctionUtils.invokeGetResultType(HiveFunctionUtils.java:77)
	at org.apache.flink.table.planner.functions.utils.HiveAggSqlFunction.lambda$createReturnTypeInference$0(HiveAggSqlFunction.java:82)
	at org.apache.calcite.sql.SqlOperator.inferReturnType(SqlOperator.java:470)
	at org.apache.calcite.sql.SqlOperator.validateOperands(SqlOperator.java:437)
	at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:303)
	at org.apache.calcite.sql.SqlFunction.deriveType(SqlFunction.java:219)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5600)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5587)
	at org.apache.calcite.sql.SqlCall.accept(SqlCall.java:139)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveTypeImpl(SqlValidatorImpl.java:1691)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveType(SqlValidatorImpl.java:1676)
	at org.apache.calcite.sql.SqlCallBinding.getOperandType(SqlCallBinding.java:237)
	at org.apache.calcite.sql.type.OrdinalReturnTypeInference.inferReturnType(OrdinalReturnTypeInference.java:40)
	at org.apache.calcite.sql.type.SqlTypeTransformCascade.inferReturnType(SqlTypeTransformCascade.java:54)
	at org.apache.calcite.sql.SqlOperator.inferReturnType(SqlOperator.java:470)
	at org.apache.calcite.sql.SqlOperator.validateOperands(SqlOperator.java:437)
	at org.apache.calcite.sql.SqlOverOperator.deriveType(SqlOverOperator.java:86)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5600)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5587)
	at org.apache.calcite.sql.SqlCall.accept(SqlCall.java:139)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveTypeImpl(SqlValidatorImpl.java:1691)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveType(SqlValidatorImpl.java:1676)
	at org.apache.calcite.sql.SqlAsOperator.deriveType(SqlAsOperator.java:133)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5600)
	at org.apache.calcite.sql.validate.SqlValidatorImpl$DeriveTypeVisitor.visit(SqlValidatorImpl.java:5587)
	at org.apache.calcite.sql.SqlCall.accept(SqlCall.java:139)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveTypeImpl(SqlValidatorImpl.java:1691)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.deriveType(SqlValidatorImpl.java:1676)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.expandSelectItem(SqlValidatorImpl.java:479)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelectList(SqlValidatorImpl.java:4105)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3389)
	at org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)
	at org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1008)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:968)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3122)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateFrom(SqlValidatorImpl.java:3104)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3376)
	at org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)
	at org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:1008)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:968)
	at org.apache.calcite.sql.SqlSelect.validate(SqlSelect.java:216)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validateScopedExpression(SqlValidatorImpl.java:943)
	at org.apache.calcite.sql.validate.SqlValidatorImpl.validate(SqlValidatorImpl.java:650)
	at org.apache.flink.table.planner.calcite.FlinkPlannerImpl.validate(FlinkPlannerImpl.scala:126)
	... 18 more
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.flink.table.planner.functions.utils.HiveFunctionUtils.invokeGetResultType(HiveFunctionUtils.java:73)
	... 63 more
Caused by: org.apache.flink.table.functions.hive.FlinkHiveUDFException: Failed to get Hive result type from org.apache.hadoop.hive.ql.udf.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericUDAFRowNumber
	at org.apache.flink.table.functions.hive.HiveGenericUDAF.getHiveResultType(HiveGenericUDAF.java:202)
	... 68 more
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Only COMPLETE mode supported &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row_number function
	at org.apache.hadoop.hive.ql.udf.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericUDAFRowNumber$GenericUDAFAbstractRowNumberEvaluator.init(GenericUDAFRowNumber.java:100)
	at org.apache.flink.table.functions.hive.HiveGenericUDAF.init(HiveGenericUDAF.java:93)
	at org.apache.flink.table.functions.hive.HiveGenericUDAF.getHiveResultType(HiveGenericUDAF.java:196)
	... 68 more
ERROR   
Took 2 sec. Last updated by anonymous at January 15 2020, 11:12:16 AM.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13279489">FLINK-15592</key>
            <summary>Streaming sql throw hive exception when it doesn&apos;t use any hive table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lirui">Rui Li</assignee>
                                    <reporter username="zjffdu">Jeff Zhang</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 15 Jan 2020 03:30:14 +0000</created>
                <updated>Thu, 23 Jan 2020 17:43:44 +0000</updated>
                            <resolved>Thu, 23 Jan 2020 17:43:44 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.10.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17015607" author="jark" created="Wed, 15 Jan 2020 03:39:36 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bli&quot; class=&quot;user-hover&quot; rel=&quot;bli&quot;&gt;bli&lt;/a&gt;, it seems that the ModuleManager resolve the &lt;tt&gt;ROW_NUMBER()&lt;/tt&gt; as a Hive function. &lt;br/&gt;
However, according to FLIP-68 the resolve order should be the moudle order which should be &lt;tt&gt;core&lt;/tt&gt; and then &lt;tt&gt;hive&lt;/tt&gt;. I guess it might be a bug in the resolve order? &lt;/p&gt;</comment>
                            <comment id="17015611" author="lirui" created="Wed, 15 Jan 2020 03:59:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjffdu&quot; class=&quot;user-hover&quot; rel=&quot;zjffdu&quot;&gt;zjffdu&lt;/a&gt; Are you using hive module? Or is it possible a function named &quot;row_number&quot; exists in your HMS (you can verify this by calling HiveCatalog::listFunctions)?&lt;br/&gt;
cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phoenixjiangnan&quot; class=&quot;user-hover&quot; rel=&quot;phoenixjiangnan&quot;&gt;phoenixjiangnan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17015617" author="lzljs3620320" created="Wed, 15 Jan 2020 04:17:45 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;,&#160;ROW_NUMBER should not be resolved in &lt;tt&gt;FunctionCatalogOperatorTable.lookupOperatorOverloads&lt;/tt&gt;. Here should return empty, and calcite will treat it as an over function later. Then it works.&lt;/p&gt;

&lt;p&gt;So maybe we should add black list or white list to Hive&#160;ModuleManager.&lt;/p&gt;</comment>
                            <comment id="17015618" author="lzljs3620320" created="Wed, 15 Jan 2020 04:23:03 +0000"  >&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=danny0405&quot; class=&quot;user-hover&quot; rel=&quot;danny0405&quot;&gt;danny0405&lt;/a&gt;&#160;What is the mechanism that calcite parses ROW_NUMBER?&lt;/p&gt;</comment>
                            <comment id="17015637" author="phoenixjiangnan" created="Wed, 15 Jan 2020 05:24:27 +0000"  >&lt;p&gt;I checked BuiltInFunctionDefinitions and there&apos;s no udf called &quot;row_number&quot;. that&apos;s why it&apos;s resolved to HiveModule, and this error may be due to that Hive aggregate udfs are using in streaming mode. I&apos;ll add doc to advice users to not use Hive aggregate udf in streaming mode in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15593&quot; title=&quot;add doc to remind users not using Hive aggregate functions in streaming mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15593&quot;&gt;&lt;del&gt;FLINK-15593&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thus I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt;&#160;is right, and planner should probably resolve &quot;row_number&quot; to calcite, which may interfere with function resolution order.&lt;/p&gt;</comment>
                            <comment id="17015641" author="lzljs3620320" created="Wed, 15 Jan 2020 05:37:10 +0000"  >&lt;p&gt;Create&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15595&quot; title=&quot;Entirely implement resolution order as FLIP-68 concept&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15595&quot;&gt;FLINK-15595&lt;/a&gt; to solve module problem.&lt;/p&gt;

&lt;p&gt;Keep this ticket, because we need black list in hive module too, user can change&#160;resolution order to be hive function first.&lt;/p&gt;</comment>
                            <comment id="17015646" author="lirui" created="Wed, 15 Jan 2020 05:58:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phoenixjiangnan&quot; class=&quot;user-hover&quot; rel=&quot;phoenixjiangnan&quot;&gt;phoenixjiangnan&lt;/a&gt; row_number is defined in &lt;tt&gt;FlinkSqlOperatorTable&lt;/tt&gt;. Therefore I think CoreModule shouldn&apos;t only check &lt;tt&gt;BuiltInFunctionDefinitions&lt;/tt&gt; for &quot;core&quot; built-in functions. And &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15593&quot; title=&quot;add doc to remind users not using Hive aggregate functions in streaming mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15593&quot;&gt;&lt;del&gt;FLINK-15593&lt;/del&gt;&lt;/a&gt; is probably orthogonal to this issue.&lt;/p&gt;</comment>
                            <comment id="17015656" author="jark" created="Wed, 15 Jan 2020 06:15:50 +0000"  >&lt;p&gt;Shouldn&apos;t we add ROW_NUMBER into &lt;tt&gt;BuiltInFunctionDefinitions&lt;/tt&gt; and then this problem should be fixed? &lt;/p&gt;</comment>
                            <comment id="17015669" author="lzljs3620320" created="Wed, 15 Jan 2020 06:28:24 +0000"  >&lt;p&gt;&amp;gt;&#160;Shouldn&apos;t we add ROW_NUMBER into&#160;&lt;tt&gt;BuiltInFunctionDefinitions&lt;/tt&gt;&#160;and then this problem should be fixed?&lt;/p&gt;

&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Keep this ticket, because we need black list in hive module too, user can change&#160;resolution order to be hive function first. If we just&#160;add ROW_NUMBER into&#160;&lt;tt&gt;BuiltInFunctionDefinitions.&lt;/tt&gt;&#160;Not work too.&lt;/p&gt;</comment>
                            <comment id="17015672" author="jark" created="Wed, 15 Jan 2020 06:34:01 +0000"  >&lt;p&gt;I got what you mean &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt;. &lt;tt&gt;ROW_NUMBER&lt;/tt&gt; and &lt;tt&gt;RANK&lt;/tt&gt; and &lt;tt&gt;DENSE_RANK&lt;/tt&gt; is declarative aggregates, not imperative aggregates, so they should always be interpreted by Flink, not matter what the module order is.&lt;/p&gt;</comment>
                            <comment id="17017697" author="lzljs3620320" created="Fri, 17 Jan 2020 04:33:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt;&#160;Do you want to add black list to hive function module and take this ticket?&lt;/p&gt;</comment>
                            <comment id="17017698" author="lzljs3620320" created="Fri, 17 Jan 2020 04:34:42 +0000"  >&lt;p&gt;Increased priority, since we don&apos;t have a good solution in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15595&quot; title=&quot;Entirely implement resolution order as FLIP-68 concept&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15595&quot;&gt;FLINK-15595&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17017715" author="lirui" created="Fri, 17 Jan 2020 05:08:15 +0000"  >&lt;p&gt;OK, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; please assign this to me. Thanks.&lt;/p&gt;</comment>
                            <comment id="17017788" author="lirui" created="Fri, 17 Jan 2020 08:09:48 +0000"  >&lt;p&gt;Following is the list of functions that are in &lt;tt&gt;FlinkSqlOperatorTable&lt;/tt&gt; and &lt;b&gt;not&lt;/b&gt; in &lt;tt&gt;BuiltInFunctionDefinitions&lt;/tt&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt; any suggestions which of them should be included in the black list?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[$literalchain, $scalar_query, $sum0, *, +, -, /, /&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, &amp;lt;, &amp;lt;=, &amp;lt;&amp;gt;, =, &amp;gt;, &amp;gt;=, ascii, auxiliary_group, between asymmetric, between symmetric, &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;, char_length, character_length, chr, classifier, coalesce, convert_tz, current_date, current_time, current_timestamp, date_format, dayofmonth, dayofweek, dayofyear, decode, dense_rank, dot, encode, except, except all, exists, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;, first, first_value, from_base64, from_unixtime, group_id, grouping, grouping_id, hash_code, hop, hop_end, hop_proctime, hop_rowtime, hop_start, hour, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;, initcap, instr, intersect, intersect all, is distinct from, is &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, is not distinct from, is not &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, is not &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, is not unknown, is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, is &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, is unknown, is_alpha, is_decimal, is_digit, item, lag, last, last_value, lead, left, listagg, localtime, localtimestamp, locate, lower, match_proctime, match_rowtime, minute, month, multiset, next, not between asymmetric, not between symmetric, not in, not like, not similar to, now, nullif, nulls first, nulls last, overlaps, parse_url, prev, print, proctime_materialize, quarter, rand_integer, rank, regexp, regexp_extract, regexp_replace, reinterpret, reverse, right, row_number, running, second, session, session_end, session_proctime, session_rowtime, session_start, similar to, single_value, split_index, stddev, stddev_pop, stddev_samp, str_to_map, streamrecord_timestamp, substr, timestampadd, timestampdiff, to_base64, to_date, to_timestamp, tumble, tumble_end, tumble_proctime, tumble_rowtime, tumble_start, union, union all, unix_timestamp, upper, var_pop, var_samp, variance, week, year, ||]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or maybe we can take a conservative approach and ban all of them in &lt;tt&gt;HiveModule&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="17017792" author="lirui" created="Fri, 17 Jan 2020 08:16:45 +0000"  >&lt;p&gt;If we only ban functions like &lt;tt&gt;row_number&lt;/tt&gt;, and user specifies &lt;tt&gt;CoreModule&lt;/tt&gt; before &lt;tt&gt;HiveModule&lt;/tt&gt;, it seems &lt;tt&gt;HiveModule&lt;/tt&gt; will override other functions like &lt;tt&gt;ascii&lt;/tt&gt;, which violates the resolution order proposed in FLIP-68.&lt;/p&gt;

&lt;p&gt;On the other hand, if we ban all of them, and user specifies &lt;tt&gt;HiveModule&lt;/tt&gt; first, we won&apos;t be using functions like &lt;tt&gt;ascii&lt;/tt&gt; from &lt;tt&gt;HiveModule&lt;/tt&gt;, which also violates FLIP-68...&lt;/p&gt;</comment>
                            <comment id="17017797" author="lzljs3620320" created="Fri, 17 Jan 2020 08:22:28 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt;,&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;if it is runnable, I think it is OK, in FLIP-15595, maybe we will remove CoreMudule and let hive module functions first.&lt;/li&gt;
	&lt;li&gt;We need ban the functions which disturb regular SQL.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17022307" author="phoenixjiangnan" created="Thu, 23 Jan 2020 17:43:44 +0000"  >&lt;p&gt;1.10:&#160;6afd2874aa0ab2578692fb0e71ab0a5c2137ff82&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13279498">FLINK-15595</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13279496">FLINK-15593</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aio8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>