<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:32:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8901] YARN application name for Flink (per-job) submissions claims it is using only 1 TaskManager</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8901</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;If (with FLIP-6) a per-job YARN session is created without specifying the number of nodes, it will show up as &quot;Flink session with 1 TaskManagers&quot;, e.g. this job:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./bin/flink run -m yarn-cluster -yjm 768 -ytm 3072 -ys 2 -p 20 -c org.apache.flink.streaming.examples.wordcount.WordCount ./examples/streaming/WordCount.jar --input /usr/share/doc/rsync-3.0.6/COPYING
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13143615">FLINK-8901</key>
            <summary>YARN application name for Flink (per-job) submissions claims it is using only 1 TaskManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="nkruber">Nico Kruber</reporter>
                        <labels>
                            <label>flip-6</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 8 Mar 2018 17:10:57 +0000</created>
                <updated>Sat, 28 Jul 2018 12:22:18 +0000</updated>
                            <resolved>Tue, 27 Mar 2018 09:40:37 +0000</resolved>
                                    <version>1.5.0</version>
                    <version>1.6.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Deployment / YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16411225" author="githubbot" created="Fri, 23 Mar 2018 11:03:24 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5754&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8901&quot; title=&quot;YARN application name for Flink (per-job) submissions claims it is using only 1 TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8901&quot;&gt;&lt;del&gt;FLINK-8901&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Set proper Yarn application name&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    When deploying a session cluster, Flink will register under &quot;Flink session cluster&quot;.&lt;br/&gt;
    When deploying a per-job cluster, Flink will register under &quot;Flink per-job cluster&quot;.&lt;/p&gt;

&lt;p&gt;    cc @NicoK &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This change is a trivial rework / code cleanup without any test coverage.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: (no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (no)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (no)&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? (not applicable)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixYarnApplicationName&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5754.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5754.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5754&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8688f5ae82c57a42311e03d658298559d1fe833c&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-03-23T11:01:09Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8901&quot; title=&quot;YARN application name for Flink (per-job) submissions claims it is using only 1 TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8901&quot;&gt;&lt;del&gt;FLINK-8901&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Set proper Yarn application name&lt;/p&gt;

&lt;p&gt;    When deploying a session cluster, Flink will register under &quot;Flink session cluster&quot;.&lt;br/&gt;
    When deploying a per-job cluster, Flink will register under &quot;Flink per-job cluster&quot;.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16415070" author="githubbot" created="Tue, 27 Mar 2018 06:07:13 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5754&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the review @NicoK. I will remove the `applicationName` from `FlinkYarnSessionCli#createDescriptor`.&lt;/p&gt;

&lt;p&gt;    Technically when you run `bin/flink run -m yarn-cluster`, Flink will also start a session cluster because you have to support jobs with eager execution calls like `collect` and `print`.&lt;/p&gt;

&lt;p&gt;    Merging this PR.&lt;/p&gt;</comment>
                            <comment id="16415334" author="githubbot" created="Tue, 27 Mar 2018 09:39:34 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5754&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16415338" author="till.rohrmann" created="Tue, 27 Mar 2018 09:40:37 +0000"  >&lt;p&gt;Fixed via&lt;br/&gt;
master: bee630296236fe41510ada24bcb962cc147a78bd&lt;br/&gt;
1.5.0: 946902e4bc40a56a1656e63eb69ca9fd999dcbf1&lt;/p&gt;</comment>
                            <comment id="16552685" author="githubbot" created="Mon, 23 Jul 2018 11:26:01 +0000"  >&lt;p&gt;Github user arukavytsia commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5754&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I found that there is no ability no override the `Application Name` in cluster mode with `YARN`, for instance: `./bin/flink run -m yarn-cluster -nm \&quot;Some custom name\&quot; -yn 4 -yjm 1024 -ytm 4096 ./examples/batch/WordCount.jar`, if I&apos;m wrong, pleae, correct me. &lt;br/&gt;
    p.s. According &lt;span class=&quot;error&quot;&gt;&amp;#91;to this line&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/flink/blame/2ec72123e347e684ac40a1e1111a79a11211aadb/flink-yarn/src/main/java/org/apache/flink/yarn/AbstractYarnClusterDescriptor.java#L1033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blame/2ec72123e347e684ac40a1e1111a79a11211aadb/flink-yarn/src/main/java/org/apache/flink/yarn/AbstractYarnClusterDescriptor.java#L1033&lt;/a&gt;) it&apos;s feasible to override `Application Name` but not via cli.&lt;/p&gt;</comment>
                            <comment id="16560739" author="githubbot" created="Sat, 28 Jul 2018 12:22:18 +0000"  >&lt;p&gt;GJL commented on issue #5754: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8901&quot; title=&quot;YARN application name for Flink (per-job) submissions claims it is using only 1 TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8901&quot;&gt;&lt;del&gt;FLINK-8901&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Set proper Yarn application name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/5754#issuecomment-408604547&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5754#issuecomment-408604547&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @arukavytsia Can you open a new issue in JIRA? &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8901&quot; title=&quot;YARN application name for Flink (per-job) submissions claims it is using only 1 TaskManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8901&quot;&gt;&lt;del&gt;FLINK-8901&lt;/del&gt;&lt;/a&gt; is already resolved.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3r20n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>