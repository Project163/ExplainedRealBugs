<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:25:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4887] Replace ActorGateway by TaskManagerGateway interface</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4887</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Instead of accessing directly on the &lt;tt&gt;ActorGateway&lt;/tt&gt; in the &lt;tt&gt;Execution&lt;/tt&gt; and &lt;tt&gt;ExecutionVertex&lt;/tt&gt; it would be better to decouple the two components by introducing the &lt;tt&gt;TaskGateway&lt;/tt&gt; interface which provides access to task related rpc calls. The &lt;tt&gt;ActorGateway&lt;/tt&gt; could be one implementation of the interface.&lt;/p&gt;

&lt;p&gt;This change will prepare the further implementation of Flip-6.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13014514">FLINK-4887</key>
            <summary>Replace ActorGateway by TaskManagerGateway interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Oct 2016 17:41:50 +0000</created>
                <updated>Tue, 1 Nov 2016 08:38:45 +0000</updated>
                            <resolved>Tue, 1 Nov 2016 08:38:34 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15609992" author="githubbot" created="Wed, 26 Oct 2016 23:10:24 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;execution graph&amp;#93;&lt;/span&gt; Introduce TaskManagerGateway to encapsulate communcation logic&lt;/p&gt;

&lt;p&gt;    This PR is based on #2689 and #2698.&lt;/p&gt;

&lt;p&gt;    This PR introduces the `TaskManagerGateway` which is an abstraction layer for rpc calls to the `TaskManager`. Before the rpcs were directly executed on the `ActorGateway`. This is problematic since it bakes the dependency on Akka directly into many Flink components. In order to make them compatible with the changes of Flip-6, the rpc implementation details are now hidden behind the `TaskManagerGateway` interface implementation.&lt;/p&gt;

&lt;p&gt;    The `ActorTaskManagerGateway` is the implementation which uses the `ActorGateways` to send the rpcs.&lt;/p&gt;

&lt;p&gt;    In the wake of refactoring the `ExecutionVertex` and the `Execution` of the `ExecutionGraph`, the `StackTraceSampleCoordinator` and `CheckpointCoordinator` were changed so that they now use mostly Flink&apos;s own future abstraction.&lt;/p&gt;

&lt;p&gt;    Furthermore, some of the TaskManager&apos;s rpcs such as `CancelTask` and `StopTask` were changed so that they now return an `Acknowledge` message in case of a success and otherwise send an exception back to the caller.&lt;/p&gt;

&lt;p&gt;    This PR is a refactoring for the integration of Flip-6.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; taskGateway&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2699&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a29d458d689259b017015947c114dee026ffcbe8&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-25T08:31:53Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4903&quot; title=&quot;Introduce non async future methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4903&quot;&gt;&lt;del&gt;FLINK-4903&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;futures&amp;#93;&lt;/span&gt; Introduce synchronous future operations&lt;/p&gt;

&lt;p&gt;    The synchronous future operations are executed by the thread which adds the operation&lt;br/&gt;
    if the future is already completed or by the thread executing the last operation.&lt;/p&gt;

&lt;p&gt;commit fb686e50fe408503d4503c7d784bf70bd5f82b0b&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-23T22:25:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4889&quot; title=&quot;Make InstanceManager independent of ActorRef&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4889&quot;&gt;&lt;del&gt;FLINK-4889&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;InstanceManager&amp;#93;&lt;/span&gt; Remove ActorRef dependency from InstanceManager&lt;/p&gt;

&lt;p&gt;    The instance manager should not know about the underlying RPC abstraction, namely Akka.&lt;br/&gt;
    Therefore, the PR removes the dependency on ActorRef from the InstanceManager.&lt;/p&gt;

&lt;p&gt;commit a0488d1bdd91e939db4b30206afcab6d446adddd&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-23T09:06:47Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;execution graph&amp;#93;&lt;/span&gt; Introduce TaskManagerGateway to encapsulate communcation logic&lt;/p&gt;

&lt;p&gt;    All task manager related logic is now encapsulated in the TaskManagerGateway. Consequently,&lt;br/&gt;
    there is no direct use of the ActorGateway in the ExecutionGraph anymore.&lt;/p&gt;

&lt;p&gt;    Add PartitionInfo&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; Add FutureUtils#retry to automatically retry failed future operations&lt;/p&gt;

&lt;p&gt;    Adapt job manager&lt;/p&gt;

&lt;p&gt;commit 1c8a925072a66d41af2038daecd9a0d5e1a35edd&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-24T12:59:28Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; Refactor StackTraceSampleCoordinator to work with TaskManagerGateway and Flink futures&lt;/p&gt;

&lt;p&gt;commit 1394fa738ab2cb2718d3644c6f96be7012b91290&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-24T13:30:44Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; Refactor CheckpointCoordinator to work with TaskManagerGateway&lt;/p&gt;

&lt;p&gt;commit 6edf99c1a320f6e2d7e85ab69a60dd8f17e8e6c1&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-24T15:12:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; Fix test cases to work with the newly introduce TaskManagerGateway&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; Update FlinkFuture#handlyAsync to avoid second future operation&lt;/p&gt;

&lt;p&gt;commit b78565b87bf23170c586ee621a9dc52a8744a59e&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-26T23:09:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4887&quot; title=&quot;Replace ActorGateway by TaskManagerGateway interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4887&quot;&gt;&lt;del&gt;FLINK-4887&lt;/del&gt;&lt;/a&gt; Remove TaskOpeartionResult message&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15612672" author="githubbot" created="Thu, 27 Oct 2016 18:14:56 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85392726&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85392726&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/messages/StackTrace.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,41 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.messages;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.runtime.instance.InstanceID;&lt;br/&gt;
    +import org.apache.flink.util.Preconditions;&lt;br/&gt;
    +&lt;br/&gt;
    +public class StackTrace {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This also needs to be serializable&lt;/p&gt;</comment>
                            <comment id="15612673" author="githubbot" created="Thu, 27 Oct 2016 18:14:56 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85386607&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85386607&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/concurrent/FutureUtils.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,91 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.concurrent;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.runtime.concurrent.impl.FlinkCompletableFuture;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.util.concurrent.Callable;&lt;br/&gt;
    +import java.util.concurrent.Executor;&lt;br/&gt;
    +&lt;br/&gt;
    +public class FutureUtils {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    There is already a class `FutureUtil` in `flink-core`.&lt;br/&gt;
    Can you combine this class with that one?&lt;/p&gt;</comment>
                            <comment id="15612674" author="githubbot" created="Thu, 27 Oct 2016 18:14:56 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85390985&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85390985&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/messages/StackTraceSampleResponse.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,57 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.messages;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.runtime.executiongraph.ExecutionAttemptID;&lt;br/&gt;
    +import org.apache.flink.util.Preconditions;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    + * Response to the TriggerStackTraceSample message.&lt;br/&gt;
    + */&lt;br/&gt;
    +public class StackTraceSampleResponse {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This needs to be `java.io.Serializable`&lt;/p&gt;</comment>
                            <comment id="15612675" author="githubbot" created="Thu, 27 Oct 2016 18:14:56 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85383836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85383836&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/resources/log4j-test.properties &amp;#8212;&lt;br/&gt;
    @@ -18,7 +18,7 @@&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Set root logger level to OFF to not flood build logs&lt;/li&gt;
	&lt;li&gt;set manually to INFO for debugging purposes&lt;br/&gt;
    -log4j.rootLogger=OFF, testlogger&lt;br/&gt;
    +log4j.rootLogger=INFO, testlogger
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Leftover change&lt;/p&gt;</comment>
                            <comment id="15615835" author="githubbot" created="Fri, 28 Oct 2016 16:16:29 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85562718&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85562718&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/resources/log4j-test.properties &amp;#8212;&lt;br/&gt;
    @@ -18,7 +18,7 @@&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Set root logger level to OFF to not flood build logs&lt;/li&gt;
	&lt;li&gt;set manually to INFO for debugging purposes&lt;br/&gt;
    -log4j.rootLogger=OFF, testlogger&lt;br/&gt;
    +log4j.rootLogger=INFO, testlogger
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Thanks for spotting. Will correct it.&lt;/p&gt;</comment>
                            <comment id="15615867" author="githubbot" created="Fri, 28 Oct 2016 16:26:07 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85564343&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85564343&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/messages/StackTraceSampleResponse.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,57 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.messages;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.runtime.executiongraph.ExecutionAttemptID;&lt;br/&gt;
    +import org.apache.flink.util.Preconditions;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    + * Response to the TriggerStackTraceSample message.&lt;br/&gt;
    + */&lt;br/&gt;
    +public class StackTraceSampleResponse {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Yes, you&apos;re right. Thanks for spotting it. In Flip-6 I actually thought about adding a check to the `RpcCompletenessTest` that the parameters and return values of the `RpcGateways` are `Serializable`. This might help to spot these errors.&lt;/p&gt;</comment>
                            <comment id="15615868" author="githubbot" created="Fri, 28 Oct 2016 16:26:21 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85564373&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85564373&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/messages/StackTrace.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,41 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.messages;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.runtime.instance.InstanceID;&lt;br/&gt;
    +import org.apache.flink.util.Preconditions;&lt;br/&gt;
    +&lt;br/&gt;
    +public class StackTrace {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Thanks for spotting it. I will fix immediately.&lt;/p&gt;</comment>
                            <comment id="15615871" author="githubbot" created="Fri, 28 Oct 2016 16:27:25 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the review @StephanEwen. You&apos;re right that I should have tested the changes on a cluster to make sure that things are actually working. I&apos;ll address your comments and then run jobs with it.&lt;/p&gt;</comment>
                            <comment id="15622151" author="githubbot" created="Mon, 31 Oct 2016 13:29:27 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85737501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85737501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime-web/src/main/java/org/apache/flink/runtime/webmonitor/handlers/TaskManagerLogHandler.java &amp;#8212;&lt;br/&gt;
    @@ -243,22 +284,29 @@ public void onSuccess(Object filePathOption) throws Throwable {&lt;br/&gt;
     								@Override&lt;br/&gt;
     								public void operationComplete(&lt;br/&gt;
     									io.netty.util.concurrent.Future&amp;lt;? super Void&amp;gt; future) throws Exception {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;lastRequestPending.remove(taskManagerID);&lt;/li&gt;
	&lt;li&gt;fc.close();&lt;/li&gt;
	&lt;li&gt;raf.close();&lt;br/&gt;
    +									lastRequestPending.remove(taskManagerID);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    missing indent&lt;/p&gt;</comment>
                            <comment id="15622152" author="githubbot" created="Mon, 31 Oct 2016 13:29:38 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85737529&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85737529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime-web/src/main/java/org/apache/flink/runtime/webmonitor/handlers/TaskManagerLogHandler.java &amp;#8212;&lt;br/&gt;
    @@ -243,22 +284,29 @@ public void onSuccess(Object filePathOption) throws Throwable {&lt;br/&gt;
     								@Override&lt;br/&gt;
     								public void operationComplete(&lt;br/&gt;
     									io.netty.util.concurrent.Future&amp;lt;? super Void&amp;gt; future) throws Exception &lt;/p&gt;
{
    -										lastRequestPending.remove(taskManagerID);
    -										fc.close();
    -										raf.close();
    +									lastRequestPending.remove(taskManagerID);
    +									fc.close();
    +									raf.close();
     								}
&lt;p&gt;     							};&lt;br/&gt;
     						if (ctx.pipeline().get(SslHandler.class) == null) {&lt;br/&gt;
     							ctx.write(&lt;br/&gt;
     								new DefaultFileRegion(fc, 0, fileLength), ctx.newProgressivePromise())&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.addListener(completionListener);&lt;br/&gt;
    +								.addListener(completionListener);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    missing indent&lt;/p&gt;</comment>
                            <comment id="15622485" author="githubbot" created="Mon, 31 Oct 2016 15:36:10 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85764785&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85764785&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime-web/src/main/java/org/apache/flink/runtime/webmonitor/handlers/TaskManagerLogHandler.java &amp;#8212;&lt;br/&gt;
    @@ -243,22 +284,29 @@ public void onSuccess(Object filePathOption) throws Throwable {&lt;br/&gt;
     								@Override&lt;br/&gt;
     								public void operationComplete(&lt;br/&gt;
     									io.netty.util.concurrent.Future&amp;lt;? super Void&amp;gt; future) throws Exception {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;lastRequestPending.remove(taskManagerID);&lt;/li&gt;
	&lt;li&gt;fc.close();&lt;/li&gt;
	&lt;li&gt;raf.close();&lt;br/&gt;
    +									lastRequestPending.remove(taskManagerID);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Thanks for spotting this. Will fix it right away &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15622486" author="githubbot" created="Mon, 31 Oct 2016 15:36:13 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699#discussion_r85764802&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699#discussion_r85764802&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime-web/src/main/java/org/apache/flink/runtime/webmonitor/handlers/TaskManagerLogHandler.java &amp;#8212;&lt;br/&gt;
    @@ -243,22 +284,29 @@ public void onSuccess(Object filePathOption) throws Throwable {&lt;br/&gt;
     								@Override&lt;br/&gt;
     								public void operationComplete(&lt;br/&gt;
     									io.netty.util.concurrent.Future&amp;lt;? super Void&amp;gt; future) throws Exception &lt;/p&gt;
{
    -										lastRequestPending.remove(taskManagerID);
    -										fc.close();
    -										raf.close();
    +									lastRequestPending.remove(taskManagerID);
    +									fc.close();
    +									raf.close();
     								}
&lt;p&gt;     							};&lt;br/&gt;
     						if (ctx.pipeline().get(SslHandler.class) == null) {&lt;br/&gt;
     							ctx.write(&lt;br/&gt;
     								new DefaultFileRegion(fc, 0, fileLength), ctx.newProgressivePromise())&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.addListener(completionListener);&lt;br/&gt;
    +								.addListener(completionListener);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Thanks for spotting this. Will fix it right away &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15624780" author="githubbot" created="Tue, 1 Nov 2016 08:36:58 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the review @zentol. I&apos;ve rebased it, tested it and Travis gives green light. Will merge it now.&lt;/p&gt;</comment>
                            <comment id="15624788" author="till.rohrmann" created="Tue, 1 Nov 2016 08:38:34 +0000"  >&lt;p&gt;Fixed via cfb3790fb6feb6c771bccbd05d3b12c69f53657d&lt;/p&gt;</comment>
                            <comment id="15624791" author="githubbot" created="Tue, 1 Nov 2016 08:38:45 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2699&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i359iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>