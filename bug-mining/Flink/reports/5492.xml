<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:57:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19164] Release scripts break other dependency versions unintentionally</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19164</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;All the scripts below has a line to change the old version to new version in pom files.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/blob/master/tools/change-version.sh#L31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/master/tools/change-version.sh#L31&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/blob/master/tools/releasing/create_release_branch.sh#L60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/master/tools/releasing/create_release_branch.sh#L60&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/blob/master/tools/releasing/update_branch_version.sh#L52&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/master/tools/releasing/update_branch_version.sh#L52&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It works like find &amp;amp; replace so it is prone to unintentional errors. Any dependency with a version equals to &quot;old version&quot; might be automatically changed to &quot;new version&quot;. See below to see how to produce a similar case.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;How to re-produce the bug:&lt;/ins&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Clone/Fork Flink repo and for example checkout version v*1.11.1*&#160;&lt;/li&gt;
	&lt;li&gt;Apply any changes you need&lt;/li&gt;
	&lt;li&gt;Run &quot;create_release_branch.sh&quot; script with&#160;OLD_VERSION=&lt;b&gt;1.11.1&lt;/b&gt;&#160;NEW_VERSION=&lt;font color=&quot;#de350b&quot;&gt;&lt;b&gt;1.12.0&lt;/b&gt;&lt;/font&gt;
	&lt;ul&gt;
		&lt;li&gt;In parent pom.xml, an auto find&amp;amp;replace of&#160;maven-dependency-analyzer version will be done automatically and&#160;&lt;b&gt;unintentionally&lt;/b&gt; which will break the build.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;dependency&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;groupId&amp;gt;org.apache.maven.shared&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;artifactId&amp;gt;maven-dependency-analyzer&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;version&amp;gt;&lt;b&gt;1.11.1&lt;/b&gt;&amp;lt;/version&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;/dependency&amp;gt;&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;dependency&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;groupId&amp;gt;org.apache.maven.shared&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;artifactId&amp;gt;maven-dependency-analyzer&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;version&amp;gt;&lt;font color=&quot;#de350b&quot;&gt;&lt;b&gt;1.12.0&lt;/b&gt;&lt;/font&gt;&amp;lt;/version&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;/dependency&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13326467">FLINK-19164</key>
            <summary>Release scripts break other dependency versions unintentionally</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ssoydan">Serhat Soydan</assignee>
                                    <reporter username="ssoydan">Serhat Soydan</reporter>
                        <labels>
                            <label>auto-unassigned</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 8 Sep 2020 13:34:57 +0000</created>
                <updated>Thu, 23 Sep 2021 17:25:17 +0000</updated>
                            <resolved>Wed, 9 Jun 2021 10:21:19 +0000</resolved>
                                                    <fixVersion>1.14.0</fixVersion>
                                    <component>Deployment / Scripts</component>
                    <component>Release System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17192219" author="ssoydan" created="Tue, 8 Sep 2020 13:43:00 +0000"  >&lt;p&gt;Adding&#160;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mxm&quot; class=&quot;user-hover&quot; rel=&quot;mxm&quot;&gt;mxm&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;for informing and maybe a possible solution (who had changes/commits before for the stated lines)&lt;/p&gt;</comment>
                            <comment id="17192240" author="rmetzger" created="Tue, 8 Sep 2020 14:09:17 +0000"  >&lt;p&gt;I believe this is a known problem. These scripts are only helper scripts. Their modifications are usually reviewed by many eyes as part of the release process.&lt;/p&gt;</comment>
                            <comment id="17192484" author="ssoydan" created="Tue, 8 Sep 2020 21:11:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;, thanks for the comment. Although it is only a helper script and the results are reviewed by many eyes for the official release process, it still exists in the project and open to use for people that may use it within forked repos or other cases. The possible side effect is not clear and everyone should be able to somehow use it without worrying that it may break. Actually we experienced the issue in our project and spent hours trying to figure out where the problem is (there are around 185 poms that needs to be reviewed).&lt;/p&gt;

&lt;p&gt;The below line seem to update versions of all modules in the project (within pom files) by a manual find &amp;amp; replace:&lt;br/&gt;
 &lt;font color=&quot;#de350b&quot;&gt;find . -name &apos;pom.xml&apos; -type f -exec perl -pi -e &apos;s#&amp;lt;version&amp;gt;(.&lt;b&gt;)&apos;$OLD_VERSION&apos;(.&lt;/b&gt;)&amp;lt;/version&amp;gt;#&amp;lt;version&amp;gt;${1}&apos;$NEW_VERSION&apos;${2}&amp;lt;/version&amp;gt;#&apos; {} \;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;A possible solution is to replace it with &quot;versions maven plugin&quot; and running the command below within the script (tried it locally and it seems to work properly):&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#de350b&quot;&gt;mvn versions:set -DnewVersion=$NEW_VERSION -DprocessAllModules&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;or use it directly in the script only without adding the plugin to the project&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#de350b&quot;&gt;mvn org.codehaus.mojo:versions-maven-plugin:2.8.1:set -DnewVersion=$NEW_VERSION -DprocessAllModules&lt;/font&gt;&lt;/p&gt;</comment>
                            <comment id="17192687" author="rmetzger" created="Wed, 9 Sep 2020 07:07:09 +0000"  >&lt;p&gt;I see, you are raising a valid point, and I like your proposal for addressing this. Would you be up for opening a pull request to change the scripts?&lt;/p&gt;

&lt;p&gt;I would use the second variant (without adding the plugin to the project).&lt;/p&gt;</comment>
                            <comment id="17192709" author="ssoydan" created="Wed, 9 Sep 2020 07:49:28 +0000"  >&lt;p&gt;Yeah, sure. I can create a PR for that in a couple of days.&lt;/p&gt;

&lt;p&gt;Can you (or someone else) assign the issue to me?&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                            <comment id="17192712" author="rmetzger" created="Wed, 9 Sep 2020 07:55:08 +0000"  >&lt;p&gt;Awesome, thanks a lot. &lt;br/&gt;
I assigned you to the ticket.&lt;/p&gt;</comment>
                            <comment id="17321364" author="flink-jira-bot" created="Wed, 14 Apr 2021 22:42:43 +0000"  >&lt;p&gt;This issue and all of its Sub-Tasks have not been updated for 180 days. So, it has been labeled &quot;stale-minor&quot;. If you are still affected by this bug or are still interested in this issue, please give an update and remove the label. In 7 days the issue will be closed automatically.&lt;/p&gt;</comment>
                            <comment id="17329476" author="flink-jira-bot" created="Thu, 22 Apr 2021 22:44:32 +0000"  >&lt;p&gt;This issue is assigned but has not received an update in 7 days so it has been labeled &quot;stale-assigned&quot;. If you are still working on the issue, please give an update and remove the label. If you are no longer working on the issue, please unassign so someone else may work on it. In 7 days the issue will be automatically unassigned.&lt;/p&gt;</comment>
                            <comment id="17349676" author="flink-jira-bot" created="Sat, 22 May 2021 10:51:35 +0000"  >&lt;p&gt;I am the &lt;a href=&quot;https://github.com/apache/flink-jira-bot/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink Jira Bot&lt;/a&gt; and I help the community manage its development. I see this issue is assigned but has not received an update in 14, so it has been labeled &quot;stale-assigned&quot;.&lt;br/&gt;
If you are still working on the issue, please remove the label and add a comment updating the community on your progress.  If this issue is waiting on feedback, please consider this a reminder to the committer/reviewer. Flink is a very active project, and so we appreciate your patience.&lt;br/&gt;
If you are no longer working on the issue, please unassign yourself so someone else may work on it. If the &quot;warning_label&quot; label is not removed in 7 days, the issue will be automatically unassigned.&lt;/p&gt;</comment>
                            <comment id="17353867" author="flink-jira-bot" created="Sat, 29 May 2021 23:08:58 +0000"  >&lt;p&gt;This issue was marked &quot;stale-assigned&quot; 7 ago and has not received an update. I have automatically removed the current assignee from the issue so others in the community may pick it up. If you are still working on this ticket, please ask a committer to reassign you and provide an update about your current status.&lt;/p&gt;</comment>
                            <comment id="17359910" author="zentol" created="Wed, 9 Jun 2021 10:21:19 +0000"  >&lt;p&gt;master: 36891da2f2d0662a04e122f768297c3709ebd982&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0iey8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>