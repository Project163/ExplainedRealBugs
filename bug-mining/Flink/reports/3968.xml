<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:45:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-17138] LocalExecutorITCase.testParameterizedTypes failed on travis</title>
                <link>https://issues.apache.org/jira/browse/FLINK-17138</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/674770944/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/674770944/log.txt&lt;/a&gt;&lt;br/&gt;
release-1.10 branch build failed with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
11:49:51.608 [INFO] Running org.apache.flink.table.client.gateway.local.LocalExecutorITCase
11:52:40.202 [ERROR] Tests run: 64, Failures: 0, Errors: 1, Skipped: 5, Time elapsed: 168.589 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.table.client.gateway.local.LocalExecutorITCase
11:52:40.209 [ERROR] testParameterizedTypes[Planner: blink](org.apache.flink.table.client.gateway.local.LocalExecutorITCase)  Time elapsed: 5.609 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.flink.table.client.gateway.SqlExecutionException: Invalid SQL statement.
	at org.apache.flink.table.client.gateway.local.LocalExecutorITCase.testParameterizedTypes(LocalExecutorITCase.java:903)
Caused by: org.apache.flink.table.api.ValidationException: SQL validation failed. Failed to get PrimaryKey constraints
	at org.apache.flink.table.client.gateway.local.LocalExecutorITCase.testParameterizedTypes(LocalExecutorITCase.java:903)
Caused by: org.apache.flink.table.catalog.exceptions.CatalogException: Failed to get PrimaryKey constraints
	at org.apache.flink.table.client.gateway.local.LocalExecutorITCase.testParameterizedTypes(LocalExecutorITCase.java:903)
Caused by: java.lang.reflect.InvocationTargetException
	at org.apache.flink.table.client.gateway.local.LocalExecutorITCase.testParameterizedTypes(LocalExecutorITCase.java:903)
Caused by: org.apache.hadoop.hive.metastore.api.MetaException: No current connection.
	at org.apache.flink.table.client.gateway.local.LocalExecutorITCase.testParameterizedTypes(LocalExecutorITCase.java:903)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13298278">FLINK-17138</key>
            <summary>LocalExecutorITCase.testParameterizedTypes failed on travis</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lirui">Rui Li</assignee>
                                    <reporter username="pnowojski">Piotr Nowojski</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 14 Apr 2020 13:15:25 +0000</created>
                <updated>Thu, 23 Apr 2020 05:04:56 +0000</updated>
                            <resolved>Thu, 23 Apr 2020 05:04:56 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.11.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17083242" author="twalthr" created="Tue, 14 Apr 2020 13:40:20 +0000"  >&lt;p&gt;This test should not depend on Hive. It should use a testing catalog instead.&lt;/p&gt;</comment>
                            <comment id="17083750" author="jark" created="Wed, 15 Apr 2020 03:04:57 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17083754" author="lzljs3620320" created="Wed, 15 Apr 2020 03:10:25 +0000"  >&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt;&#160;Just like &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt;&#160;said, maybe we should let sql-client tests get rid of hive dependency, and use a testing catalog.&lt;/p&gt;</comment>
                            <comment id="17083763" author="lirui" created="Wed, 15 Apr 2020 03:24:43 +0000"  >&lt;p&gt;Actually some test cases are intended to test LocalExecutor with Hive catalog/connector. The test cases were put into sql-client because we don&apos;t have E2E test for hive connector at the moment. I agree sql-client should get rid of hive dependencies once the E2E test is ready.&lt;/p&gt;</comment>
                            <comment id="17084030" author="lirui" created="Wed, 15 Apr 2020 12:02:20 +0000"  >&lt;p&gt;I&apos;m unable to reproduce the failure so it&apos;s hard to determine the root cause. One potential problem I see is that we&apos;re not closing the HiveCatalog after the test. Since we use embedded metastore, some static/threadlocal variables may not have been properly cleared before each test case is run. I&apos;ll submit a PR for that.&lt;br/&gt;
BTW, it seems we lack an API to close loaded catalogs from Executor. Ideally I think the close should happen when &lt;tt&gt;Executor::closeSession&lt;/tt&gt; is called.&lt;/p&gt;</comment>
                            <comment id="17090244" author="lzljs3620320" created="Thu, 23 Apr 2020 05:04:56 +0000"  >&lt;p&gt;master:&#160;27d1a48cc5c1ef7baf506d7c0db4d01ebdca6b70&lt;/p&gt;

&lt;p&gt;Feel free to re-open if it is reproduced.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0dm6o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>