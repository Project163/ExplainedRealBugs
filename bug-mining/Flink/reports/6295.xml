<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:09:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26504] Fix the incorrect type error in unbounded Python UDAF</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26504</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The stack trace is &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: Error received from SDK harness &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; instruction 1: Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;&lt;/span&gt;, line 289, in _execute
    response = task()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;&lt;/span&gt;, line 362, in &amp;lt;lambda&amp;gt;
    lambda: self.create_worker().do_instruction(request), request)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;&lt;/span&gt;, line 607, in do_instruction
    getattr(request, request_type), request.instruction_id)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;&lt;/span&gt;, line 644, in process_bundle
    bundle_processor.process_bundle(instruction_id))
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/apache_beam/runners/worker/bundle_processor.py&quot;&lt;/span&gt;, line 1000, in process_bundle
    element.data)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/apache_beam/runners/worker/bundle_processor.py&quot;&lt;/span&gt;, line 228, in process_encoded
    self.output(decoded_value)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;apache_beam/runners/worker/operations.py&quot;&lt;/span&gt;, line 357, in apache_beam.runners.worker.operations.Operation.output
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;apache_beam/runners/worker/operations.py&quot;&lt;/span&gt;, line 359, in apache_beam.runners.worker.operations.Operation.output
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;apache_beam/runners/worker/operations.py&quot;&lt;/span&gt;, line 221, in apache_beam.runners.worker.operations.SingletonConsumerSet.receive
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink/fn_execution/beam/beam_operations_fast.pyx&quot;&lt;/span&gt;, line 71, in pyflink.fn_execution.beam.beam_operations_fast.FunctionOperation.process
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink/fn_execution/beam/beam_operations_fast.pyx&quot;&lt;/span&gt;, line 84, in pyflink.fn_execution.beam.beam_operations_fast.FunctionOperation.process
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/pyflink/fn_execution/operations.py&quot;&lt;/span&gt;, line 115, in process_element
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; self.func(value)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/python3/lib/python3.7/site-packages/pyflink/fn_execution/operations.py&quot;&lt;/span&gt;, line 384, in process_element_or_timer
    self.group_agg_function.on_timer(input_data[3])
TypeError: Argument &lt;span class=&quot;code-quote&quot;&gt;&apos;key&apos;&lt;/span&gt; has incorrect type (expected pyflink.fn_execution.coder_impl_fast.InternalRow, got Row)

	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.beam.sdk.util.MoreFutures.get(MoreFutures.java:60)
	at org.apache.beam.runners.fnexecution.control.SdkHarnessClient$BundleProcessor$ActiveBundle.close(SdkHarnessClient.java:504)
	at org.apache.beam.runners.fnexecution.control.DefaultJobBundleFactory$SimpleStageBundleFactory$1.close(DefaultJobBundleFactory.java:555)
	at org.apache.flink.streaming.api.runners.python.beam.BeamPythonFunctionRunner.finishBundle(BeamPythonFunctionRunner.java:381)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The condition for this bug to occur is that state clean is triggered. The workaround is to disable table.exec.state.ttl&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13432314">FLINK-26504</key>
            <summary>Fix the incorrect type error in unbounded Python UDAF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hxbks2ks">Huang Xingbo</assignee>
                                    <reporter username="hxbks2ks">Huang Xingbo</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 7 Mar 2022 03:13:10 +0000</created>
                <updated>Mon, 7 Mar 2022 12:38:32 +0000</updated>
                            <resolved>Mon, 7 Mar 2022 12:38:32 +0000</resolved>
                                    <version>1.14.0</version>
                    <version>1.13.2</version>
                    <version>1.15.0</version>
                                    <fixVersion>1.14.5</fixVersion>
                    <fixVersion>1.15.0</fixVersion>
                    <fixVersion>1.13.7</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17502237" author="hxbks2ks" created="Mon, 7 Mar 2022 12:38:32 +0000"  >&lt;p&gt;Merged into master via 8746017cc5c3f2f69a0c5cf09d01462ded470a14&lt;br/&gt;
Merged into release-1.14 via 6d3aa1839b5e4a9a099d4c59384430965e80bc00&lt;br/&gt;
Merged into release-1.13 via 812e674ee00cbca78ad8db26d5e2ccd739a36975&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z108bc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>