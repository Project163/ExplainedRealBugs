<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:23:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3644] WebRuntimMonitor set java.io.tmpdir does not work for change upload dir.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3644</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;flink-conf.yaml &amp;amp; -Djava.io.tmpdir=. does not work for me.&lt;br/&gt;
I don&apos;t know why.I look for the code System.getProperty(&quot;java.io.tmpdir&quot;) should work.but it is not worked.&lt;br/&gt;
but in web ui in job manager configuration could see the java.io.tmpdir is set.&lt;/p&gt;</description>
                <environment>&lt;p&gt;flink-conf.yaml -&amp;gt; java.io.tmpdir: .&lt;br/&gt;
java -server -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+CMSClassUnloadingEnabled -XX:+UseParNewGC -XX:+UseCompressedOops -XX:+UseFastEmptyMethods -XX:+UseFastAccessorMethods -XX:+AlwaysPreTouch -Xmx1707m -Dlog4j.configuration=&lt;a href=&quot;file:log4j-mesos.properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:log4j-mesos.properties&lt;/a&gt; -Djava.io.tmpdir=. -cp flink-dist_2.10-1.0.0.jar:log4j-1.2.17.jar:slf4j-log4j12-1.7.7.jar:flink-python_2.10-1.0.0.jar&lt;br/&gt;
java version &quot;1.8.0_60&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_60-b27)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)&lt;br/&gt;
CentOS release 6.4 (Final)&lt;/p&gt;</environment>
        <key id="12952307">FLINK-3644</key>
            <summary>WebRuntimMonitor set java.io.tmpdir does not work for change upload dir.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="astralidea">astralidea</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Mar 2016 03:54:04 +0000</created>
                <updated>Thu, 14 Apr 2016 09:41:34 +0000</updated>
                            <resolved>Wed, 13 Apr 2016 08:44:19 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Runtime / Web Frontend</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15205767" author="githubbot" created="Tue, 22 Mar 2016 04:25:52 +0000"  >&lt;p&gt;GitHub user Astralidea opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3644&quot; title=&quot;WebRuntimMonitor set java.io.tmpdir does not work for change upload dir.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3644&quot;&gt;&lt;del&gt;FLINK-3644&lt;/del&gt;&lt;/a&gt; WebRuntimMonitor set java.io.tmpdir does not work&lt;/p&gt;

&lt;p&gt;    To fix this issue, I think we should add new config to config flink-web temp dir.&lt;br/&gt;
    I don&apos;t know why java.io.tmpdir does not work. it value always /tmp&lt;br/&gt;
    the space of  /tmp in my cluster is very less. user upload often.&lt;br/&gt;
    So I have to let this config go into effect.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/QunarBlackOps/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/QunarBlackOps/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3644&quot; title=&quot;WebRuntimMonitor set java.io.tmpdir does not work for change upload dir.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3644&quot;&gt;&lt;del&gt;FLINK-3644&lt;/del&gt;&lt;/a&gt;-1&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1824&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3e581199beff543c3d35e73ab9669fd3907502ad&lt;br/&gt;
Author: xueyan.li &amp;lt;xueyan.li@qunar.com&amp;gt;&lt;br/&gt;
Date:   2016-03-22T04:20:06Z&lt;/p&gt;

&lt;p&gt;    add new config for set web monitor tmp dir&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15206151" author="githubbot" created="Tue, 22 Mar 2016 10:44:55 +0000"  >&lt;p&gt;Github user Astralidea commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-199747744&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-199747744&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t think these change could make yarn failed, could you retest ?&lt;/p&gt;</comment>
                            <comment id="15207335" author="githubbot" created="Tue, 22 Mar 2016 21:15:32 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-200032560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-200032560&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @Astralidea, thanks for the PR. We are aware of some flaky tests. So there is no need to trigger new builds.&lt;/p&gt;</comment>
                            <comment id="15224042" author="githubbot" created="Mon, 4 Apr 2016 12:44:09 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#discussion_r58369373&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#discussion_r58369373&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/configuration/ConfigConstants.java &amp;#8212;&lt;br/&gt;
    @@ -100,6 +100,11 @@&lt;br/&gt;
     	public static final String JOB_MANAGER_IPC_PORT_KEY = &quot;jobmanager.rpc.port&quot;;&lt;/p&gt;

&lt;p&gt;     	/**&lt;br/&gt;
    +	 * The config parameter defining the flink web directory to be used by the webmonitor.&lt;br/&gt;
    +	 */&lt;br/&gt;
    +	public static final String WEB_MONITOR_DIRECTORY_KEY = &quot;web.monitor.tmpdir&quot;;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This config key should follow the naming scheme of the other web monitor config keys (see `public static final String JOB_MANAGER_WEB_PORT_KEY = &quot;jobmanager.web.port&quot;;`), for example `jobmanager.web.tmpdir`.&lt;/p&gt;</comment>
                            <comment id="15224043" author="githubbot" created="Mon, 4 Apr 2016 12:44:27 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#discussion_r58369425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#discussion_r58369425&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime-web/src/main/java/org/apache/flink/runtime/webmonitor/HttpRequestHandler.java &amp;#8212;&lt;br/&gt;
    @@ -70,8 +70,11 @@&lt;br/&gt;
     	/** A decoder factory that always stores POST chunks on disk */&lt;br/&gt;
     	private static final HttpDataFactory DATA_FACTORY = new DefaultHttpDataFactory(true);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static final File TMP_DIR = new File(System.getProperty(&quot;java.io.tmpdir&quot;));&lt;/li&gt;
	&lt;li&gt;&lt;p&gt;    +	private File tmpDir;&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    This should be `final`.&lt;/p&gt;</comment>
                            <comment id="15224046" author="githubbot" created="Mon, 4 Apr 2016 12:45:47 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-205282176&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-205282176&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This looks quite good. I made two inline comments. After addressing those, this should be good to merge.&lt;/p&gt;

&lt;p&gt;    Thanks for addressing this issue!&lt;/p&gt;</comment>
                            <comment id="15225737" author="githubbot" created="Tue, 5 Apr 2016 06:12:40 +0000"  >&lt;p&gt;Github user Astralidea commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-205668333&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-205668333&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Sorry about commits a lot , I have some trouble in rebase &amp;amp; IDE space problem. This version might be ok.&lt;/p&gt;</comment>
                            <comment id="15237734" author="githubbot" created="Tue, 12 Apr 2016 18:37:30 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-209046303&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-209046303&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, thank you!&lt;br/&gt;
    Merging this...&lt;/p&gt;</comment>
                            <comment id="15238848" author="githubbot" created="Wed, 13 Apr 2016 08:31:38 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15238865" author="stephanewen" created="Wed, 13 Apr 2016 08:44:19 +0000"  >&lt;p&gt;Fixed via b188637b9016116728f0d16f94e213584b2abfd6&lt;/p&gt;

&lt;p&gt;Thank you for the contribution!&lt;/p&gt;</comment>
                            <comment id="15240700" author="githubbot" created="Thu, 14 Apr 2016 06:41:50 +0000"  >&lt;p&gt;Github user Astralidea commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-209784384&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-209784384&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @StephanEwen &lt;br/&gt;
    It looks like did not merge into Flink Master?&lt;/p&gt;</comment>
                            <comment id="15240711" author="githubbot" created="Thu, 14 Apr 2016 06:56:55 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-209788558&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-209788558&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Although Github marks the PR as closed, the change has been merged to the master branch. Because Stephan squashed the commits of the PR into a single commit and rebased the changes the PR is not shown as &lt;b&gt;committed&lt;/b&gt;. You should find it in the &lt;span class=&quot;error&quot;&gt;&amp;#91;commit history of the master branch&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/flink/commits/master&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commits/master&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="15240868" author="githubbot" created="Thu, 14 Apr 2016 09:40:55 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-209852818&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-209852818&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It has been merged (in b188637b9016116728f0d16f94e213584b2abfd6), but as Fabian said, I squashed and rebased the commits, to GitHub did not recognize that it was merged.&lt;/p&gt;</comment>
                            <comment id="15240870" author="githubbot" created="Thu, 14 Apr 2016 09:41:34 +0000"  >&lt;p&gt;Github user Astralidea commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1824#issuecomment-209852969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1824#issuecomment-209852969&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @fhueske @StephanEwen Oh, I see. Thanks for the explanation.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2v053:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>