<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:43:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15523] ConfigConstants generally excluded from japicmp</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15523</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;It appears that &lt;tt&gt;ConfigConstants&lt;/tt&gt;, despite being &lt;tt&gt;@Public&lt;/tt&gt;, has been excluded from the japicmp check since &lt;tt&gt;1.5.0&lt;/tt&gt;: &lt;a href=&quot;https://github.com/apache/flink/commit/1f9c2d9740ffea2b59b8f5f3da287a0dc890ddbf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/1f9c2d9740ffea2b59b8f5f3da287a0dc890ddbf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is a bit of a surprise to me and looks like a mistake (what&apos;s the point of excluding specific fields if the entire class is excluded), and if so this has repercussions on some ongoing work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Breaking the build because there is at least one incompatibility: org.apache.flink.configuration.ConfigConstants.TASK_MANAGER_MEMORY_SIZE_KEY:FIELD_REMOVED,
org.apache.flink.configuration.ConfigConstants.TASK_MANAGER_MEMORY_OFF_HEAP_KEY:FIELD_REMOVED,
org.apache.flink.configuration.ConfigConstants.DEFAULT_TASK_MANAGER_MEMORY_PRE_ALLOCATE:FIELD_REMOVED,
org.apache.flink.configuration.ConfigConstants.TASK_MANAGER_MEMORY_PRE_ALLOCATE_KEY:FIELD_REMOVED,
org.apache.flink.configuration.ConfigConstants.TASK_MANAGER_MEMORY_FRACTION_KEY:FIELD_REMOVED,
org.apache.flink.configuration.ConfigConstants.YARN_MAX_FAILED_CONTAINERS:FIELD_REMOVED,
org.apache.flink.configuration.ConfigConstants.DEFAULT_MEMORY_MANAGER_MEMORY_FRACTION:FIELD_REMOVED
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13278198">FLINK-15523</key>
            <summary>ConfigConstants generally excluded from japicmp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="chesnay">Chesnay Schepler</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 8 Jan 2020 16:15:05 +0000</created>
                <updated>Sun, 12 Jan 2020 20:50:40 +0000</updated>
                            <resolved>Sun, 12 Jan 2020 20:50:40 +0000</resolved>
                                    <version>1.8.0</version>
                                    <fixVersion>1.8.4</fixVersion>
                    <fixVersion>1.9.2</fixVersion>
                    <fixVersion>1.10.0</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17010801" author="zentol" created="Wed, 8 Jan 2020 16:16:44 +0000"  >&lt;p&gt;I&apos;ve put it down as a blocker since several memory options were removed for 1.10 .&lt;/p&gt;</comment>
                            <comment id="17011569" author="till.rohrmann" created="Thu, 9 Jan 2020 08:58:17 +0000"  >&lt;p&gt;Due to FLIP-49, there are some breaking changes since some of the old options no longer have a respective counter part. This was intended and there will be a migration guide how to migrate from the old settings to the new settings. Consequently, I would not block the release on the removed &lt;tt&gt;TaskManager&lt;/tt&gt; memory options. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=azagrebin&quot; class=&quot;user-hover&quot; rel=&quot;azagrebin&quot;&gt;azagrebin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xintongsong&quot; class=&quot;user-hover&quot; rel=&quot;xintongsong&quot;&gt;xintongsong&lt;/a&gt; could you confirm that the memory related options were removed deliberately?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; is there a way to exclude certain options from the japicmp plugin check?&lt;/p&gt;</comment>
                            <comment id="17011577" author="till.rohrmann" created="Thu, 9 Jan 2020 09:03:36 +0000"  >&lt;p&gt;&lt;tt&gt;YARN_MAX_FAILED_CONTAINERS&lt;/tt&gt; seems to be removed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15359&quot; title=&quot;Remove unused YarnConfigOptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15359&quot;&gt;&lt;del&gt;FLINK-15359&lt;/del&gt;&lt;/a&gt;, but this should only have happened in the master and not &lt;tt&gt;1.10.0&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17011597" author="till.rohrmann" created="Thu, 9 Jan 2020 09:14:26 +0000"  >&lt;p&gt;I would suggest the following: Re-enable japicmp check for &lt;tt&gt;ConfigConstants&lt;/tt&gt;, revert the removal of &lt;tt&gt;YARN_MAX_FAILED_CONTAINERS&lt;/tt&gt; and exclude the memory config options explicitly.&lt;/p&gt;</comment>
                            <comment id="17011638" author="azagrebin" created="Thu, 9 Jan 2020 10:05:51 +0000"  >&lt;p&gt;ConfigConstants.YARN_MAX_FAILED_CONTAINERS is tracked by&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15536&quot; title=&quot;Revert removal of ConfigConstants.YARN_MAX_FAILED_CONTAINERS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15536&quot;&gt;&lt;del&gt;FLINK-15536&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
ConfigConstants.TASK_MANAGER_MEMORY_SIZE_KEY is now&#160;TaskManagerOptions.MANAGED_MEMORY_SIZE as a deprecated key so it should be also deprecated.&lt;/p&gt;

&lt;p&gt;All other options have to be&#160;deprecated and they have no effect anymore at all. If we add them back it makes sense to note this in the comments.&lt;/p&gt;

&lt;p&gt;ConfigConstants.TASK_MANAGER_MEMORY_FRACTION_KEY is substituted by TaskManagerOptions.MANAGED_MEMORY_FRACTION but w/o keeping it as a deprecated key because the new option has similar but different semantics.&lt;/p&gt;</comment>
                            <comment id="17011671" author="xintongsong" created="Thu, 9 Jan 2020 10:28:02 +0000"  >&lt;p&gt;Agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=azagrebin&quot; class=&quot;user-hover&quot; rel=&quot;azagrebin&quot;&gt;azagrebin&lt;/a&gt;.&#160;&lt;/p&gt;

&lt;p&gt;TASK_MANAGER_MEMORY_SIZE_KEY is still valid as deprecated key of&#160;TaskManagerOptions.MANAGED_MEMORY_SIZE.&lt;/p&gt;

&lt;p&gt;The following are removed on purpose.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;TASK_MANAGER_MEMORY_OFF_HEAP_KEY&lt;/li&gt;
	&lt;li&gt;DEFAULT_TASK_MANAGER_MEMORY_PRE_ALLOCATE&lt;/li&gt;
	&lt;li&gt;TASK_MANAGER_MEMORY_PRE_ALLOCATE_KEY&lt;/li&gt;
	&lt;li&gt;TASK_MANAGER_MEMORY_FRACTION_KEY&lt;/li&gt;
	&lt;li&gt;DEFAULT_MEMORY_MANAGER_MEMORY_FRACTION&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also, it was not clear to me what is the purpose of keeping these constants in the same class, until I see this ticket. That&apos;s why I removed TASK_MANAGER_MEMORY_SIZE_KEY at the first place. Shall we make it more explicit in the javadoc of ConfigConstants that this can be used for japicmp checks?&lt;/p&gt;</comment>
                            <comment id="17011723" author="azagrebin" created="Thu, 9 Jan 2020 11:30:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xintongsong&quot; class=&quot;user-hover&quot; rel=&quot;xintongsong&quot;&gt;xintongsong&lt;/a&gt;&#160;As I understand, it is a general contract for the API classes annotated with @Public.&#160;ConfigConstants was just accidentally not part of the check.&lt;/p&gt;</comment>
                            <comment id="17011724" author="stephanewen" created="Thu, 9 Jan 2020 11:31:39 +0000"  >&lt;p&gt;True, the original exclusion looks like a mistake. Should not have been a hotfix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17013884" author="zentol" created="Sun, 12 Jan 2020 20:50:40 +0000"  >&lt;p&gt;master:&lt;br/&gt;
5c037f2690fd0459c2395f3f82428077a3207fd2&lt;br/&gt;
7a6ca9c03f67f488e40a114e94c389a5cfb67836 &lt;br/&gt;
1.10:&lt;br/&gt;
584879551e5db3445b1e2f9a6789847e3e44a887&lt;br/&gt;
a08bc83c552f562c86c310124f29c7b12ee05613 &lt;br/&gt;
1.9:&lt;br/&gt;
c33f0d25cb5d33667fd00dfdb94bb9704bda0fa9&lt;br/&gt;
1.8:&lt;br/&gt;
098adf45801efcd851923000303c33321e32bc0c &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ab1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>