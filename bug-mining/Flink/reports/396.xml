<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2089] &quot;Buffer recycled&quot; IllegalStateException during cancelling</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2089</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt; reported the following stack trace during cancelling of high parallelism jobs:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error: java.lang.IllegalStateException: Buffer has already been recycled.
at org.apache.flink.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:173)
at org.apache.flink.runtime.io.network.buffer.Buffer.ensureNotRecycled(Buffer.java:142)
at org.apache.flink.runtime.io.network.buffer.Buffer.getMemorySegment(Buffer.java:78)
at org.apache.flink.runtime.io.network.api.serialization.SpillingAdaptiveSpanningRecordDeserializer.setNextBuffer(SpillingAdaptiveSpanningRecordDeserializer.java:72)
at org.apache.flink.runtime.io.network.api.reader.AbstractRecordReader.getNextRecord(AbstractRecordReader.java:80)
at org.apache.flink.runtime.io.network.api.reader.MutableRecordReader.next(MutableRecordReader.java:34)
at org.apache.flink.runtime.operators.util.ReaderIterator.next(ReaderIterator.java:73)
at org.apache.flink.runtime.operators.MapDriver.run(MapDriver.java:96)
at org.apache.flink.runtime.operators.RegularPactTask.run(RegularPactTask.java:496)
at org.apache.flink.runtime.operators.RegularPactTask.invoke(RegularPactTask.java:362)
at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)
at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This looks like a concurrent buffer pool release/buffer usage error. I&apos;m investing this today.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12832651">FLINK-2089</key>
            <summary>&quot;Buffer recycled&quot; IllegalStateException during cancelling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uce">Ufuk Celebi</assignee>
                                    <reporter username="uce">Ufuk Celebi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 May 2015 07:41:31 +0000</created>
                <updated>Tue, 6 Oct 2015 15:51:03 +0000</updated>
                            <resolved>Wed, 26 Aug 2015 10:37:53 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.9.1</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14561276" author="githubbot" created="Wed, 27 May 2015 17:05:24 +0000"  >&lt;p&gt;GitHub user uce opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/736&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/736&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2089&quot; title=&quot;&amp;quot;Buffer recycled&amp;quot; IllegalStateException during cancelling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2089&quot;&gt;&lt;del&gt;FLINK-2089&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Fix possible duplicate buffer release&lt;/p&gt;

&lt;p&gt;    This PR contains multiple independent commits, which address issues discovered while debugging &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2089&quot; title=&quot;&amp;quot;Buffer recycled&amp;quot; IllegalStateException during cancelling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2089&quot;&gt;&lt;del&gt;FLINK-2089&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It adds the partition request backoff logic to local requests as well. The backoffs were introduced recently for remote requests. I&apos;ve missed that the same problem could also happen for local input channels. The fix was easy and moves the backoff logic to the abstract InputChannel, which both Local and RemoteInputChannel extend.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The duplicate buffer release was hard to track. In some corner cases, the record serializers were incorrectly holding references to buffers &lt;b&gt;after&lt;/b&gt; written them out to a result partition. In failure cases, the serializers recycled these buffers too early. The later recycling (by the component, which is actually responsible for this) then resulted in an IllegalStateException.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/uce/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/incubator-flink&lt;/a&gt; cancel-2089&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/736.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/736.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #736&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e134f44640f2caafc6cff76fd100b11e3aa47515&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-05-26T09:15:17Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt; Add TaskCancelTest&lt;/p&gt;

&lt;p&gt;commit d6a33bfda84ea861e05e7a0aff6c529808c02bb2&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-05-26T13:37:35Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1636&quot; title=&quot;Improve error handling when partitions not found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1636&quot;&gt;&lt;del&gt;FLINK-1636&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Add partition request backoff logic to LocalInputChannel&lt;/p&gt;

&lt;p&gt;commit 7ea3ed2ad4c95c1bec0f2d558ba0d4faf9716f14&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-05-27T12:49:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2089&quot; title=&quot;&amp;quot;Buffer recycled&amp;quot; IllegalStateException during cancelling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2089&quot;&gt;&lt;del&gt;FLINK-2089&lt;/del&gt;&lt;/a&gt; Fix possible duplicate buffer release&lt;/p&gt;

&lt;p&gt;    Problem: RecordWriter instances have stateful serializers, which include the&lt;br/&gt;
    buffer that they currently work with. If the serializer state is not cleared&lt;br/&gt;
    correctly by the writers after writing a buffer to the respective result&lt;br/&gt;
    partition, it is possible that buffers are recycled multiple times in failure&lt;br/&gt;
    cases. This results in an IllegalStateException.&lt;/p&gt;

&lt;p&gt;    Solution: After writing a buffer to a ResultPartition, the RecordWriter makes&lt;br/&gt;
    sure that the serializer clears the reference to the respective buffer. The&lt;br/&gt;
    recycling of the buffer is then the responsibility of the result partition.&lt;/p&gt;

&lt;p&gt;commit 91b6049ac371a62671c36a8280b0a60f1b2b7408&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-05-27T16:26:46Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;logging&amp;#93;&lt;/span&gt; Fix log message&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14561734" author="githubbot" created="Wed, 27 May 2015 21:04:40 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/736#issuecomment-106074396&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/736#issuecomment-106074396&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Travis gives a green light. I&apos;m merging this. This will will give the changes as much testing exposure before the release as possible.&lt;/p&gt;</comment>
                            <comment id="14561736" author="githubbot" created="Wed, 27 May 2015 21:05:59 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/736&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/736&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14568114" author="uce" created="Mon, 1 Jun 2015 22:10:01 +0000"  >&lt;p&gt;Fixed in 28eb274.&lt;/p&gt;</comment>
                            <comment id="14702049" author="minjiang" created="Tue, 18 Aug 2015 21:54:57 +0000"  >&lt;p&gt;The issue seems not resolved. I downloaded the version 0.9 and ran my code. In IDE, my code was working fine with data containing about 300,000 records, each record having 550 fields. But when running the code in linux as client, i got the same error message stack: &lt;/p&gt;

&lt;p&gt;08/18/2015 17:30:10     CHAIN DataSource (at main(RWA.java:40) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:4                   0))(1/1) switched to FAILED&lt;br/&gt;
java.lang.IllegalStateException: Buffer has already been recycled.&lt;br/&gt;
        at org.apache.flink.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:173)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.buffer.Buffer.ensureNotRecycled(Buffer.java:142)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.buffer.Buffer.setSize(Buffer.java:105)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.api.serialization.SpanningRecordSerializer.getCurrentBuffer(SpanningRecordSerializer.java:151)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.api.writer.RecordWriter.clearBuffers(RecordWriter.java:166)&lt;br/&gt;
        at org.apache.flink.runtime.operators.RegularPactTask.clearWriters(RegularPactTask.java:1532)&lt;br/&gt;
        at org.apache.flink.runtime.operators.DataSourceTask.invoke(DataSourceTask.java:220)&lt;br/&gt;
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;
</comment>
                            <comment id="14702716" author="uce" created="Wed, 19 Aug 2015 08:46:51 +0000"  >&lt;p&gt;Thanks for researching the existing issues and reporting this.&lt;/p&gt;

&lt;p&gt;You are right that it is not resolved. I will reopen.&lt;/p&gt;

&lt;p&gt;I&apos;ve just looked at the &quot;fix&quot; 28eb274. You ran into a corner case that was not covered by 28eb274.&lt;/p&gt;</comment>
                            <comment id="14703063" author="uce" created="Wed, 19 Aug 2015 14:05:36 +0000"  >&lt;p&gt;Can you send me the complete logs? The email address is uce at apache dot org&lt;/p&gt;

&lt;p&gt;It&apos;s interesting to see whether another error occurred during execution.&lt;/p&gt;</comment>
                            <comment id="14703065" author="uce" created="Wed, 19 Aug 2015 14:08:00 +0000"  >&lt;p&gt;At the moment, the only way I can reproduce a similar issue is during a failure when writing the buffer out to the result partition.&lt;/p&gt;</comment>
                            <comment id="14703425" author="minjiang" created="Wed, 19 Aug 2015 17:36:45 +0000"  >&lt;p&gt;I re-ran today and directed to a result log file. On the screen I got the message stack as below&lt;br/&gt;
org.apache.flink.client.program.ProgramInvocationException: The program execution failed: Job execution failed.&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:413)&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:356)&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:349)&lt;br/&gt;
        at org.apache.flink.client.program.ContextEnvironment.execute(ContextEnvironment.java:63)&lt;br/&gt;
        at min.play.RWA.main(RWA.java:71)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
        at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:437)&lt;br/&gt;
        at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:353)&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:315)&lt;br/&gt;
        at org.apache.flink.client.CliFrontend.executeProgram(CliFrontend.java:584)&lt;br/&gt;
        at org.apache.flink.client.CliFrontend.run(CliFrontend.java:290)&lt;br/&gt;
        at org.apache.flink.client.CliFrontend.parseParameters(CliFrontend.java:880)&lt;br/&gt;
        at org.apache.flink.client.CliFrontend.main(CliFrontend.java:922)&lt;br/&gt;
Caused by: org.apache.flink.runtime.client.JobExecutionException: Job execution failed.&lt;br/&gt;
        at org.apache.flink.runtime.jobmanager.JobManager$$anonfun$receiveWithLogMessages$1.applyOrElse(JobManager.scala:314)&lt;br/&gt;
        at scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)&lt;br/&gt;
        at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)&lt;br/&gt;
        at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)&lt;br/&gt;
        at org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:36)&lt;br/&gt;
        at org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:29)&lt;br/&gt;
        at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:118)&lt;br/&gt;
        at org.apache.flink.runtime.ActorLogMessages$$anon$1.applyOrElse(ActorLogMessages.scala:29)&lt;br/&gt;
        at akka.actor.Actor$class.aroundReceive(Actor.scala:465)&lt;br/&gt;
        at org.apache.flink.runtime.jobmanager.JobManager.aroundReceive(JobManager.scala:92)&lt;br/&gt;
        at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)&lt;br/&gt;
        at akka.actor.ActorCell.invoke(ActorCell.scala:487)&lt;br/&gt;
        at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:254)&lt;br/&gt;
        at akka.dispatch.Mailbox.run(Mailbox.scala:221)&lt;br/&gt;
        at akka.dispatch.Mailbox.exec(Mailbox.scala:231)&lt;br/&gt;
        at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&lt;br/&gt;
        at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&lt;br/&gt;
        at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&lt;br/&gt;
        at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&lt;br/&gt;
Caused by: java.lang.IllegalStateException: Buffer has already been recycled.&lt;br/&gt;
        at org.apache.flink.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:173)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.buffer.Buffer.ensureNotRecycled(Buffer.java:142)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.buffer.Buffer.setSize(Buffer.java:105)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.api.serialization.SpanningRecordSerializer.getCurrentBuffer(SpanningRecordSerializer.java:151)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.api.writer.RecordWriter.clearBuffers(RecordWriter.java:166)&lt;br/&gt;
        at org.apache.flink.runtime.operators.RegularPactTask.clearWriters(RegularPactTask.java:1532)&lt;br/&gt;
        at org.apache.flink.runtime.operators.DataSourceTask.invoke(DataSourceTask.java:220)&lt;br/&gt;
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;Below is the log message from result log:&lt;br/&gt;
08/19/2015 13:06:58     Job execution switched to status RUNNING.&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:40) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:40))(1/1) switched to SCHEDULED&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:40) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:40))(1/1) switched to DEPLOYING&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:43) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:43))(1/1) switched to SCHEDULED&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:43) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:43))(1/1) switched to DEPLOYING&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:43) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:43))(1/1) switched to RUNNING&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:40) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:40))(1/1) switched to RUNNING&lt;br/&gt;
08/19/2015 13:06:59     DataSink (TextOutputFormat (/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to SCHEDULED&lt;br/&gt;
08/19/2015 13:06:59     DataSink (TextOutputFormat (/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to DEPLOYING&lt;br/&gt;
08/19/2015 13:06:59     DataSink (TextOutputFormat (/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to RUNNING&lt;br/&gt;
08/19/2015 13:08:08     CHAIN DataSource (at main(RWA.java:43) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:43))(1/1) switched to FINISHED&lt;br/&gt;
08/19/2015 13:08:08     DataSink (TextOutputFormat (/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to FINISHED&lt;br/&gt;
08/19/2015 13:08:10     CHAIN DataSource (at main(RWA.java:40) (org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at main(RWA.java:40))(1/1) switched to FAILED&lt;br/&gt;
java.lang.IllegalStateException: Buffer has already been recycled.&lt;br/&gt;
        at org.apache.flink.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:173)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.buffer.Buffer.ensureNotRecycled(Buffer.java:142)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.buffer.Buffer.setSize(Buffer.java:105)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.api.serialization.SpanningRecordSerializer.getCurrentBuffer(SpanningRecordSerializer.java:151)&lt;br/&gt;
        at org.apache.flink.runtime.io.network.api.writer.RecordWriter.clearBuffers(RecordWriter.java:166)&lt;br/&gt;
        at org.apache.flink.runtime.operators.RegularPactTask.clearWriters(RegularPactTask.java:1532)&lt;br/&gt;
        at org.apache.flink.runtime.operators.DataSourceTask.invoke(DataSourceTask.java:220)&lt;br/&gt;
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;08/19/2015 13:08:10     Job execution switched to status FAILING.&lt;br/&gt;
08/19/2015 13:08:10     FlatMap (FlatMap at main(RWA.java:62))(1/1) switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     CHAIN FlatMap (FlatMap at main(RWA.java:46)) -&amp;gt; FlatMap (FlatMap at main(RWA.java:59))(1/1) switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     Join(Join at projectTupleX(JoinOperator.java:1341))(1/1) switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     DataSink (CsvOutputFormat (path: /home/min/flink_data/result.csv, delimiter: &#194;&#182;))(1/1) switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     Job execution switched to status FAILED.&lt;/p&gt;</comment>
                            <comment id="14703445" author="minjiang" created="Wed, 19 Aug 2015 17:47:40 +0000"  >&lt;p&gt;I re-ran today and directed to a result log file. On the screen I got the&lt;br/&gt;
message stack as below&lt;br/&gt;
org.apache.flink.client.program.ProgramInvocationException: The program&lt;br/&gt;
execution failed: Job execution failed.&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:413)&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:356)&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:349)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.client.program.ContextEnvironment.execute(ContextEnvironment.java:63)&lt;br/&gt;
        at min.play.RWA.main(RWA.java:71)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at&lt;br/&gt;
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
        at&lt;br/&gt;
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:437)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:353)&lt;br/&gt;
        at org.apache.flink.client.program.Client.run(Client.java:315)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.client.CliFrontend.executeProgram(CliFrontend.java:584)&lt;br/&gt;
        at org.apache.flink.client.CliFrontend.run(CliFrontend.java:290)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.client.CliFrontend.parseParameters(CliFrontend.java:880)&lt;br/&gt;
        at org.apache.flink.client.CliFrontend.main(CliFrontend.java:922)&lt;br/&gt;
Caused by: org.apache.flink.runtime.client.JobExecutionException: Job&lt;br/&gt;
execution failed.&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.jobmanager.JobManager$$anonfun$receiveWithLogMessages$1.applyOrElse(JobManager.scala:314)&lt;br/&gt;
        at&lt;br/&gt;
scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)&lt;br/&gt;
        at&lt;br/&gt;
scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)&lt;br/&gt;
        at&lt;br/&gt;
scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:36)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.ActorLogMessages$$anon$1.apply(ActorLogMessages.scala:29)&lt;br/&gt;
        at&lt;br/&gt;
scala.PartialFunction$class.applyOrElse(PartialFunction.scala:118)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.ActorLogMessages$$anon$1.applyOrElse(ActorLogMessages.scala:29)&lt;br/&gt;
        at akka.actor.Actor$class.aroundReceive(Actor.scala:465)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.jobmanager.JobManager.aroundReceive(JobManager.scala:92)&lt;br/&gt;
        at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)&lt;br/&gt;
        at akka.actor.ActorCell.invoke(ActorCell.scala:487)&lt;br/&gt;
        at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:254)&lt;br/&gt;
        at akka.dispatch.Mailbox.run(Mailbox.scala:221)&lt;br/&gt;
        at akka.dispatch.Mailbox.exec(Mailbox.scala:231)&lt;br/&gt;
        at&lt;br/&gt;
scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)&lt;br/&gt;
        at&lt;br/&gt;
scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)&lt;br/&gt;
        at&lt;br/&gt;
scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)&lt;br/&gt;
        at&lt;br/&gt;
scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&lt;br/&gt;
Caused by: java.lang.IllegalStateException: Buffer has already been&lt;br/&gt;
recycled.&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:173)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.buffer.Buffer.ensureNotRecycled(Buffer.java:142)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.buffer.Buffer.setSize(Buffer.java:105)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.api.serialization.SpanningRecordSerializer.getCurrentBuffer(SpanningRecordSerializer.java:151)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.api.writer.RecordWriter.clearBuffers(RecordWriter.java:166)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.operators.RegularPactTask.clearWriters(RegularPactTask.java:1532)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.operators.DataSourceTask.invoke(DataSourceTask.java:220)&lt;br/&gt;
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;Below is the log message from result log:&lt;br/&gt;
08/19/2015 13:06:58     Job execution switched to status RUNNING.&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:40)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:40))(1/1) switched to SCHEDULED&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:40)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:40))(1/1) switched to DEPLOYING&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:43)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:43))(1/1) switched to SCHEDULED&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:43)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:43))(1/1) switched to DEPLOYING&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:43)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:43))(1/1) switched to RUNNING&lt;br/&gt;
08/19/2015 13:06:58     CHAIN DataSource (at main(RWA.java:40)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:40))(1/1) switched to RUNNING&lt;br/&gt;
08/19/2015 13:06:59     DataSink (TextOutputFormat&lt;br/&gt;
(/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to SCHEDULED&lt;br/&gt;
08/19/2015 13:06:59     DataSink (TextOutputFormat&lt;br/&gt;
(/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to DEPLOYING&lt;br/&gt;
08/19/2015 13:06:59     DataSink (TextOutputFormat&lt;br/&gt;
(/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to RUNNING&lt;br/&gt;
08/19/2015 13:08:08     CHAIN DataSource (at main(RWA.java:43)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:43))(1/1) switched to FINISHED&lt;br/&gt;
08/19/2015 13:08:08     DataSink (TextOutputFormat&lt;br/&gt;
(/home/min/flink_data/bad_data.csv) - UTF-8)(1/1) switched to FINISHED&lt;br/&gt;
08/19/2015 13:08:10     CHAIN DataSource (at main(RWA.java:40)&lt;br/&gt;
(org.apache.flink.api.java.io.TextInputFormat)) -&amp;gt; Filter (Filter at&lt;br/&gt;
main(RWA.java:40))(1/1) switched to FAILED&lt;br/&gt;
java.lang.IllegalStateException: Buffer has already been recycled.&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:173)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.buffer.Buffer.ensureNotRecycled(Buffer.java:142)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.buffer.Buffer.setSize(Buffer.java:105)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.api.serialization.SpanningRecordSerializer.getCurrentBuffer(SpanningRecordSerializer.java:151)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.io.network.api.writer.RecordWriter.clearBuffers(RecordWriter.java:166)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.operators.RegularPactTask.clearWriters(RegularPactTask.java:1532)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.flink.runtime.operators.DataSourceTask.invoke(DataSourceTask.java:220)&lt;br/&gt;
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;08/19/2015 13:08:10     Job execution switched to status FAILING.&lt;br/&gt;
08/19/2015 13:08:10     FlatMap (FlatMap at main(RWA.java:62))(1/1)&lt;br/&gt;
switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     CHAIN FlatMap (FlatMap at main(RWA.java:46)) -&amp;gt;&lt;br/&gt;
FlatMap (FlatMap at main(RWA.java:59))(1/1) switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     Join(Join at&lt;br/&gt;
projectTupleX(JoinOperator.java:1341))(1/1) switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     DataSink (CsvOutputFormat (path:&lt;br/&gt;
/home/min/flink_data/result.csv, delimiter: &#194;&#182;))(1/1) switched to CANCELED&lt;br/&gt;
08/19/2015 13:08:10     Job execution switched to status FAILED.&lt;/p&gt;


&lt;p&gt;On Wed, Aug 19, 2015 at 10:08 AM, Ufuk Celebi (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="14709191" author="uce" created="Mon, 24 Aug 2015 12:42:09 +0000"  >&lt;p&gt;Hey Min Jiang,&lt;/p&gt;

&lt;p&gt;is it possible for you to build a custom version of Flink? I can only think of a situation where this problem can arise, namely when there is another error in the execution. If you can share the data and program, I can also test it myself.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;git clone -b illegal-2089-master  --single-branch https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/uce/flink.git
&lt;/span&gt;cd flink
mvn &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; -DskipTests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then execute the program as before against this version.&lt;/p&gt;</comment>
                            <comment id="14709214" author="githubbot" created="Mon, 24 Aug 2015 12:53:01 +0000"  >&lt;p&gt;GitHub user uce opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2089&quot; title=&quot;&amp;quot;Buffer recycled&amp;quot; IllegalStateException during cancelling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2089&quot;&gt;&lt;del&gt;FLINK-2089&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Fix illegal state in RecordWriter after partition write failure&lt;/p&gt;

&lt;p&gt;    I&apos;m waiting for feedback from a user whether this fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2089&quot; title=&quot;&amp;quot;Buffer recycled&amp;quot; IllegalStateException during cancelling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2089&quot;&gt;&lt;del&gt;FLINK-2089&lt;/del&gt;&lt;/a&gt;, but this PR definitely addresses a problem.&lt;/p&gt;

&lt;p&gt;    Record writers have a `clearBuffers` method, which is called by the task code in a finally block at the end of `invoke` (see `RegularPactTask` for example). This call clears the buffers of the record serializers.&lt;/p&gt;

&lt;p&gt;    The following illegal state can arise: a buffer has been published to a partition, but the serializers still hold a reference to it. When a serializer tries to clear its current buffer, it might have already been recycled (because it was published to the partition). This will currently happen if there was an Exception during writing the buffer to the partition.&lt;/p&gt;

&lt;p&gt;    This PR replaces the write-and-clear calls with a try-catch-finally block and tests the expected behaviour in a new test. The removed tests are superseded by this new test.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/uce/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/flink&lt;/a&gt; illegal-2089-master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1050&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 88ca58b5e3e78354ca1cffee4e11b48011333c6b&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-08-19T14:11:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2089&quot; title=&quot;&amp;quot;Buffer recycled&amp;quot; IllegalStateException during cancelling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2089&quot;&gt;&lt;del&gt;FLINK-2089&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Fix illegal state in RecordWriter after partition write failure&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14709481" author="githubbot" created="Mon, 24 Aug 2015 15:43:25 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050#issuecomment-134256139&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050#issuecomment-134256139&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The failed Travis build is due to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2564&quot; title=&quot;Failing Test: RandomSamplerTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2564&quot;&gt;&lt;del&gt;FLINK-2564&lt;/del&gt;&lt;/a&gt; (see #1047 for the fix). The other builds pass.&lt;/p&gt;

&lt;p&gt;    *&lt;b&gt;Note&lt;/b&gt;*: This needs to be merged to `release-0.9` as well.&lt;/p&gt;</comment>
                            <comment id="14711218" author="githubbot" created="Tue, 25 Aug 2015 12:56:04 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050#discussion_r37861035&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050#discussion_r37861035&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/io/network/api/writer/RecordWriter.java &amp;#8212;&lt;br/&gt;
    @@ -20,7 +20,7 @@&lt;/p&gt;

&lt;p&gt;     import org.apache.flink.core.io.IOReadableWritable;&lt;br/&gt;
     import org.apache.flink.runtime.accumulators.AccumulatorRegistry;&lt;br/&gt;
    -import org.apache.flink.runtime.event.AbstractEvent;&lt;br/&gt;
    +import  org.apache.flink.runtime.event.AbstractEvent;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Whitespace should be removed&lt;/p&gt;</comment>
                            <comment id="14711265" author="githubbot" created="Tue, 25 Aug 2015 13:38:35 +0000"  >&lt;p&gt;Github user uce commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050#discussion_r37865266&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050#discussion_r37865266&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/io/network/api/writer/RecordWriter.java &amp;#8212;&lt;br/&gt;
    @@ -20,7 +20,7 @@&lt;/p&gt;

&lt;p&gt;     import org.apache.flink.core.io.IOReadableWritable;&lt;br/&gt;
     import org.apache.flink.runtime.accumulators.AccumulatorRegistry;&lt;br/&gt;
    -import org.apache.flink.runtime.event.AbstractEvent;&lt;br/&gt;
    +import  org.apache.flink.runtime.event.AbstractEvent;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Good catch. I&apos;m wondering how that happened though as I don&apos;t import stuff manually... :dart: &lt;/p&gt;</comment>
                            <comment id="14711466" author="githubbot" created="Tue, 25 Aug 2015 15:42:32 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050#issuecomment-134634885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050#issuecomment-134634885&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM +1&lt;/p&gt;</comment>
                            <comment id="14711654" author="githubbot" created="Tue, 25 Aug 2015 17:23:02 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050#issuecomment-134676836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050#issuecomment-134676836&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I will address the comment and merge this for 0.10 and 0.9.1.&lt;/p&gt;</comment>
                            <comment id="14712683" author="githubbot" created="Wed, 26 Aug 2015 08:11:46 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1050&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14712685" author="uce" created="Wed, 26 Aug 2015 08:15:27 +0000"  >&lt;p&gt;Fixed via b2f8e30 in master.&lt;/p&gt;

&lt;p&gt;Back port to release-0.9 pending on ML discussion (&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/flink-dev/201508.mbox/%3cCANC1h_voqCXu_-5RqOcwf0q=87p_bQrXXv-gS2qcBPkfcC2kPA@mail.gmail.com%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/flink-dev/201508.mbox/%3cCANC1h_voqCXu_-5RqOcwf0q=87p_bQrXXv-gS2qcBPkfcC2kPA@mail.gmail.com%3e&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14712916" author="uce" created="Wed, 26 Aug 2015 10:37:53 +0000"  >&lt;p&gt;Fixed in 11a1cf4 (release-0.9).&lt;/p&gt;</comment>
                            <comment id="14715399" author="minjiang" created="Wed, 26 Aug 2015 19:50:40 +0000"  >&lt;p&gt;Sorry, just saw many mails in my mailbox.&lt;/p&gt;

&lt;p&gt;i am inside a firewall, not able to send out big file, also not able to use&lt;br/&gt;
git to pull code to my machine.&lt;br/&gt;
i will try from home tonight to grab the code. Will let you know the result.&lt;/p&gt;

&lt;p&gt;Thanks a lot!&lt;br/&gt;
Min&lt;/p&gt;

</comment>
                            <comment id="14715811" author="minjiang" created="Thu, 27 Aug 2015 00:32:40 +0000"  >&lt;p&gt;I am not familiar with git and mvn. Just run the commands you provided for&lt;br/&gt;
git and maven.&lt;/p&gt;

&lt;p&gt;However mvn build failed. I attached the mvn run log for you to take a look.&lt;/p&gt;



</comment>
                    </comments>
                    <attachments>
                            <attachment id="12752613" name="mvnlog.rar" size="8105" author="minjiang" created="Thu, 27 Aug 2015 00:32:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f6tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>