<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:44:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-16703] AkkaRpcActor state machine does not record transition to terminating state.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-16703</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;As part of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-11551&quot; title=&quot;Allow RpcEndpoints to execute asynchronous stop operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-11551&quot;&gt;&lt;del&gt;FLINK-11551&lt;/del&gt;&lt;/a&gt;, the state machine of AkkaRpcActor has been updated to include &apos;terminating&apos; and &apos;terminated&apos; states. However, when actor termination request is handled, the resulting &apos;terminating&apos; state is not updated by the FSM.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/blame/master/flink-runtime/src/main/java/org/apache/flink/runtime/rpc/akka/AkkaRpcActor.java#L175&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blame/master/flink-runtime/src/main/java/org/apache/flink/runtime/rpc/akka/AkkaRpcActor.java#L175&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As a side-effect, &lt;tt&gt;isRunning()&lt;/tt&gt; predicate can return that the actor is still running after terminate was initiated and to still handle messages.&lt;/p&gt;

&lt;p&gt;I believe the fix is trivial and the private field&#160;&lt;tt&gt;state&lt;/tt&gt; should be updated with the return value of the call to &lt;tt&gt;state.terminate()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Feel free to adjust the priority accordingly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13293054">FLINK-16703</key>
            <summary>AkkaRpcActor state machine does not record transition to terminating state.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="dchmelev">Dmitri Chmelev</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 21 Mar 2020 01:19:32 +0000</created>
                <updated>Tue, 31 Mar 2020 10:46:07 +0000</updated>
                            <resolved>Tue, 31 Mar 2020 10:46:07 +0000</resolved>
                                    <version>1.8.0</version>
                    <version>1.9.0</version>
                    <version>1.10.0</version>
                    <version>1.11.0</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.9.3</fixVersion>
                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17068566" author="till.rohrmann" created="Fri, 27 Mar 2020 11:05:09 +0000"  >&lt;p&gt;Yes, you are right &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dchmelev&quot; class=&quot;user-hover&quot; rel=&quot;dchmelev&quot;&gt;dchmelev&lt;/a&gt;. Thanks a lot for reporting this issue.&lt;/p&gt;</comment>
                            <comment id="17071671" author="till.rohrmann" created="Tue, 31 Mar 2020 10:46:07 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;1.11.0: 1e0db6425f18b8d69b69176b9cb75e8b000bf768&lt;br/&gt;
1.10.1: 8773895b6b7cf75ee642ebd1496c0566a0ddaa40&lt;br/&gt;
1.9.3: b71c4002d3942f48807d2b5c0ac64ee3e55b2f59&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0crdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>