<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:11:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-27579] The param client.timeout can not be set by dynamic properties when stopping the job </title>
                <link>https://issues.apache.org/jira/browse/FLINK-27579</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The default client.timeout value is one minute which may be too short when stop-with-savepoint for big state jobs.&lt;/p&gt;

&lt;p&gt;When we stop the job by dynamic properties(-D or -yD for yarn), the client.timeout is not effective.&lt;/p&gt;

&lt;p&gt;From the code, we can see that the dynamic properties are only effect for run command. We should support it for stop command.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13444545">FLINK-27579</key>
            <summary>The param client.timeout can not be set by dynamic properties when stopping the job </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paul8263">Yao Zhang</assignee>
                                    <reporter username="Jiangang">Liu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 12 May 2022 08:23:27 +0000</created>
                <updated>Thu, 27 Oct 2022 09:36:40 +0000</updated>
                            <resolved>Tue, 26 Jul 2022 09:18:51 +0000</resolved>
                                    <version>1.16.0</version>
                                    <fixVersion>1.16.0</fixVersion>
                    <fixVersion>1.15.3</fixVersion>
                                    <component>Client / Job Submission</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17539339" author="paul8263" created="Thu, 19 May 2022 06:30:16 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiangang&quot; class=&quot;user-hover&quot; rel=&quot;Jiangang&quot;&gt;Jiangang&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;The option `client.timeout` is read only from flink configuration file. The dynamic properties take no effect.&lt;/p&gt;

&lt;p&gt;I would like to solve this problem.&lt;/p&gt;</comment>
                            <comment id="17541780" author="jiangang" created="Wed, 25 May 2022 01:59:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paul8263&quot; class=&quot;user-hover&quot; rel=&quot;paul8263&quot;&gt;paul8263&lt;/a&gt; Thanks for the pr. We need a flink committer to verify the problem. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wangyang0918&quot; class=&quot;user-hover&quot; rel=&quot;wangyang0918&quot;&gt;wangyang0918&lt;/a&gt; , could you please have a look. Thanks.&lt;/p&gt;</comment>
                            <comment id="17541809" author="fly_in_gis" created="Wed, 25 May 2022 03:52:40 +0000"  >&lt;p&gt;The root cause is we do not get the &lt;tt&gt;clientTimeout&lt;/tt&gt; from effective configuration when doing stop/list/etc. operations. Right?&lt;/p&gt;</comment>
                            <comment id="17541923" author="jiangang" created="Wed, 25 May 2022 09:16:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wangyang0918&quot; class=&quot;user-hover&quot; rel=&quot;wangyang0918&quot;&gt;wangyang0918&lt;/a&gt; Yes, you are right. The method getEffectiveConfiguration is not called for some actions, like stop and cancel. Although most of configs take effect when the job starts, there exist some configs in other actions. The config clientTimeout is just one.&lt;/p&gt;

&lt;p&gt;In this case, I think that the simplest way to fix is to fetch clientTimeout from the effectiveConfiguration. If we consider more, all the actions should get configs from effectiveConfiguration instead of the initial configuration in the constructor.&#160;&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17542042" author="fly_in_gis" created="Wed, 25 May 2022 13:07:17 +0000"  >&lt;p&gt;Yes. I lean to fix this issue by get the clientTimeout from effective configuration, not the original conf.&lt;/p&gt;</comment>
                            <comment id="17542385" author="jiangang" created="Thu, 26 May 2022 07:36:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paul8263&quot; class=&quot;user-hover&quot; rel=&quot;paul8263&quot;&gt;paul8263&lt;/a&gt; Would you like to solve it? If so, you can refer to the discussion. If not, I would like to solve it. Thanks.&lt;/p&gt;</comment>
                            <comment id="17542728" author="paul8263" created="Fri, 27 May 2022 00:28:42 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiangang&quot; class=&quot;user-hover&quot; rel=&quot;Jiangang&quot;&gt;Jiangang&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;I would like to do this. Please have a look at PR  &lt;a href=&quot;https://github.com/apache/flink/pull/19772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#19722&lt;/a&gt;.Thanks.&lt;/p&gt;</comment>
                            <comment id="17544908" author="jiangang" created="Wed, 1 Jun 2022 13:22:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wangyang0918&quot; class=&quot;user-hover&quot; rel=&quot;wangyang0918&quot;&gt;wangyang0918&lt;/a&gt; Can you review the code? Thanks.&lt;/p&gt;</comment>
                            <comment id="17562379" author="paul8263" created="Tue, 5 Jul 2022 06:12:09 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wangyang0918&quot; class=&quot;user-hover&quot; rel=&quot;wangyang0918&quot;&gt;wangyang0918&lt;/a&gt;&#160;&#65292;&lt;/p&gt;

&lt;p&gt;Could you help review the code please? Thanks.&lt;/p&gt;</comment>
                            <comment id="17563074" author="fly_in_gis" created="Wed, 6 Jul 2022 09:25:55 +0000"  >&lt;p&gt;Really sorry for the late response. I will get to this PR in this week.&lt;/p&gt;</comment>
                            <comment id="17565208" author="paul8263" created="Tue, 12 Jul 2022 01:05:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wangyang0918&quot; class=&quot;user-hover&quot; rel=&quot;wangyang0918&quot;&gt;wangyang0918&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;Thank you very much for your suggestions and code review.&lt;/p&gt;

&lt;p&gt;If there is something need to update in this PR, please let me know.&lt;/p&gt;</comment>
                            <comment id="17571301" author="fly_in_gis" created="Tue, 26 Jul 2022 09:18:51 +0000"  >&lt;p&gt;Fixed via:&lt;/p&gt;

&lt;p&gt;master: c4b107835c8bdae0667efcbdfe52aa3a34aec894&lt;/p&gt;</comment>
                            <comment id="17571302" author="fly_in_gis" created="Tue, 26 Jul 2022 09:19:59 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paul8263&quot; class=&quot;user-hover&quot; rel=&quot;paul8263&quot;&gt;paul8263&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Jiangang&quot; class=&quot;user-hover&quot; rel=&quot;Jiangang&quot;&gt;Jiangang&lt;/a&gt; for your contribution.&lt;/p&gt;</comment>
                            <comment id="17624827" author="fly_in_gis" created="Thu, 27 Oct 2022 02:36:16 +0000"  >&lt;p&gt;When working for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-29749&quot; title=&quot;flink info command support dynamic properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-29749&quot;&gt;&lt;del&gt;FLINK-29749&lt;/del&gt;&lt;/a&gt;, I realize that this ticket also needs to be backported to release-1.15.&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13491210">FLINK-29749</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12ak0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>