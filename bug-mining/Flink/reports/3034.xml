<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:39:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1722] Streaming not respecting FinalizeOnMaster for output formats</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1722</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The Hadoop output formats execute a process in the end to move the produced files from a temp directory to the final location.&lt;/p&gt;

&lt;p&gt;The batch API is annotating output formats that execute something in the end with the &lt;tt&gt;FinalizeOnMaster&lt;/tt&gt; interface.&lt;br/&gt;
The streaming component is not respecting this interface. Hence, HadoopOutputFormats aren&apos;t writing their final data into the desired destination.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782821">FLINK-1722</key>
            <summary>Streaming not respecting FinalizeOnMaster for output formats</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sunhaibotb">Haibo Sun</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 18 Mar 2015 10:45:36 +0000</created>
                <updated>Mon, 17 Jun 2019 11:18:35 +0000</updated>
                            <resolved>Mon, 17 Jun 2019 11:18:01 +0000</resolved>
                                                    <fixVersion>1.9.0</fixVersion>
                                    <component>API / DataStream</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="15953377" author="aljoscha" created="Mon, 3 Apr 2017 12:16:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt; I don&apos;t think we will fix this. We can either simply close the issue or add a check to &lt;tt&gt;OutputFormatSinkFunction&lt;/tt&gt; that disallows &lt;tt&gt;FinalizeOnMaster&lt;/tt&gt; &lt;tt&gt;OutputFormats&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16071226" author="rmetzger" created="Sat, 1 Jul 2017 13:27:16 +0000"  >&lt;p&gt;I think we should add a check to the code. Silently ignoring the interface in the streaming api is not a good system behavior&lt;/p&gt;</comment>
                            <comment id="16848158" author="lzljs3620320" created="Sat, 25 May 2019 11:32:41 +0000"  >&lt;p&gt;Now, blink planner build batch sql on the StreamGraph,&#160;So we need to implement finalizeGlobal to meet the requirements of Hadoop output formats(and the hive output formats).&#160;We have fixed this problem in Blink&apos;s code.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maguowei&quot; class=&quot;user-hover&quot; rel=&quot;maguowei&quot;&gt;maguowei&lt;/a&gt;&#160;Can you take a fresh look at this issue?&lt;/p&gt;

&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ykt836&quot; class=&quot;user-hover&quot; rel=&quot;ykt836&quot;&gt;ykt836&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16852871" author="sunhaibotb" created="Fri, 31 May 2019 09:56:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;&#160;, I wrote a simple design document, and let&apos;s start from this document to address this issue.&#160;What do you think?&lt;/p&gt;

&lt;p&gt;Design&#160; doc:&#160;&lt;a href=&quot;https://docs.google.com/document/d/1i_hFIqZRuNMZrfbjDIpquj6muh8tvV2fFOlCLqw2e8w/edit?usp=sharing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.google.com/document/d/1i_hFIqZRuNMZrfbjDIpquj6muh8tvV2fFOlCLqw2e8w/edit?usp=sharing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any questions and suggestions are welcome. Thanks.&lt;/p&gt;</comment>
                            <comment id="16854402" author="aljoscha" created="Mon, 3 Jun 2019 09:07:37 +0000"  >&lt;p&gt;I think the general plan is correct. &#128076;Please make sure to also add tests when implementing this.&lt;/p&gt;</comment>
                            <comment id="16855222" author="sunhaibotb" created="Tue, 4 Jun 2019 01:47:24 +0000"  >&lt;p&gt;&#160;OK, I will.&lt;/p&gt;</comment>
                            <comment id="16865525" author="aljoscha" created="Mon, 17 Jun 2019 11:18:01 +0000"  >&lt;p&gt;Fixed on master in 02f99c39d3fe92a31eafcff4ac5fc62f548658b3&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="13234507">FLINK-12568</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26wrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>