<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:31:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8393] Reconnect to last known JobMaster when connection is lost</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8393</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In case of a connection loss to the &lt;tt&gt;JobMaster&lt;/tt&gt;, e.g. due to a heartbeat timeout or a disconnect call, then the &lt;tt&gt;TaskExecutor&lt;/tt&gt; should try to reconnect to the last known &lt;tt&gt;JobMaster&lt;/tt&gt; location in case that the timeout was a false positive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13129645">FLINK-8393</key>
            <summary>Reconnect to last known JobMaster when connection is lost</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>flip-6</label>
                    </labels>
                <created>Tue, 9 Jan 2018 19:55:02 +0000</created>
                <updated>Wed, 10 Jan 2018 16:28:44 +0000</updated>
                            <resolved>Wed, 10 Jan 2018 16:28:22 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16319051" author="githubbot" created="Tue, 9 Jan 2018 19:58:21 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5267&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8393&quot; title=&quot;Reconnect to last known JobMaster when connection is lost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8393&quot;&gt;&lt;del&gt;FLINK-8393&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;flip6&amp;#93;&lt;/span&gt; Reconnect to last known JobMaster when connection is lost&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Reconnect to the last known location of a lost `JobMaster` connection.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In case of a heartbeat timeout or a disconnect call, the `TaskExecutor` tries to reconnect to the last known `JobMaster` location&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added `RegisteredRpcConnection#testReconnect`&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: (no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (yes)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (no)&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? (not applicable)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; resumeLostJobMasterConnection&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5267.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5267.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5267&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f9bccf20b046e4f73a52ca2a4b842ca985dfaaa8&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-01-09T16:50:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8392&quot; title=&quot;Simplify termination future completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8392&quot;&gt;&lt;del&gt;FLINK-8392&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;rpc&amp;#93;&lt;/span&gt; Let termination future be completed by AkkaRpcActor#postStop&lt;/p&gt;

&lt;p&gt;    Revert the changes introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7754&quot; title=&quot;Complete termination future after actor has been stopped.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7754&quot;&gt;&lt;del&gt;FLINK-7754&lt;/del&gt;&lt;/a&gt;. An RpcEndpoint&apos;s termination future is now&lt;br/&gt;
    completed from the AkkaRpcActor#postStop method.&lt;/p&gt;

&lt;p&gt;commit 21524394bc37372dc13eb5c3938de051cbd6f03e&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-01-08T17:23:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7910&quot; title=&quot;Generalize TestEnvironment/TestStreamEnvironment to be used with Flip-6 MiniCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7910&quot;&gt;&lt;del&gt;FLINK-7910&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt; Generalize Test(Stream)Environment to use JobExecutor&lt;/p&gt;

&lt;p&gt;    This commit introduces the JobExecutor interface which abstracts the actual mini cluster&lt;br/&gt;
    from the Test(Stream)Environment. By letting the Flip-6 MiniCluster as well as the&lt;br/&gt;
    FlinkMiniCluster implement this interface, we can run all test base jobs either on the&lt;br/&gt;
    Flip-6 mini cluster or on the current mini cluster.&lt;/p&gt;

&lt;p&gt;    This closes #4897.&lt;/p&gt;

&lt;p&gt;commit 5f1bdc1a8546e24e079753f92f22a397ccba24de&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2017-12-01T14:02:09Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8389&quot; title=&quot;Release all slots when terminating the JobMaster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8389&quot;&gt;&lt;del&gt;FLINK-8389&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;flip6&amp;#93;&lt;/span&gt; Release all slots upon closing of JobManager connection&lt;/p&gt;

&lt;p&gt;commit 141f21d85f0047e4e5c0776e70ac6d83a03e5943&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-01-09T13:11:20Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; Add retrieval of key sets to DualKeyMap&lt;/p&gt;

&lt;p&gt;commit d46ba9c5f6c1320d73b4d0e65462bcf2c45ff28f&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2017-12-01T14:10:46Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; Enable checkpointing RPC calls&lt;/p&gt;

&lt;p&gt;commit 737676e5912a2b43dd195ab2a940bc15af6630fb&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-01-09T08:28:34Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; Add JavaDocs to OnCompletionActions&lt;/p&gt;

&lt;p&gt;commit f456248a2e75da4947cea7f2d863db129f0efc5f&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-01-09T15:44:59Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; Refactor JobMasterTest to avoid using Mockito&lt;/p&gt;

&lt;p&gt;commit fa7b667a196980e05194b88ba352a12f330b5ad0&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-01-09T19:37:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8393&quot; title=&quot;Reconnect to last known JobMaster when connection is lost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8393&quot;&gt;&lt;del&gt;FLINK-8393&lt;/del&gt;&lt;/a&gt; Reconnect to last known JobMaster when connection is lost&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16320546" author="till.rohrmann" created="Wed, 10 Jan 2018 16:28:23 +0000"  >&lt;p&gt;Fixed via 63d4819e197b1df1651157fd8f86c8ca0540d0b1&lt;/p&gt;</comment>
                            <comment id="16320547" author="githubbot" created="Wed, 10 Jan 2018 16:28:44 +0000"  >&lt;p&gt;Github user tillrohrmann closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5267&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3opdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>