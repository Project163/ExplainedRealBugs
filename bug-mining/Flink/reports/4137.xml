<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:46:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-17750] YARNHighAvailabilityITCase.testKillYarnSessionClusterEntrypoint failed on azure</title>
                <link>https://issues.apache.org/jira/browse/FLINK-17750</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/khachatryanroman/810e80cc-0656-4d3c-9d8c-186764456a01/_apis/build/builds/6/logs/156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/khachatryanroman/810e80cc-0656-4d3c-9d8c-186764456a01/_apis/build/builds/6/logs/156&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 2020-05-15T23:42:29.5307581Z [ERROR] testKillYarnSessionClusterEntrypoint(org.apache.flink.yarn.YARNHighAvailabilityITCase)  Time elapsed: 21.68 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
 2020-05-15T23:42:29.5308406Z java.util.concurrent.ExecutionException:
 2020-05-15T23:42:29.5308864Z org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.util.RestClientException: [Internal server error., &amp;lt;Exception on server side:
 2020-05-15T23:42:29.5309678Z java.util.concurrent.TimeoutException: Invocation of &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; java.util.concurrent.CompletableFuture org.apache.flink.runt ime.dispatcher.DispatcherGateway.requestJob(org.apache.flink.api.common.JobID,org.apache.flink.api.common.time.Time) timed out.
 2020-05-15T23:42:29.5310322Z    at com.sun.proxy.$Proxy33.requestJob(Unknown Source)
 2020-05-15T23:42:29.5311018Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.legacy.DefaultExecutionGraphCache.getExecutionGraphInternal(DefaultExecutionGraphCach e.java:103)
 2020-05-15T23:42:29.5311704Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.legacy.DefaultExecutionGraphCache.getExecutionGraph(DefaultExecutionGraphCache.java:7 1)
 2020-05-15T23:42:29.5312355Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.job.AbstractExecutionGraphHandler.handleRequest(AbstractExecutionGraphHandler.java:75 )
 2020-05-15T23:42:29.5312924Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.AbstractRestHandler.respondToRequest(AbstractRestHandler.java:73)
 2020-05-15T23:42:29.5313423Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.AbstractHandler.respondAsLeader(AbstractHandler.java:172)
 2020-05-15T23:42:29.5314497Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.LeaderRetrievalHandler.lambda$channelRead0$0(LeaderRetrievalHandler.java:81)
 2020-05-15T23:42:29.5315083Z    at java.util.Optional.ifPresent(Optional.java:159)
 2020-05-15T23:42:29.5315474Z    at org.apache.flink.util.OptionalConsumer.ifPresent(OptionalConsumer.java:46)
 2020-05-15T23:42:29.5315979Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.LeaderRetrievalHandler.channelRead0(LeaderRetrievalHandler.java:78)
 2020-05-15T23:42:29.5316520Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.LeaderRetrievalHandler.channelRead0(LeaderRetrievalHandler.java:49)
 2020-05-15T23:42:29.5317092Z    at org.apache.flink.shaded.netty4.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:10 5)
 2020-05-15T23:42:29.5317705Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5318586Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5319249Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5319729Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.router.RouterHandler.routed(RouterHandler.java:110)
 2020-05-15T23:42:29.5320136Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.router.RouterHandler.channelRead0(RouterHandler.java:89)
 2020-05-15T23:42:29.5320742Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.router.RouterHandler.channelRead0(RouterHandler.java:54)
 2020-05-15T23:42:29.5321195Z    at org.apache.flink.shaded.netty4.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:10 5)
 2020-05-15T23:42:29.5321730Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5322263Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5322806Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5323335Z    at org.apache.flink.shaded.netty4.io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
 2020-05-15T23:42:29.5323849Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5324390Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5324910Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5325920Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.FileUploadHandler.channelRead0(FileUploadHandler.java:174)
 2020-05-15T23:42:29.5326353Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.FileUploadHandler.channelRead0(FileUploadHandler.java:68)
 2020-05-15T23:42:29.5326867Z    at org.apache.flink.shaded.netty4.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:10 5)
 2020-05-15T23:42:29.5327532Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5328140Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5328748Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5329391Z    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRea d(CombinedChannelDuplexHandler.java:438)
 2020-05-15T23:42:29.5330028Z    at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:328)
 2020-05-15T23:42:29.5330593Z    at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:302)
 2020-05-15T23:42:29.5331149Z    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java: 253)
 2020-05-15T23:42:29.5331750Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5332346Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5332956Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5333552Z    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java: 1421)
 2020-05-15T23:42:29.5334135Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5334748Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5335383Z    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)
 2020-05-15T23:42:29.5335952Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:1 63)
 2020-05-15T23:42:29.5336485Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:697)
 2020-05-15T23:42:29.5337019Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:632)
 2020-05-15T23:42:29.5337552Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:549)
 2020-05-15T23:42:29.5338023Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:511)
 2020-05-15T23:42:29.5338689Z    at org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918)
 2020-05-15T23:42:29.5339358Z    at org.apache.flink.shaded.netty4.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
 2020-05-15T23:42:29.5339869Z    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
 2020-05-15T23:42:29.5341122Z Caused by: akka.pattern.AskTimeoutException: Recipient [Actor[akka:&lt;span class=&quot;code-comment&quot;&gt;//flink/user/rpc/dispatcher_1#-1875884516]] had already been t erminated. Message of type [org.apache.flink.runtime.rpc.messages.LocalFencedMessage].
&lt;/span&gt; 2020-05-15T23:42:29.5341660Z    at akka.pattern.AskableActorRef$.recipientTerminatedException(AskSupport.scala:288)
 2020-05-15T23:42:29.5342018Z    at akka.pattern.AskableActorRef$.internalAsk$extension(AskSupport.scala:330)
 2020-05-15T23:42:29.5342321Z    at akka.pattern.AskSupport$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;ask(AskSupport.scala:81)
 2020-05-15T23:42:29.5342592Z    at akka.pattern.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;$.ask(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:42)
 2020-05-15T23:42:29.5342833Z    at akka.pattern.Patterns$.ask(Patterns.scala:160)
 2020-05-15T23:42:29.5343180Z    at akka.pattern.Patterns.ask(Patterns.scala)
 2020-05-15T23:42:29.5343485Z    at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.ask(AkkaInvocationHandler.java:361)
 2020-05-15T23:42:29.5343911Z    at org.apache.flink.runtime.rpc.akka.FencedAkkaInvocationHandler.ask(FencedAkkaInvocationHandler.java:123)
 2020-05-15T23:42:29.5344323Z    at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.invokeRpc(AkkaInvocationHandler.java:222)
 2020-05-15T23:42:29.5344737Z    at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.invoke(AkkaInvocationHandler.java:134)
 2020-05-15T23:42:29.5345147Z    at org.apache.flink.runtime.rpc.akka.FencedAkkaInvocationHandler.invoke(FencedAkkaInvocationHandler.java:79)
 2020-05-15T23:42:29.5345443Z    ... 51 more
 2020-05-15T23:42:29.5345533Z
 2020-05-15T23:42:29.5345682Z End of exception on server side&amp;gt;]
 2020-05-15T23:42:29.5345940Z    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
 2020-05-15T23:42:29.5346289Z    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
 2020-05-15T23:42:29.5346680Z    at org.apache.flink.yarn.YARNHighAvailabilityITCase.lambda$waitUntilJobIsRunning$4(YARNHighAvailabilityITCase.java:312)
 2020-05-15T23:42:29.5347126Z    at org.apache.flink.runtime.testutils.CommonTestUtils.waitUntilCondition(CommonTestUtils.java:123)
 2020-05-15T23:42:29.5347520Z    at org.apache.flink.runtime.testutils.CommonTestUtils.waitUntilCondition(CommonTestUtils.java:119)
 2020-05-15T23:42:29.5347950Z    at org.apache.flink.yarn.YARNHighAvailabilityITCase.waitUntilJobIsRunning(YARNHighAvailabilityITCase.java:310)
 2020-05-15T23:42:29.5348430Z    at org.apache.flink.yarn.YARNHighAvailabilityITCase.lambda$testKillYarnSessionClusterEntrypoint$0(YARNHighAvailabilityITCase.j*ava:168)
 2020-05-15T23:42:29.5348835Z    at org.apache.flink.yarn.YarnTestBase.runTest(YarnTestBase.java:258)
 2020-05-15T23:42:29.5349420Z    at org.apache.flink.yarn.YARNHighAvailabilityITCase.testKillYarnSessionClusterEntrypoint(YARNHighAvailabilityITCase.java:156)
 2020-05-15T23:42:29.5349984Z    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 2020-05-15T23:42:29.5350385Z    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 2020-05-15T23:42:29.5350772Z    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 2020-05-15T23:42:29.5351125Z    at java.lang.reflect.Method.invoke(Method.java:498)
 2020-05-15T23:42:29.5351459Z    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
 2020-05-15T23:42:29.5351868Z    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
 2020-05-15T23:42:29.5352274Z    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
 2020-05-15T23:42:29.5352661Z    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
 2020-05-15T23:42:29.5353219Z    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
 2020-05-15T23:42:29.5353559Z    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
 2020-05-15T23:42:29.5353886Z    at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
 2020-05-15T23:42:29.5354163Z    at org.junit.rules.RunRules.evaluate(RunRules.java:20)
 2020-05-15T23:42:29.5354454Z    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
 2020-05-15T23:42:29.5354776Z    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
 2020-05-15T23:42:29.5355144Z    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
 2020-05-15T23:42:29.5355459Z    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
 2020-05-15T23:42:29.5355764Z    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
 2020-05-15T23:42:29.5356062Z    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
 2020-05-15T23:42:29.5356382Z    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
 2020-05-15T23:42:29.5356681Z    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
 2020-05-15T23:42:29.5357068Z    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
 2020-05-15T23:42:29.5357432Z    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
 2020-05-15T23:42:29.5357757Z    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
 2020-05-15T23:42:29.5358088Z    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
 2020-05-15T23:42:29.5358402Z    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
 2020-05-15T23:42:29.5358705Z    at org.junit.rules.RunRules.evaluate(RunRules.java:20)
 2020-05-15T23:42:29.5358976Z    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
 2020-05-15T23:42:29.5359307Z    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
 2020-05-15T23:42:29.5359674Z    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
 2020-05-15T23:42:29.5360252Z    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
 2020-05-15T23:42:29.5360862Z    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
 2020-05-15T23:42:29.5361296Z    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
 2020-05-15T23:42:29.5361723Z    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
 2020-05-15T23:42:29.5362125Z    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
 2020-05-15T23:42:29.5362503Z    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
 2020-05-15T23:42:29.5362969Z    Suppressed: java.lang.AssertionError: There is at least one application on the cluster that is not finished.[App application_1 589586092047_0002 is in state RUNNING.]
 2020-05-15T23:42:29.5363571Z            at org.junit.Assert.fail(Assert.java:88)
 2020-05-15T23:42:29.5364060Z            at org.apache.flink.yarn.YarnTestBase$CleanupYarnApplication.close(YarnTestBase.java:286)
 2020-05-15T23:42:29.5364448Z            at org.apache.flink.yarn.YarnTestBase.runTest(YarnTestBase.java:259)
 2020-05-15T23:42:29.5364745Z            ... 36 more
 2020-05-15T23:42:29.5365232Z Caused by: org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.util.RestClientException: [Internal server error., &amp;lt;Exception on server side:
 2020-05-15T23:42:29.5365862Z java.util.concurrent.TimeoutException: Invocation of &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; java.util.concurrent.CompletableFuture org.apache.flink.runt ime.dispatcher.DispatcherGateway.requestJob(org.apache.flink.api.common.JobID,org.apache.flink.api.common.time.Time) timed out.
 2020-05-15T23:42:29.5366535Z    at com.sun.proxy.$Proxy33.requestJob(Unknown Source)
 2020-05-15T23:42:29.5366919Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.legacy.DefaultExecutionGraphCache.getExecutionGraphInternal(DefaultExecutionGraphCach e.java:103)
 2020-05-15T23:42:29.5367421Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.legacy.DefaultExecutionGraphCache.getExecutionGraph(DefaultExecutionGraphCache.java:7 1)
 2020-05-15T23:42:29.5367925Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.job.AbstractExecutionGraphHandler.handleRequest(AbstractExecutionGraphHandler.java:75 )
 2020-05-15T23:42:29.5368376Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.AbstractRestHandler.respondToRequest(AbstractRestHandler.java:73)
 2020-05-15T23:42:29.5368902Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.AbstractHandler.respondAsLeader(AbstractHandler.java:172)
 2020-05-15T23:42:29.5369342Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.LeaderRetrievalHandler.lambda$channelRead0$0(LeaderRetrievalHandler.java:81)
 2020-05-15T23:42:29.5369695Z    at java.util.Optional.ifPresent(Optional.java:159)
 2020-05-15T23:42:29.5370003Z    at org.apache.flink.util.OptionalConsumer.ifPresent(OptionalConsumer.java:46)
 2020-05-15T23:42:29.5370430Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.LeaderRetrievalHandler.channelRead0(LeaderRetrievalHandler.java:78)
 2020-05-15T23:42:29.5370872Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.LeaderRetrievalHandler.channelRead0(LeaderRetrievalHandler.java:49)
 2020-05-15T23:42:29.5371391Z    at org.apache.flink.shaded.netty4.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:10 5)
 2020-05-15T23:42:29.5371922Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5372438Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)
 2020-05-15T23:42:29.5372963Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5373420Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.router.RouterHandler.routed(RouterHandler.java:110)
 2020-05-15T23:42:29.5373804Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.router.RouterHandler.channelRead0(RouterHandler.java:89)
 2020-05-15T23:42:29.5374211Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.handler.router.RouterHandler.channelRead0(RouterHandler.java:54)
 2020-05-15T23:42:29.5374655Z    at org.apache.flink.shaded.netty4.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:10 5)
 2020-05-15T23:42:29.5375352Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5376349Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5376957Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5377544Z    at org.apache.flink.shaded.netty4.io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
 2020-05-15T23:42:29.5378119Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5378804Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5379469Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5379997Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.FileUploadHandler.channelRead0(FileUploadHandler.java:174)
 2020-05-15T23:42:29.5381976Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.FileUploadHandler.channelRead0(FileUploadHandler.java:68)
 2020-05-15T23:42:29.5382435Z    at org.apache.flink.shaded.netty4.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:10 5)
 2020-05-15T23:42:29.5382951Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5383467Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5384003Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5384561Z    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRea d(CombinedChannelDuplexHandler.java:438)
 2020-05-15T23:42:29.5385116Z    at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:328)
 2020-05-15T23:42:29.5385601Z    at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:302)
 2020-05-15T23:42:29.5386075Z    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java: 253)
 2020-05-15T23:42:29.5386588Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5387217Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5387765Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext .java:352)
 2020-05-15T23:42:29.5388263Z    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java: 1421)
 2020-05-15T23:42:29.5388785Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:374)
 2020-05-15T23:42:29.5389313Z    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerConte xt.java:360)
 2020-05-15T23:42:29.5389799Z    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)
 2020-05-15T23:42:29.5390295Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:1 63)
 2020-05-15T23:42:29.5390755Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:697)
 2020-05-15T23:42:29.5391213Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:632)
 2020-05-15T23:42:29.5391659Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:549)
 2020-05-15T23:42:29.5392081Z    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:511)
 2020-05-15T23:42:29.5392527Z    at org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918)
 2020-05-15T23:42:29.5392978Z    at org.apache.flink.shaded.netty4.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
 2020-05-15T23:42:29.5393314Z    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
 2020-05-15T23:42:29.5394130Z Caused by: akka.pattern.AskTimeoutException: Recipient [Actor[akka:&lt;span class=&quot;code-comment&quot;&gt;//flink/user/rpc/dispatcher_1#-1875884516]] had already been t erminated. Message of type [org.apache.flink.runtime.rpc.messages.LocalFencedMessage].
&lt;/span&gt; 2020-05-15T23:42:29.5394945Z    at akka.pattern.AskableActorRef$.recipientTerminatedException(AskSupport.scala:288)
 2020-05-15T23:42:29.5395309Z    at akka.pattern.AskableActorRef$.internalAsk$extension(AskSupport.scala:330)
 2020-05-15T23:42:29.5395831Z    at akka.pattern.AskSupport$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;ask(AskSupport.scala:81)
 2020-05-15T23:42:29.5396125Z    at akka.pattern.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;$.ask(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:42)
 2020-05-15T23:42:29.5396388Z    at akka.pattern.Patterns$.ask(Patterns.scala:160)
 2020-05-15T23:42:29.5396994Z    at akka.pattern.Patterns.ask(Patterns.scala)
 2020-05-15T23:42:29.5397333Z    at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.ask(AkkaInvocationHandler.java:361)
 2020-05-15T23:42:29.5397823Z    at org.apache.flink.runtime.rpc.akka.FencedAkkaInvocationHandler.ask(FencedAkkaInvocationHandler.java:123)
 2020-05-15T23:42:29.5398457Z    at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.invokeRpc(AkkaInvocationHandler.java:222)
 2020-05-15T23:42:29.5398923Z    at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.invoke(AkkaInvocationHandler.java:134)
 2020-05-15T23:42:29.5399383Z    at org.apache.flink.runtime.rpc.akka.FencedAkkaInvocationHandler.invoke(FencedAkkaInvocationHandler.java:79)
 2020-05-15T23:42:29.5399708Z    ... 51 more
 2020-05-15T23:42:29.5399974Z
 2020-05-15T23:42:29.5400132Z End of exception on server side&amp;gt;]
 2020-05-15T23:42:29.5400567Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.RestClient.parseResponse(RestClient.java:390)
 2020-05-15T23:42:29.5400930Z    at org.apache.flink.runtime.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.RestClient.lambda$submitRequest$3(RestClient.java:374)
 2020-05-15T23:42:29.5401283Z    at java.util.concurrent.CompletableFuture.uniCompose(CompletableFuture.java:966)
 2020-05-15T23:42:29.5401652Z    at java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:940)
 2020-05-15T23:42:29.5402067Z    at java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:456)
 2020-05-15T23:42:29.5402452Z    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
 2020-05-15T23:42:29.5402800Z    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 2020-05-15T23:42:29.5403098Z    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13305355">FLINK-17750</key>
            <summary>YARNHighAvailabilityITCase.testKillYarnSessionClusterEntrypoint failed on azure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="roman">Roman Khachatryan</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Sat, 16 May 2020 07:19:02 +0000</created>
                <updated>Fri, 16 Oct 2020 10:57:04 +0000</updated>
                            <resolved>Wed, 27 May 2020 09:03:31 +0000</resolved>
                                    <version>1.11.0</version>
                                    <fixVersion>1.11.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17110074" author="till.rohrmann" created="Mon, 18 May 2020 09:23:33 +0000"  >&lt;p&gt;The problem might be that a previous Yarn test did not properly stop:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 Suppressed: java.lang.AssertionError: There is at least one application on the cluster that is not finished.[App application_1 589586092047_0002 is in state RUNNING.]
 2020-05-15T23:42:29.5363571Z            at org.junit.Assert.fail(Assert.java:88)
 2020-05-15T23:42:29.5364060Z            at org.apache.flink.yarn.YarnTestBase$CleanupYarnApplication.close(YarnTestBase.java:286)
 2020-05-15T23:42:29.5364448Z            at org.apache.flink.yarn.YarnTestBase.runTest(YarnTestBase.java:259)
 2020-05-15T23:42:29.5364745Z            ... 36 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17111242" author="till.rohrmann" created="Tue, 19 May 2020 14:41:43 +0000"  >&lt;p&gt;For future reference: The link to the AZP build is &lt;a href=&quot;https://dev.azure.com/khachatryanroman/flink/_build/results?buildId=6&amp;amp;view=logs&amp;amp;j=764762df-f65b-572b-3d5c-65518c777be4&amp;amp;t=8d823410-c7c7-5a4d-68bb-fa7b08da17b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/khachatryanroman/flink/_build/results?buildId=6&amp;amp;view=logs&amp;amp;j=764762df-f65b-572b-3d5c-65518c777be4&amp;amp;t=8d823410-c7c7-5a4d-68bb-fa7b08da17b9&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17113100" author="fly_in_gis" created="Thu, 21 May 2020 11:25:18 +0000"  >&lt;p&gt;I am afraid the &quot;AssertionError: There is at least one application on the&quot; is not the root cause. It happened just because the test does not finished properly.&lt;/p&gt;

&lt;p&gt;BTW, I think this is a same case of&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17849&quot; title=&quot;YARNHighAvailabilityITCase hangs in Azure Pipelines CI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17849&quot;&gt;&lt;del&gt;FLINK-17849&lt;/del&gt;&lt;/a&gt;. See the analysis of in the comments.&lt;/p&gt;</comment>
                            <comment id="17115801" author="till.rohrmann" created="Mon, 25 May 2020 07:52:46 +0000"  >&lt;p&gt;Yes, I agree that this is not the problem. The problem is as you&apos;ve written on &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17849&quot; title=&quot;YARNHighAvailabilityITCase hangs in Azure Pipelines CI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17849&quot;&gt;&lt;del&gt;FLINK-17849&lt;/del&gt;&lt;/a&gt;: The ZooKeeper connection is suspended and this causes a restart of the &lt;tt&gt;Dispatcher&lt;/tt&gt;. If we request the job details at the same time, then it might happen that the request times out.&lt;/p&gt;

&lt;p&gt;I guess that we are seeing this ZooKeeper problem because of slow hardware. One solution could be to tolerate failures when asking for the job details. Another solution could be to increase the ZooKeeper timeouts in order to make the suspension less likely to happen.&lt;/p&gt;</comment>
                            <comment id="17115827" author="fly_in_gis" created="Mon, 25 May 2020 08:28:37 +0000"  >&lt;p&gt;Yeah, either increasing the timeout of zookeeper or akka ask timeout could reduce the tests failure&#160;possibility.&lt;/p&gt;</comment>
                            <comment id="17115840" author="till.rohrmann" created="Mon, 25 May 2020 08:39:11 +0000"  >&lt;p&gt;I don&apos;t think that increasing the akka ask timeout will solve the problem here.&lt;/p&gt;</comment>
                            <comment id="17115877" author="fly_in_gis" created="Mon, 25 May 2020 09:21:06 +0000"  >&lt;p&gt;The test failed with&#160;timed out in &lt;tt&gt;DispatcherGateway.requestJob&lt;/tt&gt;. If we increase the timeout, even there is something wrong with the zookeeper and the job restarts, it should finally turn into running. And then the Flink client could get the job result correctly.&lt;/p&gt;

&lt;p&gt;You could find the job has been restarted and finally turning into running in the log&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I admin that increasing the timeout of zookeeper should be done first and i also suggest to increase the akka ask timeout. It could help to reduce the failure further.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&lt;/p&gt;

&lt;p&gt;Update:&lt;/p&gt;

&lt;p&gt;Maybe i am wrong, it is not &lt;tt&gt;akka.ask.timeout&lt;/tt&gt;.&#160;The&#160;&lt;tt&gt;web.timeout&lt;/tt&gt; could help.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&#160;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13003928/13003928_jobmanager.log&quot; title=&quot;jobmanager.log attached to FLINK-17750&quot;&gt;jobmanager.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17116741" author="till.rohrmann" created="Tue, 26 May 2020 13:20:00 +0000"  >&lt;p&gt;Increasing the timeout won&apos;t solve the problem because the problem is that the original recipient is no longer running due to losing the connection to ZooKeeper and, thus, also the leadership: &lt;tt&gt;akka.pattern.AskTimeoutException: Recipient &lt;a href=&quot;#-1875884516]&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Actor[akka://flink/user/rpc/dispatcher_1#-1875884516]&lt;/a&gt; had already been terminated. Message of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.flink.runtime.rpc.messages.LocalFencedMessage&amp;#93;&lt;/span&gt;&lt;/tt&gt;. The proper solution should be to tolerate that there is a leader change when calling &lt;tt&gt;YARNHighAvailabilityITCase.waitUntilJobIsRunning&lt;/tt&gt;. A simpler way to harden the test could be to increase the ZooKeeper session timeout via &lt;tt&gt;HighAvailabilityOptions.ZOOKEEPER_SESSION_TIMEOUT&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17116784" author="till.rohrmann" created="Tue, 26 May 2020 14:30:27 +0000"  >&lt;p&gt;A quick update: We actually need to solve the problem that a &lt;tt&gt;RpcEndpoint&lt;/tt&gt; terminates after a request has been sent to it (e.g. from a REST handler) and, thus, the request will time out with &lt;tt&gt;akka.pattern.AskTimeoutException: Recipient Actor&lt;a href=&quot;#-1875884516&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;akka://flink/user/rpc/dispatcher_1#-1875884516&lt;/a&gt; had already been terminated.&lt;/tt&gt; on a different level. I think in this case, the REST handler should respond to the client with &lt;tt&gt;HttpResponseStatus.SERVICE_UNAVAILABLE&lt;/tt&gt; similar to the situation when there is no leader. That way, the client can decide whether it should retry the request or fail.&lt;/p&gt;

&lt;p&gt;For the time being, I suggest to increase the ZooKeeper session timeout.&lt;/p&gt;</comment>
                            <comment id="17116800" author="till.rohrmann" created="Tue, 26 May 2020 14:47:54 +0000"  >&lt;p&gt;The root cause of the problem is tracked via &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17947&quot; title=&quot;Retry REST requests if RpcEndpoint died before responding to request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17947&quot;&gt;FLINK-17947&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17117287" author="fly_in_gis" created="Wed, 27 May 2020 03:26:09 +0000"  >&lt;p&gt;Thanks for your explanation. I think you are right. Increasing the timeout will not help since the leader has changed.&lt;/p&gt;</comment>
                            <comment id="17117549" author="till.rohrmann" created="Wed, 27 May 2020 09:03:31 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;master: 93b81a38efe4dce41c985cd93862d6cbf0c8d0c4&lt;br/&gt;
1.11.0: 0e9ddbcbfae556860c0c5323e616cc82f55efe6a&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13306246">FLINK-17849</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13307460">FLINK-17947</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13003928" name="jobmanager.log" size="100758" author="wangyang0918" created="Mon, 25 May 2020 09:22:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0et68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>