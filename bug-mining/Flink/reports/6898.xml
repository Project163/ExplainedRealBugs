<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:16:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-30640] Unstable test in CliClientITCase</title>
                <link>https://issues.apache.org/jira/browse/FLINK-30640</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=44743&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=44743&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The failed test can work normally in my local environment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13517755">FLINK-30640</key>
            <summary>Unstable test in CliClientITCase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lsy">dalongliu</assignee>
                                    <reporter username="yzl">yuzelin</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 12 Jan 2023 06:44:22 +0000</created>
                <updated>Sat, 11 Mar 2023 05:08:54 +0000</updated>
                            <resolved>Sat, 11 Mar 2023 05:08:54 +0000</resolved>
                                    <version>1.17.0</version>
                                    <fixVersion>1.17.0</fixVersion>
                                    <component>Connectors / Hive</component>
                    <component>Table SQL / Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17675837" author="luoyuxia" created="Thu, 12 Jan 2023 06:51:00 +0000"  >&lt;p&gt;It happens&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TABLE foo as select 1; 

SELECT * from foo; 

&lt;span class=&quot;code-comment&quot;&gt;// error message
&lt;/span&gt;java.lang.RuntimeException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; running command to get file permissions : ExitCodeException exitCode=2: ls: cannot access &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/junit2938020000869140718/hive_warehouse/foo/.part-ac6e74fd-9996-4d9e-bdb4-c7f4028d27ca-0-0.inprogress.6437ce4c-f979-4770-8a7a-fe6a48c6aa51&apos;&lt;/span&gt;: No such file or directory&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Seems related to CTAS, may &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tartarus&quot; class=&quot;user-hover&quot; rel=&quot;tartarus&quot;&gt;tartarus&lt;/a&gt; have a look?&lt;/p&gt;</comment>
                            <comment id="17676509" author="tartarus" created="Fri, 13 Jan 2023 08:00:43 +0000"  >&lt;p&gt;It looks like ctas didn&apos;t execute successfully.&lt;/p&gt;

&lt;p&gt;Will retrying with run azure work?&lt;/p&gt;</comment>
                            <comment id="17677025" author="JIRAUSER293222" created="Sun, 15 Jan 2023 12:58:06 +0000"  >&lt;p&gt;Re-run is OK. Seems it is just not stable.&lt;/p&gt;</comment>
                            <comment id="17677197" author="mapohl" created="Mon, 16 Jan 2023 07:26:40 +0000"  >&lt;p&gt;I&apos;m closing this issue in favor of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30508&quot; title=&quot;CliClientITCase.testSqlStatements failed with output not matched with expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30508&quot;&gt;&lt;del&gt;FLINK-30508&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17682478" author="fsk119" created="Tue, 31 Jan 2023 10:27:55 +0000"  >&lt;p&gt;Hi. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; There are two different problems.&#160;&lt;/p&gt;</comment>
                            <comment id="17682480" author="fsk119" created="Tue, 31 Jan 2023 10:28:39 +0000"  >&lt;p&gt;I meet the problem again:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=45471&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=45471&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17682583" author="mapohl" created="Tue, 31 Jan 2023 14:08:10 +0000"  >&lt;p&gt;Thanks for clarification. How can we differentiate the Jira issues? The test failure in the build reported in this Jira&apos;s description shows &lt;tt&gt;CliClientITCase.testSqlStatements&lt;/tt&gt; similar to what&apos;s reported for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30508&quot; title=&quot;CliClientITCase.testSqlStatements failed with output not matched with expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30508&quot;&gt;&lt;del&gt;FLINK-30508&lt;/del&gt;&lt;/a&gt;?&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=44743&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&amp;amp;l=15651&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=44743&amp;amp;view=logs&amp;amp;j=0c940707-2659-5648-cbe6-a1ad63045f0a&amp;amp;t=075c2716-8010-5565-fe08-3c4bb45824a4&amp;amp;l=15651&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17682651" author="mapohl" created="Tue, 31 Jan 2023 16:43:41 +0000"  >&lt;p&gt;On another note: Are we considering this a blocker for 1.17?&lt;/p&gt;</comment>
                            <comment id="17683815" author="mapohl" created="Fri, 3 Feb 2023 10:31:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tartarus&quot; class=&quot;user-hover&quot; rel=&quot;tartarus&quot;&gt;tartarus&lt;/a&gt; is this considered a testing issue or indicates a more fundamental problem in the production code?&lt;/p&gt;</comment>
                            <comment id="17686145" author="fsk119" created="Thu, 9 Feb 2023 02:33:36 +0000"  >&lt;p&gt;Merged into master: 550697af3df222df906aae108e409c197c178876&#160;&lt;/p&gt;

&lt;p&gt;Merged into release-1.17: 7cc2b4f35ea54c260365cdbc3e1ba92a06c5b112&lt;/p&gt;</comment>
                            <comment id="17686214" author="mapohl" created="Thu, 9 Feb 2023 06:24:35 +0000"  >&lt;p&gt;The following build doesn&apos;t include the aforementioned fix, yet:&lt;br/&gt;
1.17: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=45909&amp;amp;view=logs&amp;amp;j=de826397-1924-5900-0034-51895f69d4b7&amp;amp;t=f311e913-93a2-5a37-acab-4a63e1328f94&amp;amp;l=42892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=45909&amp;amp;view=logs&amp;amp;j=de826397-1924-5900-0034-51895f69d4b7&amp;amp;t=f311e913-93a2-5a37-acab-4a63e1328f94&amp;amp;l=42892&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17698774" author="mapohl" created="Fri, 10 Mar 2023 07:26:57 +0000"  >&lt;p&gt;We have this issue happening again on 1.17:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=47010&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=16287&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=47010&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=16287&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17698778" author="mapohl" created="Fri, 10 Mar 2023 07:32:47 +0000"  >&lt;p&gt;I&apos;m increasing the priority of this issue to Blocker until it&apos;s clear whether it&apos;s a only test code issue or more severe&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fsk119&quot; class=&quot;user-hover&quot; rel=&quot;fsk119&quot;&gt;fsk119&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tartarus&quot; class=&quot;user-hover&quot; rel=&quot;tartarus&quot;&gt;tartarus&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lsy&quot; class=&quot;user-hover&quot; rel=&quot;lsy&quot;&gt;lsy&lt;/a&gt; may you have a look at it?&lt;/p&gt;</comment>
                            <comment id="17698849" author="qingyue" created="Fri, 10 Mar 2023 09:51:48 +0000"  >&lt;p&gt;I compared the `table.q` file between &quot;expected&quot; v.s. &quot;but was&quot;, and found that the only difference is that the table column lengths are different from L#1358~L#1360 and L#1424.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fsk119&quot; class=&quot;user-hover&quot; rel=&quot;fsk119&quot;&gt;fsk119&lt;/a&gt; Do you have any clue about this?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13056237/13056237_image-2023-03-10-17-51-42-192.png&quot; height=&quot;613&quot; width=&quot;2634&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13056236/13056236_image-2023-03-10-17-49-26-971.png&quot; height=&quot;214&quot; width=&quot;1733&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17699159" author="fsk119" created="Sat, 11 Mar 2023 05:02:31 +0000"  >&lt;p&gt;SQL Client infers the column width from the input size and print the border for the content. If the content are almost same but the border size is different, I think the content may contains some magic char inside. You can take a look at the &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-table/flink-table-common/src/main/java/org/apache/flink/table/utils/print/TableauStyle.java#L338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;line&lt;/a&gt;. I think it just a test issue, we can decrease the priority for this now.  &lt;/p&gt;</comment>
                            <comment id="17699161" author="fsk119" created="Sat, 11 Mar 2023 05:08:26 +0000"  >&lt;p&gt;Because the current problem is much different with the origin problem, I open a new ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-31403&quot; title=&quot;CliClientITCase print unexpected border when printing explain results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-31403&quot;&gt;&lt;del&gt;FLINK-31403&lt;/del&gt;&lt;/a&gt; for this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13515706">FLINK-30508</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13515706">FLINK-30508</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13056236" name="image-2023-03-10-17-49-26-971.png" size="412959" author="qingyue" created="Fri, 10 Mar 2023 09:49:28 +0000"/>
                            <attachment id="13056237" name="image-2023-03-10-17-51-42-192.png" size="1556565" author="qingyue" created="Fri, 10 Mar 2023 09:51:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1equw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>