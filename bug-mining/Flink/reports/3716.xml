<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:43:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15811] StreamSourceOperatorWatermarksTest.testNoMaxWatermarkOnAsyncCancel fails on Travis</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15811</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/643480766/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/643480766/log.txt&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
08:06:17.382 [ERROR] Tests run: 5, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.812 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.streaming.runtime.operators.StreamSourceOperatorWatermarksTest
08:06:17.382 [ERROR] testNoMaxWatermarkOnAsyncCancel(org.apache.flink.streaming.runtime.operators.StreamSourceOperatorWatermarksTest)  Time elapsed: 0.235 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError
	at org.apache.flink.streaming.runtime.operators.StreamSourceOperatorWatermarksTest.testNoMaxWatermarkOnAsyncCancel(StreamSourceOperatorWatermarksTest.java:127)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13282353">FLINK-15811</key>
            <summary>StreamSourceOperatorWatermarksTest.testNoMaxWatermarkOnAsyncCancel fails on Travis</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roman">Roman Khachatryan</assignee>
                                    <reporter username="chesnay">Chesnay Schepler</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 30 Jan 2020 10:55:49 +0000</created>
                <updated>Fri, 10 Apr 2020 08:39:16 +0000</updated>
                            <resolved>Wed, 5 Feb 2020 16:34:06 +0000</resolved>
                                    <version>1.10.0</version>
                    <version>1.11.0</version>
                                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Runtime / Task</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17028466" author="ayushtkn" created="Sun, 2 Feb 2020 15:35:47 +0000"  >&lt;p&gt;Seems like if the the cancel call reaches post the thread has completed the execution, and reached &lt;tt&gt;cleanUpInvoke&lt;/tt&gt; the test tends to fail, since the exception won&apos;t be a &lt;tt&gt;CancellationException&lt;/tt&gt; but a &lt;tt&gt;InterruptedException&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17030448" author="aljoscha" created="Wed, 5 Feb 2020 08:40:40 +0000"  >&lt;p&gt;This changed since the test was added. When you run the test in a loop on the commit that last touched the test no failure happens. When you run the test in a loop now, if fails almost immediately. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; I think something changed in the threading/cancelling behaviour between then and now, do you maybe have any idea?&lt;/p&gt;</comment>
                            <comment id="17030451" author="aljoscha" created="Wed, 5 Feb 2020 08:44:10 +0000"  >&lt;p&gt;If the &lt;tt&gt;InfiniteSource&lt;/tt&gt; that is used in the test is changed to swallow the &lt;tt&gt;InterruptedException&lt;/tt&gt; the test passes, but before the task behaviour was to swallow any exceptions that happen during cancellation.&lt;/p&gt;</comment>
                            <comment id="17030469" author="aljoscha" created="Wed, 5 Feb 2020 09:10:06 +0000"  >&lt;p&gt;This commit introduced the problem: &lt;a href=&quot;https://github.com/apache/flink/commit/7c6ecc498b85d8eb1c550b468fab5b8a07b9ddb2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/7c6ecc498b85d8eb1c550b468fab5b8a07b9ddb2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17030500" author="till.rohrmann" created="Wed, 5 Feb 2020 09:50:33 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://api.travis-ci.org/v3/job/645960125/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/645960125/log.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17030503" author="till.rohrmann" created="Wed, 5 Feb 2020 09:52:02 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://api.travis-ci.org/v3/job/646291876/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/646291876/log.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17030787" author="pnowojski" created="Wed, 5 Feb 2020 16:34:06 +0000"  >&lt;p&gt;Merged to master as 7d06b11&lt;/p&gt;</comment>
                            <comment id="17079320" author="carp84" created="Thu, 9 Apr 2020 13:10:33 +0000"  >&lt;p&gt;The issue also happens in the latest release-1.10 nightly build: &lt;a href=&quot;https://api.travis-ci.org/v3/job/672627753/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/672627753/log.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Will backport the fix to release-1.10 once &lt;a href=&quot;https://travis-ci.org/github/carp84/flink/builds/672962999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;travis&lt;/a&gt; is green.&lt;/p&gt;</comment>
                            <comment id="17079504" author="carp84" created="Thu, 9 Apr 2020 15:47:52 +0000"  >&lt;p&gt;Merged into release-1.10 via: 374e5940d0bf1fe1d6e948eaa435c809d9bdf144&lt;/p&gt;</comment>
                            <comment id="17080355" author="pnowojski" created="Fri, 10 Apr 2020 08:39:16 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liyu&quot; class=&quot;user-hover&quot; rel=&quot;liyu&quot;&gt;liyu&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0azyg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>