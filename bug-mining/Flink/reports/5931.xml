<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:07:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-24465] Wrong javadoc and documentation for buffer timeout</title>
                <link>https://issues.apache.org/jira/browse/FLINK-24465</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The javadoc for &lt;tt&gt;setBufferTimeout&lt;/tt&gt; and similarly the documentation for &lt;tt&gt;execution.buffer-timeout&lt;/tt&gt; claims:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    /**
     * Sets the maximum time frequency (milliseconds) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the flushing of the output buffers. By
     * &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; the output buffers flush frequently to provide low latency and to aid smooth
     * developer experience. Setting the parameter can result in three logical modes:
     *
     * &amp;lt;ul&amp;gt;
     *   &amp;lt;li&amp;gt;A positive integer triggers flushing periodically by that integer
     *   &amp;lt;li&amp;gt;0 triggers flushing after every record thus minimizing latency
     *   &amp;lt;li&amp;gt;-1 triggers flushing only when the output buffer is full thus maximizing throughput
     * &amp;lt;/ul&amp;gt;
     *
     * @param timeoutMillis The maximum time between two output flushes.
     */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which is not true.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;-1&lt;/tt&gt; value translates to 100ms. See &lt;tt&gt;org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator#checkAndResetBufferTimeout&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13405327">FLINK-24465</key>
            <summary>Wrong javadoc and documentation for buffer timeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dwysakowicz">Dawid Wysakowicz</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 7 Oct 2021 07:09:51 +0000</created>
                <updated>Wed, 15 Dec 2021 01:44:06 +0000</updated>
                            <resolved>Mon, 18 Oct 2021 14:52:19 +0000</resolved>
                                    <version>1.14.0</version>
                    <version>1.13.2</version>
                                    <fixVersion>1.13.6</fixVersion>
                    <fixVersion>1.14.3</fixVersion>
                    <fixVersion>1.15.0</fixVersion>
                                    <component>Documentation</component>
                    <component>Runtime / Configuration</component>
                    <component>Runtime / Network</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17427557" author="pnowojski" created="Tue, 12 Oct 2021 08:45:55 +0000"  >&lt;p&gt;As &lt;tt&gt;-1&lt;/tt&gt; is not supported for already over a year and there were no complaints, I would be in favour of officially dropping this feature. Users can always use Integer.MAX_VALUE to achieve a very similar behaviour.&lt;/p&gt;

&lt;p&gt;Let&apos;s drop runtime code for &lt;tt&gt;-1&lt;/tt&gt; support and let&apos;s not mention it anywhere in the docs/java docs, but to keep compatibility with the previous versions, let&apos;s still translate &lt;tt&gt;-1&lt;/tt&gt; to &lt;tt&gt;100ms&lt;/tt&gt; on the config level.&lt;/p&gt;</comment>
                            <comment id="17428659" author="dawidwys" created="Thu, 14 Oct 2021 07:30:01 +0000"  >&lt;p&gt;Unfortunately, we cannot drop the &lt;tt&gt;-1&lt;/tt&gt; option. We use internally for blocking exchanges. We set that e.g. in the SQL planner and &lt;tt&gt;RuntimeExecutionMode.BATCH&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I think the problem is that we started treating &lt;tt&gt;-1&lt;/tt&gt; as an undefined value in the configuration layer and as &lt;tt&gt;DISABLED&lt;/tt&gt; in the runtime layer. We should revert that change and let -1 pass from configuration to runtime in all cases (not just for blocking exchanges).&lt;/p&gt;</comment>
                            <comment id="17430054" author="dawidwys" created="Mon, 18 Oct 2021 14:52:19 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;master
	&lt;ul&gt;
		&lt;li&gt;da9e1831e755a3b98588cf7954c2ca2901d2a2a6&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.14.1
	&lt;ul&gt;
		&lt;li&gt;c337fff9d59142fd76fc67f75df7c4f50ea243bc&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.13.4
	&lt;ul&gt;
		&lt;li&gt;3209129b676605b573cc1fa67ef649cabb158807&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0vmug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Configuring buffer timeout to be equal to `-1` to flush only when buffers were full was broken in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-18832&quot; title=&quot;BoundedBlockingSubpartition does not work with StreamTask&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-18832&quot;&gt;&lt;strike&gt;FLINK-18832&lt;/strike&gt;&lt;/a&gt;. In Stream execution mode it was overwritten with 100ms. Fortunately it should not have had a visible impact as `100ms` should still be enough time to fill in buffers before sending them downstream.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>