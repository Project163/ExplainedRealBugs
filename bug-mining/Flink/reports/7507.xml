<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:20:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26808] [flink v1.14.2] Submit jobs via REST API not working after set web.submit.enable: false</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26808</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Greetings,&lt;/p&gt;

&lt;p&gt;I am using flink version 1.14.2 and after changing web.submit.enable to false, job submission via REST API is no longer working. &lt;br/&gt;
The app that uses flink receives a 404 with &quot;Not found: /jars/upload&quot;&#160;&lt;br/&gt;
Looking into [documentation|&lt;a href=&quot;https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/config/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/config/&lt;/a&gt;]&#160; saw that web.upload.dir is only used if &#160;&lt;tt&gt;web.submit.enable&lt;/tt&gt; is true, if not it will be used JOB_MANAGER_WEB_TMPDIR_KEY&lt;br/&gt;
Doing a curl to /jars it returns:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -X GET http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8081/jars
&lt;/span&gt;
HTTP/1.1 404 Not Found
{&lt;span class=&quot;code-quote&quot;&gt;&quot;errors&quot;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to load requested file /jars.&quot;&lt;/span&gt;]} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Found this issue related to option web.submit.enable &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-13799&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-13799&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you please let me know if this is an issue that you are already aware?&lt;br/&gt;
Thanks in advance&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Lu&#237;s Costa&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13435155">FLINK-26808</key>
            <summary>[flink v1.14.2] Submit jobs via REST API not working after set web.submit.enable: false</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uce">Ufuk Celebi</assignee>
                                    <reporter username="luismacosta">Lu&#237;s Costa</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 22 Mar 2022 16:08:59 +0000</created>
                <updated>Sun, 2 Jun 2024 18:09:48 +0000</updated>
                            <resolved>Sun, 2 Jun 2024 18:09:48 +0000</resolved>
                                    <version>1.14.2</version>
                                    <fixVersion>1.20.0</fixVersion>
                    <fixVersion>1.19.1</fixVersion>
                                    <component>Client / Job Submission</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17511135" author="zentol" created="Wed, 23 Mar 2022 09:04:06 +0000"  >&lt;p&gt;That&apos;s intentional. Disabling the web submission disables all the handlers related to the web submission.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what the expectation is.&lt;/p&gt;</comment>
                            <comment id="17696167" author="tshofer" created="Fri, 3 Mar 2023 14:20:41 +0000"  >&lt;p&gt;The expectation is that Flink behaves as documented.&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/config/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/config/&lt;/a&gt; I can read the following:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;web.submit.enable&lt;/tt&gt;: Enables uploading and starting jobs through the Flink UI &lt;em&gt;(true by default)&lt;/em&gt;. Please note that even when this is disabled, session clusters still accept jobs through REST requests (HTTP calls). This flag only guards the feature to upload jobs in the UI.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I would like to be able to disable submission via UI but still allow to job sumission to work.&lt;/p&gt;

&lt;p&gt;This behavior impacts the Flink Kubernetes Operator. It fails with&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#174ea6&quot;&gt;Warning | SESSIONJOBEXCEPTION | org.apache.flink.runtime.rest.util.RestClientException: &lt;span class=&quot;error&quot;&gt;&amp;#91;Not found: /v1/jars/upload&amp;#93;&lt;/span&gt;&quot;&lt;/font&gt;&lt;/p&gt;</comment>
                            <comment id="17699553" author="zentol" created="Mon, 13 Mar 2023 10:37:20 +0000"  >&lt;p&gt;What the docs are referring to is the job submission via the Flink client still work, which it does.&lt;/p&gt;

&lt;p&gt;We can amend the docs to state that this flag disables the jar-based job submission endpoints and hides the related UI sections.&lt;/p&gt;</comment>
                            <comment id="17851449" author="rmetzger" created="Sun, 2 Jun 2024 18:09:28 +0000"  >&lt;p&gt;Closing as the PRs have been merged ...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10prs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>