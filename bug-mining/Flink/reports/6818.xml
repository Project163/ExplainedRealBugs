<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:15:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-27691] RankHarnessTest. testUpdateRankWithRowNumberSortKeyDropsToNotLast test failed with result mismatch</title>
                <link>https://issues.apache.org/jira/browse/FLINK-27691</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2022-05-19T04:34:04.2677138Z May 19 04:34:04 [ERROR] RankHarnessTest.testUpdateRankWithRowNumberSortKeyDropsToNotLast
2022-05-19T04:34:04.2689553Z May 19 04:34:04 [ERROR]   Run 1: [result mismatch] 
2022-05-19T04:34:04.2690614Z May 19 04:34:04 expected: [+I(a,1,100,1),
2022-05-19T04:34:04.2691128Z May 19 04:34:04     +I(b,1,90,2),
2022-05-19T04:34:04.2691552Z May 19 04:34:04     +I(c,1,90,3),
2022-05-19T04:34:04.2692235Z May 19 04:34:04     +I(d,1,80,4),
2022-05-19T04:34:04.2692634Z May 19 04:34:04     +I(e,1,80,5),
2022-05-19T04:34:04.2693060Z May 19 04:34:04     +I(f,1,70,6),
2022-05-19T04:34:04.2693468Z May 19 04:34:04     +U(b,1,80,5),
2022-05-19T04:34:04.2693874Z May 19 04:34:04     +U(c,1,90,2),
2022-05-19T04:34:04.2694282Z May 19 04:34:04     +U(d,1,80,3),
2022-05-19T04:34:04.2694670Z May 19 04:34:04     +U(e,1,80,4),
2022-05-19T04:34:04.2696097Z May 19 04:34:04     -U(b,1,90,2),
2022-05-19T04:34:04.2696718Z May 19 04:34:04     -U(c,1,90,3),
2022-05-19T04:34:04.2697298Z May 19 04:34:04     -U(d,1,80,4),
2022-05-19T04:34:04.2698102Z May 19 04:34:04     -U(e,1,80,5)]
2022-05-19T04:34:04.2698758Z May 19 04:34:04  but was: [+I(a,1,100,1),
2022-05-19T04:34:04.2699189Z May 19 04:34:04     +I(b,1,90,1),
2022-05-19T04:34:04.2699607Z May 19 04:34:04     +I(c,1,90,2),
2022-05-19T04:34:04.2700017Z May 19 04:34:04     +I(d,1,80,3),
2022-05-19T04:34:04.2712164Z May 19 04:34:04     +I(e,1,80,4),
2022-05-19T04:34:04.2712777Z May 19 04:34:04     +I(f,1,70,5),
2022-05-19T04:34:04.2713191Z May 19 04:34:04     +U(b,1,80,4),
2022-05-19T04:34:04.2713621Z May 19 04:34:04     +U(c,1,90,1),
2022-05-19T04:34:04.2714029Z May 19 04:34:04     +U(d,1,80,2),
2022-05-19T04:34:04.2714435Z May 19 04:34:04     +U(e,1,80,3),
2022-05-19T04:34:04.2715272Z May 19 04:34:04     -U(b,1,90,1),
2022-05-19T04:34:04.2715847Z May 19 04:34:04     -U(c,1,90,2),
2022-05-19T04:34:04.2716420Z May 19 04:34:04     -U(d,1,80,3),
2022-05-19T04:34:04.2716990Z May 19 04:34:04     -U(e,1,80,4)]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=35815&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=10445&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=35815&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=10445&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13445763">FLINK-27691</key>
            <summary>RankHarnessTest. testUpdateRankWithRowNumberSortKeyDropsToNotLast test failed with result mismatch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hxbks2ks">Huang Xingbo</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 19 May 2022 06:11:47 +0000</created>
                <updated>Thu, 29 Dec 2022 02:01:45 +0000</updated>
                            <resolved>Thu, 29 Dec 2022 02:01:45 +0000</resolved>
                                    <version>1.16.0</version>
                    <version>1.17.0</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.16.1</fixVersion>
                                    <component>Table SQL / Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="17544178" author="godfreyhe" created="Tue, 31 May 2022 07:31:35 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt; could you help fixing this?&lt;/p&gt;</comment>
                            <comment id="17544213" author="lzljs3620320" created="Tue, 31 May 2022 08:13:08 +0000"  >&lt;p&gt;Ah... I try to re-produce it, but can not work, It appears to be a non-random test and should not be unstable.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln.86xy&quot; class=&quot;user-hover&quot; rel=&quot;lincoln.86xy&quot;&gt;lincoln.86xy&lt;/a&gt; Do you have some comments? I don&apos;t know &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-24704&quot; title=&quot;Exception occurs when the input record loses monotonicity on the sort key field of UpdatableTopNFunction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-24704&quot;&gt;&lt;del&gt;FLINK-24704&lt;/del&gt;&lt;/a&gt; is related.&lt;/p&gt;</comment>
                            <comment id="17544251" author="lincoln.86xy" created="Tue, 31 May 2022 09:09:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt; Yes, this is a deterministic test and shouldn&apos;t get random result. I can&apos;t reproduce it locally yet that done a 2000 times repeat testing. And I&apos;ll try to  analyze other possibilities.&lt;/p&gt;</comment>
                            <comment id="17544257" author="godfreyhe" created="Tue, 31 May 2022 09:15:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln.86xy&quot; class=&quot;user-hover&quot; rel=&quot;lincoln.86xy&quot;&gt;lincoln.86xy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17555044" author="hxbks2ks" created="Thu, 16 Jun 2022 12:06:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=36764&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=36764&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17562415" author="martijnvisser" created="Tue, 5 Jul 2022 07:23:25 +0000"  >&lt;p&gt;Downgrading to Major due to lack of occurrences &lt;/p&gt;</comment>
                            <comment id="17569228" author="kevin.cyj" created="Thu, 21 Jul 2022 01:52:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/kevin-flink/flink/_build/results?buildId=582&amp;amp;view=logs&amp;amp;j=43a593e7-535d-554b-08cc-244368da36b4&amp;amp;t=82d122c0-8bbf-56f3-4c0d-8e3d69630d0f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/kevin-flink/flink/_build/results?buildId=582&amp;amp;view=logs&amp;amp;j=43a593e7-535d-554b-08cc-244368da36b4&amp;amp;t=82d122c0-8bbf-56f3-4c0d-8e3d69630d0f&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17571225" author="renqs" created="Tue, 26 Jul 2022 06:39:00 +0000"  >&lt;p&gt;An instance on my own Azure pipeline:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/renqs/Apache%20Flink/_build/results?buildId=345&amp;amp;view=logs&amp;amp;j=43a593e7-535d-554b-08cc-244368da36b4&amp;amp;t=82d122c0-8bbf-56f3-4c0d-8e3d69630d0f&amp;amp;l=10284&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/renqs/Apache%20Flink/_build/results?buildId=345&amp;amp;view=logs&amp;amp;j=43a593e7-535d-554b-08cc-244368da36b4&amp;amp;t=82d122c0-8bbf-56f3-4c0d-8e3d69630d0f&amp;amp;l=10284&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17577122" author="leonard xu" created="Tue, 9 Aug 2022 03:47:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/leonardBang/Azure_CI/_build/results?buildId=713&amp;amp;view=ms.vss-test-web.build-test-results-tab&amp;amp;runId=20042&amp;amp;resultId=111227&amp;amp;paneView=debug&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/leonardBang/Azure_CI/_build/results?buildId=713&amp;amp;view=ms.vss-test-web.build-test-results-tab&amp;amp;runId=20042&amp;amp;resultId=111227&amp;amp;paneView=debug&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17577255" author="yunfengzhou" created="Tue, 9 Aug 2022 08:18:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/yurizhouyunfeng/Flink/_build/results?buildId=50&amp;amp;view=ms.vss-test-web.build-test-results-tab&amp;amp;runId=2840&amp;amp;resultId=111281&amp;amp;paneView=debug&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/yurizhouyunfeng/Flink/_build/results?buildId=50&amp;amp;view=ms.vss-test-web.build-test-results-tab&amp;amp;runId=2840&amp;amp;resultId=111281&amp;amp;paneView=debug&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17579540" author="hxbks2ks" created="Mon, 15 Aug 2022 06:10:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=39961&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=39961&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17579543" author="hxbks2ks" created="Mon, 15 Aug 2022 06:11:33 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln.86xy&quot; class=&quot;user-hover&quot; rel=&quot;lincoln.86xy&quot;&gt;lincoln.86xy&lt;/a&gt;, could you help take an another look? Thanks.&lt;/p&gt;</comment>
                            <comment id="17581760" author="lincoln.86xy" created="Fri, 19 Aug 2022 10:17:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hxbks2ks&quot; class=&quot;user-hover&quot; rel=&quot;hxbks2ks&quot;&gt;hxbks2ks&lt;/a&gt; seems happened when under some workload in ci machine, still cannot reproduce it locally, I&apos;ll continue looking into it.&lt;/p&gt;</comment>
                            <comment id="17603308" author="hxb" created="Tue, 13 Sep 2022 03:15:01 +0000"  >&lt;p&gt;Given that it hasn&apos;t appeared for a month, I will close this issue. Please reopen the ticket if the case appears again.&#160;&lt;/p&gt;</comment>
                            <comment id="17642446" author="mapohl" created="Fri, 2 Dec 2022 10:56:18 +0000"  >&lt;p&gt;Reopening the issue. We&apos;ve seen another test failure of that kind:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=43664&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=13092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=43664&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=13092&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17651144" author="mapohl" created="Thu, 22 Dec 2022 08:29:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=44160&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=12641&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=44160&amp;amp;view=logs&amp;amp;j=a9db68b9-a7e0-54b6-0f98-010e0aff39e2&amp;amp;t=cdd32e0b-6047-565b-c58f-14054472f1be&amp;amp;l=12641&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17651145" author="mapohl" created="Thu, 22 Dec 2022 08:29:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=godfreyhe&quot; class=&quot;user-hover&quot; rel=&quot;godfreyhe&quot;&gt;godfreyhe&lt;/a&gt; Could you have a look at it?&lt;/p&gt;</comment>
                            <comment id="17651269" author="lincoln.86xy" created="Thu, 22 Dec 2022 12:49:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; I think it is most probably caused by the unnecessary state ttl of RankHarnessTest which will lead unstable result when execution gets slow (and I checked recent failures, all of their execution duration is greater than 2 second while state ttl in the test is 1 second). I submitted a pr, hope this can fix this unstable case.&lt;/p&gt;
</comment>
                            <comment id="17651515" author="mapohl" created="Fri, 23 Dec 2022 07:48:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lincoln.86xy&quot; class=&quot;user-hover&quot; rel=&quot;lincoln.86xy&quot;&gt;lincoln.86xy&lt;/a&gt;. Could you find someone to review this PR to double-check whether that&apos;s reasonable?&lt;/p&gt;</comment>
                            <comment id="17651539" author="leonard xu" created="Fri, 23 Dec 2022 08:10:14 +0000"  >&lt;p&gt;I&apos;ll help review this PR, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17652450" author="leonard xu" created="Wed, 28 Dec 2022 09:50:30 +0000"  >&lt;p&gt;master(1.17):c07167b6f01296da11176818382fa9cdf6f985da&lt;br/&gt;
1.16:31f1e235f878a3dcbcf3358a2be92e95c1cef4b6&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12i1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>