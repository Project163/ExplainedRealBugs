<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:06:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23345] Migrate to the next version of Python `requests` when released</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23345</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Hello Maintainers,&#160;&lt;/p&gt;

&lt;p&gt;I am a PMC member of Apache Airflow, and I wanted to give you a bit of heads-up with rather important migration to the upcoming version of `requests` library in your Python release.&#160;&lt;/p&gt;

&lt;p&gt;Since you are using `requests` library in your project (at least indirectly via apache-beam), you are affected.&lt;/p&gt;

&lt;p&gt;As discussed at length in &lt;a href=&quot;https://issues.apache.org/jira/browse/LEGAL-572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LEGAL-572&lt;/a&gt;&#160;we found out that the &apos;chardet` library used by `requests` library was a mandatory dependency to requests and since it has LGPL licence, we should not release any Apache Software with it.&#160;&lt;/p&gt;

&lt;p&gt;Since then (and since in Airflow we rely on requests heavily) we have been working with the requests maintainers and &quot;charset-normalizer&quot; maintainer to make it possible to replace `chardet` with MIT-licensed `charset-normalizer` instead so that requests library can be used in Python releases by Apache projects.&lt;/p&gt;

&lt;p&gt;This was a bumpy road but finally the PR by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ash&quot; class=&quot;user-hover&quot; rel=&quot;ash&quot;&gt;ash&lt;/a&gt;&#160;has been merged: &lt;a href=&quot;https://github.com/psf/requests/pull/5797&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/psf/requests/pull/5797&lt;/a&gt;&#160;and we hope soon a new version of requests library will be released.&#160;&lt;/p&gt;

&lt;p&gt;This is just a heads-up. I will let you know when it is released, but I have a kind requests as well - I might ask the maintainers to release a release candidate of requests and maybe you could help to test it before it is released, that would be some re-assurance for the maintainers of requests who are very concerned about stability of their releases.&lt;/p&gt;

&lt;p&gt;Let me know if you need any more information and whether you would like to help in testing the candidate when it is out.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13388874">FLINK-23345</key>
            <summary>Migrate to the next version of Python `requests` when released</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dianfu">Dian Fu</assignee>
                                    <reporter username="potiuk">Jarek Potiuk</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sun, 11 Jul 2021 11:54:59 +0000</created>
                <updated>Wed, 15 Dec 2021 01:40:24 +0000</updated>
                            <resolved>Fri, 10 Sep 2021 02:31:19 +0000</resolved>
                                    <version>1.14.0</version>
                                    <fixVersion>1.10.4</fixVersion>
                    <fixVersion>1.14.0</fixVersion>
                    <fixVersion>1.13.3</fixVersion>
                    <fixVersion>1.11.7</fixVersion>
                    <fixVersion>1.12.8</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17379981" author="higrys" created="Tue, 13 Jul 2021 15:38:09 +0000"  >&lt;p&gt;Requests 2.26.0 released without the mandatory `chardet` dependency:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://pypi.org/project/requests/2.26.0/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pypi.org/project/requests/2.26.0/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Instead of&#160;&lt;cite&gt;chardet&lt;/cite&gt;, use the MIT-licensed&#160;&lt;cite&gt;charset_normalizer&lt;/cite&gt;&#160;for Python3 to remove license ambiguity for projects bundling requests. If&#160;&lt;cite&gt;chardet&lt;/cite&gt;&#160;is already installed on your machine it will be used instead of&#160;&lt;cite&gt;charset_normalizer&lt;/cite&gt;&#160;to keep backwards compatibility. (#5797)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can also install&#160;&lt;cite&gt;chardet&lt;/cite&gt;&#160;while installing requests by specifying&#160;&lt;cite&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;use_chardet_on_py3&amp;#93;&lt;/span&gt;&lt;/cite&gt;&#160;extra as follows:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;`shell&#160;pip&#160;install&#160;&quot;requests&lt;span class=&quot;error&quot;&gt;&amp;#91;use_chardet_on_py3&amp;#93;&lt;/span&gt;&quot;&#160;`&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Python2 still depends upon the&#160;&lt;cite&gt;chardet&lt;/cite&gt;&#160;module.&lt;/p&gt;</comment>
                            <comment id="17393025" author="zentol" created="Wed, 4 Aug 2021 10:51:54 +0000"  >&lt;p&gt;Marked this as a blocker for 1.14. Technically previous versions are affected as well but I can&apos;t gauge how feasible it is to either bump beam or otherwise bump the transitive requests dependency.&lt;/p&gt;</comment>
                            <comment id="17393191" author="higrys" created="Wed, 4 Aug 2021 14:05:31 +0000"  >&lt;p&gt;Related issue in Beam&apos;s JIRA:&#160;&lt;a href=&quot;https://issues.apache.org/jira/projects/BEAM/issues/BEAM-12598&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/BEAM/issues/BEAM-12598&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17412552" author="dianfu" created="Thu, 9 Sep 2021 12:47:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=potiuk&quot; class=&quot;user-hover&quot; rel=&quot;potiuk&quot;&gt;potiuk&lt;/a&gt; Thanks a lot for sharing this information. Actually `requests` was not used in PyFlink (also not used in codepaths dependent in apache-beam) and it was just a transitive dependency from apache-beam. Since PyFlink only supports Python 3 and Requests 2.26.0 (without the mandatory `chardet` dependency) has been released for Python 3, personally I think there is nothing need to do at Flink side. I&apos;m closing this ticket. Thanks again for letting us know about this.&lt;/p&gt;</comment>
                            <comment id="17412553" author="zentol" created="Thu, 9 Sep 2021 12:52:38 +0000"  >&lt;p&gt;Imo, whether it is used or not by Flink isn&apos;t important.&lt;/p&gt;

&lt;p&gt;We ship Beam with it&apos;s transitive dependencies, and that contains an LGPL dependency.&lt;br/&gt;
At the very least we should keep this ticket open to bump our Beam dependency once they have gotten around to resolving the issue on their end.&lt;/p&gt;</comment>
                            <comment id="17412555" author="zentol" created="Thu, 9 Sep 2021 12:53:23 +0000"  >&lt;p&gt;If it is truly not used, is there some way to just exclude requests?&lt;/p&gt;</comment>
                            <comment id="17412557" author="dianfu" created="Thu, 9 Sep 2021 12:58:54 +0000"  >&lt;p&gt;We can limit the version of requests, e.g. requests &amp;gt;= 2.26.0. Then there is no need to bump Beam dependency.&lt;/p&gt;</comment>
                            <comment id="17412558" author="zentol" created="Thu, 9 Sep 2021 13:00:18 +0000"  >&lt;p&gt;That&apos;s also fine.&lt;/p&gt;</comment>
                            <comment id="17412596" author="higrys" created="Thu, 9 Sep 2021 13:56:48 +0000"  >&lt;p&gt;Yeah. Limiting to &amp;gt;= 2.26.0 should be fine!&lt;/p&gt;</comment>
                            <comment id="17412916" author="dianfu" created="Fri, 10 Sep 2021 02:31:19 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;master via 0cecdcae4e20edf6a513d5be5ebf3ad7d59b9f4f&lt;/li&gt;
	&lt;li&gt;release-1.14 via 3621b00358fecacbc63e4919525343560adf5ebe&lt;/li&gt;
	&lt;li&gt;release-1.13 via 53f79eaa7a6d65e92ae4258d334d35d573e43c41&lt;/li&gt;
	&lt;li&gt;release-1.12 via 07a3f6633fc88b96856dc94be664e0dca6bb991d&lt;/li&gt;
	&lt;li&gt;release-1.11 via aae0f918f3188abaf348513511be49b5b286a01c&lt;/li&gt;
	&lt;li&gt;release-1.10 via 3d95391ca025266debd4149c33c005901a90b66e&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13400684">FLINK-24260</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13388873">BEAM-12598</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0stdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>