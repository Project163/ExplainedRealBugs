<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:46:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-18012] Deactivate slot timeout if TaskSlotTable.tryMarkSlotActive is called</title>
                <link>https://issues.apache.org/jira/browse/FLINK-18012</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9932&quot; title=&quot;Timed-out TaskExecutor slot-offers to JobMaster leak the slot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9932&quot;&gt;&lt;del&gt;FLINK-9932&lt;/del&gt;&lt;/a&gt; we loosened the slot allocation protocol in a way that the &lt;tt&gt;JobMaster&lt;/tt&gt; can deploy &lt;tt&gt;Tasks&lt;/tt&gt; into a slot which has not been &lt;tt&gt;ACTIVATED&lt;/tt&gt; but only &lt;tt&gt;ALLOCATED&lt;/tt&gt; for a given job. This allowed to better handle the case where the &lt;tt&gt;JobMasterGateway#offerSlots&lt;/tt&gt; response was late so that it timed out. The way it was solved is to offer a &lt;tt&gt;TaskSlotTable#tryMarkSlotActive&lt;/tt&gt; method which, in contrast to &lt;tt&gt;TaskSlotTable#markSlotActive&lt;/tt&gt;, would not fail if the requested slot was not available.&lt;/p&gt;

&lt;p&gt;However, the problem is that the former method does not deactivate the slot timeout. Hence, it can happen if the &lt;tt&gt;offerSlots&lt;/tt&gt; response never arrives at the &lt;tt&gt;TaskExecutor&lt;/tt&gt; that an &lt;tt&gt;ACTIVATED&lt;/tt&gt; slot times out.&lt;/p&gt;

&lt;p&gt;In order to fix the problem, we should also deactivate the slot timeout when &lt;tt&gt;TaskSlotTable#tryMarkSlotActive&lt;/tt&gt; is being called.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13308052">FLINK-18012</key>
            <summary>Deactivate slot timeout if TaskSlotTable.tryMarkSlotActive is called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 28 May 2020 14:16:23 +0000</created>
                <updated>Tue, 2 Jun 2020 14:51:37 +0000</updated>
                            <resolved>Tue, 2 Jun 2020 14:51:37 +0000</resolved>
                                    <version>1.9.3</version>
                    <version>1.10.1</version>
                    <version>1.11.0</version>
                                    <fixVersion>1.9.4</fixVersion>
                    <fixVersion>1.10.2</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17123892" author="till.rohrmann" created="Tue, 2 Jun 2020 14:51:37 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;master: 3dabc6943410e5906b7da6ca4eeefc857789138d&lt;br/&gt;
1.11.0: 6551b6b5928943b80be1309ac3ef439782fe18d0&lt;br/&gt;
1.10.2: ffc3d86a6663d54962892549e94949633a52aa9c&lt;br/&gt;
1.9.4: aa44ffc72a9a3839a1c39d8717c9d0e085c1296c&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13301179">FLINK-17404</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0f9rk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>