<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:18:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1492] Exceptions on shutdown concerning BLOB store cleanup</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1492</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The following stack traces occur not every time, but frequently.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalArgumentException: /tmp/blobStore-7a89856a-47f9-45d6-b88b-981a3eff1982 does not exist
	at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1637)
	at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1535)
	at org.apache.flink.runtime.blob.BlobServer.shutdown(BlobServer.java:213)
	at org.apache.flink.runtime.execution.librarycache.BlobLibraryCacheManager.shutdown(BlobLibraryCacheManager.java:171)
	at org.apache.flink.runtime.jobmanager.JobManager.postStop(JobManager.scala:136)
	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundPostStop(Actor.scala:475)
	at org.apache.flink.runtime.jobmanager.JobManager.aroundPostStop(JobManager.scala:80)
	at akka.actor.dungeon.FaultHandling$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;akka$actor$dungeon$FaultHandling$$finishTerminate(FaultHandling.scala:210)
	at akka.actor.dungeon.FaultHandling$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;handleChildTerminated(FaultHandling.scala:292)
	at akka.actor.ActorCell.handleChildTerminated(ActorCell.scala:369)
	at akka.actor.dungeon.DeathWatch$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;watchedActorTerminated(DeathWatch.scala:63)
	at akka.actor.ActorCell.watchedActorTerminated(ActorCell.scala:369)
	at akka.actor.ActorCell.invokeAll$1(ActorCell.scala:455)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:478)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:279)
	at akka.dispatch.Mailbox.run(Mailbox.scala:220)
	at akka.dispatch.Mailbox.exec(Mailbox.scala:231)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.pollAndExecAll(ForkJoinPool.java:1253)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1346)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

15:16:15,350 ERROR org.apache.flink.test.util.ForkableFlinkMiniCluster$$anonfun$startTaskManager$1$$anon$1  - LibraryCacheManager did not shutdown properly.
java.io.IOException: Unable to delete file: /tmp/blobStore-e2619536-fb7c-452a-8639-487a074d1582/cache/blob_ff74895f7bdeeaa3bd70b6932beed143048bb4c7
	at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2279)
	at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1653)
	at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1535)
	at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2270)
	at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1653)
	at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1535)
	at org.apache.flink.runtime.blob.BlobCache.shutdown(BlobCache.java:159)
	at org.apache.flink.runtime.execution.librarycache.BlobLibraryCacheManager.shutdown(BlobLibraryCacheManager.java:171)
	at org.apache.flink.runtime.taskmanager.TaskManager.postStop(TaskManager.scala:173)
	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundPostStop(Actor.scala:475)
	at org.apache.flink.runtime.taskmanager.TaskManager.aroundPostStop(TaskManager.scala:86)
	at akka.actor.dungeon.FaultHandling$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;akka$actor$dungeon$FaultHandling$$finishTerminate(FaultHandling.scala:210)
	at akka.actor.dungeon.FaultHandling$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;terminate(FaultHandling.scala:172)
	at akka.actor.ActorCell.terminate(ActorCell.scala:369)
	at akka.actor.ActorCell.invokeAll$1(ActorCell.scala:462)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:478)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:279)
	at akka.dispatch.Mailbox.run(Mailbox.scala:220)
	at akka.dispatch.Mailbox.exec(Mailbox.scala:231)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.pollAndExecAll(ForkJoinPool.java:1253)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1346)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)

15:16:15,345 ERROR org.apache.flink.runtime.blob.BlobCache                       - Error deleting directory /tmp/blobStore-4313349e-8a58-4683-9fd0-3d2c52be1864 during JVM shutdown: /tmp/blobStore-4313349e-8a58-4683-9fd0-3d2c52be1864 does not exist
java.lang.IllegalArgumentException: /tmp/blobStore-4313349e-8a58-4683-9fd0-3d2c52be1864 does not exist
	at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1637)
	at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1535)
	at org.apache.flink.runtime.blob.BlobUtils$1.run(BlobUtils.java:210)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12773014">FLINK-1492</key>
            <summary>Exceptions on shutdown concerning BLOB store cleanup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uce">Ufuk Celebi</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Feb 2015 14:18:36 +0000</created>
                <updated>Thu, 28 Feb 2019 14:01:47 +0000</updated>
                            <resolved>Tue, 10 Feb 2015 15:47:25 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                    <fixVersion>0.8.1</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14309212" author="stephanewen" created="Fri, 6 Feb 2015 14:22:16 +0000"  >&lt;p&gt;The current solution is a bit hacky. Right now, we see multiple cleanups I think one is on graceful shutdown of the task manager (through observation of job manager death) and then through the shutdown hook.&lt;/p&gt;

&lt;p&gt;I think the right solution is to not simply let the shutdown hook delete the directory, but to have the shutdown hook trigger call a &quot;shutdown&quot; on the Blob manager.&lt;br/&gt;
The shutdown should also make sure it occurs only once, so it does not happen through both the task manager shutdown, and the shutdown hook.&lt;/p&gt;

&lt;p&gt;It is also good practice that the blob manager should remove the shutdown hook once shutdown is called, to prevent resource leaks.&lt;/p&gt;</comment>
                            <comment id="14312094" author="githubbot" created="Mon, 9 Feb 2015 10:53:41 +0000"  >&lt;p&gt;GitHub user uce opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1492&quot; title=&quot;Exceptions on shutdown concerning BLOB store cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1492&quot;&gt;&lt;del&gt;FLINK-1492&lt;/del&gt;&lt;/a&gt; Fix exceptions on blob store shutdown&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/uce/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/incubator-flink&lt;/a&gt; flink-1492-proper_shutdown_hook&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #376&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f29132ca9fb549d47a29322695f467996ed727a4&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-02-09T10:44:47Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1492&quot; title=&quot;Exceptions on shutdown concerning BLOB store cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1492&quot;&gt;&lt;del&gt;FLINK-1492&lt;/del&gt;&lt;/a&gt; Fix exceptions on blob store shutdown&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14312172" author="githubbot" created="Mon, 9 Feb 2015 12:29:41 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73500870&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73500870&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This change is also in 0.8 so do we need to apply the fix there as well for the upcoming 0.8.1 release?&lt;/p&gt;</comment>
                            <comment id="14312173" author="githubbot" created="Mon, 9 Feb 2015 12:30:52 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73500986&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73500986&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, if it is finally OK.&lt;/p&gt;</comment>
                            <comment id="14313869" author="githubbot" created="Tue, 10 Feb 2015 09:16:49 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73667317&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73667317&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good.&lt;/p&gt;</comment>
                            <comment id="14313973" author="githubbot" created="Tue, 10 Feb 2015 10:38:39 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#discussion_r24402830&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#discussion_r24402830&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/blob/BlobServer.java &amp;#8212;&lt;br/&gt;
    @@ -196,23 +199,28 @@ public void run() {&lt;br/&gt;
     	 */&lt;br/&gt;
     	@Override&lt;br/&gt;
     	public void shutdown() throws IOException {&lt;br/&gt;
    -&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.shutdownRequested = true;&lt;/li&gt;
	&lt;li&gt;try 
{
    -			this.serverSocket.close();
    -		}
&lt;p&gt; catch (IOException ioe) {&lt;br/&gt;
    +		if (shutdownRequested.compareAndSet(false, true)) {&lt;br/&gt;
    +			try &lt;/p&gt;
{
    +				this.serverSocket.close();
    +			}
&lt;p&gt;    +			catch (IOException ioe) &lt;/p&gt;
{
     				LOG.debug(&quot;Error while closing the server socket.&quot;, ioe);
    -		}&lt;/li&gt;
	&lt;li&gt;try 
{
    -			join();
    -		}
&lt;p&gt; catch (InterruptedException ie) &lt;/p&gt;
{
    -			LOG.debug(&quot;Error while waiting for this thread to die.&quot;, ie);
    -		}
&lt;p&gt;    +			}&lt;br/&gt;
    +			try {&lt;br/&gt;
    +				join();&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    What does this join do? I&apos;m at a loss here.&lt;/p&gt;</comment>
                            <comment id="14313974" author="githubbot" created="Tue, 10 Feb 2015 10:39:13 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73678581&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73678581&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM except for my single question.&lt;/p&gt;</comment>
                            <comment id="14314010" author="githubbot" created="Tue, 10 Feb 2015 10:55:54 +0000"  >&lt;p&gt;Github user uce commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#discussion_r24403795&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#discussion_r24403795&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/blob/BlobServer.java &amp;#8212;&lt;br/&gt;
    @@ -196,23 +199,28 @@ public void run() {&lt;br/&gt;
     	 */&lt;br/&gt;
     	@Override&lt;br/&gt;
     	public void shutdown() throws IOException {&lt;br/&gt;
    -&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.shutdownRequested = true;&lt;/li&gt;
	&lt;li&gt;try 
{
    -			this.serverSocket.close();
    -		}
&lt;p&gt; catch (IOException ioe) {&lt;br/&gt;
    +		if (shutdownRequested.compareAndSet(false, true)) {&lt;br/&gt;
    +			try &lt;/p&gt;
{
    +				this.serverSocket.close();
    +			}
&lt;p&gt;    +			catch (IOException ioe) &lt;/p&gt;
{
     				LOG.debug(&quot;Error while closing the server socket.&quot;, ioe);
    -		}&lt;/li&gt;
	&lt;li&gt;try 
{
    -			join();
    -		}
&lt;p&gt; catch (InterruptedException ie) &lt;/p&gt;
{
    -			LOG.debug(&quot;Error while waiting for this thread to die.&quot;, ie);
    -		}
&lt;p&gt;    +			}&lt;br/&gt;
    +			try {&lt;br/&gt;
    +				join();&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    It&apos;s from the old code and I am not sure if it really needs to stay, but it ensures that the BlobServer thread really finishes when calling the shutdown method (BlobServer is a Thread and because the join is called from outside of the run method it waits for the BlobServer thread to finish).&lt;/p&gt;</comment>
                            <comment id="14314080" author="githubbot" created="Tue, 10 Feb 2015 12:21:46 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#discussion_r24407836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#discussion_r24407836&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/java/org/apache/flink/runtime/blob/BlobServer.java &amp;#8212;&lt;br/&gt;
    @@ -196,23 +199,28 @@ public void run() {&lt;br/&gt;
     	 */&lt;br/&gt;
     	@Override&lt;br/&gt;
     	public void shutdown() throws IOException {&lt;br/&gt;
    -&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.shutdownRequested = true;&lt;/li&gt;
	&lt;li&gt;try 
{
    -			this.serverSocket.close();
    -		}
&lt;p&gt; catch (IOException ioe) {&lt;br/&gt;
    +		if (shutdownRequested.compareAndSet(false, true)) {&lt;br/&gt;
    +			try &lt;/p&gt;
{
    +				this.serverSocket.close();
    +			}
&lt;p&gt;    +			catch (IOException ioe) &lt;/p&gt;
{
     				LOG.debug(&quot;Error while closing the server socket.&quot;, ioe);
    -		}&lt;/li&gt;
	&lt;li&gt;try 
{
    -			join();
    -		}
&lt;p&gt; catch (InterruptedException ie) &lt;/p&gt;
{
    -			LOG.debug(&quot;Error while waiting for this thread to die.&quot;, ie);
    -		}
&lt;p&gt;    +			}&lt;br/&gt;
    +			try {&lt;br/&gt;
    +				join();&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Ah of course. Thanks for the clarification.&lt;/p&gt;</comment>
                            <comment id="14314171" author="githubbot" created="Tue, 10 Feb 2015 13:32:35 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73699086&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73699086&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ll merge the change.&lt;/p&gt;</comment>
                            <comment id="14314178" author="githubbot" created="Tue, 10 Feb 2015 13:36:50 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73699625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73699625&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK, thanks. Just a reminder: we need to include this in 0.8.1 as well.&lt;/p&gt;</comment>
                            <comment id="14314237" author="githubbot" created="Tue, 10 Feb 2015 14:34:35 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14314238" author="rmetzger" created="Tue, 10 Feb 2015 14:34:48 +0000"  >&lt;p&gt;Resolved for master in &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flink/commit/b88f909c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flink/commit/b88f909c&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14314360" author="rmetzger" created="Tue, 10 Feb 2015 15:47:25 +0000"  >&lt;p&gt;Resolved for 0.8.1 in &lt;a href=&quot;https://git1-us-west.apache.org/repos/asf?p=flink.git;a=commit;h=5b420d84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git1-us-west.apache.org/repos/asf?p=flink.git;a=commit;h=5b420d84&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14315902" author="githubbot" created="Wed, 11 Feb 2015 09:45:37 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73855452&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73855452&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I still get &lt;/p&gt;

&lt;p&gt;        05:26:08,841 ERROR org.apache.flink.runtime.blob.BlobServer  - Error during shutdown of blob service via JVM shutdown hook: Shutdown in progress&lt;br/&gt;
        java.lang.IllegalStateException: Shutdown in progress&lt;br/&gt;
    	at java.lang.ApplicationShutdownHooks.remove(ApplicationShutdownHooks.java:82)&lt;br/&gt;
    	at java.lang.Runtime.removeShutdownHook(Runtime.java:239)&lt;br/&gt;
    	at org.apache.flink.runtime.blob.BlobServer.shutdown(BlobServer.java:220)&lt;br/&gt;
    	at org.apache.flink.runtime.blob.BlobUtils$1.run(BlobUtils.java:210)&lt;br/&gt;
    	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;    On the last night&apos;s master.&lt;/p&gt;</comment>
                            <comment id="14315909" author="githubbot" created="Wed, 11 Feb 2015 09:50:56 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73856074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73856074&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK, thanks for reporting this. @StephanEwen has some pending changes to the blob manager and he will look into it as well.&lt;/p&gt;

&lt;p&gt;    It is not allowed to remove the shutdown hook when a shutdown is already in progress.&lt;/p&gt;</comment>
                            <comment id="14315958" author="githubbot" created="Wed, 11 Feb 2015 10:22:11 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/376#issuecomment-73859776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/376#issuecomment-73859776&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The problem is totally deterministic when shutting down the job/task managers.&lt;/p&gt;

&lt;p&gt;    I&apos;ve fixed it here: &lt;a href=&quot;https://github.com/uce/incubator-flink/tree/flink-1492-fix_exceptions_really&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/incubator-flink/tree/flink-1492-fix_exceptions_really&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @StephanEwen, if this is blocking the release vote, we should just merge my change and not wait for your changes in master, which touch the blob store.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25ahj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>