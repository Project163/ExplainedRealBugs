<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:20:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2458] Distributed Cache doesn&apos;t work with iterations.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2458</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Distributed cache files cannot be accessed when working in Iterative contexts. While constructing the context in &lt;tt&gt;AbstractIterativePactTask&lt;/tt&gt;, the distributed entries are not passed on to runtime context.&lt;/p&gt;

&lt;p&gt;My commit will add this and also unify the distributed cache system to work everywhere, including in the Collection Environment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12850773">FLINK-2458</key>
            <summary>Distributed Cache doesn&apos;t work with iterations.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sachingoel0101">Sachin Goel</assignee>
                                    <reporter username="sachingoel0101">Sachin Goel</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Aug 2015 14:06:20 +0000</created>
                <updated>Sun, 16 Aug 2015 17:47:24 +0000</updated>
                            <resolved>Sun, 16 Aug 2015 17:46:56 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14650355" author="stephanewen" created="Sat, 1 Aug 2015 14:29:07 +0000"  >&lt;p&gt;Can you describe how you plan to change this?&lt;/p&gt;

&lt;p&gt;I keep asking this, because we start to have a lot of pull requests, where the design has not been thought through well. Then we need to reject the Pull Request, which is sad for the people that put in a lot of effort.&lt;/p&gt;

&lt;p&gt;To make sure that does not happen too often, I am pushing people to share their intended changes/additions early...&lt;/p&gt;</comment>
                            <comment id="14650365" author="sachingoel0101" created="Sat, 1 Aug 2015 14:34:19 +0000"  >&lt;p&gt;You can take a look here: &lt;a href=&quot;https://github.com/apache/flink/compare/master...sachingoel0101:iteration_cache_files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/compare/master...sachingoel0101:iteration_cache_files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The specific test passes on my machine. I&apos;ll know more after travis succeeds too.&lt;/p&gt;</comment>
                            <comment id="14650412" author="githubbot" created="Sat, 1 Aug 2015 16:02:45 +0000"  >&lt;p&gt;GitHub user sachingoel0101 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2458&quot; title=&quot;Distributed Cache doesn&amp;#39;t work with iterations.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2458&quot;&gt;&lt;del&gt;FLINK-2458&lt;/del&gt;&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2449&quot; title=&quot;DistCache doesn&amp;#39;t work with JavaProgram Collection tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2449&quot;&gt;&lt;del&gt;FLINK-2449&lt;/del&gt;&lt;/a&gt;Access distributed cache entries for CollectionExecution and in Iterative tasks.&lt;/p&gt;

&lt;p&gt;    1. This PR adds support for accessing distributed cache entries when running iterations.&lt;br/&gt;
    2. Since there are several tests which execute on both Cluster and Collection modes, it seems logical to not fail a test on either if it passes on both. Distributed Cache files create one such case. There is nothing actually wrong with trying to access a distributed cache entry when running in collection environment. It just doesn&apos;t really make sense to do so.&lt;br/&gt;
    This takes care of that too.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/sachingoel0101/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sachingoel0101/flink&lt;/a&gt; iteration_cache_files&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #970&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c5b33898d1727cd196e7836becc2a30266641eec&lt;br/&gt;
Author: Sachin Goel &amp;lt;sachingoel0101@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-08-01T13:55:42Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2458&quot; title=&quot;Distributed Cache doesn&amp;#39;t work with iterations.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2458&quot;&gt;&lt;del&gt;FLINK-2458&lt;/del&gt;&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2449&quot; title=&quot;DistCache doesn&amp;#39;t work with JavaProgram Collection tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2449&quot;&gt;&lt;del&gt;FLINK-2449&lt;/del&gt;&lt;/a&gt;Access distributed cache entries for&lt;br/&gt;
    CollectionExecution and in Iterative tasks.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14661726" author="githubbot" created="Fri, 7 Aug 2015 12:03:21 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r36512101&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r36512101&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/functions/util/AbstractRuntimeUDFContext.java &amp;#8212;&lt;br/&gt;
    @@ -79,7 +68,7 @@ public AbstractRuntimeUDFContext(String name,&lt;br/&gt;
     		this.subtaskIndex = subtaskIndex;&lt;br/&gt;
     		this.userCodeClassLoader = userCodeClassLoader;&lt;br/&gt;
     		this.executionConfig = executionConfig;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.distributedCache = new DistributedCache(cpTasks);&lt;br/&gt;
    +		this.distributedCache = Preconditions.checkNotNull(new DistributedCache(cpTasks));
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Don&apos;t you want to check cpTasks for being null?&lt;/p&gt;</comment>
                            <comment id="14661728" author="githubbot" created="Fri, 7 Aug 2015 12:04:55 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r36512186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r36512186&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/functions/util/RuntimeUDFContext.java &amp;#8212;&lt;br/&gt;
    @@ -37,18 +37,17 @@&lt;br/&gt;
     	private final HashMap&amp;lt;String, Object&amp;gt; initializedBroadcastVars = new HashMap&amp;lt;String, Object&amp;gt;();&lt;/p&gt;

&lt;p&gt;     	private final HashMap&amp;lt;String, List&amp;lt;?&amp;gt;&amp;gt; uninitializedBroadcastVars = new HashMap&amp;lt;String, List&amp;lt;?&amp;gt;&amp;gt;();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;&lt;p&gt;    +&lt;br/&gt;
     	public RuntimeUDFContext(String name, int numParallelSubtasks, int subtaskIndex, ClassLoader userCodeClassLoader,&lt;br/&gt;
     							ExecutionConfig executionConfig, Map&amp;lt;String, Accumulator&amp;lt;?,?&amp;gt;&amp;gt; accumulators) &lt;/p&gt;
{
    -		super(name, numParallelSubtasks, subtaskIndex, userCodeClassLoader, executionConfig, accumulators);
    +		this(name, numParallelSubtasks, subtaskIndex, userCodeClassLoader, executionConfig,
    +				new HashMap&amp;lt;String, Future&amp;lt;Path&amp;gt;&amp;gt;(), accumulators);
     	}&lt;/li&gt;
	&lt;li&gt;&lt;p&gt;    +&lt;br/&gt;
     	public RuntimeUDFContext(String name, int numParallelSubtasks, int subtaskIndex, ClassLoader userCodeClassLoader,&lt;br/&gt;
     							ExecutionConfig executionConfig, Map&amp;lt;String, Future&amp;lt;Path&amp;gt;&amp;gt; cpTasks, Map&amp;lt;String, Accumulator&amp;lt;?,?&amp;gt;&amp;gt; accumulators) &lt;/p&gt;
{
     		super(name, numParallelSubtasks, subtaskIndex, userCodeClassLoader, executionConfig, accumulators, cpTasks);
     	}&lt;/li&gt;
	&lt;li&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Here we have a few unnecessary formatting changes that just clutter the diff.&lt;/p&gt;</comment>
                            <comment id="14661741" author="githubbot" created="Fri, 7 Aug 2015 12:17:57 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r36512933&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r36512933&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/operators/CollectionExecutor.java &amp;#8212;&lt;br/&gt;
    @@ -501,4 +536,22 @@ public int getSuperstepNumber() &lt;/p&gt;
{
     			return (T) previousAggregates.get(name);
     		}
&lt;p&gt;     	}&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final class DoingNothing implements Callable&amp;lt;Path&amp;gt;{&lt;br/&gt;
    +		private Path entry;&lt;br/&gt;
    +&lt;br/&gt;
    +		public DoingNothing(Path entry)&lt;/p&gt;
{
    +			this.entry = entry;
    +		}
&lt;p&gt;    +&lt;br/&gt;
    +		@Override&lt;br/&gt;
    +		public Path call() throws IOException{&lt;br/&gt;
    +			try&lt;/p&gt;
{
    +				LocalFileSystem fs = (LocalFileSystem) entry.getFileSystem();
    +				return entry.isAbsolute() ? new Path(entry.toUri().getPath()): new Path(fs.getWorkingDirectory(),entry);
    +			}
&lt;p&gt; catch (ClassCastException e){&lt;br/&gt;
    +				throw new RuntimeException(&quot;Collection execution must have only local file paths&quot;);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    dislike this error message, there&apos;s is no apparent relation to the distributed cache. &lt;br/&gt;
    how about &quot;The DistrbutedCache only supports local files for Collection Environments.&quot;&lt;/p&gt;</comment>
                            <comment id="14661749" author="githubbot" created="Fri, 7 Aug 2015 12:22:41 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r36513206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r36513206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/functions/util/AbstractRuntimeUDFContext.java &amp;#8212;&lt;br/&gt;
    @@ -79,7 +68,7 @@ public AbstractRuntimeUDFContext(String name,&lt;br/&gt;
     		this.subtaskIndex = subtaskIndex;&lt;br/&gt;
     		this.userCodeClassLoader = userCodeClassLoader;&lt;br/&gt;
     		this.executionConfig = executionConfig;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.distributedCache = new DistributedCache(cpTasks);&lt;br/&gt;
    +		this.distributedCache = Preconditions.checkNotNull(new DistributedCache(cpTasks));
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Ah yes. Sorry. &lt;/p&gt;</comment>
                            <comment id="14661751" author="githubbot" created="Fri, 7 Aug 2015 12:23:31 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r36513272&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r36513272&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/operators/CollectionExecutor.java &amp;#8212;&lt;br/&gt;
    @@ -501,4 +536,22 @@ public int getSuperstepNumber() &lt;/p&gt;
{
     			return (T) previousAggregates.get(name);
     		}
&lt;p&gt;     	}&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final class DoingNothing implements Callable&amp;lt;Path&amp;gt;{&lt;br/&gt;
    +		private Path entry;&lt;br/&gt;
    +&lt;br/&gt;
    +		public DoingNothing(Path entry)&lt;/p&gt;
{
    +			this.entry = entry;
    +		}
&lt;p&gt;    +&lt;br/&gt;
    +		@Override&lt;br/&gt;
    +		public Path call() throws IOException{&lt;br/&gt;
    +			try&lt;/p&gt;
{
    +				LocalFileSystem fs = (LocalFileSystem) entry.getFileSystem();
    +				return entry.isAbsolute() ? new Path(entry.toUri().getPath()): new Path(fs.getWorkingDirectory(),entry);
    +			}
&lt;p&gt; catch (ClassCastException e){&lt;br/&gt;
    +				throw new RuntimeException(&quot;Collection execution must have only local file paths&quot;);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Yeah. That would make more sense.&lt;/p&gt;</comment>
                            <comment id="14661984" author="githubbot" created="Fri, 7 Aug 2015 15:25:03 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-128732528&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-128732528&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Addressed PR comments. There is one unrelated failure on the GroupReduceITCase. I&apos;ve filed a JIRA for that.&lt;/p&gt;</comment>
                            <comment id="14680222" author="githubbot" created="Mon, 10 Aug 2015 14:55:57 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-129481422&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-129481422&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, in general.&lt;/p&gt;

&lt;p&gt;    Can you add the test to one of the other iteration test files? This saves cluster startup and shutdown costs, making builds faster. Maybe to the iteration aggregators, or iteration accumulators.&lt;/p&gt;
</comment>
                            <comment id="14680224" author="githubbot" created="Mon, 10 Aug 2015 14:56:18 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r36640260&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r36640260&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/operators/CollectionExecutor.java &amp;#8212;&lt;br/&gt;
    @@ -501,4 +536,22 @@ public int getSuperstepNumber() &lt;/p&gt;
{
     			return (T) previousAggregates.get(name);
     		}
&lt;p&gt;     	}&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final class DoingNothing implements Callable&amp;lt;Path&amp;gt;{&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    It actually does something &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14680718" author="githubbot" created="Mon, 10 Aug 2015 20:35:55 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r36680981&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r36680981&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/operators/CollectionExecutor.java &amp;#8212;&lt;br/&gt;
    @@ -501,4 +536,22 @@ public int getSuperstepNumber() &lt;/p&gt;
{
     			return (T) previousAggregates.get(name);
     		}
&lt;p&gt;     	}&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final class DoingNothing implements Callable&amp;lt;Path&amp;gt;{&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Haha. Yes. In an earlier version of the code, it wasn&apos;t. :&apos;)&lt;/p&gt;</comment>
                            <comment id="14680968" author="githubbot" created="Mon, 10 Aug 2015 23:44:44 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-129648092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-129648092&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ve moved the test to an existing MultipleProgramTestBase`. Should be good to merge now. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14698561" author="githubbot" created="Sun, 16 Aug 2015 07:18:00 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131496338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131496338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;d like to get this merged soon. This removes multiple constructors for Runtime contexts and establishes a clean hierarchy, making any changes to the constructors easier. This will be useful for two Jiras on exposing task configuration and task attempt number to the Runtime context.&lt;/p&gt;</comment>
                            <comment id="14698592" author="githubbot" created="Sun, 16 Aug 2015 08:56:06 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131504643&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131504643&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I decided to go ahead and implement things which touch the Runtime Context constructors with this PR. This now closes five Jiras, namely 2449, 2458, 2488, 2496 and 2524. Commit messages are descriptive of each Jira.&lt;/p&gt;</comment>
                            <comment id="14698598" author="githubbot" created="Sun, 16 Aug 2015 09:11:54 +0000"  >&lt;p&gt;Github user hsaputra commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r37143896&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r37143896&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -897,7 +897,7 @@ class TaskManager(&lt;br/&gt;
             config.timeout,&lt;br/&gt;
             libCache,&lt;br/&gt;
             fileCache,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;runtimeInfo)&lt;br/&gt;
    +        new TaskRuntimeInfo(hostname, taskManagerConfig, tdd.getAttemptNumber))
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Why is this changed from before?&lt;/p&gt;</comment>
                            <comment id="14698600" author="githubbot" created="Sun, 16 Aug 2015 09:15:40 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r37143936&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r37143936&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -897,7 +897,7 @@ class TaskManager(&lt;br/&gt;
             config.timeout,&lt;br/&gt;
             libCache,&lt;br/&gt;
             fileCache,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;runtimeInfo)&lt;br/&gt;
    +        new TaskRuntimeInfo(hostname, taskManagerConfig, tdd.getAttemptNumber))
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    This is to provide access to Task attempt number from Runtime Context. I should add a description of the other tickets this resolves.&lt;br/&gt;
    Is this a good idea though? To fix five issues in one PR? Or should I open a separate one and keep this one for just distributed cache?&lt;/p&gt;</comment>
                            <comment id="14698604" author="githubbot" created="Sun, 16 Aug 2015 09:40:31 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r37144152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r37144152&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -897,7 +897,7 @@ class TaskManager(&lt;br/&gt;
             config.timeout,&lt;br/&gt;
             libCache,&lt;br/&gt;
             fileCache,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;runtimeInfo)&lt;br/&gt;
    +        new TaskRuntimeInfo(hostname, taskManagerConfig, tdd.getAttemptNumber))
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    generally we try to keep one PR for one issue, exceptions should only be done for closely related issues.&lt;/p&gt;

&lt;p&gt;    why did you decide to add these issues into this PR? ( i have a hard time understanding it, since the commits barely touch the same files.&lt;/p&gt;</comment>
                            <comment id="14698607" author="githubbot" created="Sun, 16 Aug 2015 09:47:14 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r37144194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r37144194&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -897,7 +897,7 @@ class TaskManager(&lt;br/&gt;
             config.timeout,&lt;br/&gt;
             libCache,&lt;br/&gt;
             fileCache,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;runtimeInfo)&lt;br/&gt;
    +        new TaskRuntimeInfo(hostname, taskManagerConfig, tdd.getAttemptNumber))
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Yes. The addition of distributed cache removes the need for multiple constructors for `RuntimeContext`s. Since providing access to runtime information needed changing the constructors, I deemed it better to work with what would be the only needed constructors after merging this. &lt;br/&gt;
    I can revert this commit and open a separate PR for the &lt;b&gt;other&lt;/b&gt; three issues if necessary.&lt;/p&gt;</comment>
                            <comment id="14698610" author="githubbot" created="Sun, 16 Aug 2015 09:58:48 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r37144275&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r37144275&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -897,7 +897,7 @@ class TaskManager(&lt;br/&gt;
             config.timeout,&lt;br/&gt;
             libCache,&lt;br/&gt;
             fileCache,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;runtimeInfo)&lt;br/&gt;
    +        new TaskRuntimeInfo(hostname, taskManagerConfig, tdd.getAttemptNumber))
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I would prefer if you opened a second PR once this is merged. The issues are not really related to each other; the 2nd commit was simply made based on the 1st commit. We would end up having two separate discussions in 1 PR, which i think is a bad idea.&lt;/p&gt;</comment>
                            <comment id="14698613" author="githubbot" created="Sun, 16 Aug 2015 10:01:04 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#discussion_r37144300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#discussion_r37144300&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -897,7 +897,7 @@ class TaskManager(&lt;br/&gt;
             config.timeout,&lt;br/&gt;
             libCache,&lt;br/&gt;
             fileCache,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;runtimeInfo)&lt;br/&gt;
    +        new TaskRuntimeInfo(hostname, taskManagerConfig, tdd.getAttemptNumber))
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Ah. Yes. That makes sense. I will revert this and open a separate PR. Apologies.&lt;/p&gt;</comment>
                            <comment id="14698614" author="githubbot" created="Sun, 16 Aug 2015 10:05:22 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131519550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131519550&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Reverting back to make this PR only about the distributed cache.&lt;/p&gt;</comment>
                            <comment id="14698711" author="githubbot" created="Sun, 16 Aug 2015 15:04:53 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131570065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131570065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    We are indeed falling behind on merging pull requests, right now. Many committers are on vacation this month, and for the others, the large amount of pull requests is hard to keep up with, especially next to the work on our own issues.&lt;/p&gt;

&lt;p&gt;    Hope this will get better in a week or two.&lt;/p&gt;

&lt;p&gt;    I&apos;ll try to get a look at this very soon...&lt;/p&gt;</comment>
                            <comment id="14698714" author="githubbot" created="Sun, 16 Aug 2015 15:10:28 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131570435&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131570435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    In the `CollectionExecutor`, can you skip creating the `ExecutiorService`? You can eagerly resolve the path and then put an already finished future into the map.&lt;/p&gt;</comment>
                            <comment id="14698716" author="githubbot" created="Sun, 16 Aug 2015 15:12:13 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131570789&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131570789&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Aside from the comment above, this looks good. Would merge this, after the comment is addressed.&lt;/p&gt;</comment>
                            <comment id="14698726" author="githubbot" created="Sun, 16 Aug 2015 15:38:03 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131575300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131575300&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Addressed comments. @StephanEwen &lt;/p&gt;</comment>
                            <comment id="14698745" author="githubbot" created="Sun, 16 Aug 2015 16:33:04 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970#issuecomment-131579342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970#issuecomment-131579342&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, merging this!&lt;/p&gt;</comment>
                            <comment id="14698790" author="githubbot" created="Sun, 16 Aug 2015 17:45:01 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/970&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14698794" author="stephanewen" created="Sun, 16 Aug 2015 17:46:56 +0000"  >&lt;p&gt;Fixed via 358259d25edc25251073e26f47e3960a69990098&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2i7lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>