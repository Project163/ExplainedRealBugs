<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7176] Failed builds (due to compilation) don&apos;t upload logs</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7176</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;If the compile phase fails on travis &lt;tt&gt;flink-dist&lt;/tt&gt; may not be created. This causes the check for the inclusion of snappy in &lt;tt&gt;flink-dist&lt;/tt&gt; to fail.&lt;/p&gt;

&lt;p&gt;The function doing this check calls &lt;tt&gt;exit 1&lt;/tt&gt; on error, which exits the entire shell, thus skipping subsequent actions like the upload of logs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13086929">FLINK-7176</key>
            <summary>Failed builds (due to compilation) don&apos;t upload logs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="chesnay">Chesnay Schepler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jul 2017 15:24:23 +0000</created>
                <updated>Fri, 21 Jul 2017 07:10:05 +0000</updated>
                            <resolved>Fri, 21 Jul 2017 07:10:05 +0000</resolved>
                                    <version>1.3.0</version>
                    <version>1.4.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Travis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16086108" author="zentol" created="Thu, 13 Jul 2017 17:55:57 +0000"  >&lt;p&gt;This is mostly an issue for 1.3, where the compilation and tests are done in a single step.&lt;/p&gt;</comment>
                            <comment id="16086962" author="githubbot" created="Fri, 14 Jul 2017 07:23:52 +0000"  >&lt;p&gt;GitHub user zentol opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4329&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7176&quot; title=&quot;Failed builds (due to compilation) don&amp;#39;t upload logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7176&quot;&gt;&lt;del&gt;FLINK-7176&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;travis&amp;#93;&lt;/span&gt; Improve error handling&lt;/p&gt;

&lt;p&gt;    This PR modifies the travis scripts to&lt;br/&gt;
    a) verify the shaded dependencies only when compilation&amp;amp;tests succeeded (to reduce noise)&lt;br/&gt;
    b) not call exit when the shading was incorrect.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zentol/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink&lt;/a&gt; 7176_13&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4329.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4329.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4329&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a97df7efb5b52aac2e99ad5666135240d159b413&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-13T15:53:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7176&quot; title=&quot;Failed builds (due to compilation) don&amp;#39;t upload logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7176&quot;&gt;&lt;del&gt;FLINK-7176&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;travis&amp;#93;&lt;/span&gt; Improve error handling&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16086965" author="githubbot" created="Fri, 14 Jul 2017 07:26:11 +0000"  >&lt;p&gt;GitHub user zentol opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4330&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7176&quot; title=&quot;Failed builds (due to compilation) don&amp;#39;t upload logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7176&quot;&gt;&lt;del&gt;FLINK-7176&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;travis&amp;#93;&lt;/span&gt; Improve error handling&lt;/p&gt;

&lt;p&gt;    1.4 version of #4329.&lt;/p&gt;

&lt;p&gt;    Additional changes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;tests are only executed if the compilation was successful&lt;/li&gt;
	&lt;li&gt;yarn tests log upload is only done in group that actually runs flink-yarn-tests&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zentol/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink&lt;/a&gt; 7176&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4330.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4330.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4330&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8622d116eeb18ff38a2247f6e916a515dd81bbac&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-13T15:53:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7176&quot; title=&quot;Failed builds (due to compilation) don&amp;#39;t upload logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7176&quot;&gt;&lt;del&gt;FLINK-7176&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;travis&amp;#93;&lt;/span&gt; Improve error handling&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16090302" author="githubbot" created="Mon, 17 Jul 2017 18:37:54 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4329#discussion_r127788859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4329#discussion_r127788859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: tools/travis_mvn_watchdog.sh &amp;#8212;&lt;br/&gt;
    @@ -225,9 +226,14 @@ echo &quot;MVN exited with EXIT CODE: ${EXIT_CODE}.&quot;&lt;br/&gt;
     rm $MVN_PID&lt;br/&gt;
     rm $MVN_EXIT&lt;/p&gt;

&lt;p&gt;    -check_shaded_artifacts&lt;br/&gt;
    -&lt;br/&gt;
    -put_yarn_logs_to_artifacts&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This is removed here, is that on purpose?&lt;br/&gt;
    Are the yarn logs now handled differently?&lt;/p&gt;</comment>
                            <comment id="16090344" author="githubbot" created="Mon, 17 Jul 2017 19:00:21 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4329#discussion_r127794837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4329#discussion_r127794837&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: tools/travis_mvn_watchdog.sh &amp;#8212;&lt;br/&gt;
    @@ -225,9 +226,14 @@ echo &quot;MVN exited with EXIT CODE: ${EXIT_CODE}.&quot;&lt;br/&gt;
     rm $MVN_PID&lt;br/&gt;
     rm $MVN_EXIT&lt;/p&gt;

&lt;p&gt;    -check_shaded_artifacts&lt;br/&gt;
    -&lt;br/&gt;
    -put_yarn_logs_to_artifacts&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    ohh...no that wasn&apos;t on purpose, must&apos;ve happened during rebase.&lt;/p&gt;</comment>
                            <comment id="16094427" author="githubbot" created="Thu, 20 Jul 2017 09:35:30 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4330&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM!&lt;/p&gt;

&lt;p&gt;    Did you ever encounter the case where the new `return 1` statements were triggered? I think `return` in bash can be a bit &quot;unexpected&quot;.&lt;/p&gt;</comment>
                            <comment id="16094463" author="githubbot" created="Thu, 20 Jul 2017 10:06:39 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4330&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I did tests where the &quot;successful&quot; check returned 1, and it had the correct effect of failing the build.&lt;/p&gt;</comment>
                            <comment id="16094485" author="githubbot" created="Thu, 20 Jul 2017 10:22:43 +0000"  >&lt;p&gt;Github user NicoK commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4330&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1&lt;/p&gt;

&lt;p&gt;    I wouldn&apos;t say, `return`is uncommon inside a bash function!&lt;br/&gt;
    `exit` in these methods would immediately exit the bash script while `return` does what is expected here which still allows the `transfer.sh` uploads&lt;/p&gt;
</comment>
                            <comment id="16095041" author="zentol" created="Thu, 20 Jul 2017 17:31:50 +0000"  >&lt;p&gt;1.4: b3b35dbf5271dc8a64b06a575d3a8ed37df4ef35&lt;/p&gt;</comment>
                            <comment id="16095042" author="githubbot" created="Thu, 20 Jul 2017 17:32:19 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4330&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16095880" author="githubbot" created="Fri, 21 Jul 2017 07:10:04 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4329&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16095881" author="zentol" created="Fri, 21 Jul 2017 07:10:05 +0000"  >&lt;p&gt;1.3: 20ddb46b7944162c9cb1cfbd7d1658a6a88246fe&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hhjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>