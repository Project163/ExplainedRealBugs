<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:21:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-35334] Code generation: init method exceeds 64 KB when there is a long array field with Table API</title>
                <link>https://issues.apache.org/jira/browse/FLINK-35334</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Hi team,&lt;/p&gt;

&lt;p&gt;I encountered the following error when trying to execute SQL on a table that has rows with fields that are long arrays (e.g., array length &amp;gt; 200):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.RuntimeException: Could not instantiate generated class &lt;span class=&quot;code-quote&quot;&gt;&apos;BatchExecCalc$4950&apos;&lt;/span&gt;
&#160;at org.apache.flink.table.runtime.generated.GeneratedClass.newInstance(GeneratedClass.java:84)
&#160;...
Caused by: org.codehaus.janino.InternalCompilerException: Code of method &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;init&amp;gt;([Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;Lorg/apache/flink/streaming/runtime/tasks/StreamTask;Lorg/apache/flink/streaming/api/graph/StreamConfig;Lorg/apache/flink/streaming/api/operators/Output;Lorg/apache/flink/streaming/runtime/tasks/ProcessingTimeService;)V&quot;&lt;/span&gt; of class &lt;span class=&quot;code-quote&quot;&gt;&quot;BatchExecCalc$4950&quot;&lt;/span&gt; grows beyond 64 KB &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;A minimal example that reproduces the situation described above:&lt;br/&gt;
&lt;a href=&quot;https://gist.github.com/nlpersimon/df71c0bec93c13667965ce1706099fdb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/nlpersimon/df71c0bec93c13667965ce1706099fdb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After running the example with Intellij, I got this output:&lt;br/&gt;
&lt;a href=&quot;https://gist.github.com/nlpersimon/f741b79c37da7426aeefc7a157cdd124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/nlpersimon/f741b79c37da7426aeefc7a157cdd124&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please let me know if you need any other information. Thank you!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13579034">FLINK-35334</key>
            <summary>Code generation: init method exceeds 64 KB when there is a long array field with Table API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="simonlee1206">Simon Lee</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 13 May 2024 09:15:19 +0000</created>
                <updated>Tue, 26 Nov 2024 21:27:42 +0000</updated>
                            <resolved>Tue, 26 Nov 2024 21:27:42 +0000</resolved>
                                    <version>1.17.1</version>
                    <version>1.19.0</version>
                    <version>1.18.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.19.2</fixVersion>
                    <fixVersion>1.20.1</fixVersion>
                                    <component>Table SQL / API</component>
                    <component>Table SQL / Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17847765" author="JIRAUSER305398" created="Mon, 20 May 2024 04:00:34 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TsReaper&quot; class=&quot;user-hover&quot; rel=&quot;TsReaper&quot;&gt;TsReaper&lt;/a&gt; , I noticed that you solved a similar issue before:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-25491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-25491&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you please take a look at this issue if you have some bandwidth?&lt;/p&gt;

&lt;p&gt;Thank you very much!&lt;/p&gt;</comment>
                            <comment id="17897502" author="JIRAUSER295509" created="Tue, 12 Nov 2024 13:18:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=simonlee1206&quot; class=&quot;user-hover&quot; rel=&quot;simonlee1206&quot;&gt;simonlee1206&lt;/a&gt; I try to fix it. Can you use this pr in your job? Is it work?&lt;/p&gt;</comment>
                            <comment id="17897578" author="JIRAUSER305398" created="Tue, 12 Nov 2024 14:20:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=littleeleventhwolf&quot; class=&quot;user-hover&quot; rel=&quot;littleeleventhwolf&quot;&gt;littleeleventhwolf&lt;/a&gt; thanks!&lt;/p&gt;

&lt;p&gt;I am afraid that I cannot test it in my job because it is running on EMR, which limits the Flink implementation.&lt;/p&gt;

&lt;p&gt;I think I&apos;ll need to wait for this PR to be merged and EMR to support the newer Flink version with this fix.&lt;/p&gt;</comment>
                            <comment id="17901306" author="sergey nuyanzin" created="Tue, 26 Nov 2024 21:27:27 +0000"  >&lt;p&gt;Merged as &lt;a href=&quot;https://github.com/apache/flink/commit/9b8c0e2101b65612d6f4a261bd0cc0789137ac72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;9b8c0e2101b65612d6f4a261bd0cc0789137ac72&lt;/a&gt;&lt;br/&gt;
1.20 &lt;a href=&quot;https://github.com/apache/flink/commit/35a58f7a61a637ce930d5e11bc144c704766d293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;35a58f7a61a637ce930d5e11bc144c704766d293&lt;/a&gt;&lt;br/&gt;
1.19 &lt;a href=&quot;https://github.com/apache/flink/commit/c70523b1857470df84d5c2d47eaf33f81856f541&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c70523b1857470df84d5c2d47eaf33f81856f541&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1p6jc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>