<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:31:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8489] Data is not emitted by second ElasticSearch connector</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8489</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;A user reported &lt;a href=&quot;https://lists.apache.org/thread.html/e91c71beb45d6df879effa16c52f2c71aa6ef1a54ef0a8ac4ccc72ee@%3Cuser.flink.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this issue&lt;/a&gt; on the user@f.a.o mailing list.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Setup:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;A program with two pipelines that write to ElasticSearch. The pipelines can be connected or completely separate.&lt;/li&gt;
	&lt;li&gt;ElasticSearch 5.6.4, connector &lt;tt&gt;flink-connector-elasticsearch5_2.11&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Problem:&lt;/b&gt;&lt;br/&gt;
 Only one of the ES connectors correctly emits data. The other connector writes a single record and then stops emitting data (or does not write any data at all). The problem does not exist, if the second ES connector is replaced by a different connector (for example Cassandra).&lt;/p&gt;

&lt;p&gt;Below is a program to reproduce the issue:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ElasticSearchTest1 {

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		
		StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
		
		&lt;span class=&quot;code-comment&quot;&gt;// set elasticsearch connection details	
&lt;/span&gt;		Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; config = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();
		config.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;bulk.flush.max.actions&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;);
		config.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;cluster.name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;cluster name&amp;gt;&quot;&lt;/span&gt;);
		List&amp;lt;InetSocketAddress&amp;gt; transports = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();		
		transports.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InetSocketAddress(InetAddress.getByName(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;host ip&amp;gt;&quot;&lt;/span&gt;), 9300));
		
		&lt;span class=&quot;code-comment&quot;&gt;//Set properties &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Kafka Streaming
&lt;/span&gt;	        Properties properties = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Properties();
		properties.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;bootstrap.servers&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;host ip&amp;gt;&quot;&lt;/span&gt;+&lt;span class=&quot;code-quote&quot;&gt;&quot;:9092&quot;&lt;/span&gt;);
		properties.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;group.id&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;testGroup&quot;&lt;/span&gt;);
		properties.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;auto.offset.reset&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;latest&quot;&lt;/span&gt;);	
				
		&lt;span class=&quot;code-comment&quot;&gt;//Create consumer &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; log records
&lt;/span&gt;		
		FlinkKafkaConsumer011 inputConsumer1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FlinkKafkaConsumer011&amp;lt;&amp;gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;elastic_test1&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JSONDeserializationSchema(), properties);
				
		DataStream&amp;lt;RecordOne&amp;gt; firstStream = env
				.addSource(inputConsumer1)
				.flatMap(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CreateRecordOne());
		 	
		firstStream		
		.addSink(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ElasticsearchSink&amp;lt;RecordOne&amp;gt;(config, 
				transports, 
				&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ElasticSearchOutputRecord(&lt;span class=&quot;code-quote&quot;&gt;&quot;elastic_test_index1&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;elastic_test_index1&quot;&lt;/span&gt;)));
		
		FlinkKafkaConsumer011 inputConsumer2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FlinkKafkaConsumer011&amp;lt;&amp;gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;elastic_test2&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JSONDeserializationSchema(), properties);
		
		DataStream&amp;lt;RecordTwo&amp;gt; secondStream = env
					.addSource(inputConsumer2)		
					.flatMap(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CreateRecordTwo());
		 	
		secondStream		
		.addSink(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ElasticsearchSink&amp;lt;RecordTwo&amp;gt;(config, 
				transports, 
				&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ElasticSearchOutputRecord2(&lt;span class=&quot;code-quote&quot;&gt;&quot;elastic_test_index2&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;elastic_test_index2&quot;&lt;/span&gt;)));
				
		env.execute(&lt;span class=&quot;code-quote&quot;&gt;&quot;Elastic Search Test&quot;&lt;/span&gt;);
	}
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ElasticSearchOutputRecord &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; ElasticsearchSinkFunction&amp;lt;RecordOne&amp;gt; {

	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index;
	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type;
    &lt;span class=&quot;code-comment&quot;&gt;// Initialize filter function
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ElasticSearchOutputRecord(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.index = index;
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.type = type;
    }
	&lt;span class=&quot;code-comment&quot;&gt;// construct index request
&lt;/span&gt;	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(
			RecordOne record,
		RuntimeContext ctx,
		RequestIndexer indexer) {

		&lt;span class=&quot;code-comment&quot;&gt;// construct JSON document to index
&lt;/span&gt;		Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; json = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();
		
		json.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;item_one&quot;&lt;/span&gt;, record.item1);      
		json.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;item_two&quot;&lt;/span&gt;, record.item2);      
						
		IndexRequest rqst = Requests.indexRequest()
				.index(index)           &lt;span class=&quot;code-comment&quot;&gt;// index name
&lt;/span&gt;				.type(type)     &lt;span class=&quot;code-comment&quot;&gt;// mapping name
&lt;/span&gt;				.source(json);

		indexer.add(rqst);
	}
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ElasticSearchOutputRecord2 &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; ElasticsearchSinkFunction&amp;lt;RecordTwo&amp;gt; {

	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index;
	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type;
    &lt;span class=&quot;code-comment&quot;&gt;// Initialize filter function
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ElasticSearchOutputRecord2(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.index = index;
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.type = type;
    }
	&lt;span class=&quot;code-comment&quot;&gt;// construct index request
&lt;/span&gt;	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(
			RecordTwo record,
		RuntimeContext ctx,
		RequestIndexer indexer) {

		&lt;span class=&quot;code-comment&quot;&gt;// construct JSON document to index
&lt;/span&gt;		Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; json = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();
		
		json.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;item_three&quot;&lt;/span&gt;, record.item3);      
		json.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;item_four&quot;&lt;/span&gt;, record.item4);      
						
		IndexRequest rqst = Requests.indexRequest()
				.index(index)           &lt;span class=&quot;code-comment&quot;&gt;// index name
&lt;/span&gt;				.type(type)     &lt;span class=&quot;code-comment&quot;&gt;// mapping name
&lt;/span&gt;				.source(json);

		indexer.add(rqst);
	}
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CreateRecordOne &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; FlatMapFunction&amp;lt;ObjectNode,RecordOne&amp;gt; {
	
	&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Logger log = LoggerFactory.getLogger(CreateRecordOne.class);
	
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void flatMap(ObjectNode value, Collector&amp;lt;RecordOne&amp;gt; out) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			out.collect(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RecordOne(value.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;item1&quot;&lt;/span&gt;).asText(),value.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;item2&quot;&lt;/span&gt;).asText()));
		}
		&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e) {
			log.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating RecordOne&quot;&lt;/span&gt;, e);
		}
	}

}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CreateRecordTwo &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; FlatMapFunction&amp;lt;ObjectNode,RecordTwo&amp;gt; {
	
	&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Logger log = LoggerFactory.getLogger(CreateRecordTwo.class);
	
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void flatMap(ObjectNode value, Collector&amp;lt;RecordTwo&amp;gt; out) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			out.collect(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RecordTwo(value.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;item1&quot;&lt;/span&gt;).asText(),value.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;item2&quot;&lt;/span&gt;).asText()));
		}
		&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e) {
			log.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating RecordTwo&quot;&lt;/span&gt;, e);
		}
	}

}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;RecordOne {	
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item1;	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item2;	
		
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; RecordOne() {};
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; RecordOne (
			
			&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item1,	
			&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item2	
			 						
			) {	
		
				 &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.item1 =	item1;
				 &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.item2 = item2;	
				 
	}		
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;RecordTwo {	
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item3;	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item4;	
		
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; RecordTwo() {};
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; RecordTwo (			
			&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item3,	
			&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; item4			 						
			) {		
				 &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.item3 =	item3;
				 &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.item4 = item4;	
				 
	}		
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13132996">FLINK-8489</key>
            <summary>Data is not emitted by second ElasticSearch connector</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="fhueske">Fabian Hueske</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jan 2018 09:48:40 +0000</created>
                <updated>Fri, 2 Feb 2018 15:00:19 +0000</updated>
                            <resolved>Fri, 2 Feb 2018 15:00:19 +0000</resolved>
                                    <version>1.4.0</version>
                    <version>1.5.0</version>
                                    <fixVersion>1.4.1</fixVersion>
                    <fixVersion>1.5.0</fixVersion>
                                    <component>Connectors / ElasticSearch</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16335857" author="zentol" created="Tue, 23 Jan 2018 14:44:15 +0000"  >&lt;p&gt;What happens if you provide separate config maps to each sink? From a quick skim it appears that the sink may remove properties from them.&lt;/p&gt;</comment>
                            <comment id="16343217" author="githubbot" created="Mon, 29 Jan 2018 10:55:16 +0000"  >&lt;p&gt;GitHub user zentol opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8489&quot; title=&quot;Data is not emitted by second ElasticSearch connector&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8489&quot;&gt;&lt;del&gt;FLINK-8489&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ES&amp;#93;&lt;/span&gt; Prevent side-effects when modifying user-config&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    The `ElasticsearchSinkBase` constructor was removing entries from a user-provided collection. We now copy the collection to prevent side-effects.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zentol/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink&lt;/a&gt; 8489&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5378&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3b81b7d3b0f3ae3405f7bc4e5f438af87aa45630&lt;br/&gt;
Author: zentol &amp;lt;chesnay@...&amp;gt;&lt;br/&gt;
Date:   2018-01-29T10:46:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8489&quot; title=&quot;Data is not emitted by second ElasticSearch connector&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8489&quot;&gt;&lt;del&gt;FLINK-8489&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ES&amp;#93;&lt;/span&gt; Prevent side-effects when modifying user-config&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16343261" author="githubbot" created="Mon, 29 Jan 2018 11:51:23 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, but can this be guarded by a test?&lt;/p&gt;

&lt;p&gt;    Otherwise I can see a someone in the future going like &quot;oh, I have an idea how to &apos;optimize&apos; this&quot; and remove that copying operation.&lt;/p&gt;</comment>
                            <comment id="16343273" author="githubbot" created="Mon, 29 Jan 2018 12:00:08 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ll add a test where we pass an unmodifiable map to the sink, that should cover it.&lt;/p&gt;</comment>
                            <comment id="16343322" author="githubbot" created="Mon, 29 Jan 2018 12:50:29 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Added a test for the `ElasticSearchSinkBase` that passes an unmodifiable map containing all properties that we currently try to remove.&lt;/p&gt;

&lt;p&gt;    I also modified the `ElasticSearchTestBase` to pass an unmodifiable map to the constructors.&lt;/p&gt;</comment>
                            <comment id="16343361" author="githubbot" created="Mon, 29 Jan 2018 13:49:25 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM, once Travis is green.&lt;/p&gt;</comment>
                            <comment id="16346520" author="githubbot" created="Wed, 31 Jan 2018 10:00:57 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    merging,&lt;/p&gt;</comment>
                            <comment id="16346810" author="zentol" created="Wed, 31 Jan 2018 13:26:27 +0000"  >&lt;p&gt;Potential fix merged to master in 91cf60b2795303c5af9089dc320013382a2f38d3&lt;/p&gt;</comment>
                            <comment id="16346813" author="githubbot" created="Wed, 31 Jan 2018 13:27:43 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5378&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16350466" author="zentol" created="Fri, 2 Feb 2018 15:00:19 +0000"  >&lt;p&gt;1.4: dfa050c01adc559a3ed4df4c2c3273903a37ff79&lt;/p&gt;

&lt;p&gt;User confirmed using separate configs resolved the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3p8lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>