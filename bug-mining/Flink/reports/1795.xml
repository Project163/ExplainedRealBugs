<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:28:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-6943] Improve exceptions within TypeExtractionUtils#getSingleAbstractMethod</title>
                <link>https://issues.apache.org/jira/browse/FLINK-6943</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Exception message seems to be inexact. &lt;br/&gt;
Also if there is no SAM, sam would be null upon returning from the method.&lt;/p&gt;

&lt;p&gt;The suggestion from a review was to change the message and add a check (for null sam) prior to returning.&lt;/p&gt;

&lt;p&gt;Another suggestion is to check if the given method is an interface, as only for interface it is possible to pass lambda.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13080728">FLINK-6943</key>
            <summary>Improve exceptions within TypeExtractionUtils#getSingleAbstractMethod</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dwysakowicz">Dawid Wysakowicz</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jun 2017 07:37:39 +0000</created>
                <updated>Thu, 28 Feb 2019 13:20:41 +0000</updated>
                            <resolved>Sun, 25 Jun 2017 06:55:42 +0000</resolved>
                                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16053674" author="githubbot" created="Mon, 19 Jun 2017 09:14:44 +0000"  >&lt;p&gt;GitHub user dawidwys opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6943&quot; title=&quot;Improve exceptions within TypeExtractionUtils#getSingleAbstractMethod&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6943&quot;&gt;&lt;del&gt;FLINK-6943&lt;/del&gt;&lt;/a&gt; Improve exceptions within TypeExtractionUtils#getSingleA&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;bstractMethod&lt;/p&gt;

&lt;p&gt;    Thanks for contributing to Apache Flink. Before you open your pull request, please take the following check list into consideration.&lt;br/&gt;
    If your changes take all of the items into account, feel free to open your pull request. For more information and/or questions please refer to the &lt;span class=&quot;error&quot;&gt;&amp;#91;How To Contribute guide&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://flink.apache.org/how-to-contribute.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://flink.apache.org/how-to-contribute.html&lt;/a&gt;).&lt;br/&gt;
    In addition to going through the list, please provide a meaningful description of your changes.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] General&lt;/li&gt;
	&lt;li&gt;The pull request references the related JIRA issue (&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;FLINK-XXX&amp;#93;&lt;/span&gt; Jira title text&quot;)&lt;/li&gt;
	&lt;li&gt;The pull request addresses only one issue&lt;/li&gt;
	&lt;li&gt;Each commit in the PR has a meaningful commit message (including the JIRA id)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Documentation&lt;/li&gt;
	&lt;li&gt;Documentation has been added for new functionality&lt;/li&gt;
	&lt;li&gt;Old documentation affected by the pull request has been updated&lt;/li&gt;
	&lt;li&gt;JavaDoc for public methods has been added&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Tests &amp;amp; Build&lt;/li&gt;
	&lt;li&gt;Functionality added by the pull request is covered by tests&lt;/li&gt;
	&lt;li&gt;`mvn clean verify` has been executed successfully locally or a Travis build has passed&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dawidwys/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dawidwys/flink&lt;/a&gt; flink6943&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4140&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 316afb3085486186a098b4aa9607a0b269a5312b&lt;br/&gt;
Author: Dawid Wysakowicz &amp;lt;dwysakowicz@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-06-19T07:38:25Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6943&quot; title=&quot;Improve exceptions within TypeExtractionUtils#getSingleAbstractMethod&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6943&quot;&gt;&lt;del&gt;FLINK-6943&lt;/del&gt;&lt;/a&gt; Improve exceptions within TypeExtractionUtils#getSingleAbstractMethod&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16053993" author="githubbot" created="Mon, 19 Jun 2017 13:34:42 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140#discussion_r122707710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140#discussion_r122707710&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/java/typeutils/TypeExtractionUtils.java &amp;#8212;&lt;br/&gt;
    @@ -215,22 +215,33 @@ public static Type extractTypeArgument(Type t, int index) throws InvalidTypesExc&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Extracts a Single Abstract Method (SAM) as defined in Java Specification (4.3.2. The Class Object,&lt;/li&gt;
	&lt;li&gt;9.8 Functional Interfaces, 9.4.3 Interface Method Body) from given class.&lt;br/&gt;
     	 *&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @param baseClass&lt;/li&gt;
	&lt;li&gt;* @throws InvalidTypesException if the given class does not implement&lt;/li&gt;
	&lt;li&gt;* @return&lt;br/&gt;
    +	 * @param baseClass a class that is a FunctionalInterface to retrieve a SAM from&lt;br/&gt;
    +	 * @throws InvalidTypesException if the given class does not implement FunctionalInterface&lt;br/&gt;
    +	 * @return single abstract method of the given class&lt;br/&gt;
     	 */&lt;br/&gt;
     	public static Method getSingleAbstractMethod(Class&amp;lt;?&amp;gt; baseClass) {&lt;br/&gt;
    +&lt;br/&gt;
    +		if (!baseClass.isInterface()) {&lt;br/&gt;
    +			throw new InvalidTypesException(&quot;FunctionalInterface must be an interface&quot;);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Shouldn&apos;t this say &quot;Given class ... must be an interface.&quot;?&lt;/p&gt;</comment>
                            <comment id="16054005" author="githubbot" created="Mon, 19 Jun 2017 13:38:59 +0000"  >&lt;p&gt;Github user dawidwys commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140#discussion_r122708789&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140#discussion_r122708789&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/java/typeutils/TypeExtractionUtils.java &amp;#8212;&lt;br/&gt;
    @@ -215,22 +215,33 @@ public static Type extractTypeArgument(Type t, int index) throws InvalidTypesExc&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Extracts a Single Abstract Method (SAM) as defined in Java Specification (4.3.2. The Class Object,&lt;/li&gt;
	&lt;li&gt;9.8 Functional Interfaces, 9.4.3 Interface Method Body) from given class.&lt;br/&gt;
     	 *&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @param baseClass&lt;/li&gt;
	&lt;li&gt;* @throws InvalidTypesException if the given class does not implement&lt;/li&gt;
	&lt;li&gt;* @return&lt;br/&gt;
    +	 * @param baseClass a class that is a FunctionalInterface to retrieve a SAM from&lt;br/&gt;
    +	 * @throws InvalidTypesException if the given class does not implement FunctionalInterface&lt;br/&gt;
    +	 * @return single abstract method of the given class&lt;br/&gt;
     	 */&lt;br/&gt;
     	public static Method getSingleAbstractMethod(Class&amp;lt;?&amp;gt; baseClass) {&lt;br/&gt;
    +&lt;br/&gt;
    +		if (!baseClass.isInterface()) {&lt;br/&gt;
    +			throw new InvalidTypesException(&quot;FunctionalInterface must be an interface&quot;);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Yes and no, I would say. Given class must be a FunctionalInterface which implies it has to be an interface. If you feel. How about such a message: &quot;Given class must be a FunctionalInterface which implies it has to be an interface.&quot;?&lt;/p&gt;</comment>
                            <comment id="16054025" author="githubbot" created="Mon, 19 Jun 2017 13:49:50 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140#discussion_r122711527&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140#discussion_r122711527&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/java/typeutils/TypeExtractionUtils.java &amp;#8212;&lt;br/&gt;
    @@ -215,22 +215,33 @@ public static Type extractTypeArgument(Type t, int index) throws InvalidTypesExc&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Extracts a Single Abstract Method (SAM) as defined in Java Specification (4.3.2. The Class Object,&lt;/li&gt;
	&lt;li&gt;9.8 Functional Interfaces, 9.4.3 Interface Method Body) from given class.&lt;br/&gt;
     	 *&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @param baseClass&lt;/li&gt;
	&lt;li&gt;* @throws InvalidTypesException if the given class does not implement&lt;/li&gt;
	&lt;li&gt;* @return&lt;br/&gt;
    +	 * @param baseClass a class that is a FunctionalInterface to retrieve a SAM from&lt;br/&gt;
    +	 * @throws InvalidTypesException if the given class does not implement FunctionalInterface&lt;br/&gt;
    +	 * @return single abstract method of the given class&lt;br/&gt;
     	 */&lt;br/&gt;
     	public static Method getSingleAbstractMethod(Class&amp;lt;?&amp;gt; baseClass) {&lt;br/&gt;
    +&lt;br/&gt;
    +		if (!baseClass.isInterface()) {&lt;br/&gt;
    +			throw new InvalidTypesException(&quot;FunctionalInterface must be an interface&quot;);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    My main concern is consistency with other exception messages; they all include the base class.&lt;/p&gt;

&lt;p&gt;    I would suggest &quot;... is not a FunctionalInterface.&quot;; i don&apos;t think we need the &quot;which implies...&quot; bit.&lt;/p&gt;</comment>
                            <comment id="16055730" author="githubbot" created="Tue, 20 Jun 2017 13:15:22 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1.&lt;/p&gt;</comment>
                            <comment id="16055762" author="githubbot" created="Tue, 20 Jun 2017 13:37:00 +0000"  >&lt;p&gt;Github user tedyu commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    lgtm&lt;/p&gt;</comment>
                            <comment id="16055796" author="githubbot" created="Tue, 20 Jun 2017 13:54:19 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    merging.&lt;/p&gt;</comment>
                            <comment id="16058994" author="githubbot" created="Thu, 22 Jun 2017 08:38:35 +0000"  >&lt;p&gt;Github user dawidwys commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zentol Are you still gonna merge it or shall I do it?&lt;/p&gt;</comment>
                            <comment id="16059017" author="githubbot" created="Thu, 22 Jun 2017 09:08:03 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;m preparing a big batch that I&apos;ll merge on the weekend. I have to re-use the pull request to get a proper run on travis, but during the week there&apos;s just too much going on.&lt;/p&gt;</comment>
                            <comment id="16059127" author="githubbot" created="Thu, 22 Jun 2017 10:31:27 +0000"  >&lt;p&gt;Github user dawidwys commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Great, thanks!&lt;/p&gt;</comment>
                            <comment id="16062240" author="githubbot" created="Sun, 25 Jun 2017 06:46:02 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4140&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16062251" author="zentol" created="Sun, 25 Jun 2017 06:55:42 +0000"  >&lt;p&gt;1.4: 2274bf74f0ac84fdcf6a6109426ada3c61b4454e&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gfen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>