<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:22:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3500] ExecutionGraphRestartTest testFailingExecutionAfterRestart fails</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3500</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/111530180/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/111530180/log.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://s3.amazonaws.com/flink-logs-us/travis-artifacts/uce/flink/951/951.5.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/flink-logs-us/travis-artifacts/uce/flink/951/951.5.tar.gz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Logs are short enough to show here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;================================================================================
Test testFailingExecutionAfterRestart(org.apache.flink.runtime.executiongraph.ExecutionGraphRestartTest) is running.
--------------------------------------------------------------------------------
17:00:11,101 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task1 (1/1) (c98ff1e5f32dc7ef02ef2feddd57e143) switched from CREATED to SCHEDULED
17:00:11,101 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task1 (1/1) (c98ff1e5f32dc7ef02ef2feddd57e143) switched from SCHEDULED to DEPLOYING
17:00:11,101 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Deploying Task1 (1/1) (attempt #0) to localhost
17:00:11,101 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task2 (1/1) (c2187a5f2405d431610198fda246c57b) switched from CREATED to SCHEDULED
17:00:11,101 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task2 (1/1) (c2187a5f2405d431610198fda246c57b) switched from SCHEDULED to DEPLOYING
17:00:11,101 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Deploying Task2 (1/1) (attempt #0) to localhost
17:00:11,102 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task1 (1/1) (c98ff1e5f32dc7ef02ef2feddd57e143) switched from DEPLOYING to FINISHED
17:00:11,102 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task2 (1/1) (c2187a5f2405d431610198fda246c57b) switched from DEPLOYING to FAILED
17:00:11,102 INFO  org.apache.flink.runtime.executiongraph.restart.FixedDelayRestartStrategy  - Delaying retry of job execution &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 1000 ms ...
17:00:12,103 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task1 (1/1) (aea6a5fe9302f715b1f94b24c24b3881) switched from CREATED to SCHEDULED
17:00:12,103 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task1 (1/1) (aea6a5fe9302f715b1f94b24c24b3881) switched from SCHEDULED to DEPLOYING
17:00:12,103 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Deploying Task1 (1/1) (attempt #1) to localhost
17:00:12,104 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task1 (1/1) (aea6a5fe9302f715b1f94b24c24b3881) switched from DEPLOYING to RUNNING
17:00:12,104 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task2 (1/1) (a4a0440bf8dd6c34153684f56321314f) switched from CREATED to SCHEDULED
17:00:12,104 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task2 (1/1) (a4a0440bf8dd6c34153684f56321314f) switched from SCHEDULED to DEPLOYING
17:00:12,104 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Deploying Task2 (1/1) (attempt #1) to localhost
17:00:12,204 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task1 (1/1) (aea6a5fe9302f715b1f94b24c24b3881) switched from RUNNING to FAILED
17:00:12,204 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task2 (1/1) (a4a0440bf8dd6c34153684f56321314f) switched from DEPLOYING to CANCELING
17:00:12,205 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Task2 (1/1) (a4a0440bf8dd6c34153684f56321314f) switched from CANCELING to CANCELED
17:00:12,212 ERROR org.apache.flink.runtime.executiongraph.ExecutionGraphRestartTest  - 
--------------------------------------------------------------------------------
Test testFailingExecutionAfterRestart(org.apache.flink.runtime.executiongraph.ExecutionGraphRestartTest) failed with:
java.lang.AssertionError: expected:&amp;lt;FINISHED&amp;gt; but was:&amp;lt;FAILED&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.flink.runtime.executiongraph.ExecutionGraphRestartTest.testFailingExecutionAfterRestart(ExecutionGraphRestartTest.java:485)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The changes in the branch are unrelated (affect only checkpoints stored in ZooKeeper).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12943019">FLINK-3500</key>
            <summary>ExecutionGraphRestartTest testFailingExecutionAfterRestart fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="uce">Ufuk Celebi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Feb 2016 17:37:58 +0000</created>
                <updated>Wed, 24 Feb 2016 23:06:45 +0000</updated>
                            <resolved>Wed, 24 Feb 2016 23:06:36 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15163388" author="uce" created="Wed, 24 Feb 2016 17:39:05 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3490&quot; title=&quot;Bump Chill version to 0.7.4&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3490&quot;&gt;&lt;del&gt;FLINK-3490&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/111430847/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/111430847/log.txt&lt;/a&gt; and &lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/111430729/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/111430729/log.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15163586" author="githubbot" created="Wed, 24 Feb 2016 19:43:35 +0000"  >&lt;p&gt;GitHub user uce opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1708&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3500&quot; title=&quot;ExecutionGraphRestartTest testFailingExecutionAfterRestart fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3500&quot;&gt;&lt;del&gt;FLINK-3500&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;test&amp;#93;&lt;/span&gt; Fix possible instability in ExecutionGraphRestartTest&lt;/p&gt;

&lt;p&gt;    After restart of the execution graph, the test driver waits for the graph to assign the new executions in a loop. If `switchToRunning()` is called multiple times in this loop, the job is canceled. This could happen, if one execution had its resource assigned and called `switchToRunning()`, but the other didn&apos;t. In this case, the complete loop was retried and `switchToRunning()` was called again.&lt;/p&gt;

&lt;p&gt;    At least, that is the only explanation I could come up with.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/uce/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/flink&lt;/a&gt; 3500-graph_test&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1708.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1708.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1708&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5b2a9a8f81843adc8a958ea16417ad46f776afa6&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-02-24T19:39:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3500&quot; title=&quot;ExecutionGraphRestartTest testFailingExecutionAfterRestart fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3500&quot;&gt;&lt;del&gt;FLINK-3500&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;test&amp;#93;&lt;/span&gt; Fix possible instability in ExecutionGraphRestartTest&lt;/p&gt;

&lt;p&gt;    After restart of the execution graph, the test driver waits for the&lt;br/&gt;
    graph to assign the new executions in a loop. If switchToRunning()&lt;br/&gt;
    is called multiple times in this loop, the job is canceled. This&lt;br/&gt;
    could happen, if one execution had its resource assigned and called&lt;br/&gt;
    switchToRunning(), but the other didn&apos;t. In this case, the complete&lt;br/&gt;
    loop was retried and switchToRunning() was called again.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15165695" author="githubbot" created="Wed, 24 Feb 2016 23:05:03 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1708#issuecomment-188502605&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1708#issuecomment-188502605&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Build passes and changes are local to a test. I&apos;m going forward and merging this.&lt;/p&gt;</comment>
                            <comment id="15165697" author="uce" created="Wed, 24 Feb 2016 23:06:36 +0000"  >&lt;p&gt;Fixed in e811e6e.&lt;/p&gt;</comment>
                            <comment id="15165698" author="githubbot" created="Wed, 24 Feb 2016 23:06:45 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1708&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2thsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>