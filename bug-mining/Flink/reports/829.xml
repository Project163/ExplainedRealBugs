<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:22:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3400] RocksDB Backend does not work when not in Flink lib folder</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3400</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The problem is that the external process runner cannot load the &lt;tt&gt;HDFSCopyFromLocal&lt;/tt&gt; and &lt;tt&gt;HDFSCopyToLocal&lt;/tt&gt; classes when the rocksdb backend jar is not in the Flink lib folder. If rocksdb is only in the user-code jar the code cannot be loaded when trying to start the external copy runners.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12939248">FLINK-3400</key>
            <summary>RocksDB Backend does not work when not in Flink lib folder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="aljoscha">Aljoscha Krettek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Feb 2016 11:08:11 +0000</created>
                <updated>Thu, 28 Feb 2019 11:15:44 +0000</updated>
                            <resolved>Wed, 17 Feb 2016 16:46:25 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15147323" author="aljoscha" created="Mon, 15 Feb 2016 13:02:23 +0000"  >&lt;p&gt;I see two possibilities for solving this:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Move the utilities to a package that is always in the classpath anyways. Candidates would be &lt;tt&gt;flink-core&lt;/tt&gt;, &lt;tt&gt;flink-runtime&lt;/tt&gt; or &lt;tt&gt;flink-streaming-java&lt;/tt&gt;. I would gravitate towards &lt;tt&gt;flink-streaming-java&lt;/tt&gt; here.&lt;/li&gt;
	&lt;li&gt;Figure out how to get the path to the user-code jar/jars and add that to the classpath of the started external process. Are the user-code jars always available in a directory on the machine where a Task is running.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think I&apos;ll go with option 1) move to &lt;tt&gt;flink-streaming-java&lt;/tt&gt;. But what do others think?&lt;/p&gt;</comment>
                            <comment id="15148827" author="githubbot" created="Tue, 16 Feb 2016 15:50:42 +0000"  >&lt;p&gt;GitHub user aljoscha opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1644&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3400&quot; title=&quot;RocksDB Backend does not work when not in Flink lib folder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3400&quot;&gt;&lt;del&gt;FLINK-3400&lt;/del&gt;&lt;/a&gt; Move RocksDB Copy Utils to flink-streaming-java&lt;/p&gt;

&lt;p&gt;    They are not specific to RocksDB, just utilities for copying local&lt;br/&gt;
    folders to/from HDFS. Moving them to flink-streaming-java means that&lt;br/&gt;
    they are always in the classpath of the TaskManager, not only in the&lt;br/&gt;
    user-code jar when using RocksDB. If they are only in the user-code jar&lt;br/&gt;
    the external process runner cannot find the class files, leading to&lt;br/&gt;
    ClassNotFoundExceptions.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aljoscha/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/flink&lt;/a&gt; rocksdb-fix-copy-utils&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1644.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1644.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1644&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 6dfdf5d643d9df2598b25f61134e24ab37ecb7df&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-02-15T12:57:15Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3400&quot; title=&quot;RocksDB Backend does not work when not in Flink lib folder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3400&quot;&gt;&lt;del&gt;FLINK-3400&lt;/del&gt;&lt;/a&gt; Move RocksDB Copy Utils to flink-streaming-java&lt;/p&gt;

&lt;p&gt;    They are not specific to RocksDB, just utilities for copying local&lt;br/&gt;
    folders to/from HDFS. Moving them to flink-streaming-java means that&lt;br/&gt;
    they are always in the classpath of the TaskManager, not only in the&lt;br/&gt;
    user-code jar when using RocksDB. If they are only in the user-code jar&lt;br/&gt;
    the external process runner cannot find the class files, leading to&lt;br/&gt;
    ClassNotFoundExceptions.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15149394" author="githubbot" created="Tue, 16 Feb 2016 21:59:46 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1644#issuecomment-184891874&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1644#issuecomment-184891874&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, +1 to merge this&lt;/p&gt;</comment>
                            <comment id="15150745" author="githubbot" created="Wed, 17 Feb 2016 16:38:22 +0000"  >&lt;p&gt;Github user aljoscha closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1644&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15150765" author="aljoscha" created="Wed, 17 Feb 2016 16:46:25 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;https://github.com/apache/flink/commit/c97a63e3a5589e0a1040f67c81eb6e4e8ccde0ff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/c97a63e3a5589e0a1040f67c81eb6e4e8ccde0ff&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2sukf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>