<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:18:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-32809] YarnClusterDescriptor.isarchiveonlyincludedinShipArchiveFiles dose not work as expected</title>
                <link>https://issues.apache.org/jira/browse/FLINK-32809</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;YarnClusterDescriptor.isarchiveonlyincludedinShipArchiveFiles(List&amp;lt;File&amp;gt; shipFiles) check wether the shipFiles are all archive files, but it dose not work as expected.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isArchiveOnlyIncludedInShipArchiveFiles(List&amp;lt;File&amp;gt; shipFiles) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; shipFiles.stream()
            .filter(File::isFile)
            .map(File::getName)
            .map(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;::toLowerCase)
            .allMatch(
                    name -&amp;gt;
                            name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.tar.gz&quot;&lt;/span&gt;)
                                    || name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.tar&quot;&lt;/span&gt;)
                                    || name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.tgz&quot;&lt;/span&gt;)
                                    || name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.dst&quot;&lt;/span&gt;)
                                    || name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.jar&quot;&lt;/span&gt;)
                                    || name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.zip&quot;&lt;/span&gt;));
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When we pass a directory and an archive file it should return false but it returns true.&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// dir1 is a directory and archive.zip is an archive file
&lt;/span&gt;List&amp;lt;File&amp;gt; files = Arrays.asList(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/dir1&quot;&lt;/span&gt;), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/archive.zip&quot;&lt;/span&gt;)); 
&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; result = isArchiveOnlyIncludedInShipArchiveFiles(files);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(result); &lt;span class=&quot;code-comment&quot;&gt;// Print &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; but is should print &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If flink user want to add directory as ship file, they should use configuration: yarn.ship-files .&lt;/p&gt;</description>
                <environment></environment>
        <key id="13546518">FLINK-32809</key>
            <summary>YarnClusterDescriptor.isarchiveonlyincludedinShipArchiveFiles dose not work as expected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="easonqin">junzhong qin</assignee>
                                    <reporter username="easonqin">junzhong qin</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 8 Aug 2023 11:13:54 +0000</created>
                <updated>Fri, 11 Aug 2023 04:52:33 +0000</updated>
                            <resolved>Fri, 11 Aug 2023 04:52:33 +0000</resolved>
                                    <version>1.18.0</version>
                                    <fixVersion>1.18.0</fixVersion>
                                    <component>Deployment / YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17752007" author="fanrui" created="Tue, 8 Aug 2023 11:18:19 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=easonqin&quot; class=&quot;user-hover&quot; rel=&quot;easonqin&quot;&gt;easonqin&lt;/a&gt; report this bug!&lt;/p&gt;

&lt;p&gt;`isArchiveOnlyIncludedInShipArchiveFiles` should return false once the file isn&apos;t ArchiveFile, so it should return false if ShipArchiveFile isn&apos;t file.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If flink user wants to add directory as ship file, they should use configuration: yarn.ship-files .&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17753044" author="fanrui" created="Fri, 11 Aug 2023 04:52:23 +0000"  >&lt;p&gt;Thanks for the contribution! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Merged via &amp;lt;master:1.18&amp;gt; ac85945947e11b2278c9fcdb24a6a6d695621ac4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jnmw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>