<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:50:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19022] AkkaRpcActor failed to start but no exception information</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19022</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;My job appeared that JM could not start normally, and the JM container was finally killed by RM.&lt;/p&gt;

&lt;p&gt;In the end, I found through debug that AkkaRpcActor failed to start because the version of yarn in my job was incompatible with the version in the cluster.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/blob/478c9657fe1240acdc1eb08ad32ea93e08b0cd5e/flink-runtime/src/main/java/org/apache/flink/runtime/rpc/akka/AkkaRpcActor.java#L550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;AkkaRpcActor exception handling&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I add log printing here&#65292;and then found the specific problem.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-08-21 21:31:16,985 ERROR org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-4]  - Could not start RpcEndpoint resourcemanager.
java.lang.NoSuchMethodError: org.apache.hadoop.yarn.api.ApplicationMasterProtocolPB.registerApplicationMaster(Lcom/google/protobuf/RpcController;Lorg/apache/hadoop/yarn/proto/YarnServiceProtos$RegisterApplicationMasterRequestProto;)Lorg/apache/hadoop/yarn/proto/YarnServiceProtos$RegisterApplicationMasterResponseProto;
	at org.apache.hadoop.yarn.api.impl.pb.client.ApplicationMasterProtocolPBClientImpl.registerApplicationMaster(ApplicationMasterProtocolPBClientImpl.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:191)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)
	at com.sun.proxy.$Proxy25.registerApplicationMaster(Unknown Source)
	at org.apache.hadoop.yarn.client.api.impl.AMRMClientImpl.registerApplicationMaster(AMRMClientImpl.java:222)
	at org.apache.hadoop.yarn.client.api.impl.AMRMClientImpl.registerApplicationMaster(AMRMClientImpl.java:214)
	at org.apache.hadoop.yarn.client.api.async.impl.AMRMClientAsyncImpl.registerApplicationMaster(AMRMClientAsyncImpl.java:138)
	at org.apache.flink.yarn.YarnResourceManager.createAndStartResourceManagerClient(YarnResourceManager.java:229)
	at org.apache.flink.yarn.YarnResourceManager.initialize(YarnResourceManager.java:262)
	at org.apache.flink.runtime.resourcemanager.ResourceManager.startResourceManagerServices(ResourceManager.java:204)
	at org.apache.flink.runtime.resourcemanager.ResourceManager.onStart(ResourceManager.java:192)
	at org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:185)
	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.start(AkkaRpcActor.java:544)
	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleControlMessage(AkkaRpcActor.java:169)
	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)
	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)
	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:123)
	at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)
	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)
	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:517)
	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)
	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)
	at akka.actor.ActorCell.invoke(ActorCell.scala:561)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)
	at akka.dispatch.Mailbox.run(Mailbox.scala:225)
	at akka.dispatch.Mailbox.exec(Mailbox.scala:235)
	at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
	at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should we add logs here to help find problems?&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
 &lt;a href=&quot;http://dict.youdao.com/search?q=http&amp;amp;keyfrom=chrome.extension&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&#160;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13323964">FLINK-19022</key>
            <summary>AkkaRpcActor failed to start but no exception information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tartarus">tartarus</assignee>
                                    <reporter username="tartarus">tartarus</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 21 Aug 2020 14:00:11 +0000</created>
                <updated>Tue, 20 Oct 2020 21:03:59 +0000</updated>
                            <resolved>Tue, 20 Oct 2020 21:03:59 +0000</resolved>
                                    <version>1.10.0</version>
                    <version>1.11.1</version>
                    <version>1.12.0</version>
                                    <fixVersion>1.10.3</fixVersion>
                    <fixVersion>1.11.3</fixVersion>
                    <fixVersion>1.12.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17181911" author="tartarus" created="Fri, 21 Aug 2020 14:04:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&#160;&#160;How about adding log printing here to help quickly find the problem?&lt;/p&gt;

&lt;p&gt;Please assign to me, thanks&lt;/p&gt;</comment>
                            <comment id="17183029" author="till.rohrmann" created="Mon, 24 Aug 2020 07:58:55 +0000"  >&lt;p&gt;Thanks for reporting this issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tartarus&quot; class=&quot;user-hover&quot; rel=&quot;tartarus&quot;&gt;tartarus&lt;/a&gt;. I agree that this is a problem. Could you share the logs with us? I would like to learn why the RM is shutting down the container eventually.&lt;/p&gt;

&lt;p&gt;Concerning the problem: One problem is that &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/ResourceManager.java#L212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/ResourceManager.java#L212&lt;/a&gt; only catches &lt;tt&gt;Exception&lt;/tt&gt; instead of &lt;tt&gt;Throwable&lt;/tt&gt;. The same actually applies to &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/ResourceManager.java#L248&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/master/flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/ResourceManager.java#L248&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The other problem is as you&apos;ve mentioned that the &lt;tt&gt;AkkaRpcActor&lt;/tt&gt; does not log the failure cause in case of failed start or shut down attempt. I think it would be a good improvement to add the logs in these places.&lt;/p&gt;

&lt;p&gt;Last but not least, I believe that the &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt; should also react if either of the &lt;tt&gt;Dispatcher&lt;/tt&gt; or &lt;tt&gt;ResourceManager&lt;/tt&gt; component failed during the start up. One way to do it, is to combine the termination futures &lt;tt&gt;Dispatcher.getTerminationFuture&lt;/tt&gt; and &lt;tt&gt;ResourceManager.getTerminationFuture&lt;/tt&gt; into the &lt;tt&gt;shutDownFuture&lt;/tt&gt; of the &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17183122" author="tartarus" created="Mon, 24 Aug 2020 10:00:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&#160;thanks for your reply.&lt;/p&gt;

&lt;p&gt;Sorry, my description is not very clear.&lt;/p&gt;

&lt;p&gt;RM shutting down the container because the failed happen on &lt;tt&gt;AMRMClientAsyncImpl#registerApplicationMaster, so JM not registed to RM yet.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/blob/b4705edc841a8cf380d9a12d71551a4d38ec9e31/flink-yarn/src/main/java/org/apache/flink/yarn/YarnResourceManager.java#L223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/b4705edc841a8cf380d9a12d71551a4d38ec9e31/flink-yarn/src/main/java/org/apache/flink/yarn/YarnResourceManager.java#L223&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;beacause&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/blob/b4705edc841a8cf380d9a12d71551a4d38ec9e31/flink-yarn/src/main/java/org/apache/flink/yarn/YarnResourceManager.java#L280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/b4705edc841a8cf380d9a12d71551a4d38ec9e31/flink-yarn/src/main/java/org/apache/flink/yarn/YarnResourceManager.java#L280&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;here only catch &lt;tt&gt;Exception&lt;/tt&gt; but my case is a &lt;tt&gt;Error&lt;/tt&gt; ,&#160; &lt;tt&gt;NoSuchMethodError&lt;/tt&gt;&#160;&lt;/p&gt;

&lt;p&gt;From the current code logic, only &lt;tt&gt;AkkaRpcActor.StoppedState#start&lt;/tt&gt; catch the&#160;throwable, but not print log, so we miss the error message.&lt;/p&gt;</comment>
                            <comment id="17183136" author="tartarus" created="Mon, 24 Aug 2020 10:18:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&#160;do your means is add &lt;tt&gt;TerminationFuture&lt;/tt&gt; for&#160;&lt;tt&gt;ResourceManager&lt;/tt&gt; and register to &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt; like this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void registerShutDownFuture() {
   FutureUtils.forward(dispatcherRunner.getShutDownFuture(), shutDownFuture);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17183204" author="till.rohrmann" created="Mon, 24 Aug 2020 12:27:37 +0000"  >&lt;p&gt;Well, the idea was that the &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt; must somehow react if one of the component shuts unexpectedly down. For example, one could monitor the termination futures of the &lt;tt&gt;ResourceManager&lt;/tt&gt; and the &lt;tt&gt;Dispatcher&lt;/tt&gt; and call a yet to be passed in &lt;tt&gt;FatalErrorHandler&lt;/tt&gt; if they terminate while the &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt; is still &lt;tt&gt;isRunning&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17183295" author="tartarus" created="Mon, 24 Aug 2020 13:42:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&#160; I agree with you.&lt;/p&gt;

&lt;p&gt;If we do, then 3 questions need to be confirmed:&lt;/p&gt;

&lt;p&gt;1) We may need to catch &lt;tt&gt;Throwable in&#160;&lt;/tt&gt;&lt;tt&gt;ResourceManager&lt;/tt&gt; and &lt;tt&gt;Dispatcher&lt;/tt&gt;;&lt;/p&gt;

&lt;p&gt;2)We call FatalErrorHandler directly in ResourceManager and Dispatcher or&#160; terminate through DispatcherResourceManagerComponent;&lt;/p&gt;

&lt;p&gt;3)If&#160;terminate through DispatcherResourceManagerComponent, we need register both&#160;&lt;tt&gt;TerminationFuture&lt;/tt&gt;&#160; to&#160;DispatcherResourceManagerComponent;&lt;/p&gt;

&lt;p&gt;Is there anything else that needs attention?&lt;/p&gt;</comment>
                            <comment id="17183768" author="till.rohrmann" created="Tue, 25 Aug 2020 06:40:07 +0000"  >&lt;p&gt;Yes, for 3) we also need to pass a &lt;tt&gt;FatalErrorHandler&lt;/tt&gt; to the &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;And I would say that we add 4) logging to the &lt;tt&gt;AkkaRpcActor.StartedState.terminate&lt;/tt&gt; and &lt;tt&gt;AkkaRpcActor.StoppedState.start&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17184921" author="tartarus" created="Wed, 26 Aug 2020 04:14:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; I want to confirm the little details.&lt;/p&gt;

&lt;p&gt;we pass a&#160;&lt;tt&gt;FatalErrorHandler&lt;/tt&gt;&#160;to the&#160;&lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt;, and then we need to remove&#160;&lt;tt&gt;FatalErrorHandler&lt;/tt&gt; from &lt;tt&gt;ResourceManager&lt;/tt&gt; and &lt;tt&gt;Dispatcher&lt;/tt&gt;?&lt;/p&gt;

&lt;p&gt;Just register the &lt;tt&gt;TerminationFuture&lt;/tt&gt; of &lt;tt&gt;ResourceManager&lt;/tt&gt; and &lt;tt&gt;Dispatcher&lt;/tt&gt; to&#160;&lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17184982" author="till.rohrmann" created="Wed, 26 Aug 2020 07:09:52 +0000"  >&lt;p&gt;No, we don&apos;t remove the &lt;tt&gt;FatalErrorHandler&lt;/tt&gt; from the &lt;tt&gt;Dispatcher&lt;/tt&gt; and the &lt;tt&gt;ResourceManager&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;In the &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt; we should react to the termination future of the &lt;tt&gt;Dispatcher&lt;/tt&gt; and &lt;tt&gt;ResourceManager&lt;/tt&gt; in such a way that we call the fatal error handler if either of them completes while the &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt; is still running (not closing).&lt;/p&gt;</comment>
                            <comment id="17185142" author="tartarus" created="Wed, 26 Aug 2020 12:15:34 +0000"  >&lt;p&gt;ok&#65292;I will try to complete this issue as soon as possible&lt;/p&gt;</comment>
                            <comment id="17187201" author="tartarus" created="Sun, 30 Aug 2020 12:37:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&#160;hello, I have one&#160;questions need to be confirmed when I do this work:&lt;/p&gt;

&lt;p&gt;1) &lt;tt&gt;ResourceManager.getTerminationFuture&lt;/tt&gt; has been implemented in &lt;tt&gt;RpcEndpoint&lt;/tt&gt;;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
 * Return a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; which is completed with &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; when the rpc endpoint has been terminated.
 * In &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; of a failure, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; is completed with the occurring exception.
 *
 * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Future which is completed when the rpc endpoint has been terminated.
 */
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; CompletableFuture&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt;&amp;gt; getTerminationFuture() {
	&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; rpcServer.getTerminationFuture();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;how about we add a &lt;tt&gt;terminationFuture&lt;/tt&gt; to &lt;tt&gt;ResourceManager&lt;/tt&gt; and register current &lt;tt&gt;ResourceManager.getTerminationFuture&lt;/tt&gt; with &lt;tt&gt;terminationFuture&lt;/tt&gt;?&lt;br/&gt;
and then if  &lt;tt&gt;ResourceManager&lt;/tt&gt; started fail we call completeExceptionally to complete &lt;tt&gt;terminationFuture&lt;/tt&gt;.&lt;br/&gt;
at last we register this &lt;tt&gt;terminationFuture&lt;/tt&gt; with &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt;&apos;s &lt;tt&gt;shutDownFuture&lt;/tt&gt;.&lt;/p&gt;
</comment>
                            <comment id="17187499" author="till.rohrmann" created="Mon, 31 Aug 2020 06:59:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tartarus&quot; class=&quot;user-hover&quot; rel=&quot;tartarus&quot;&gt;tartarus&lt;/a&gt; this is what the underlying &lt;tt&gt;AkkaRpcActor&lt;/tt&gt; should already do for us. So there should be no need to add another &lt;tt&gt;terminationFuture&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17189152" author="tartarus" created="Wed, 2 Sep 2020 11:02:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; sorry , There is another question to confirm.&lt;br/&gt;
if we catch Throwable in &lt;tt&gt;ResourceManager&lt;/tt&gt; and &lt;tt&gt;Dispatcher&lt;/tt&gt;, then they will call &lt;tt&gt;fatalErrorHandler.onFatalError(throwable);&lt;/tt&gt;&lt;br/&gt;
this method will call &lt;tt&gt;ClusterEntrypoint.onFatalError()&lt;/tt&gt;, then it is necessary to register &lt;tt&gt;terminationFuture&lt;/tt&gt; with &lt;tt&gt;DispatcherResourceManagerComponent&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="17189286" author="till.rohrmann" created="Wed, 2 Sep 2020 14:53:53 +0000"  >&lt;p&gt;I think we should do both things in order to be on the safe side.&lt;/p&gt;</comment>
                            <comment id="17217937" author="till.rohrmann" created="Tue, 20 Oct 2020 21:03:59 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;1.12.0:&lt;br/&gt;
806b9f332efe86926d26861e64b528e4c6ce1cd6&lt;br/&gt;
9e31510df66b508e28ab19ff8cf024c02ec423b1&lt;br/&gt;
11a4232a9218841c2b01bc3a53cadfd318c59813&lt;br/&gt;
b813c99afa0fb1130af0a48c4879c9c3f0d6dfb4&lt;br/&gt;
0ff7d7a6ddf28237797ff1c9ed6fc525a9245d90&lt;/p&gt;

&lt;p&gt;1.11.3:&lt;br/&gt;
027b143aa7228099227e01b1d08167d20183c86b&lt;br/&gt;
4fc6afa95a395b5c75cd783f9dd2f533bab6f931&lt;br/&gt;
58942fe6a3abe5ba167c167ecad464764dce6d36&lt;br/&gt;
9a0281b70ad1246ee532b11b602f042ff432bd59&lt;br/&gt;
e501de03ba8311811a4a613a1f862e87e5becbc6&lt;/p&gt;

&lt;p&gt;1.10.3:&lt;br/&gt;
26344b2aa173c6ef70da5dc18f16525d99ad8a98&lt;br/&gt;
e0b4de2bd1bfe9e5129750b4431da6dce26f516d&lt;br/&gt;
2c6bef2639d8cd188e44c915f9d0f4a4fc4f70a2&lt;br/&gt;
4ffc99ce07fb4be57ee4f5ff291c6b5780df729d&lt;br/&gt;
9fe6c782ab92d77b4d8f3ee44519db22806449c3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hzio:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>