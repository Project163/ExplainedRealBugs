<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:58:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23057] flink-console.sh doesn&apos;t do variable expansion for FLINK_ENV_JAVA_OPTS like flink-daemon.sh</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23057</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In flink-deamon.sh:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...

# Evaluate user options &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; local variable expansion
FLINK_ENV_JAVA_OPTS=$(eval echo ${FLINK_ENV_JAVA_OPTS})

echo &lt;span class=&quot;code-quote&quot;&gt;&quot;Starting $DAEMON daemon on host $HOSTNAME.&quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;$JAVA_RUN&quot;&lt;/span&gt; $JVM_ARGS ${FLINK_ENV_JAVA_OPTS} &lt;span class=&quot;code-quote&quot;&gt;&quot;${log_setting[@]}&quot;&lt;/span&gt; -classpath &lt;span class=&quot;code-quote&quot;&gt;&quot;`manglePathList &quot;&lt;/span&gt;$FLINK_TM_CLASSPATH:$INTERNAL_HADOOP_CLASSPATHS&lt;span class=&quot;code-quote&quot;&gt;&quot;`&quot;&lt;/span&gt; ${CLASS_TO_RUN} &lt;span class=&quot;code-quote&quot;&gt;&quot;${ARGS[@]}&quot;&lt;/span&gt; &amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;$out&quot;&lt;/span&gt; 200&amp;lt;&amp;amp;- 2&amp;gt;&amp;amp;1 &amp;lt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;

...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There is a &quot;$(eval echo ...)&quot; line, so variables like ${FLINK_LOG_PREFIX} in FLINK_ENV_JAVA_OPTS can be expanded, as described in &lt;a href=&quot;https://ci.apache.org/projects/flink/flink-docs-release-1.13/docs/ops/debugging/application_profiling/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.apache.org/projects/flink/flink-docs-release-1.13/docs/ops/debugging/application_profiling/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but flink-console.sh doesn&apos;t have the line, and as kubernetes-jobmanager.sh and kubernetes-taskmanager.sh all depend on flink-console.sh, so in native kubernetes application mode, variable expansion of FLINK_ENV_JAVA_OPTS is not working.&lt;/p&gt;

&lt;p&gt;Add that line to flink-console.sh sovles the problem, patch: &lt;a href=&quot;https://github.com/Zor-X-L/flink/commit/e09ba4400b4183e2486c3ef73b986473b7dbea9a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Zor-X-L/flink/commit/e09ba4400b4183e2486c3ef73b986473b7dbea9a&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13384817">FLINK-23057</key>
            <summary>flink-console.sh doesn&apos;t do variable expansion for FLINK_ENV_JAVA_OPTS like flink-daemon.sh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Zor_X_L">LIU Xiao</assignee>
                                    <reporter username="Zor_X_L">LIU Xiao</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 21 Jun 2021 09:03:54 +0000</created>
                <updated>Thu, 24 Jun 2021 13:18:14 +0000</updated>
                            <resolved>Thu, 24 Jun 2021 13:18:14 +0000</resolved>
                                    <version>1.13.1</version>
                    <version>1.12.4</version>
                                    <fixVersion>1.14.0</fixVersion>
                                    <component>Client / Job Submission</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17366954" author="fly_in_gis" created="Tue, 22 Jun 2021 02:54:37 +0000"  >&lt;p&gt;I think the changes make sense to me. Would you like to provide a PR for this ticket?&lt;/p&gt;</comment>
                            <comment id="17367058" author="zor_x_l" created="Tue, 22 Jun 2021 07:16:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fly_in_gis&quot; class=&quot;user-hover&quot; rel=&quot;fly_in_gis&quot;&gt;fly_in_gis&lt;/a&gt; PR created&lt;/p&gt;</comment>
                            <comment id="17368853" author="rmetzger" created="Thu, 24 Jun 2021 13:18:14 +0000"  >&lt;p&gt;Resolved in master &lt;a href=&quot;https://github.com/apache/flink/commit/4b62f214202d311b816e12ef60c82c640e12c4a0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/4b62f214202d311b816e12ef60c82c640e12c4a0&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0s4e8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>