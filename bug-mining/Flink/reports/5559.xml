<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:58:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-22462] JdbcExactlyOnceSinkE2eTest.testInsert failed because of too many clients.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-22462</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17178&amp;amp;view=logs&amp;amp;j=ba53eb01-1462-56a3-8e98-0dd97fbcaab5&amp;amp;t=bfbc6239-57a0-5db0-63f3-41551b4f7d51&amp;amp;l=13514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17178&amp;amp;view=logs&amp;amp;j=ba53eb01-1462-56a3-8e98-0dd97fbcaab5&amp;amp;t=bfbc6239-57a0-5db0-63f3-41551b4f7d51&amp;amp;l=13514&lt;/a&gt;&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Apr 25 23:05:31 [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 138.743 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.connector.jdbc.xa.JdbcExactlyOnceSinkE2eTest
Apr 25 23:05:31 [ERROR] testInsert(org.apache.flink.connector.jdbc.xa.JdbcExactlyOnceSinkE2eTest)  Time elapsed: 137.267 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
Apr 25 23:05:31 org.postgresql.util.PSQLException: FATAL: sorry, too many clients already
Apr 25 23:05:31 	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:524)
Apr 25 23:05:31 	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:145)
Apr 25 23:05:31 	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:196)
Apr 25 23:05:31 	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
Apr 25 23:05:31 	at org.postgresql.jdbc.PgConnection.&amp;lt;init&amp;gt;(PgConnection.java:211)
Apr 25 23:05:31 	at org.postgresql.Driver.makeConnection(Driver.java:459)
Apr 25 23:05:31 	at org.postgresql.Driver.connect(Driver.java:261)
Apr 25 23:05:31 	at java.sql.DriverManager.getConnection(DriverManager.java:664)
Apr 25 23:05:31 	at java.sql.DriverManager.getConnection(DriverManager.java:247)
Apr 25 23:05:31 	at org.apache.flink.connector.jdbc.xa.JdbcXaFacadeTestHelper.getInsertedIds(JdbcXaFacadeTestHelper.java:81)
Apr 25 23:05:31 	at org.apache.flink.connector.jdbc.xa.JdbcExactlyOnceSinkE2eTest.testInsert(JdbcExactlyOnceSinkE2eTest.java:119)
Apr 25 23:05:31 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13374968">FLINK-22462</key>
            <summary>JdbcExactlyOnceSinkE2eTest.testInsert failed because of too many clients.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roman">Roman Khachatryan</assignee>
                                    <reporter username="maguowei">Guowei Ma</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 26 Apr 2021 03:48:35 +0000</created>
                <updated>Thu, 23 Sep 2021 17:54:23 +0000</updated>
                            <resolved>Wed, 30 Jun 2021 09:07:03 +0000</resolved>
                                    <version>1.14.0</version>
                    <version>1.13.1</version>
                                    <fixVersion>1.14.0</fixVersion>
                    <fixVersion>1.13.2</fixVersion>
                                    <component>Connectors / JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17341724" author="maguowei" created="Mon, 10 May 2021 07:08:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17749&amp;amp;view=logs&amp;amp;j=961f8f81-6b52-53df-09f6-7291a2e4af6a&amp;amp;t=60581941-0138-53c0-39fe-86d62be5f407&amp;amp;l=13119&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=17749&amp;amp;view=logs&amp;amp;j=961f8f81-6b52-53df-09f6-7291a2e4af6a&amp;amp;t=60581941-0138-53c0-39fe-86d62be5f407&amp;amp;l=13119&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17348142" author="till.rohrmann" created="Thu, 20 May 2021 08:14:14 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=18130&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=03dca39c-73e8-5aaf-601d-328ae5c35f20&amp;amp;l=13457&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=18130&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=03dca39c-73e8-5aaf-601d-328ae5c35f20&amp;amp;l=13457&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17367083" author="roman_khachatryan" created="Tue, 22 Jun 2021 07:45:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=AHeise&quot; class=&quot;user-hover&quot; rel=&quot;AHeise&quot;&gt;AHeise&lt;/a&gt;&#160;could you please review the PR (&lt;a href=&quot;https://github.com/apache/flink/pull/15823)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/15823)?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17367718" author="roman_khachatryan" created="Tue, 22 Jun 2021 22:35:44 +0000"  >&lt;p&gt;Merged&lt;br/&gt;
into 1.13 as d14b5490badf31af64e0763c9d1111a728111a54..b2779de1536e38c369142b9fd4f66886d1af6d0e&lt;br/&gt;
into master as 95230f56fe2c5f320c4bd87860fdcc1ee753d24b..33ff046c79218897ab567dbe5aa85452d7d5dbdf&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ym&quot; class=&quot;user-hover&quot; rel=&quot;ym&quot;&gt;ym&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arvid&quot; class=&quot;user-hover&quot; rel=&quot;arvid&quot;&gt;arvid&lt;/a&gt; for reviewing.&lt;/p&gt;</comment>
                            <comment id="17368575" author="xintongsong" created="Thu, 24 Jun 2021 03:06:05 +0000"  >&lt;p&gt;Seems the problem still exist.&lt;/p&gt;

&lt;p&gt;Instance on master, with the previous fix included.&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19415&amp;amp;view=logs&amp;amp;j=e9af9cde-9a65-5281-a58e-2c8511d36983&amp;amp;t=b6c4efed-9c7d-55ea-03a9-9bd7d5b08e4c&amp;amp;l=13199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19415&amp;amp;view=logs&amp;amp;j=e9af9cde-9a65-5281-a58e-2c8511d36983&amp;amp;t=b6c4efed-9c7d-55ea-03a9-9bd7d5b08e4c&amp;amp;l=13199&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17368727" author="roman_khachatryan" created="Thu, 24 Jun 2021 09:23:05 +0000"  >&lt;p&gt;Reposting&#160;from &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-22889&quot; title=&quot;JdbcExactlyOnceSinkE2eTest.testInsert hangs on azure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-22889&quot;&gt;&lt;del&gt;FLINK-22889&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;1.13:&#160;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19436&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=03dca39c-73e8-5aaf-601d-328ae5c35f20&amp;amp;l=16533&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19436&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=03dca39c-73e8-5aaf-601d-328ae5c35f20&amp;amp;l=16533&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17371909" author="roman_khachatryan" created="Wed, 30 Jun 2021 09:07:04 +0000"  >&lt;p&gt;Test fix merged into master as&#160;e72f4d06b20b2dca4bd090091ee663cb9fa90630&lt;/p&gt;

&lt;p&gt;and into 1.13 as&#160;46fdc5fb0207cd5671d3404a551bd27bdedb554d.&lt;/p&gt;</comment>
                            <comment id="17384180" author="maver1ck" created="Tue, 20 Jul 2021 12:16:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman_khachatryan&quot; class=&quot;user-hover&quot; rel=&quot;roman_khachatryan&quot;&gt;roman_khachatryan&lt;/a&gt; &lt;br/&gt;
Could this bug be related ? I&apos;m facing similar issues with Oracle and fix from this PR doesn&apos;t work.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-23437&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-23437&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17384275" author="roman_khachatryan" created="Tue, 20 Jul 2021 13:53:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maver1ck&quot; class=&quot;user-hover&quot; rel=&quot;maver1ck&quot;&gt;maver1ck&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Yes, it seems related actually. Could you try to reproduce it in 1.13.2 (or newer)?&lt;/p&gt;</comment>
                            <comment id="17384292" author="maver1ck" created="Tue, 20 Jul 2021 14:16:20 +0000"  >&lt;p&gt;I can reproduce this on 1.13.2-rc2.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13382347">FLINK-22889</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13399939">FLINK-24209</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qfqo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>