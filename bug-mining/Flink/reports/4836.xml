<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:51:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-20266] New Sources prevent JVM shutdown when running a job</title>
                <link>https://issues.apache.org/jira/browse/FLINK-20266</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When trying out the new &lt;tt&gt;FileSource&lt;/tt&gt; I noticed that the jobs which I started from my IDE won&apos;t properly terminate. To be more precise the spawned JVM for the jobs wouldn&apos;t properly terminate. I cannot really tell what the &lt;tt&gt;FileSource&lt;/tt&gt; does differently, but when not using this source, the JVM terminates properly.&lt;/p&gt;

&lt;p&gt;The stack trace of the hanging JVM is&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-11-20 18:20:02
Full thread dump OpenJDK 64-Bit Server VM (11.0.2+9 mixed mode):

Threads &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SMR info:
_java_thread_list=0x00007fb5bc15f1b0, length=19, elements={
0x00007fb60d807000, 0x00007fb60d80c000, 0x00007fb60d80f000, 0x00007fb60d809000,
0x00007fb60d81a000, 0x00007fb61f00b000, 0x00007fb63d80e000, 0x00007fb61d826800,
0x00007fb61d829800, 0x00007fb61e800000, 0x00007fb63d95d800, 0x00007fb63e2f8800,
0x00007fb5ba37a800, 0x00007fb5afe1a800, 0x00007fb61dff6800, 0x00007fb63da49800,
0x00007fb63e8d0800, 0x00007fb5be001000, 0x00007fb5bb8a4000
}

&lt;span class=&quot;code-quote&quot;&gt;&quot;Reference Handler&quot;&lt;/span&gt; #2 daemon prio=10 os_prio=31 cpu=10.05ms elapsed=86.35s tid=0x00007fb60d807000 nid=0x4b03 waiting on condition  [0x00007000036e9000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at java.lang.ref.Reference.waitForReferencePendingList(java.base@11.0.2/Native Method)
	at java.lang.ref.Reference.processPendingReferences(java.base@11.0.2/Reference.java:241)
	at java.lang.ref.Reference$ReferenceHandler.run(java.base@11.0.2/Reference.java:213)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Finalizer&quot;&lt;/span&gt; #3 daemon prio=8 os_prio=31 cpu=0.90ms elapsed=86.35s tid=0x00007fb60d80c000 nid=0x3803 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait()  [0x00007000037ec000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(java.base@11.0.2/Native Method)
	- waiting on &amp;lt;0x0000000600204780&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@11.0.2/ReferenceQueue.java:155)
	- waiting to re-lock in wait() &amp;lt;0x0000000600204780&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@11.0.2/ReferenceQueue.java:176)
	at java.lang.ref.Finalizer$FinalizerThread.run(java.base@11.0.2/Finalizer.java:170)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Signal Dispatcher&quot;&lt;/span&gt; #4 daemon prio=9 os_prio=31 cpu=0.31ms elapsed=86.34s tid=0x00007fb60d80f000 nid=0x4203 runnable  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;C2 CompilerThread0&quot;&lt;/span&gt; #5 daemon prio=9 os_prio=31 cpu=2479.36ms elapsed=86.34s tid=0x00007fb60d809000 nid=0x3f03 waiting on condition  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
   No compile task

&lt;span class=&quot;code-quote&quot;&gt;&quot;C1 CompilerThread0&quot;&lt;/span&gt; #8 daemon prio=9 os_prio=31 cpu=1412.88ms elapsed=86.34s tid=0x00007fb60d81a000 nid=0x3d03 waiting on condition  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
   No compile task

&lt;span class=&quot;code-quote&quot;&gt;&quot;Sweeper thread&quot;&lt;/span&gt; #9 daemon prio=9 os_prio=31 cpu=42.82ms elapsed=86.34s tid=0x00007fb61f00b000 nid=0xa803 runnable  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;Common-Cleaner&quot;&lt;/span&gt; #10 daemon prio=8 os_prio=31 cpu=3.25ms elapsed=86.29s tid=0x00007fb63d80e000 nid=0x5703 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait()  [0x0000700003cfb000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(java.base@11.0.2/Native Method)
	- waiting on &amp;lt;0x0000000600205aa0&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@11.0.2/ReferenceQueue.java:155)
	- waiting to re-lock in wait() &amp;lt;0x0000000600205aa0&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at jdk.internal.ref.CleanerImpl.run(java.base@11.0.2/CleanerImpl.java:148)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(java.base@11.0.2/&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
	at jdk.internal.misc.InnocuousThread.run(java.base@11.0.2/InnocuousThread.java:134)

&lt;span class=&quot;code-quote&quot;&gt;&quot;JDWP Transport Listener: dt_socket&quot;&lt;/span&gt; #11 daemon prio=10 os_prio=31 cpu=43.46ms elapsed=86.27s tid=0x00007fb61d826800 nid=0xa603 runnable  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;JDWP Event Helper &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; #12 daemon prio=10 os_prio=31 cpu=220.06ms elapsed=86.27s tid=0x00007fb61d829800 nid=0x5e03 runnable  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;JDWP Command Reader&quot;&lt;/span&gt; #13 daemon prio=10 os_prio=31 cpu=27.26ms elapsed=86.27s tid=0x00007fb61e800000 nid=0x6103 runnable  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;Service &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; #14 daemon prio=9 os_prio=31 cpu=0.06ms elapsed=86.19s tid=0x00007fb63d95d800 nid=0xa203 runnable  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool.commonPool-worker-19&quot;&lt;/span&gt; #25 daemon prio=1 os_prio=31 cpu=2.00ms elapsed=84.76s tid=0x00007fb63e2f8800 nid=0x8003 waiting on condition  [0x000070000584c000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at jdk.internal.misc.Unsafe.park(java.base@11.0.2/Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x0000000600a81188&amp;gt; (a java.util.concurrent.ForkJoinPool)
	at java.util.concurrent.locks.LockSupport.park(java.base@11.0.2/LockSupport.java:194)
	at java.util.concurrent.ForkJoinPool.runWorker(java.base@11.0.2/ForkJoinPool.java:1628)
	at java.util.concurrent.ForkJoinWorkerThread.run(java.base@11.0.2/ForkJoinWorkerThread.java:177)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool.commonPool-worker-23&quot;&lt;/span&gt; #58 daemon prio=5 os_prio=31 cpu=0.19ms elapsed=84.12s tid=0x00007fb5ba37a800 nid=0xcc03 waiting on condition  [0x0000700007197000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at jdk.internal.misc.Unsafe.park(java.base@11.0.2/Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x0000000600a81188&amp;gt; (a java.util.concurrent.ForkJoinPool)
	at java.util.concurrent.locks.LockSupport.park(java.base@11.0.2/LockSupport.java:194)
	at java.util.concurrent.ForkJoinPool.runWorker(java.base@11.0.2/ForkJoinPool.java:1628)
	at java.util.concurrent.ForkJoinWorkerThread.run(java.base@11.0.2/ForkJoinWorkerThread.java:177)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool.commonPool-worker-9&quot;&lt;/span&gt; #59 daemon prio=5 os_prio=31 cpu=0.17ms elapsed=84.07s tid=0x00007fb5afe1a800 nid=0xcf03 waiting on condition  [0x000070000729a000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at jdk.internal.misc.Unsafe.park(java.base@11.0.2/Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x0000000600a81188&amp;gt; (a java.util.concurrent.ForkJoinPool)
	at java.util.concurrent.locks.LockSupport.park(java.base@11.0.2/LockSupport.java:194)
	at java.util.concurrent.ForkJoinPool.runWorker(java.base@11.0.2/ForkJoinPool.java:1628)
	at java.util.concurrent.ForkJoinWorkerThread.run(java.base@11.0.2/ForkJoinWorkerThread.java:177)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ForkJoinPool.commonPool-worker-27&quot;&lt;/span&gt; #63 daemon prio=5 os_prio=31 cpu=0.72ms elapsed=83.97s tid=0x00007fb61dff6800 nid=0xd503 waiting on condition  [0x00007000076a6000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (parking)
	at jdk.internal.misc.Unsafe.park(java.base@11.0.2/Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x0000000600a81188&amp;gt; (a java.util.concurrent.ForkJoinPool)
	at java.util.concurrent.locks.LockSupport.parkUntil(java.base@11.0.2/LockSupport.java:275)
	at java.util.concurrent.ForkJoinPool.runWorker(java.base@11.0.2/ForkJoinPool.java:1619)
	at java.util.concurrent.ForkJoinWorkerThread.run(java.base@11.0.2/ForkJoinWorkerThread.java:177)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Cleaner-0&quot;&lt;/span&gt; #185 daemon prio=8 os_prio=31 cpu=10.55ms elapsed=83.39s tid=0x00007fb63da49800 nid=0x1570b in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait()  [0x00007000093fd000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(java.base@11.0.2/Native Method)
	- waiting on &amp;lt;0x0000000600c5bd78&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@11.0.2/ReferenceQueue.java:155)
	- waiting to re-lock in wait() &amp;lt;0x0000000600c5bd78&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at jdk.internal.ref.CleanerImpl.run(java.base@11.0.2/CleanerImpl.java:148)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(java.base@11.0.2/&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
	at jdk.internal.misc.InnocuousThread.run(java.base@11.0.2/InnocuousThread.java:134)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ComponentClosingUtil&quot;&lt;/span&gt; #232 prio=1 os_prio=31 cpu=0.39ms elapsed=81.78s tid=0x00007fb63e8d0800 nid=0x13107 waiting on condition  [0x0000700004f31000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at jdk.internal.misc.Unsafe.park(java.base@11.0.2/Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000006008fb930&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(java.base@11.0.2/LockSupport.java:194)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@11.0.2/AbstractQueuedSynchronizer.java:2081)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@11.0.2/ScheduledThreadPoolExecutor.java:1170)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@11.0.2/ScheduledThreadPoolExecutor.java:899)
	at java.util.concurrent.ThreadPoolExecutor.getTask(java.base@11.0.2/ThreadPoolExecutor.java:1054)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.2/ThreadPoolExecutor.java:1114)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.2/ThreadPoolExecutor.java:628)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(java.base@11.0.2/&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)

&lt;span class=&quot;code-quote&quot;&gt;&quot;DestroyJavaVM&quot;&lt;/span&gt; #282 prio=5 os_prio=31 cpu=2125.94ms elapsed=81.19s tid=0x00007fb5be001000 nid=0x1d03 waiting on condition  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;Attach Listener&quot;&lt;/span&gt; #291 daemon prio=9 os_prio=31 cpu=0.57ms elapsed=0.09s tid=0x00007fb5bb8a4000 nid=0x14207 waiting on condition  [0x0000000000000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;VM &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; os_prio=31 cpu=74.59ms elapsed=86.36s tid=0x00007fb63f807000 nid=0x3603 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#0&quot;&lt;/span&gt; os_prio=31 cpu=51.88ms elapsed=86.38s tid=0x00007fb62d803800 nid=0x2e03 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#1&quot;&lt;/span&gt; os_prio=31 cpu=50.32ms elapsed=85.97s tid=0x00007fb61d836800 nid=0x9e03 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#2&quot;&lt;/span&gt; os_prio=31 cpu=45.79ms elapsed=85.97s tid=0x00007fb61d8b8000 nid=0x9d03 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#3&quot;&lt;/span&gt; os_prio=31 cpu=46.08ms elapsed=85.97s tid=0x00007fb61d83a800 nid=0x9c03 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#4&quot;&lt;/span&gt; os_prio=31 cpu=48.88ms elapsed=85.97s tid=0x00007fb61f01c000 nid=0x9a03 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#5&quot;&lt;/span&gt; os_prio=31 cpu=44.32ms elapsed=85.97s tid=0x00007fb63d8e5000 nid=0x9803 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#6&quot;&lt;/span&gt; os_prio=31 cpu=49.81ms elapsed=85.97s tid=0x00007fb63d8e6000 nid=0x9703 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#7&quot;&lt;/span&gt; os_prio=31 cpu=51.55ms elapsed=85.97s tid=0x00007fb61d83b800 nid=0x6503 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#8&quot;&lt;/span&gt; os_prio=31 cpu=46.05ms elapsed=85.97s tid=0x00007fb62d928000 nid=0x9403 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#9&quot;&lt;/span&gt; os_prio=31 cpu=50.43ms elapsed=85.97s tid=0x00007fb62d929000 nid=0x9203 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Main Marker&quot;&lt;/span&gt; os_prio=31 cpu=0.65ms elapsed=86.37s tid=0x00007fb62d83b000 nid=0x2f03 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Conc#0&quot;&lt;/span&gt; os_prio=31 cpu=11.46ms elapsed=86.37s tid=0x00007fb62d83b800 nid=0x3203 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Conc#1&quot;&lt;/span&gt; os_prio=31 cpu=11.43ms elapsed=85.39s tid=0x00007fb63da4e800 nid=0x6703 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Conc#2&quot;&lt;/span&gt; os_prio=31 cpu=10.03ms elapsed=85.39s tid=0x00007fb63da4f800 nid=0x6803 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Refine#0&quot;&lt;/span&gt; os_prio=31 cpu=8.22ms elapsed=86.37s tid=0x00007fb63e102000 nid=0x4e03 runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Refine#1&quot;&lt;/span&gt; os_prio=31 cpu=0.06ms elapsed=81.10s tid=0x00007fb5aeff4000 nid=0x1d50f runnable

&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Young RemSet Sampling&quot;&lt;/span&gt; os_prio=31 cpu=12.94ms elapsed=86.37s tid=0x00007fb63e102800 nid=0x3403 runnable
&lt;span class=&quot;code-quote&quot;&gt;&quot;VM Periodic Task &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; os_prio=31 cpu=57.93ms elapsed=86.19s tid=0x00007fb61e833800 nid=0xa003 waiting on condition

JNI global refs: 55, weak refs: 15453
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My environment is and I used the openjdk version &quot;1.8.0_262&quot; to run the job:&lt;/p&gt;

&lt;p&gt;IntelliJ IDEA 2020.2.3 (Community Edition)&lt;br/&gt;
Build #IC-202.7660.26, built on October 6, 2020&lt;br/&gt;
Runtime version: 11.0.8+10-b944.34 x86_64&lt;br/&gt;
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.&lt;br/&gt;
macOS 10.14.6&lt;br/&gt;
GC: ParNew, ConcurrentMarkSweep&lt;br/&gt;
Memory: 1979M&lt;br/&gt;
Cores: 12&lt;br/&gt;
Non-Bundled Plugins: CheckStyle-IDEA, com.jetbrains.performancePlugin, org.jetbrains.kotlin, org.intellij.scala&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13341826">FLINK-20266</key>
            <summary>New Sources prevent JVM shutdown when running a job</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Nov 2020 17:37:15 +0000</created>
                <updated>Sat, 12 Dec 2020 11:55:48 +0000</updated>
                            <resolved>Mon, 23 Nov 2020 00:14:07 +0000</resolved>
                                    <version>1.12.0</version>
                                    <fixVersion>1.11.3</fixVersion>
                    <fixVersion>1.12.0</fixVersion>
                                    <component>Connectors / FileSystem</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17236681" author="stephanewen" created="Sat, 21 Nov 2020 14:55:51 +0000"  >&lt;p&gt;Looks like this is an issue in the FLIP-27 sources in general, not specific to the FileSource.&lt;/p&gt;

&lt;p&gt;If I read this correctly, the &quot;ComponentClosingUtil&quot; is keeping the JVM alive. The problem is that this is a static executor pool that created non-daemon threads. By definition, the JVM stays alive as long as any non-daemon thread exists (or until someone calls System.exit()).&lt;/p&gt;

&lt;p&gt;This pattern is a problem, having a thread pool as a static utility, because it means the pool will never be shut down (static utils don&apos;t have an owner and defined life cycle).&lt;/p&gt;

&lt;p&gt;I would suggest to do the following:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Drop the executor / thread pool. just spawn a thread when this is uses. The use is rare enough that the thread pooling seems not necessary. And the thread pooling opens up the &quot;ownership&quot; question (who shuts it down).&lt;/li&gt;
	&lt;li&gt;We can also think about moving this from &quot;flink-core&quot; to &quot;flink-runtime&quot;, in which case we can simply reuse the &lt;tt&gt;FutureUtils.Delayer&lt;/tt&gt;. Then we don&apos;t need any extra thread. The delayer does not have this problem because it uses the proper factories to instantiate the threads in a safe way. The delayer is a bit of a hack itself, but it is already better to have one hack (Delayer) than two hacks (Delayer and ComponentClosingUtil).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think only making the threads daemon threads is a quick-fix, but kind of ignores the main problem (introducing new static contexts with threads).&lt;/p&gt;

&lt;p&gt;As a side note: To my understanding, the way that the coordinator closes and re-creates the SplitEnumerator means that users/connectors should not need to worry about closing with timeout themselves. This is handled in the SourceCoordinator.&lt;/p&gt;</comment>
                            <comment id="17236682" author="stephanewen" created="Sat, 21 Nov 2020 14:56:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jqin&quot; class=&quot;user-hover&quot; rel=&quot;jqin&quot;&gt;jqin&lt;/a&gt; If you don&apos;t object, I would fix this using the above suggestion (moving utils, consolidating with Delayer).&lt;/p&gt;</comment>
                            <comment id="17236698" author="becket_qin" created="Sat, 21 Nov 2020 15:56:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt;&#160;The suggested fix sounds good to me. Given that the implementation probably won&apos;t use the ComponentClosingUtil, having that only in runtime should be fine.&lt;/p&gt;</comment>
                            <comment id="17237042" author="stephanewen" created="Mon, 23 Nov 2020 00:14:07 +0000"  >&lt;p&gt;Fixed in 1.12.0 (master) via d986d3018c0cc913604ffab5801123318436d7a0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13340250">FLINK-20115</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ksog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>