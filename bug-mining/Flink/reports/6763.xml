<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:15:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-29860] Pulsar connector bug when using Hybrid.Builder</title>
                <link>https://issues.apache.org/jira/browse/FLINK-29860</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When using a HybridSource with a set of pulsar sources submitting a job to a flink cluster results in the following error&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;br/&gt;
&#160;The program finished with the following exception:&lt;/p&gt;

&lt;p&gt;The implementation of the BlockElement is not serializable. The object probably contains or references non serializable fields.&lt;br/&gt;
&#160; &#160; org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:164)&lt;br/&gt;
&#160; &#160; org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)&lt;br/&gt;
&#160; &#160; org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)&lt;br/&gt;
&#160; &#160; org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)&lt;br/&gt;
&#160; &#160; org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)&lt;br/&gt;
&#160; &#160; org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:69)&lt;br/&gt;
&#160; &#160; org.apache.flink.connector.base.source.hybrid.HybridSource$HybridSourceBuilder.addSource(HybridSource.java:246)&lt;br/&gt;
&#160; &#160; org.apache.flink.connector.base.source.hybrid.HybridSource$HybridSourceBuilder.addSource(HybridSource.java:233)&lt;br/&gt;
&#160; &#160; org.apache.flink.connector.base.source.hybrid.HybridSource.builder(HybridSource.java:104)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think this is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-25444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-25444&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From a pulsar connector perspective it&apos;s simple fixed, just mark the &quot;private final InlineElement desc&quot; attribute in flink-connectors/flink-connector-pulsar/src/main/java/org/apache/flink/connector/pulsar/source/config/CursorVerification.java as transient to avoid the serialisation process.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ve tested this and it seems to solve the issue. I can submit a PR with this fix.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13494512">FLINK-29860</key>
            <summary>Pulsar connector bug when using Hybrid.Builder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noelo">Noel O&apos;Connor</assignee>
                                    <reporter username="noelo">Noel O&apos;Connor</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 3 Nov 2022 07:15:37 +0000</created>
                <updated>Thu, 10 Nov 2022 11:28:24 +0000</updated>
                            <resolved>Thu, 10 Nov 2022 11:28:20 +0000</resolved>
                                                    <fixVersion>1.17.0</fixVersion>
                                    <component>Connectors / Pulsar</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17628618" author="syhily" created="Fri, 4 Nov 2022 01:34:00 +0000"  >&lt;p&gt;I think we can just remove the extra document field for &lt;tt&gt;CursorVerification&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17630232" author="tison" created="Tue, 8 Nov 2022 07:01:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syhily&quot; class=&quot;user-hover&quot; rel=&quot;syhily&quot;&gt;syhily&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noelo&quot; class=&quot;user-hover&quot; rel=&quot;noelo&quot;&gt;noelo&lt;/a&gt; I&apos;d prefer the solution by setting &lt;tt&gt;InlineElement&lt;/tt&gt; as &lt;tt&gt;transient&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noelo&quot; class=&quot;user-hover&quot; rel=&quot;noelo&quot;&gt;noelo&lt;/a&gt; if you&apos;re still willing to submit a patch, please submit one and I&apos;ll assign to you.&lt;/p&gt;</comment>
                            <comment id="17630251" author="noelo" created="Tue, 8 Nov 2022 07:46:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syhily&quot; class=&quot;user-hover&quot; rel=&quot;syhily&quot;&gt;syhily&lt;/a&gt; yep I do have a patch so assign me. I assume this is just for 1.17 snapshot and not other versions ?&lt;/p&gt;</comment>
                            <comment id="17630623" author="syhily" created="Tue, 8 Nov 2022 21:19:07 +0000"  >&lt;p&gt;OK. I&apos;ll close my PR and in favor of the Noel&apos;s one. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noelo&quot; class=&quot;user-hover&quot; rel=&quot;noelo&quot;&gt;noelo&lt;/a&gt; Can you help me add the &lt;tt&gt;transient&lt;/tt&gt; field for &lt;tt&gt;TopicRoutingMode&lt;/tt&gt; and &lt;tt&gt;MessageKeyHash&lt;/tt&gt; in your PR?&lt;/p&gt;</comment>
                            <comment id="17630792" author="noelo" created="Wed, 9 Nov 2022 07:09:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syhily&quot; class=&quot;user-hover&quot; rel=&quot;syhily&quot;&gt;syhily&lt;/a&gt; yep I&apos;ll do that today&lt;/p&gt;</comment>
                            <comment id="17630857" author="noelo" created="Wed, 9 Nov 2022 08:45:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syhily&quot; class=&quot;user-hover&quot; rel=&quot;syhily&quot;&gt;syhily&lt;/a&gt; PR updated&lt;/p&gt;</comment>
                            <comment id="17631601" author="tison" created="Thu, 10 Nov 2022 11:28:20 +0000"  >&lt;p&gt;master via fa6d18818348b052876ed5db16ecc6d5f5bad30c&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1art4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>