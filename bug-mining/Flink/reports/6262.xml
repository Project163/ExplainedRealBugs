<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:09:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26314] StreamingCompactingFileSinkITCase.testFileSink failed on azure</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26314</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Feb 22 13:34:32 [ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 12.735 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.connector.file.sink.StreamingCompactingFileSinkITCase
Feb 22 13:34:32 [ERROR] StreamingCompactingFileSinkITCase.testFileSink  Time elapsed: 3.311 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
Feb 22 13:34:32 java.lang.AssertionError: The record 6788 should occur 4 times,  but only occurs 3time expected:&amp;lt;4&amp;gt; but was:&amp;lt;3&amp;gt;
Feb 22 13:34:32 	at org.junit.Assert.fail(Assert.java:89)
Feb 22 13:34:32 	at org.junit.Assert.failNotEquals(Assert.java:835)
Feb 22 13:34:32 	at org.junit.Assert.assertEquals(Assert.java:647)
Feb 22 13:34:32 	at org.apache.flink.connector.file.sink.utils.IntegerFileSinkTestDataUtils.checkIntegerSequenceSinkOutput(IntegerFileSinkTestDataUtils.java:155)
Feb 22 13:34:32 	at org.apache.flink.connector.file.sink.FileSinkITBase.testFileSink(FileSinkITBase.java:84)
Feb 22 13:34:32 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
Feb 22 13:34:32 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
Feb 22 13:34:32 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
Feb 22 13:34:32 	at java.lang.reflect.Method.invoke(Method.java:498)
Feb 22 13:34:32 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
Feb 22 13:34:32 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
Feb 22 13:34:32 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
Feb 22 13:34:32 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
Feb 22 13:34:32 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
Feb 22 13:34:32 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
Feb 22 13:34:32 	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
Feb 22 13:34:32 	at org.apache.flink.util.TestNameProvider$1.evaluate(TestNameProvider.java:45)
Feb 22 13:34:32 	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
Feb 22 13:34:32 	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
Feb 22 13:34:32 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
Feb 22 13:34:32 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
Feb 22 13:34:32 	at org.junit.runners.Suite.runChild(Suite.java:128)
Feb 22 13:34:32 	at org.junit.runners.Suite.runChild(Suite.java:27)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
Feb 22 13:34:32 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32023&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32023&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11103&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13430068">FLINK-26314</key>
            <summary>StreamingCompactingFileSinkITCase.testFileSink failed on azure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pltbkd">Gen Luo</assignee>
                                    <reporter username="gaoyunhaii">Yun Gao</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Wed, 23 Feb 2022 03:23:23 +0000</created>
                <updated>Tue, 8 Mar 2022 06:11:00 +0000</updated>
                            <resolved>Tue, 8 Mar 2022 06:11:00 +0000</resolved>
                                    <version>1.15.0</version>
                                    <fixVersion>1.15.0</fixVersion>
                                    <component>Connectors / FileSystem</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17496454" author="gaoyunhaii" created="Wed, 23 Feb 2022 03:23:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pltbkd&quot; class=&quot;user-hover&quot; rel=&quot;pltbkd&quot;&gt;pltbkd&lt;/a&gt; Could you have a look at this issue?&lt;/p&gt;</comment>
                            <comment id="17496519" author="gaoyunhaii" created="Wed, 23 Feb 2022 07:13:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32057&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32057&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17496536" author="mapohl" created="Wed, 23 Feb 2022 07:40:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/mapohl/flink/_build/results?buildId=769&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&amp;amp;l=14003&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/mapohl/flink/_build/results?buildId=769&amp;amp;view=logs&amp;amp;j=dafbab6d-4616-5d7b-ee37-3c54e4828fd7&amp;amp;t=e204f081-e6cd-5c04-4f4c-919639b63be9&amp;amp;l=14003&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This build has a slightly different failure where it leads to a timeout and the thread dump being printed.&lt;/p&gt;</comment>
                            <comment id="17496569" author="mapohl" created="Wed, 23 Feb 2022 08:38:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32068&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11569&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32068&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11569&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17497224" author="gaoyunhaii" created="Thu, 24 Feb 2022 07:21:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32094&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11104&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32094&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11104&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17497225" author="pltbkd" created="Thu, 24 Feb 2022 07:22:38 +0000"  >&lt;p&gt;I&apos;ll take a look soon.&lt;/p&gt;</comment>
                            <comment id="17497887" author="pltbkd" created="Fri, 25 Feb 2022 03:38:03 +0000"  >&lt;p&gt;I found that the PseudoRandomValueSelector is selecting PT0S for execution.checkpointing.alignment-timeout and true for execution.checkpointing.unaligned for this test. I can reproduce these issues with these options. It seems that the compactor for FileSink can not work with unaligned checkpoint at present.&#160;&lt;/p&gt;

&lt;p&gt;I will first create a PR with a hotfix for the test to disable unaligned checkpoint explicitly, then work on a bugfix to make the compactor supporting unaligned.&lt;/p&gt;</comment>
                            <comment id="17498263" author="JIRAUSER280246" created="Fri, 25 Feb 2022 18:58:20 +0000"  >&lt;p&gt;Same issue here.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32250&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32250&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17499063" author="gaoyunhaii" created="Mon, 28 Feb 2022 17:31:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32142&amp;amp;view=logs&amp;amp;j=e9af9cde-9a65-5281-a58e-2c8511d36983&amp;amp;t=c520d2c3-4d17-51f1-813b-4b0b74a0c307&amp;amp;l=11993&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32142&amp;amp;view=logs&amp;amp;j=e9af9cde-9a65-5281-a58e-2c8511d36983&amp;amp;t=c520d2c3-4d17-51f1-813b-4b0b74a0c307&amp;amp;l=11993&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17499067" author="gaoyunhaii" created="Mon, 28 Feb 2022 17:36:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32147&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11500&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32147&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11500&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17499069" author="gaoyunhaii" created="Mon, 28 Feb 2022 17:38:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32149&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32149&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11103&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17499304" author="gaoyunhaii" created="Tue, 1 Mar 2022 03:46:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32313&amp;amp;view=logs&amp;amp;j=c5f0071e-1851-543e-9a45-9ac140befc32&amp;amp;t=15a22db7-8faa-5b34-3920-d33c9f0ca23c&amp;amp;l=35618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32313&amp;amp;view=logs&amp;amp;j=c5f0071e-1851-543e-9a45-9ac140befc32&amp;amp;t=15a22db7-8faa-5b34-3920-d33c9f0ca23c&amp;amp;l=35618&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17499946" author="gaoyunhaii" created="Wed, 2 Mar 2022 07:53:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32344&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11476&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32344&amp;amp;view=logs&amp;amp;j=d44f43ce-542c-597d-bf94-b0718c71e5e8&amp;amp;t=ed165f3f-d0f6-524b-5279-86f8ee7d0e2d&amp;amp;l=11476&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17502739" author="gaoyunhaii" created="Tue, 8 Mar 2022 06:10:52 +0000"  >&lt;p&gt;I&apos;ll first close this issue since the two root-cause issues are all fixed. We could reopen the issue if it reproduced.&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13431052">FLINK-26403</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13431404">FLINK-26440</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0zui0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>