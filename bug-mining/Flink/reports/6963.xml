<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:16:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-31347] AdaptiveSchedulerClusterITCase.testAutomaticScaleUp times out</title>
                <link>https://issues.apache.org/jira/browse/FLINK-31347</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46850&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=24c3384f-1bcb-57b3-224f-51bf973bbee8&amp;amp;l=10451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46850&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=24c3384f-1bcb-57b3-224f-51bf973bbee8&amp;amp;l=10451&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 06 14:11:24 &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; #1 prio=5 os_prio=0 tid=0x00007f482800b800 nid=0x6eee waiting on condition [0x00007f48325cd000]
Mar 06 14:11:24    java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
Mar 06 14:11:24 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
Mar 06 14:11:24 	at org.apache.flink.runtime.testutils.CommonTestUtils.waitUntilCondition(CommonTestUtils.java:151)
Mar 06 14:11:24 	at org.apache.flink.runtime.testutils.CommonTestUtils.waitUntilCondition(CommonTestUtils.java:144)
Mar 06 14:11:24 	at org.apache.flink.runtime.scheduler.adaptive.AdaptiveSchedulerClusterITCase.waitUntilParallelismForVertexReached(AdaptiveSchedulerClusterITCase.java:265)
Mar 06 14:11:24 	at org.apache.flink.runtime.scheduler.adaptive.AdaptiveSchedulerClusterITCase.testAutomaticScaleUp(AdaptiveSchedulerClusterITCase.java:153)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13527303">FLINK-31347</key>
            <summary>AdaptiveSchedulerClusterITCase.testAutomaticScaleUp times out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dmvk">David Mor&#225;vek</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 6 Mar 2023 16:05:38 +0000</created>
                <updated>Thu, 31 Aug 2023 10:22:26 +0000</updated>
                            <resolved>Tue, 7 Mar 2023 13:21:37 +0000</resolved>
                                    <version>1.17.0</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.18.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17697023" author="mapohl" created="Mon, 6 Mar 2023 16:21:21 +0000"  >&lt;p&gt;It looks like all tasks finished successfully before starting the additional TaskManager:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[...]
13:55:38,791 [Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (2/4)#1] INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (2/4)#1 (593ece5f322345887225822f6671ab8a_e7ebf13a548d34fc7ae1345a82aa6ed5_1_1) switched from RUNNING to FINISHED.
[...]
13:55:38,793 [Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (3/4)#0] INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (3/4)#0 (593ece5f322345887225822f6671ab8a_e7ebf13a548d34fc7ae1345a82aa6ed5_2_0) switched from RUNNING to FINISHED.
13:55:38,793 [Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (4/4)#0] INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (4/4)#0 (593ece5f322345887225822f6671ab8a_e7ebf13a548d34fc7ae1345a82aa6ed5_3_0) switched from RUNNING to FINISHED.
[...]
13:55:38,802 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (3/4) (593ece5f322345887225822f6671ab8a_e7ebf13a548d34fc7ae1345a82aa6ed5_2_0) switched from RUNNING to FINISHED.
13:55:38,803 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (2/4) (593ece5f322345887225822f6671ab8a_e7ebf13a548d34fc7ae1345a82aa6ed5_1_1) switched from RUNNING to FINISHED.
13:55:38,803 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Blocking &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (4/4) (593ece5f322345887225822f6671ab8a_e7ebf13a548d34fc7ae1345a82aa6ed5_3_0) switched from RUNNING to FINISHED.
13:55:38,806 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job Unnamed job (cb5c7a7cddf612e4d2af549183152ccb) switched from state RUNNING to FINISHED.
13:55:38,810 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-6] INFO  org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler [] - Job cb5c7a7cddf612e4d2af549183152ccb reached terminal state FINISHED.
13:55:38,816 [flink-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-7] INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job cb5c7a7cddf612e4d2af549183152ccb reached terminal state FINISHED.
13:55:38,819 [mini-cluster-io-thread-4] INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job cb5c7a7cddf612e4d2af549183152ccb has been registered &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; cleanup in the JobResultStore after reaching a terminal state.
[...]
13:55:38,846 [                main] INFO  org.apache.flink.runtime.scheduler.adaptive.AdaptiveSchedulerClusterITCase [] - Start additional TaskManager to scale up to the full parallelism.
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17697027" author="mapohl" created="Mon, 6 Mar 2023 16:36:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dmvk&quot; class=&quot;user-hover&quot; rel=&quot;dmvk&quot;&gt;dmvk&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; do you have capacity to look into it? It looks like the lock was released before reaching the taskManager creation, which is odd.&lt;/p&gt;

&lt;p&gt;We didn&apos;t touch this part of the code in 1.17 as far as I remember, did we?&lt;/p&gt;</comment>
                            <comment id="17697028" author="mapohl" created="Mon, 6 Mar 2023 16:37:52 +0000"  >&lt;p&gt;I lowered the priority to Critical because it appears to be a test code issue.&lt;/p&gt;</comment>
                            <comment id="17697029" author="davidmoravek" created="Mon, 6 Mar 2023 16:39:11 +0000"  >&lt;p&gt;I&apos;ll give it a &quot;timeboxed&quot; shot now.&lt;/p&gt;</comment>
                            <comment id="17697304" author="davidmoravek" created="Tue, 7 Mar 2023 08:51:53 +0000"  >&lt;p&gt;master: babb82553c804c5abbf14353bcca84ad13401676&lt;/p&gt;

&lt;p&gt;release-1.17: c02099bcbfd9ec32d1e915bd3efed7dfd23597b3&lt;/p&gt;</comment>
                            <comment id="17760827" author="sergey nuyanzin" created="Thu, 31 Aug 2023 09:42:02 +0000"  >&lt;p&gt;There is the same case for 1.16: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=52872&amp;amp;view=logs&amp;amp;j=a549b384-c55a-52c0-c451-00e0477ab6db&amp;amp;t=eef5922c-08d9-5ba3-7299-8393476594e7&amp;amp;l=10585&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=52872&amp;amp;view=logs&amp;amp;j=a549b384-c55a-52c0-c451-00e0477ab6db&amp;amp;t=eef5922c-08d9-5ba3-7299-8393476594e7&amp;amp;l=10585&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gdk0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>