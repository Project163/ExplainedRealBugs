<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:23:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3682] CEP operator does not set the processing timestamp correctly</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3682</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In the wake of reworking the timestamp assignment where the processing timestamp has to be set now by the &lt;tt&gt;StreamOperator&lt;/tt&gt;, the CEP operators have not been adapted. This causes that the timestamp value assigned to the &lt;tt&gt;StreamRecord&lt;/tt&gt; is used. In case of processing time this is &lt;tt&gt;Long.MIN_VALUE&lt;/tt&gt;. In combination with a CEP time window, this can lead to an underflow in the NFA where the window time is subtracted from the current timestamp value.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12954624">FLINK-3682</key>
            <summary>CEP operator does not set the processing timestamp correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Mar 2016 13:27:03 +0000</created>
                <updated>Thu, 31 Mar 2016 08:33:50 +0000</updated>
                            <resolved>Thu, 31 Mar 2016 08:33:50 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>Library / CEP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15217969" author="githubbot" created="Wed, 30 Mar 2016 13:32:32 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1841&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1841&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    	&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3682&quot; title=&quot;CEP operator does not set the processing timestamp correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3682&quot;&gt;&lt;del&gt;FLINK-3682&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;cep&amp;#93;&lt;/span&gt; Assign processing timestamp in CEP operators&lt;/p&gt;

&lt;p&gt;    This PR fixes the problem that the CEP operators did not assign the wall clock time&lt;br/&gt;
    as the timestamp to incoming in StreamRecords if the TimeCharacteristic was set to&lt;br/&gt;
    ProcessingTime. Processing element with a Long.MIN_VALUE timestamp can lead to underflows&lt;br/&gt;
    in the NFA if a positive window length is subtracted from the timestamp. For this&lt;br/&gt;
    underflow a sanity check has been added to notify the user with an exception about it.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixUnderflowPruning&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1841.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1841.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1841&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3adc65e0d65604b6255f792f00a76ec017170f0d&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-03-30T13:27:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3682&quot; title=&quot;CEP operator does not set the processing timestamp correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3682&quot;&gt;&lt;del&gt;FLINK-3682&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;cep&amp;#93;&lt;/span&gt; Assign processing timestamp in CEP operators&lt;/p&gt;

&lt;p&gt;    This PR fixes the problem that the CEP operators did not assign the wall clock time&lt;br/&gt;
    as the timestamp to incoming in StreamRecords if the TimeCharacteristic was set to&lt;br/&gt;
    ProcessingTime. Processing element with a Long.MIN_VALUE timestamp can lead to underflows&lt;br/&gt;
    in the NFA if a positive window length is subtracted from the timestamp. For this&lt;br/&gt;
    underflow a sanity check has been added to notify the user with an exception about it.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15218029" author="githubbot" created="Wed, 30 Mar 2016 14:25:39 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1841#issuecomment-203456547&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1841#issuecomment-203456547&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Good catch! +1 to merge to `master` and `release-1.0`&lt;/p&gt;</comment>
                            <comment id="15218064" author="githubbot" created="Wed, 30 Mar 2016 14:43:47 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1841#issuecomment-203466453&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1841#issuecomment-203466453&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the review @uce &lt;/p&gt;</comment>
                            <comment id="15218065" author="githubbot" created="Wed, 30 Mar 2016 14:43:57 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1841#issuecomment-203466535&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1841#issuecomment-203466535&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Once Travis gives green light I&apos;ll merge it.&lt;/p&gt;</comment>
                            <comment id="15218257" author="githubbot" created="Wed, 30 Mar 2016 16:28:23 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1841#issuecomment-203513525&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1841#issuecomment-203513525&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Till&apos;s local Travis passed (&lt;a href=&quot;https://travis-ci.org/tillrohrmann/flink/builds/119528848&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/tillrohrmann/flink/builds/119528848&lt;/a&gt;) with one unrelated failing build. I&apos;m going to merge this.&lt;/p&gt;</comment>
                            <comment id="15218358" author="githubbot" created="Wed, 30 Mar 2016 17:20:55 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1841&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1841&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15219586" author="till.rohrmann" created="Thu, 31 Mar 2016 08:33:50 +0000"  >&lt;p&gt;Fixed via bdf55b90d58e3d7cb1f9b4ee0c2780bcca1c8f8a&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vefr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>