<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:41:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-14306] flink-python build fails with No module named pkg_resources</title>
                <link>https://issues.apache.org/jira/browse/FLINK-14306</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://codespeed.dak8s.net:8080/job/flink-master-benchmarks/4576/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Benchmark builds&lt;/a&gt; started to fail with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Adding generated sources (java): /home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/target/generated-sources
[INFO] 
[INFO] --- exec-maven-plugin:1.5.0:exec (Protos Generation) @ flink-python_2.11 ---
Traceback (most recent call last):
  File &quot;/home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/gen_protos.py&quot;, line 33, in &amp;lt;module&amp;gt;
    import pkg_resources
ImportError: No module named pkg_resources
[ERROR] Command execution failed.
(...)
[INFO] flink-state-processor-api .......................... SUCCESS [  0.299 s]
[INFO] flink-python ....................................... FAILURE [  0.434 s]
[INFO] flink-scala-shell .................................. SKIPPED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;because of this ticket: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-14018&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-14018&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think I can solve the benchmark builds failing quite easily by installing &lt;tt&gt;setuptools&lt;/tt&gt; python package, so this ticket is not about this, but about deciding how should we treat such kind of external dependencies. I don&apos;t see this dependency being mentioned anywhere in the documentation (&lt;a href=&quot;https://ci.apache.org/projects/flink/flink-docs-stable/flinkDev/building.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;for example here&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Probably at the very least those external dependencies should be documented, but also I fear about such kind of manual steps to do before building the Flink can become a problem if grow out of control. Some questions:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Do we really need this dependency?&lt;/li&gt;
	&lt;li&gt;Could this dependency be resolve automatically? By installing into a local python virtual environment?&lt;/li&gt;
	&lt;li&gt;Should we document those dependencies somewhere?&lt;/li&gt;
	&lt;li&gt;Maybe we should not build flink-python by default?&lt;/li&gt;
	&lt;li&gt;Maybe we should add a pre-build script for flink-python to verify the dependencies and to throw an easy to understand error with hint how to fix it?&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hequn&quot; class=&quot;user-hover&quot; rel=&quot;hequn&quot;&gt;hequn&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dian.fu&quot; class=&quot;user-hover&quot; rel=&quot;dian.fu&quot;&gt;dian.fu&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jincheng&quot; class=&quot;user-hover&quot; rel=&quot;jincheng&quot;&gt;jincheng&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13259884">FLINK-14306</key>
            <summary>flink-python build fails with No module named pkg_resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dianfu">Dian Fu</assignee>
                                    <reporter username="pnowojski">Piotr Nowojski</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 1 Oct 2019 11:27:20 +0000</created>
                <updated>Thu, 10 Oct 2019 11:40:50 +0000</updated>
                            <resolved>Wed, 9 Oct 2019 15:29:27 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.10.0</fixVersion>
                                    <component>API / Python</component>
                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16941799" author="pnowojski" created="Tue, 1 Oct 2019 12:57:26 +0000"  >&lt;p&gt;After manually installing &lt;tt&gt;python-pip&lt;/tt&gt; (this installed &lt;tt&gt;setuptools&lt;/tt&gt; as well) on the machine I&apos;m getting a new error:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- exec-maven-plugin:1.5.0:exec (Protos Generation) @ flink-python_2.11 ---
/home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/gen_protos.py:49: UserWarning: Installing grpcio-tools is recommended for development.
  warnings.warn(&apos;Installing grpcio-tools is recommended for development.&apos;)
WARNING:root:Installing grpcio-tools into /home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/../.eggs/grpcio-wheels
ERROR: Can not combine &apos;--user&apos; and &apos;--prefix&apos; as they imply different installation locations
You are using pip version 8.1.1, however version 19.2.3 is available.
You should consider upgrading via the &apos;pip install --upgrade pip&apos; command.
Process Process-1:
Traceback (most recent call last):
  File &quot;/usr/lib/python2.7/multiprocessing/process.py&quot;, line 258, in _bootstrap
    self.run()
  File &quot;/usr/lib/python2.7/multiprocessing/process.py&quot;, line 114, in run
    self._target(*self._args, **self._kwargs)
  File &quot;/home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/gen_protos.py&quot;, line 126, in _install_grpcio_tools_and_generate_proto_files
    &apos;--upgrade&apos;, GRPC_TOOLS, &quot;-I&quot;])
  File &quot;/usr/lib/python2.7/subprocess.py&quot;, line 541, in check_call
    raise CalledProcessError(retcode, cmd)
CalledProcessError: Command &apos;[&apos;/usr/bin/python&apos;, &apos;-m&apos;, &apos;pip&apos;, &apos;install&apos;, &apos;--prefix&apos;, &apos;/home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/../.eggs/grpcio-wheels&apos;, &apos;--build&apos;, &apos;/home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/../.eggs/grpcio-wheels-build&apos;, &apos;--upgrade&apos;, &apos;grpcio-tools&amp;gt;=1.3.5,&amp;lt;=1.14.2&apos;, &apos;-I&apos;]&apos; returned non-zero exit status 1
Traceback (most recent call last):
  File &quot;/home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/gen_protos.py&quot;, line 146, in &amp;lt;module&amp;gt;
    generate_proto_files(force=True)
  File &quot;/home/jenkins/workspace/flink-master-benchmarks/flink/flink-python/pyflink/gen_protos.py&quot;, line 91, in generate_proto_files
    raise ValueError(&quot;Proto generation failed (see log for details).&quot;)
ValueError: Proto generation failed (see log for details).
[ERROR] Command execution failed.
org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)
	at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)
	at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:764)
	at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:711)
	at org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:289)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16941853" author="pnowojski" created="Tue, 1 Oct 2019 13:37:32 +0000"  >&lt;p&gt;Upgrading the &lt;tt&gt;pip&lt;/tt&gt; to the latest version solved the above problem.&lt;/p&gt;</comment>
                            <comment id="16942633" author="zentol" created="Wed, 2 Oct 2019 09:16:06 +0000"  >&lt;p&gt;does this mean that everyone needs pip/setuptools on their machines to build flink now?&lt;/p&gt;</comment>
                            <comment id="16942655" author="till.rohrmann" created="Wed, 2 Oct 2019 09:32:21 +0000"  >&lt;p&gt;Thanks for reporting this issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;. I agree with you that the documentation should always be up to date with the current requirements. Moreover, I would be more in favour of not failing the build if flink-python fails. If this should be the case, then one could report it but continue with the remaining modules. Maybe one could have a switch saying that flink-python is required and the build would fail if this switch is provided. But by default, people not interested in Python should not be bothered by it.&lt;/p&gt;</comment>
                            <comment id="16942669" author="pnowojski" created="Wed, 2 Oct 2019 09:49:25 +0000"  >&lt;p&gt;It looks like so &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;. I guess most of the developers wouldn&apos;t notice this dependency. Building flink on some servers/data centers/virtual machines is a different story.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; that&apos;s another work around. If we could avoid this dependency altogether that would be great, but also having &lt;tt&gt;pip&lt;/tt&gt; and/or &lt;tt&gt;setuptools&lt;/tt&gt; as dependency when building something python related sounds reasonable. &lt;/p&gt;

&lt;p&gt;Things might complicate a bit, if some modules start depending on &lt;tt&gt;flink-python&lt;/tt&gt; (end to end tests?).&lt;/p&gt;</comment>
                            <comment id="16944403" author="zentol" created="Fri, 4 Oct 2019 11:03:19 +0000"  >&lt;p&gt;Note that this also broke the website generation since python isn&apos;t installed on buildbot. I&apos;m inclined to revert the responsible commits because they are creating too many problems imo.&lt;/p&gt;</comment>
                            <comment id="16944404" author="zentol" created="Fri, 4 Oct 2019 11:04:07 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hequn8128&quot; class=&quot;user-hover&quot; rel=&quot;hequn8128&quot;&gt;hequn8128&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dian.fu&quot; class=&quot;user-hover&quot; rel=&quot;dian.fu&quot;&gt;dian.fu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16944976" author="hequn8128" created="Sat, 5 Oct 2019 04:12:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;, sorry for the trouble that brings to you and many thanks for the advice.&lt;/p&gt;

&lt;p&gt;The problem is caused by the plugin in the pom under flink-python. The plugin calls gen_protos.py to generate python files in pyflink.zip. This introduces python dependencies and causes builds failing. These dependencies are necessary because we don&apos;t want to provide a semi-finished package(i.e., the package without the generated python files). &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dianfu&quot; class=&quot;user-hover&quot; rel=&quot;dianfu&quot;&gt;dianfu&lt;/a&gt; and I discussed offline and we think it&apos;s better to use local virtualenv to solve the problem so that the dependencies can be resolved automatically and we don&apos;t need to document it either. This is also mentioned by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; above. &lt;/p&gt;

&lt;p&gt;The virtual env solution may take a couple of days(we should also take the builds under windows into consideration). Before this, we can create a hotfix to remove the plugin which calls gen_protos.py to unblock these build failures asap.&lt;/p&gt;

&lt;p&gt;What do you guys think? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16945259" author="pnowojski" created="Sun, 6 Oct 2019 06:37:57 +0000"  >&lt;p&gt;From my perspective there is no need to revert this. I&apos;ve fixed manually the benchmarking CI (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; can you do the same thing for the buildbot?).&lt;/p&gt;

&lt;p&gt;Can this issue be solved by using &lt;tt&gt;virtualenv&lt;/tt&gt;? I&apos;ve always thought that you install &lt;tt&gt;python-pip&lt;/tt&gt; outside of the &lt;tt&gt;virtualenv&lt;/tt&gt;. Secondly, doesn&apos;t using the &lt;tt&gt;virtualenv&lt;/tt&gt; require some dependencies?&lt;/p&gt;

&lt;p&gt;If so, as I mentioned before, as long as we keep python code tree separated (Python&apos;s end to end test shouldn&apos;t mix with the non python tests) and as long as we won&apos;t keep adding more and more dependencies I think it would be good enough to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;don&apos;t build &lt;tt&gt;flink-python&lt;/tt&gt; by default&lt;/li&gt;
	&lt;li&gt;document dependency on the &lt;tt&gt;pip&lt;/tt&gt; either in the main README or &lt;tt&gt;flink-python&lt;/tt&gt;&apos;s README.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;After all, &lt;tt&gt;pip&lt;/tt&gt; and &lt;tt&gt;python&lt;/tt&gt; can be think of for &lt;tt&gt;flink-python&lt;/tt&gt; the same type of &quot;core dependency&quot; as &lt;tt&gt;mvn&lt;/tt&gt; and &lt;tt&gt;java&lt;/tt&gt; are for the rest of Flink.&lt;/p&gt;</comment>
                            <comment id="16945324" author="hequn8128" created="Sun, 6 Oct 2019 12:05:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; Yes, virtualenv requires some dependencies. We can address all these dependencies automatically. For example, we can download all dependencies and install them, similar to the behavior in &lt;tt&gt;lint-python.sh&lt;/tt&gt; under flink-python/dev. Currently, the &lt;tt&gt;lint-python.sh&lt;/tt&gt; is used to run python tests and generate python docs.&lt;/p&gt;

&lt;p&gt;For this problem, there are probably two options to solve it:&lt;/p&gt;

&lt;p&gt; 1. Don&apos;t build &lt;tt&gt;flink-python&lt;/tt&gt; by default. For example, only build python if we use the command &lt;tt&gt;mvn clean install -Ppython&lt;/tt&gt;. If &lt;tt&gt;-Ppython&lt;/tt&gt; is provided, we can use a script to download and install dependencies automatically. We can use virtualenv to manage these dependencies. One thing needs to be noticed is the compilation needs to be done in a networked environment.&lt;/p&gt;

&lt;p&gt;2. Avoid dependencies. Currently, the dependencies are introduced by the &lt;tt&gt;gen_protos.py&lt;/tt&gt;. It is used to generate python files during the building. To remove the dependencies, we can generate python files manually and add the generated python files into the git. Currently, there is only one generated file(flink_fn_execution_pb2.py, 493 lines of code in total) and the file is seldom altered. Furthermore, there are probably no more generated python files.&lt;/p&gt;

&lt;p&gt;Personally, I prefer the second option not only we can avoid these dependencies but also makes the build more simple, i.e., without additional flags and users will not make a mistake on it. The second option also has no strong requirement for the network during the build. &lt;br/&gt;
Does it make sense to you? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16945645" author="zentol" created="Mon, 7 Oct 2019 07:37:44 +0000"  >&lt;p&gt;Option 2 sounds fine to me.&lt;/p&gt;

&lt;p&gt;I was suggesting to revert the commit because the website hasn&apos;t been built for several days, and it is significantly faster to revert commits than to add another dependency to buildbot.&lt;/p&gt;</comment>
                            <comment id="16945677" author="pnowojski" created="Mon, 7 Oct 2019 08:24:42 +0000"  >&lt;p&gt;Option 2 sounds also fine for me for now. If this will become an issue at some point, we can always revisit it.&lt;/p&gt;

&lt;p&gt;Just for the record &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, I&apos;m not against reverting. It makes even more sense, if we will decide that we are getting rid of this dependency in the long run. In my case it boiled down to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
root&amp;gt; apt install python-pip
root&amp;gt; su jenkins
jenkins&amp;gt; pip install --upgrade pip
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16946564" author="dian.fu" created="Tue, 8 Oct 2019 06:54:03 +0000"  >&lt;p&gt;Sorry for this problem caused by my commit and also thanks for your discussion.&lt;/p&gt;

&lt;p&gt;I also prefer option 2. Besides, I think there should be no license problems adding code-generated protobuf files to the source code per the &lt;a href=&quot;https://github.com/protocolbuffers/protobuf/blob/master/LICENSE&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;LICENSE&lt;/a&gt; statement of protobuf. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160;Could you help to confirm this as I think you are more experienced at this?&lt;/p&gt;</comment>
                            <comment id="16946606" author="zentol" created="Tue, 8 Oct 2019 08:13:32 +0000"  >&lt;p&gt;Shouldn&apos;t be a problem.&lt;/p&gt;</comment>
                            <comment id="16946611" author="dian.fu" created="Tue, 8 Oct 2019 08:24:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; Thanks for your confirmation. Seems that everyone agrees on adding the code-generated file to the source code to solve this problem. I will provide a fix ASAP. Just as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&#160;said, we can revisit it if we find there are problems for this solution or there are other better solutions in the future.&lt;/p&gt;</comment>
                            <comment id="16946964" author="hequn8128" created="Tue, 8 Oct 2019 15:03:00 +0000"  >&lt;p&gt;Thank you all for your valuable feedbacks. Also thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dian.fu&quot; class=&quot;user-hover&quot; rel=&quot;dian.fu&quot;&gt;dian.fu&lt;/a&gt; for the PR. I will take a look ASAP.&lt;/p&gt;</comment>
                            <comment id="16947788" author="hequn8128" created="Wed, 9 Oct 2019 15:29:11 +0000"  >&lt;p&gt;Fixed in 1.10.0 via df44cce7f1e1bc42715e6cd0e7268c1a46b07af8&lt;/p&gt;</comment>
                            <comment id="16948479" author="pnowojski" created="Thu, 10 Oct 2019 11:40:50 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hequn8128&quot; class=&quot;user-hover&quot; rel=&quot;hequn8128&quot;&gt;hequn8128&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dianfu&quot; class=&quot;user-hover&quot; rel=&quot;dianfu&quot;&gt;dianfu&lt;/a&gt; for quickly fixing this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13255637">FLINK-14018</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z076wo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>