<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:24:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4316] Make flink-core independent of Hadoop</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4316</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;We want to gradually reduce the hard and heavy mandatory dependencies in Hadoop. Hadoop will still be part of (most) flink downloads, but the API projects should not have a hard dependency on Hadoop.&lt;/p&gt;

&lt;p&gt;I suggest to start with &lt;tt&gt;flink-core&lt;/tt&gt;, because it only depends on Hadoop for the &lt;tt&gt;Writable&lt;/tt&gt; type, to support seamless operation of Hadoop types.&lt;/p&gt;

&lt;p&gt;I propose to move all &lt;tt&gt;WritableTypeInfo&lt;/tt&gt;-related classes to the &lt;tt&gt;flink-hadoop-compatibility&lt;/tt&gt; project and access them via reflection in the &lt;tt&gt;TypeExtractor&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;That way, &lt;tt&gt;Writable&lt;/tt&gt; types will be out of the box supported if users have the &lt;tt&gt;flink-hadoop-compatibility&lt;/tt&gt; project in the classpath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12995197">FLINK-4316</key>
            <summary>Make flink-core independent of Hadoop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Aug 2016 12:21:45 +0000</created>
                <updated>Thu, 28 Feb 2019 13:21:40 +0000</updated>
                            <resolved>Wed, 10 Aug 2016 09:44:48 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15409384" author="stephanewen" created="Fri, 5 Aug 2016 12:26:02 +0000"  >&lt;p&gt;An alternative would be to copy the Hadoop &lt;tt&gt;Writable&lt;/tt&gt; type (simple interface) into &lt;tt&gt;link-core&lt;/tt&gt;. We did that before, it works well and is a much easier solution (no reflection work), but comes with two issues:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;We need to carry that class in the flink codebase&lt;/li&gt;
	&lt;li&gt;There will be multiple versions of &lt;tt&gt;Writable&lt;/tt&gt; and in theory, these could lead to class cast exceptions.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15409391" author="githubbot" created="Fri, 5 Aug 2016 12:31:52 +0000"  >&lt;p&gt;GitHub user StephanEwen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4316&quot; title=&quot;Make flink-core independent of Hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4316&quot;&gt;&lt;del&gt;FLINK-4316&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;core&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hadoop compatibility&amp;#93;&lt;/span&gt; Make flink-core independent of Hadoop&lt;/p&gt;

&lt;p&gt;    This pull request moves all &apos;Writable&apos; related code to the &apos;flink-hadoop-compatibility&apos; project&lt;br/&gt;
    and uses reflection in &apos;flink-core&apos; to instantiate WritableTypeInfo when needed.&lt;/p&gt;

&lt;p&gt;    The test are also moved and adjusted to reflect this.&lt;/p&gt;

&lt;p&gt;    One remaining issue is how to instantiate the WritableTypeInfo from within the Scala Macros. I&apos;d need @aljoscha or @tillrohrmann to look at this.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/StephanEwen/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/StephanEwen/incubator-flink&lt;/a&gt; core_no_hadoop&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2338.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2338.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2338&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit dc509d6d4b5388a40cdd13f7102daf4a7c932dba&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-08-05T10:56:41Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hadoop compatibility&amp;#93;&lt;/span&gt; Remove unneeded dependency to &apos;flink-clients&apos;&lt;/p&gt;

&lt;p&gt;    Also includes minor code cleanups for warnings and more explicit serialization behavior.&lt;/p&gt;

&lt;p&gt;commit 538759b047b337c3f2199ac400790f9a15ed4200&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-08-05T12:27:48Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4316&quot; title=&quot;Make flink-core independent of Hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4316&quot;&gt;&lt;del&gt;FLINK-4316&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;core&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hadoop compatibility&amp;#93;&lt;/span&gt; Make flink-core independent of Hadoop&lt;/p&gt;

&lt;p&gt;    This commit moves all &apos;Writable&apos; related code to the &apos;flink-hadoop-compatibility&apos; project&lt;br/&gt;
    and uses reflection in &apos;flink-core&apos; to instantiate WritableTypeInfo when needed.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15409435" author="githubbot" created="Fri, 5 Aug 2016 13:20:29 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The Scala type extraction has now also been addressed.&lt;/p&gt;</comment>
                            <comment id="15409493" author="githubbot" created="Fri, 5 Aug 2016 14:08:42 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @StephanEwen that&apos;s exactly what I was just going to suggest for Scala. &#128077; &lt;/p&gt;</comment>
                            <comment id="15413259" author="githubbot" created="Tue, 9 Aug 2016 09:21:43 +0000"  >&lt;p&gt;Github user rmetzger commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 to merge, once the failing tests are fixed.&lt;/p&gt;

&lt;p&gt;    I think the exception to the API stability check is okay in this case. The class is still in the same java package.&lt;/p&gt;

&lt;p&gt;    This are the test failures:&lt;br/&gt;
    ```&lt;br/&gt;
    Results :&lt;/p&gt;

&lt;p&gt;    Failed tests: &lt;br/&gt;
      PojoTypeExtractionTest.testPojoWC:203-&amp;gt;checkWCPojoAsserts:244 position of field complex.valueType wrong expected:&amp;lt;2&amp;gt; but was:&amp;lt;5&amp;gt;&lt;br/&gt;
    Tests in error: &lt;br/&gt;
      TypeInfoParserTest.testMultiDimensionalArray:321 &#194;&#187; IllegalArgument String coul...&lt;br/&gt;
      TypeInfoParserTest.testPojoType:190 &#194;&#187; IllegalArgument String could not be pars...&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="15413275" author="githubbot" created="Tue, 9 Aug 2016 09:30:48 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Good point. I&apos;ll fix those tests...&lt;/p&gt;</comment>
                            <comment id="15415036" author="stephanewen" created="Wed, 10 Aug 2016 09:44:48 +0000"  >&lt;p&gt;Fixed via a2f9aabac7606199c640d228cc432e5242330bc9&lt;/p&gt;</comment>
                            <comment id="15415039" author="githubbot" created="Wed, 10 Aug 2016 09:45:10 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2338&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31ykf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>