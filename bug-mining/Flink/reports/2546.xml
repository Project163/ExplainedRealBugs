<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:34:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-9860] Netty resource leak on receiver side</title>
                <link>https://issues.apache.org/jira/browse/FLINK-9860</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The Hadoop-free Wordcount end-to-end test fails with the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector  - LEAK: ByteBuf.release() was not called before it&apos;s garbage-collected. See http:&lt;span class=&quot;code-comment&quot;&gt;//netty.io/wiki/reference-counted-objects.html &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more information.
&lt;/span&gt;Recent access records: 
Created at:
	org.apache.flink.shaded.netty4.io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:331)
	org.apache.flink.shaded.netty4.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:185)
	org.apache.flink.shaded.netty4.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:176)
	org.apache.flink.shaded.netty4.io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:137)
	org.apache.flink.shaded.netty4.io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:114)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:147)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
	org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)
	org.apache.flink.shaded.netty4.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We might have a resource leak on the receiving side of our network stack.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/404225956/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/404225956/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13172355">FLINK-9860</key>
            <summary>Netty resource leak on receiver side</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkruber">Nico Kruber</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 16 Jul 2018 09:53:36 +0000</created>
                <updated>Thu, 19 Jul 2018 12:30:31 +0000</updated>
                            <resolved>Thu, 19 Jul 2018 12:30:31 +0000</resolved>
                                    <version>1.5.1</version>
                    <version>1.6.0</version>
                                    <fixVersion>1.5.2</fixVersion>
                    <fixVersion>1.6.0</fixVersion>
                                    <component>Runtime / Network</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16545457" author="nicok" created="Mon, 16 Jul 2018 16:36:14 +0000"  >&lt;p&gt;The e2e test that was running when the leak occurred actually runs with parallelism 1 on 1 taskmanager. Therefore, it cannot be in the Flink-internal communication between TMs. Also, looking at the logs in more details, it is reported from the JM log anyway.&lt;/p&gt;

&lt;p&gt;The only call that is being executed at this stage (around job submission) is &lt;tt&gt;flink list -r&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I adapted the test to loop around the job submission from one process while another one was constantly listing jobs as posted and while I was hitting &quot;Perform GC&quot; in an attached VisualVM session. I could reproduce this without any other settings but so far was not able to reproduce this with &lt;tt&gt;env.java.opts: -Dio.netty.leakDetection.level=paranoid&lt;/tt&gt; which would give more details ... trying &lt;tt&gt;env.java.opts: -Dio.netty.leakDetection.level=advanced&lt;/tt&gt; now, but maybe the timing is extremely rare already.&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="16545495" author="nicok" created="Mon, 16 Jul 2018 17:03:57 +0000"  >&lt;p&gt;oh, with our shaded netty version, I actually need to set &lt;tt&gt;org.apache.flink.shaded.netty4.io.netty.leakDetection.level&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Anyway, I got several instances with access information now (with level &lt;tt&gt;paranoid&lt;/tt&gt; - see &lt;a href=&quot;http://netty.io/wiki/reference-counted-objects.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://netty.io/wiki/reference-counted-objects.html&lt;/a&gt; ):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2018-07-16 19:01:14,477 ERROR org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector  - LEAK: ByteBuf.release() was not called before it&apos;s garbage-collected. See http:&lt;span class=&quot;code-comment&quot;&gt;//netty.io/wiki/reference-counted-objects.html &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more information.
&lt;/span&gt;Recent access records: 
#1:
	Hint: &lt;span class=&quot;code-quote&quot;&gt;&apos;FileUploadHandler#0&apos;&lt;/span&gt; will handle the message from &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; point.
	org.apache.flink.shaded.netty4.io.netty.handler.codec.http.DefaultHttpContent.touch(DefaultHttpContent.java:88)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.http.DefaultHttpContent.touch(DefaultHttpContent.java:24)
	org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.touch(DefaultChannelPipeline.java:116)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
	org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
	org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)
	org.apache.flink.shaded.netty4.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
Created at:
	org.apache.flink.shaded.netty4.io.netty.buffer.SimpleLeakAwareByteBuf.unwrappedDerived(SimpleLeakAwareByteBuf.java:143)
	org.apache.flink.shaded.netty4.io.netty.buffer.SimpleLeakAwareByteBuf.readRetainedSlice(SimpleLeakAwareByteBuf.java:67)
	org.apache.flink.shaded.netty4.io.netty.buffer.AdvancedLeakAwareByteBuf.readRetainedSlice(AdvancedLeakAwareByteBuf.java:107)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.http.HttpObjectDecoder.decode(HttpObjectDecoder.java:345)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.http.HttpServerCodec$HttpServerRequestDecoder.decode(HttpServerCodec.java:101)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428)
	org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265)
	org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
	org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
	org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)
	org.apache.flink.shaded.netty4.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16546159" author="zentol" created="Tue, 17 Jul 2018 08:03:09 +0000"  >&lt;p&gt;we should double-check whether this also applies to 1.5.1.&lt;/p&gt;</comment>
                            <comment id="16546579" author="nicok" created="Tue, 17 Jul 2018 13:06:03 +0000"  >&lt;p&gt;FYI: with leak detection (as well as error logging!) enabled, both &lt;tt&gt;FileUploadHandlerTest&lt;/tt&gt; and &lt;tt&gt;RestClientMultipartTest&lt;/tt&gt; do report this leak in the course of their tests (for 1.5.1 as well as 1.6.0). Preparing a fix now...&lt;/p&gt;</comment>
                            <comment id="16547801" author="githubbot" created="Wed, 18 Jul 2018 13:08:48 +0000"  >&lt;p&gt;GitHub user NicoK opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9860&quot; title=&quot;Netty resource leak on receiver side&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9860&quot;&gt;&lt;del&gt;FLINK-9860&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;REST&amp;#93;&lt;/span&gt; fix buffer leak in FileUploadHandler&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    The current implementation of `FileUploadHandler` has two cases where the given message was not released or forwarded for some other handler to release.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;change the use of SimpleChannelInboundHandler to auto-release objects and make sure we retain them only when needed&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This change added tests and can be verified as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adapted `FileUploadHandlerTest` to use a customized (Netty) leak detector that does not only log but fails with an assertion&lt;/li&gt;
	&lt;li&gt;enable `ERROR` logging level for `log4j.logger.org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector` in all unit tests in `flink-runtime` - the leak detector will otherwise not report anything&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): *&lt;b&gt;no&lt;/b&gt;*&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: *&lt;b&gt;no&lt;/b&gt;*&lt;/li&gt;
	&lt;li&gt;The serializers: *&lt;b&gt;no&lt;/b&gt;*&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): *&lt;b&gt;no&lt;/b&gt;*&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: *&lt;b&gt;no&lt;/b&gt;*&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: *&lt;b&gt;no&lt;/b&gt;*&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? *&lt;b&gt;no&lt;/b&gt;*&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? *&lt;b&gt;not applicable&lt;/b&gt;*&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/NicoK/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/NicoK/flink&lt;/a&gt; flink-9860&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #6363&lt;/p&gt;

&lt;hr /&gt;

&lt;hr /&gt;</comment>
                            <comment id="16547819" author="githubbot" created="Wed, 18 Jul 2018 13:15:55 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363#discussion_r203373280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363#discussion_r203373280&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/test/java/org/apache/flink/runtime/rest/FileUploadHandlerTest.java &amp;#8212;&lt;br/&gt;
    @@ -50,6 +55,24 @@&lt;/p&gt;

&lt;p&gt;     	private static final ObjectMapper OBJECT_MAPPER = RestMapperUtils.getStrictObjectMapper();&lt;/p&gt;

&lt;p&gt;    +	private static ResourceLeakDetectorFactory previousLeakDetector;&lt;br/&gt;
    +	private static ResourceLeakDetector.Level previousLeakDetectorLevel;&lt;br/&gt;
    +&lt;br/&gt;
    +	@BeforeClass&lt;br/&gt;
    +	public static void setLeakDetector() {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    we could move this into a utility `LeakDetectorResource` so we can re-use it for any test by simply adding it as a `@Rule`.&lt;/p&gt;</comment>
                            <comment id="16547890" author="githubbot" created="Wed, 18 Jul 2018 14:23:13 +0000"  >&lt;p&gt;Github user NicoK commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363#discussion_r203398509&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363#discussion_r203398509&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/test/java/org/apache/flink/runtime/rest/FileUploadHandlerTest.java &amp;#8212;&lt;br/&gt;
    @@ -50,6 +55,24 @@&lt;/p&gt;

&lt;p&gt;     	private static final ObjectMapper OBJECT_MAPPER = RestMapperUtils.getStrictObjectMapper();&lt;/p&gt;

&lt;p&gt;    +	private static ResourceLeakDetectorFactory previousLeakDetector;&lt;br/&gt;
    +	private static ResourceLeakDetector.Level previousLeakDetectorLevel;&lt;br/&gt;
    +&lt;br/&gt;
    +	@BeforeClass&lt;br/&gt;
    +	public static void setLeakDetector() {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    great idea - done&lt;/p&gt;</comment>
                            <comment id="16547967" author="githubbot" created="Wed, 18 Jul 2018 15:29:56 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363#discussion_r203414529&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363#discussion_r203414529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/test/java/org/apache/flink/runtime/rest/FileUploadHandlerTest.java &amp;#8212;&lt;br/&gt;
    @@ -220,4 +224,5 @@ public void testUploadCleanupOnFailure() throws IOException {&lt;br/&gt;
     		}&lt;br/&gt;
     		MULTIPART_UPLOAD_RESOURCE.assertUploadDirectoryIsEmpty();&lt;br/&gt;
     	}&lt;br/&gt;
    +&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    revert&lt;/p&gt;</comment>
                            <comment id="16547968" author="githubbot" created="Wed, 18 Jul 2018 15:29:56 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363#discussion_r203422176&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363#discussion_r203422176&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/NettyLeakDetectionResource.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,84 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.io.network.netty;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector;&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetectorFactory;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.junit.rules.ExternalResource;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    + * JUnit resource to fail with an assertion when Netty detects a resource leak (only with&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;ERROR&amp;lt;/tt&amp;gt; logging enabled for&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector&amp;lt;/tt&amp;gt;).&lt;br/&gt;
    + *&lt;br/&gt;
    + * &amp;lt;p&amp;gt;This should be used in a class rule:&lt;br/&gt;
    + * &amp;lt;pre&amp;gt;&lt;/p&gt;
{@code
    + * @literal @ClassRule
    + *  public static final NettyLeakDetectionResource LEAK_DETECTION = new NettyLeakDetectionResource();
    + * }
&lt;p&gt;&amp;lt;/pre&amp;gt;&lt;br/&gt;
    + */&lt;br/&gt;
    +public class NettyLeakDetectionResource extends ExternalResource {&lt;br/&gt;
    +	private static ResourceLeakDetectorFactory previousLeakDetector;&lt;br/&gt;
    +	private static ResourceLeakDetector.Level previousLeakDetectorLevel;&lt;br/&gt;
    +&lt;br/&gt;
    +	@Override&lt;br/&gt;
    +	protected void before() {&lt;br/&gt;
    +		previousLeakDetector = ResourceLeakDetectorFactory.instance();&lt;br/&gt;
    +		previousLeakDetectorLevel = ResourceLeakDetector.getLevel();&lt;br/&gt;
    +&lt;br/&gt;
    +		ResourceLeakDetector.setLevel(ResourceLeakDetector.Level.PARANOID);&lt;br/&gt;
    +		ResourceLeakDetectorFactory.setResourceLeakDetectorFactory(new FailingResourceLeakDetectorFactory());&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    so this isn&apos;t something we necessarily have to deal with now, but if multiple tests that use this resource run in parallel we might not reset to the correct factory/level.&lt;/p&gt;

&lt;p&gt;    Effectively what we need is some kinda ref-counting so that only the first resource modifies the level and factory, and only the last resource reset them. :/&lt;/p&gt;

</comment>
                            <comment id="16547969" author="githubbot" created="Wed, 18 Jul 2018 15:29:56 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363#discussion_r203414700&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363#discussion_r203414700&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/NettyLeakDetectionResource.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,84 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.io.network.netty;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector;&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetectorFactory;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.junit.rules.ExternalResource;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    + * JUnit resource to fail with an assertion when Netty detects a resource leak (only with&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;ERROR&amp;lt;/tt&amp;gt; logging enabled for&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector&amp;lt;/tt&amp;gt;).&lt;br/&gt;
    + *&lt;br/&gt;
    + * &amp;lt;p&amp;gt;This should be used in a class rule:&lt;br/&gt;
    + * &amp;lt;pre&amp;gt;&lt;/p&gt;
{@code
    + * @literal @ClassRule
    + *  public static final NettyLeakDetectionResource LEAK_DETECTION = new NettyLeakDetectionResource();
    + * }
&lt;p&gt;&amp;lt;/pre&amp;gt;&lt;br/&gt;
    + */&lt;br/&gt;
    +public class NettyLeakDetectionResource extends ExternalResource {&lt;br/&gt;
    +	private static ResourceLeakDetectorFactory previousLeakDetector;&lt;br/&gt;
    +	private static ResourceLeakDetector.Level previousLeakDetectorLevel;&lt;br/&gt;
    +&lt;br/&gt;
    +	@Override&lt;br/&gt;
    +	protected void before() &lt;/p&gt;
{
    +		previousLeakDetector = ResourceLeakDetectorFactory.instance();
    +		previousLeakDetectorLevel = ResourceLeakDetector.getLevel();
    +
    +		ResourceLeakDetector.setLevel(ResourceLeakDetector.Level.PARANOID);
    +		ResourceLeakDetectorFactory.setResourceLeakDetectorFactory(new FailingResourceLeakDetectorFactory());
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	@Override&lt;br/&gt;
    +	protected void after() &lt;/p&gt;
{
    +		ResourceLeakDetectorFactory.setResourceLeakDetectorFactory(previousLeakDetector);
    +		ResourceLeakDetector.setLevel(previousLeakDetectorLevel);
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	static class FailingResourceLeakDetectorFactory extends ResourceLeakDetectorFactory {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    these could be private?&lt;/p&gt;</comment>
                            <comment id="16547991" author="githubbot" created="Wed, 18 Jul 2018 15:48:25 +0000"  >&lt;p&gt;Github user NicoK commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363#discussion_r203432013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363#discussion_r203432013&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/NettyLeakDetectionResource.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,84 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.io.network.netty;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector;&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetectorFactory;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.junit.rules.ExternalResource;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    + * JUnit resource to fail with an assertion when Netty detects a resource leak (only with&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;ERROR&amp;lt;/tt&amp;gt; logging enabled for&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector&amp;lt;/tt&amp;gt;).&lt;br/&gt;
    + *&lt;br/&gt;
    + * &amp;lt;p&amp;gt;This should be used in a class rule:&lt;br/&gt;
    + * &amp;lt;pre&amp;gt;&lt;/p&gt;
{@code
    + * @literal @ClassRule
    + *  public static final NettyLeakDetectionResource LEAK_DETECTION = new NettyLeakDetectionResource();
    + * }
&lt;p&gt;&amp;lt;/pre&amp;gt;&lt;br/&gt;
    + */&lt;br/&gt;
    +public class NettyLeakDetectionResource extends ExternalResource {&lt;br/&gt;
    +	private static ResourceLeakDetectorFactory previousLeakDetector;&lt;br/&gt;
    +	private static ResourceLeakDetector.Level previousLeakDetectorLevel;&lt;br/&gt;
    +&lt;br/&gt;
    +	@Override&lt;br/&gt;
    +	protected void before() {&lt;br/&gt;
    +		previousLeakDetector = ResourceLeakDetectorFactory.instance();&lt;br/&gt;
    +		previousLeakDetectorLevel = ResourceLeakDetector.getLevel();&lt;br/&gt;
    +&lt;br/&gt;
    +		ResourceLeakDetector.setLevel(ResourceLeakDetector.Level.PARANOID);&lt;br/&gt;
    +		ResourceLeakDetectorFactory.setResourceLeakDetectorFactory(new FailingResourceLeakDetectorFactory());&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    true - done&lt;/p&gt;</comment>
                            <comment id="16548008" author="githubbot" created="Wed, 18 Jul 2018 16:03:18 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1&lt;/p&gt;</comment>
                            <comment id="16549056" author="githubbot" created="Thu, 19 Jul 2018 09:34:51 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    merging.&lt;/p&gt;</comment>
                            <comment id="16549060" author="githubbot" created="Thu, 19 Jul 2018 09:40:20 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363#discussion_r203662639&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363#discussion_r203662639&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/NettyLeakDetectionResource.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,103 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.runtime.io.network.netty;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector;&lt;br/&gt;
    +import org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetectorFactory;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.junit.rules.ExternalResource;&lt;br/&gt;
    +&lt;br/&gt;
    +import javax.annotation.concurrent.GuardedBy;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    + * JUnit resource to fail with an assertion when Netty detects a resource leak (only with&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;ERROR&amp;lt;/tt&amp;gt; logging enabled for&lt;br/&gt;
    + * &amp;lt;tt&amp;gt;org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector&amp;lt;/tt&amp;gt;).&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Would it be possible to check for this condition by doing something like this in `@Before`?&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    Assert.assertTrue(LoggerFactory.getLogger(org.apache.flink.shaded.netty4.io.netty.util.ResourceLeakDetector.class).isErrorEnabled());&lt;br/&gt;
    ```&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16549146" author="githubbot" created="Thu, 19 Jul 2018 11:23:36 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/6363&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6363&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16549210" author="zentol" created="Thu, 19 Jul 2018 12:29:43 +0000"  >&lt;p&gt;1.5: c1c4bcb34b421eff12bc52c2e56219233acbd290&lt;/p&gt;</comment>
                            <comment id="16549214" author="zentol" created="Thu, 19 Jul 2018 12:30:31 +0000"  >&lt;p&gt;master: 6a56e48c78caecda84d0995f67bf92dad37b1791&lt;br/&gt;
1.6: 49c6f385df97958cda77933edfce93cd71d46600&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vxc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>