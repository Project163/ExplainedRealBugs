<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:44:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-16916] The logic of NullableSerializer#copy is wrong</title>
                <link>https://issues.apache.org/jira/browse/FLINK-16916</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When debugging the problem reported by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-16724&quot; title=&quot;ListSerializer cannot serialize list which containers null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-16724&quot;&gt;&lt;del&gt;FLINK-16724&lt;/del&gt;&lt;/a&gt;, Found that the&#160;logic of&#160;&lt;tt&gt;NullableSerializer#copy&lt;/tt&gt;&#160;is wrong. currently, the logic is such as below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void copy(DataInputView source, DataOutputView target) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
   &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull = source.readBoolean();
   target.writeBoolean(isNull);
   &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isNull) {
      target.write(padding);
   }
   &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      originalSerializer.copy(source, target);
   }
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;we forgot to skip &lt;tt&gt;paddings.length&lt;/tt&gt; bytes&#160;when if the &lt;tt&gt;padding&lt;/tt&gt;&apos;s length is not 0.&lt;/p&gt;

&lt;p&gt;We can correct the logic such as below&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void copy(DataInputView source, DataOutputView target) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
   &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNull = deserializeNull(source); &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; will skip the padding values.
&lt;/span&gt;   target.writeBoolean(isNull);
   &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isNull) {
      target.write(padding);
   }
   &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      originalSerializer.copy(source, target);
   }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13295485">FLINK-16916</key>
            <summary>The logic of NullableSerializer#copy is wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klion26">Congxian Qiu</assignee>
                                    <reporter username="klion26">Congxian Qiu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 1 Apr 2020 09:45:34 +0000</created>
                <updated>Thu, 2 Apr 2020 17:01:57 +0000</updated>
                            <resolved>Thu, 2 Apr 2020 17:01:57 +0000</resolved>
                                    <version>1.8.3</version>
                    <version>1.9.2</version>
                    <version>1.10.0</version>
                                    <fixVersion>1.8.4</fixVersion>
                    <fixVersion>1.9.3</fixVersion>
                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>API / Type Serialization System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17072593" author="klion26" created="Wed, 1 Apr 2020 09:48:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;&#160;, what do you think about this, please assign this to me if it is reasonable.&lt;br/&gt;
As this can lead to wrong answer when using this serializer, so mark it as BLOCKer, please downgrade if the priority set wrong.&lt;/p&gt;</comment>
                            <comment id="17073456" author="aljoscha" created="Thu, 2 Apr 2020 07:36:36 +0000"  >&lt;p&gt;Good analysis!&lt;/p&gt;</comment>
                            <comment id="17073902" author="aljoscha" created="Thu, 2 Apr 2020 17:01:57 +0000"  >&lt;p&gt;master: d6d7158d0a205e7d4524ae39c5cd7512d7c0ab38&lt;br/&gt;
release-1.10: 5c89c61c051c2f5728d8a5bfb7d833158f9eabb7&lt;br/&gt;
release-1.9: 6c4112ee955171331f464ffd8c13324adc83f06e&lt;br/&gt;
release-1.8: 8e97e1137fc85db2dbef6d50b687332f0c013ce5&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d5pk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>