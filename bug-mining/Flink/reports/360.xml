<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1937] Cannot create SparseVector with only one non-zero element.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1937</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;I tried creating SparseVector with only one non-zero element. But I couldn&apos;t create it. Following code causes the problem.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;val vec2 = SparseVector.fromCOO(3, (1, 1))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I got a compile error following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;Error:(60, 29) overloaded method value fromCOO with alternatives:
  (size: Int,entries: Iterable[(Int, Double)])org.apache.flink.ml.math.SparseVector &amp;lt;and&amp;gt;
  (size: Int,entries: (Int, Double)*)org.apache.flink.ml.math.SparseVector
 cannot be applied to (Int, (Int, Int))
    val vec2 = SparseVector.fromCOO(3, (1, 1))
                            ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12823641">FLINK-1937</key>
            <summary>Cannot create SparseVector with only one non-zero element.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="chiwanpark">Chiwan Park</reporter>
                        <labels>
                            <label>ML</label>
                    </labels>
                <created>Fri, 24 Apr 2015 03:23:05 +0000</created>
                <updated>Thu, 7 May 2015 14:17:56 +0000</updated>
                            <resolved>Thu, 7 May 2015 14:17:56 +0000</resolved>
                                                                    <component>Library / Machine Learning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14516699" author="till.rohrmann" created="Tue, 28 Apr 2015 09:08:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chiwanpark&quot; class=&quot;user-hover&quot; rel=&quot;chiwanpark&quot;&gt;chiwanpark&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;the problem here is that the Scala type inference mechanism cannot infer that the tuple type should be (Int, Double) instead of (Int, Int). When you provide multiple tuples to the &lt;tt&gt;fromCOO&lt;/tt&gt; method, Scala knows that only the varargs method can be applied and thus concludes that the second field of each tuple has to be a &lt;tt&gt;Double&lt;/tt&gt;. In case of a single tuple, I assume that Scala also considers the overloaded method which takes an &lt;tt&gt;Iterable&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;You can circumvent this problem by simply telling Scala that your tuple is of type (Int, Double) by:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SparseVector.fromCOO(3, (1, 1.0))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We can also think of adding a special case &lt;tt&gt;fromCOO&lt;/tt&gt; implementation which takes a single (Int, Int) tuple and converts it into (Int, Double).&lt;/p&gt;</comment>
                            <comment id="14516703" author="githubbot" created="Tue, 28 Apr 2015 09:13:12 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/636&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/636&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1937&quot; title=&quot;Cannot create SparseVector with only one non-zero element.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1937&quot;&gt;&lt;del&gt;FLINK-1937&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Fixes sparse vector/matrix creation fromCOO with a single element&lt;/p&gt;

&lt;p&gt;    The problem seems to be that Scala apparently cannot infer the correct type of a single tuple in the presence of the overloaded method with the ```Iterable``` type parameter. If one provides more than one element, then Scala knows that only the varargs method is applicable and thus infers that the tuples have to be of type ```(Int, Double)```.&lt;/p&gt;

&lt;p&gt;    One can solve this problem by specifying explicitly that the single tuple is of type ```(Int, Double)```. However, to ensure a nice user experience I added a special case method which takes a single tuple of type ```(Int, Int)``` and converts it into a ```(Int, Double)``` type.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixSparseVector&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/636.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/636.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #636&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2a497a3e42574f5f17e4ec2133b8b7f7ccdd37bb&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-04-28T09:01:07Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1937&quot; title=&quot;Cannot create SparseVector with only one non-zero element.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1937&quot;&gt;&lt;del&gt;FLINK-1937&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Fixes sparse vector/matrix creation fromCOO with a single element&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14517158" author="githubbot" created="Tue, 28 Apr 2015 15:11:51 +0000"  >&lt;p&gt;Github user chiwanpark commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/636#issuecomment-97100649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/636#issuecomment-97100649&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good to merge. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14518960" author="githubbot" created="Wed, 29 Apr 2015 08:32:37 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/636#issuecomment-97351925&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/636#issuecomment-97351925&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for reviewing @chiwanpark. I&apos;ll merge it then.&lt;/p&gt;</comment>
                            <comment id="14532688" author="githubbot" created="Thu, 7 May 2015 14:07:51 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/636&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/636&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14532721" author="till.rohrmann" created="Thu, 7 May 2015 14:17:56 +0000"  >&lt;p&gt;Fixed via 2f08d9d561de5789a2ef784411f6f4a9ed4afb9f&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dp5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>