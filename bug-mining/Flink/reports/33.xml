<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-386] Duplicate dependencies in lib folder</title>
                <link>https://issues.apache.org/jira/browse/FLINK-386</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;There are some dependencies for which two different versions end up in the lib folder&lt;/p&gt;

&lt;p&gt;```&lt;br/&gt;
servlet-api-2.5-6.1.14.jar&lt;br/&gt;
servlet-api-3.0.20100224.jar&lt;br/&gt;
stax-api-1.0.1.jar&lt;br/&gt;
stax-api-1.0-2.jar&lt;br/&gt;
```&lt;br/&gt;
As far as I see it, these are transitive dependencies.&lt;/p&gt;

&lt;p&gt;Teh problem is that what classes are available at runtime depends on which jar is loaded first by the classloader. This is somewhat unpredictable and can lead to weird errors in the components that have these dependencies. &lt;/p&gt;

&lt;p&gt;---------------- Imported from GitHub ----------------&lt;br/&gt;
Url: &lt;a href=&quot;https://github.com/stratosphere/stratosphere/issues/386&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stratosphere/stratosphere/issues/386&lt;/a&gt;&lt;br/&gt;
Created by: &lt;a href=&quot;https://github.com/StephanEwen&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;StephanEwen&lt;/a&gt;&lt;br/&gt;
Labels: &lt;br/&gt;
Created at: Thu Jan 09 19:44:07 CET 2014&lt;br/&gt;
State: open&lt;/p&gt;</description>
                <environment></environment>
        <key id="12719557">FLINK-386</key>
            <summary>Duplicate dependencies in lib folder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="warneke">Daniel Warneke</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>github-import</label>
                    </labels>
                <created>Mon, 9 Jun 2014 12:11:58 +0000</created>
                <updated>Tue, 29 Jul 2014 23:23:27 +0000</updated>
                            <resolved>Tue, 29 Jul 2014 22:55:32 +0000</resolved>
                                                    <fixVersion>pre-apache</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14023206" author="github-import" created="Mon, 9 Jun 2014 12:12:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/rmetzger]&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Date: Thu Jan 09 19:47:28 CET 2014, Author: [rmetzger&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can use `mvn dependency:tree` to see where these dependencies are coming from.&lt;br/&gt;
I think the `dependencyManagement` block in the main pom.xml is used to control which version we want in those cases. &lt;/p&gt;</comment>
                            <comment id="14046851" author="warneke" created="Sat, 28 Jun 2014 12:55:01 +0000"  >&lt;p&gt;I will take care of this.&lt;/p&gt;</comment>
                            <comment id="14054070" author="warneke" created="Mon, 7 Jul 2014 19:27:32 +0000"  >&lt;p&gt;Unfortunately, there is no easy fix for this, because the duplicate entries in the lib directory refer to libraries with different Maven group IDs, for example:&lt;/p&gt;

&lt;p&gt;stax:stax-api:jar:1.0.1&lt;br/&gt;
javax.xml.stream:stax-api:jar:1.0-2&lt;/p&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;p&gt;org.mortbay.jetty:jetty-util:jar:6.1.26&lt;br/&gt;
org.eclipse.jetty:jetty-util:jar:8.0.0.M1&lt;/p&gt;

&lt;p&gt;As a result, Maven&#8217;s strategies to resolve conflicting dependency versions do not work here. I still suspect the different libraries to contain mostly similar or even identical code (maybe the artifacts have been renamed in the course of time), however there is no way to automatically derive that. Most of the duplicates originate from the hadoop-core dependency, which seems to include some rather outdated stuff.&lt;/p&gt;

&lt;p&gt;For now, I cleaned up/upgraded the current dependency tree, so we at least get rid of some unnecessary includes and Scala warnings during the compilation process. The code can be found at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/warneke/incubator-flink/tree/depcleanup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/warneke/incubator-flink/tree/depcleanup&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14054160" author="rmetzger" created="Mon, 7 Jul 2014 20:18:28 +0000"  >&lt;p&gt;I really like that you removed some of our dependencies. That should help speeding up our tests.&lt;br/&gt;
I&apos;m not so sure about just upgrading the versions of the dependencies. Ideally they contain bugfixes and improvements, but we need to test our system well after adding these changes.&lt;/p&gt;

&lt;p&gt;Can you open a pull request from the depcleanup branch? Its much easier to review changes in a PR.&lt;/p&gt;</comment>
                            <comment id="14055278" author="warneke" created="Tue, 8 Jul 2014 18:40:35 +0000"  >&lt;p&gt;I see your point. Let me figure out how to open a pull request and we can debute on how to proceed from there.&lt;/p&gt;</comment>
                            <comment id="14055285" author="rmetzger" created="Tue, 8 Jul 2014 18:44:39 +0000"  >&lt;p&gt;Its very easy. Let me know if you need any help.&lt;br/&gt;
I think the problem is that this repository: &lt;a href=&quot;https://github.com/warneke/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/warneke/incubator-flink&lt;/a&gt; is not a Fork of incubator flink.&lt;br/&gt;
You have to click the &quot;Fork&quot; button, then GitHub knows that the repo is a for of ours.&lt;/p&gt;

&lt;p&gt;Then push the branch to the fork and it will automatically show you that you can open a PR.&lt;/p&gt;</comment>
                            <comment id="14068394" author="stephanewen" created="Mon, 21 Jul 2014 10:40:26 +0000"  >&lt;p&gt;Any updates on that one? I stumbled over the problem again...&lt;/p&gt;</comment>
                            <comment id="14069111" author="warneke" created="Mon, 21 Jul 2014 19:36:50 +0000"  >&lt;p&gt;I tried to merge my changes with the renamed code version and failed miserably. As soon as I have time, I will try to create a patch from the changes, edit the patch to match the new file paths and then reapply the patch to the new code version.&lt;/p&gt;</comment>
                            <comment id="14075617" author="githubbot" created="Sun, 27 Jul 2014 13:05:45 +0000"  >&lt;p&gt;GitHub user warneke opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-386&quot; title=&quot;Duplicate dependencies in lib folder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-386&quot;&gt;&lt;del&gt;FLINK-386&lt;/del&gt;&lt;/a&gt; Duplicate dependencies in lib folder&lt;/p&gt;

&lt;p&gt;    This set of changes cleans up/upgrades the dependencies of Flink and reduces the problem of duplicate libraries in the in lib folder as far as possible.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/warneke/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/warneke/incubator-flink&lt;/a&gt; depcleanup&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #80&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 28cc9cf744bac5f09a635a15bcce59579a561abe&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:30:38Z&lt;/p&gt;

&lt;p&gt;    Upgraded to junit 4.11 and fixed code that used deprecated&lt;/p&gt;

&lt;p&gt;commit 265177b14b09767af1968339723297965271aad0&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:32:28Z&lt;/p&gt;

&lt;p&gt;    Changed scala dependency from 2.10.3 to 2.10.4 to avoid conflicts with scalatest dependency&lt;/p&gt;

&lt;p&gt;commit 48488ef8bb88519596cb37706186feea0816d9fd&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:33:39Z&lt;/p&gt;

&lt;p&gt;    Upgraded log4j and commons-logging dependency&lt;/p&gt;

&lt;p&gt;commit e990f02e24ef43ecdf7f73630141036840dccdc6&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:39:26Z&lt;/p&gt;

&lt;p&gt;    Removed superfluous dependency on commons-codec&lt;/p&gt;

&lt;p&gt;commit e37275249e4cda1665a68f57a5a67678ff24d2b7&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:40:47Z&lt;/p&gt;

&lt;p&gt;    Upgraded dependency versions in the base module&lt;/p&gt;

&lt;p&gt;commit cacfc3f3fc49a765dca39f155abafa5608638a21&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:43:53Z&lt;/p&gt;

&lt;p&gt;    Ensured consistency of avro versions across submodules&lt;/p&gt;

&lt;p&gt;commit 45721ef8cf1c213a7dc8950cf8898dd0192dd77b&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:44:53Z&lt;/p&gt;

&lt;p&gt;    Upgraded AWS dependency to version 1.8.1&lt;/p&gt;

&lt;p&gt;commit 933b3c0f1267a29a4c033e574256665a053c5e16&lt;br/&gt;
Author: Daniel Warneke &amp;lt;warneke@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-07-27T12:56:35Z&lt;/p&gt;

&lt;p&gt;    Unified configuration of jetty dependency&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14076254" author="githubbot" created="Mon, 28 Jul 2014 14:19:32 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80#issuecomment-50344119&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80#issuecomment-50344119&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Nice one, looks very good to me.&lt;/p&gt;

&lt;p&gt;    I think we should make this part of the first release candidate.&lt;/p&gt;</comment>
                            <comment id="14076256" author="githubbot" created="Mon, 28 Jul 2014 14:24:38 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80#issuecomment-50344798&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80#issuecomment-50344798&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    An enhancement could be to exclude some of the hadoop dependencies for Hadoop 1. In Hadoop 1, there is no separation between core, mapred, hdfs, client, etc. So we have all the dependencies (JSP, jettison, jetty, hsqldb), which are most likely not needed.&lt;/p&gt;</comment>
                            <comment id="14076695" author="githubbot" created="Mon, 28 Jul 2014 19:48:59 +0000"  >&lt;p&gt;Github user warneke commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80#issuecomment-50389191&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80#issuecomment-50389191&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, but do you really want to start to track down which dependency is used by which subsystem of Hadoop1? This is probably both cumbersome and error-prone.&lt;/p&gt;</comment>
                            <comment id="14077890" author="githubbot" created="Tue, 29 Jul 2014 16:06:03 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80#issuecomment-50498033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80#issuecomment-50498033&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ve tested this on a 25 node cluster and didn&apos;t run into any problems during compiliation or runtime.&lt;/p&gt;</comment>
                            <comment id="14077911" author="githubbot" created="Tue, 29 Jul 2014 16:20:19 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80#issuecomment-50500024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80#issuecomment-50500024&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Okay, then let us merge it into master. I think that afterwards, we can fork the 0.6 release branch to prepare the first release candidate.&lt;/p&gt;</comment>
                            <comment id="14078008" author="githubbot" created="Tue, 29 Jul 2014 17:16:39 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80#issuecomment-50507788&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80#issuecomment-50507788&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK, let me merge it in the next batch.&lt;/p&gt;</comment>
                            <comment id="14078545" author="uce" created="Tue, 29 Jul 2014 22:55:32 +0000"  >&lt;p&gt;Merged in bef5e5487b3192e5ef2169fdbbd459610b762f76.&lt;/p&gt;</comment>
                            <comment id="14078591" author="githubbot" created="Tue, 29 Jul 2014 23:23:27 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/80&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397756</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wh9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>