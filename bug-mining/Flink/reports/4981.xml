<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:51:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-20615] Local recovery and sticky scheduling end-to-end test timeout with &quot;IOException: Stream Closed&quot;</title>
                <link>https://issues.apache.org/jira/browse/FLINK-20615</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10905&amp;amp;view=logs&amp;amp;j=6caf31d6-847a-526e-9624-468e053467d6&amp;amp;t=0b23652f-b18b-5b6e-6eb6-a11070364610&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10905&amp;amp;view=logs&amp;amp;j=6caf31d6-847a-526e-9624-468e053467d6&amp;amp;t=0b23652f-b18b-5b6e-6eb6-a11070364610&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It tried to restart many times, and the final error was following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-12-15T23:54:00.5067862Z Dec 15 23:53:42 2020-12-15 23:53:41,538 ERROR org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder [] - Caught unexpected exception.
2020-12-15T23:54:00.5068392Z Dec 15 23:53:42 java.io.IOException: Stream Closed
2020-12-15T23:54:00.5068767Z Dec 15 23:53:42 	at java.io.FileInputStream.readBytes(Native Method) ~[?:?]
2020-12-15T23:54:00.5069223Z Dec 15 23:53:42 	at java.io.FileInputStream.read(FileInputStream.java:279) ~[?:?]
2020-12-15T23:54:00.5070150Z Dec 15 23:53:42 	at org.apache.flink.core.fs.local.LocalDataInputStream.read(LocalDataInputStream.java:73) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5071217Z Dec 15 23:53:42 	at org.apache.flink.core.fs.FSDataInputStreamWrapper.read(FSDataInputStreamWrapper.java:61) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5072295Z Dec 15 23:53:42 	at org.apache.flink.runtime.util.ForwardingInputStream.read(ForwardingInputStream.java:51) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5072967Z Dec 15 23:53:42 	at java.io.DataInputStream.readFully(DataInputStream.java:200) ~[?:?]
2020-12-15T23:54:00.5073483Z Dec 15 23:53:42 	at java.io.DataInputStream.readFully(DataInputStream.java:170) ~[?:?]
2020-12-15T23:54:00.5074535Z Dec 15 23:53:42 	at org.apache.flink.api.common.typeutils.base.array.BytePrimitiveArraySerializer.deserialize(BytePrimitiveArraySerializer.java:85) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5075847Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKVStateData(RocksDBFullRestoreOperation.java:222) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5077187Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKeyGroupsInStateHandle(RocksDBFullRestoreOperation.java:169) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5078495Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restore(RocksDBFullRestoreOperation.java:152) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5079802Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:269) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5081013Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:565) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5082215Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:94) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5083500Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:299) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5084899Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5086342Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5087601Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:316) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5088924Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:155) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5090261Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:248) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5091459Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:400) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5092604Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$2(StreamTask.java:507) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5093748Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.runThrowing(StreamTaskActionExecutor.java:47) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5094866Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:501) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5095912Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:531) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5096875Z Dec 15 23:53:42 	at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:722) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5097814Z Dec 15 23:53:42 	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:547) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5098373Z Dec 15 23:53:42 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834) [?:?]
2020-12-15T23:54:00.5099549Z Dec 15 23:53:42 2020-12-15 23:53:41,557 WARN  org.apache.flink.streaming.api.operators.BackendRestorerProcedure [] - Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; restoring keyed state backend &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; StreamFlatMap_20ba6b65f97481d5570070de90e4e791_(1/4) from alternative (1/1), will retry &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; more alternatives are available.
2020-12-15T23:54:00.5100556Z Dec 15 23:53:42 org.apache.flink.runtime.state.BackendBuildingException: Caught unexpected exception.
2020-12-15T23:54:00.5101480Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:328) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5102669Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:565) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5103763Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:94) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5104723Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:299) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5105700Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5106630Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5107587Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:316) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5108581Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:155) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5109505Z Dec 15 23:53:42 	at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:248) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5110456Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:400) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5111316Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$2(StreamTask.java:507) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5112175Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.runThrowing(StreamTaskActionExecutor.java:47) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5113012Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:501) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5113787Z Dec 15 23:53:42 	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:531) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5114521Z Dec 15 23:53:42 	at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:722) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5115209Z Dec 15 23:53:42 	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:547) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5115635Z Dec 15 23:53:42 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834) [?:?]
2020-12-15T23:54:00.5115949Z Dec 15 23:53:42 Caused by: java.io.IOException: Stream Closed
2020-12-15T23:54:00.5116246Z Dec 15 23:53:42 	at java.io.FileInputStream.readBytes(Native Method) ~[?:?]
2020-12-15T23:54:00.5116589Z Dec 15 23:53:42 	at java.io.FileInputStream.read(FileInputStream.java:279) ~[?:?]
2020-12-15T23:54:00.5117284Z Dec 15 23:53:42 	at org.apache.flink.core.fs.local.LocalDataInputStream.read(LocalDataInputStream.java:73) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5118080Z Dec 15 23:53:42 	at org.apache.flink.core.fs.FSDataInputStreamWrapper.read(FSDataInputStreamWrapper.java:61) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5118894Z Dec 15 23:53:42 	at org.apache.flink.runtime.util.ForwardingInputStream.read(ForwardingInputStream.java:51) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5119392Z Dec 15 23:53:42 	at java.io.DataInputStream.readFully(DataInputStream.java:200) ~[?:?]
2020-12-15T23:54:00.5119808Z Dec 15 23:53:42 	at java.io.DataInputStream.readFully(DataInputStream.java:170) ~[?:?]
2020-12-15T23:54:00.5120605Z Dec 15 23:53:42 	at org.apache.flink.api.common.typeutils.base.array.BytePrimitiveArraySerializer.deserialize(BytePrimitiveArraySerializer.java:85) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5121576Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKVStateData(RocksDBFullRestoreOperation.java:222) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5122579Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKeyGroupsInStateHandle(RocksDBFullRestoreOperation.java:169) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5123543Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restore(RocksDBFullRestoreOperation.java:152) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5124476Z Dec 15 23:53:42 	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:269) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-15T23:54:00.5124994Z Dec 15 23:53:42 	... 16 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13346237">FLINK-20615</key>
            <summary>Local recovery and sticky scheduling end-to-end test timeout with &quot;IOException: Stream Closed&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="hxbks2ks">Huang Xingbo</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Wed, 16 Dec 2020 03:54:09 +0000</created>
                <updated>Fri, 28 May 2021 07:00:30 +0000</updated>
                            <resolved>Mon, 4 Jan 2021 16:20:03 +0000</resolved>
                                    <version>1.12.0</version>
                    <version>1.13.0</version>
                                    <fixVersion>1.12.1</fixVersion>
                    <fixVersion>1.13.0</fixVersion>
                                    <component>Runtime / State Backends</component>
                    <component>Runtime / Task</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17250730" author="hxbks2ks" created="Thu, 17 Dec 2020 01:55:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10944&amp;amp;view=logs&amp;amp;j=739e6eac-8312-5d31-d437-294c4d26fced&amp;amp;t=a68b8d89-50e9-5977-4500-f4fde4f57f9b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10944&amp;amp;view=logs&amp;amp;j=739e6eac-8312-5d31-d437-294c4d26fced&amp;amp;t=a68b8d89-50e9-5977-4500-f4fde4f57f9b&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17250777" author="hxbks2ks" created="Thu, 17 Dec 2020 03:28:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10924&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=ff888d9b-cd34-53cc-d90f-3e446d355529&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=10924&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=ff888d9b-cd34-53cc-d90f-3e446d355529&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17256432" author="till.rohrmann" created="Wed, 30 Dec 2020 10:25:37 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11467&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=ff888d9b-cd34-53cc-d90f-3e446d355529&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11467&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=ff888d9b-cd34-53cc-d90f-3e446d355529&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17256444" author="till.rohrmann" created="Wed, 30 Dec 2020 10:43:58 +0000"  >&lt;p&gt;Looking at the log output &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688) switched from DEPLOYING to RUNNING.
2020-12-29T21:11:45.6842078Z Dec 29 21:11:04 2020-12-29 21:10:56,757 DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask          [] - Initializing Source: Custom Source (3/4)#255.
2020-12-29T21:11:45.6843136Z Dec 29 21:11:04 2020-12-29 21:10:56,758 DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask          [] - Invoking Source: Custom Source (3/4)#255
2020-12-29T21:11:45.6844432Z Dec 29 21:11:04 2020-12-29 21:10:56,758 DEBUG org.apache.flink.runtime.state.TaskLocalStateStoreImpl       [] - Did not find registered local state &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; checkpoint 3 in subtask (e22dc2b9ff59ed3b5f9f444745153baa - bc764cd8ddf7a0cff126f51c16239658 - 2)
2020-12-29T21:11:45.6849247Z Dec 29 21:11:04 2020-12-29 21:10:56,758 DEBUG org.apache.flink.runtime.state.TaskStateManagerImpl          [] - Operator bc764cd8ddf7a0cff126f51c16239658 has remote state SubtaskState{operatorStateFromBackend=StateObjectCollection{[OperatorStateHandle{stateNameToPartitionOffsets={currentKey=StateMetaInfo{offsets=[192], distributionMode=SPLIT_DISTRIBUTE}}, delegateStateHandle=ByteStreamStateHandle{handleName=&lt;span class=&quot;code-quote&quot;&gt;&apos;file:/home/vsts/work/1/s/flink-end-to-end-tests/test-scripts/temp-test-directory-33991570506/local_recovery_test/checkpoints/e22dc2b9ff59ed3b5f9f444745153baa/chk-3/0e4a0721-a9a5-41d8-b6e4-94023ec5a1c8&apos;&lt;/span&gt;, dataBytes=200}}]}, operatorStateFromStream=StateObjectCollection{[]}, keyedStateFromBackend=StateObjectCollection{[]}, keyedStateFromStream=StateObjectCollection{[]}, inputChannelState=StateObjectCollection{[]}, resultSubpartitionState=StateObjectCollection{[]}, stateSize=200} from job manager and local state alternatives [] from local state store TaskLocalStateStore{jobID=e22dc2b9ff59ed3b5f9f444745153baa, jobVertexID=bc764cd8ddf7a0cff126f51c16239658, allocationID=fef8e1740736efdffe751fdc602fd0e1, subtaskIndex=2, localRecoveryConfig=LocalRecoveryConfig{localRecoveryMode=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, localStateDirectories=LocalRecoveryDirectoryProvider{rootDirectories=[/tmp/localState/aid_fef8e1740736efdffe751fdc602fd0e1], jobID=e22dc2b9ff59ed3b5f9f444745153baa, jobVertexID=bc764cd8ddf7a0cff126f51c16239658, subtaskIndex=2}}, storedCheckpointIDs=[]}.
2020-12-29T21:11:45.6852863Z Dec 29 21:11:04 2020-12-29 21:10:56,758 DEBUG org.apache.flink.streaming.api.operators.BackendRestorerProcedure [] - Creating &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; state backend &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; StreamSource_bc764cd8ddf7a0cff126f51c16239658_(3/4) and restoring with state from alternative (1/1).
2020-12-29T21:11:45.6854442Z Dec 29 21:11:04 2020-12-29 21:10:56,804 DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask          [] - Finished task Source: Custom Source (3/4)#255
2020-12-29T21:11:45.6855660Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask          [] - Closed operators &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; task Source: Custom Source (3/4)#255
2020-12-29T21:11:45.6857718Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Finished PipelinedSubpartition#0 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6868241Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Finished PipelinedSubpartition#1 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6870179Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Finished PipelinedSubpartition#2 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6872073Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Finished PipelinedSubpartition#3 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6873629Z Dec 29 21:11:04 2020-12-29 21:10:56,805 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688) switched from RUNNING to FINISHED.
2020-12-29T21:11:45.6874935Z Dec 29 21:11:04 2020-12-29 21:10:56,805 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Freeing task resources &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688).
2020-12-29T21:11:45.6876227Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.runtime.taskmanager.Task                    [] - Release task Source: Custom Source (3/4)#255 network resources (state: FINISHED).
2020-12-29T21:11:45.6877441Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.runtime.io.network.TaskEventDispatcher      [] - unregistering d39c5df41fb51c57ac0e340421e62374#2@90cbf40ffa5c2a89a8cc1a6c5ea9b688
2020-12-29T21:11:45.6878938Z Dec 29 21:11:04 2020-12-29 21:10:56,805 DEBUG org.apache.flink.runtime.taskmanager.Task                    [] - Ensuring all FileSystem streams are closed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; task Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688) [FINISHED]
2020-12-29T21:11:45.6880460Z Dec 29 21:11:04 2020-12-29 21:10:56,805 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Un-registering task and sending &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; execution state FINISHED to JobManager &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; task Source: Custom Source (3/4)#255 90cbf40ffa5c2a89a8cc1a6c5ea9b688.
2020-12-29T21:11:45.6882952Z Dec 29 21:11:04 2020-12-29 21:10:56,811 INFO  org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation [] - Starting to restore from state handle: KeyGroupsStateHandle{groupRangeOffsets=KeyGroupRangeOffsets{keyGroupRange=KeyGroupRange{startKeyGroup=2, endKeyGroup=2}, offsets=[371]}, stateHandle=RelativeFileStateHandle State: file:/home/vsts/work/1/s/flink-end-to-end-tests/test-scripts/temp-test-directory-33991570506/local_recovery_test/checkpoints/e22dc2b9ff59ed3b5f9f444745153baa/chk-3/d7cfa567-a7f6-42d4-8027-826d0d872f65, d7cfa567-a7f6-42d4-8027-826d0d872f65 [2232041 bytes]}.
2020-12-29T21:11:45.6884825Z Dec 29 21:11:04 2020-12-29 21:10:59,077 DEBUG org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Received heartbeat request from b21775cb8c75328e6f3c66b79630f66f.
2020-12-29T21:11:45.6886529Z Dec 29 21:11:04 2020-12-29 21:11:00,175 DEBUG org.apache.flink.runtime.io.network.partition.ResultPartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Releasing PipelinedResultPartition d39c5df41fb51c57ac0e340421e62374#2@90cbf40ffa5c2a89a8cc1a6c5ea9b688 [PIPELINED_BOUNDED, 4 subpartitions, 4 pending consumptions].
2020-12-29T21:11:45.6888372Z Dec 29 21:11:04 2020-12-29 21:11:00,176 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Released PipelinedSubpartition#0 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6890284Z Dec 29 21:11:04 2020-12-29 21:11:00,176 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Released PipelinedSubpartition#1 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6892309Z Dec 29 21:11:04 2020-12-29 21:11:00,176 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Released PipelinedSubpartition#2 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6894366Z Dec 29 21:11:04 2020-12-29 21:11:00,176 DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition [] - Source: Custom Source (3/4)#255 (90cbf40ffa5c2a89a8cc1a6c5ea9b688): Released PipelinedSubpartition#3 [number of buffers: 2 (0 bytes), number of buffers in backlog: 1, finished? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, read view? &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;].
2020-12-29T21:11:45.6895936Z Dec 29 21:11:04 2020-12-29 21:11:00,176 DEBUG org.apache.flink.runtime.io.network.partition.ResultPartitionManager [] - Released partition d39c5df41fb51c57ac0e340421e62374#2 produced by 90cbf40ffa5c2a89a8cc1a6c5ea9b688.
2020-12-29T21:11:45.6897246Z Dec 29 21:11:04 2020-12-29 21:11:00,176 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Attempting to cancel task Flat Map -&amp;gt; Sink: Unnamed (3/4)#255 (bc78e4bef29187b8464c79560bbe8306).
2020-12-29T21:11:45.6898580Z Dec 29 21:11:04 2020-12-29 21:11:00,176 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Flat Map -&amp;gt; Sink: Unnamed (3/4)#255 (bc78e4bef29187b8464c79560bbe8306) switched from RUNNING to CANCELING.
2020-12-29T21:11:45.6899960Z Dec 29 21:11:04 2020-12-29 21:11:00,176 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Triggering cancellation of task code Flat Map -&amp;gt; Sink: Unnamed (3/4)#255 (bc78e4bef29187b8464c79560bbe8306).
2020-12-29T21:11:45.6901668Z Dec 29 21:11:04 2020-12-29 21:11:00,199 DEBUG org.apache.flink.runtime.io.network.partition.consumer.SingleInputGate [] - Flat Map -&amp;gt; Sink: Unnamed (3/4)#255 (bc78e4bef29187b8464c79560bbe8306): Releasing SingleInputGate{owningTaskName=&lt;span class=&quot;code-quote&quot;&gt;&apos;Flat Map -&amp;gt; Sink: Unnamed (3/4)#255 (bc78e4bef29187b8464c79560bbe8306)&apos;&lt;/span&gt;, gateIndex=0}.
2020-12-29T21:11:45.6903009Z Dec 29 21:11:04 2020-12-29 21:11:00,202 ERROR org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder [] - Caught unexpected exception.
2020-12-29T21:11:45.6903541Z Dec 29 21:11:04 java.io.IOException: Stream Closed
2020-12-29T21:11:45.6903949Z Dec 29 21:11:04 	at java.io.FileInputStream.readBytes(Native Method) ~[?:1.8.0_275]
2020-12-29T21:11:45.6904425Z Dec 29 21:11:04 	at java.io.FileInputStream.read(FileInputStream.java:255) ~[?:1.8.0_275]
2020-12-29T21:11:45.6905393Z Dec 29 21:11:04 	at org.apache.flink.core.fs.local.LocalDataInputStream.read(LocalDataInputStream.java:73) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6906632Z Dec 29 21:11:04 	at org.apache.flink.core.fs.FSDataInputStreamWrapper.read(FSDataInputStreamWrapper.java:60) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6907835Z Dec 29 21:11:04 	at org.apache.flink.runtime.util.ForwardingInputStream.read(ForwardingInputStream.java:52) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6908501Z Dec 29 21:11:04 	at java.io.DataInputStream.readFully(DataInputStream.java:195) ~[?:1.8.0_275]
2020-12-29T21:11:45.6909188Z Dec 29 21:11:04 	at java.io.DataInputStream.readFully(DataInputStream.java:169) ~[?:1.8.0_275]
2020-12-29T21:11:45.6910284Z Dec 29 21:11:04 	at org.apache.flink.api.common.typeutils.base.array.BytePrimitiveArraySerializer.deserialize(BytePrimitiveArraySerializer.java:82) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6911706Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKVStateData(RocksDBFullRestoreOperation.java:229) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6913102Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKeyGroupsInStateHandle(RocksDBFullRestoreOperation.java:158) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6914761Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restore(RocksDBFullRestoreOperation.java:142) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6916050Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:284) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6917307Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:587) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6918558Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:93) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6919989Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:328) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6921281Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:168) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6922514Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6923780Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:345) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6925068Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:163) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6926315Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:272) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6927495Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:425) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6928612Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$2(StreamTask.java:535) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6929764Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.runThrowing(StreamTaskActionExecutor.java:50) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6930849Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:525) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6931986Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:565) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6932962Z Dec 29 21:11:04 	at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:755) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6933872Z Dec 29 21:11:04 	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:570) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6934651Z Dec 29 21:11:04 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) [?:1.8.0_275]
2020-12-29T21:11:45.6935871Z Dec 29 21:11:04 2020-12-29 21:11:00,202 WARN  org.apache.flink.streaming.api.operators.BackendRestorerProcedure [] - Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; restoring keyed state backend &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; StreamFlatMap_20ba6b65f97481d5570070de90e4e791_(3/4) from alternative (1/1), will retry &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; more alternatives are available.
2020-12-29T21:11:45.6936711Z Dec 29 21:11:04 org.apache.flink.runtime.state.BackendBuildingException: Caught unexpected exception.
2020-12-29T21:11:45.6937763Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:361) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6938970Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:587) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6940179Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.RocksDBStateBackend.createKeyedStateBackend(RocksDBStateBackend.java:93) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6941454Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:328) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6942720Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:168) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6943954Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6945206Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:345) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6946495Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:163) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6947738Z Dec 29 21:11:04 	at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:272) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6948909Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.OperatorChain.initializeStateAndOpenOperators(OperatorChain.java:425) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6950041Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$2(StreamTask.java:535) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6951236Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.runThrowing(StreamTaskActionExecutor.java:50) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6952341Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:525) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6953377Z Dec 29 21:11:04 	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:565) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6954661Z Dec 29 21:11:04 	at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:755) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6955680Z Dec 29 21:11:04 	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:570) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6956264Z Dec 29 21:11:04 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) [?:1.8.0_275]
2020-12-29T21:11:45.6956676Z Dec 29 21:11:04 Caused by: java.io.IOException: Stream Closed
2020-12-29T21:11:45.6957325Z Dec 29 21:11:04 	at java.io.FileInputStream.readBytes(Native Method) ~[?:1.8.0_275]
2020-12-29T21:11:45.6957778Z Dec 29 21:11:04 	at java.io.FileInputStream.read(FileInputStream.java:255) ~[?:1.8.0_275]
2020-12-29T21:11:45.6958728Z Dec 29 21:11:04 	at org.apache.flink.core.fs.local.LocalDataInputStream.read(LocalDataInputStream.java:73) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6959787Z Dec 29 21:11:04 	at org.apache.flink.core.fs.FSDataInputStreamWrapper.read(FSDataInputStreamWrapper.java:60) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6960919Z Dec 29 21:11:04 	at org.apache.flink.runtime.util.ForwardingInputStream.read(ForwardingInputStream.java:52) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6961563Z Dec 29 21:11:04 	at java.io.DataInputStream.readFully(DataInputStream.java:195) ~[?:1.8.0_275]
2020-12-29T21:11:45.6962092Z Dec 29 21:11:04 	at java.io.DataInputStream.readFully(DataInputStream.java:169) ~[?:1.8.0_275]
2020-12-29T21:11:45.6963151Z Dec 29 21:11:04 	at org.apache.flink.api.common.typeutils.base.array.BytePrimitiveArraySerializer.deserialize(BytePrimitiveArraySerializer.java:82) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6964419Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKVStateData(RocksDBFullRestoreOperation.java:229) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6965751Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restoreKeyGroupsInStateHandle(RocksDBFullRestoreOperation.java:158) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6967017Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restore(RocksDBFullRestoreOperation.java:142) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6968252Z Dec 29 21:11:04 	at org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:284) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-29T21:11:45.6968852Z Dec 29 21:11:04 	... 16 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks as if one of the source operators finishes before the consumer has been started. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; do you have an idea how this can happen?&lt;/p&gt;</comment>
                            <comment id="17256542" author="till.rohrmann" created="Wed, 30 Dec 2020 14:00:49 +0000"  >&lt;p&gt;One interesting aspect is that all failing test are run with the following configuration:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running local recovery test with configuration:
         parallelism: 4
         max attempts: 10
         backend: rocks
         incremental checkpoints: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
         kill JVM: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17256545" author="till.rohrmann" created="Wed, 30 Dec 2020 14:06:52 +0000"  >&lt;p&gt;It seems that there is NPE problem:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-12-16T13:21:17.7113187Z Dec 16 13:21:11 2020-12-16 13:20:51,705 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Flat Map -&amp;gt; Sink: Unnamed (4/4) (0482623be404744f26814f94b5a7c57d) switched from RUNNING to FAILED on 10.1.0.4:39159-675ed6 @ fv-az678-525.internal.cloudapp.net (dataPort=34301).
2020-12-16T13:21:17.7114297Z Dec 16 13:21:11 org.apache.flink.runtime.io.network.partition.consumer.PartitionConnectionException: Connection &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partition 978de1ce6220888c7dbee5b86005adde#1@c9f3f7cef91057da79f7127d6db79fa0 not reachable.
2020-12-16T13:21:17.7115533Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.partition.consumer.RemoteInputChannel.requestSubpartition(RemoteInputChannel.java:167) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7183057Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.partition.consumer.SingleInputGate.internalRequestPartitions(SingleInputGate.java:314) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7184604Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.partition.consumer.SingleInputGate.requestPartitions(SingleInputGate.java:286) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7185782Z Dec 16 13:21:11 	at org.apache.flink.runtime.taskmanager.InputGateWithMetrics.requestPartitions(InputGateWithMetrics.java:94) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7187421Z Dec 16 13:21:11 	at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.runThrowing(StreamTaskActionExecutor.java:47) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7188923Z Dec 16 13:21:11 	at org.apache.flink.streaming.runtime.tasks.mailbox.Mail.run(Mail.java:78) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7190036Z Dec 16 13:21:11 	at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.processMail(MailboxProcessor.java:283) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7191218Z Dec 16 13:21:11 	at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:184) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7192323Z Dec 16 13:21:11 	at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:575) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7193381Z Dec 16 13:21:11 	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:539) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7194378Z Dec 16 13:21:11 	at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:722) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7195311Z Dec 16 13:21:11 	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:547) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7195879Z Dec 16 13:21:11 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) ~[?:1.8.0_275]
2020-12-16T13:21:17.7197115Z Dec 16 13:21:11 Caused by: java.io.IOException: java.util.concurrent.ExecutionException: org.apache.flink.runtime.io.network.netty.exception.RemoteTransportException: Connecting to remote task manager &lt;span class=&quot;code-quote&quot;&gt;&apos;/10.1.0.4:43351&apos;&lt;/span&gt; has failed. This might indicate that the remote task manager has been lost.
2020-12-16T13:21:17.7198593Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.createPartitionRequestClient(PartitionRequestClientFactory.java:95) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7200067Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.NettyConnectionManager.createPartitionRequestClient(NettyConnectionManager.java:67) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7201317Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.partition.consumer.RemoteInputChannel.requestSubpartition(RemoteInputChannel.java:164) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7201913Z Dec 16 13:21:11 	... 12 more
2020-12-16T13:21:17.7203022Z Dec 16 13:21:11 Caused by: java.util.concurrent.ExecutionException: org.apache.flink.runtime.io.network.netty.exception.RemoteTransportException: Connecting to remote task manager &lt;span class=&quot;code-quote&quot;&gt;&apos;/10.1.0.4:43351&apos;&lt;/span&gt; has failed. This might indicate that the remote task manager has been lost.
2020-12-16T13:21:17.7203894Z Dec 16 13:21:11 	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357) ~[?:1.8.0_275]
2020-12-16T13:21:17.7204480Z Dec 16 13:21:11 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908) ~[?:1.8.0_275]
2020-12-16T13:21:17.7205598Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.createPartitionRequestClient(PartitionRequestClientFactory.java:88) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7253273Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.NettyConnectionManager.createPartitionRequestClient(NettyConnectionManager.java:67) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7254806Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.partition.consumer.RemoteInputChannel.requestSubpartition(RemoteInputChannel.java:164) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7255395Z Dec 16 13:21:11 	... 12 more
2020-12-16T13:21:17.7256376Z Dec 16 13:21:11 Caused by: org.apache.flink.runtime.io.network.netty.exception.RemoteTransportException: Connecting to remote task manager &lt;span class=&quot;code-quote&quot;&gt;&apos;/10.1.0.4:43351&apos;&lt;/span&gt; has failed. This might indicate that the remote task manager has been lost.
2020-12-16T13:21:17.7257664Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.connect(PartitionRequestClientFactory.java:134) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7258920Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.connectWithRetries(PartitionRequestClientFactory.java:111) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7260246Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.createPartitionRequestClient(PartitionRequestClientFactory.java:77) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7261522Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.NettyConnectionManager.createPartitionRequestClient(NettyConnectionManager.java:67) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7262775Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.partition.consumer.RemoteInputChannel.requestSubpartition(RemoteInputChannel.java:164) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7263377Z Dec 16 13:21:11 	... 12 more
2020-12-16T13:21:17.7282838Z Dec 16 13:21:11 Caused by: java.lang.NullPointerException
2020-12-16T13:21:17.7283969Z Dec 16 13:21:11 	at org.apache.flink.util.Preconditions.checkNotNull(Preconditions.java:61) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7285126Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.NettyPartitionRequestClient.&amp;lt;init&amp;gt;(NettyPartitionRequestClient.java:73) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7286372Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.connect(PartitionRequestClientFactory.java:126) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7288061Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.connectWithRetries(PartitionRequestClientFactory.java:111) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7289594Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.PartitionRequestClientFactory.createPartitionRequestClient(PartitionRequestClientFactory.java:77) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7290898Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.netty.NettyConnectionManager.createPartitionRequestClient(NettyConnectionManager.java:67) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7292147Z Dec 16 13:21:11 	at org.apache.flink.runtime.io.network.partition.consumer.RemoteInputChannel.requestSubpartition(RemoteInputChannel.java:164) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
2020-12-16T13:21:17.7292751Z Dec 16 13:21:11 	... 12 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17256579" author="till.rohrmann" created="Wed, 30 Dec 2020 16:14:11 +0000"  >&lt;p&gt;Ok a quick update on the analysis. In one of the logs I have seen the following happening:&lt;/p&gt;

&lt;p&gt;The test kills TaskManager processes and restarts them to observe whether the tasks are deployed to locations where they have run before. It will try this 10 times. During the first 10 times there was a TM &lt;tt&gt;a&lt;/tt&gt; which has its data server registered under 10.1.0.4:43351. At a later point a new TM &lt;tt&gt;b&lt;/tt&gt; will be started which by chance also picks 43351 as its data port. Then there is a third TM &lt;tt&gt;c&lt;/tt&gt; which tried to connect to &lt;tt&gt;a&lt;/tt&gt; when &lt;tt&gt;a&lt;/tt&gt; was killed. This connection attempt failed. Now, when it tries to connect to &lt;tt&gt;b&lt;/tt&gt; (which has the same address as &lt;tt&gt;a&lt;/tt&gt;), then it will never succeed and always fail with the above seen NPE.&lt;/p&gt;</comment>
                            <comment id="17256588" author="till.rohrmann" created="Wed, 30 Dec 2020 16:22:03 +0000"  >&lt;p&gt;I think I found the problem. The problem seems to be that the &lt;tt&gt;PartitionRequestClientFactory&lt;/tt&gt; caches the &lt;tt&gt;NettyPartitionRequestClient&lt;/tt&gt; for each &lt;tt&gt;ConnectionID&lt;/tt&gt;. If the connection could not be created for a &lt;tt&gt;ConnectionID&lt;/tt&gt;, then it seems that we will never clean this entry up. Hence, if at a later point we try to connect to the same &lt;tt&gt;ConnectionID&lt;/tt&gt; (e.g. because a new process on the same machine with the same data port is started), then we won&apos;t be able to talk to this TM.&lt;/p&gt;

&lt;p&gt;The underlying problem seems to be that the &lt;tt&gt;PartitionRequestClientFactory&lt;/tt&gt; does not keep its invariant when &lt;tt&gt;PartitionRequestClientFactory.createPartitionRequestClient&lt;/tt&gt; fails. Instead of leaving an exceptionally completed future in the &lt;tt&gt;clients&lt;/tt&gt; map, it should remove it.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman_khachatryan&quot; class=&quot;user-hover&quot; rel=&quot;roman_khachatryan&quot;&gt;roman_khachatryan&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17256590" author="till.rohrmann" created="Wed, 30 Dec 2020 16:26:07 +0000"  >&lt;p&gt;I think the problem has been introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-15416&quot; title=&quot;Add Retry Mechanism for PartitionRequestClientFactory.ConnectingChannel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-15416&quot;&gt;&lt;del&gt;FLINK-15416&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17256600" author="till.rohrmann" created="Wed, 30 Dec 2020 16:34:23 +0000"  >&lt;p&gt;Actually, &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-19688&quot; title=&quot;Flink batch job fails because of InterruptedExceptions from network stack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-19688&quot;&gt;&lt;del&gt;FLINK-19688&lt;/del&gt;&lt;/a&gt; solves the exact same problem but unfortunately only for &lt;tt&gt;InterruptedExceptions&lt;/tt&gt; instead for the general case.&lt;/p&gt;</comment>
                            <comment id="17258304" author="till.rohrmann" created="Mon, 4 Jan 2021 16:20:03 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;1.13.0: df631f478cbd3de4f8b234e421e4fc7f1b67ef2e&lt;br/&gt;
1.12.2: 895ecfb7fb21bc11b91e99df14596032667272b8&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13276546">FLINK-15416</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13335859">FLINK-19688</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0lju8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>