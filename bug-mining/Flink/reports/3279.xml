<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:41:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-14186] Nightly e2e-misc-jdk11 fails complaining unrecognized VM option</title>
                <link>https://issues.apache.org/jira/browse/FLINK-14186</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;As titled, this failure reproduces stably in recent nightly runs, such as &lt;a href=&quot;https://api.travis-ci.org/v3/job/588201921/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/588201921/log.txt&lt;/a&gt; . From the log we could see message like below:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Unrecognized VM option &apos;UseParNewGC&apos;
Error: Could not create the Java Virtual Machine.
Error: A fatal exception has occurred. Program will exit.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13258516">FLINK-14186</key>
            <summary>Nightly e2e-misc-jdk11 fails complaining unrecognized VM option</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gaoyunhaii">Yun Gao</assignee>
                                    <reporter username="liyu">Yu Li</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 24 Sep 2019 11:19:05 +0000</created>
                <updated>Fri, 27 Sep 2019 08:43:31 +0000</updated>
                            <resolved>Fri, 27 Sep 2019 08:43:31 +0000</resolved>
                                                    <fixVersion>1.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16938235" author="gaoyunhaii" created="Thu, 26 Sep 2019 03:42:37 +0000"  >&lt;p&gt;The reason of this issue is that -XX:+UseParNewGC&#160;[has been removed from the JDK11|&lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8151084&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8151084&lt;/a&gt;] as the garbage collector algorithms have evolved. However, Elastic Search 2.3.5&#160; has configured this option in its startup script. Therefore, the Elastic Search 2.3.5 will fail to start on JDK11, which cause the test fail.&lt;/p&gt;

&lt;p&gt;To fix this problem, we can set environment variable&#160;JAVA_OPTS=&quot;-XX:+IgnoreUnrecognizedVMOptions&quot; when starting the Elastic Search cluster. This environment variable parameter is provided by Elastic Search 2.3.5 script and&#160;IgnoreUnrecognizedVMOptions let JVM ignores unrecognized options instead throw an error.&lt;/p&gt;

&lt;p&gt;The Elastic Search 5.x and 6.x have removed -XX:+UseParNewGC from the default JVM config and thus they should not met this issue. Besides, in these two version&#160;JAVA_OPTS is deprecated and ES_JAVA_OPTS is used instead. Since the two version currently do not have problem, I think we do not need to also configure&#160;ES_JAVA_OPTS now.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;For reference, the code involved in Flink is:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;e2e - misc - jdk11 configured in .travis.yml have finally called&#160;&lt;em&gt;tools/travis/splits/split_misc.sh&lt;/em&gt;&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;split_misc.sh&lt;/em&gt; have three ElasticSearch related tests. They all finally called flink-end-to-end-tests/test-scripts/test_streaming_elasticsearch.sh.&#160;&lt;/li&gt;
	&lt;li&gt;test_streaming_elasticsearch.sh further called the function&#160;setup_elasticsearch included from&#160;flink-end-to-end-tests/test-scripts/elasticsearch-common.sh&lt;/li&gt;
	&lt;li&gt;setup_elasticsearch downloads the specified ElasticSearch distribution package and unzip it. Then it calls &quot;&lt;em&gt;$elasticsearchDir/bin/elasticsearch &amp;amp;&quot;&lt;/em&gt; to start&#160; the&#160;_&#160;&lt;em&gt;ElasticSearch&lt;/em&gt;&#160;_&#160;cluster. We should then modify the startup environment here.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16938319" author="gaoyunhaii" created="Thu, 26 Sep 2019 06:48:38 +0000"  >&lt;p&gt;I have tested the elastic search e2e test cases locally, and now is still testing the whole tests by manually trigger it on Travis and the test is still running.&lt;/p&gt;</comment>
                            <comment id="16938825" author="gaoyunhaii" created="Thu, 26 Sep 2019 17:21:21 +0000"  >&lt;p&gt;With the discussion under the [PR|&lt;a href=&quot;https://github.com/apache/flink/pull/9775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/9775&lt;/a&gt;], we should indeed skip the ES 2.3.5 cases when running with JDK 11. The ES 2.3.5 cases is used in three scripts and only&#160;&lt;em&gt;tools/travis/splits/split_misc.sh&lt;/em&gt; is tested with JDK 11, thus we skip the tests if we found it is running with JDK 11.&lt;/p&gt;</comment>
                            <comment id="16939191" author="aljoscha" created="Fri, 27 Sep 2019 07:39:28 +0000"  >&lt;p&gt;I think this is one more reason for removing ES 2 support.&lt;/p&gt;</comment>
                            <comment id="16939218" author="till.rohrmann" created="Fri, 27 Sep 2019 08:43:31 +0000"  >&lt;p&gt;Fixed via b70639d372f75c9bf602d096ef691b6d7bd4b607&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06ygg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>