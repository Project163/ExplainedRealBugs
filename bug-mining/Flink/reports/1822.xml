<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7042] Fix jar file discovery in YARN tests</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7042</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Running a local &lt;tt&gt;mvn clean verify&lt;/tt&gt; the following error in &lt;tt&gt;org.apache.flink.yarn.YARNSessionCapacitySchedulerITCase#perJobYarnClusterWithParallelism&lt;/tt&gt; is caused by the discovery of a spurious file created by an earlier YARN test.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;15:45:16,627 INFO  org.apache.flink.yarn.YarnTestBase                            - Running with args [run, -p, 2, -m, yarn-cluster, -yj, /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-dist/target/flink-1.4-SNAPSHOT-bin/flink-1.4-SNAPSHOT/lib/flink-dist_2.10-1.4-SNAPSHOT.jar, -yt, /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-dist/target/flink-1.4-SNAPSHOT-bin/flink-1.4-SNAPSHOT/lib, -yn, 1, -yjm, 768, -ytm, 1024, /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/ec2-user/appcache/application_1498751075681_0001/filecache/13/.tmp_flink-examples-batch_2.10-1.4-SNAPSHOT-WordCount.jar.crc]
15:45:16,628 INFO  org.apache.flink.client.CliFrontend                           - Using configuration directory /home/ec2-user/flink-upstream/flink-yarn-tests/../flink-dist/target/flink-1.4-SNAPSHOT-bin/flink-1.4-SNAPSHOT/conf
15:45:16,628 INFO  org.apache.flink.client.CliFrontend                           - Trying to load configuration file
15:45:16,628 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.rpc.address, localhost
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.rpc.port, 6123
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.heap.mb, 1024
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: taskmanager.heap.mb, 1024
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: taskmanager.numberOfTaskSlots, 1
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: taskmanager.memory.preallocate, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: parallelism.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, 1
15:45:16,629 INFO  org.apache.flink.configuration.GlobalConfiguration            - Loading configuration property: jobmanager.web.port, 8081
15:45:16,629 INFO  org.apache.flink.client.CliFrontend                           - Running &lt;span class=&quot;code-quote&quot;&gt;&apos;run&apos;&lt;/span&gt; command.
15:45:16,629 INFO  org.apache.flink.client.CliFrontend                           - Building program from JAR file
15:45:16,630 ERROR org.apache.flink.client.CliFrontend                           - Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; running the command.
org.apache.flink.client.program.ProgramInvocationException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; opening jar file &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/ec2-user/flink-upstream/flink-yarn-tests/../flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/ec2-user/appcache/application_1498751075681_0001/filecache/13/.tmp_flink-examples-batch_2.10-1.4-SNAPSHOT-WordCount.jar.crc&apos;&lt;/span&gt;. error in opening zip file
	at org.apache.flink.client.program.PackagedProgram.getEntryPointClassNameFromJar(PackagedProgram.java:562)
	at org.apache.flink.client.program.PackagedProgram.&amp;lt;init&amp;gt;(PackagedProgram.java:188)
	at org.apache.flink.client.program.PackagedProgram.&amp;lt;init&amp;gt;(PackagedProgram.java:126)
	at org.apache.flink.client.CliFrontend.buildProgram(CliFrontend.java:900)
	at org.apache.flink.client.CliFrontend.run(CliFrontend.java:229)
	at org.apache.flink.client.CliFrontend.parseParameters(CliFrontend.java:1083)
	at org.apache.flink.yarn.YarnTestBase$Runner.run(YarnTestBase.java:657)
Caused by: java.util.zip.ZipException: error in opening zip file
	at java.util.zip.ZipFile.open(Native Method)
	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:219)
	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:149)
	at java.util.jar.JarFile.&amp;lt;init&amp;gt;(JarFile.java:166)
	at java.util.jar.JarFile.&amp;lt;init&amp;gt;(JarFile.java:130)
	at org.apache.flink.client.program.PackagedProgram.getEntryPointClassNameFromJar(PackagedProgram.java:557)
	... 6 more
15:45:16,632 INFO  org.apache.flink.yarn.YarnTestBase                            - Runner stopped with exception
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13083514">FLINK-7042</key>
            <summary>Fix jar file discovery in YARN tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="greghogan">Greg Hogan</assignee>
                                    <reporter username="greghogan">Greg Hogan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jun 2017 16:48:45 +0000</created>
                <updated>Fri, 7 Jul 2017 15:48:55 +0000</updated>
                            <resolved>Fri, 7 Jul 2017 15:48:55 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Deployment / YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16075180" author="githubbot" created="Wed, 5 Jul 2017 18:18:52 +0000"  >&lt;p&gt;GitHub user greghogan opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4264&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7042&quot; title=&quot;Fix jar file discovery in YARN tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7042&quot;&gt;&lt;del&gt;FLINK-7042&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Fix jar file discovery flink-yarn-tests&lt;/p&gt;

&lt;p&gt;    Add dependencies for batch and streaming WordCount programs and copies the jar files into a new target/programs directory. The integration tests now directly references the program jar files rather than the prior brittle search.&lt;/p&gt;

&lt;p&gt;    This removes the flink-yarn-tests build-time dependency on the examples modules (there remains a build-time dependency on flink-dist).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/greghogan/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/greghogan/flink&lt;/a&gt; 7042_fix_jar_file_discovery_in_yarn_tests&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4264.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4264.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4264&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 18e908f90fdeb4f2883536d86c5e890a61d6c39d&lt;br/&gt;
Author: Greg Hogan &amp;lt;code@greghogan.com&amp;gt;&lt;br/&gt;
Date:   2017-07-05T16:00:30Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7042&quot; title=&quot;Fix jar file discovery in YARN tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7042&quot;&gt;&lt;del&gt;FLINK-7042&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Fix jar file discovery flink-yarn-tests&lt;/p&gt;

&lt;p&gt;    Add dependencies for batch and streaming WordCount programs and copies&lt;br/&gt;
    the jar files into a new target/programs directory. The integration&lt;br/&gt;
    tests now directly references the program jar files rather than the&lt;br/&gt;
    prior brittle search.&lt;/p&gt;

&lt;p&gt;    This removes the flink-yarn-tests build-time dependency on the examples&lt;br/&gt;
    modules (there remains a build-time dependency on flink-dist).&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16076512" author="githubbot" created="Thu, 6 Jul 2017 13:41:19 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4264&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 to merge.&lt;/p&gt;</comment>
                            <comment id="16078131" author="githubbot" created="Fri, 7 Jul 2017 14:10:16 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4264&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging ...&lt;/p&gt;</comment>
                            <comment id="16078203" author="githubbot" created="Fri, 7 Jul 2017 15:02:12 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4264&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16078278" author="greghogan" created="Fri, 7 Jul 2017 15:48:55 +0000"  >&lt;p&gt;master: 709f23e742b094a5337c9333a17de7dbdc924891&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13085150">FLINK-7112</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gwkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>