<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:18:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1637] Flink uberjar does not work with Java 6</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1637</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Apparently the uberjar created by maven shade does not work with java 6&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/jre1.6.0_45/bin/java -classpath flink-0.9-SNAPSHOT/lib/flink-dist-0.9-SNAPSHOT-yarn-uberjar.jar org.apache.flink.client.CliFrontend
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NoClassDefFoundError: org/apache/flink/client/CliFrontend
Caused by: java.lang.ClassNotFoundException: org.apache.flink.client.CliFrontend
	at java.net.URLClassLoader$1.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(Unknown Source)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(Unknown Source)
	at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(Unknown Source)
Could not find the main class: org.apache.flink.client.CliFrontend.  Program will exit.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Java 6&lt;/p&gt;</environment>
        <key id="12779016">FLINK-1637</key>
            <summary>Flink uberjar does not work with Java 6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmetzger">Robert Metzger</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Mar 2015 10:37:45 +0000</created>
                <updated>Mon, 9 Mar 2015 08:48:23 +0000</updated>
                            <resolved>Mon, 9 Mar 2015 08:48:23 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14344918" author="rmetzger" created="Tue, 3 Mar 2015 10:51:25 +0000"  >&lt;p&gt;The issue is that Java 6 can not load jar files with more than 65536 files.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7191282&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7191282&lt;/a&gt;&lt;br/&gt;
It seems that we&apos;ve recently surpassed that number for our uberjar.&lt;br/&gt;
It contains 65868 files.&lt;/p&gt;</comment>
                            <comment id="14344927" author="mxm" created="Tue, 3 Mar 2015 11:03:21 +0000"  >&lt;p&gt;There are tools like ProGuard which can reduce the number of class files by removing unused code.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.android.com/tools/help/proguard.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.android.com/tools/help/proguard.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14345404" author="githubbot" created="Tue, 3 Mar 2015 17:51:52 +0000"  >&lt;p&gt;GitHub user rmetzger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1637&quot; title=&quot;Flink uberjar does not work with Java 6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1637&quot;&gt;&lt;del&gt;FLINK-1637&lt;/del&gt;&lt;/a&gt; Reduce number of files in uberjar for java 6&lt;/p&gt;

&lt;p&gt;    It seems that we&apos;ve recently surpassed the magic number of 65536 files in our YARN uberjar.&lt;br/&gt;
    Java 6 is not able to read jar files with so &quot;many&quot; files.&lt;br/&gt;
    Therefore, I added a check to our travis tests which verify that the number of files in the jar is lower than 65k.&lt;/p&gt;

&lt;p&gt;    To to solve the problem for now, I&apos;ve removed the `flink-streaming-connectors` from the distribution.&lt;br/&gt;
    If users want to use them, they can just add them as a dependency and they should be fine (assuming our classloading is working properly).&lt;br/&gt;
    I&apos;ve also removed `flink-hbase` which is also a module users can easily get through mvn central.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rmetzger/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rmetzger/flink&lt;/a&gt; flink1637&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #450&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f3c80c6cab02e9f049cdefceff424f4d431c37e1&lt;br/&gt;
Author: Robert Metzger &amp;lt;rmetzger@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-03-03T11:44:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1637&quot; title=&quot;Flink uberjar does not work with Java 6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1637&quot;&gt;&lt;del&gt;FLINK-1637&lt;/del&gt;&lt;/a&gt; Reduce number of files in uberjar for java 6&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14345709" author="githubbot" created="Tue, 3 Mar 2015 20:47:28 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450#issuecomment-77031055&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450#issuecomment-77031055&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Damn. The good news is, my test is working, the bad news is, that the hadoop 2.6.0 version is causing an oversized uberjar:&lt;/p&gt;

&lt;p&gt;    &amp;gt; The number of files in the uberjar (67887) exceeds the maximum number of possible files for Java 6 (65536)&lt;/p&gt;</comment>
                            <comment id="14346605" author="githubbot" created="Wed, 4 Mar 2015 08:40:48 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450#issuecomment-77117018&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450#issuecomment-77117018&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    According to this discussion: &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-1520&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-1520&lt;/a&gt;&lt;br/&gt;
    Jars build by java 6 can have more than 65k entries.&lt;br/&gt;
    If thats the case, we could also build our releases and nightlies with *&lt;b&gt;openjdk 6&lt;/b&gt;*&lt;/p&gt;</comment>
                            <comment id="14346875" author="githubbot" created="Wed, 4 Mar 2015 13:28:42 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450#issuecomment-77157047&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450#issuecomment-77157047&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Makes sense, +1 for building the releases with openjdk6 (half of the code is compiled by the Scala Compiler anyways)&lt;/p&gt;</comment>
                            <comment id="14348589" author="githubbot" created="Thu, 5 Mar 2015 10:51:28 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450#issuecomment-77343809&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450#issuecomment-77343809&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I agree. Reducing the number of files would just postpone the problem anyways.&lt;/p&gt;

&lt;p&gt;    This PR can be closed then, right?&lt;/p&gt;</comment>
                            <comment id="14348591" author="githubbot" created="Thu, 5 Mar 2015 10:53:01 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450#issuecomment-77344029&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450#issuecomment-77344029&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    No, the change is not yet merged to master and there is an unresolved issue with it.&lt;/p&gt;

&lt;p&gt;    The affected user needs the feature until next Tuesday .. so I have a few days left &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14348592" author="githubbot" created="Thu, 5 Mar 2015 10:55:26 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450#issuecomment-77344362&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450#issuecomment-77344362&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I am confused. Which change do you mean? My understanding was the following: we are going to build with openjdk6 to resolve the issue &lt;b&gt;instead&lt;/b&gt; of reducing the number of files?&lt;/p&gt;</comment>
                            <comment id="14348716" author="githubbot" created="Thu, 5 Mar 2015 13:14:49 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450#issuecomment-77361454&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450#issuecomment-77361454&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Well. I&apos;m reducing the number of files because its a good idea in general to remove the `flink-hbase`  and `flink-streaming-connectors` from dist.&lt;br/&gt;
    And I&apos;m going to change the build profiles as part of this pull request.&lt;/p&gt;</comment>
                            <comment id="14352685" author="githubbot" created="Mon, 9 Mar 2015 08:47:43 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/450&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14352687" author="rmetzger" created="Mon, 9 Mar 2015 08:48:23 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flink/commit/5242e966&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flink/commit/5242e966&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26a8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>