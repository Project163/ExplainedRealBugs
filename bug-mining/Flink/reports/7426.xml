<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:19:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-34616] python dist doesn&apos;t clean when open method construct resource</title>
                <link>https://issues.apache.org/jira/browse/FLINK-34616</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;our enviroment found lots of python-dist causing disk full.&lt;/p&gt;

&lt;p&gt;the main resource is&lt;br/&gt;
constructEnvironmentVariables -&amp;gt; constructArchivesDirectory -&amp;gt; CompressionUtils.extractFile which has&#160;&lt;br/&gt;
ClosedByInterruptException Exception and the root exception has lost. we found it by arthas.&lt;br/&gt;
and it will not run the clean dir logic&lt;br/&gt;
&#160;&lt;br/&gt;
2024-03-07 18:19:34,265 ERROR [&lt;span class=&quot;error&quot;&gt;&amp;#91;vertex-1&amp;#93;&lt;/span&gt;MiniBatchAssigner(interval=&lt;span class=&quot;error&quot;&gt;&amp;#91;5000ms&amp;#93;&lt;/span&gt;, mode=&lt;span class=&quot;error&quot;&gt;&amp;#91;ProcTime&amp;#93;&lt;/span&gt;) -&amp;gt; PythonCalc(select=&lt;a href=&quot;#31&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;content, sourc (18/128)#31&lt;/a&gt; org.apache.flink.python.env.AbstractPythonEnvironmentManager [] - Error when create resource.&lt;br/&gt;
java.nio.channels.ClosedByInterruptException: null&lt;br/&gt;
at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:199) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at sun.nio.ch.FileChannelImpl.endBlocking(FileChannelImpl.java:162) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at sun.nio.ch.FileChannelImpl.readInternal(FileChannelImpl.java:816) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:796) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.commons.compress.archivers.zip.ZipFile$BoundedFileChannelInputStream.read(ZipFile.java:1420) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.commons.compress.utils.BoundedArchiveInputStream.read(BoundedArchiveInputStream.java:82) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.io.BufferedInputStream.fill(BufferedInputStream.java:252) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.io.BufferedInputStream.read1(BufferedInputStream.java:292) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.io.BufferedInputStream.read(BufferedInputStream.java:351) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.io.SequenceInputStream.read(SequenceInputStream.java:199) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:243) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.commons.compress.archivers.zip.InflaterInputStreamWithStatistics.fill(InflaterInputStreamWithStatistics.java:52) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:159) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.commons.compress.archivers.zip.InflaterInputStreamWithStatistics.read(InflaterInputStreamWithStatistics.java:67) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.io.FilterInputStream.read(FilterInputStream.java:107) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.util.IOUtils.copyBytes(IOUtils.java:61) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.util.IOUtils.copyBytes(IOUtils.java:86) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.util.CompressionUtils.extractZipFileWithPermissions(CompressionUtils.java:223) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.util.CompressionUtils.extractFile(CompressionUtils.java:61) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.env.AbstractPythonEnvironmentManager.constructArchivesDirectory(AbstractPythonEnvironmentManager.java:365) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.env.AbstractPythonEnvironmentManager.constructEnvironmentVariables(AbstractPythonEnvironmentManager.java:178) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.env.AbstractPythonEnvironmentManager.lambda$open$0(AbstractPythonEnvironmentManager.java:126) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.env.AbstractPythonEnvironmentManager$PythonEnvResources.createResource(AbstractPythonEnvironmentManager.java:468) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.env.AbstractPythonEnvironmentManager$PythonEnvResources.getOrAllocateSharedResource(AbstractPythonEnvironmentManager.java:435) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.python.env.AbstractPythonEnvironmentManager.open(AbstractPythonEnvironmentManager.java:114) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.streaming.api.operators.python.AbstractEmbeddedPythonFunctionOperator.open(AbstractEmbeddedPythonFunctionOperator.java:68) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.table.runtime.operators.python.scalar.EmbeddedPythonScalarFunctionOperator.open(EmbeddedPythonScalarFunctionOperator.java:127) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-python_2.12-1.15.2-SNAPSHOT-jar-with-dependencies.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.streaming.runtime.tasks.RegularOperatorChain.initializeStateAndOpenOperators(RegularOperatorChain.java:107) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.streaming.runtime.tasks.StreamTask.restoreGates(StreamTask.java:703) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.call(StreamTaskActionExecutor.java:55) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.streaming.runtime.tasks.StreamTask.restoreInternal(StreamTask.java:679) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:646) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:963) &lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:932) &lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:756) &lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.flink.runtime.taskmanager.Task.run(Task.java:578) &lt;span class=&quot;error&quot;&gt;&amp;#91;flink-dist_2.12-1.15.2-SNAPSHOT.jar:1.15.2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.lang.Thread.run(Thread.java:991) &lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13067319/13067319_image-2024-03-07-17-58-06-493.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13571127">FLINK-34616</key>
            <summary>python dist doesn&apos;t clean when open method construct resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jackylau">Jacky Lau</assignee>
                                    <reporter username="jackylau">Jacky Lau</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 7 Mar 2024 09:57:39 +0000</created>
                <updated>Fri, 8 Mar 2024 01:43:32 +0000</updated>
                            <resolved>Fri, 8 Mar 2024 01:43:04 +0000</resolved>
                                    <version>1.19.0</version>
                    <version>1.18.1</version>
                                    <fixVersion>1.18.2</fixVersion>
                    <fixVersion>1.20.0</fixVersion>
                    <fixVersion>1.19.1</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17824592" author="hxb" created="Fri, 8 Mar 2024 01:43:04 +0000"  >&lt;p&gt;Merged into master via 21306f4f5dbcc72a2cde2f15e6c072951aa03f49&lt;/p&gt;

&lt;p&gt;Merged into release-1.19 via 75c88fa4f19d3f703e0cce3b917a9aa070eadffe&lt;/p&gt;

&lt;p&gt;Merged into release-1.18 via 31f13614c5e1bccbcfc14f31561aac3892b86e85&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13067319" name="image-2024-03-07-17-58-06-493.png" size="217745" author="jackylau" created="Thu, 7 Mar 2024 09:58:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1nu8w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>