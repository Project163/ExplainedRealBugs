<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:50:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19657] YARNSessionCapacitySchedulerITCase.checkForProhibitedLogContents: netty failed with java.io.IOException: Broken pipe</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19657</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7666&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=62110053-334f-5295-a0ab-80dd7e2babbf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7666&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=62110053-334f-5295-a0ab-80dd7e2babbf&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-10-15T10:41:39.3168991Z [ERROR] Failures: 
2020-10-15T10:41:39.3172085Z [ERROR]   YARNSessionCapacitySchedulerITCase.checkForProhibitedLogContents:650-&amp;gt;YarnTestBase.ensureNoProhibitedStringInLogFiles:479 Found a file /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-logDir-nm-1_0/application_1602757819968_0002/container_1602757819968_0002_01_000002/taskmanager.log with a prohibited string (one of [Exception, Started SelectChannelConnector@0.0.0.0:8081]). Excerpts:
2020-10-15T10:41:39.3173934Z [
2020-10-15T10:41:39.3175238Z 2020-10-15 10:31:08,883 INFO  org.apache.flink.runtime.taskexecutor.DefaultJobLeaderService [] - Remove job 5a24db6b51d7c697fe30e49aa1a8412c from job leader monitoring.
2020-10-15T10:41:39.3176858Z 2020-10-15 10:31:08,885 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Close JobManager connection &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 5a24db6b51d7c697fe30e49aa1a8412c.
2020-10-15T10:41:39.3178614Z 2020-10-15 10:31:09,531 INFO  org.apache.flink.yarn.YarnTaskExecutorRunner                 [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.
2020-10-15T10:41:39.3199037Z 2020-10-15 10:31:09,538 INFO  org.apache.flink.runtime.blob.PermanentBlobCache             [] - Shutting down BLOB cache
2020-10-15T10:41:39.3202316Z 2020-10-15 10:31:09,573 INFO  org.apache.flink.runtime.io.disk.FileChannelManagerImpl      [] - FileChannelManager removed spill file directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-io-fa9b2b85-fbe7-429c-85a9-6fcfb4811b01
2020-10-15T10:41:39.3204499Z 2020-10-15 10:31:09,577 INFO  org.apache.flink.runtime.state.TaskExecutorLocalStateStoresManager [] - Shutting down TaskExecutorLocalStateStoresManager.
2020-10-15T10:41:39.3240288Z 2020-10-15 10:31:09,579 INFO  org.apache.flink.runtime.io.disk.FileChannelManagerImpl      [] - FileChannelManager removed spill file directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-netty-shuffle-7e95809e-e862-45b1-892e-09835297c82d
2020-10-15T10:41:39.3244086Z 2020-10-15 10:31:09,594 INFO  org.apache.flink.runtime.filecache.FileCache                 [] - removed file cache directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-dist-cache-ed288b32-5c40-48b9-9bcb-7186f5a7bfc2
2020-10-15T10:41:39.3246636Z 2020-10-15 10:31:09,596 INFO  org.apache.flink.runtime.blob.TransientBlobCache             [] - Shutting down BLOB cache
2020-10-15T10:41:39.3248653Z 2020-10-15 10:31:09,661 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3250746Z 2020-10-15 10:31:09,661 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3253551Z 2020-10-15 10:31:09,662 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3255688Z 2020-10-15 10:31:09,662 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3267975Z ]
2020-10-15T10:41:39.3270637Z [ERROR]   YARNSessionCapacitySchedulerITCase.checkForProhibitedLogContents:650-&amp;gt;YarnTestBase.ensureNoProhibitedStringInLogFiles:479 Found a file /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-logDir-nm-1_0/application_1602757819968_0002/container_1602757819968_0002_01_000002/taskmanager.log with a prohibited string (one of [Exception, Started SelectChannelConnector@0.0.0.0:8081]). Excerpts:
2020-10-15T10:41:39.3272364Z [
2020-10-15T10:41:39.3273848Z 2020-10-15 10:31:08,883 INFO  org.apache.flink.runtime.taskexecutor.DefaultJobLeaderService [] - Remove job 5a24db6b51d7c697fe30e49aa1a8412c from job leader monitoring.
2020-10-15T10:41:39.3275694Z 2020-10-15 10:31:08,885 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Close JobManager connection &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 5a24db6b51d7c697fe30e49aa1a8412c.
2020-10-15T10:41:39.3277365Z 2020-10-15 10:31:09,531 INFO  org.apache.flink.yarn.YarnTaskExecutorRunner                 [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.
2020-10-15T10:41:39.3278813Z 2020-10-15 10:31:09,538 INFO  org.apache.flink.runtime.blob.PermanentBlobCache             [] - Shutting down BLOB cache
2020-10-15T10:41:39.3281136Z 2020-10-15 10:31:09,573 INFO  org.apache.flink.runtime.io.disk.FileChannelManagerImpl      [] - FileChannelManager removed spill file directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-io-fa9b2b85-fbe7-429c-85a9-6fcfb4811b01
2020-10-15T10:41:39.3283728Z 2020-10-15 10:31:09,577 INFO  org.apache.flink.runtime.state.TaskExecutorLocalStateStoresManager [] - Shutting down TaskExecutorLocalStateStoresManager.
2020-10-15T10:41:39.3285976Z 2020-10-15 10:31:09,579 INFO  org.apache.flink.runtime.io.disk.FileChannelManagerImpl      [] - FileChannelManager removed spill file directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-netty-shuffle-7e95809e-e862-45b1-892e-09835297c82d
2020-10-15T10:41:39.3288937Z 2020-10-15 10:31:09,594 INFO  org.apache.flink.runtime.filecache.FileCache                 [] - removed file cache directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-dist-cache-ed288b32-5c40-48b9-9bcb-7186f5a7bfc2
2020-10-15T10:41:39.3291038Z 2020-10-15 10:31:09,596 INFO  org.apache.flink.runtime.blob.TransientBlobCache             [] - Shutting down BLOB cache
2020-10-15T10:41:39.3293240Z 2020-10-15 10:31:09,661 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3295639Z 2020-10-15 10:31:09,661 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3297824Z 2020-10-15 10:31:09,662 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3299775Z 2020-10-15 10:31:09,662 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15T10:41:39.3300726Z ]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13335614">FLINK-19657</key>
            <summary>YARNSessionCapacitySchedulerITCase.checkForProhibitedLogContents: netty failed with java.io.IOException: Broken pipe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmetzger">Robert Metzger</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 15 Oct 2020 13:28:35 +0000</created>
                <updated>Thu, 22 Oct 2020 11:50:45 +0000</updated>
                            <resolved>Thu, 22 Oct 2020 11:50:45 +0000</resolved>
                                    <version>1.12.0</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>Deployment / YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17218276" author="rmetzger" created="Wed, 21 Oct 2020 12:51:02 +0000"  >&lt;p&gt;The offending log messages are coming from the TaskManager:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-10-15 10:31:09,531 INFO  org.apache.flink.yarn.YarnTaskExecutorRunner                 [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.
2020-10-15 10:31:09,538 INFO  org.apache.flink.runtime.blob.PermanentBlobCache             [] - Shutting down BLOB cache
2020-10-15 10:31:09,573 INFO  org.apache.flink.runtime.io.disk.FileChannelManagerImpl      [] - FileChannelManager removed spill file directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-io-fa9b2b85-fbe7-429c-85a9-6fcfb4811b01
2020-10-15 10:31:09,577 INFO  org.apache.flink.runtime.state.TaskExecutorLocalStateStoresManager [] - Shutting down TaskExecutorLocalStateStoresManager.
2020-10-15 10:31:09,579 INFO  org.apache.flink.runtime.io.disk.FileChannelManagerImpl      [] - FileChannelManager removed spill file directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-netty-shuffle-7e95809e-e862-45b1-892e-09835297c82d
2020-10-15 10:31:09,594 INFO  org.apache.flink.runtime.filecache.FileCache                 [] - removed file cache directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-capacityscheduler/flink-yarn-tests-capacityscheduler-localDir-nm-1_0/usercache/agent07_azpcontainer/appcache/application_1602757819968_0002/flink-dist-cache-ed288b32-5c40-48b9-9bcb-7186f5a7bfc2
2020-10-15 10:31:09,596 INFO  org.apache.flink.runtime.blob.TransientBlobCache             [] - Shutting down BLOB cache
2020-10-15 10:31:09,661 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15 10:31:09,662 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
2020-10-15 10:31:09,662 WARN  akka.remote.transport.netty.NettyTransport                   [] - Remote connection to [61b81e62b514/192.168.128.2:39365] failed with java.io.IOException: Broken pipe
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;... which loses connection to the JobManager, which is faster in shutting down ...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-10-15 10:31:09,459 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Stopped BLOB server at 0.0.0.0:33241
2020-10-15 10:31:09,460 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Stopping Akka RPC service.
2020-10-15 10:31:09,466 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Stopping Akka RPC service.
2020-10-15 10:31:09,502 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.
2020-10-15 10:31:09,502 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.
2020-10-15 10:31:09,540 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.
2020-10-15 10:31:09,541 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.
2020-10-15 10:31:09,635 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.
2020-10-15 10:31:09,646 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.
2020-10-15 10:31:09,713 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Stopped Akka RPC service.
2020-10-15 10:31:09,718 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Terminating cluster entrypoint process YarnJobClusterEntrypoint with exit code 0.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will open a PR to whitelist this log string.&lt;/p&gt;</comment>
                            <comment id="17218959" author="rmetzger" created="Thu, 22 Oct 2020 11:50:45 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;https://github.com/apache/flink/commit/e5192bf0b65dd9586e442dbbe4ee58f5c6779839&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/e5192bf0b65dd9586e442dbbe4ee58f5c6779839&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jqds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>