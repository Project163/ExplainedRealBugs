<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:48:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-18421] Elasticsearch (v6.3.1) sink end-to-end test instable</title>
                <link>https://issues.apache.org/jira/browse/FLINK-18421</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3983&amp;amp;view=logs&amp;amp;j=91bf6583-3fb2-592f-e4d4-d79d79c3230a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3983&amp;amp;view=logs&amp;amp;j=91bf6583-3fb2-592f-e4d4-d79d79c3230a&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-06-23T22:28:10.5540446Z [FAIL] &lt;span class=&quot;code-quote&quot;&gt;&apos;Elasticsearch (v6.3.1) sink end-to-end test&apos;&lt;/span&gt; failed after 0 minutes and 36 seconds! Test exited with exit code 0 but the logs contained errors, exceptions or non-empty .out files
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;exceptions in the log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
(1/1) (69721d998f4b68253d1e59f7f9065def) switched from DEPLOYING to RUNNING.
2020-06-23T22:28:10.5206189Z 2020-06-23 22:28:05,844 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: Sequence Source -&amp;gt; Flat Map -&amp;gt; Sink: Unnamed (1/1) (69721d998f4b68253d1e59f7f9065def) switched from RUNNING to FINISHED.
2020-06-23T22:28:10.5207672Z 2020-06-23 22:28:05,852 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job Elasticsearch 6.x end to end sink test example (59aa77d1ad30f5bedd2759ecfe2bb870) switched from state RUNNING to FINISHED.
2020-06-23T22:28:10.5208679Z 2020-06-23 22:28:05,852 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Stopping checkpoint coordinator &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 59aa77d1ad30f5bedd2759ecfe2bb870.
2020-06-23T22:28:10.5209478Z 2020-06-23 22:28:05,852 INFO  org.apache.flink.runtime.checkpoint.StandaloneCompletedCheckpointStore [] - Shutting down
2020-06-23T22:28:10.5210355Z 2020-06-23 22:28:05,861 WARN  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Error encountered during shutdown
2020-06-23T22:28:10.5211371Z java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@6a7696d6 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@3c0b9ab1[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 1]
2020-06-23T22:28:10.5212310Z 	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273) ~[?:1.8.0_252]
2020-06-23T22:28:10.5212864Z 	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280) ~[?:1.8.0_252]
2020-06-23T22:28:10.5213404Z 	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:838) ~[?:1.8.0_252]
2020-06-23T22:28:10.5213939Z 	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811) ~[?:1.8.0_252]
2020-06-23T22:28:10.5214480Z 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) [?:1.8.0_252]
2020-06-23T22:28:10.5339896Z 	at java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:575) [?:1.8.0_252]
2020-06-23T22:28:10.5340629Z 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:594) [?:1.8.0_252]
2020-06-23T22:28:10.5341291Z 	at java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:456) [?:1.8.0_252]
2020-06-23T22:28:10.5341799Z 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_252]
2020-06-23T22:28:10.5342271Z 	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_252]
2020-06-23T22:28:10.5342825Z 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_252]
2020-06-23T22:28:10.5343516Z 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_252]
2020-06-23T22:28:10.5344122Z 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_252]
2020-06-23T22:28:10.5344635Z 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_252]
2020-06-23T22:28:10.5345088Z 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) [?:1.8.0_252]
2020-06-23T22:28:10.5345861Z Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@6a7696d6 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@3c0b9ab1[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 1]
2020-06-23T22:28:10.5346852Z 	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063) ~[?:1.8.0_252]
2020-06-23T22:28:10.5347483Z 	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830) ~[?:1.8.0_252]
2020-06-23T22:28:10.5348048Z 	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[?:1.8.0_252]
2020-06-23T22:28:10.5348626Z 	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[?:1.8.0_252]
2020-06-23T22:28:10.5349208Z 	at java.util.concurrent.ScheduledThreadPoolExecutor.execute(ScheduledThreadPoolExecutor.java:622) ~[?:1.8.0_252]
2020-06-23T22:28:10.5349749Z 	at java.util.concurrent.Executors$DelegatedExecutorService.execute(Executors.java:668) ~[?:1.8.0_252]
2020-06-23T22:28:10.5351000Z 	at org.apache.flink.runtime.concurrent.ScheduledExecutorServiceAdapter.execute(ScheduledExecutorServiceAdapter.java:62) ~[flink-dist_2.11-1.12-SNAPSHOT.jar:1.12-SNAPSHOT]
2020-06-23T22:28:10.5351695Z 	at java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:543) ~[?:1.8.0_252]
2020-06-23T22:28:10.5352353Z 	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:826) ~[?:1.8.0_252]
2020-06-23T22:28:10.5352712Z 	... 12 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13313151">FLINK-18421</key>
            <summary>Elasticsearch (v6.3.1) sink end-to-end test instable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roman">Roman Khachatryan</assignee>
                                    <reporter username="dian.fu">Dian Fu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Wed, 24 Jun 2020 02:04:21 +0000</created>
                <updated>Thu, 23 Jul 2020 14:22:05 +0000</updated>
                            <resolved>Thu, 23 Jul 2020 14:22:05 +0000</resolved>
                                    <version>1.11.1</version>
                    <version>1.12.0</version>
                                    <fixVersion>1.11.2</fixVersion>
                    <fixVersion>1.12.0</fixVersion>
                                    <component>Connectors / ElasticSearch</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17143462" author="dian.fu" created="Wed, 24 Jun 2020 02:13:05 +0000"  >&lt;p&gt;Another instance on the master branch:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3983&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3983&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17152420" author="dian.fu" created="Tue, 7 Jul 2020 02:02:16 +0000"  >&lt;p&gt;Similar exception stack for &quot;Quickstarts Scala nightly end-to-end test&quot;. It also throw the same exception stack during shutdown: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=4276&amp;amp;view=logs&amp;amp;j=91bf6583-3fb2-592f-e4d4-d79d79c3230a&amp;amp;t=3425d8ba-5f03-540a-c64b-51b8481bf7d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=4276&amp;amp;view=logs&amp;amp;j=91bf6583-3fb2-592f-e4d4-d79d79c3230a&amp;amp;t=3425d8ba-5f03-540a-c64b-51b8481bf7d6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17162004" author="dian.fu" created="Tue, 21 Jul 2020 12:31:34 +0000"  >&lt;p&gt;Another instance for &quot;Quickstarts Scala nightly end-to-end test&quot;:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=4677&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=2b7514ee-e706-5046-657b-3430666e7bd9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=4677&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=2b7514ee-e706-5046-657b-3430666e7bd9&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17162866" author="rmetzger" created="Wed, 22 Jul 2020 14:58:13 +0000"  >&lt;p&gt;I guess this is rather an issue of the CheckpointCoordinator ?&lt;br/&gt;
These tests are checking the log output for exceptions, and failing if they find some (&quot;Found error in log files; printing first 500 lines; see full logs for details:&quot;)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman_khachatryan&quot; class=&quot;user-hover&quot; rel=&quot;roman_khachatryan&quot;&gt;roman_khachatryan&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; can you advise?&lt;/p&gt;</comment>
                            <comment id="17162917" author="roman_khachatryan" created="Wed, 22 Jul 2020 16:09:38 +0000"  >&lt;p&gt;Yes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;, you are right.&lt;/p&gt;

&lt;p&gt;I created a PR to fix this.&lt;/p&gt;</comment>
                            <comment id="17163625" author="pnowojski" created="Thu, 23 Jul 2020 14:22:05 +0000"  >&lt;p&gt;merged commit da210e0 into apache:master, d89baa37dd into release-1.11&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0g554:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>