<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:24:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4166] Generate automatic different namespaces in Zookeeper for Flink applications</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4166</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;We should automatically generate different namespaces per Flink application in Zookeeper to avoid interference between different applications that refer to the same Zookeeper entries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12987419">FLINK-4166</key>
            <summary>Generate automatic different namespaces in Zookeeper for Flink applications</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srichter">Stefan Richter</assignee>
                                    <reporter username="srichter">Stefan Richter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2016 09:06:25 +0000</created>
                <updated>Fri, 30 Aug 2019 09:48:02 +0000</updated>
                            <resolved>Tue, 19 Jul 2016 16:01:36 +0000</resolved>
                                    <version>1.0.3</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15382162" author="mxm" created="Mon, 18 Jul 2016 12:04:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srichter&quot; class=&quot;user-hover&quot; rel=&quot;srichter&quot;&gt;srichter&lt;/a&gt; Are you planning to work on a fix?&lt;/p&gt;</comment>
                            <comment id="15382508" author="mxm" created="Mon, 18 Jul 2016 16:03:32 +0000"  >&lt;p&gt;Added the pull request which the Infra bot didn&apos;t link.&lt;/p&gt;</comment>
                            <comment id="15382514" author="githubbot" created="Mon, 18 Jul 2016 16:08:42 +0000"  >&lt;p&gt;Github user mxm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249#discussion_r71176801&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249#discussion_r71176801&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/configuration/ConfigConstants.java &amp;#8212;&lt;br/&gt;
    @@ -969,6 +971,8 @@&lt;/p&gt;

&lt;p&gt;     	public static final String DEFAULT_ZOOKEEPER_DIR_KEY = &quot;/flink&quot;;&lt;/p&gt;

&lt;p&gt;    +	public static final String DEFAULT_ZOOKEEPER_NAMESPACE_KEY = &quot;/default_ns&quot;;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    How about we change this to `default`? `ns` is pretty cryptic for most people anyways.&lt;/p&gt;</comment>
                            <comment id="15382526" author="githubbot" created="Mon, 18 Jul 2016 16:16:48 +0000"  >&lt;p&gt;Github user StefanRRichter commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249#discussion_r71178429&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249#discussion_r71178429&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/configuration/ConfigConstants.java &amp;#8212;&lt;br/&gt;
    @@ -969,6 +971,8 @@&lt;/p&gt;

&lt;p&gt;     	public static final String DEFAULT_ZOOKEEPER_DIR_KEY = &quot;/flink&quot;;&lt;/p&gt;

&lt;p&gt;    +	public static final String DEFAULT_ZOOKEEPER_NAMESPACE_KEY = &quot;/default_ns&quot;;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Sure, we can change that. I just thought that default might be a little generic.&lt;/p&gt;</comment>
                            <comment id="15382528" author="githubbot" created="Mon, 18 Jul 2016 16:17:42 +0000"  >&lt;p&gt;Github user mxm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249#discussion_r71178603&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249#discussion_r71178603&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/setup/config.md &amp;#8212;&lt;br/&gt;
    @@ -272,7 +272,9 @@ For example when running Flink on YARN on an environment with a restrictive fire&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;`recovery.zookeeper.quorum`: Defines the ZooKeeper quorum URL which is used to connet to the ZooKeeper cluster when the &apos;zookeeper&apos; recovery mode is selected&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8211; `recovery.zookeeper.path.root`: (Default &apos;/flink&apos;) Defines the root dir under which the ZooKeeper recovery mode will create znodes.&lt;br/&gt;
    +- `recovery.zookeeper.path.root`: (Default &apos;/flink&apos;) Defines the root dir under which the ZooKeeper recovery mode will create namespace directories.&lt;br/&gt;
    +&lt;br/&gt;
    +- `recovery.zookeeper.path.namespace`: (Default &apos;/default_ns&apos; in standalone mode, or the &amp;lt;yarn-application-id&amp;gt; under Yarn) Defines the subdirectory under the root dir where the ZooKeeper recovery mode will create znodes. This allows to isolate multiple applications on the same ZooKeeper. &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    It would be nice to have a default namespace for the standalone mode as well. How about generating a namespace from the `masters` files. Would hashing the contents of the file be a good fit? That should be consistent across all master nodes.&lt;/p&gt;</comment>
                            <comment id="15382529" author="githubbot" created="Mon, 18 Jul 2016 16:19:20 +0000"  >&lt;p&gt;Github user mxm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The changes look good to me. Just had some comments about the default namespace name and an idea to generate a default namespace value in standalone mode.&lt;/p&gt;</comment>
                            <comment id="15383888" author="githubbot" created="Tue, 19 Jul 2016 10:07:46 +0000"  >&lt;p&gt;Github user mxm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the update. Could you rebase to the latest master?&lt;/p&gt;</comment>
                            <comment id="15383892" author="githubbot" created="Tue, 19 Jul 2016 10:08:32 +0000"  >&lt;p&gt;Github user StefanRRichter commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249#discussion_r71309594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249#discussion_r71309594&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/setup/config.md &amp;#8212;&lt;br/&gt;
    @@ -272,7 +272,9 @@ For example when running Flink on YARN on an environment with a restrictive fire&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;`recovery.zookeeper.quorum`: Defines the ZooKeeper quorum URL which is used to connet to the ZooKeeper cluster when the &apos;zookeeper&apos; recovery mode is selected&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8211; `recovery.zookeeper.path.root`: (Default &apos;/flink&apos;) Defines the root dir under which the ZooKeeper recovery mode will create znodes.&lt;br/&gt;
    +- `recovery.zookeeper.path.root`: (Default &apos;/flink&apos;) Defines the root dir under which the ZooKeeper recovery mode will create namespace directories.&lt;br/&gt;
    +&lt;br/&gt;
    +- `recovery.zookeeper.path.namespace`: (Default &apos;/default_ns&apos; in standalone mode, or the &amp;lt;yarn-application-id&amp;gt; under Yarn) Defines the subdirectory under the root dir where the ZooKeeper recovery mode will create znodes. This allows to isolate multiple applications on the same ZooKeeper. &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I think the main problem with default namespaces in standalone mode is that there is no authority generating reliably unique identifier that we can use to label clusters (in contrast to e.g. application ids in Yarn). Also the contents of the masters file could be the same for two different clusters running on the same machines and collisions could happen. In particular, such collisions could be very rare and hence even more surprising to the user. Furthermore, I think that having multiple clusters in this way is exactly when you want to start Yarn or Mesos.&lt;/p&gt;</comment>
                            <comment id="15383903" author="githubbot" created="Tue, 19 Jul 2016 10:17:10 +0000"  >&lt;p&gt;Github user mxm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249#discussion_r71311352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249#discussion_r71311352&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/setup/config.md &amp;#8212;&lt;br/&gt;
    @@ -272,7 +272,9 @@ For example when running Flink on YARN on an environment with a restrictive fire&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;`recovery.zookeeper.quorum`: Defines the ZooKeeper quorum URL which is used to connet to the ZooKeeper cluster when the &apos;zookeeper&apos; recovery mode is selected&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8211; `recovery.zookeeper.path.root`: (Default &apos;/flink&apos;) Defines the root dir under which the ZooKeeper recovery mode will create znodes.&lt;br/&gt;
    +- `recovery.zookeeper.path.root`: (Default &apos;/flink&apos;) Defines the root dir under which the ZooKeeper recovery mode will create namespace directories.&lt;br/&gt;
    +&lt;br/&gt;
    +- `recovery.zookeeper.path.namespace`: (Default &apos;/default_ns&apos; in standalone mode, or the &amp;lt;yarn-application-id&amp;gt; under Yarn) Defines the subdirectory under the root dir where the ZooKeeper recovery mode will create znodes. This allows to isolate multiple applications on the same ZooKeeper. &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    You&apos;re right, it would just be a heuristic for generating a unique namespace but it is not unique because multiple Flink instances might be running on the same host names (e.g. multiple processes, Docker containers). So +1 for not adding something that can cause hard to debug problems. We have covered the Yarn use case which makes it very convenient to setup a namespace.&lt;/p&gt;</comment>
                            <comment id="15384002" author="githubbot" created="Tue, 19 Jul 2016 11:41:38 +0000"  >&lt;p&gt;Github user StefanRRichter commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the review, Max! I changed the default namespace string and rebased the the latest master.&lt;/p&gt;</comment>
                            <comment id="15384035" author="githubbot" created="Tue, 19 Jul 2016 12:14:14 +0000"  >&lt;p&gt;Github user mxm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you! Merging after tests pass.&lt;/p&gt;</comment>
                            <comment id="15384105" author="githubbot" created="Tue, 19 Jul 2016 12:58:00 +0000"  >&lt;p&gt;Github user mxm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Travis cache seems to be corrupted. Have you run `mvn verify` from the command-line?&lt;/p&gt;</comment>
                            <comment id="15384415" author="githubbot" created="Tue, 19 Jul 2016 15:59:22 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2249&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15384424" author="mxm" created="Tue, 19 Jul 2016 16:01:37 +0000"  >&lt;p&gt;Fixed via 082d87e5139a10fc34ddb3072d15c1a4747117e7&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12916911">FLINK-3091</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12987089">FLINK-4156</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12986640">FLINK-4150</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30n3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>