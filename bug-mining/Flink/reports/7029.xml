<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:17:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-31818] parsing error of &apos;security.kerberos.access.hadoopFileSystems&apos; in flink-conf.yaml</title>
                <link>https://issues.apache.org/jira/browse/FLINK-31818</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;There is a parsing error when I gave two or more hdfs namenodes URI separated by commas as the value of key attribute &apos;security.kerberos.access.hadoopFileSystems&apos;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;For example, I set this key attribute and value like below in flink-conf.yaml,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
security.kerberos.access.hadoopFileSystems: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop-nn1.testurl.com:8020,hdfs://hadoop-nn2.testurl.com:8020 &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;then, the slash &quot;/&quot;&#160;is missing in second URI in parsed value&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop-nn1.testurl.com:8020,hdfs:/hadoop-nn2.testurl.com:8020&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Received error message is here.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: org.apache.flink.util.FlinkRuntimeException: java.io.IOException: Incomplete HDFS URI, no host: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop-nn1.testurl.com:8020,hdfs:/hadoop-nn2.testurl.com:8020
&lt;/span&gt;&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.lambda$getFileSystemsToAccess$2(HadoopFSDelegationTokenProvider.java:168) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at java.util.ArrayList.forEach(ArrayList.java:1259) ~[?:1.8.0_362]
&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.getFileSystemsToAccess(HadoopFSDelegationTokenProvider.java:157) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.lambda$obtainDelegationTokens$1(HadoopFSDelegationTokenProvider.java:113) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_362]
&#160; &#160;at javax.security.auth.Subject.doAs(Subject.java:422) ~[?:1.8.0_362]
&#160; &#160;at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1966) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.obtainDelegationTokens(HadoopFSDelegationTokenProvider.java:108) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at org.apache.flink.runtime.security.token.DefaultDelegationTokenManager.lambda$obtainDelegationTokensAndGetNextRenewal$1(DefaultDelegationTokenManager.java:228) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;... 13 more
Caused by: java.io.IOException: Incomplete HDFS URI, no host: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop-nn1.testurl.com:8020,hdfs:/hadoop-nn2.testurl.com:8020
&lt;/span&gt;&#160; &#160;at org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:156) ~[hadoop-hdfs-client-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3241) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:122) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3290) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3258) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:471) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.hadoop.fs.Path.getFileSystem(Path.java:356) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.lambda$getFileSystemsToAccess$2(HadoopFSDelegationTokenProvider.java:163) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at java.util.ArrayList.forEach(ArrayList.java:1259) ~[?:1.8.0_362]
&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.getFileSystemsToAccess(HadoopFSDelegationTokenProvider.java:157) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.lambda$obtainDelegationTokens$1(HadoopFSDelegationTokenProvider.java:113) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_362]
&#160; &#160;at javax.security.auth.Subject.doAs(Subject.java:422) ~[?:1.8.0_362]
&#160; &#160;at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1966) ~[hadoop-common-2.10.0-khp-20210414.jar:?]
&#160; &#160;at org.apache.flink.runtime.security.token.hadoop.HadoopFSDelegationTokenProvider.obtainDelegationTokens(HadoopFSDelegationTokenProvider.java:108) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;at org.apache.flink.runtime.security.token.DefaultDelegationTokenManager.lambda$obtainDelegationTokensAndGetNextRenewal$1(DefaultDelegationTokenManager.java:228) ~[flink-dist-1.17.0.jar:1.17.0]
&#160; &#160;... 13 more &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13532827">FLINK-31818</key>
            <summary>parsing error of &apos;security.kerberos.access.hadoopFileSystems&apos; in flink-conf.yaml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="seung-min">Lee SeungMin</assignee>
                                    <reporter username="seung-min">Lee SeungMin</reporter>
                        <labels>
                            <label>bug</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 17 Apr 2023 05:57:28 +0000</created>
                <updated>Mon, 17 Apr 2023 15:17:09 +0000</updated>
                            <resolved>Mon, 17 Apr 2023 15:17:09 +0000</resolved>
                                    <version>1.17.0</version>
                                    <fixVersion>1.18.0</fixVersion>
                    <fixVersion>1.17.1</fixVersion>
                                    <component>Runtime / Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17712907" author="JIRAUSER293716" created="Mon, 17 Apr 2023 06:16:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=seung-min&quot; class=&quot;user-hover&quot; rel=&quot;seung-min&quot;&gt;seung-min&lt;/a&gt; I think this issue is due to the type of security.kerberos.access.hadoopFileSystems being ConfigOption&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;, which requires &quot;;&quot; as the separator instead of &quot;,&quot; for the value of the configuration option. You can retry with &quot;hdfs://hadoop-nn1.testurl.com:8020;hdfs://hadoop-nn2.testurl.com:8020&quot; as the value. If this modification is correct, would you be willing to create a pr to correct the documentation? If not, I am happy to do it.&lt;/p&gt;</comment>
                            <comment id="17712921" author="JIRAUSER299880" created="Mon, 17 Apr 2023 06:54:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JunRuiLi&quot; class=&quot;user-hover&quot; rel=&quot;JunRuiLi&quot;&gt;JunRuiLi&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Oh, I will test, and if this modification is correct than i will create pr to correct the documentation&#160; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17712929" author="JIRAUSER299880" created="Mon, 17 Apr 2023 07:17:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JunRuiLi&quot; class=&quot;user-hover&quot; rel=&quot;JunRuiLi&quot;&gt;JunRuiLi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It works&lt;/p&gt;

&lt;p&gt;I will create pr!&lt;/p&gt;</comment>
                            <comment id="17712946" author="gaborgsomogyi" created="Mon, 17 Apr 2023 08:11:53 +0000"  >&lt;p&gt;Yeah, the doc is wrong. Thanks for fixing it&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17713139" author="weijie guo" created="Mon, 17 Apr 2023 15:09:01 +0000"  >&lt;p&gt;master(1.18) via fe8ff46123ee2f9278066c801228416e38e2cbd4.&lt;br/&gt;
release-1.17 via fa2263d1de1789a5200f909333cfe2dc30104b2f.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hbkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>