<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2104] Fallback implicit values for PredictOperation and TransformOperation don&apos;t work if Nothing is inferred as the output type</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2104</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;If one calls a &lt;tt&gt;Predictor&lt;/tt&gt; or &lt;tt&gt;Transformer&lt;/tt&gt; with a wrong input type, then the Scala compiler tries to apply the fallback implicit value for this operation type. However, since the return type of the operations is parameterized, it will infer it to be &lt;tt&gt;Nothing&lt;/tt&gt;. The problem is then that the implicit value &lt;tt&gt;Operation&lt;span class=&quot;error&quot;&gt;&amp;#91;Self, Input, Nothing&amp;#93;&lt;/span&gt;&lt;/tt&gt; cannot be unified with the implicit parameter &lt;tt&gt;Operation&lt;span class=&quot;error&quot;&gt;&amp;#91;Self, Input, Output&amp;#93;&lt;/span&gt;&lt;/tt&gt;. This seems to be a known Scala issue &lt;a href=&quot;https://issues.scala-lang.org/browse/SI-1570&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.scala-lang.org/browse/SI-1570&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I propose to fix the output type of the implicit values to &lt;tt&gt;Any&lt;/tt&gt; which will avoid that &lt;tt&gt;Nothing&lt;/tt&gt; is inferred. This should solve the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12833379">FLINK-2104</key>
            <summary>Fallback implicit values for PredictOperation and TransformOperation don&apos;t work if Nothing is inferred as the output type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>ML</label>
                    </labels>
                <created>Thu, 28 May 2015 10:40:32 +0000</created>
                <updated>Thu, 28 May 2015 15:32:00 +0000</updated>
                            <resolved>Thu, 28 May 2015 15:32:00 +0000</resolved>
                                                    <fixVersion>0.9</fixVersion>
                                    <component>Library / Machine Learning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14562676" author="githubbot" created="Thu, 28 May 2015 10:44:09 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/741&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/741&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2104&quot; title=&quot;Fallback implicit values for PredictOperation and TransformOperation don&amp;#39;t work if Nothing is inferred as the output type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2104&quot;&gt;&lt;del&gt;FLINK-2104&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Fixes problem with type inference for fallback implicits&lt;/p&gt;

&lt;p&gt;    The solution seems to be to fix the output type to `Any`. This has the consequence that all following operations will also be fallback operations if they don&apos;t support `Any` inputs. But this should be fine since only the first fallback operation will throw an exception stating why the operator could not find a suitable operation.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixFallbackImplicits&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/741.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/741.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #741&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 48d3003036a0d049b73fd40278a1470b99f87c2b&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-05-27T18:08:19Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2104&quot; title=&quot;Fallback implicit values for PredictOperation and TransformOperation don&amp;#39;t work if Nothing is inferred as the output type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2104&quot;&gt;&lt;del&gt;FLINK-2104&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Fixes problem with type inference for fallback implicits where Nothing is not correctly treated (see SI-1570)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14563005" author="githubbot" created="Thu, 28 May 2015 14:42:32 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/741#issuecomment-106367425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/741#issuecomment-106367425&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    If there are no more objections, then I would merge it in the next hours.&lt;/p&gt;</comment>
                            <comment id="14563086" author="githubbot" created="Thu, 28 May 2015 15:31:40 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/741&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14563089" author="till.rohrmann" created="Thu, 28 May 2015 15:32:00 +0000"  >&lt;p&gt;Fixed via 3e860e7fd5ef9c4aba10f738ce95b12d40654cce&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fb9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>