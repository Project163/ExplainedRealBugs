<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:34:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-10072] Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;</title>
                <link>https://issues.apache.org/jira/browse/FLINK-10072</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;There are several issues in the documentation for &quot;&lt;a href=&quot;https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/broadcast_state.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;The Broadcast State Pattern&lt;/a&gt;&quot;:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Indentation mixes up whitespace and tabs, causing the markdown layout to be crippled (especially related to indentation),&lt;/li&gt;
	&lt;li&gt;Broken (nested) list layout, causing multi-item lists to be rendered as single-item lists, and&lt;/li&gt;
	&lt;li&gt;inconsistent list layout.&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13177105">FLINK-10072</key>
            <summary>Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rick.hofstede">Rick Hofstede</assignee>
                                    <reporter username="rick.hofstede">Rick Hofstede</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 6 Aug 2018 12:31:14 +0000</created>
                <updated>Tue, 13 Apr 2021 20:40:25 +0000</updated>
                            <resolved>Mon, 20 Aug 2018 15:58:00 +0000</resolved>
                                    <version>1.5.2</version>
                                    <fixVersion>1.7.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16570179" author="githubbot" created="Mon, 6 Aug 2018 12:54:58 +0000"  >&lt;p&gt;rickhofstede opened a new pull request #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Documentation&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503&lt;/a&gt;&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   Various syntax and consistency improvements in the project documentation.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   1. Indentation mixes up whitespace and tabs, causing the markdown layout to be crippled (especially related to indentation),&lt;br/&gt;
   2. broken (nested) list layout, causing multi-item lists to be rendered as single-item lists, and&lt;br/&gt;
   3. inconsistent list layout.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This change is a trivial rework / code cleanup without any test coverage.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): no&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? no&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? not applicable&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16570401" author="githubbot" created="Mon, 6 Aug 2018 16:00:28 +0000"  >&lt;p&gt;yanghua commented on a change in pull request #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#discussion_r207944485&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#discussion_r207944485&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -171,9 +171,8 @@ exposes some functionality which is not available to the `BroadcastProcessFuncti&lt;br/&gt;
   to register event and/or processing time timers. When a timer fires, the `onTimer()` (shown above) is invoked with an &lt;br/&gt;
   `OnTimerContext` which exposes the same functionality as the `ReadOnlyContext` plus &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the ability to ask if the timer that fired was an event or processing time one and&lt;/li&gt;
	&lt;li&gt;- to query the key associated with the timer.&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;This is aligned with the `onTimer()` method of the `KeyedProcessFunction`.&lt;br/&gt;
+   - to query the key associated with the timer.&amp;lt;br/&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   It seems the old style is OK, from here: &lt;a href=&quot;https://ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/broadcast_state.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/broadcast_state.html&lt;/a&gt; , it can break line without &quot;&amp;lt;br /&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16571171" author="githubbot" created="Tue, 7 Aug 2018 06:30:21 +0000"  >&lt;p&gt;rickhofstede commented on a change in pull request #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#discussion_r208112215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#discussion_r208112215&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -171,9 +171,8 @@ exposes some functionality which is not available to the `BroadcastProcessFuncti&lt;br/&gt;
   to register event and/or processing time timers. When a timer fires, the `onTimer()` (shown above) is invoked with an &lt;br/&gt;
   `OnTimerContext` which exposes the same functionality as the `ReadOnlyContext` plus &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the ability to ask if the timer that fired was an event or processing time one and&lt;/li&gt;
	&lt;li&gt;- to query the key associated with the timer.&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;This is aligned with the `onTimer()` method of the `KeyedProcessFunction`.&lt;br/&gt;
+   - to query the key associated with the timer.&amp;lt;br/&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   That is not completely right. In the original code, the line break was forced by the empty white line after (nested) list. However, that causes the (outer) list enumeration to be broken; the items &quot;&lt;em&gt;the ReadOnlyContext in the processElement()&lt;/em&gt;&quot; and &quot;&lt;em&gt;the Context in the processBroadcastElement()&lt;/em&gt;&quot; both have a numeration of &quot;&lt;em&gt;1&lt;/em&gt;&quot; in the original code.&lt;/p&gt;

&lt;p&gt;   So to solve the enumeration problem, we have to take out the empty white line. That however implies that we have to include an explicit line break.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16571179" author="githubbot" created="Tue, 7 Aug 2018 06:49:50 +0000"  >&lt;p&gt;yanghua commented on a change in pull request #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#discussion_r208116129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#discussion_r208116129&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -171,9 +171,8 @@ exposes some functionality which is not available to the `BroadcastProcessFuncti&lt;br/&gt;
   to register event and/or processing time timers. When a timer fires, the `onTimer()` (shown above) is invoked with an &lt;br/&gt;
   `OnTimerContext` which exposes the same functionality as the `ReadOnlyContext` plus &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the ability to ask if the timer that fired was an event or processing time one and&lt;/li&gt;
	&lt;li&gt;- to query the key associated with the timer.&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;This is aligned with the `onTimer()` method of the `KeyedProcessFunction`.&lt;br/&gt;
+   - to query the key associated with the timer.&amp;lt;br/&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   You are right! I only paid attention to the line break.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16574590" author="githubbot" created="Thu, 9 Aug 2018 09:53:36 +0000"  >&lt;p&gt;rickhofstede commented on issue #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#issuecomment-411703560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#issuecomment-411703560&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @yanghua &lt;/p&gt;

&lt;p&gt;   Since you&apos;ve reviewed my commits, let me please ask you the following. It appears that Travis doesn&apos;t like the last two commits in this pull request. This seems odd to me, since they introduce no functional changes to the code at all. Can you comment on what is going wrong there, such that I can fix it?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16574708" author="githubbot" created="Thu, 9 Aug 2018 11:22:55 +0000"  >&lt;p&gt;yanghua commented on issue #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#issuecomment-411724977&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#issuecomment-411724977&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   hi @rickhofstede , Travis build error is not caused by your code. So, take it easy.  The next time you encounter a problem, you can follow the steps below to deal with it: First, click on the travis failure link to view the failure log. Then, analyze what is the cause of the failure and whether it is caused by you. If it is, then fix it, if not you can go to JIRA to report the issue. I have reported an issue for this exception, see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10111&quot; title=&quot;Test failure because of HAQueryableStateFsBackendITCase#testMapState throws NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10111&quot;&gt;&lt;del&gt;FLINK-10111&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16574709" author="githubbot" created="Thu, 9 Aug 2018 11:24:05 +0000"  >&lt;p&gt;yanghua edited a comment on issue #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#issuecomment-411724977&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#issuecomment-411724977&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   hi @rickhofstede , Travis build error is not caused by your code. So, take it easy.  The next time you encounter a problem, you can follow the steps below to deal with it: First, click on the travis failure link to view the failure log. Then, analyze what is the cause of the failure and whether it is caused by you. If it is, then fix it, if not you can go to JIRA to report the issue. I have reported an issue for this exception, see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10111&quot; title=&quot;Test failure because of HAQueryableStateFsBackendITCase#testMapState throws NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10111&quot;&gt;&lt;del&gt;FLINK-10111&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;   You can also push an empty commit to make travis rebuild.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16579428" author="githubbot" created="Tue, 14 Aug 2018 08:24:59 +0000"  >&lt;p&gt;zentol commented on issue #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#issuecomment-412794286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#issuecomment-412794286&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @yanghua Please don&apos;t push empty commits to re-trigger travis or suggest this to others. Since this is a pure documentation change you&apos;d just be wasting resources.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16579447" author="githubbot" created="Tue, 14 Aug 2018 08:41:38 +0000"  >&lt;p&gt;zentol commented on a change in pull request #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#discussion_r209870859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#discussion_r209870859&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -171,9 +171,8 @@ exposes some functionality which is not available to the `BroadcastProcessFuncti&lt;br/&gt;
   to register event and/or processing time timers. When a timer fires, the `onTimer()` (shown above) is invoked with an &lt;br/&gt;
   `OnTimerContext` which exposes the same functionality as the `ReadOnlyContext` plus &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the ability to ask if the timer that fired was an event or processing time one and&lt;/li&gt;
	&lt;li&gt;- to query the key associated with the timer.&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;This is aligned with the `onTimer()` method of the `KeyedProcessFunction`.&lt;br/&gt;
+   - to query the key associated with the timer.&amp;lt;br/&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   This part still doesn&apos;t look correct.&lt;br/&gt;
   !&lt;span class=&quot;error&quot;&gt;&amp;#91;untitled&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://user-images.githubusercontent.com/5725237/44080974-dce6f1e0-9fad-11e8-8ea1-ae98c5254b19.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://user-images.githubusercontent.com/5725237/44080974-dce6f1e0-9fad-11e8-8ea1-ae98c5254b19.png&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   It&apos;s now hard to tell whether `This is aligned with the onTimer() method of the KeyedProcessFunction.` applies to `the ReadOnlyContext in the processElement() method ...` or either/both of the sub-items.&lt;/p&gt;

&lt;p&gt;   We should just re-phrase this part. Actually I would just remove it; as someone not deeply familiar with process functions I simply assumed that `KeyedBroadcastProcessFunction#onTimer` works exactly like `KeyedProcessFunction#onTimer`.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16582089" author="githubbot" created="Thu, 16 Aug 2018 07:40:10 +0000"  >&lt;p&gt;rickhofstede commented on a change in pull request #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503#discussion_r210502182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503#discussion_r210502182&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -171,9 +171,8 @@ exposes some functionality which is not available to the `BroadcastProcessFuncti&lt;br/&gt;
   to register event and/or processing time timers. When a timer fires, the `onTimer()` (shown above) is invoked with an &lt;br/&gt;
   `OnTimerContext` which exposes the same functionality as the `ReadOnlyContext` plus &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the ability to ask if the timer that fired was an event or processing time one and&lt;/li&gt;
	&lt;li&gt;- to query the key associated with the timer.&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;This is aligned with the `onTimer()` method of the `KeyedProcessFunction`.&lt;br/&gt;
+   - to query the key associated with the timer.&amp;lt;br/&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   I totally agree, @zentol. To avoid cluttered commits in which we (a) fix something and (b) improve something, I kept this commit as is (i.e., fixing the list/rendering issue), and added a second commit in which I remove the ambiguous line from the text as you proposed. The new commit is 75d815bb4240137016daf19eeb3922aa31da53a1.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16586136" author="githubbot" created="Mon, 20 Aug 2018 15:57:47 +0000"  >&lt;p&gt;zentol closed pull request #6503: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10072&quot; title=&quot;Syntax and consistency issues in &amp;quot;The Broadcast State Pattern&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10072&quot;&gt;&lt;del&gt;FLINK-10072&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Syntax and consistency issues in &quot;The Broadcast State Pattern&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6503&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/docs/dev/stream/state/broadcast_state.md b/docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
index 593b6a29a87..f336a855a3a 100644&lt;br/&gt;
&amp;#8212; a/docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
+++ b/docs/dev/stream/state/broadcast_state.md&lt;br/&gt;
@@ -76,8 +76,8 @@ BroadcastStream&amp;lt;Rule&amp;gt; ruleBroadcastStream = ruleStream&lt;/p&gt;
 {% endhighlight %}&lt;br/&gt;
 &lt;br/&gt;
 Finally, in order to evaluate the `Rules` against the incoming elements from the `Item` stream, we need to:&lt;br/&gt;
-    1) connect the two streams and &lt;br/&gt;
-    2) specify our match detecting logic. &lt;br/&gt;
+ 1. connect the two streams, and&lt;br/&gt;
+ 2. specify our match detecting logic.&lt;br/&gt;
 &lt;br/&gt;
 Connecting a stream (keyed or non-keyed) with a `BroadcastStream` can be done by calling `connect()` on the &lt;br/&gt;
 non-broadcasted stream, with the `BroadcastStream` as an argument. This will return a `BroadcastConnectedStream`, on &lt;br/&gt;
@@ -161,7 +161,7 @@ across all tasks. Ignoring this rule would break the consistency guarantees of t&lt;br/&gt;
 often difficult to debug results.&lt;br/&gt;
 &lt;br/&gt;
 &amp;lt;div class=&quot;alert alert-info&quot;&amp;gt;&lt;br/&gt;
-  &amp;lt;strong&amp;gt;Attention:&amp;lt;/strong&amp;gt; The logic implemented in `processBroadcast()` must have the same determinstic behavior &lt;br/&gt;
+  &amp;lt;strong&amp;gt;Attention:&amp;lt;/strong&amp;gt; The logic implemented in `processBroadcast()` must have the same deterministic behavior&lt;br/&gt;
   across all parallel instances!&lt;br/&gt;
 &amp;lt;/div&amp;gt;&lt;br/&gt;
 &lt;br/&gt;
@@ -172,8 +172,6 @@ exposes some functionality which is not available to the `BroadcastProcessFuncti&lt;br/&gt;
   `OnTimerContext` which exposes the same functionality as the `ReadOnlyContext` plus &lt;br/&gt;
    - the ability to ask if the timer that fired was an event or processing time one and &lt;br/&gt;
    - to query the key associated with the timer.&lt;br/&gt;
-&lt;br/&gt;
-  This is aligned with the `onTimer()` method of the `KeyedProcessFunction`. &lt;br/&gt;
  2. the `Context` in the `processBroadcastElement()` method contains the method &lt;br/&gt;
  `applyToKeyedState(StateDescriptor&amp;lt;S, VS&amp;gt; stateDescriptor, KeyedStateFunction&amp;lt;KS, S&amp;gt; function)`. This allows to &lt;br/&gt;
   register a `KeyedStateFunction` to be *&lt;b&gt;applied to all states of all keys&lt;/b&gt;* associated with the provided `stateDescriptor`. &lt;br/&gt;
@@ -192,34 +190,34 @@ new KeyedBroadcastProcessFunction&amp;lt;Color, Item, Rule, String&amp;gt;() {&lt;br/&gt;
     // store partial matches, i.e. first elements of the pair waiting for their second element&lt;br/&gt;
     // we keep a list as we may have many first elements waiting&lt;br/&gt;
     private final MapStateDescriptor&amp;lt;String, List&amp;lt;Item&amp;gt;&amp;gt; mapStateDesc =&lt;br/&gt;
-	    new MapStateDescriptor&amp;lt;&amp;gt;(&lt;br/&gt;
-	        &quot;items&quot;,&lt;br/&gt;
-	        BasicTypeInfo.STRING_TYPE_INFO, &lt;br/&gt;
-	        new ListTypeInfo&amp;lt;&amp;gt;(Item.class));&lt;br/&gt;
+        new MapStateDescriptor&amp;lt;&amp;gt;(&lt;br/&gt;
+            &quot;items&quot;,&lt;br/&gt;
+            BasicTypeInfo.STRING_TYPE_INFO,&lt;br/&gt;
+            new ListTypeInfo&amp;lt;&amp;gt;(Item.class));&lt;br/&gt;
 &lt;br/&gt;
     // identical to our ruleStateDescriptor above&lt;br/&gt;
     private final MapStateDescriptor&amp;lt;String, Rule&amp;gt; ruleStateDescriptor = &lt;br/&gt;
         new MapStateDescriptor&amp;lt;&amp;gt;(&lt;br/&gt;
-    	    &quot;RulesBroadcastState&quot;,&lt;br/&gt;
-    		BasicTypeInfo.STRING_TYPE_INFO,&lt;br/&gt;
-    		TypeInformation.of(new TypeHint&amp;lt;Rule&amp;gt;() {}));&lt;br/&gt;
-&lt;br/&gt;
-	@Override&lt;br/&gt;
-	public void processBroadcastElement(Rule value, &lt;br/&gt;
-	                                    Context ctx, &lt;br/&gt;
-	                                    Collector&amp;lt;String&amp;gt; out) throws Exception {
-	    ctx.getBroadcastState(ruleStateDescriptor).put(value.name, value);
-	}&lt;br/&gt;
-&lt;br/&gt;
-	@Override&lt;br/&gt;
-	public void processElement(Item value, &lt;br/&gt;
-	                           ReadOnlyContext ctx, &lt;br/&gt;
-	                           Collector&amp;lt;String&amp;gt; out) throws Exception {&lt;br/&gt;
+            &quot;RulesBroadcastState&quot;,&lt;br/&gt;
+            BasicTypeInfo.STRING_TYPE_INFO,&lt;br/&gt;
+            TypeInformation.of(new TypeHint&amp;lt;Rule&amp;gt;() {}));&lt;br/&gt;
+&lt;br/&gt;
+    @Override&lt;br/&gt;
+    public void processBroadcastElement(Rule value,&lt;br/&gt;
+                                        Context ctx,&lt;br/&gt;
+                                        Collector&amp;lt;String&amp;gt; out) throws Exception {
+        ctx.getBroadcastState(ruleStateDescriptor).put(value.name, value);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    @Override&lt;br/&gt;
+    public void processElement(Item value,&lt;br/&gt;
+                               ReadOnlyContext ctx,&lt;br/&gt;
+                               Collector&amp;lt;String&amp;gt; out) throws Exception {&lt;br/&gt;
 &lt;br/&gt;
         final MapState&amp;lt;String, List&amp;lt;Item&amp;gt;&amp;gt; state = getRuntimeContext().getMapState(mapStateDesc);&lt;br/&gt;
         final Shape shape = value.getShape();&lt;br/&gt;
     &lt;br/&gt;
-        for (Map.Entry&amp;lt;String, Rule&amp;gt; entry: &lt;br/&gt;
+        for (Map.Entry&amp;lt;String, Rule&amp;gt; entry :&lt;br/&gt;
                 ctx.getBroadcastState(ruleStateDescriptor).immutableEntries()) {&lt;br/&gt;
             final String ruleName = entry.getKey();&lt;br/&gt;
             final Rule rule = entry.getValue();&lt;br/&gt;
@@ -236,7 +234,7 @@ new KeyedBroadcastProcessFunction&amp;lt;Color, Item, Rule, String&amp;gt;() {
                 stored.clear();
             }&lt;br/&gt;
     &lt;br/&gt;
-            // there is  no else{} to cover if rule.first == rule.second&lt;br/&gt;
+            // there is no else{} to cover if rule.first == rule.second&lt;br/&gt;
             if (shape.equals(rule.first)) {
                 stored.add(value);
             }&lt;br/&gt;
@@ -247,7 +245,7 @@ new KeyedBroadcastProcessFunction&amp;lt;Color, Item, Rule, String&amp;gt;() {
                 state.put(ruleName, stored);
             }&lt;br/&gt;
         }&lt;br/&gt;
-	}&lt;br/&gt;
+    }&lt;br/&gt;
 }&lt;br/&gt;
 {% endhighlight %}





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16586137" author="zentol" created="Mon, 20 Aug 2018 15:58:00 +0000"  >&lt;p&gt;master: 1c2b01be9458641a8b873ad37fe781569dd572b5&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13140913">FLINK-8780</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3wqbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>