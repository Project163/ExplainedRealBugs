<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:12:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-29132] SubtaskMetricStore causes memory leak.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-29132</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-28588&quot; title=&quot;Enhance REST API for Speculative Execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-28588&quot;&gt;&lt;del&gt;FLINK-28588&lt;/del&gt;&lt;/a&gt;, MetricStore supports multiple attempts of a subtask. However, `SubtaskMetricStore` doesn&apos;t have a clean mechanism.&#160; In failover scenario, `attempts` pile up and cause OOM.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13479208">FLINK-29132</key>
            <summary>SubtaskMetricStore causes memory leak.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pltbkd">Gen Luo</assignee>
                                    <reporter username="nagist">Sitan Pang</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 30 Aug 2022 03:08:04 +0000</created>
                <updated>Thu, 8 Sep 2022 12:59:58 +0000</updated>
                            <resolved>Thu, 8 Sep 2022 12:59:58 +0000</resolved>
                                    <version>1.16.0</version>
                                    <fixVersion>1.16.0</fixVersion>
                                    <component>Runtime / Metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17597513" author="mayuehappy" created="Tue, 30 Aug 2022 03:58:32 +0000"  >&lt;p&gt;&#160;i think u may add some log or heap dump analysis to better describe the problem&lt;/p&gt;</comment>
                            <comment id="17597652" author="JIRAUSER287652" created="Tue, 30 Aug 2022 08:02:31 +0000"  >&lt;p&gt;updated. thanks for your comment&lt;/p&gt;</comment>
                            <comment id="17598208" author="JIRAUSER287652" created="Wed, 31 Aug 2022 06:55:44 +0000"  >&lt;p&gt;Anyone has any thoughts on this?&lt;/p&gt;</comment>
                            <comment id="17598245" author="zentol" created="Wed, 31 Aug 2022 08:25:04 +0000"  >&lt;p&gt;True, the attempts will continue to pile up until the job/tm terminates.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pltbkd&quot; class=&quot;user-hover&quot; rel=&quot;pltbkd&quot;&gt;pltbkd&lt;/a&gt; please fix by leveraging the execution history size parameter&lt;/p&gt;</comment>
                            <comment id="17598314" author="pltbkd" created="Wed, 31 Aug 2022 10:33:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nagist&quot; class=&quot;user-hover&quot; rel=&quot;nagist&quot;&gt;nagist&lt;/a&gt; &lt;br/&gt;
Thanks a lot for reporting the issue! &lt;br/&gt;
And thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mayuehappy&quot; class=&quot;user-hover&quot; rel=&quot;mayuehappy&quot;&gt;mayuehappy&lt;/a&gt; for taking care of it! &lt;br/&gt;
I&apos;ll fix the issue as soon as possible. &lt;/p&gt;</comment>
                            <comment id="17601811" author="gaoyunhaii" created="Thu, 8 Sep 2022 12:59:51 +0000"  >&lt;p&gt;Merged on master via 26eeabfdd1f5f976ed1b5d761a3469bbcb7d3223&lt;/p&gt;

&lt;p&gt;Merged on 1.16 via&#160;4dad2e29a090c731a0474a80e320264040c348ce&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13472043">FLINK-28588</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13048745" name="dump-attempts.png" size="592157" author="nagist" created="Tue, 30 Aug 2022 06:09:53 +0000"/>
                            <attachment id="13048744" name="dump-metricStore.png" size="409656" author="nagist" created="Tue, 30 Aug 2022 06:09:50 +0000"/>
                            <attachment id="13048739" name="image-2022-08-30-11-56-34-608.png" size="312" author="mayuehappy" created="Tue, 30 Aug 2022 03:56:36 +0000"/>
                            <attachment id="13048740" name="image-2022-08-30-11-57-59-325.png" size="312" author="mayuehappy" created="Tue, 30 Aug 2022 03:58:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z185y8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>