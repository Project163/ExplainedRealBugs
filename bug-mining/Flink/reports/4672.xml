<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:50:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19689] TaskExecutorProcessSpecContainerResourcePriorityAdapterTest fails</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19689</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7776&amp;amp;view=logs&amp;amp;j=245e1f2e-ba5b-5570-d689-25ae21e5302f&amp;amp;t=e7f339b2-a7c3-57d9-00af-3712d4b15354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7776&amp;amp;view=logs&amp;amp;j=245e1f2e-ba5b-5570-d689-25ae21e5302f&amp;amp;t=e7f339b2-a7c3-57d9-00af-3712d4b15354&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-10-16T21:48:16.5354451Z [ERROR] Tests run: 8, Failures: 0, Errors: 1, Skipped: 1, Time elapsed: 0.022 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.yarn.TaskExecutorProcessSpecContainerResourcePriorityAdapterTest
2020-10-16T21:48:16.5355440Z [ERROR] testExternalResource(org.apache.flink.yarn.TaskExecutorProcessSpecContainerResourcePriorityAdapterTest)  Time elapsed: 0.005 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
2020-10-16T21:48:16.5356271Z java.lang.IllegalStateException: External resource testing-external-resource is not supported by the Yarn cluster.
2020-10-16T21:48:16.5356834Z 	at org.apache.flink.util.Preconditions.checkState(Preconditions.java:220)
2020-10-16T21:48:16.5357490Z 	at org.apache.flink.yarn.TaskExecutorProcessSpecContainerResourcePriorityAdapter.validateExternalResourceConfigs(TaskExecutorProcessSpecContainerResourcePriorityAdapter.java:85)
2020-10-16T21:48:16.5358469Z 	at org.apache.flink.yarn.TaskExecutorProcessSpecContainerResourcePriorityAdapter.&amp;lt;init&amp;gt;(TaskExecutorProcessSpecContainerResourcePriorityAdapter.java:57)
2020-10-16T21:48:16.5359460Z 	at org.apache.flink.yarn.TaskExecutorProcessSpecContainerResourcePriorityAdapterTest.getAdapterWithExternalResources(TaskExecutorProcessSpecContainerResourcePriorityAdapterTest.java:170)
2020-10-16T21:48:16.5360791Z 	at org.apache.flink.yarn.TaskExecutorProcessSpecContainerResourcePriorityAdapterTest.testExternalResource(TaskExecutorProcessSpecContainerResourcePriorityAdapterTest.java:129)
2020-10-16T21:48:16.5361437Z 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2020-10-16T21:48:16.5362144Z 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
2020-10-16T21:48:16.5363032Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2020-10-16T21:48:16.5363704Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2020-10-16T21:48:16.5364339Z 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
2020-10-16T21:48:16.5365108Z 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
2020-10-16T21:48:16.5365880Z 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
2020-10-16T21:48:16.5366598Z 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
2020-10-16T21:48:16.5367162Z 	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
2020-10-16T21:48:16.5367560Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2020-10-16T21:48:16.5367943Z 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
2020-10-16T21:48:16.5368543Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
2020-10-16T21:48:16.5369034Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
2020-10-16T21:48:16.5369455Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2020-10-16T21:48:16.5369859Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2020-10-16T21:48:16.5370276Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2020-10-16T21:48:16.5370676Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2020-10-16T21:48:16.5371091Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2020-10-16T21:48:16.5371497Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2020-10-16T21:48:16.5371921Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
2020-10-16T21:48:16.5372422Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
2020-10-16T21:48:16.5373073Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
2020-10-16T21:48:16.5373554Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
2020-10-16T21:48:16.5374072Z 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
2020-10-16T21:48:16.5374660Z 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
2020-10-16T21:48:16.5375128Z 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
2020-10-16T21:48:16.5375585Z 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13335861">FLINK-19689</key>
            <summary>TaskExecutorProcessSpecContainerResourcePriorityAdapterTest fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xtsong">Xintong Song</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Sat, 17 Oct 2020 09:52:17 +0000</created>
                <updated>Tue, 27 Oct 2020 10:47:44 +0000</updated>
                            <resolved>Wed, 21 Oct 2020 14:21:41 +0000</resolved>
                                    <version>1.12.0</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>Deployment / YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17216074" author="dian.fu" created="Sun, 18 Oct 2020 01:27:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7791&amp;amp;view=logs&amp;amp;j=245e1f2e-ba5b-5570-d689-25ae21e5302f&amp;amp;t=e7f339b2-a7c3-57d9-00af-3712d4b15354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7791&amp;amp;view=logs&amp;amp;j=245e1f2e-ba5b-5570-d689-25ae21e5302f&amp;amp;t=e7f339b2-a7c3-57d9-00af-3712d4b15354&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17216075" author="dian.fu" created="Sun, 18 Oct 2020 01:30:04 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xintongsong&quot; class=&quot;user-hover&quot; rel=&quot;xintongsong&quot;&gt;xintongsong&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17216080" author="xintongsong" created="Sun, 18 Oct 2020 02:20:43 +0000"  >&lt;p&gt;Thanks for the pointer, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dian.fu&quot; class=&quot;user-hover&quot; rel=&quot;dian.fu&quot;&gt;dian.fu&lt;/a&gt;. I&apos;m looking into this.&lt;/p&gt;</comment>
                            <comment id="17216085" author="xintongsong" created="Sun, 18 Oct 2020 03:27:10 +0000"  >&lt;p&gt;The problem is that we try to set a &lt;tt&gt;testing-external-resource&lt;/tt&gt; in the test case, while Hadoop 2.10+ checks it against the &lt;tt&gt;resource-types.xml&lt;/tt&gt; and finds it not defined.&lt;br/&gt;
The solution is to add &lt;tt&gt;flink-yarn/src/test/resoruces/resource-types.xml&lt;/tt&gt; with the testing resource type included.&lt;br/&gt;
I&apos;m opening a PR to fix this.&lt;/p&gt;</comment>
                            <comment id="17216417" author="xintongsong" created="Mon, 19 Oct 2020 02:50:58 +0000"  >&lt;p&gt;Fixed via:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;master: f734f59488afaa7ad984362a0dd62e99c134f062&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17216556" author="rmetzger" created="Mon, 19 Oct 2020 09:08:59 +0000"  >&lt;p&gt;Thanks for the quick fix!&lt;/p&gt;</comment>
                            <comment id="17217434" author="xintongsong" created="Tue, 20 Oct 2020 08:40:23 +0000"  >&lt;p&gt;Reopen the ticket.&lt;/p&gt;

&lt;p&gt;The previous fix is reverted (in a5bc7d2ec6f7d7a069f64c4789665db3ff1f40b0) because it causes the IT cases fail.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-19728&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-19728&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test cases are temporary deactivated, until we come up with a proper solution for this ticket.&lt;/p&gt;</comment>
                            <comment id="17218308" author="xintongsong" created="Wed, 21 Oct 2020 14:21:41 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;master: 34c765cc22c6033b4a0299ba6d49377293978d29&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jrwg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>