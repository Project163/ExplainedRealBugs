<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:26:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-5247] Fix incorrect check in allowedLateness() method. Make it a no-op for non-event time windows.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-5247</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3714&quot; title=&quot;Add Support for &amp;quot;Allowed Lateness&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3714&quot;&gt;&lt;del&gt;FLINK-3714&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4239&quot; title=&quot;Set Default Allowed Lateness to Zero and Make Triggers Non-Purging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4239&quot;&gt;&lt;del&gt;FLINK-4239&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025357">FLINK-5247</key>
            <summary>Fix incorrect check in allowedLateness() method. Make it a no-op for non-event time windows.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ragarwal">Rohit Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Dec 2016 20:13:45 +0000</created>
                <updated>Thu, 28 Feb 2019 11:16:02 +0000</updated>
                            <resolved>Tue, 24 Jan 2017 18:23:57 +0000</resolved>
                                    <version>1.1.0</version>
                    <version>1.1.1</version>
                    <version>1.1.2</version>
                    <version>1.1.3</version>
                                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>API / DataStream</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15718675" author="githubbot" created="Sat, 3 Dec 2016 20:16:59 +0000"  >&lt;p&gt;GitHub user mindprince opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5247&quot; title=&quot;Fix incorrect check in allowedLateness() method. Make it a no-op for non-event time windows.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5247&quot;&gt;&lt;del&gt;FLINK-5247&lt;/del&gt;&lt;/a&gt; Fix check to make sure that we throw error when allowed lateness is set for non event-time windows.&lt;/p&gt;

&lt;p&gt;    Also, fix outdated documentation.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mindprince/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mindprince/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5247&quot; title=&quot;Fix incorrect check in allowedLateness() method. Make it a no-op for non-event time windows.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5247&quot;&gt;&lt;del&gt;FLINK-5247&lt;/del&gt;&lt;/a&gt;-allowed-lateness&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2929&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 10d523865e07df61e5a1c2b35e2201b498c46426&lt;br/&gt;
Author: Rohit Agarwal &amp;lt;mindprince@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-12-03T20:15:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5247&quot; title=&quot;Fix incorrect check in allowedLateness() method. Make it a no-op for non-event time windows.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5247&quot;&gt;&lt;del&gt;FLINK-5247&lt;/del&gt;&lt;/a&gt; Fix check to make sure that we throw error when allowed lateness is set for non event-time windows.&lt;/p&gt;

&lt;p&gt;    Also, fix outdated documentation.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15718679" author="githubbot" created="Sat, 3 Dec 2016 20:19:50 +0000"  >&lt;p&gt;Github user mindprince commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    cc - @kl0u, @aljoscha for review&lt;/p&gt;</comment>
                            <comment id="15722172" author="aljoscha" created="Mon, 5 Dec 2016 12:39:45 +0000"  >&lt;p&gt;I&apos;m not sure we actually want this. The only reason for the existence of the &quot;stream time characteristic&quot; (settable on &lt;tt&gt;StreamExecutionEnvironment&lt;/tt&gt;) is to be able to quickly switch a pipeline between processing time and event time. (Whether that&apos;s helpful beyond simple demos/explorations is a different discussion)&lt;/p&gt;

&lt;p&gt;If we throw an exception instead of defaulting to zero internally we break this feature. Setting an allowed lateness other than zero for processing time windows is not per se wrong. It just cannot ever occur that we see elements so defaulting to zero internally is a runtime optimisation.&lt;/p&gt;</comment>
                            <comment id="15723552" author="ragarwal" created="Mon, 5 Dec 2016 22:23:12 +0000"  >&lt;p&gt;The existing code already had provisions to throw exceptions when allowedLateness is set to non-zero value for processing time windows.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 			&lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Setting the allowed lateness is only valid &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; event-time windows.&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I created this JIRA because that existing code was not working as intended: &lt;a href=&quot;https://github.com/apache/flink/pull/2929/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929/files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Currently, if you set allowedLateness to non-zero value for processing-time windows, flink would update allowedLateness to that value. (This probably results in delays in window purging.)&lt;/p&gt;

&lt;p&gt;We can make allowedLateness method a no-op for processing-time windows, I didn&apos;t do that because looking at the existing code that didn&apos;t seem to be the intention.&lt;/p&gt;</comment>
                            <comment id="15724298" author="aljoscha" created="Tue, 6 Dec 2016 04:30:28 +0000"  >&lt;p&gt;I see. Thanks for looking into this!&lt;/p&gt;

&lt;p&gt;I actually have a fix for this (ignore allowedLateness for processing time) buried in this PR: &lt;a href=&quot;https://github.com/apache/flink/pull/2572/files#diff-408a499e1a35840c52e29b7ccab866b1R525&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2572/files#diff-408a499e1a35840c52e29b7ccab866b1R525&lt;/a&gt; (You can look at WindowOperator.cleanupTime()).&lt;/p&gt;

&lt;p&gt;I think it would be better to ignore setting an allowed lateness for processing time. But you&apos;re right that the checks should be fixed.&lt;/p&gt;</comment>
                            <comment id="15726660" author="ragarwal" created="Tue, 6 Dec 2016 20:50:10 +0000"  >&lt;p&gt;So, do you want me to update the PR to not throw the exception and make allowedLateness method a no-op for processing-time windows or is the current PR fine?&lt;/p&gt;</comment>
                            <comment id="15727584" author="aljoscha" created="Wed, 7 Dec 2016 03:45:00 +0000"  >&lt;p&gt;Changing the scope of this issue and then changing the PR would be good.&lt;/p&gt;

&lt;p&gt;Thanks for working on this, again! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15741913" author="aljoscha" created="Mon, 12 Dec 2016 13:38:03 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragarwal&quot; class=&quot;user-hover&quot; rel=&quot;ragarwal&quot;&gt;ragarwal&lt;/a&gt;, any updates on this?&lt;/p&gt;</comment>
                            <comment id="15750858" author="ragarwal" created="Thu, 15 Dec 2016 09:14:37 +0000"  >&lt;p&gt;Sorry, I am a bit busy these days. I will try to get this done during the weekend.&lt;/p&gt;</comment>
                            <comment id="15766088" author="ragarwal" created="Wed, 21 Dec 2016 04:28:53 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I updated the PR with what be discussed. Please take a look.&lt;/p&gt;</comment>
                            <comment id="15794594" author="githubbot" created="Tue, 3 Jan 2017 09:16:21 +0000"  >&lt;p&gt;Github user mindprince commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ping @aljoscha &lt;/p&gt;</comment>
                            <comment id="15803672" author="githubbot" created="Fri, 6 Jan 2017 06:00:03 +0000"  >&lt;p&gt;Github user mindprince commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the review @kl0u &lt;/p&gt;

&lt;p&gt;    I didn&apos;t do it because there was no logger defined in the file.&lt;/p&gt;</comment>
                            <comment id="15804939" author="githubbot" created="Fri, 6 Jan 2017 16:38:21 +0000"  >&lt;p&gt;Github user kl0u commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @mindprince . What do you mean &quot;in the file&quot;? The allowed lateness can always be specified in the program by the developer, right? So logging a message is always a valid approach.&lt;/p&gt;</comment>
                            <comment id="15818767" author="githubbot" created="Wed, 11 Jan 2017 16:26:10 +0000"  >&lt;p&gt;Github user xhumanoid commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think @mindprince mean: at now logger not defined in class file&lt;/p&gt;

&lt;p&gt;    this classes without&lt;br/&gt;
    private static final Logger LOG&lt;/p&gt;</comment>
                            <comment id="15834455" author="githubbot" created="Mon, 23 Jan 2017 13:10:53 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you for fixing this.&lt;br/&gt;
    I think it is good as it is, will merge this for Flink-1.2 and master...&lt;/p&gt;</comment>
                            <comment id="15836406" author="stephanewen" created="Tue, 24 Jan 2017 18:23:57 +0000"  >&lt;p&gt;Fixed in&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;1.2.0 via 4697b97a0101cf04b43c4a6e4887adba10b4a69a&lt;/li&gt;
	&lt;li&gt;1.3.0 via 87af84194911eb1e0c3b3a894bb3f04b628fbf11&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15836654" author="githubbot" created="Tue, 24 Jan 2017 21:23:31 +0000"  >&lt;p&gt;Github user mindprince commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merged in &lt;a href=&quot;https://github.com/apache/flink/commit/87af84194911eb1e0c3b3a894bb3f04b628fbf11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/87af84194911eb1e0c3b3a894bb3f04b628fbf11&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/flink/commit/4697b97a0101cf04b43c4a6e4887adba10b4a69a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/4697b97a0101cf04b43c4a6e4887adba10b4a69a&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15836655" author="githubbot" created="Tue, 24 Jan 2017 21:23:32 +0000"  >&lt;p&gt;Github user mindprince closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2929&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i374fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>