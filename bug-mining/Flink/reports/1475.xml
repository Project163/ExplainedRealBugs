<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:26:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-5612] GlobPathFilter not-serializable exception</title>
                <link>https://issues.apache.org/jira/browse/FLINK-5612</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;A user reported on the mailing list a non-serializable exception when using the GlobFIlePathFilters.&lt;/p&gt;

&lt;p&gt;It appears that the PathMatchers are all created as anonymous inner classes and thus contain a reference to the encapsulating, non-serializable FileSystem class.&lt;/p&gt;

&lt;p&gt;We can fix this by moving the Matcher instantiation into filterPath(...).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ExecutionEnvironment env =
ExecutionEnvironment.getExecutionEnvironment();
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; TextInputFormat format = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TextInputFormat(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/temp&quot;&lt;/span&gt;));

    format.setFilesFilter(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GlobFilePathFilter(
            Collections.singletonList(&lt;span class=&quot;code-quote&quot;&gt;&quot;**&quot;&lt;/span&gt;),
            Arrays.asList(&lt;span class=&quot;code-quote&quot;&gt;&quot;**/another_file.bin&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;**/dataFile1.txt&quot;&lt;/span&gt;)
    ));

    DataSet&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; result = env.readFile(format,&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp&quot;&lt;/span&gt;);
    result.writeAsText(&lt;span class=&quot;code-quote&quot;&gt;&quot;/temp/out&quot;&lt;/span&gt;);
    env.execute(&lt;span class=&quot;code-quote&quot;&gt;&quot;GlobFilePathFilter-Test&quot;&lt;/span&gt;);

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.flink.optimizer.CompilerException:
Error translating node &apos;Data Source &quot;at
readFile(ExecutionEnvironment.java:520)
(org.apache.flink.api.java.io.TextInputFormat)&quot; : NONE [[ GlobalProperties
[partitioning=RANDOM_PARTITIONED] ]] [[ LocalProperties [ordering=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
grouped=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, unique=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;] ]]&apos;: Could not write the user code wrapper &lt;span class=&quot;code-keyword&quot;&gt;class
&lt;/span&gt;org.apache.flink.api.common.operators.util.UserCodeObjectWrapper :
java.io.NotSerializableException: sun.nio.fs.UnixFileSystem$3
at
org.apache.flink.optimizer.plantranslate.JobGraphGenerator.preVisit(JobGraphGenerator.java:381)
at
org.apache.flink.optimizer.plantranslate.JobGraphGenerator.preVisit(JobGraphGenerator.java:106)
at
org.apache.flink.optimizer.plan.SourcePlanNode.accept(SourcePlanNode.java:86)
at
org.apache.flink.optimizer.plan.SingleInputPlanNode.accept(SingleInputPlanNode.java:199)
at
org.apache.flink.optimizer.plan.OptimizedPlan.accept(OptimizedPlan.java:128)
at
org.apache.flink.optimizer.plantranslate.JobGraphGenerator.compileJobGraph(JobGraphGenerator.java:192)
at org.apache.flink.client.LocalExecutor.executePlan(LocalExecutor.java:188)
at
org.apache.flink.api.java.LocalEnvironment.execute(LocalEnvironment.java:91)
at com.apsaltis.EventDetectionJob.main(EventDetectionJob.java:75)
Caused by:
org.apache.flink.runtime.operators.util.CorruptConfigurationException:
Could not write the user code wrapper &lt;span class=&quot;code-keyword&quot;&gt;class
&lt;/span&gt;org.apache.flink.api.common.operators.util.UserCodeObjectWrapper :
java.io.NotSerializableException: sun.nio.fs.UnixFileSystem$3
at
org.apache.flink.runtime.operators.util.TaskConfig.setStubWrapper(TaskConfig.java:281)
at
org.apache.flink.optimizer.plantranslate.JobGraphGenerator.createDataSourceVertex(JobGraphGenerator.java:888)
at
org.apache.flink.optimizer.plantranslate.JobGraphGenerator.preVisit(JobGraphGenerator.java:281)
... 8 more
Caused by: java.io.NotSerializableException: sun.nio.fs.UnixFileSystem$3
at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)
at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)
at java.util.ArrayList.writeObject(ArrayList.java:747)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:483)
at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:988)
at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)
at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)
at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)
at
java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)
at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)
at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)
at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)
at
java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)
at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)
at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)
at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)
at
java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)
at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)
at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)
at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)
at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)
at
org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:317)
at
org.apache.flink.util.InstantiationUtil.writeObjectToConfig(InstantiationUtil.java:254)
at
org.apache.flink.runtime.operators.util.TaskConfig.setStubWrapper(TaskConfig.java:279)
... 10 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13036999">FLINK-5612</key>
            <summary>GlobPathFilter not-serializable exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivan.mushketyk">Ivan Mushketyk</assignee>
                                    <reporter username="chesnay">Chesnay Schepler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jan 2017 10:37:17 +0000</created>
                <updated>Thu, 28 Feb 2019 13:46:06 +0000</updated>
                            <resolved>Fri, 27 Jan 2017 15:09:10 +0000</resolved>
                                    <version>1.2.0</version>
                    <version>1.3.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>API / DataSet</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15834483" author="ivan.mushketyk" created="Mon, 23 Jan 2017 13:23:48 +0000"  >&lt;p&gt;I&apos;ll fix it.&lt;/p&gt;</comment>
                            <comment id="15837427" author="githubbot" created="Wed, 25 Jan 2017 09:27:42 +0000"  >&lt;p&gt;GitHub user mushketyk opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5612&quot; title=&quot;GlobPathFilter not-serializable exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5612&quot;&gt;&lt;del&gt;FLINK-5612&lt;/del&gt;&lt;/a&gt; Fix GlobPathFilter not-serializable exception&lt;/p&gt;

&lt;p&gt;    Thanks for contributing to Apache Flink. Before you open your pull request, please take the following check list into consideration.&lt;br/&gt;
    If your changes take all of the items into account, feel free to open your pull request. For more information and/or questions please refer to the &lt;span class=&quot;error&quot;&gt;&amp;#91;How To Contribute guide&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://flink.apache.org/how-to-contribute.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://flink.apache.org/how-to-contribute.html&lt;/a&gt;).&lt;br/&gt;
    In addition to going through the list, please provide a meaningful description of your changes.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; General&lt;/li&gt;
	&lt;li&gt;The pull request references the related JIRA issue (&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;FLINK-XXX&amp;#93;&lt;/span&gt; Jira title text&quot;)&lt;/li&gt;
	&lt;li&gt;The pull request addresses only one issue&lt;/li&gt;
	&lt;li&gt;Each commit in the PR has a meaningful commit message (including the JIRA id)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Documentation&lt;/li&gt;
	&lt;li&gt;Documentation has been added for new functionality&lt;/li&gt;
	&lt;li&gt;Old documentation affected by the pull request has been updated&lt;/li&gt;
	&lt;li&gt;JavaDoc for public methods has been added&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Tests &amp;amp; Build&lt;/li&gt;
	&lt;li&gt;Functionality added by the pull request is covered by tests&lt;/li&gt;
	&lt;li&gt;`mvn clean verify` has been executed successfully locally or a Travis build has passed&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;    Fixed GlobPathFilter serialization exception. As suggested in the JIRA I&apos;ve made instantiation of PathMatcher&apos;s objects lazy to avoid their serialization.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mushketyk/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mushketyk/flink&lt;/a&gt; fix-serialization&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3206&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 47ab75792340191a0bbfdc8e9a3b527f819181a3&lt;br/&gt;
Author: Ivan Mushketyk &amp;lt;ivan.mushketik@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-01-25T09:24:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5612&quot; title=&quot;GlobPathFilter not-serializable exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5612&quot;&gt;&lt;del&gt;FLINK-5612&lt;/del&gt;&lt;/a&gt; Fix GlobPathFilter not-serializable exception&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15837524" author="githubbot" created="Wed, 25 Jan 2017 10:16:35 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r97746438&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r97746438&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/io/GlobFilePathFilter.java &amp;#8212;&lt;br/&gt;
    @@ -52,8 +53,13 @@&lt;/p&gt;

&lt;p&gt;     	private static final long serialVersionUID = 1L;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;&lt;/li&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; excludeMatchers;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; includePatterns;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; excludePatterns;&lt;br/&gt;
    +&lt;br/&gt;
    +	// Path matchers are not serializable so we are delaying their&lt;br/&gt;
    +	// creation until they are used&lt;br/&gt;
    +	private ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    these can be transient&lt;/p&gt;</comment>
                            <comment id="15837525" author="githubbot" created="Wed, 25 Jan 2017 10:16:35 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r97746573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r97746573&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/io/GlobFilePathFilter.java &amp;#8212;&lt;br/&gt;
    @@ -106,12 +112,27 @@ public boolean filterPath(Path filePath) &lt;/p&gt;
{
     		return true;
     	}

&lt;p&gt;    +	public ArrayList&amp;lt;PathMatcher&amp;gt; getIncludeMatchers() {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    these should be private&lt;/p&gt;</comment>
                            <comment id="15837526" author="githubbot" created="Wed, 25 Jan 2017 10:16:35 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r97746636&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r97746636&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/io/GlobFilePathFilter.java &amp;#8212;&lt;br/&gt;
    @@ -69,8 +75,8 @@ public GlobFilePathFilter() {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param excludePatterns glob patterns for files to exclude&lt;br/&gt;
     	 */&lt;br/&gt;
     	public GlobFilePathFilter(List&amp;lt;String&amp;gt; includePatterns, List&amp;lt;String&amp;gt; excludePatterns) {&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;includeMatchers = buildPatterns(includePatterns);&lt;/li&gt;
	&lt;li&gt;excludeMatchers = buildPatterns(excludePatterns);&lt;br/&gt;
    +		this.includePatterns = Preconditions.checkNotNull(includePatterns);&lt;br/&gt;
    +		this.excludePatterns = Preconditions.checkNotNull(excludePatterns)	;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    spaces before `;` should be removed&lt;/p&gt;</comment>
                            <comment id="15837648" author="githubbot" created="Wed, 25 Jan 2017 12:34:09 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r97768800&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r97768800&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/test/java/org/apache/flink/api/common/io/GlobFilePathFilterTest.java &amp;#8212;&lt;br/&gt;
    @@ -138,4 +141,30 @@ public void doubleStarPattern() &lt;/p&gt;
{
     		assertFalse(matcher.filterPath(new Path(&quot;a/b&quot;)));
     		assertFalse(matcher.filterPath(new Path(&quot;a/b/c&quot;)));
     	}
&lt;p&gt;    +&lt;br/&gt;
    +	@Test(expected = NullPointerException.class)&lt;br/&gt;
    +	public void testIncluePatternIsNull() &lt;/p&gt;
{
    +		new GlobFilePathFilter(
    +			null,
    +			Collections.&amp;lt;String&amp;gt;emptyList());
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	@Test(expected = NullPointerException.class)&lt;br/&gt;
    +	public void testExcludePatternIsNull() &lt;/p&gt;
{
    +		new GlobFilePathFilter(
    +			Collections.singletonList(&quot;**&quot;),
    +			null);
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	@Test&lt;br/&gt;
    +	public void testGlobFilterSerializable() throws IOException {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    How about using `CommonTestUtils.createCopySerializable()` here? That you can validate also that the serialized copy behaves valid.&lt;/p&gt;</comment>
                            <comment id="15837908" author="githubbot" created="Wed, 25 Jan 2017 15:28:05 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r97802390&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r97802390&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/io/GlobFilePathFilter.java &amp;#8212;&lt;br/&gt;
    @@ -52,8 +53,13 @@&lt;/p&gt;

&lt;p&gt;     	private static final long serialVersionUID = 1L;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;&lt;/li&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; excludeMatchers;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; includePatterns;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; excludePatterns;&lt;br/&gt;
    +&lt;br/&gt;
    +	// Path matchers are not serializable so we are delaying their&lt;br/&gt;
    +	// creation until they are used&lt;br/&gt;
    +	private ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    +1 to make them transient - this documents and enforces that&lt;/p&gt;</comment>
                            <comment id="15838707" author="githubbot" created="Wed, 25 Jan 2017 22:19:46 +0000"  >&lt;p&gt;Github user mushketyk commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @StephanEwen, @zentol &lt;/p&gt;

&lt;p&gt;    Thank you for your comments. I&apos;ve update the PR accordingly.&lt;/p&gt;</comment>
                            <comment id="15839550" author="githubbot" created="Thu, 26 Jan 2017 10:49:00 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r97969620&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r97969620&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/io/GlobFilePathFilter.java &amp;#8212;&lt;br/&gt;
    @@ -52,8 +53,13 @@&lt;/p&gt;

&lt;p&gt;     	private static final long serialVersionUID = 1L;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;&lt;/li&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; excludeMatchers;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; includePatterns;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; excludePatterns;&lt;br/&gt;
    +&lt;br/&gt;
    +	// Path matchers are not serializable so we are delaying their&lt;br/&gt;
    +	// creation until they are used&lt;br/&gt;
    +	transient private ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Now this is nitpicky, but i think the convention is that transient comes after private.&lt;/p&gt;</comment>
                            <comment id="15839551" author="githubbot" created="Thu, 26 Jan 2017 10:49:15 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 to merge.&lt;/p&gt;</comment>
                            <comment id="15839954" author="githubbot" created="Thu, 26 Jan 2017 16:28:55 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r98027416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r98027416&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/test/java/org/apache/flink/api/common/io/GlobFilePathFilterTest.java &amp;#8212;&lt;br/&gt;
    @@ -138,4 +140,27 @@ public void doubleStarPattern() &lt;/p&gt;
{
     		assertFalse(matcher.filterPath(new Path(&quot;a/b&quot;)));
     		assertFalse(matcher.filterPath(new Path(&quot;a/b/c&quot;)));
     	}
&lt;p&gt;    +&lt;br/&gt;
    +	@Test(expected = NullPointerException.class)&lt;br/&gt;
    +	public void testIncluePatternIsNull() &lt;/p&gt;
{
    +		new GlobFilePathFilter(
    +			null,
    +			Collections.&amp;lt;String&amp;gt;emptyList());
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	@Test(expected = NullPointerException.class)&lt;br/&gt;
    +	public void testExcludePatternIsNull() &lt;/p&gt;
{
    +		new GlobFilePathFilter(
    +			Collections.singletonList(&quot;**&quot;),
    +			null);
    +	}
&lt;p&gt;    +&lt;br/&gt;
    +	@Test&lt;br/&gt;
    +	public void testGlobFilterSerializable() throws IOException {&lt;br/&gt;
    +		GlobFilePathFilter matcher = new GlobFilePathFilter(&lt;br/&gt;
    +			Collections.singletonList(&quot;**&quot;),&lt;br/&gt;
    +			Collections.&amp;lt;String&amp;gt;emptyList());&lt;br/&gt;
    +&lt;br/&gt;
    +		CommonTestUtils.createCopySerializable(matcher);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    A doof addition here would be to check that after the serialization, the filter behaves in the same way as before.&lt;/p&gt;</comment>
                            <comment id="15839955" author="githubbot" created="Thu, 26 Jan 2017 16:28:55 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206#discussion_r98027531&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206#discussion_r98027531&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-core/src/main/java/org/apache/flink/api/common/io/GlobFilePathFilter.java &amp;#8212;&lt;br/&gt;
    @@ -52,8 +53,13 @@&lt;/p&gt;

&lt;p&gt;     	private static final long serialVersionUID = 1L;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;&lt;/li&gt;
	&lt;li&gt;private final ArrayList&amp;lt;PathMatcher&amp;gt; excludeMatchers;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; includePatterns;&lt;br/&gt;
    +	private final List&amp;lt;String&amp;gt; excludePatterns;&lt;br/&gt;
    +&lt;br/&gt;
    +	// Path matchers are not serializable so we are delaying their&lt;br/&gt;
    +	// creation until they are used&lt;br/&gt;
    +	transient private ArrayList&amp;lt;PathMatcher&amp;gt; includeMatchers;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Agreed, let&apos;s get the style aligned with the rest of the project.&lt;/p&gt;</comment>
                            <comment id="15840380" author="githubbot" created="Thu, 26 Jan 2017 20:25:22 +0000"  >&lt;p&gt;Github user mushketyk commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @StephanEwen, @zentol &lt;/p&gt;

&lt;p&gt;    Thank you for helping with this PR.&lt;br/&gt;
    I&apos;ve updated it according to your review.&lt;/p&gt;</comment>
                            <comment id="15840509" author="githubbot" created="Thu, 26 Jan 2017 21:42:57 +0000"  >&lt;p&gt;Github user EronWright commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Just hit this issue, was about to file an issue.   Awesome to see this fixed.    &lt;/p&gt;

&lt;p&gt;    It is odd to me that `GlobFilePathFilter` is marked `@Internal`.&lt;/p&gt;</comment>
                            <comment id="15842950" author="githubbot" created="Fri, 27 Jan 2017 15:00:02 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @EronWright Agreed, this should be `@Public(Evolving)`.&lt;/p&gt;</comment>
                            <comment id="15842951" author="githubbot" created="Fri, 27 Jan 2017 15:01:25 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, will merge this and fix the public annotation on the fly..&lt;/p&gt;</comment>
                            <comment id="15842955" author="stephanewen" created="Fri, 27 Jan 2017 15:09:10 +0000"  >&lt;p&gt;Fixed in&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;1.2.0 via bb9a95a51678633c2bf6fa5bb6f6219fd9d8409d&lt;/li&gt;
	&lt;li&gt;1.3.0 via ef96054d18ca1fb35f933fd0c715bb1ecc39b8c9&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15843388" author="githubbot" created="Fri, 27 Jan 2017 19:51:36 +0000"  >&lt;p&gt;Github user mushketyk commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you @StephanEwen !&lt;/p&gt;</comment>
                            <comment id="15845176" author="githubbot" created="Mon, 30 Jan 2017 13:24:26 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @mushketyk The changes have been merged, could you close this PR?&lt;/p&gt;</comment>
                            <comment id="15845178" author="githubbot" created="Mon, 30 Jan 2017 13:31:07 +0000"  >&lt;p&gt;Github user mushketyk commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zentol Sure. Thank you for merging this!&lt;/p&gt;</comment>
                            <comment id="15845179" author="githubbot" created="Mon, 30 Jan 2017 13:31:07 +0000"  >&lt;p&gt;Github user mushketyk closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3206&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3206&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i392fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>