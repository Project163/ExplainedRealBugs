<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:18:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1650] Suppress Akka&apos;s Netty Shutdown Errors through the log config</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1650</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;I suggest to set the logging for `org.jboss.netty.channel.DefaultChannelPipeline` to error, in order to get rid of the misleading stack trace caused by an akka/netty hickup on shutdown.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12779562">FLINK-1650</key>
            <summary>Suppress Akka&apos;s Netty Shutdown Errors through the log config</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2015 19:41:42 +0000</created>
                <updated>Thu, 16 Jun 2016 17:11:51 +0000</updated>
                            <resolved>Fri, 27 Mar 2015 15:35:01 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14347450" author="stephanewen" created="Wed, 4 Mar 2015 19:48:46 +0000"  >&lt;p&gt;The logged error is below.&lt;br/&gt;
Setting the log level to &quot;ERROR&quot; should allow us to see critical messages and suppress the confusing warnings that seem to be an akka/netty bug.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Feb 18, 2015 5:25:18 PM org.jboss.netty.channel.DefaultChannelPipeline
WARNING: An exception was thrown by an exception handler.
java.util.concurrent.RejectedExecutionException: Worker has already been shutdown
	at org.jboss.netty.channel.socket.nio.AbstractNioSelector.registerTask(AbstractNioSelector.java:120)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.executeInIoThread(AbstractNioWorker.java:72)
	at org.jboss.netty.channel.socket.nio.NioWorker.executeInIoThread(NioWorker.java:36)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.executeInIoThread(AbstractNioWorker.java:56)
	at org.jboss.netty.channel.socket.nio.NioWorker.executeInIoThread(NioWorker.java:36)
	at org.jboss.netty.channel.socket.nio.AbstractNioChannelSink.execute(AbstractNioChannelSink.java:34)
	at org.jboss.netty.channel.Channels.fireExceptionCaughtLater(Channels.java:496)
	at org.jboss.netty.channel.AbstractChannelSink.exceptionCaught(AbstractChannelSink.java:46)
	at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:54)
	at org.jboss.netty.channel.Channels.disconnect(Channels.java:781)
	at org.jboss.netty.channel.AbstractChannel.disconnect(AbstractChannel.java:211)
	at akka.remote.transport.netty.NettyTransport$$anonfun$gracefulClose$1.apply(NettyTransport.scala:223)
	at akka.remote.transport.netty.NettyTransport$$anonfun$gracefulClose$1.apply(NettyTransport.scala:222)
	at scala.util.Success.foreach(Try.scala:205)
	at scala.concurrent.Future$$anonfun$foreach$1.apply(Future.scala:204)
	at scala.concurrent.Future$$anonfun$foreach$1.apply(Future.scala:204)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:32)
	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.processBatch$1(BatchingExecutor.scala:67)
	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.apply$mcV$sp(BatchingExecutor.scala:82)
	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.apply(BatchingExecutor.scala:59)
	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.apply(BatchingExecutor.scala:59)
	at scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:72)
	at akka.dispatch.BatchingExecutor$Batch.run(BatchingExecutor.scala:58)
	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:41)
	at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:401)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.pollAndExecAll(ForkJoinPool.java:1253)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1346)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14347461" author="githubbot" created="Wed, 4 Mar 2015 19:56:37 +0000"  >&lt;p&gt;GitHub user StephanEwen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/455&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/455&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1650&quot; title=&quot;Suppress Akka&amp;#39;s Netty Shutdown Errors through the log config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1650&quot;&gt;&lt;del&gt;FLINK-1650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;logging&amp;#93;&lt;/span&gt; Suppress wrong netty warnings on akka shutdown&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/StephanEwen/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/StephanEwen/incubator-flink&lt;/a&gt; netty_error_message&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/455.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/455.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #455&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 877f87f65b0179341081adda20081a818eaffaf3&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-03-04T19:52:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1650&quot; title=&quot;Suppress Akka&amp;#39;s Netty Shutdown Errors through the log config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1650&quot;&gt;&lt;del&gt;FLINK-1650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;logging&amp;#93;&lt;/span&gt; Suppress wrong netty warnings on akka shutdown&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14348353" author="githubbot" created="Thu, 5 Mar 2015 08:05:04 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/455#issuecomment-77322274&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/455#issuecomment-77322274&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Maybe we should also turn off the DefaultChannelPipeline in the log4j-test.properties files, which don&apos;t turn logging off, if we don&apos;t want the ```RejectedExecutionException``` to appear in the test outputs. Currently the flink-yarn-tests module sets the logging to warn in log4j-test.properties.&lt;/p&gt;

&lt;p&gt;    Having said that, LGTM.&lt;/p&gt;</comment>
                            <comment id="14348521" author="githubbot" created="Thu, 5 Mar 2015 10:06:33 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/455#issuecomment-77337668&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/455#issuecomment-77337668&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1, as well. I agree with Till regarding the log4j-test file. If you add it there as well, don&apos;t forget to add it to `tools/log4j-travis.log` as well.&lt;/p&gt;</comment>
                            <comment id="14348709" author="githubbot" created="Thu, 5 Mar 2015 13:08:53 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/455&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/455&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14348710" author="githubbot" created="Thu, 5 Mar 2015 13:09:04 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/455#issuecomment-77360696&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/455#issuecomment-77360696&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I addressed your comments and merged the pull request.&lt;/p&gt;</comment>
                            <comment id="14348712" author="stephanewen" created="Thu, 5 Mar 2015 13:09:24 +0000"  >&lt;p&gt;Fixed via eae2166dd6cce5651d9bea4fdc2f8ac6a176841a&lt;/p&gt;</comment>
                            <comment id="14360203" author="rmetzger" created="Fri, 13 Mar 2015 11:00:03 +0000"  >&lt;p&gt;I&apos;m reopening the issue because the exceptions still occur in the current master.&lt;/p&gt;

&lt;p&gt;The flink-yarn-tests are checking the Job and TaskManagers output for exceptions and fail if they find some.&lt;br/&gt;
The found exceptions are in the logfiles uploaded to s3.&lt;/p&gt;

&lt;p&gt;For example in &lt;a href=&quot;https://flink.a.o.uce.east.s3.amazonaws.com/travis-artifacts/apache/flink/1931/1931.5.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://flink.a.o.uce.east.s3.amazonaws.com/travis-artifacts/apache/flink/1931/1931.5.tar.gz&lt;/a&gt;, in the &lt;tt&gt;2.log&lt;/tt&gt;, you&apos;ll see the exception.&lt;/p&gt;</comment>
                            <comment id="14360230" author="stephanewen" created="Fri, 13 Mar 2015 11:34:43 +0000"  >&lt;p&gt;I this YARN specific?&lt;/p&gt;

&lt;p&gt;Does the shading affect the netty classes and hence change the classnames and the logger config?&lt;/p&gt;</comment>
                            <comment id="14360287" author="rmetzger" created="Fri, 13 Mar 2015 12:44:53 +0000"  >&lt;p&gt;Right now, we only shade away Hadoop&apos;s netty, so that we can use whatever netty version we want (in particular because hadoop has a very old netty in hadoop 2.0.0-alpha).&lt;br/&gt;
Our users still see our netty dependency.&lt;br/&gt;
The log also shows that the exception hasn&apos;t been thrown from a relocated class.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - Found a file with an exception. Printing contents:
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: Mar 12, 2015 10:46:35 PM org.jboss.netty.channel.DefaultChannelPipeline
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: WARNING: An exception was thrown by an exception handler.
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: java.util.concurrent.RejectedExecutionException: Worker has already been shutdown
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.socket.nio.AbstractNioSelector.registerTask(AbstractNioSelector.java:120)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.executeInIoThread(AbstractNioWorker.java:72)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.socket.nio.NioWorker.executeInIoThread(NioWorker.java:36)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.executeInIoThread(AbstractNioWorker.java:56)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.socket.nio.NioWorker.executeInIoThread(NioWorker.java:36)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.socket.nio.AbstractNioChannelSink.execute(AbstractNioChannelSink.java:34)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.Channels.fireExceptionCaughtLater(Channels.java:496)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.AbstractChannelSink.exceptionCaught(AbstractChannelSink.java:46)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:54)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.Channels.disconnect(Channels.java:781)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at org.jboss.netty.channel.AbstractChannel.disconnect(AbstractChannel.java:211)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.remote.transport.netty.NettyTransport$$anonfun$gracefulClose$1.apply(NettyTransport.scala:223)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.remote.transport.netty.NettyTransport$$anonfun$gracefulClose$1.apply(NettyTransport.scala:222)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.util.Success.foreach(Try.scala:205)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.Future$$anonfun$foreach$1.apply(Future.scala:204)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.Future$$anonfun$foreach$1.apply(Future.scala:204)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:32)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.processBatch$1(BatchingExecutor.scala:67)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.apply$mcV$sp(BatchingExecutor.scala:82)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.apply(BatchingExecutor.scala:59)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.dispatch.BatchingExecutor$Batch$$anonfun$run$1.apply(BatchingExecutor.scala:59)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:72)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.dispatch.BatchingExecutor$Batch.run(BatchingExecutor.scala:58)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:41)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:401)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.pollAndExecAll(ForkJoinPool.java:1253)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1346)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
22:46:49,202 WARN  org.apache.flink.yarn.YarnTestBase                            - LINE: 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14365953" author="rmetzger" created="Tue, 17 Mar 2015 20:09:32 +0000"  >&lt;p&gt;I&apos;ve asked on the Akka userlist regarding this issue.&lt;/p&gt;</comment>
                            <comment id="14375668" author="rmetzger" created="Mon, 23 Mar 2015 10:19:27 +0000"  >&lt;p&gt;I got a response from the Akka mailing list. They&apos;ve asked me to open an issue if we&apos;re still seeing the issue in &lt;tt&gt;2.3.9&lt;/tt&gt;.&lt;br/&gt;
We are currently on Akka version &lt;tt&gt;2.3.7&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The changelogs:&lt;br/&gt;
&lt;a href=&quot;http://akka.io/news/2014/12/17/akka-2.3.8-released.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://akka.io/news/2014/12/17/akka-2.3.8-released.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://akka.io/news/2015/01/19/akka-2.3.9-released.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://akka.io/news/2015/01/19/akka-2.3.9-released.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any objections against bumping our Akka dependency to 2.3.9 ?&lt;/p&gt;
</comment>
                            <comment id="14375907" author="githubbot" created="Mon, 23 Mar 2015 13:57:27 +0000"  >&lt;p&gt;GitHub user rmetzger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1650&quot; title=&quot;Suppress Akka&amp;#39;s Netty Shutdown Errors through the log config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1650&quot;&gt;&lt;del&gt;FLINK-1650&lt;/del&gt;&lt;/a&gt; Configure Netty (akka) to use Slf4j.&lt;/p&gt;

&lt;p&gt;    It seems that Netty 3.8.0 used by Akka was using `java.util.logging` for its internal logging, that&apos;s why this entry was without effect: &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-dist/src/main/flink-bin/conf/log4j.properties#L29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/master/flink-dist/src/main/flink-bin/conf/log4j.properties#L29&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;    The change sets the Netty logging factory to Slf4j. This means that Netty is now using Sfl4j. It&apos;ll also respect our logging settings (`org.jboss.netty.channel.DefaultChannelPipeline` to lvl ERROR).&lt;/p&gt;

&lt;p&gt;    Lets see if the exception now disappears.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rmetzger/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rmetzger/flink&lt;/a&gt; flink1650&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #518&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d4778d4d51cd20db2861b3632e64aeac1f5f6f7a&lt;br/&gt;
Author: Robert Metzger &amp;lt;rmetzger@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-03-23T10:42:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1650&quot; title=&quot;Suppress Akka&amp;#39;s Netty Shutdown Errors through the log config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1650&quot;&gt;&lt;del&gt;FLINK-1650&lt;/del&gt;&lt;/a&gt; Set akka version to 2.3.9&lt;/p&gt;

&lt;p&gt;commit 69b6a9b497955544e0e5c8707293c580e1ba3d5e&lt;br/&gt;
Author: Robert Metzger &amp;lt;rmetzger@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-03-23T13:44:19Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1650&quot; title=&quot;Suppress Akka&amp;#39;s Netty Shutdown Errors through the log config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1650&quot;&gt;&lt;del&gt;FLINK-1650&lt;/del&gt;&lt;/a&gt; Let Netty(Akka) use Slf4j&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14376463" author="githubbot" created="Mon, 23 Mar 2015 19:33:17 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-85160071&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-85160071&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The build passed in my travis: &lt;a href=&quot;https://travis-ci.org/rmetzger/flink/builds/55487319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/rmetzger/flink/builds/55487319&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14376848" author="githubbot" created="Mon, 23 Mar 2015 22:56:48 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-85239319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-85239319&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Great to hear that you figured out why we could not suppress this error &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    On Mon, Mar 23, 2015 at 8:33 PM, Robert Metzger &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; The build passed in my travis:&lt;br/&gt;
    &amp;gt; &lt;a href=&quot;https://travis-ci.org/rmetzger/flink/builds/55487319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/rmetzger/flink/builds/55487319&lt;/a&gt;&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; Reply to this email directly or view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-85160071&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-85160071&lt;/a&gt;&amp;gt;.&lt;br/&gt;
    &amp;gt;&lt;/p&gt;
</comment>
                            <comment id="14376885" author="githubbot" created="Mon, 23 Mar 2015 23:17:59 +0000"  >&lt;p&gt;Github user hsaputra commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-85244078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-85244078&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 nice find&lt;/p&gt;</comment>
                            <comment id="14377587" author="githubbot" created="Tue, 24 Mar 2015 09:49:55 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-85426018&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-85426018&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Good find, but just calling it in the beginning of every main() method seems hacky.&lt;/p&gt;

&lt;p&gt;    I think the code should go to the AkkaUtils.createActorSystem() method. Then we also need it only once.&lt;/p&gt;</comment>
                            <comment id="14378523" author="githubbot" created="Tue, 24 Mar 2015 20:26:50 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-85678768&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-85678768&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I moved the call to the Akka utils.&lt;/p&gt;</comment>
                            <comment id="14379926" author="githubbot" created="Wed, 25 Mar 2015 14:29:35 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-86050697&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-86050697&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM.&lt;/p&gt;</comment>
                            <comment id="14383851" author="githubbot" created="Fri, 27 Mar 2015 13:48:41 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518#issuecomment-86944772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518#issuecomment-86944772&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ll merge the change&lt;/p&gt;</comment>
                            <comment id="14384008" author="githubbot" created="Fri, 27 Mar 2015 15:34:45 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/518&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/518&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14384010" author="rmetzger" created="Fri, 27 Mar 2015 15:35:01 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flink/commit/c9d29f26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flink/commit/c9d29f26&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14386792" author="rmetzger" created="Mon, 30 Mar 2015 14:51:48 +0000"  >&lt;p&gt;I&apos;m going to set the Akka version back to 2.3.7 in &lt;a href=&quot;https://github.com/apache/flink/pull/542&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/542&lt;/a&gt; because the error detection in Akka is much slower in 2.3.9.&lt;br/&gt;
I&apos;ve asked on the Akka mailing list for help.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26d3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>