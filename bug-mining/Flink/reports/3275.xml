<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:41:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-13746] Elasticsearch (v2.3.5) sink end-to-end test fails on Travis</title>
                <link>https://issues.apache.org/jira/browse/FLINK-13746</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;Elasticsearch (v2.3.5) sink end-to-end test&lt;/tt&gt; fails on Travis because it logs contain the following line:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  org.elasticsearch.plugins - [Terror] modules [], plugins [], sites []
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Due to this, the error check is triggered.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/572255901/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/572255901/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13251188">FLINK-13746</key>
            <summary>Elasticsearch (v2.3.5) sink end-to-end test fails on Travis</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alfredlu">Zijie Lu</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Fri, 16 Aug 2019 07:41:30 +0000</created>
                <updated>Tue, 24 Sep 2019 12:44:45 +0000</updated>
                            <resolved>Tue, 24 Sep 2019 12:44:45 +0000</resolved>
                                    <version>1.9.0</version>
                    <version>1.10.0</version>
                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>1.9.1</fixVersion>
                    <fixVersion>1.10.0</fixVersion>
                                    <component>Connectors / ElasticSearch</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16908834" author="till.rohrmann" created="Fri, 16 Aug 2019 08:10:38 +0000"  >&lt;p&gt;It seems to be caused by &lt;tt&gt;org.elasticsearch.plugins.PluginsService&lt;/tt&gt;. Somehow the prefix for &lt;tt&gt;PluginsService.java:180&lt;/tt&gt; is &lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Terror&amp;#93;&lt;/span&gt;&lt;/tt&gt;. I see two easy fixes, either suppressing elasticsearch log statements or to whitelist &lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Terror&amp;#93;&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16931043" author="alfredlu" created="Tue, 17 Sep 2019 03:15:43 +0000"  >&lt;p&gt;&#160;Do you mean the test class of Elasticsearch6SinkExample? And do you mean the way to fix this bug is to add the whitelist in the test class?&lt;/p&gt;</comment>
                            <comment id="16931421" author="till.rohrmann" created="Tue, 17 Sep 2019 12:58:57 +0000"  >&lt;p&gt;It is the end-to-end test &lt;tt&gt;Elasticsearch (v2.3.5) sink end-to-end test&lt;/tt&gt; which run by executing &lt;tt&gt;flink-end-to-end-tests/test-scripts/test_streaming_elasticsearch.sh&lt;/tt&gt; which I&apos;m referring to. Either we figure out why &lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Terror&amp;#93;&lt;/span&gt;&lt;/tt&gt; is logged or suppress it or make it not count by whitelisting it.&lt;/p&gt;</comment>
                            <comment id="16932003" author="alfredlu" created="Wed, 18 Sep 2019 03:10:46 +0000"  >&lt;p&gt;In the function &lt;b&gt;check_logs_for_errors,&lt;/b&gt;&#160;&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;Terror&amp;#93;&lt;/span&gt; is counted. Can we whitelist it in this function? If this idea works, I am happy to fix it.&lt;/p&gt;</comment>
                            <comment id="16932240" author="till.rohrmann" created="Wed, 18 Sep 2019 09:31:17 +0000"  >&lt;p&gt;That would be one idea to solve it. Go ahead an do it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alfredlu&quot; class=&quot;user-hover&quot; rel=&quot;alfredlu&quot;&gt;alfredlu&lt;/a&gt;. I&apos;ve assigned this ticket to you.&lt;/p&gt;</comment>
                            <comment id="16932274" author="alfredlu" created="Wed, 18 Sep 2019 10:08:05 +0000"  >&lt;p&gt;I am planing to add a line in the &quot;check_logs_for_errors&quot;, grep -v &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;Terror&amp;#93;&lt;/span&gt;&#8221;, can I whitlist it in this way?&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=till.rohrmann&quot; class=&quot;user-hover&quot; rel=&quot;till.rohrmann&quot;&gt;till.rohrmann&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16932637" author="till.rohrmann" created="Wed, 18 Sep 2019 16:38:34 +0000"  >&lt;p&gt;Yes, this should work. Please also test whether it is working like you intend it to work.&lt;/p&gt;</comment>
                            <comment id="16934921" author="alfredlu" created="Sat, 21 Sep 2019 05:41:57 +0000"  >&lt;p&gt;I have submitted a pull request&#160;&lt;a href=&quot;https://github.com/apache/flink/pull/9738&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/9738&lt;/a&gt;&#160;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16936744" author="till.rohrmann" created="Tue, 24 Sep 2019 12:44:45 +0000"  >&lt;p&gt;Fixed via&lt;/p&gt;

&lt;p&gt;1.10.0: fe60f996e792680f74efea24e2916d013c24a044&lt;br/&gt;
1.9.1: 71ae6d7f073d0ffb308721a1c5e9c909c3022eca&lt;br/&gt;
1.8.3: bd677f22044aa567cd691d76da37a28fa88cb6a9&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05q9c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>