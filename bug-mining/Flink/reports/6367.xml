<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:10:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26809] ChangelogStorageMetricsTest.testAttemptsPerUpload failed</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26809</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/mapohl/flink/_build/results?buildId=901&amp;amp;view=logs&amp;amp;j=f3dc9b18-b77a-55c1-591e-264c46fe44d1&amp;amp;t=2d3cd81e-1c37-5c31-0ee4-f5d5cdb9324d&amp;amp;l=24226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This build&lt;/a&gt; failed due a failure in &lt;tt&gt;ChangelogStorageMetricsTest.testAttemptsPerUpload&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 22 12:23:09 [ERROR] Failures: 
Mar 22 12:23:09 [ERROR]   ChangelogStorageMetricsTest.testAttemptsPerUpload:208 
Mar 22 12:23:09 expected: 3L
Mar 22 12:23:09  but was: 0L
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13435159">FLINK-26809</key>
            <summary>ChangelogStorageMetricsTest.testAttemptsPerUpload failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roman">Roman Khachatryan</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 22 Mar 2022 16:37:40 +0000</created>
                <updated>Fri, 25 Mar 2022 05:55:15 +0000</updated>
                            <resolved>Fri, 25 Mar 2022 05:55:15 +0000</resolved>
                                    <version>1.15.0</version>
                    <version>1.16.0</version>
                                    <fixVersion>1.15.0</fixVersion>
                    <fixVersion>1.16.0</fixVersion>
                                    <component>Runtime / Metrics</component>
                    <component>Runtime / State Backends</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17510744" author="mapohl" created="Tue, 22 Mar 2022 16:43:16 +0000"  >&lt;p&gt;And another one: &lt;a href=&quot;https://dev.azure.com/mapohl/flink/_build/results?buildId=902&amp;amp;view=logs&amp;amp;j=f3dc9b18-b77a-55c1-591e-264c46fe44d1&amp;amp;t=2d3cd81e-1c37-5c31-0ee4-f5d5cdb9324d&amp;amp;l=24139&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/mapohl/flink/_build/results?buildId=902&amp;amp;view=logs&amp;amp;j=f3dc9b18-b77a-55c1-591e-264c46fe44d1&amp;amp;t=2d3cd81e-1c37-5c31-0ee4-f5d5cdb9324d&amp;amp;l=24139&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 22 13:01:32 [ERROR] Tests run: 6, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.043 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.changelog.fs.ChangelogStorageMetricsTest
Mar 22 13:01:32 [ERROR] org.apache.flink.changelog.fs.ChangelogStorageMetricsTest.testAttemptsPerUpload  Time elapsed: 0.052 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
Mar 22 13:01:32 org.opentest4j.AssertionFailedError: 
Mar 22 13:01:32 
Mar 22 13:01:32 expected: 3L
Mar 22 13:01:32  but was: 0L
Mar 22 13:01:32 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
Mar 22 13:01:32 	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
Mar 22 13:01:32 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
Mar 22 13:01:32 	at org.apache.flink.changelog.fs.ChangelogStorageMetricsTest.testAttemptsPerUpload(ChangelogStorageMetricsTest.java:208)
Mar 22 13:01:32 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17511630" author="gaoyunhaii" created="Thu, 24 Mar 2022 07:05:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=33671&amp;amp;view=logs&amp;amp;j=5cae8624-c7eb-5c51-92d3-4d2dacedd221&amp;amp;t=5acec1b4-945b-59ca-34f8-168928ce5199&amp;amp;l=24143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=33671&amp;amp;view=logs&amp;amp;j=5cae8624-c7eb-5c51-92d3-4d2dacedd221&amp;amp;t=5acec1b4-945b-59ca-34f8-168928ce5199&amp;amp;l=24143&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17511650" author="gaoyunhaii" created="Thu, 24 Mar 2022 07:41:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=33627&amp;amp;view=logs&amp;amp;j=5cae8624-c7eb-5c51-92d3-4d2dacedd221&amp;amp;t=5acec1b4-945b-59ca-34f8-168928ce5199&amp;amp;l=24239&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=33627&amp;amp;view=logs&amp;amp;j=5cae8624-c7eb-5c51-92d3-4d2dacedd221&amp;amp;t=5acec1b4-945b-59ca-34f8-168928ce5199&amp;amp;l=24239&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17511669" author="ym" created="Thu, 24 Mar 2022 08:00:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman&quot; class=&quot;user-hover&quot; rel=&quot;roman&quot;&gt;roman&lt;/a&gt; , would you please take a look&lt;/p&gt;</comment>
                            <comment id="17511671" author="gaoyunhaii" created="Thu, 24 Mar 2022 08:02:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=33672&amp;amp;view=logs&amp;amp;j=5cae8624-c7eb-5c51-92d3-4d2dacedd221&amp;amp;t=5acec1b4-945b-59ca-34f8-168928ce5199&amp;amp;l=24251&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=33672&amp;amp;view=logs&amp;amp;j=5cae8624-c7eb-5c51-92d3-4d2dacedd221&amp;amp;t=5acec1b4-945b-59ca-34f8-168928ce5199&amp;amp;l=24251&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17511733" author="roman_khachatryan" created="Thu, 24 Mar 2022 09:44:51 +0000"  >&lt;p&gt;There is a race condition in test:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the assertion is made as soon as upload (future) is completed&lt;/li&gt;
	&lt;li&gt;the histogram is updated after completing the upload (on success)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Moving assertion out of try/close block solves the problem. I&apos;ll open a PR.&lt;/p&gt;</comment>
                            <comment id="17512206" author="roman_khachatryan" created="Fri, 25 Mar 2022 05:55:15 +0000"  >&lt;p&gt;Merged into 1.15 as 3c88f887de26f58cff27c87931d7a2f6928c81da,&lt;/p&gt;

&lt;p&gt;into master as 7e909ff2ee9e025796d357b13cf8877b01f6ca44.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10pso:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>