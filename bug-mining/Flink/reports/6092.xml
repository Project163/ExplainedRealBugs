<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:08:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23230] Cannot compile Flink on MacOS with M1 chip</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23230</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Flink doesn&apos;t currently compile on MacOS with M1 silicon.&lt;/p&gt;

&lt;p&gt;This is true for all recent versions (1.13.X) as well as master.&lt;/p&gt;

&lt;p&gt;Some of the problems have potentially easy fixes, such as installing node separately or updating the relevant pom.xml to use a newer version of node. I am getting some errors about deprecated features being used which are not supported by newer node, but on the surface they seem easy to resolve.&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ve had less success with complex dependencies such as protobuf.&lt;/p&gt;

&lt;p&gt;My long term objective is to use and contribute to Flink. If I can get some help with the above issues, I am willing to make the modifications, submit the changes as a pull request, and shepherd them to release. If compilation on MacOS/M1 is not a priority, I can look for a virtual machine solution instead. Feedback appreciated.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Osama&lt;/p&gt;</description>
                <environment></environment>
        <key id="13387573">FLINK-23230</key>
            <summary>Cannot compile Flink on MacOS with M1 chip</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmetzger">Robert Metzger</assignee>
                                    <reporter username="osaman88">Osama Neiroukh</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sun, 4 Jul 2021 14:46:49 +0000</created>
                <updated>Mon, 3 Jan 2022 15:22:49 +0000</updated>
                            <resolved>Mon, 3 Jan 2022 15:22:49 +0000</resolved>
                                    <version>1.13.1</version>
                                    <fixVersion>1.15.0</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                                                                            <comments>
                            <comment id="17374558" author="airblader" created="Mon, 5 Jul 2021 06:06:49 +0000"  >&lt;p&gt;Updating node isn&apos;t as easy of a change either. The node version is tied to the Angular version and with it a lot of dependencies in turn. We have an umbrella issue for modernizing Flink UI which we should be able to address around Mid-July though which would take care of that.&lt;/p&gt;</comment>
                            <comment id="17374871" author="till.rohrmann" created="Mon, 5 Jul 2021 14:18:24 +0000"  >&lt;p&gt;Thanks for reporting the issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=osaman88&quot; class=&quot;user-hover&quot; rel=&quot;osaman88&quot;&gt;osaman88&lt;/a&gt;. Can you attach some more details about what exactly is not working and how it is failing. Could you try disabling building the web-ui via &lt;tt&gt;-Dskip-webui-build&lt;/tt&gt; when running &lt;tt&gt;mvn&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="17374968" author="osaman88" created="Mon, 5 Jul 2021 19:05:38 +0000"  >&lt;p&gt;Thank you both for quick responses.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So far I&apos;ve run into the following errors.&lt;/p&gt;

&lt;p&gt;1)&lt;/p&gt;

&lt;p&gt;runtime-web stage fails due to absence of&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;&lt;font color=&quot;#000000&quot;&gt;&lt;a href=&quot;https://nodejs.org/dist/v10.9.0/node-v10.9.0-darwin-arm64.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nodejs.org/dist/v10.9.0/node-v10.9.0-darwin-arm64.tar.gz&lt;/a&gt;&lt;/font&gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
Node version 16.0.0 and later have such a file&lt;br/&gt;
but this causes potential harmful side-effects when upgraded, such as:&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;[&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#ca3323&quot;&gt;ERROR&lt;/font&gt;&lt;/b&gt;] (node:78328) &lt;span class=&quot;error&quot;&gt;&amp;#91;DEP0111&amp;#93;&lt;/span&gt; DeprecationWarning: Access to process.binding(&apos;http_parser&apos;) is deprecated.&lt;br/&gt;
&#160;&lt;br/&gt;
2)&lt;br/&gt;
Stage&lt;font color=&quot;#000000&quot;&gt;Flink : Formats : Parquet&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;fails due to absence of&lt;/font&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;&lt;font color=&quot;#000000&quot;&gt;&lt;a href=&quot;https://repo.maven.apache.org/maven2/com/google/protobuf/protoc/3.5.1/protoc-3.5.1-osx-aarch_64.exe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo.maven.apache.org/maven2/com/google/protobuf/protoc/3.5.1/protoc-3.5.1-osx-aarch_64.exe&lt;/a&gt;&lt;/font&gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
In version &lt;font color=&quot;#000000&quot;&gt;3.17.3, osx-aarch_64 exists, but attempting to upgrade protobuf became messy very quickly. &lt;/font&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
A few other stages fail when I force compilation maven to never fail, but I haven&apos;t dug into whether they are related or not. I suspect attempting to modify protobuf versions caused domino failures. These are the other stages that fail:&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;[&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#5620f4&quot;&gt;INFO&lt;/font&gt;&lt;/b&gt;] Flink : Connectors : Hive .......................... &lt;b&gt;&lt;font color=&quot;#ca3323&quot;&gt;FAILURE&lt;/font&gt;&lt;/b&gt; [ 36.684 s]&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;[&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#5620f4&quot;&gt;INFO&lt;/font&gt;&lt;/b&gt;] Flink : Formats : SQL Parquet ...................... &lt;b&gt;&lt;font color=&quot;#ca3323&quot;&gt;FAILURE&lt;/font&gt;&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&#160; 0.054 s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;[&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#5620f4&quot;&gt;INFO&lt;/font&gt;&lt;/b&gt;] Flink : Python ..................................... &lt;b&gt;&lt;font color=&quot;#ca3323&quot;&gt;FAILURE&lt;/font&gt;&lt;/b&gt; [ 20.272 s]&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;[&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#5620f4&quot;&gt;INFO&lt;/font&gt;&lt;/b&gt;] Flink : Dist ....................................... &lt;b&gt;&lt;font color=&quot;#ca3323&quot;&gt;FAILURE&lt;/font&gt;&lt;/b&gt; [ 15.850 s]&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
I wasn&apos;t sure if any of this is of interest or not, hence I filed the issue. If of interest, I can attempt to narrow down the failures and provide more details on signature and causes.&lt;br/&gt;
&#160;&lt;br/&gt;
Thanks&lt;br/&gt;
&#160;&lt;br/&gt;
Osama&lt;/p&gt;</comment>
                            <comment id="17376413" author="till.rohrmann" created="Wed, 7 Jul 2021 08:59:08 +0000"  >&lt;p&gt;I see. Some of the dependencies (NodeJS and Protobuf) don&apos;t have support for ARM in the versions we are using. I think the solution would be to upgrade these dependencies. However, as Ingo said, for the web UI this might not be super trivial. For the web UI update, we have &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-23110&quot; title=&quot;Modernize Flink UI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-23110&quot;&gt;&lt;del&gt;FLINK-23110&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For upgrading Protobuf, I&apos;ve created a sub-task here.&lt;/p&gt;</comment>
                            <comment id="17377661" author="osaman88" created="Fri, 9 Jul 2021 00:57:18 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Let me provide update on what I did, and I&apos;ll let you decide what to do with this issue as I&apos;m able to make forward progress. I didn&apos;t want to block on these. &lt;/p&gt;

&lt;p&gt;For node, I installed the expected version 10.9.0 manually on my machine. Performance with Rosetta 2 (MacOS&apos;s x86/aarch64 emulation) is very good. So that&apos;s good enough for now.&lt;/p&gt;

&lt;p&gt;For protobuf within format/Parquet, I installed an x86 version in my local maven repository, registered it with Maven, and again Rosetta 2 is able to run it with no issues.&lt;/p&gt;

&lt;p&gt;The final issue, fyi,&#160; was in flink-python. This uses protoc-jar, which only supports very limited versions of protoc. I installed protoc x86 locally, modified flink-python/pom.xml to include&lt;br/&gt;
&amp;lt;properties&amp;gt;&lt;br/&gt;
&amp;lt;protocCommand&amp;gt;protoc&amp;lt;/protocCommand&amp;gt;&lt;br/&gt;
&amp;lt;/properties&amp;gt;&lt;br/&gt;
and now it is using my locally installed protoc and working fine.&lt;/p&gt;

&lt;p&gt;With all this, I was able to compile Flink all the way, run an example locally, and verify that the web dashboard is also working well.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Osama&lt;/p&gt;</comment>
                            <comment id="17377994" author="osaman88" created="Fri, 9 Jul 2021 10:40:19 +0000"  >&lt;p&gt;BTW the protoc-jar team is aware of the issue with Apple M1 chips, and they have an issue that tracks a possible solution. There is a PR pending that hasn&apos;t been accepted yet:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/os72/protoc-jar/issues/93&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/os72/protoc-jar/issues/93&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Osama&lt;/p&gt;</comment>
                            <comment id="17378059" author="till.rohrmann" created="Fri, 9 Jul 2021 13:18:50 +0000"  >&lt;p&gt;Great. Thanks for updating this ticket &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=osaman88&quot; class=&quot;user-hover&quot; rel=&quot;osaman88&quot;&gt;osaman88&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17410613" author="martijnvisser" created="Mon, 6 Sep 2021 13:49:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=osaman88&quot; class=&quot;user-hover&quot; rel=&quot;osaman88&quot;&gt;osaman88&lt;/a&gt;&#160;Could you test master again to see if it now works?&#160;&lt;/p&gt;</comment>
                            <comment id="17443774" author="maver1ck" created="Mon, 15 Nov 2021 11:39:46 +0000"  >&lt;p&gt;For the web UI upgrade of frontend-maven-plugin to 1.12.0 fixed issue.&lt;/p&gt;

&lt;p&gt;I found also failing test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   CPUResourceTest.toHumanReadableString:32 
Expected: is &lt;span class=&quot;code-quote&quot;&gt;&quot;0.00 cores&quot;&lt;/span&gt;
     but: was &lt;span class=&quot;code-quote&quot;&gt;&quot;0,00 cores&quot;&lt;/span&gt;
[INFO] 
[ERROR] Tests run: 4615, Failures: 1, Errors: 0, Skipped: 657 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=osaman88&quot; class=&quot;user-hover&quot; rel=&quot;osaman88&quot;&gt;osaman88&lt;/a&gt;&#160; did you run test after compilation ?&lt;/p&gt;</comment>
                            <comment id="17443784" author="martijnvisser" created="Mon, 15 Nov 2021 11:49:03 +0000"  >&lt;p&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maver1ck&quot; class=&quot;user-hover&quot; rel=&quot;maver1ck&quot;&gt;maver1ck&lt;/a&gt; Can you make a PR for that plugin update?&lt;/p&gt;</comment>
                            <comment id="17443790" author="maver1ck" created="Mon, 15 Nov 2021 12:03:50 +0000"  >&lt;p&gt;Done.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/flink/pull/17795&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/17795&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;EDIT: Plugin version 1.11.0 support both M1 and maven 3.2.5&lt;/p&gt;</comment>
                            <comment id="17446399" author="maver1ck" created="Fri, 19 Nov 2021 09:29:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=MartijnVisser&quot; class=&quot;user-hover&quot; rel=&quot;martijnvisser&quot;&gt;MartijnVisser&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Current status with current master and my PR is like this:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  06:32 min
[INFO] Finished at: 2021-11-19T09:31:23+01:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.xolstice.maven.plugins:protobuf-maven-plugin:0.5.1:test-compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) on project flink-parquet_2.12: Missing:
[ERROR] ----------
[ERROR] 1) com.google.protobuf:protoc:exe:osx-aarch_64:3.5.1
[ERROR] 
[ERROR]   Try downloading the file manually from the project website.
[ERROR] 
[ERROR]   Then, install it using the command: 
[ERROR]       mvn install:install-file -DgroupId=com.google.protobuf -DartifactId=protoc -Dversion=3.5.1 -Dclassifier=osx-aarch_64 -Dpackaging=exe -Dfile=/path/to/file
[ERROR] 
[ERROR]   Alternatively, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you host your own repository you can deploy the file there: 
[ERROR]       mvn deploy:deploy-file -DgroupId=com.google.protobuf -DartifactId=protoc -Dversion=3.5.1 -Dclassifier=osx-aarch_64 -Dpackaging=exe -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]
[ERROR] 
[ERROR]   Path to dependency: 
[ERROR]   	1) org.apache.flink:flink-parquet_2.12:jar:1.15-SNAPSHOT
[ERROR]   	2) com.google.protobuf:protoc:exe:osx-aarch_64:3.5.1
[ERROR] 
[ERROR] ----------
[ERROR] 1 required artifact is missing.
[ERROR] 
[ERROR] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; artifact: 
[ERROR]   org.apache.flink:flink-parquet_2.12:jar:1.15-SNAPSHOT
[ERROR] 
[ERROR] from the specified remote repositories:
[ERROR]   apache.snapshots (https:&lt;span class=&quot;code-comment&quot;&gt;//repository.apache.org/snapshots, releases=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;),
&lt;/span&gt;[ERROR]   central (https:&lt;span class=&quot;code-comment&quot;&gt;//repo.maven.apache.org/maven2, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;/span&gt;[ERROR]  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What can we do next ?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;PS. Is there a chance somebody merge my PR ?&lt;br/&gt;
I added subtask for that: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-24964&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-24964&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/flink/pull/17795&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/17795&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17449830" author="rmetzger" created="Sat, 27 Nov 2021 12:59:30 +0000"  >&lt;p&gt;I&apos;ve managed to get Flink compiling on my M1 MBP, with a few small pom changes to some protoc-related stuff.&lt;br/&gt;
I&apos;m not sure if the changes are acceptable, but I&apos;ll open a PR soon to discuss.&lt;/p&gt;

&lt;p&gt;mvn clean install time was ~11 minutes (2 minutes for the frontend), which is quite fast compared to the 19 minutes I needed on my 8 Core Intel i9 MBP from 2019.&lt;/p&gt;</comment>
                            <comment id="17450513" author="martijnvisser" created="Mon, 29 Nov 2021 15:05:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt; Did you use a M1 optimized JDK? &lt;a href=&quot;https://alhuelamo.com/posts/2021/11/native-apple-silicon-jdks/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://alhuelamo.com/posts/2021/11/native-apple-silicon-jdks/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17451310" author="rmetzger" created="Tue, 30 Nov 2021 19:44:26 +0000"  >&lt;p&gt;Yes, I used zulu jdk8 for apple silicon. I was also hoping for a little bit more wonders too. The real wonder is probably that I could not hear any fans spinning (which is not true for the intel one at all), and that the compile time on battery is probably also 11 minutes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="17453879" author="rmetzger" created="Mon, 6 Dec 2021 09:37:32 +0000"  >&lt;p&gt;Another problem I&apos;m facing is this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] --- frontend-maven-plugin:1.11.0:npm (npm install) @ flink-runtime-web ---
[INFO] Running &lt;span class=&quot;code-quote&quot;&gt;&apos;npm ci --cache-max=0 --no-save&apos;&lt;/span&gt; in /Users/robert/Projects/flink/flink-runtime-web/web-dashboard
[INFO] npm WARN prepare removing existing node_modules/ before installation
[INFO] npm ERR! code ENOTEMPTY
[INFO] npm ERR! syscall rmdir
[INFO] npm ERR! path /Users/robert/Projects/flink/flink-runtime-web/web-dashboard/node_modules/@antv
[INFO] npm ERR! errno -66
[INFO] npm ERR! ENOTEMPTY: directory not empty, rmdir &lt;span class=&quot;code-quote&quot;&gt;&apos;/Users/robert/Projects/flink/flink-runtime-web/web-dashboard/node_modules/@antv&apos;&lt;/span&gt;
[INFO]
[INFO] npm ERR! A complete log of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; run can be found in:
[INFO] npm ERR!     /Users/robert/.npm/_logs/2021-12-06T09_23_29_806Z-debug.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maver1ck&quot; class=&quot;user-hover&quot; rel=&quot;maver1ck&quot;&gt;maver1ck&lt;/a&gt; are you seeing this too (looks like you can&apos;t run a clean build twice w/o deleting the node_modules)?&lt;/p&gt;</comment>
                            <comment id="17460482" author="maver1ck" created="Thu, 16 Dec 2021 08:11:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;&#160;&lt;br/&gt;
I was able to do 2 consecutive builds (-DskipTests) without errors on master with only one manual step (mvn install:install-file of protoc x86 executable)&lt;/p&gt;</comment>
                            <comment id="17460484" author="rmetzger" created="Thu, 16 Dec 2021 08:17:52 +0000"  >&lt;p&gt;Allright, thanks for checking for me. Then maybe its a local issue. I&apos;ll look into it.&lt;/p&gt;</comment>
                            <comment id="17460487" author="maver1ck" created="Thu, 16 Dec 2021 08:21:07 +0000"  >&lt;p&gt;Sorry for delay but I get my own M1 Macbook yesterday.&#160;&lt;br/&gt;
Now I&apos;m checking compilation WITH tests.&lt;/p&gt;

&lt;p&gt;Result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] Results:
[INFO]
[ERROR] Errors:
[ERROR] &#160; NetworkBufferPoolTest.testIsAvailableOrNotAfterRequestAndRecycleMultiSegments &#187; TestTimedOut
[ERROR] &#160; SystemResourcesCounterTest.testObtainAnyMetrics:35 &#187; UnsatisfiedLink /&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;/...
[INFO]
[ERROR] Tests run: 5922, Failures: 0, Errors: 2, Skipped: 30&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17467955" author="rmetzger" created="Mon, 3 Jan 2022 12:41:54 +0000"  >&lt;p&gt;Merged to master in &lt;a href=&quot;https://github.com/apache/flink/commit/e548f21f241717b6ac60ae5e311a1b377b32c9a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/e548f21f241717b6ac60ae5e311a1b377b32c9a8&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ll file separate tickets about making the tests pass on M1.&lt;/p&gt;

&lt;p&gt;EDIT: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-25505&quot; title=&quot;Fix NetworkBufferPoolTest, SystemResourcesCounterTest on Apple M1 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-25505&quot;&gt;&lt;del&gt;FLINK-25505&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13420373">FLINK-25505</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13415540">FLINK-25188</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="13385325">FLINK-23110</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="13388131">FLINK-23297</subtask>
                            <subtask id="13412742">FLINK-24964</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0sld4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>