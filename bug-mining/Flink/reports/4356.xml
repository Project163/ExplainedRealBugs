<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:48:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-18360] Flink History Server doesn&apos;t show correctly table of Completed jobs when there are no archived jobs are in the archive directory</title>
                <link>https://issues.apache.org/jira/browse/FLINK-18360</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When the directory defined in ${historyserver.archive.fs.dir} is empty (=there are no archived completed jobs), the History Server UI fails to show the Completed Jobs table.&lt;/p&gt;

&lt;p&gt;It should show the empty table with correct column headers and &quot;No data&quot; icon.&lt;/p&gt;

&lt;p&gt;This is due to file ${historyserver.web.tmpdir}/jobs/overview.json not being created. This file is fetched by the web UI from url `/jobs/overview`.&lt;/p&gt;

&lt;p&gt;This file is correctly created and populated by the History Server if the&#160;directory defined in ${historyserver.archive.fs.dir} contains any job.&lt;/p&gt;

&lt;p&gt;The situation when the Completed Jobs table is not populated normally indicates that the History Server stars up and processes the jobs in the archive, so the user should wait.&#160;&lt;br/&gt;
This happened to us few times, as we waited for the HS to finish the archived jobs processing just to find out after hours that the HS has in fact nothing to show.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The fix is simple, by removing `&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!events.isEmpty())&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;condition around&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
updateJobOverview(webOverviewDir, webDir)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in the&#160;&lt;a href=&quot;#L288]&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;HistoryServerArchiveFetcher.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13312166">FLINK-18360</key>
            <summary>Flink History Server doesn&apos;t show correctly table of Completed jobs when there are no archived jobs are in the archive directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvimr">Jindrich Vimr</assignee>
                                    <reporter username="jvimr">Jindrich Vimr</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 18 Jun 2020 08:57:25 +0000</created>
                <updated>Tue, 23 Jun 2020 09:10:31 +0000</updated>
                            <resolved>Tue, 23 Jun 2020 09:10:31 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>Runtime / REST</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17139240" author="jvimr" created="Thu, 18 Jun 2020 09:01:03 +0000"  >&lt;p&gt;the fix (with test) is available as a [Pull Request|&lt;a href=&quot;https://github.com/apache/flink/pull/12704&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/12704&lt;/a&gt;]&lt;/p&gt;</comment>
                            <comment id="17142774" author="zentol" created="Tue, 23 Jun 2020 09:10:31 +0000"  >&lt;p&gt;master: efcc5434dd744ad547999e970c00142a9b20e914&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13005935" name="flink-hs-correct-no-jobs.png" size="8413" author="jvimr" created="Thu, 18 Jun 2020 08:43:34 +0000"/>
                            <attachment id="13005934" name="flink-hs-no-data-shown.png" size="15879" author="jvimr" created="Thu, 18 Jun 2020 08:43:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fz34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Histrory server show correctly Completed Jobs table when there are no archived jobs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>