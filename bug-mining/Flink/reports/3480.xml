<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:42:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15096] Do not use GlobalJobParameters to pass system configuration</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15096</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;GlobalJobParameters is a user only configuration that should not be used to ship system specific settings.&lt;/p&gt;

&lt;p&gt;Right now python uses it to ship information about custom archives, files, executables etc.&lt;/p&gt;

&lt;p&gt;A solution would be to pass required configuration when instantiating the operators.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13272701">FLINK-15096</key>
            <summary>Do not use GlobalJobParameters to pass system configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhongwei">Wei Zhong</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 6 Dec 2019 09:18:32 +0000</created>
                <updated>Sun, 8 Dec 2019 05:01:47 +0000</updated>
                            <resolved>Sun, 8 Dec 2019 05:01:47 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.10.0</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16989585" author="jark" created="Fri, 6 Dec 2019 09:44:47 +0000"  >&lt;p&gt;I also created a similar issue &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-14514&quot; title=&quot;Improve interface of FunctionContext#getJobParameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-14514&quot;&gt;FLINK-14514&lt;/a&gt; that currently our &lt;tt&gt;FunctionContext&lt;/tt&gt; ships configs in &lt;tt&gt;TableConfig#getConfiguration&lt;/tt&gt; to &lt;tt&gt;GlobalJobParameters&lt;/tt&gt;. See &lt;tt&gt;PlannerBase#mergeParameters&lt;/tt&gt; in blink planner.&lt;/p&gt;</comment>
                            <comment id="16989607" author="dawidwys" created="Fri, 6 Dec 2019 10:17:20 +0000"  >&lt;p&gt;If I understand it correctly though &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-14514&quot; title=&quot;Improve interface of FunctionContext#getJobParameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-14514&quot;&gt;FLINK-14514&lt;/a&gt; suggest the opposite. To make no differentiation between system and user parameters and ship everything.&lt;/p&gt;

&lt;p&gt;What I am suggesting here to ship only a map from a single key: &quot;pipeline.global-job-parameters&quot; as parameters, nothing more.&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;https://github.com/apache/flink/pull/10431/commits/f2969d974b862d13fe2e2c3d81b8878ca17d70f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/10431/commits/f2969d974b862d13fe2e2c3d81b8878ca17d70f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16989622" author="dawidwys" created="Fri, 6 Dec 2019 10:38:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt; What do you think?&lt;/p&gt;</comment>
                            <comment id="16989721" author="aljoscha" created="Fri, 6 Dec 2019 12:39:12 +0000"  >&lt;p&gt;I agree that &lt;tt&gt;GlobalJobParameters&lt;/tt&gt; should only be used by users, otherwise we will potentially have problems with clashing configuration.&lt;/p&gt;</comment>
                            <comment id="16989780" author="zhongwei" created="Fri, 6 Dec 2019 13:53:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; , thanks for creating this JIRA. It will be great if we can find a cleaner way. Just share my thoughts about the reason why we use the GlobalJobParameter here.&lt;/p&gt;

&lt;p&gt;We have thought about several solutions for this issues:&lt;br/&gt;
 1) The current solution via GlobalJobParameter&lt;br/&gt;
 2) Set the custom archives, files, executables to TableConfig and then instantiating the operator with these configs (this seems the same solution as you proposed?)&lt;br/&gt;
 3) Set the custom archives, files, executables to the job configuration of JobGraph&lt;br/&gt;
 4) Register these configurations to DistributedCached under some predefined name and then operators could retrieve these configurations&lt;/p&gt;

&lt;p&gt;All the above solutions have some problems:&lt;br/&gt;
 1) Regarding to solution 1, just as you mentioned, GlobalJobParameter is a user oriented configuration. &lt;br/&gt;
 2) Regarding to solution 2, TableConfig seems also not a good place to hold the custom archives, files, executables as it exposes these internal configurations to users. &lt;br/&gt;
 3) Regarding to solution 3, we need to expose job configuration in JobGraph, it seems also not acceptable. &lt;br/&gt;
 4) Regarding to solution 4, it seems too hack for me.&lt;/p&gt;

&lt;p&gt;The first solution seems more acceptable as it will not introduce any API changes. What&apos;s your thoughts? It will be great if we can find a cleaner way.&lt;/p&gt;</comment>
                            <comment id="16989790" author="dawidwys" created="Fri, 6 Dec 2019 14:07:31 +0000"  >&lt;p&gt;Yes my suggested solution is somewhat similar to the option 2. The difference is I am not suggesting to add new fields/methods to TableConfig. From the API side it would be exactly the same as it is in the current master. &lt;br/&gt;
The difference is how you access it in the Operator.  I am suggesting to access the settings from &lt;tt&gt;TableConfig#getConfiguration()&lt;/tt&gt; as you said when instantiating the operator.&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/flink/pull/10431&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/10431&lt;/a&gt; I would like only the map stored under &lt;tt&gt;pipeline.global-job-parameters&lt;/tt&gt; in &lt;tt&gt;TableConfig#getConfiguration&lt;/tt&gt; to be shipped to &lt;tt&gt;GlobalJobParameters&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16989892" author="zhongwei" created="Fri, 6 Dec 2019 15:35:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;&#160;thanks for your reply. Sounds like a good idea. I&apos;d like to take this JIRA and provide a PR ASAP. Could you help to assign it to me? Thanks a lot.&lt;/p&gt;</comment>
                            <comment id="16990721" author="hequn8128" created="Sun, 8 Dec 2019 05:00:35 +0000"  >&lt;p&gt;Resolved in 1.10.0 via 0d7c15703d0dd304d49203c163e9a1397e4e0d9e&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13264159">FLINK-14514</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09d48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>