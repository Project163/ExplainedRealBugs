<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:46:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-17817] CollectResultFetcher fails with EOFException in AggregateReduceGroupingITCase</title>
                <link>https://issues.apache.org/jira/browse/FLINK-17817</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;CI: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1826&amp;amp;view=logs&amp;amp;j=e25d5e7e-2a9c-5589-4940-0b638d75a414&amp;amp;t=f83cd372-208c-5ec4-12a8-337462457129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1826&amp;amp;view=logs&amp;amp;j=e25d5e7e-2a9c-5589-4940-0b638d75a414&amp;amp;t=f83cd372-208c-5ec4-12a8-337462457129&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-05-19T10:34:18.3224679Z [ERROR] testSingleAggOnTable_SortAgg(org.apache.flink.table.planner.runtime.batch.sql.agg.AggregateReduceGroupingITCase)  Time elapsed: 7.537 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
2020-05-19T10:34:18.3225273Z java.lang.RuntimeException: Failed to fetch next result
2020-05-19T10:34:18.3227634Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.nextResultFromFetcher(CollectResultIterator.java:92)
2020-05-19T10:34:18.3228518Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.hasNext(CollectResultIterator.java:63)
2020-05-19T10:34:18.3229170Z 	at org.apache.flink.shaded.guava18.com.google.common.collect.Iterators.addAll(Iterators.java:361)
2020-05-19T10:34:18.3229863Z 	at org.apache.flink.shaded.guava18.com.google.common.collect.Lists.newArrayList(Lists.java:160)
2020-05-19T10:34:18.3230586Z 	at org.apache.flink.table.planner.runtime.utils.BatchTestBase.executeQuery(BatchTestBase.scala:300)
2020-05-19T10:34:18.3231303Z 	at org.apache.flink.table.planner.runtime.utils.BatchTestBase.check(BatchTestBase.scala:141)
2020-05-19T10:34:18.3231996Z 	at org.apache.flink.table.planner.runtime.utils.BatchTestBase.checkResult(BatchTestBase.scala:107)
2020-05-19T10:34:18.3232847Z 	at org.apache.flink.table.planner.runtime.batch.sql.agg.AggregateReduceGroupingITCase.testSingleAggOnTable(AggregateReduceGroupingITCase.scala:176)
2020-05-19T10:34:18.3233694Z 	at org.apache.flink.table.planner.runtime.batch.sql.agg.AggregateReduceGroupingITCase.testSingleAggOnTable_SortAgg(AggregateReduceGroupingITCase.scala:122)
2020-05-19T10:34:18.3234461Z 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2020-05-19T10:34:18.3234983Z 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
2020-05-19T10:34:18.3235632Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2020-05-19T10:34:18.3236615Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2020-05-19T10:34:18.3237256Z 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
2020-05-19T10:34:18.3237965Z 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
2020-05-19T10:34:18.3238750Z 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
2020-05-19T10:34:18.3239314Z 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
2020-05-19T10:34:18.3239838Z 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
2020-05-19T10:34:18.3240362Z 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
2020-05-19T10:34:18.3240803Z 	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
2020-05-19T10:34:18.3243624Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2020-05-19T10:34:18.3244531Z 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
2020-05-19T10:34:18.3245325Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
2020-05-19T10:34:18.3246086Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
2020-05-19T10:34:18.3246765Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2020-05-19T10:34:18.3247390Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2020-05-19T10:34:18.3248012Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2020-05-19T10:34:18.3248779Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2020-05-19T10:34:18.3249417Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2020-05-19T10:34:18.3250357Z 	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
2020-05-19T10:34:18.3251021Z 	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
2020-05-19T10:34:18.3251597Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2020-05-19T10:34:18.3252141Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2020-05-19T10:34:18.3252798Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
2020-05-19T10:34:18.3253527Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
2020-05-19T10:34:18.3254458Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
2020-05-19T10:34:18.3255420Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
2020-05-19T10:34:18.3256207Z 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
2020-05-19T10:34:18.3257025Z 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
2020-05-19T10:34:18.3257719Z 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
2020-05-19T10:34:18.3258447Z 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
2020-05-19T10:34:18.3258948Z Caused by: java.io.EOFException
2020-05-19T10:34:18.3259379Z 	at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:290)
2020-05-19T10:34:18.3259826Z 	at org.apache.flink.api.java.typeutils.runtime.MaskUtils.readIntoMask(MaskUtils.java:73)
2020-05-19T10:34:18.3260307Z 	at org.apache.flink.api.java.typeutils.runtime.RowSerializer.deserialize(RowSerializer.java:200)
2020-05-19T10:34:18.3261044Z 	at org.apache.flink.api.java.typeutils.runtime.RowSerializer.deserialize(RowSerializer.java:58)
2020-05-19T10:34:18.3261535Z 	at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:133)
2020-05-19T10:34:18.3262105Z 	at org.apache.flink.streaming.api.operators.collect.CollectCoordinationResponse.getResults(CollectCoordinationResponse.java:91)
2020-05-19T10:34:18.3262752Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher$ResultBuffer.dealWithResponse(CollectResultFetcher.java:291)
2020-05-19T10:34:18.3263385Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher$ResultBuffer.access$200(CollectResultFetcher.java:249)
2020-05-19T10:34:18.3264077Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.next(CollectResultFetcher.java:142)
2020-05-19T10:34:18.3264666Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.nextResultFromFetcher(CollectResultIterator.java:89)
2020-05-19T10:34:18.3265050Z 	... 40 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13305988">FLINK-17817</key>
            <summary>CollectResultFetcher fails with EOFException in AggregateReduceGroupingITCase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="TsReaper">Caizhi Weng</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 19 May 2020 19:24:35 +0000</created>
                <updated>Fri, 16 Oct 2020 10:53:05 +0000</updated>
                            <resolved>Thu, 21 May 2020 03:48:54 +0000</resolved>
                                    <version>1.11.0</version>
                                    <fixVersion>1.11.0</fixVersion>
                                    <component>API / DataStream</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17111461" author="rmetzger" created="Tue, 19 May 2020 19:33:34 +0000"  >&lt;p&gt;Another case: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1810&amp;amp;view=logs&amp;amp;j=e25d5e7e-2a9c-5589-4940-0b638d75a414&amp;amp;t=f83cd372-208c-5ec4-12a8-337462457129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1810&amp;amp;view=logs&amp;amp;j=e25d5e7e-2a9c-5589-4940-0b638d75a414&amp;amp;t=f83cd372-208c-5ec4-12a8-337462457129&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17111476" author="rmetzger" created="Tue, 19 May 2020 19:41:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1779&amp;amp;view=logs&amp;amp;j=e25d5e7e-2a9c-5589-4940-0b638d75a414&amp;amp;t=f83cd372-208c-5ec4-12a8-337462457129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1779&amp;amp;view=logs&amp;amp;j=e25d5e7e-2a9c-5589-4940-0b638d75a414&amp;amp;t=f83cd372-208c-5ec4-12a8-337462457129&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17111700" author="ykt836" created="Wed, 20 May 2020 02:42:50 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TsReaper&quot; class=&quot;user-hover&quot; rel=&quot;TsReaper&quot;&gt;TsReaper&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17111754" author="tsreaper" created="Wed, 20 May 2020 04:28:52 +0000"  >&lt;p&gt;Thanks for the report. This is because type serializers are not thread safe but I didn&apos;t duplicate it in the sink function. I&apos;ll fix this immediately.&lt;/p&gt;</comment>
                            <comment id="17111829" author="tsreaper" created="Wed, 20 May 2020 06:52:24 +0000"  >&lt;p&gt;I remembered that &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17774&quot; title=&quot;supports all kinds of changes for select result&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17774&quot;&gt;&lt;del&gt;FLINK-17774&lt;/del&gt;&lt;/a&gt; actually solves this problem. To handle object reuse (precisely &lt;tt&gt;RowData&lt;/tt&gt; reuse), collect sink in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17774&quot; title=&quot;supports all kinds of changes for select result&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17774&quot;&gt;&lt;del&gt;FLINK-17774&lt;/del&gt;&lt;/a&gt; will serialize the values in &lt;tt&gt;invoke&lt;/tt&gt; method, so there is no serializing in socket server thread. Let&apos;s wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17774&quot; title=&quot;supports all kinds of changes for select result&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17774&quot;&gt;&lt;del&gt;FLINK-17774&lt;/del&gt;&lt;/a&gt; to be merged so that this problem can also be solved.&lt;/p&gt;</comment>
                            <comment id="17111965" author="rmetzger" created="Wed, 20 May 2020 09:10:59 +0000"  >&lt;p&gt;Is this test failure caused by the same issue?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-05-20T08:28:39.4310095Z [ERROR] Tests run: 5, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.403 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.ml.common.utils.DataStreamConversionUtilTest
2020-05-20T08:28:39.4320654Z [ERROR] testBasicConvert(org.apache.flink.ml.common.utils.DataStreamConversionUtilTest)  Time elapsed: 4.005 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
2020-05-20T08:28:39.4321429Z java.lang.RuntimeException: Failed to fetch next result
2020-05-20T08:28:39.4322299Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.nextResultFromFetcher(CollectResultIterator.java:92)
2020-05-20T08:28:39.4323188Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.next(CollectResultIterator.java:71)
2020-05-20T08:28:39.4324093Z 	at org.apache.flink.ml.common.utils.DataStreamConversionUtilTest.testBasicConvert(DataStreamConversionUtilTest.java:102)
2020-05-20T08:28:39.4324817Z 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2020-05-20T08:28:39.4325814Z 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
2020-05-20T08:28:39.4326689Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2020-05-20T08:28:39.4327223Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2020-05-20T08:28:39.4327645Z 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
2020-05-20T08:28:39.4328124Z 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
2020-05-20T08:28:39.4328658Z 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
2020-05-20T08:28:39.4329132Z 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
2020-05-20T08:28:39.4329613Z 	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)
2020-05-20T08:28:39.4330063Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2020-05-20T08:28:39.4330449Z 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
2020-05-20T08:28:39.4330866Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
2020-05-20T08:28:39.4331336Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
2020-05-20T08:28:39.4331741Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2020-05-20T08:28:39.4332135Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2020-05-20T08:28:39.4332528Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2020-05-20T08:28:39.4332932Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2020-05-20T08:28:39.4333333Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2020-05-20T08:28:39.4333707Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2020-05-20T08:28:39.4334131Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
2020-05-20T08:28:39.4334610Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
2020-05-20T08:28:39.4335112Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
2020-05-20T08:28:39.4335580Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
2020-05-20T08:28:39.4336181Z 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
2020-05-20T08:28:39.4336912Z 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
2020-05-20T08:28:39.4337396Z 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
2020-05-20T08:28:39.4337817Z 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
2020-05-20T08:28:39.4338229Z Caused by: java.io.IOException: Failed to fetch job execution result
2020-05-20T08:28:39.4338795Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.getAccumulatorResults(CollectResultFetcher.java:178)
2020-05-20T08:28:39.4339399Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.next(CollectResultFetcher.java:128)
2020-05-20T08:28:39.4339991Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.nextResultFromFetcher(CollectResultIterator.java:89)
2020-05-20T08:28:39.4340555Z 	... 29 more
2020-05-20T08:28:39.4340962Z Caused by: java.util.concurrent.ExecutionException: org.apache.flink.runtime.client.JobExecutionException: Job execution failed.
2020-05-20T08:28:39.4341488Z 	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
2020-05-20T08:28:39.4341935Z 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
2020-05-20T08:28:39.4342452Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.getAccumulatorResults(CollectResultFetcher.java:175)
2020-05-20T08:28:39.4342857Z 	... 31 more
2020-05-20T08:28:39.4343191Z Caused by: org.apache.flink.runtime.client.JobExecutionException: Job execution failed.
2020-05-20T08:28:39.4343738Z 	at org.apache.flink.runtime.jobmaster.JobResult.toJobExecutionResult(JobResult.java:147)
2020-05-20T08:28:39.4344350Z 	at org.apache.flink.client.program.PerJobMiniClusterFactory$PerJobMiniClusterJobClient.lambda$getJobExecutionResult$2(PerJobMiniClusterFactory.java:186)
2020-05-20T08:28:39.4344925Z 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
2020-05-20T08:28:39.4345393Z 	at java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:628)
2020-05-20T08:28:39.4345858Z 	at java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:1996)
2020-05-20T08:28:39.4346560Z 	at org.apache.flink.client.program.PerJobMiniClusterFactory$PerJobMiniClusterJobClient.getJobExecutionResult(PerJobMiniClusterFactory.java:184)
2020-05-20T08:28:39.4347014Z 	... 32 more
2020-05-20T08:28:39.4347342Z Caused by: org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy
2020-05-20T08:28:39.4347931Z 	at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)
2020-05-20T08:28:39.4348702Z 	at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)
2020-05-20T08:28:39.4349303Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:192)
2020-05-20T08:28:39.4349842Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:185)
2020-05-20T08:28:39.4350395Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:179)
2020-05-20T08:28:39.4350977Z 	at org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:503)
2020-05-20T08:28:39.4351490Z 	at org.apache.flink.runtime.jobmaster.JobMaster.updateTaskExecutionState(JobMaster.java:386)
2020-05-20T08:28:39.4351908Z 	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
2020-05-20T08:28:39.4352323Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2020-05-20T08:28:39.4352732Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2020-05-20T08:28:39.4353153Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcInvocation(AkkaRpcActor.java:284)
2020-05-20T08:28:39.4353630Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:199)
2020-05-20T08:28:39.4354106Z 	at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)
2020-05-20T08:28:39.4354620Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)
2020-05-20T08:28:39.4355038Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)
2020-05-20T08:28:39.4355428Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)
2020-05-20T08:28:39.4355812Z 	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:123)
2020-05-20T08:28:39.4356343Z 	at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)
2020-05-20T08:28:39.4356764Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)
2020-05-20T08:28:39.4357381Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2020-05-20T08:28:39.4358007Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2020-05-20T08:28:39.4358391Z 	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:517)
2020-05-20T08:28:39.4358852Z 	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)
2020-05-20T08:28:39.4359234Z 	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)
2020-05-20T08:28:39.4359605Z 	at akka.actor.ActorCell.invoke(ActorCell.scala:561)
2020-05-20T08:28:39.4359973Z 	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)
2020-05-20T08:28:39.4360313Z 	at akka.dispatch.Mailbox.run(Mailbox.scala:225)
2020-05-20T08:28:39.4360649Z 	at akka.dispatch.Mailbox.exec(Mailbox.scala:235)
2020-05-20T08:28:39.4361145Z 	at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
2020-05-20T08:28:39.4361642Z 	at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
2020-05-20T08:28:39.4362082Z 	at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
2020-05-20T08:28:39.4362537Z 	at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
2020-05-20T08:28:39.4364060Z Caused by: java.util.concurrent.ExecutionException: java.lang.IllegalStateException: Concurrent access to KryoSerializer. &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 1: Sink: Data stream collect sink (1/1) , &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 2: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-10
2020-05-20T08:28:39.4364717Z 	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
2020-05-20T08:28:39.4365165Z 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
2020-05-20T08:28:39.4365740Z 	at org.apache.flink.streaming.runtime.tasks.StreamOperatorWrapper.quiesceTimeServiceAndCloseOperator(StreamOperatorWrapper.java:161)
2020-05-20T08:28:39.4366486Z 	at org.apache.flink.streaming.runtime.tasks.StreamOperatorWrapper.close(StreamOperatorWrapper.java:130)
2020-05-20T08:28:39.4367051Z 	at org.apache.flink.streaming.runtime.tasks.StreamOperatorWrapper.close(StreamOperatorWrapper.java:80)
2020-05-20T08:28:39.4367582Z 	at org.apache.flink.streaming.runtime.tasks.OperatorChain.closeOperators(OperatorChain.java:302)
2020-05-20T08:28:39.4368063Z 	at org.apache.flink.streaming.runtime.tasks.StreamTask.afterInvoke(StreamTask.java:562)
2020-05-20T08:28:39.4368623Z 	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:534)
2020-05-20T08:28:39.4369035Z 	at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:720)
2020-05-20T08:28:39.4369434Z 	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:545)
2020-05-20T08:28:39.4369760Z 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
2020-05-20T08:28:39.4370528Z Caused by: java.lang.IllegalStateException: Concurrent access to KryoSerializer. &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 1: Sink: Data stream collect sink (1/1) , &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 2: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-10
2020-05-20T08:28:39.4371184Z 	at org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.enterExclusiveThread(KryoSerializer.java:630)
2020-05-20T08:28:39.4371729Z 	at org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.serialize(KryoSerializer.java:285)
2020-05-20T08:28:39.4372265Z 	at org.apache.flink.api.common.typeutils.base.ListSerializer.serialize(ListSerializer.java:123)
2020-05-20T08:28:39.4372816Z 	at org.apache.flink.streaming.api.operators.collect.CollectCoordinationResponse.&amp;lt;init&amp;gt;(CollectCoordinationResponse.java:63)
2020-05-20T08:28:39.4373461Z 	at org.apache.flink.streaming.api.operators.collect.CollectSinkFunction.serializeAccumulatorResult(CollectSinkFunction.java:308)
2020-05-20T08:28:39.4374096Z 	at org.apache.flink.streaming.api.operators.collect.CollectSinkFunction.accumulateFinalResults(CollectSinkFunction.java:271)
2020-05-20T08:28:39.4374663Z 	at org.apache.flink.streaming.api.operators.collect.CollectSinkOperator.close(CollectSinkOperator.java:57)
2020-05-20T08:28:39.4375246Z 	at org.apache.flink.streaming.runtime.tasks.StreamOperatorWrapper.lambda$closeOperator$5(StreamOperatorWrapper.java:205)
2020-05-20T08:28:39.4375843Z 	at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.runThrowing(StreamTaskActionExecutor.java:47)
2020-05-20T08:28:39.4376832Z 	at org.apache.flink.streaming.runtime.tasks.StreamOperatorWrapper.closeOperator(StreamOperatorWrapper.java:203)
2020-05-20T08:28:39.4377475Z 	at org.apache.flink.streaming.runtime.tasks.StreamOperatorWrapper.lambda$deferCloseOperatorToMailbox$3(StreamOperatorWrapper.java:177)
2020-05-20T08:28:39.4378306Z 	at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.runThrowing(StreamTaskActionExecutor.java:47)
2020-05-20T08:28:39.4379184Z 	at org.apache.flink.streaming.runtime.tasks.mailbox.Mail.run(Mail.java:78)
2020-05-20T08:28:39.4379953Z 	at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxExecutorImpl.tryYield(MailboxExecutorImpl.java:79)
2020-05-20T08:28:39.4380906Z 	at org.apache.flink.streaming.runtime.tasks.StreamOperatorWrapper.quiesceTimeServiceAndCloseOperator(StreamOperatorWrapper.java:155)
2020-05-20T08:28:39.4381484Z 	... 8 more
2020-05-20T08:28:39.4381630Z 
2020-05-20T08:28:39.8485928Z [INFO] 
2020-05-20T08:28:39.8486522Z [INFO] Results:
2020-05-20T08:28:39.8486796Z [INFO] 
2020-05-20T08:28:39.8487041Z [ERROR] Errors: 
2020-05-20T08:28:39.8488119Z [ERROR]   DataStreamConversionUtilTest.testBasicConvert:102 &#194;&#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Failed to fetch ne...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17111975" author="tsreaper" created="Wed, 20 May 2020 09:22:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt; Yes. It says &quot;Concurrent access to KryoSerializer&quot;.&lt;/p&gt;</comment>
                            <comment id="17111988" author="rmetzger" created="Wed, 20 May 2020 09:39:35 +0000"  >&lt;p&gt;ok&lt;/p&gt;</comment>
                            <comment id="17112304" author="dawidwys" created="Wed, 20 May 2020 14:48:33 +0000"  >&lt;p&gt;I will assign you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TsReaper&quot; class=&quot;user-hover&quot; rel=&quot;TsReaper&quot;&gt;TsReaper&lt;/a&gt; the issue, as I think you are working on it, ok?&lt;/p&gt;</comment>
                            <comment id="17112389" author="dawidwys" created="Wed, 20 May 2020 16:04:31 +0000"  >&lt;p&gt;another instance: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1946&amp;amp;view=results&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=1946&amp;amp;view=results&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17112644" author="stephanewen" created="Wed, 20 May 2020 22:50:05 +0000"  >&lt;p&gt;Is the fix going in asap? Otherwise we need to do a separate fix now (or deactivate the feature).&lt;br/&gt;
We cannot leave unstable tests for long, because they tend to mask other failures.&lt;/p&gt;</comment>
                            <comment id="17112723" author="tsreaper" created="Thu, 21 May 2020 02:07:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; no problem&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; sorry for the delay... I used to want to wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17774&quot; title=&quot;supports all kinds of changes for select result&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17774&quot;&gt;&lt;del&gt;FLINK-17774&lt;/del&gt;&lt;/a&gt;. I&apos;ve added a &lt;a href=&quot;https://github.com/apache/flink/pull/12272&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;quick fix&lt;/a&gt; and will merge it asap.&lt;/p&gt;</comment>
                            <comment id="17112773" author="lzljs3620320" created="Thu, 21 May 2020 03:48:54 +0000"  >&lt;p&gt;master:&#160;1cf06e198bddfa26bc4899b2ad570926f77a9668&lt;/p&gt;

&lt;p&gt;release-1.11:&#160;2042a6a88be8f961b9a0f8bc9537c6cee2d69d41&lt;/p&gt;

&lt;p&gt;Feel free to re-open this Jira if the bug be re-produced.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                                                <inwardlinks description="is fixed by">
                                        <issuelink>
            <issuekey id="13305476">FLINK-17774</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ex34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>