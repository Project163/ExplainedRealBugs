<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7178] Datadog Metric Reporter Jar is Lacking Dependencies</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7178</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The Datadog metric reporter has dependencies on &lt;tt&gt;com.squareup.okhttp3&lt;/tt&gt; and &lt;tt&gt;com.squareup.okio&lt;/tt&gt;.  It appears there was an attempt to Maven Shade plug-in to move these classes to &lt;tt&gt;org.apache.flink.shaded.okhttp3&lt;/tt&gt; and &lt;tt&gt;org.apache.flink.shaded.okio&lt;/tt&gt; during packaging.  Alas, the shaded classes are not included in the &lt;tt&gt;flink-metrics-datadog-1.3.1.jar&lt;/tt&gt; released to Maven Central.  Using the Jar results in an error when the Jobmanager or Taskmanager starts up because of the missing dependencies. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13086971">FLINK-7178</key>
            <summary>Datadog Metric Reporter Jar is Lacking Dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="elevy">Elias Levy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jul 2017 18:48:07 +0000</created>
                <updated>Tue, 18 Jul 2017 12:36:55 +0000</updated>
                            <resolved>Tue, 18 Jul 2017 12:36:55 +0000</resolved>
                                    <version>1.3.1</version>
                    <version>1.4.0</version>
                                    <fixVersion>1.3.2</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Runtime / Metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16086321" author="zentol" created="Thu, 13 Jul 2017 20:07:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt; We got a another blocker here.&lt;/p&gt;</comment>
                            <comment id="16086322" author="githubbot" created="Thu, 13 Jul 2017 20:07:58 +0000"  >&lt;p&gt;GitHub user zentol opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7178&quot; title=&quot;Datadog Metric Reporter Jar is Lacking Dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7178&quot;&gt;&lt;del&gt;FLINK-7178&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;metrics&amp;#93;&lt;/span&gt; Do not create separate shaded jars&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zentol/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink&lt;/a&gt; 7178&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4326&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4b88f85d0ab0bdd65fc49fa7c27ba61a3309d2b4&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-13T20:06:56Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7178&quot; title=&quot;Datadog Metric Reporter Jar is Lacking Dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7178&quot;&gt;&lt;del&gt;FLINK-7178&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;metrics&amp;#93;&lt;/span&gt; Do not create separate shaded jars&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16086325" author="githubbot" created="Thu, 13 Jul 2017 20:10:27 +0000"  >&lt;p&gt;GitHub user zentol opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4327&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4327&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7178&quot; title=&quot;Datadog Metric Reporter Jar is Lacking Dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7178&quot;&gt;&lt;del&gt;FLINK-7178&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;metrics&amp;#93;&lt;/span&gt; Do not create separate shaded jars&lt;/p&gt;

&lt;p&gt;    Backport of #4326 for 1.3.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zentol/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink&lt;/a&gt; 7178_13&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4327.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4327.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4327&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5a5cea743c370382f8580aa33b0b62c62c8c62f8&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-13T20:06:56Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7178&quot; title=&quot;Datadog Metric Reporter Jar is Lacking Dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7178&quot;&gt;&lt;del&gt;FLINK-7178&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;metrics&amp;#93;&lt;/span&gt; Do not create separate shaded jars&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16086330" author="zentol" created="Thu, 13 Jul 2017 20:15:17 +0000"  >&lt;p&gt;The maven-shade plugin was not configured correctly and creates a separate shaded jar.&lt;/p&gt;

&lt;p&gt;This shaded jar is also deployed (along with an un-shaded jar); as a workaround for 1.3.1 you can add &lt;tt&gt;&amp;lt;classifier&amp;gt;shaded&amp;lt;/classifier&amp;gt;&lt;/tt&gt; to the dependency.&lt;/p&gt;</comment>
                            <comment id="16087304" author="githubbot" created="Fri, 14 Jul 2017 13:18:20 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good.&lt;/p&gt;

&lt;p&gt;    I would suggest to add a description to the PR (be it only a copy of the JIRA text). Nice support for the reviewers to get context without manually navigating to JIRA to learn about the bug.&lt;/p&gt;</comment>
                            <comment id="16089864" author="githubbot" created="Mon, 17 Jul 2017 13:57:02 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zentol What&apos;s the plan for merging this? (Asking because it&apos;s one of the remaining blockers for `1.3.2`)&lt;/p&gt;</comment>
                            <comment id="16089883" author="githubbot" created="Mon, 17 Jul 2017 14:10:05 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @aljoscha The fix is not quite correct since I didn&apos;t update the flink-dist assembly files. Just pushed a fix for that though. I can merge it later today. (once my local travis passed for it)&lt;/p&gt;</comment>
                            <comment id="16090369" author="zentol" created="Mon, 17 Jul 2017 19:16:28 +0000"  >&lt;p&gt;1.3: 3c0f38369000ed4a1a5f16140e7f88770a10057d&lt;/p&gt;</comment>
                            <comment id="16091489" author="githubbot" created="Tue, 18 Jul 2017 12:33:10 +0000"  >&lt;p&gt;Github user zentol closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16091490" author="githubbot" created="Tue, 18 Jul 2017 12:33:36 +0000"  >&lt;p&gt;Github user zentol closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4327&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4327&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16091493" author="githubbot" created="Tue, 18 Jul 2017 12:34:06 +0000"  >&lt;p&gt;GitHub user zentol reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7178&quot; title=&quot;Datadog Metric Reporter Jar is Lacking Dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7178&quot;&gt;&lt;del&gt;FLINK-7178&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;metrics&amp;#93;&lt;/span&gt; Do not create separate shaded jars&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zentol/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink&lt;/a&gt; 7178&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4326&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4b88f85d0ab0bdd65fc49fa7c27ba61a3309d2b4&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-13T20:06:56Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7178&quot; title=&quot;Datadog Metric Reporter Jar is Lacking Dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7178&quot;&gt;&lt;del&gt;FLINK-7178&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;metrics&amp;#93;&lt;/span&gt; Do not create separate shaded jars&lt;/p&gt;

&lt;p&gt;commit 7f3b6e167089d616f190f380e332ea27f3f98efb&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-17T14:08:54Z&lt;/p&gt;

&lt;p&gt;    fix assemblies&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16091496" author="githubbot" created="Tue, 18 Jul 2017 12:35:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4326&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16091499" author="zentol" created="Tue, 18 Jul 2017 12:36:55 +0000"  >&lt;p&gt;1.4: 67fb2f3ab1eafddc1bf67e4046225cf018ed5369&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hhsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Users that specified the {{shaded}} classifier in the dependency for the datatog/prometheus reporter must remove the classifier when switching to 1.3.2 / 1.4.0 .</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>