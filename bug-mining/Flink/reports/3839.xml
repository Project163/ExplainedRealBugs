<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:44:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-16345] Computed column can not refer time attribute column </title>
                <link>https://issues.apache.org/jira/browse/FLINK-16345</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;If a computed column refer a&#160;time attribute column, computed column will lose&#160;&#160;time attribute and cause validation fail.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TABLE orders (
  order_id STRING,
  order_time TIMESTAMP(3),
  amount DOUBLE,
  amount_kg as amount * 1000,
  &lt;span class=&quot;code-comment&quot;&gt;// can not select computed column standard_ts which from column order_time that used as WATERMARK
&lt;/span&gt;  standard_ts as order_time + INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;8&apos;&lt;/span&gt; HOUR,
  WATERMARK FOR order_time AS order_time
) WITH (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.type&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;kafka&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.version&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;0.10&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.topic&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;flink_orders&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.properties.zookeeper.connect&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;localhost:2181&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.properties.bootstrap.servers&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;localhost:9092&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.properties.group.id&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;testGroup&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.startup-mode&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;earliest-offset&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;format.type&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;json&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;format.derive-schema&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;
);

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The query `select amount_kg from orders` runs normally,&#160; &lt;/p&gt;

&lt;p&gt;the` he query `select standard_ts from orders` throws a validation exception message as following:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Could not execute SQL statement. Reason:
 java.lang.AssertionError: Conversion to relational algebra failed to preserve datatypes:
 validated type:
 RecordType(VARCHAR(2147483647) CHARACTER SET &quot;UTF-16LE&quot; order_id, TIME ATTRIBUTE(ROWTIME) order_time, DOUBLE amount, DOUBLE amount_kg, TIMESTAMP(3) ts) NOT NULL
 converted type:
 RecordType(VARCHAR(2147483647) CHARACTER SET &quot;UTF-16LE&quot; order_id, TIME ATTRIBUTE(ROWTIME) order_time, DOUBLE amount, DOUBLE amount_kg, TIME ATTRIBUTE(ROWTIME) ts) NOT NULL
 rel:
 LogicalProject(order_id=[$0], order_time=[$1], amount=[$2], amount_kg=[$3], ts=[$4])
 LogicalWatermarkAssigner(rowtime=[order_time], watermark=[$1])
 LogicalProject(order_id=[$0], order_time=[$1], amount=[$2], amount_kg=[*($2, 1000)], ts=[+($1, 28800000:INTERVAL HOUR)])
 LogicalTableScan(table=[[default_catalog, default_database, orders, source: [Kafka010TableSource(order_id, order_time, amount)]]])
&#160;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13288322">FLINK-16345</key>
            <summary>Computed column can not refer time attribute column </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jark">Jark Wu</assignee>
                                    <reporter username="leonard">Leonard Xu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 28 Feb 2020 16:00:05 +0000</created>
                <updated>Thu, 16 Apr 2020 04:28:50 +0000</updated>
                            <resolved>Sun, 22 Mar 2020 09:43:05 +0000</resolved>
                                    <version>1.10.0</version>
                                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17048248" author="libenchao" created="Sat, 29 Feb 2020 08:33:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Leonard+Xu&quot; class=&quot;user-hover&quot; rel=&quot;Leonard Xu&quot;&gt;Leonard Xu&lt;/a&gt; Thanks for the reporting, it&apos;s indeed a bug.&lt;/p&gt;

&lt;p&gt;In &lt;tt&gt;CatalogTableSource.toRel&lt;/tt&gt; we applied computed column, and the result type differs with the rowType of &lt;tt&gt;CatalogTableSource&lt;/tt&gt;.&lt;br/&gt;
IMO, before we apply `convertToRexNodes`, we can remove time properties from the rowType, because we&apos;ll put add watermark later anyway which will add time attribute.&lt;/p&gt;</comment>
                            <comment id="17048808" author="jark" created="Mon, 2 Mar 2020 05:58:46 +0000"  >&lt;p&gt;&lt;tt&gt;standard_ts&lt;/tt&gt; is not a rowtime attribute, I think the bug is somewhere regard &lt;tt&gt;standard_ts&lt;/tt&gt; as a rowtime attribute. &lt;/p&gt;</comment>
                            <comment id="17060152" author="twalthr" created="Mon, 16 Mar 2020 11:53:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; to me this seems like a regular bug. Can we downgrade it to &quot;Major&quot; instead of &quot;Critical&quot;?&lt;/p&gt;</comment>
                            <comment id="17060640" author="danny0405" created="Tue, 17 Mar 2020 05:11:19 +0000"  >&lt;p&gt;I think the right place to fix is the SqlToOperationConverter#createTableSchema, before we make the computed column type inference, the time attribute should be patched up based on the watermark definitions.&lt;/p&gt;

&lt;p&gt;The logic seems a little tricky, from the DDL definition, the watermark definition is &quot;after&quot; the computed column, so should we translate the computed column with time attributes or with normal types ?&lt;/p&gt;

&lt;p&gt;From the logical plan generation, we patched the time attributes to the table source, thus the computed column translation works based on that, but from the DDL, it seems there is no need the column &quot;standard_ts&quot; must be a time attribute column.&lt;/p&gt;</comment>
                            <comment id="17060653" author="jark" created="Tue, 17 Mar 2020 05:57:38 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=danny0405&quot; class=&quot;user-hover&quot; rel=&quot;danny0405&quot;&gt;danny0405&lt;/a&gt;, I guess you may misunderstood this issue. Here I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=libenchao&quot; class=&quot;user-hover&quot; rel=&quot;libenchao&quot;&gt;libenchao&lt;/a&gt;&apos;s way which is also the PR I submitted. &lt;/p&gt;

&lt;p&gt;&lt;tt&gt;SqlToOperationConverter#createTableSchema&lt;/tt&gt; does all the things right, it&apos;s just a encapsulation of the DDL information. It&apos;s not the cause of this issue. The root cause is we are using &lt;tt&gt;CatalogSourceTable#rowType&lt;/tt&gt; to generate RexNodes for computed column. However, &lt;tt&gt;CatalogSourceTable#rowType&lt;/tt&gt; is patched with time indicators, so &lt;tt&gt;order_time&lt;/tt&gt; and &lt;tt&gt;order_time + INTERVAL &apos;8&apos; HOUR&lt;/tt&gt; are both ROWTIME TIMESTAMP according to the Calcite&apos;s type inference. &lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;CatalogSourceTable#rowType&lt;/tt&gt; contains rowtime indicator is also correct, becuase it represents the whole row type of the DDL (including watermarks). The bug indeed is that RexNode generation uses  &lt;tt&gt;CatalogSourceTable#rowType&lt;/tt&gt;. The responsibility of &lt;tt&gt;CatalogSourceTable#toRel&lt;/tt&gt; is converting DDL into 3 RelNodes: TableScan, Project, and Watermark. So before watermark node, there shouldn&apos;t be any rowtime indicators. That&apos;s why I think the erasion of time indicator happens in &lt;tt&gt;CatalogSourceTable#toRel&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Another idea is building a new rowType using the &lt;tt&gt;catalogTable#getSchema&lt;/tt&gt; which doesn&apos;t contain rowtime indicators. In this way, we will not have something generates first then remove.&lt;/p&gt;

</comment>
                            <comment id="17062254" author="danny0405" created="Thu, 19 Mar 2020 03:10:02 +0000"  >&lt;p&gt;Let me re-represent the cause of the issue in detail:&lt;/p&gt;

&lt;p&gt;Assumes we have a DDL&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; t(
  &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;timestamp&lt;/span&gt;,
  b &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt; - &lt;span class=&quot;code-keyword&quot;&gt;INTERVAL&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;5&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;HOUR&lt;/span&gt;,
  WATERMARK &lt;span class=&quot;code-keyword&quot;&gt;FOR&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;
)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In SqlToOperationConverter, during TableSchema generation, when we do a type inference for column b, we actually recard column a as a normal&lt;br/&gt;
timestamp type column, so the result type of b is also a normal timestamp.&lt;span class=&quot;error&quot;&gt;&amp;#91;A&amp;#93;&lt;/span&gt; So the generated schema is:&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
  +- a: TIMESTAMP&lt;br/&gt;
  +- b as a - INTERVAL &apos;5&apos; HOUR: TIMESTAMP&lt;/p&gt;

&lt;p&gt;Then we generates the CatalogSchemaTable and patched up time attributes for the row type ROW(a: TIMESTAMP, b:TIMESTAMP),&lt;br/&gt;
based on the watermark definition, we think that a is a rowtime, so the row type becomes: ROW(a: RowTimeType, b:TIMESTAMP).&lt;/p&gt;

&lt;p&gt;Then in CatalogSourceTable, we generates the node for column b with expression &quot;a - INTERVAL &apos;5&apos; HOUR&quot; with patched row type ROW(a: RowTimeType, b:TIMESTAMP), this time we have a inference that the result type is a rowtype.&lt;span class=&quot;error&quot;&gt;&amp;#91;B&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Basically i think that:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;CatalogSchemaTable and CatalogSourceTable all have correct patched row type as an unexpanded logical table;&lt;/li&gt;
	&lt;li&gt;There is no need to do any type erase because 1: There is alreay a tool to do that RelTimeIndicatorConverter(although it does nothing to TableScan) 2: if we want to erase, why we generates it firstly 3: row type is immutable, we generates it once and reuse it everywhere.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The root cause is that logic &lt;span class=&quot;error&quot;&gt;&amp;#91;A&amp;#93;&lt;/span&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;B&amp;#93;&lt;/span&gt; are in-consistent while actually they have the same logic. Erase the time attributes may work for this case but seems hacky.&lt;/p&gt;</comment>
                            <comment id="17063124" author="jark" created="Fri, 20 Mar 2020 06:48:18 +0000"  >&lt;p&gt;After an offline discussion with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=danny0405&quot; class=&quot;user-hover&quot; rel=&quot;danny0405&quot;&gt;danny0405&lt;/a&gt;, we reached an consensus that erasing time indicators in &lt;tt&gt;CatalogSourceTable#toRel&lt;/tt&gt; is the only way to fix this for now. So we will keep the current implementation in PR. &lt;/p&gt;</comment>
                            <comment id="17064195" author="jark" created="Sun, 22 Mar 2020 07:42:28 +0000"  >&lt;p&gt;Fixed in &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;master (1.11.0): 54395d9fcb3ab7b7ad6548e9003e24c24f9081c4&lt;/li&gt;
	&lt;li&gt;1.10.1: fa181e7759bca90bc83dc9f0eceac0f504386129&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17080146" author="xingoo" created="Fri, 10 Apr 2020 00:59:55 +0000"  >&lt;p&gt;I fix the code like&#160;1.10.1: fa181e7759bca90bc83dc9f0eceac0f504386129.&lt;/p&gt;

&lt;p&gt;But when I use join in streaming, I found this exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//&#20195;&#30721;&#21344;&#20301;&#31526;
&lt;/span&gt;Flink SQL&amp;gt; CREATE TABLE kafka_test1 (
&amp;gt; &#160; id varchar,
&amp;gt; &#160; a varchar,
&amp;gt; &#160; b &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
&amp;gt; &#160; ts as PROCTIME()
&amp;gt; ) WITH (
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.type&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;kafka&apos;&lt;/span&gt;,&#160; &#160; &#160; &#160;
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.version&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;0.11&apos;&lt;/span&gt;,
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.topic&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;,
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.properties.zookeeper.connect&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;localnode2:2181&apos;&lt;/span&gt;,
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.properties.bootstrap.servers&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;localnode2:9092&apos;&lt;/span&gt;,
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.properties.group.id&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;testGroup&apos;&lt;/span&gt;,
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.startup-mode&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;latest-offset&apos;&lt;/span&gt;,
&amp;gt; &#160; &lt;span class=&quot;code-quote&quot;&gt;&apos;format.type&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;json&apos;&lt;/span&gt;
&amp;gt; )
&amp;gt; ;
[INFO] Table has been created.


Flink SQL&amp;gt; select a.*,b.* from kafka_test1 a join hbase_test1 FOR SYSTEM_TIME AS OF a.ts as b on a.id = b.rowkey;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//&#20195;&#30721;&#21344;&#20301;&#31526;
&lt;/span&gt;[ERROR] Could not execute SQL statement. Reason:
java.lang.AssertionError: Conversion to relational algebra failed to preserve datatypes:
validated type:
RecordType(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; id, VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; a, INTEGER b, TIMESTAMP(3) NOT NULL ts, VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; rowkey, RecordType:peek_no_expand(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; a, INTEGER b) f) NOT NULL
converted type:
RecordType(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; id, VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; a, INTEGER b, TIME ATTRIBUTE(PROCTIME) NOT NULL ts, VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; rowkey, RecordType:peek_no_expand(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; a, INTEGER b) f) NOT NULL
rel:
LogicalProject(id=[$0], a=[$1], b=[$2], ts=[$3], rowkey=[$4], f=[$5])
&#160; LogicalCorrelate(correlation=[$cor1], joinType=[&lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt;], requiredColumns=[{0, 3}])
&#160; &#160; LogicalProject(id=[$0], a=[$1], b=[$2], ts=[PROCTIME()])
&#160; &#160; &#160; LogicalTableScan(table=[[tgou, collie, kafka_test1, source: [Kafka011TableSource(id, a, b)]]])
&#160; &#160; LogicalFilter(condition=[=($cor1.id, $0)])
&#160; &#160; &#160; LogicalSnapshot(period=[$cor1.ts])
&#160; &#160; &#160; &#160; LogicalTableScan(table=[[tgou, collie, hbase_test1, source: [HBaseTableSource[schema=[rowkey, f], projectFields=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]]]])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is this code can not work with proctime?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17080288" author="jark" created="Fri, 10 Apr 2020 07:08:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xingoo&quot; class=&quot;user-hover&quot; rel=&quot;xingoo&quot;&gt;xingoo&lt;/a&gt;, could you try to build release-1.10 branch for yourself and try the query again?&lt;/p&gt;</comment>
                            <comment id="17084448" author="xingoo" created="Thu, 16 Apr 2020 00:24:40 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;. I build the pull request on 1.10.0, and the code is refer to the 1.10.1, but it doesn&apos;t work.&lt;/p&gt;</comment>
                            <comment id="17084529" author="jark" created="Thu, 16 Apr 2020 04:28:50 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xingoo&quot; class=&quot;user-hover&quot; rel=&quot;xingoo&quot;&gt;xingoo&lt;/a&gt;, sorry, I couldn&apos;t reproduce your problem using your code even on 1.10.0. Is that exactly the code you are using? It&apos;s quite simple and shouldn&apos;t be a problem. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c0a0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>