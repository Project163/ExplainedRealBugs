<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1235] Compiler rejectes non-nested iterations in constant path of an Iteration.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1235</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description></description>
                <environment></environment>
        <key id="12754774">FLINK-1235</key>
            <summary>Compiler rejectes non-nested iterations in constant path of an Iteration.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Nov 2014 15:12:22 +0000</created>
                <updated>Thu, 28 Feb 2019 14:30:13 +0000</updated>
                            <resolved>Wed, 12 Nov 2014 22:39:23 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>API / DataSet</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14208359" author="hsaputra" created="Wed, 12 Nov 2014 18:01:45 +0000"  >&lt;p&gt;HI Stephan, could you add more information on how to reproduce this issue?&lt;/p&gt;</comment>
                            <comment id="14208390" author="stephanewen" created="Wed, 12 Nov 2014 18:21:27 +0000"  >&lt;p&gt;The observation is based on a job posted by Maximilian Alber on the users mailing list.&lt;/p&gt;

&lt;p&gt;I have a condensed version that produces the error as a test case. I can add that (with an option to ignore the test, as it obviously does not yet pass).&lt;/p&gt;</comment>
                            <comment id="14208609" author="stephanewen" created="Wed, 12 Nov 2014 20:14:39 +0000"  >&lt;p&gt;This branch has a test that reproduces the error (&lt;a href=&quot;https://github.com/StephanEwen/incubator-flink/blob/FLINK1235/flink-compiler/src/test/java/org/apache/flink/compiler/NestedIterationsTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/StephanEwen/incubator-flink/blob/FLINK1235/flink-compiler/src/test/java/org/apache/flink/compiler/NestedIterationsTest.java&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;The optimizer correctly rejects nested iterations and accepts iterations in constant paths. The JobGraphGenerator, which takes the optimized program and creates the data flow schedule does not properly handle those cases, yet.&lt;/p&gt;</comment>
                            <comment id="14208652" author="stephanewen" created="Wed, 12 Nov 2014 20:46:12 +0000"  >&lt;p&gt;Update: The runtime does not support iteration nesting right now.&lt;/p&gt;

&lt;p&gt;Inside iterations, you can join / cogroup / cross with data that is &quot;loop invariant&quot;. We call that the &quot;static path&quot; of that operator. When that an iteration occurs in the static path of another iteration, those two are not really nested: the on in the static path has to finish before the other one can execute.&lt;/p&gt;

&lt;p&gt;The recursive nature of the translation incorrectly identifies them as nested, though.&lt;/p&gt;</comment>
                            <comment id="14208660" author="githubbot" created="Wed, 12 Nov 2014 20:50:52 +0000"  >&lt;p&gt;GitHub user StephanEwen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/198&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/198&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1235&quot; title=&quot;Compiler rejectes non-nested iterations in constant path of an Iteration.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1235&quot;&gt;&lt;del&gt;FLINK-1235&lt;/del&gt;&lt;/a&gt; Compiler accepts iterations referenced from the static path of other iterations&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fix NepheleJobGraphGenerator to support iterations referenced on the static path of another iteration&lt;/li&gt;
	&lt;li&gt;Catch nested iterations on dynamic path properly in optimizer (and give a good error message)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/StephanEwen/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/StephanEwen/incubator-flink&lt;/a&gt; FLINK1235&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/198.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/198.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #198&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 21b1b975ccb50e1831172894bde96c6d3269dc57&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-11-12T15:21:59Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1235&quot; title=&quot;Compiler rejectes non-nested iterations in constant path of an Iteration.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1235&quot;&gt;&lt;del&gt;FLINK-1235&lt;/del&gt;&lt;/a&gt; Compiler accepts iterations referenced from the static path of other iterations&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fix NepheleJobGraphGenerator to support iterations referenced on the static path of another iteration&lt;/li&gt;
	&lt;li&gt;Catch nested iterations on dynamic path properly in optimizer (and give a good error message)&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="14208822" author="githubbot" created="Wed, 12 Nov 2014 22:38:16 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/198#issuecomment-62808541&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/198#issuecomment-62808541&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Manually merged in 21b1b975ccb50e1831172894bde96c6d3269dc57&lt;/p&gt;</comment>
                            <comment id="14208823" author="githubbot" created="Wed, 12 Nov 2014 22:38:17 +0000"  >&lt;p&gt;Github user StephanEwen closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/198&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/198&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14208825" author="stephanewen" created="Wed, 12 Nov 2014 22:39:23 +0000"  >&lt;p&gt;Fixed via 21b1b975ccb50e1831172894bde96c6d3269dc57&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22a8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>