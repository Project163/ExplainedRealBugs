<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:20:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-35098] Incorrect results for queries like &quot;10 &gt;= y&quot; on tables using Filesystem connector and Orc format</title>
                <link>https://issues.apache.org/jira/browse/FLINK-35098</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When working with ORC files, there is an issue with evaluation of SQL queries containing expressions with a literal as the first operand. Specifically, the query &lt;b&gt;10 &amp;gt;= y&lt;/b&gt;&#160;does not always return the correct result.&lt;/p&gt;

&lt;p&gt;This test added to OrcFileSystemITCase.java fails on the second check:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@TestTemplate
void testOrcFilterPushDownLiteralFirst() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ExecutionException, InterruptedException {
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.tableEnv()
            .executeSql(&lt;span class=&quot;code-quote&quot;&gt;&quot;insert into orcLimitTable values(&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;, 10, 10)&quot;&lt;/span&gt;)
            .await();

    List&amp;lt;Row&amp;gt; expected = Collections.singletonList(Row.of(10));
    check(&lt;span class=&quot;code-quote&quot;&gt;&quot;select y from orcLimitTable where y &amp;lt;= 10&quot;&lt;/span&gt;, expected);
    check(&lt;span class=&quot;code-quote&quot;&gt;&quot;select y from orcLimitTable where 10 &amp;gt;= y&quot;&lt;/span&gt;, expected);
}

Results &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not match &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; query:
&#160; select y from orcLimitTable where 10 &amp;gt;= y
Results
&#160;== Correct Result - 1 == &#160; == Actual Result - 0 ==
!+I[10] &#160;&#160; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The checks are equivalent and should evaluate to the same result. But the second query doesn&apos;t return the record with y=10.&lt;/p&gt;

&lt;p&gt;The table is defined as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create table orcLimitTable (
    x string,
    y &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
    a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) 
with (
    &lt;span class=&quot;code-quote&quot;&gt;&apos;connector&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;filesystem&apos;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&apos;path&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/junit4374176500101507155/junit7109291529844202275/&apos;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&apos;format&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;orc&apos;&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13575734">FLINK-35098</key>
            <summary>Incorrect results for queries like &quot;10 &gt;= y&quot; on tables using Filesystem connector and Orc format</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="empathy87">Andrey Gaskov</assignee>
                                    <reporter username="empathy87">Andrey Gaskov</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 13 Apr 2024 15:47:53 +0000</created>
                <updated>Tue, 14 May 2024 07:13:01 +0000</updated>
                            <resolved>Tue, 14 May 2024 07:11:26 +0000</resolved>
                                    <version>1.12.7</version>
                    <version>1.13.6</version>
                    <version>1.14.6</version>
                    <version>1.15.4</version>
                    <version>1.16.3</version>
                    <version>1.17.2</version>
                    <version>1.19.0</version>
                    <version>1.18.1</version>
                                    <fixVersion>1.18.2</fixVersion>
                    <fixVersion>1.20.0</fixVersion>
                    <fixVersion>1.19.1</fixVersion>
                                    <component>Connectors / ORC</component>
                    <component>Formats (JSON, Avro, Parquet, ORC, SequenceFile)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17836830" author="JIRAUSER305056" created="Sat, 13 Apr 2024 15:51:13 +0000"  >&lt;p&gt;Please, assign this issue to me. I know where it could be fixed.&lt;/p&gt;</comment>
                            <comment id="17836868" author="jeyhunkarimov" created="Sat, 13 Apr 2024 21:34:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=empathy87&quot; class=&quot;user-hover&quot; rel=&quot;empathy87&quot;&gt;empathy87&lt;/a&gt; sorry, I have been working on the issue in the time between you created the issue and you commented here, so I did not track your comment here. In any case, submission might have some issues (now closed), so you are welcome to submit your PR. Thanks&lt;/p&gt;</comment>
                            <comment id="17836879" author="JIRAUSER305056" created="Sun, 14 Apr 2024 03:41:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeyhunkarimov&quot; class=&quot;user-hover&quot; rel=&quot;jeyhunkarimov&quot;&gt;jeyhunkarimov&lt;/a&gt;, thank you! I submitted my PR.&lt;/p&gt;</comment>
                            <comment id="17846194" author="sergey nuyanzin" created="Tue, 14 May 2024 07:13:01 +0000"  >&lt;p&gt;Merged as&lt;br/&gt;
1.18: &lt;a href=&quot;https://github.com/apache/flink/commit/1f604da2dfc831d04826a20b3cb272d2ad9dfb56&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;1f604da2dfc831d04826a20b3cb272d2ad9dfb56&lt;/a&gt;&lt;br/&gt;
1.19: &lt;a href=&quot;https://github.com/apache/flink/commit/e16da86dfb1fbeee541cd9dfccd5f5f4520b7396&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;e16da86dfb1fbeee541cd9dfccd5f5f4520b7396&lt;/a&gt;&lt;br/&gt;
master: &lt;a href=&quot;https://github.com/apache/flink/commit/4165bac27bda4457e5940a994d923242d4a271dc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4165bac27bda4457e5940a994d923242d4a271dc&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1om9k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>