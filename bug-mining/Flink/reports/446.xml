<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2214] ALS predict and empiricalRisk function can cause hash join function to exceed maximum number of recursions</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2214</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Using the &lt;tt&gt;predict&lt;/tt&gt; or &lt;tt&gt;empiricalRisk&lt;/tt&gt; function of the &lt;tt&gt;ALS&lt;/tt&gt; class can cause the Flink job to fail with a {{Hash join exceeded maximum number of&lt;br/&gt;
recursions}} exceptions. This is due to a wrong build side for the hash join operation.&lt;/p&gt;

&lt;p&gt;This bug should be fixable by setting the correct join hints. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12837790">FLINK-2214</key>
            <summary>ALS predict and empiricalRisk function can cause hash join function to exceed maximum number of recursions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>ML</label>
                    </labels>
                <created>Mon, 15 Jun 2015 10:02:44 +0000</created>
                <updated>Fri, 26 Jun 2015 10:14:29 +0000</updated>
                            <resolved>Fri, 26 Jun 2015 10:14:29 +0000</resolved>
                                                                    <component>Library / Machine Learning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14585741" author="githubbot" created="Mon, 15 Jun 2015 10:15:01 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/836&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2214&quot; title=&quot;ALS predict and empiricalRisk function can cause hash join function to exceed maximum number of recursions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2214&quot;&gt;&lt;del&gt;FLINK-2214&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Adds join hints to ALS to avoid exceeding maximum number of recursions exception&lt;/p&gt;

&lt;p&gt;    Fixes prediction join operation and empirical risk join operation of ALS by giving join hint. The user factors and item factors matrices are now used as the build side of the hash join. &lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixALS&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/836.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/836.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #836&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 60a28de8bf71b5144dd68a1e2d18c04078631541&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-06-08T12:55:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2214&quot; title=&quot;ALS predict and empiricalRisk function can cause hash join function to exceed maximum number of recursions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2214&quot;&gt;&lt;del&gt;FLINK-2214&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Fixes prediction join operation and empirical risk join operation of ALS by giving join hint&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14588351" author="githubbot" created="Tue, 16 Jun 2015 16:46:07 +0000"  >&lt;p&gt;Github user tillrohrmann closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/836&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14588364" author="githubbot" created="Tue, 16 Jun 2015 16:55:10 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/844&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/844&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2214&quot; title=&quot;ALS predict and empiricalRisk function can cause hash join function to exceed maximum number of recursions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2214&quot;&gt;&lt;del&gt;FLINK-2214&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Fixes prediction join operation and empirical risk join operation of ALS by giving join hint&lt;/p&gt;

&lt;p&gt;    Fixes prediction join operation and empirical risk join operation of ALS by giving join hint. The user factors and item factors matrices are now used as the build side of the hash join.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixALS&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/844.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/844.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #844&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c7b3adce266d7d9df0fb5ce37bc096fa2825fdaf&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-06-16T16:53:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2214&quot; title=&quot;ALS predict and empiricalRisk function can cause hash join function to exceed maximum number of recursions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2214&quot;&gt;&lt;del&gt;FLINK-2214&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ml&amp;#93;&lt;/span&gt; Fixes prediction join operation and empirical risk join operation of ALS by giving join hint&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14589812" author="githubbot" created="Wed, 17 Jun 2015 14:24:39 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/844#issuecomment-112822761&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/844#issuecomment-112822761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    If there are no objections, I&apos;ll merge this PR in the evening.&lt;/p&gt;</comment>
                            <comment id="14595536" author="githubbot" created="Mon, 22 Jun 2015 09:00:14 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/844#issuecomment-114045049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/844#issuecomment-114045049&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The build side hinted here is also the constant (loop invariant) side, correct?&lt;/p&gt;</comment>
                            <comment id="14597327" author="githubbot" created="Tue, 23 Jun 2015 08:20:36 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/844#issuecomment-114403301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/844#issuecomment-114403301&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It&apos;s not a problem with the joins of the loop but instead with the single join of the empirical risk and prediction calculation.&lt;/p&gt;</comment>
                            <comment id="14602650" author="githubbot" created="Fri, 26 Jun 2015 10:13:04 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/844&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/844&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14602653" author="till.rohrmann" created="Fri, 26 Jun 2015 10:14:29 +0000"  >&lt;p&gt;Fixed via 38ee125e49544c329d3723e12bbf21c046af8964&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2g1g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>