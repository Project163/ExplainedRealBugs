<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:23:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4009] Scala Shell fails to find library for inclusion in test</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4009</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The Scala Shell test fails to find the flink-ml library jar in the target folder when executing with Intellij. This is due to its working directory being expected in &quot;flink-scala-shell/target&quot; when it is in fact &quot;flink-scala-shell&quot;. When executed with Maven, this works fine because the Shade plugin changes the basedir from the project root to the /target folder*. &lt;/p&gt;

&lt;p&gt;As per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=till.rohrmann&quot; class=&quot;user-hover&quot; rel=&quot;till.rohrmann&quot;&gt;till.rohrmann&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=greghogan&quot; class=&quot;user-hover&quot; rel=&quot;greghogan&quot;&gt;greghogan&lt;/a&gt; suggestions we could simply add flink-ml as a test dependency and look for the jar path in the classpath.&lt;/p&gt;

&lt;p&gt;&amp;#42; Because we have the dependencyReducedPomLocation set to /target/.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12975143">FLINK-4009</key>
            <summary>Scala Shell fails to find library for inclusion in test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mxm">Maximilian Michels</assignee>
                                    <reporter username="mxm">Maximilian Michels</reporter>
                        <labels>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 2 Jun 2016 12:20:54 +0000</created>
                <updated>Fri, 17 Jun 2016 11:48:24 +0000</updated>
                            <resolved>Fri, 17 Jun 2016 11:47:36 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Scala Shell</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15312234" author="greghogan" created="Thu, 2 Jun 2016 12:38:10 +0000"  >&lt;p&gt;Is this fix related to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=till.rohrmann&quot; class=&quot;user-hover&quot; rel=&quot;till.rohrmann&quot;&gt;till.rohrmann&lt;/a&gt;&apos;s suggested fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3454&quot; title=&quot;Add test dependencies on packaged jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3454&quot;&gt;&lt;del&gt;FLINK-3454&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;&amp;gt; What could help, though, is to find out the location of `flink-ml` and `flink-dist` from the provided classpath.&lt;/p&gt;</comment>
                            <comment id="15312254" author="mxm" created="Thu, 2 Jun 2016 12:56:35 +0000"  >&lt;p&gt;Yes, it is. I was running the test from IntelliJ. The baseDir is set to the project directory there. Running the test there didn&apos;t work. However, in the builds the Maven Shade plugin changes it to /target and then the path works fine.&lt;/p&gt;

&lt;p&gt;I created a patch to look in both variants of the basedir. However, I think Till&apos;s solution to use the classpath is much better.&lt;/p&gt;</comment>
                            <comment id="15312256" author="mxm" created="Thu, 2 Jun 2016 12:58:25 +0000"  >&lt;p&gt;By &quot;using the classpath&quot; I mean extracting the jar location from the classpath provided for the tests.&lt;/p&gt;</comment>
                            <comment id="15312269" author="greghogan" created="Thu, 2 Jun 2016 13:06:02 +0000"  >&lt;p&gt;I&apos;m not seeing this a duplicate but rather that &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3454&quot; title=&quot;Add test dependencies on packaged jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3454&quot;&gt;&lt;del&gt;FLINK-3454&lt;/del&gt;&lt;/a&gt; depends on this ticket per Till&apos;s solution. I don&apos;t have a fix to extract the jar location from the classpath.&lt;/p&gt;</comment>
                            <comment id="15312296" author="mxm" created="Thu, 2 Jun 2016 13:30:20 +0000"  >&lt;p&gt;Yes, this issue could be a sub task of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3454&quot; title=&quot;Add test dependencies on packaged jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3454&quot;&gt;&lt;del&gt;FLINK-3454&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You added the flink-ml dependency in the pom which ensures the library is added to the test&apos;s class path. Then, the classpath is searched by the test which could be fixed in this issue.&lt;/p&gt;</comment>
                            <comment id="15312297" author="mxm" created="Thu, 2 Jun 2016 13:30:48 +0000"  >&lt;p&gt;Reopening and converting to sub task of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3454&quot; title=&quot;Add test dependencies on packaged jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3454&quot;&gt;&lt;del&gt;FLINK-3454&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15333705" author="rmetzger" created="Thu, 16 Jun 2016 12:44:06 +0000"  >&lt;p&gt;Do we want to include this into the 1.1. release?&lt;/p&gt;</comment>
                            <comment id="15335894" author="mxm" created="Fri, 17 Jun 2016 11:39:02 +0000"  >&lt;p&gt;Not pressing IMHO.&lt;/p&gt;</comment>
                            <comment id="15335898" author="mxm" created="Fri, 17 Jun 2016 11:41:37 +0000"  >&lt;p&gt;Fixing this in the meantime with a simple lookup strategy.&lt;/p&gt;</comment>
                            <comment id="15335903" author="mxm" created="Fri, 17 Jun 2016 11:47:23 +0000"  >&lt;p&gt;Fixed with 4d8cbec4ffca033f5602a53205d65e535ffc5f97. Discuss for using the class path can continue in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3454&quot; title=&quot;Add test dependencies on packaged jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3454&quot;&gt;&lt;del&gt;FLINK-3454&lt;/del&gt;&lt;/a&gt;. We need to build a jar file during the test to load the classes in the shell.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12940576">FLINK-3454</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yvx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>