<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:17:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-31996] Chaining operators with different max parallelism prevents rescaling</title>
                <link>https://issues.apache.org/jira/browse/FLINK-31996</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;We might chain operators with different max parallelism together if they are set to have the same parallelism initially.&lt;/p&gt;

&lt;p&gt;When we decide to rescale the JobGraph vertices (using AdaptiveScheduler), we&apos;re gapped by the lowest maxParallelism of the operator chain. This is especially visible with things like CollectSink, TwoPhaseCommitSink, CDC, and a GlobalCommiter with maxParallelism set to 1.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;An obvious solution would be to prevent the chaining of operators with different maxParallelism, but we need to double-check this doesn&apos;t introduce a breaking change.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534928">FLINK-31996</key>
            <summary>Chaining operators with different max parallelism prevents rescaling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dmvk">David Mor&#225;vek</assignee>
                                    <reporter username="dmvk">David Mor&#225;vek</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 4 May 2023 08:22:02 +0000</created>
                <updated>Mon, 16 Oct 2023 11:26:16 +0000</updated>
                            <resolved>Thu, 6 Jul 2023 13:43:23 +0000</resolved>
                                                    <fixVersion>1.18.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17719206" author="gyfora" created="Thu, 4 May 2023 08:28:01 +0000"  >&lt;p&gt;In theory user can also break the operator chain by redeploying the job with a different parallelism setting and that should be compatible.&lt;br/&gt;
So I would expect this to not be a breaking change.&lt;/p&gt;</comment>
                            <comment id="17719212" author="davidmoravek" created="Thu, 4 May 2023 08:44:13 +0000"  >&lt;p&gt;The main question is whether we need an opt-out feature flag to allow people to revert to the old behavior.&lt;/p&gt;</comment>
                            <comment id="17719216" author="zentol" created="Thu, 4 May 2023 08:48:29 +0000"  >&lt;p&gt;&lt;cite&gt;So I would expect this to not be a breaking change.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;We need an opt-in flag because this change may break existing chains, which can result in certain types being serialized that previously weren&apos;t. This can affect performance  and savepoint compatibility.&lt;br/&gt;
E.g., if you have a job that is one big chain then your super special custom type doesn&apos;t go through Kryo. Users may also rely on the same object being passed through the job.&lt;/p&gt;</comment>
                            <comment id="17719217" author="gyfora" created="Thu, 4 May 2023 08:50:59 +0000"  >&lt;p&gt;Fair point &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; , I think you are completely right this cannot be the new default.&lt;/p&gt;</comment>
                            <comment id="17740607" author="zentol" created="Thu, 6 Jul 2023 13:43:23 +0000"  >&lt;p&gt;master: 58a849bcc497e17bf575e49946f106030f3e1a1a&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13535246">FLINK-32022</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13527017">FLINK-31316</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hogw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>