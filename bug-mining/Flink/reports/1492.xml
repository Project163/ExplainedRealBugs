<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:27:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-5631] [yarn] Support downloading additional jars from non-HDFS paths</title>
                <link>https://issues.apache.org/jira/browse/FLINK-5631</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently the &lt;tt&gt;YarnResourceManager&lt;/tt&gt; and &lt;tt&gt;YarnApplicationMasterRunner&lt;/tt&gt; always register the additional jars using the YARN filesystem object. This is problematic as the paths might require another filesystem.&lt;/p&gt;

&lt;p&gt;To support localizing from non-HDFS paths (e.g., s3, http or viewfs), the cleaner approach is to get the filesystem object from the path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13037498">FLINK-5631</key>
            <summary>[yarn] Support downloading additional jars from non-HDFS paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wheat9">Haohui Mai</assignee>
                                    <reporter username="wheat9">Haohui Mai</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2017 22:54:33 +0000</created>
                <updated>Wed, 2 Oct 2019 17:45:54 +0000</updated>
                            <resolved>Mon, 13 Feb 2017 19:55:16 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                                    <component>Deployment / YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15837036" author="githubbot" created="Wed, 25 Jan 2017 02:04:19 +0000"  >&lt;p&gt;GitHub user haohui opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5631&quot; title=&quot;[yarn] Support downloading additional jars from non-HDFS paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5631&quot;&gt;&lt;del&gt;FLINK-5631&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Support downloading additional jars from non-HDFS&#8230;&lt;/p&gt;

&lt;p&gt;    This PR enables Flink to support downloading additional jars from non-HDFS paths (e.g., S3, viewfs). More details are available in the jira.&lt;/p&gt;

&lt;p&gt;    There are two changes in this PR:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Refactoring the code for localization into a common function&lt;/li&gt;
	&lt;li&gt;Use `Path.getFileSystem()` to obtain the FileSystem object instead of always using the default FileSystem constructed using YARN config.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/haohui/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/haohui/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5631&quot; title=&quot;[yarn] Support downloading additional jars from non-HDFS paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5631&quot;&gt;&lt;del&gt;FLINK-5631&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3202.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3202.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3202&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f7d24c5a0559ca71cd49962c9dc0b4ab81997783&lt;br/&gt;
Author: Haohui Mai &amp;lt;wheat9@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-01-25T02:00:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5631&quot; title=&quot;[yarn] Support downloading additional jars from non-HDFS paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5631&quot;&gt;&lt;del&gt;FLINK-5631&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Support downloading additional jars from non-HDFS paths.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15846624" author="githubbot" created="Tue, 31 Jan 2017 10:14:50 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @haohui I think it would be nice to have this change without moving the function to a different class. Then the diffs would be easier to read (check what part of the functionality was actually changed).&lt;/p&gt;

&lt;p&gt;    If this is mainly about testing and visibility, then you can increase the visibility of the method from `private` to `package-private`, add a `@VisibleForTesting` annotation and place the test in the same package.&lt;/p&gt;</comment>
                            <comment id="15847434" author="githubbot" created="Tue, 31 Jan 2017 20:19:16 +0000"  >&lt;p&gt;Github user haohui commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the reviews.&lt;/p&gt;

&lt;p&gt;    It&apos;s more about readability of the code itself instead of testing and visibility. The two functions are fairly long and basically identical. Therefore I refactor the code a little bit to extract the common functions out into the Util class.&lt;/p&gt;

&lt;p&gt;    To facilitate reviews I separate the changes into two commits. The first commit contains the changes, and the second commit does the refactoring.&lt;/p&gt;

&lt;p&gt;    @StephanEwen please take another look.&lt;/p&gt;

</comment>
                            <comment id="15858619" author="wheat9" created="Wed, 8 Feb 2017 22:19:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; can you please take another look?&lt;/p&gt;</comment>
                            <comment id="15863644" author="githubbot" created="Mon, 13 Feb 2017 13:16:14 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The change looks good to me, +1 from my side&lt;/p&gt;</comment>
                            <comment id="15864315" author="githubbot" created="Mon, 13 Feb 2017 19:54:55 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3202&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15864316" author="stephanewen" created="Mon, 13 Feb 2017 19:55:16 +0000"  >&lt;p&gt;Fixed in 186b12309b540f82a055be28f3f005dce4b8cf46&lt;/p&gt;

&lt;p&gt;Thank you for the contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i395in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>