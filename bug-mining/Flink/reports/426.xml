<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2054] StreamOperator rework removed copy calls when passing output to a chained operator</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2054</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Before the recent rework of stream operators to be push based, operators held the semantics that any input (and also output to be specific) will not be mutated afterwards. This was achieved by simply copying records that were passed to other chained operators.&lt;/p&gt;

&lt;p&gt;This feature has been removed thus introducing a major break in the operator mutability guarantees. &lt;/p&gt;

&lt;p&gt;To make chaining viable in all cases (and to prevent hidden bugs) we need to reintroduce the copying logic. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12831308">FLINK-2054</key>
            <summary>StreamOperator rework removed copy calls when passing output to a chained operator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="gyfora">Gyula Fora</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 May 2015 08:34:17 +0000</created>
                <updated>Thu, 28 Feb 2019 11:15:32 +0000</updated>
                            <resolved>Mon, 8 Jun 2015 14:03:14 +0000</resolved>
                                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14564645" author="gyfora" created="Fri, 29 May 2015 11:57:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt; have you started working on this? &lt;/p&gt;

&lt;p&gt;I think we need to have this for the release.&lt;/p&gt;</comment>
                            <comment id="14564688" author="aljoscha" created="Fri, 29 May 2015 12:14:16 +0000"  >&lt;p&gt;No, I&apos;m working on getting the checkpointing correct: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2098&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-2098&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14576817" author="githubbot" created="Mon, 8 Jun 2015 09:36:48 +0000"  >&lt;p&gt;GitHub user aljoscha opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2054&quot; title=&quot;StreamOperator rework removed copy calls when passing output to a chained operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2054&quot;&gt;&lt;del&gt;FLINK-2054&lt;/del&gt;&lt;/a&gt; Add object-reuse switch for streaming&lt;/p&gt;

&lt;p&gt;    The switch was already there: enableObjectReuse() in ExecutionConfig.&lt;br/&gt;
    This was simply not considered by the streaming runtime. This change now&lt;br/&gt;
    draws a copy before forwarding an element to a chained operator when&lt;br/&gt;
    object reuse is disabled.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aljoscha/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/flink&lt;/a&gt; streaming-reuse-switch&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #803&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c1896ef6355f47f89215acff7eba9f944c461196&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-06-08T09:32:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2054&quot; title=&quot;StreamOperator rework removed copy calls when passing output to a chained operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2054&quot;&gt;&lt;del&gt;FLINK-2054&lt;/del&gt;&lt;/a&gt; Add object-reuse switch for streaming&lt;/p&gt;

&lt;p&gt;    The switch was already there: enableObjectReuse() in ExecutionConfig.&lt;br/&gt;
    This was simply not considered by the streaming runtime. This change now&lt;br/&gt;
    draws a copy before forwarding an element to a chained operator when&lt;br/&gt;
    object reuse is disabled.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14576998" author="githubbot" created="Mon, 8 Jun 2015 10:32:01 +0000"  >&lt;p&gt;Github user aljoscha commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803#issuecomment-109944731&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803#issuecomment-109944731&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ok, I&apos;m working on it.&lt;/p&gt;</comment>
                            <comment id="14577035" author="githubbot" created="Mon, 8 Jun 2015 11:18:00 +0000"  >&lt;p&gt;Github user gaborhermann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803#issuecomment-109955074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803#issuecomment-109955074&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    As a note: I&apos;ve just run into this issue at chained streaming aggregations when writing tests (not copying created wrong results). I will check again after this has been solved.&lt;/p&gt;</comment>
                            <comment id="14577040" author="githubbot" created="Mon, 8 Jun 2015 11:20:20 +0000"  >&lt;p&gt;Github user aljoscha commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803#issuecomment-109955810&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803#issuecomment-109955810&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I updated it. By default copying is on now. System operators can request to override the reuse setting.&lt;/p&gt;
</comment>
                            <comment id="14577045" author="githubbot" created="Mon, 8 Jun 2015 11:25:06 +0000"  >&lt;p&gt;Github user gaborhermann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803#issuecomment-109956597&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803#issuecomment-109956597&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks. It&apos;s working now.&lt;/p&gt;</comment>
                            <comment id="14577060" author="githubbot" created="Mon, 8 Jun 2015 11:42:34 +0000"  >&lt;p&gt;Github user gyfora commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803#issuecomment-109959598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803#issuecomment-109959598&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It looks good to me now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; :+1: &lt;/p&gt;

&lt;p&gt;    Later we can disable copy for our sinks as well, but we can do that after the release.&lt;/p&gt;</comment>
                            <comment id="14577229" author="githubbot" created="Mon, 8 Jun 2015 14:02:02 +0000"  >&lt;p&gt;Github user aljoscha closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/803&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14577231" author="aljoscha" created="Mon, 8 Jun 2015 14:03:14 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;https://github.com/apache/flink/commit/26304c20ab6aab33daba775736061102bd7a2409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/26304c20ab6aab33daba775736061102bd7a2409&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ez67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>