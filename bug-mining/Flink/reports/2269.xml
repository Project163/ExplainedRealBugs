<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:32:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8824] In Kafka Consumers, replace &apos;getCanonicalName()&apos; with &apos;getClassName()&apos;</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8824</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The connector uses &lt;tt&gt;getCanonicalName()&lt;/tt&gt; in&#160;all places, gather than &lt;tt&gt;getClassName()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;getCanonicalName()&lt;/tt&gt;&apos;s intention is to normalize class names for arrays, etc, but is problematic when instantiating classes from class names.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13141819">FLINK-8824</key>
            <summary>In Kafka Consumers, replace &apos;getCanonicalName()&apos; with &apos;getClassName()&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mingleizhang">zhangminglei</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Mar 2018 15:16:13 +0000</created>
                <updated>Wed, 2 Oct 2019 17:46:01 +0000</updated>
                            <resolved>Thu, 15 Mar 2018 16:56:59 +0000</resolved>
                                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Connectors / Kafka</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16383535" author="mingleizhang" created="Fri, 2 Mar 2018 12:24:10 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; The only problematic seems I can get like the following. Other than that, I think all good.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt; class
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(HashMap.SimpleEntry.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getName());
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(HashMap.SimpleEntry.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getCanonicalName());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Will print as follows&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.util.AbstractMap$SimpleEntry &lt;span class=&quot;code-comment&quot;&gt;// correct way
&lt;/span&gt;java.util.AbstractMap.SimpleEntry &lt;span class=&quot;code-comment&quot;&gt;// wrong way&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;








&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16383539" author="githubbot" created="Fri, 2 Mar 2018 12:37:58 +0000"  >&lt;p&gt;GitHub user zhangminglei opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5620&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5620&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8824&quot; title=&quot;In Kafka Consumers, replace &amp;#39;getCanonicalName()&amp;#39; with &amp;#39;getClassName()&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8824&quot;&gt;&lt;del&gt;FLINK-8824&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka&amp;#93;&lt;/span&gt; Replace getCanonicalName with getName&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;br/&gt;
    Since using ```getCanonicalName``` to get class name  there are potential problems. And it is mainly for  normalizing class names for array.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Replace it with ```getName```&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zhangminglei/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zhangminglei/flink&lt;/a&gt; flink-8824&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5620.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5620.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5620&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 634262b27b90cc1383c38ff8ac642f7aae522e71&lt;br/&gt;
Author: zhangminglei &amp;lt;zml13856086071@...&amp;gt;&lt;br/&gt;
Date:   2018-03-02T12:31:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8824&quot; title=&quot;In Kafka Consumers, replace &amp;#39;getCanonicalName()&amp;#39; with &amp;#39;getClassName()&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8824&quot;&gt;&lt;del&gt;FLINK-8824&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka&amp;#93;&lt;/span&gt; Replace getCanonicalName with getName&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16383765" author="stephanewen" created="Fri, 2 Mar 2018 16:14:10 +0000"  >&lt;p&gt;You are right, nested classes are the problematic case. Arrays and primitive types do not make sense in these places anyways.&lt;/p&gt;

&lt;p&gt;This one case (nested classes) is a good reason to fix this. Plus we set the right example for how to do things for future contributors.&lt;/p&gt;</comment>
                            <comment id="16388034" author="githubbot" created="Tue, 6 Mar 2018 16:21:32 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5620&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5620&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1&lt;/p&gt;

&lt;p&gt;    Looks good, merging this.&lt;/p&gt;</comment>
                            <comment id="16390163" author="githubbot" created="Wed, 7 Mar 2018 20:27:25 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5620&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5620&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16390221" author="stephanewen" created="Wed, 7 Mar 2018 20:58:14 +0000"  >&lt;p&gt;Fixed in&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;1.5.0 via 70347bcc788dea1d4f64539701e60bafcc772946&lt;/li&gt;
	&lt;li&gt;1.6.0 via 75a4aaea8b051aa6dae52d421f7b4d7eeab99486&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16400731" author="aljoscha" created="Thu, 15 Mar 2018 16:51:14 +0000"  >&lt;p&gt;reopen to remove 1.6.0 as fixVersion&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qqxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>