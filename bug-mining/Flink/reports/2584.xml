<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:34:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-10051] SQL client E2E test is missing dependencies</title>
                <link>https://issues.apache.org/jira/browse/FLINK-10051</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://travis-ci.org/zentol/flink-ci/builds/411668376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/zentol/flink-ci/builds/411668376&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The sql-client end-to-end test uses the dependency-plugin to copy a few jars into the /target directory. However since the module doesn&apos;t define dependencies on these jars there&apos;s no guarantee that these jars are built before the test, or even at all. This caused the tests to fail, since the kafka 0.11 connector wasn&apos;t at all and also wasn&apos;t available in the SNAPSHOT repository.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13176751">FLINK-10051</key>
            <summary>SQL client E2E test is missing dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="chesnay">Chesnay Schepler</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 3 Aug 2018 16:18:17 +0000</created>
                <updated>Thu, 28 Feb 2019 13:49:26 +0000</updated>
                            <resolved>Tue, 7 Aug 2018 07:55:46 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>Build System</component>
                    <component>Table SQL / API</component>
                    <component>Table SQL / Client</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16568433" author="githubbot" created="Fri, 3 Aug 2018 16:21:44 +0000"  >&lt;p&gt;zentol opened a new pull request #6486: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10051&quot; title=&quot;SQL client E2E test is missing dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10051&quot;&gt;&lt;del&gt;FLINK-10051&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;sql&amp;#93;&lt;/span&gt; Add missing depenendeices for sql client E2E test&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6486&lt;/a&gt;&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This PR adds missing dependencies to the sql-client end-to-end test.&lt;/p&gt;

&lt;p&gt;   The sql-client end-to-end test uses the dependency-plugin to copy a few jars into the /target directory. However since the module doesn&apos;t define dependencies on these jars there&apos;s no guarantee that these jars are built before the test, or even at all. This caused the tests to fail, since the kafka 0.11 connector wasn&apos;t at all and also wasn&apos;t available in the SNAPSHOT repository.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   add dependencies for all kafka connectors, avro and json.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   flink-ci build: &lt;a href=&quot;https://travis-ci.org/zentol/flink-ci/builds/411803521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/zentol/flink-ci/builds/411803521&lt;/a&gt;&lt;br/&gt;
   I modified the flink version to guard against the issue being obfuscated by existing SNAPSHOT artifacts.&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16569100" author="githubbot" created="Sat, 4 Aug 2018 06:50:13 +0000"  >&lt;p&gt;yanghua commented on issue #6486: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10051&quot; title=&quot;SQL client E2E test is missing dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10051&quot;&gt;&lt;del&gt;FLINK-10051&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;sql&amp;#93;&lt;/span&gt; Add missing depenendeices for sql client E2E test&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6486#issuecomment-410428717&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6486#issuecomment-410428717&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   +1&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16569876" author="githubbot" created="Mon, 6 Aug 2018 08:34:16 +0000"  >&lt;p&gt;twalthr commented on a change in pull request #6486: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10051&quot; title=&quot;SQL client E2E test is missing dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10051&quot;&gt;&lt;del&gt;FLINK-10051&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;sql&amp;#93;&lt;/span&gt; Add missing depenendeices for sql client E2E test&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6486#discussion_r207811795&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6486#discussion_r207811795&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -42,8 +42,55 @@ under the License.&lt;br/&gt;
 			&amp;lt;artifactId&amp;gt;scala-compiler&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
 		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
+		&amp;lt;dependency&amp;gt;&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   nit: Add a comment that a new jar has to be added here and in the bottom section.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16569900" author="githubbot" created="Mon, 6 Aug 2018 08:56:39 +0000"  >&lt;p&gt;zentol closed pull request #6486: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10051&quot; title=&quot;SQL client E2E test is missing dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10051&quot;&gt;&lt;del&gt;FLINK-10051&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;sql&amp;#93;&lt;/span&gt; Add missing depenendeices for sql client E2E test&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6486&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/flink-end-to-end-tests/flink-sql-client-test/pom.xml b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
index 46bc2bac50c..ec5a0e10360 100644&lt;br/&gt;
&amp;#8212; a/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
+++ b/flink-end-to-end-tests/flink-sql-client-test/pom.xml&lt;br/&gt;
@@ -42,8 +42,67 @@ under the License.&lt;br/&gt;
 			&amp;lt;artifactId&amp;gt;scala-compiler&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
 		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+		&amp;lt;!-- The following dependencies are for connector/format sql-jars that&lt;br/&gt;
+			we copy using the maven-dependency-plugin. When extending the test&lt;br/&gt;
+ 			to cover more connectors/formats, add a dependency here and an entry&lt;br/&gt;
+			to the dependency-plugin configuration below.&lt;br/&gt;
+			This ensures that all modules we actually need (as defined by the&lt;br/&gt;
+ 			dependency-plugin configuration) are built before this module. --&amp;gt;&lt;br/&gt;
+		&amp;lt;dependency&amp;gt;&lt;br/&gt;
+			&amp;lt;!-- Used by maven-dependency-plugin --&amp;gt;&lt;br/&gt;
+			&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+			&amp;lt;artifactId&amp;gt;flink-avro&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+			&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+			&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
+			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
+		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
+		&amp;lt;dependency&amp;gt;&lt;br/&gt;
+			&amp;lt;!-- Used by maven-dependency-plugin --&amp;gt;&lt;br/&gt;
+			&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+			&amp;lt;artifactId&amp;gt;flink-json&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+			&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+			&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
+			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
+		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
+		&amp;lt;dependency&amp;gt;&lt;br/&gt;
+			&amp;lt;!-- Used by maven-dependency-plugin --&amp;gt;&lt;br/&gt;
+			&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+			&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.9_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+			&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+			&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
+			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
+		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
+		&amp;lt;dependency&amp;gt;&lt;br/&gt;
+			&amp;lt;!-- Used by maven-dependency-plugin --&amp;gt;&lt;br/&gt;
+			&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+			&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.10_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+			&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+			&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
+			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
+		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
+		&amp;lt;dependency&amp;gt;&lt;br/&gt;
+			&amp;lt;!-- Used by maven-dependency-plugin --&amp;gt;&lt;br/&gt;
+			&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+			&amp;lt;artifactId&amp;gt;flink-connector-kafka-0.11_${scala.binary.version}&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+			&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+			&amp;lt;classifier&amp;gt;sql-jar&amp;lt;/classifier&amp;gt;&lt;br/&gt;
+			&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
+		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
 	&amp;lt;/dependencies&amp;gt;&lt;/p&gt;

&lt;p&gt;+	&amp;lt;dependencyManagement&amp;gt;&lt;br/&gt;
+		&amp;lt;dependencies&amp;gt;&lt;br/&gt;
+			&amp;lt;dependency&amp;gt;&lt;br/&gt;
+				&amp;lt;!-- Pick an arbitrary version here to satisfy the enforcer-plugin,&lt;br/&gt;
+					as we neither access nor package the kafka dependencies --&amp;gt;&lt;br/&gt;
+				&amp;lt;groupId&amp;gt;org.apache.kafka&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+				&amp;lt;artifactId&amp;gt;kafka-clients&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+				&amp;lt;version&amp;gt;0.11.0.2&amp;lt;/version&amp;gt;&lt;br/&gt;
+			&amp;lt;/dependency&amp;gt;&lt;br/&gt;
+		&amp;lt;/dependencies&amp;gt;&lt;br/&gt;
+	&amp;lt;/dependencyManagement&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
 	&amp;lt;build&amp;gt;&lt;br/&gt;
 		&amp;lt;plugins&amp;gt;&lt;br/&gt;
 			&amp;lt;!-- Build toolbox jar. --&amp;gt;&lt;br/&gt;
@@ -76,7 +135,9 @@ under the License.&lt;br/&gt;
 						&amp;lt;/goals&amp;gt;&lt;br/&gt;
 						&amp;lt;configuration&amp;gt;&lt;br/&gt;
 							&amp;lt;outputDirectory&amp;gt;${project.build.directory}/sql-jars&amp;lt;/outputDirectory&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;!-- List of currently provided SQL jars. --&amp;gt;&lt;br/&gt;
+							&amp;lt;!-- List of currently provided SQL jars. &lt;br/&gt;
+								When extending this list please also add a dependency&lt;br/&gt;
+								for the respective module. --&amp;gt;&lt;br/&gt;
 							&amp;lt;artifactItems&amp;gt;&lt;br/&gt;
 								&amp;lt;artifactItem&amp;gt;&lt;br/&gt;
 									&amp;lt;groupId&amp;gt;org.apache.flink&amp;lt;/groupId&amp;gt;&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16569903" author="zentol" created="Mon, 6 Aug 2018 08:57:51 +0000"  >&lt;p&gt;master: 75f39ce8b5c792fdeadef9fc117c04ab17660d40&lt;br/&gt;
1.6: 18a5a439312deb46c306ff44e9be2106cae06b8f&lt;/p&gt;</comment>
                            <comment id="16570368" author="zentol" created="Mon, 6 Aug 2018 15:35:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=till.rohrmann&quot; class=&quot;user-hover&quot; rel=&quot;till.rohrmann&quot;&gt;till.rohrmann&lt;/a&gt; Why did you re-open this issue?&lt;/p&gt;</comment>
                            <comment id="16571226" author="till.rohrmann" created="Tue, 7 Aug 2018 07:55:41 +0000"  >&lt;p&gt;In order to correct the fixVersion and then I forgot to close it again. Will do it now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3wo5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>