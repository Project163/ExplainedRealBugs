<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:56:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-21106] google-java-format Intellij Plugin 1.7.0.5 causes UnsupportedOperationException in IntelliJ</title>
                <link>https://issues.apache.org/jira/browse/FLINK-21106</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;There&apos;s a problem with &lt;tt&gt;google-java-format&lt;/tt&gt;&#160;Intellij plugin version &lt;tt&gt;1.7.0.5&lt;/tt&gt; that causes an &lt;tt&gt;UnsupportedOperationException&lt;/tt&gt; when creating a new Java class file. Besides the exception, an error dialog pops up and the newly created file is not properly formatted. A simple reformat solves the issue.&lt;/p&gt;

&lt;p&gt;This problem is caused by a bug that got fixed in the &lt;tt&gt;google-java-format&lt;/tt&gt; plugin&apos;s codebase in &lt;a href=&quot;https://github.com/google/google-java-format/commit/45fb41a7bac3dfe0726601ceb87d1c17bbf494ec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;45fb41a&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Unfortunately, this fix got released with the plugin version &lt;tt&gt;1.8.0.1&lt;/tt&gt; which we cannot upgrade to due to our limitations on sticking to Java 8 for now (see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-20803&quot; title=&quot;Version mismatch between spotless-maven-plugin and google-java-format plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-20803&quot;&gt;&lt;del&gt;FLINK-20803&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13354139">FLINK-21106</key>
            <summary>google-java-format Intellij Plugin 1.7.0.5 causes UnsupportedOperationException in IntelliJ</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mapohl">Matthias Pohl</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 23 Jan 2021 19:12:18 +0000</created>
                <updated>Mon, 16 Jan 2023 08:23:31 +0000</updated>
                            <resolved>Tue, 20 Apr 2021 10:37:45 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17270736" author="mapohl" created="Sat, 23 Jan 2021 19:16:16 +0000"  >&lt;p&gt;I worked around the issue for now by applying the patch below to the most recent &lt;tt&gt;google-java-format&lt;/tt&gt; plugin code and build the plugin from source (it essentially reverts&#160;&lt;a href=&quot;https://github.com/google/google-java-format/commit/c2c8a517c92fbf3553e53524057cd2ad8ae62962&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c2c8a51&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/idea_plugin/build.gradle b/idea_plugin/build.gradle
index 6ec1c21..32eb5a0 100644
--- a/idea_plugin/build.gradle
+++ b/idea_plugin/build.gradle
@@ -15,7 +15,7 @@
&#160; */

&#160;plugins {
- &#160;id &lt;span class=&quot;code-quote&quot;&gt;&quot;org.jetbrains.intellij&quot;&lt;/span&gt; version &lt;span class=&quot;code-quote&quot;&gt;&quot;0.4.22&quot;&lt;/span&gt;
+ &#160;id &lt;span class=&quot;code-quote&quot;&gt;&quot;org.jetbrains.intellij&quot;&lt;/span&gt; version &lt;span class=&quot;code-quote&quot;&gt;&quot;0.4.18&quot;&lt;/span&gt;
&#160;}

&#160;repositories {
@@ -23,7 +23,7 @@ repositories {
&#160;}

&#160;ext {
- &#160;googleJavaFormatVersion = &lt;span class=&quot;code-quote&quot;&gt;&apos;1.9&apos;&lt;/span&gt;
+ &#160;googleJavaFormatVersion = &lt;span class=&quot;code-quote&quot;&gt;&apos;1.7&apos;&lt;/span&gt;
&#160;}

&#160;apply plugin: &lt;span class=&quot;code-quote&quot;&gt;&apos;org.jetbrains.intellij&apos;&lt;/span&gt;
@@ -37,7 +37,7 @@ intellij {
&#160;patchPluginXml {
&#160; &#160;pluginDescription = &lt;span class=&quot;code-quote&quot;&gt;&quot;Formats source code using the google-java-format tool. This version of &quot;&lt;/span&gt; +
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;the plugin uses version ${googleJavaFormatVersion} of the tool.&quot;&lt;/span&gt;
- &#160;version = &lt;span class=&quot;code-quote&quot;&gt;&quot;${googleJavaFormatVersion}.0.0&quot;&lt;/span&gt;
+ &#160;version = &lt;span class=&quot;code-quote&quot;&gt;&quot;${googleJavaFormatVersion}-patched&quot;&lt;/span&gt;
&#160; &#160;sinceBuild = &lt;span class=&quot;code-quote&quot;&gt;&apos;201&apos;&lt;/span&gt;
&#160; &#160;untilBuild = &apos;&apos;
&#160;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can find the patched plugin attached to this Jira issue:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13019264/13019264_google-java-format-1.7-patched.zip&quot; title=&quot;google-java-format-1.7-patched.zip attached to FLINK-21106&quot;&gt;google-java-format-1.7-patched.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17270904" author="mapohl" created="Sun, 24 Jan 2021 14:48:20 +0000"  >&lt;p&gt;I created issue &lt;a href=&quot;https://github.com/google/google-java-format/issues/560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#560&lt;/a&gt; in the &lt;tt&gt;google-java-format&lt;/tt&gt; plugin repository to request a bugfix release.&lt;/p&gt;</comment>
                            <comment id="17271520" author="aljoscha" created="Mon, 25 Jan 2021 16:44:09 +0000"  >&lt;p&gt;Side note: I&apos;m just using the most recent IntelliJ plugin version and it&apos;s fine for all of my code so far. For the rare case where more recent versions of the plugin produce formatting that is incompatible with 1.7.5 our CI would catch it and I can run &lt;tt&gt;mvn spotless:apply&lt;/tt&gt; to fix it. &lt;/p&gt;</comment>
                            <comment id="17271656" author="mapohl" created="Mon, 25 Jan 2021 20:22:19 +0000"  >&lt;p&gt;Yeah, in the end it&apos;s only the newline in front of &lt;tt&gt;.stream()&lt;/tt&gt; that changed between google-java-format 1.7 and 1.9 as far as I know. And you&apos;re right in saying that there&apos;s an easy workaround for this by calling spotless:apply. But let&apos;s see whether we could get a bugfix release for the google-java-format plugin. That would make the workaround obsolete again.&lt;/p&gt;</comment>
                            <comment id="17272732" author="aljoscha" created="Wed, 27 Jan 2021 10:02:45 +0000"  >&lt;p&gt;Agreed!&lt;/p&gt;</comment>
                            <comment id="17325697" author="zentol" created="Tue, 20 Apr 2021 10:37:45 +0000"  >&lt;p&gt;master: 5588bc95382fc19643ae3ed93d05dbaaf80bbb6b&lt;/p&gt;</comment>
                            <comment id="17677223" author="mapohl" created="Mon, 16 Jan 2023 08:23:31 +0000"  >&lt;p&gt;FYI: version 1.7.0.6 was released in under the &lt;a href=&quot;https://plugins.jetbrains.com/plugin/8527-google-java-format/versions/stable/115957&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this link&lt;/a&gt;. This information was also made available in the &lt;a href=&quot;https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/flinkdev/ide_setup/#required-plugins&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink docs&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13348284">FLINK-20803</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13019264" name="google-java-format-1.7-patched.zip" size="5462173" author="mapohl" created="Sun, 24 Jan 2021 14:29:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mwrk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>