<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:28:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-6658] Use scala Collections in scala CEP API</title>
                <link>https://issues.apache.org/jira/browse/FLINK-6658</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description></description>
                <environment></environment>
        <key id="13073853">FLINK-6658</key>
            <summary>Use scala Collections in scala CEP API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dwysakowicz">Dawid Wysakowicz</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 May 2017 13:03:33 +0000</created>
                <updated>Sat, 27 May 2017 12:05:46 +0000</updated>
                            <resolved>Fri, 26 May 2017 21:30:01 +0000</resolved>
                                    <version>1.3.0</version>
                                                    <component>Library / CEP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16019689" author="githubbot" created="Mon, 22 May 2017 15:17:11 +0000"  >&lt;p&gt;GitHub user dawidwys opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6658&quot; title=&quot;Use scala Collections in scala CEP API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6658&quot;&gt;&lt;del&gt;FLINK-6658&lt;/del&gt;&lt;/a&gt; Use scala Collections in scala CEP API&lt;/p&gt;

&lt;p&gt;    Thanks for contributing to Apache Flink. Before you open your pull request, please take the following check list into consideration.&lt;br/&gt;
    If your changes take all of the items into account, feel free to open your pull request. For more information and/or questions please refer to the &lt;span class=&quot;error&quot;&gt;&amp;#91;How To Contribute guide&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://flink.apache.org/how-to-contribute.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://flink.apache.org/how-to-contribute.html&lt;/a&gt;).&lt;br/&gt;
    In addition to going through the list, please provide a meaningful description of your changes.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] General&lt;/li&gt;
	&lt;li&gt;The pull request references the related JIRA issue (&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;FLINK-XXX&amp;#93;&lt;/span&gt; Jira title text&quot;)&lt;/li&gt;
	&lt;li&gt;The pull request addresses only one issue&lt;/li&gt;
	&lt;li&gt;Each commit in the PR has a meaningful commit message (including the JIRA id)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Documentation&lt;/li&gt;
	&lt;li&gt;Documentation has been added for new functionality&lt;/li&gt;
	&lt;li&gt;Old documentation affected by the pull request has been updated&lt;/li&gt;
	&lt;li&gt;JavaDoc for public methods has been added&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Tests &amp;amp; Build&lt;/li&gt;
	&lt;li&gt;Functionality added by the pull request is covered by tests&lt;/li&gt;
	&lt;li&gt;`mvn clean verify` has been executed successfully locally or a Travis build has passed&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dawidwys/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dawidwys/flink&lt;/a&gt; cep-scala-api&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3963&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 91420bd00b37f93456d4c455698ccbf8f090b702&lt;br/&gt;
Author: Dawid Wysakowicz &amp;lt;dawid@getindata.com&amp;gt;&lt;br/&gt;
Date:   2017-05-22T15:14:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6658&quot; title=&quot;Use scala Collections in scala CEP API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6658&quot;&gt;&lt;del&gt;FLINK-6658&lt;/del&gt;&lt;/a&gt; Use scala Collections in scala CEP API&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16021172" author="githubbot" created="Tue, 23 May 2017 13:10:37 +0000"  >&lt;p&gt;Github user kl0u commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963#discussion_r117985885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963#discussion_r117985885&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-cep-scala/src/main/scala/org/apache/flink/cep/scala/package.scala &amp;#8212;&lt;br/&gt;
    @@ -40,7 +44,11 @@ package object scala {&lt;/p&gt;

&lt;p&gt;       private&lt;span class=&quot;error&quot;&gt;&amp;#91;flink&amp;#93;&lt;/span&gt; def cleanClosure&lt;span class=&quot;error&quot;&gt;&amp;#91;F &amp;lt;: AnyRef&amp;#93;&lt;/span&gt;(f: F, checkSerializable: Boolean = true): F = &lt;/p&gt;
{
         ClosureCleaner.clean(f, checkSerializable)
    -    return f
    +    f
    +  }
&lt;p&gt;    +&lt;br/&gt;
    +  private&lt;span class=&quot;error&quot;&gt;&amp;#91;flink&amp;#93;&lt;/span&gt; def mapToScala&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;(map: JMap[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;]): Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;] = {&lt;br/&gt;
    +    map.asScala.mapValues(_.asScala.toIterable).toMap&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Why not getting rid of the last `.toMap` and return a `collection.Map`? This will avoid an iteration over the elements of the `JMap` which is important given that this method will be invoked at every incoming element. From the rest, I think we are ok as the `asScala`s are just wrappers and the `.mapValues` are lazily evaluated.&lt;/p&gt;</comment>
                            <comment id="16021184" author="githubbot" created="Tue, 23 May 2017 13:26:22 +0000"  >&lt;p&gt;Github user kl0u commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963#discussion_r117989704&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963#discussion_r117989704&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-cep-scala/src/main/scala/org/apache/flink/cep/scala/PatternStream.scala &amp;#8212;&lt;br/&gt;
    @@ -296,25 +294,94 @@ class PatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;(jPatternStream: JPatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;timeout events wrapped in a [&lt;span class=&quot;error&quot;&gt;&amp;#91;Either&amp;#93;&lt;/span&gt;] type.&lt;br/&gt;
         */&lt;br/&gt;
       def flatSelect&lt;span class=&quot;error&quot;&gt;&amp;#91;L: TypeInformation, R: TypeInformation&amp;#93;&lt;/span&gt;(&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;patternFlatTimeoutFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;/li&gt;
	&lt;li&gt;patternFlatSelectFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
    +      patternFlatTimeoutFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;br/&gt;
    +      patternFlatSelectFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
         : DataStream[Either&lt;span class=&quot;error&quot;&gt;&amp;#91;L, R&amp;#93;&lt;/span&gt;] = {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         val cleanSelectFun = cleanClosure(patternFlatSelectFunction)&lt;br/&gt;
         val cleanTimeoutFun = cleanClosure(patternFlatTimeoutFunction)&lt;/p&gt;

&lt;p&gt;         val patternFlatSelectFun = new PatternFlatSelectFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, R&amp;#93;&lt;/span&gt; {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;override def flatSelect(pattern: JMap[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], out: Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;): Unit = 
{
    -        cleanSelectFun(pattern.asScala, out)
    +      override def flatSelect(pattern: JMap[String, JList[T]], out: Collector[R]): Unit =
    +        cleanSelectFun(mapToScala(pattern), out)
    +    }
&lt;p&gt;    +&lt;br/&gt;
    +    val patternFlatTimeoutFun = new PatternFlatTimeoutFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, L&amp;#93;&lt;/span&gt; &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {    +      override def timeout(    +        pattern}&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Why are the following two methods added?&lt;/p&gt;</comment>
                            <comment id="16021495" author="githubbot" created="Tue, 23 May 2017 17:11:42 +0000"  >&lt;p&gt;Github user dawidwys commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963#discussion_r118050667&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963#discussion_r118050667&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-cep-scala/src/main/scala/org/apache/flink/cep/scala/PatternStream.scala &amp;#8212;&lt;br/&gt;
    @@ -296,25 +294,94 @@ class PatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;(jPatternStream: JPatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;timeout events wrapped in a [&lt;span class=&quot;error&quot;&gt;&amp;#91;Either&amp;#93;&lt;/span&gt;] type.&lt;br/&gt;
         */&lt;br/&gt;
       def flatSelect&lt;span class=&quot;error&quot;&gt;&amp;#91;L: TypeInformation, R: TypeInformation&amp;#93;&lt;/span&gt;(&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;patternFlatTimeoutFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;/li&gt;
	&lt;li&gt;patternFlatSelectFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
    +      patternFlatTimeoutFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;br/&gt;
    +      patternFlatSelectFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
         : DataStream[Either&lt;span class=&quot;error&quot;&gt;&amp;#91;L, R&amp;#93;&lt;/span&gt;] = {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         val cleanSelectFun = cleanClosure(patternFlatSelectFunction)&lt;br/&gt;
         val cleanTimeoutFun = cleanClosure(patternFlatTimeoutFunction)&lt;/p&gt;

&lt;p&gt;         val patternFlatSelectFun = new PatternFlatSelectFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, R&amp;#93;&lt;/span&gt; {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;override def flatSelect(pattern: JMap[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], out: Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;): Unit = 
{
    -        cleanSelectFun(pattern.asScala, out)
    +      override def flatSelect(pattern: JMap[String, JList[T]], out: Collector[R]): Unit =
    +        cleanSelectFun(mapToScala(pattern), out)
    +    }
&lt;p&gt;    +&lt;br/&gt;
    +    val patternFlatTimeoutFun = new PatternFlatTimeoutFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, L&amp;#93;&lt;/span&gt; &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {    +      override def timeout(    +        pattern}&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This is the scala way of applying `flatFunction`. We also provide both of those alternatives for e.g. `DataStream#flatMap`.&lt;/p&gt;</comment>
                            <comment id="16021497" author="githubbot" created="Tue, 23 May 2017 17:13:21 +0000"  >&lt;p&gt;Github user kl0u commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963#discussion_r118051044&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963#discussion_r118051044&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-cep-scala/src/main/scala/org/apache/flink/cep/scala/PatternStream.scala &amp;#8212;&lt;br/&gt;
    @@ -296,25 +294,94 @@ class PatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;(jPatternStream: JPatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;timeout events wrapped in a [&lt;span class=&quot;error&quot;&gt;&amp;#91;Either&amp;#93;&lt;/span&gt;] type.&lt;br/&gt;
         */&lt;br/&gt;
       def flatSelect&lt;span class=&quot;error&quot;&gt;&amp;#91;L: TypeInformation, R: TypeInformation&amp;#93;&lt;/span&gt;(&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;patternFlatTimeoutFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;/li&gt;
	&lt;li&gt;patternFlatSelectFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
    +      patternFlatTimeoutFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;br/&gt;
    +      patternFlatSelectFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
         : DataStream[Either&lt;span class=&quot;error&quot;&gt;&amp;#91;L, R&amp;#93;&lt;/span&gt;] = {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         val cleanSelectFun = cleanClosure(patternFlatSelectFunction)&lt;br/&gt;
         val cleanTimeoutFun = cleanClosure(patternFlatTimeoutFunction)&lt;/p&gt;

&lt;p&gt;         val patternFlatSelectFun = new PatternFlatSelectFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, R&amp;#93;&lt;/span&gt; {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;override def flatSelect(pattern: JMap[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], out: Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;): Unit = 
{
    -        cleanSelectFun(pattern.asScala, out)
    +      override def flatSelect(pattern: JMap[String, JList[T]], out: Collector[R]): Unit =
    +        cleanSelectFun(mapToScala(pattern), out)
    +    }
&lt;p&gt;    +&lt;br/&gt;
    +    val patternFlatTimeoutFun = new PatternFlatTimeoutFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, L&amp;#93;&lt;/span&gt; &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {    +      override def timeout(    +        pattern}&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I was referring to the 2 methods that follow &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; . The ones that for example use the `foreach`.&lt;/p&gt;</comment>
                            <comment id="16021514" author="githubbot" created="Tue, 23 May 2017 17:32:44 +0000"  >&lt;p&gt;Github user dawidwys commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963#discussion_r118055738&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963#discussion_r118055738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-cep-scala/src/main/scala/org/apache/flink/cep/scala/PatternStream.scala &amp;#8212;&lt;br/&gt;
    @@ -296,25 +294,94 @@ class PatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;(jPatternStream: JPatternStream&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;timeout events wrapped in a [&lt;span class=&quot;error&quot;&gt;&amp;#91;Either&amp;#93;&lt;/span&gt;] type.&lt;br/&gt;
         */&lt;br/&gt;
       def flatSelect&lt;span class=&quot;error&quot;&gt;&amp;#91;L: TypeInformation, R: TypeInformation&amp;#93;&lt;/span&gt;(&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;patternFlatTimeoutFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;/li&gt;
	&lt;li&gt;patternFlatSelectFunction: (mutable.Map[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
    +      patternFlatTimeoutFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Long, Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;L&amp;#93;&lt;/span&gt;) =&amp;gt; Unit) (&lt;br/&gt;
    +      patternFlatSelectFunction: (Map[String, Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;) =&amp;gt; Unit)&lt;br/&gt;
         : DataStream[Either&lt;span class=&quot;error&quot;&gt;&amp;#91;L, R&amp;#93;&lt;/span&gt;] = {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         val cleanSelectFun = cleanClosure(patternFlatSelectFunction)&lt;br/&gt;
         val cleanTimeoutFun = cleanClosure(patternFlatTimeoutFunction)&lt;/p&gt;

&lt;p&gt;         val patternFlatSelectFun = new PatternFlatSelectFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, R&amp;#93;&lt;/span&gt; {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;override def flatSelect(pattern: JMap[String, JList&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;], out: Collector&lt;span class=&quot;error&quot;&gt;&amp;#91;R&amp;#93;&lt;/span&gt;): Unit = 
{
    -        cleanSelectFun(pattern.asScala, out)
    +      override def flatSelect(pattern: JMap[String, JList[T]], out: Collector[R]): Unit =
    +        cleanSelectFun(mapToScala(pattern), out)
    +    }
&lt;p&gt;    +&lt;br/&gt;
    +    val patternFlatTimeoutFun = new PatternFlatTimeoutFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;T, L&amp;#93;&lt;/span&gt; &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {    +      override def timeout(    +        pattern}&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Yes, I am also referring to those methods. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16023152" author="githubbot" created="Wed, 24 May 2017 16:14:29 +0000"  >&lt;p&gt;Github user kl0u commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963#discussion_r118297586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963#discussion_r118297586&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-cep-scala/src/main/scala/org/apache/flink/cep/scala/conditions/Context.scala &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,33 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.cep.scala.conditions&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.Serializable&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    +  * The context used when evaluating the &lt;/p&gt;
{@link IterativeCondition condition}
&lt;p&gt;.&lt;br/&gt;
    +  */&lt;br/&gt;
    +trait Context&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt; extends Serializable {&lt;br/&gt;
    +  /**&lt;br/&gt;
    +    * @return An &lt;/p&gt;
{ @link Iterable}
&lt;p&gt; over the already accepted elements&lt;br/&gt;
    +    *                    for a given pattern. Elements are iterated in the order they were&lt;br/&gt;
    +    *                    inserted in the pattern.&lt;br/&gt;
    +    * @param name The name of the pattern.&lt;br/&gt;
    +    */&lt;br/&gt;
    +  def apply(name: String): Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +}&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Why having different method names between Java and Scala? In Java this method is called `getEventsForPattern()`. We could rename both to sth like `getEventsForState()` if you agree, but I would suggest that same methods should have the same name and also, specifically for this, writing `context(stateName)` does not really seem nice. If you agree I can change it and then merge. &lt;/p&gt;</comment>
                            <comment id="16023339" author="githubbot" created="Wed, 24 May 2017 17:56:29 +0000"  >&lt;p&gt;Github user dawidwys commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963#discussion_r118322678&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963#discussion_r118322678&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-cep-scala/src/main/scala/org/apache/flink/cep/scala/conditions/Context.scala &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,33 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.cep.scala.conditions&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.Serializable&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    +  * The context used when evaluating the &lt;/p&gt;
{@link IterativeCondition condition}
&lt;p&gt;.&lt;br/&gt;
    +  */&lt;br/&gt;
    +trait Context&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt; extends Serializable {&lt;br/&gt;
    +  /**&lt;br/&gt;
    +    * @return An &lt;/p&gt;
{ @link Iterable}
&lt;p&gt; over the already accepted elements&lt;br/&gt;
    +    *                    for a given pattern. Elements are iterated in the order they were&lt;br/&gt;
    +    *                    inserted in the pattern.&lt;br/&gt;
    +    * @param name The name of the pattern.&lt;br/&gt;
    +    */&lt;br/&gt;
    +  def apply(name: String): Iterable&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +}&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Right I was also not really decided on that one. Of course you can change it.&lt;/p&gt;</comment>
                            <comment id="16026286" author="githubbot" created="Fri, 26 May 2017 13:41:37 +0000"  >&lt;p&gt;Github user kl0u commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @dawidwys merged this. Could you close the PR and the related JIRA?&lt;/p&gt;</comment>
                            <comment id="16027409" author="githubbot" created="Sat, 27 May 2017 12:05:46 +0000"  >&lt;p&gt;Github user dawidwys closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3963&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3963&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3famn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>