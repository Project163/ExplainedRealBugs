<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:14:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26890] DynamoDB consumer error consuming partitions close to retention</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26890</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;b&gt;Background&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;The Amazon Kinesis Data Streams consumer supports consuming from Amazon DynamoDB via the &lt;a href=&quot;https://github.com/awslabs/dynamodb-streams-kinesis-adapter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DynamoDB Streams Kinesis Adapter&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;&lt;b&gt;Problem&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;We have seen instances of consumer throwing &lt;tt&gt;ResouceNotFoundException&lt;/tt&gt; when attempting to invoke &lt;tt&gt;GetShardIterator&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
com.amazonaws.services.kinesis.model.ResourceNotFoundException: Requested resource not found: Shard does not exist 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;According to the DynamoDB team, the &lt;tt&gt;DescribeStream&lt;/tt&gt; call may return shard IDs that are no longer valid, and this exception needs to be handled by the client. &lt;/p&gt;

&lt;p&gt;&lt;b&gt;Solution&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Modify the DynamoDB consumer to treat &lt;tt&gt;ResourceNotFoundException&lt;/tt&gt; as a shard closed signal.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13436195">FLINK-26890</key>
            <summary>DynamoDB consumer error consuming partitions close to retention</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="elphastori">Elphas Toringepi</assignee>
                                    <reporter username="dannycranmer">Danny Cranmer</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 28 Mar 2022 15:13:35 +0000</created>
                <updated>Fri, 4 Nov 2022 12:33:33 +0000</updated>
                            <resolved>Fri, 4 Nov 2022 12:33:33 +0000</resolved>
                                    <version>1.16.0</version>
                    <version>1.15.2</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.15.3</fixVersion>
                    <fixVersion>1.16.1</fixVersion>
                                    <component>Connectors / Kinesis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17615886" author="elphastori" created="Tue, 11 Oct 2022 14:54:32 +0000"  >&lt;p&gt;I would like to take this.&lt;/p&gt;</comment>
                            <comment id="17615888" author="dannycranmer" created="Tue, 11 Oct 2022 14:55:25 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elphastori&quot; class=&quot;user-hover&quot; rel=&quot;elphastori&quot;&gt;elphastori&lt;/a&gt; , I have assigned to you&lt;/p&gt;</comment>
                            <comment id="17623813" author="elphastori" created="Tue, 25 Oct 2022 12:43:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dannycranmer&quot; class=&quot;user-hover&quot; rel=&quot;dannycranmer&quot;&gt;dannycranmer&lt;/a&gt; The PR is ready for review&lt;/p&gt;</comment>
                            <comment id="17628394" author="dannycranmer" created="Thu, 3 Nov 2022 15:51:54 +0000"  >&lt;p&gt;Merged:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/flink/commit/68adbcc8823a1f42e1911ddfd8ab5d4ea111043b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;68adbcc&lt;/tt&gt;&lt;/a&gt; into master&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/flink/commit/f410434e83558191bed2e9f0874f0634ca56dfa1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;f410434&lt;/tt&gt;&lt;/a&gt; into release-1.16&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/flink/commit/17bc1a0cab397f49edcef7cbaba306a35daaa263&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;17bc1a0&lt;/tt&gt;&lt;/a&gt; into release-1.15&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10w5c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>