<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:23:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3523] Storm SpoutSplitExample fails with a ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3523</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.ClassCastException: org.apache.flink.storm.util.SplitStreamType cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;
	at org.apache.flink.storm.wrappers.StormTuple.getInteger(StormTuple.java:152)
	at org.apache.flink.storm.split.operators.VerifyAndEnrichBolt.execute(VerifyAndEnrichBolt.java:52)
	at org.apache.flink.storm.wrappers.BoltWrapper.processElement(BoltWrapper.java:313)
	at org.apache.flink.streaming.runtime.io.StreamInputProcessor.processInput(StreamInputProcessor.java:168)
	at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask.run(OneInputStreamTask.java:65)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:224)
	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12944907">FLINK-3523</key>
            <summary>Storm SpoutSplitExample fails with a ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mjsax">Matthias J. Sax</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Feb 2016 14:17:10 +0000</created>
                <updated>Wed, 6 Apr 2016 14:44:49 +0000</updated>
                            <resolved>Wed, 6 Apr 2016 14:44:49 +0000</resolved>
                                                                    <component>Legacy Components / Storm Compatibility</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15220858" author="githubbot" created="Thu, 31 Mar 2016 23:28:06 +0000"  >&lt;p&gt;GitHub user mjsax opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3523&quot; title=&quot;Storm SpoutSplitExample fails with a ClassCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3523&quot;&gt;&lt;del&gt;FLINK-3523&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Storm-Compatibility&amp;#93;&lt;/span&gt; Added SplitStreamMapper to program&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230; to get rid of SplitStreamType wrapper&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mjsax/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mjsax/flink&lt;/a&gt; flink-3523-split-example&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1844&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8e518b548909b4604a427c3aca5fb2d33aabbb8f&lt;br/&gt;
Author: mjsax &amp;lt;mjsax@informatik.hu-berlin.de&amp;gt;&lt;br/&gt;
Date:   2016-03-31T23:23:30Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3523&quot; title=&quot;Storm SpoutSplitExample fails with a ClassCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3523&quot;&gt;&lt;del&gt;FLINK-3523&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Storm-Compatibility&amp;#93;&lt;/span&gt; Added SplitStreamMapper to program to get rid of SplitStreamType wrapper&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15224051" author="githubbot" created="Mon, 4 Apr 2016 12:46:47 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-205282397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-205282397&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM. Perhaps we could add a test case for this example?&lt;/p&gt;</comment>
                            <comment id="15224055" author="githubbot" created="Mon, 4 Apr 2016 12:52:03 +0000"  >&lt;p&gt;Github user mjsax commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-205283761&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-205283761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This is an additional example that runs forever &amp;#8211; it was never designed for getting tested. Furthermore, there are already two test for split-stream functionality.&lt;/p&gt;</comment>
                            <comment id="15224074" author="githubbot" created="Mon, 4 Apr 2016 12:58:22 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-205286176&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-205286176&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    IMHO we should have a way to check that examples are working properly. We don&apos;t have to address this in this PR though.&lt;/p&gt;</comment>
                            <comment id="15224138" author="githubbot" created="Mon, 4 Apr 2016 13:41:58 +0000"  >&lt;p&gt;Github user mjsax commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-205299917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-205299917&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Change example slightly (make it run finite and added a check for even/odd stream) and added IT-Case.&lt;/p&gt;</comment>
                            <comment id="15226034" author="githubbot" created="Tue, 5 Apr 2016 10:19:57 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-205744485&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-205744485&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    For the test, two comments:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Can you add it to another ITCase (saves bringing an extra mini cluster)&lt;/li&gt;
	&lt;li&gt;Also, it will probably not run on windows. Writing to a temp file and deleting that should make this compatible.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15226109" author="githubbot" created="Tue, 5 Apr 2016 11:46:05 +0000"  >&lt;p&gt;Github user mjsax commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-205767304&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-205767304&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Done. I needed to restructure class hierarchy, because `StreamingMultipleProgramsTestBase` did not provided methods for tmp-file handling...&lt;/p&gt;</comment>
                            <comment id="15227918" author="githubbot" created="Wed, 6 Apr 2016 08:02:51 +0000"  >&lt;p&gt;Github user mxm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#discussion_r58665510&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#discussion_r58665510&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-contrib/flink-storm-examples/src/main/java/org/apache/flink/storm/split/SpoutSplitExample.java &amp;#8212;&lt;br/&gt;
    @@ -84,16 +86,27 @@ public static void main(final String[] args) throws Exception {&lt;br/&gt;
     	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Same as 
{@link VerifyAndEnrichBolt}
&lt;p&gt;.&lt;br/&gt;
     	 */&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final static class Enrich implements MapFunction&amp;lt;Integer, Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; {&lt;br/&gt;
    +	public final static class Enrich implements MapFunction&amp;lt;Integer, Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; {&lt;br/&gt;
     		private static final long serialVersionUID = 5213888269197438892L;&lt;br/&gt;
     		private final Tuple2&amp;lt;String, Integer&amp;gt; out;&lt;br/&gt;
    +		private final boolean evenOrOdd; // true: even &amp;#8211; false: odd
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    How about `isEven` as name here?&lt;/p&gt;</comment>
                            <comment id="15227939" author="githubbot" created="Wed, 6 Apr 2016 08:24:03 +0000"  >&lt;p&gt;Github user mjsax commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-206214664&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-206214664&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Test fail on Java8 module... Can I merge this @StephanEwen ?&lt;/p&gt;</comment>
                            <comment id="15227940" author="githubbot" created="Wed, 6 Apr 2016 08:24:51 +0000"  >&lt;p&gt;Github user mjsax commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#discussion_r58668244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#discussion_r58668244&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-contrib/flink-storm-examples/src/main/java/org/apache/flink/storm/split/SpoutSplitExample.java &amp;#8212;&lt;br/&gt;
    @@ -84,16 +86,27 @@ public static void main(final String[] args) throws Exception {&lt;br/&gt;
     	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Same as 
{@link VerifyAndEnrichBolt}
&lt;p&gt;.&lt;br/&gt;
     	 */&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final static class Enrich implements MapFunction&amp;lt;Integer, Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; {&lt;br/&gt;
    +	public final static class Enrich implements MapFunction&amp;lt;Integer, Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; {&lt;br/&gt;
     		private static final long serialVersionUID = 5213888269197438892L;&lt;br/&gt;
     		private final Tuple2&amp;lt;String, Integer&amp;gt; out;&lt;br/&gt;
    +		private final boolean evenOrOdd; // true: even &amp;#8211; false: odd
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Sure. Can change it.&lt;/p&gt;</comment>
                            <comment id="15228170" author="githubbot" created="Wed, 6 Apr 2016 12:17:22 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844#issuecomment-206344827&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844#issuecomment-206344827&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 to merge&lt;/p&gt;</comment>
                            <comment id="15228379" author="githubbot" created="Wed, 6 Apr 2016 14:43:47 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1844&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1844&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15228381" author="mjsax" created="Wed, 6 Apr 2016 14:44:38 +0000"  >&lt;p&gt;fixed via 02ef68fb4adbd413fa159c35980412f280179cbf&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ttg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>