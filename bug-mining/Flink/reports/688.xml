<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:21:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3036] Gelly&apos;s Graph.fromCsvReader method returns wrongly parameterized Graph</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3036</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The Scala method &lt;tt&gt;Graph.fromCsvReader&lt;/tt&gt; of Gelly returns a wrongly typed &lt;tt&gt;Graph&lt;/tt&gt; instance. The problem is that no return type has been explicitly defined for the method. Additionally, the method returns fundamentally incompatible types depending on the given parameters. So for example, the method can return a &lt;tt&gt;Graph&lt;span class=&quot;error&quot;&gt;&amp;#91;Long, Long, Long&amp;#93;&lt;/span&gt;&lt;/tt&gt; if a vertex and edge file is specified (in this case with value type &lt;tt&gt;Long&lt;/tt&gt;). If the vertex file is not specified and neither a vertex value initializer, then the return type is &lt;tt&gt;Graph&lt;span class=&quot;error&quot;&gt;&amp;#91;Long, NullValue, Long&amp;#93;&lt;/span&gt;&lt;/tt&gt;. Since &lt;tt&gt;NullValue&lt;/tt&gt; and &lt;tt&gt;Long&lt;/tt&gt; have nothing in common, Scala&apos;s type inference infers that the &lt;tt&gt;fromCsvReader&lt;/tt&gt; method must have a return type &lt;tt&gt;Graph&lt;span class=&quot;error&quot;&gt;&amp;#91;Long, t  &amp;gt;: Long with NullValue, Long&amp;#93;&lt;/span&gt;&lt;/tt&gt; with &lt;tt&gt;t&lt;/tt&gt; being a supertype of &lt;tt&gt;Long with NullValue&lt;/tt&gt;. This type is not useful at all, since there is no such type. As a consequence, the user has to cast the resulting &lt;tt&gt;Graph&lt;/tt&gt; to have either the type &lt;tt&gt;Graph&lt;span class=&quot;error&quot;&gt;&amp;#91;Long, NullValue, Long&amp;#93;&lt;/span&gt;&lt;/tt&gt; or &lt;tt&gt;Graph&lt;span class=&quot;error&quot;&gt;&amp;#91;Long, Long, Long&amp;#93;&lt;/span&gt;&lt;/tt&gt; if he wants to do something more elaborate than just collecting the edges for example. &lt;/p&gt;

&lt;p&gt;This can be especially confusing because one usually writes something like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;val graph = Graph.fromCsvReader[&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;](...)
graph.run(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PageRank(...))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and does not see that the type of &lt;tt&gt;graph&lt;/tt&gt; is &lt;tt&gt;Graph[Long, t &amp;gt;: Double with NullValue, u &amp;gt;: Double with NullValue&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12913789">FLINK-3036</key>
            <summary>Gelly&apos;s Graph.fromCsvReader method returns wrongly parameterized Graph</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2015 17:20:10 +0000</created>
                <updated>Wed, 18 Nov 2015 15:09:59 +0000</updated>
                            <resolved>Wed, 18 Nov 2015 15:09:59 +0000</resolved>
                                    <version>0.10.0</version>
                                                    <component>Library / Graph Processing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15009081" author="githubbot" created="Tue, 17 Nov 2015 17:28:51 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1370&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1370&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3036&quot; title=&quot;Gelly&amp;#39;s Graph.fromCsvReader method returns wrongly parameterized Graph&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3036&quot;&gt;&lt;del&gt;FLINK-3036&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;gelly&amp;#93;&lt;/span&gt; Fix Graph.fromCsvReader method in Gelly&apos;s Scala API&lt;/p&gt;

&lt;p&gt;    The Graph.fromCsvReader in Gelly&apos;s Scala API returns a wrongly typed Graph instance because&lt;br/&gt;
    the implementation contains code paths with return types which are not compatible. This&lt;br/&gt;
    lead to a bad user experience.&lt;/p&gt;

&lt;p&gt;    This commit fixes this. However, it also introduces a slightly different behaviour and is&lt;br/&gt;
    thus API breaking. Before there were parameters hasEdgeValues and readVertices which&lt;br/&gt;
    controlled whether edge values and vertices shall be read. This is now implicitly controlled&lt;br/&gt;
    by the types of the vertex and edge value. If the type is NullValue for the edge values then&lt;br/&gt;
    the edge value won&apos;t be read from the given csv file. If the vertex value type is NullValue,&lt;br/&gt;
    then all vertices will have a value of a NullValue instance. If the pathVertices is not&lt;br/&gt;
    specified and the vertex value type is unequal to NullValue, then the vertexValueInitializer&lt;br/&gt;
    is used for the initialization.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixGelly&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1370.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1370.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1370&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2edec702ceac62ff8bbcdf7b6dda8f029d5f2bea&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-11-17T17:21:47Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3036&quot; title=&quot;Gelly&amp;#39;s Graph.fromCsvReader method returns wrongly parameterized Graph&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3036&quot;&gt;&lt;del&gt;FLINK-3036&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;gelly&amp;#93;&lt;/span&gt; Fix Graph.fromCsvReader method in Gelly&apos;s Scala API&lt;/p&gt;

&lt;p&gt;    The Graph.fromCsvReader in Gelly&apos;s Scala API returns a wrongly typed Graph instance because&lt;br/&gt;
    the implementation contains code paths with return types which are not compatible. This&lt;br/&gt;
    lead to a bad user experience.&lt;/p&gt;

&lt;p&gt;    This commit fixes this. However, it also introduces a slightly different behaviour and is&lt;br/&gt;
    thus API breaking. Before there were parameters hasEdgeValues and readVertices which&lt;br/&gt;
    controlled whether edge values and vertices shall be read. This is now implicitly controlled&lt;br/&gt;
    by the types of the vertex and edge value. If the type is NullValue for the edge values then&lt;br/&gt;
    the edge value won&apos;t be read from the given csv file. If the vertex value type is NullValue,&lt;br/&gt;
    then all vertices will have a value of a NullValue instance. If the pathVertices is not&lt;br/&gt;
    specified and the vertex value type is unequal to NullValue, then the vertexValueInitializer&lt;br/&gt;
    is used for the initialization.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15009461" author="githubbot" created="Tue, 17 Nov 2015 20:45:13 +0000"  >&lt;p&gt;Github user vasia commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1370#issuecomment-157500925&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1370#issuecomment-157500925&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks a lot for fixing this @tillrohrmann!&lt;br/&gt;
    I actually like the new behavior better &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Could you please also update the gelly guide?&lt;br/&gt;
    One more thing, some of the formatting changes you&apos;ve made are also present in #1356. I was planning to merge it, but you&apos;ll have to rebase this one. Let me know if that&apos;s OK or whether it&apos;s more convenient for you to merge #1356 and this one yourself. Thanks again!&lt;/p&gt;</comment>
                            <comment id="15010611" author="githubbot" created="Wed, 18 Nov 2015 09:40:21 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1370#issuecomment-157657885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1370#issuecomment-157657885&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @vasia, I can take care of merging both PRs. The overlapping parts don&apos;t seem to be too difficult to resolve.&lt;/p&gt;

&lt;p&gt;    Will update the gelly guide before merging.&lt;/p&gt;</comment>
                            <comment id="15010639" author="githubbot" created="Wed, 18 Nov 2015 09:47:27 +0000"  >&lt;p&gt;Github user vasia commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1370#issuecomment-157659857&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1370#issuecomment-157659857&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Awesome, thanks Till!&lt;/p&gt;</comment>
                            <comment id="15011149" author="githubbot" created="Wed, 18 Nov 2015 15:06:20 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1370&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1370&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15011157" author="till.rohrmann" created="Wed, 18 Nov 2015 15:09:59 +0000"  >&lt;p&gt;Fixed via b1cf626d8ef569479d8bbc5edd5d3331193f5867&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oiv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>