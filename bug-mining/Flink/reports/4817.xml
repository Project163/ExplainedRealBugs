<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:51:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-20200] SQL Hints are not supported in  &quot;Create View&quot; syntax</title>
                <link>https://issues.apache.org/jira/browse/FLINK-20200</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;I have aready set the config option `table.dynamic-table-options.enabled` to be true, but &quot;SQL Hints&quot; are not supported in View syntax. I got an error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.UnsupportedOperationException: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.calcite.sql.SqlSyntax$6: SPECIAL
	at org.apache.calcite.util.Util.needToImplement(Util.java:967)
	at org.apache.calcite.sql.SqlSyntax$6.unparse(SqlSyntax.java:116)
	at org.apache.calcite.sql.SqlOperator.unparse(SqlOperator.java:333)
	at org.apache.calcite.sql.SqlDialect.unparseCall(SqlDialect.java:470)
	at org.apache.calcite.sql.SqlCall.unparse(SqlCall.java:101)
	at org.apache.calcite.sql.SqlSelectOperator.unparse(SqlSelectOperator.java:176)
	at org.apache.calcite.sql.SqlDialect.unparseCall(SqlDialect.java:470)
	at org.apache.calcite.sql.SqlSelect.unparse(SqlSelect.java:246)
	at org.apache.calcite.sql.SqlNode.toSqlString(SqlNode.java:151)
	at org.apache.calcite.sql.SqlNode.toSqlString(SqlNode.java:173)
	at org.apache.calcite.sql.SqlNode.toSqlString(SqlNode.java:182)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.getQuotedSqlString(SqlToOperationConverter.java:784)
	at org.apache.flink.table.planner.utils.Expander$Expanded.substitute(Expander.java:169)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.convertViewQuery(SqlToOperationConverter.java:694)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.convertCreateView(SqlToOperationConverter.java:665)
	at org.apache.flink.table.planner.operations.SqlToOperationConverter.convert(SqlToOperationConverter.java:228)
	at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:78)
	at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:684)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The sql code is as follows&#65306;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
drop table &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; exists SourceA;
create table SourceA (
  id    string,
  name  string
) with (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;kafka-0.11&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;topic&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;MyTopic&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;properties.bootstrap.servers&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;localhost:9092&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;properties.group.id&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;Test&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;scan.startup.mode&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;group-offsets&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;format&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;csv&apos;&lt;/span&gt;
);

drop table &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; exists print;
create table print (
  id    string,
  name  string
) with (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;print&apos;&lt;/span&gt;
);

drop view &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; exists test_view;
create view test_view as
select
  *
from SourceA &lt;span class=&quot;code-comment&quot;&gt;/*+ OPTIONS(&lt;span class=&quot;code-quote&quot;&gt;&apos;properties.group.id&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;NewGroup&apos;&lt;/span&gt;) */&lt;/span&gt;;

insert into print
select * from test_view;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13341188">FLINK-20200</key>
            <summary>SQL Hints are not supported in  &quot;Create View&quot; syntax</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="godfreyhe">godfrey he</assignee>
                                    <reporter username="tinny">shizhengchao</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>stale-assigned</label>
                    </labels>
                <created>Wed, 18 Nov 2020 02:21:18 +0000</created>
                <updated>Sat, 19 Mar 2022 10:38:07 +0000</updated>
                                            <version>1.11.2</version>
                                    <fixVersion>1.11.3</fixVersion>
                    <fixVersion>1.12.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17234193" author="danny0405" created="Wed, 18 Nov 2020 02:55:31 +0000"  >&lt;p&gt;Thanks for reporting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tinny&quot; class=&quot;user-hover&quot; rel=&quot;tinny&quot;&gt;tinny&lt;/a&gt;, this should be a bug, i&apos;m fixing it ~&lt;/p&gt;</comment>
                            <comment id="17234462" author="jark" created="Wed, 18 Nov 2020 10:28:43 +0000"  >&lt;p&gt;Fixed in &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;master (1.12.0): 6221e3b4b30c345bf42776f67f1ca331e1de5814&lt;/li&gt;
	&lt;li&gt;1.11.3: 2cd54394d53221b368f9f274409fa4753df37c87&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17493097" author="godfreyhe" created="Wed, 16 Feb 2022 09:19:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://www.mail-archive.com/user-zh@flink.apache.org/msg10502.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.mail-archive.com/user-zh@flink.apache.org/msg10502.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://www.mail-archive.com/user-zh@flink.apache.org/msg14632.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.mail-archive.com/user-zh@flink.apache.org/msg14632.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The above fix is incomplete. Because class &lt;tt&gt;SqlTableRef&lt;/tt&gt; is not copied to legacy planner, once both planner jars are in the lib directory, and the classloader loads the classes in legacy planner first (the class &lt;tt&gt;SqlTableRef&lt;/tt&gt; in Calcite will be loaded, which is unexpected), the exception will occur. &lt;br/&gt;
The solution is: copy &lt;tt&gt;SqlTableRef&lt;/tt&gt; class in blink planner to legacy planner.&lt;/p&gt;</comment>
                            <comment id="17509239" author="flink-jira-bot" created="Sat, 19 Mar 2022 10:38:07 +0000"  >&lt;p&gt;I am the &lt;a href=&quot;https://github.com/apache/flink-jira-bot/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink Jira Bot&lt;/a&gt; and I help the community manage its development. I see this issue is assigned but has not received an update in 30 days, so it has been labeled &quot;stale-assigned&quot;.&lt;br/&gt;
If you are still working on the issue, please remove the label and add a comment updating the community on your progress.  If this issue is waiting on feedback, please consider this a reminder to the committer/reviewer. Flink is a very active project, and so we appreciate your patience.&lt;br/&gt;
If you are no longer working on the issue, please unassign yourself so someone else may work on it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0koqw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>