<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:27:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-5771] DelimitedInputFormat does not correctly handle multi-byte delimiters</title>
                <link>https://issues.apache.org/jira/browse/FLINK-5771</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The DelimitedInputFormat does not correctly handle multi-byte delimiters.&lt;/p&gt;

&lt;p&gt;The reader sometimes misses a delimiter if it is preceded by the first byte from the delimiter.  This results in two records (or more) being returned from a single call to nextRecord.&lt;/p&gt;

&lt;p&gt;See attached test case.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="13042019">FLINK-5771</key>
            <summary>DelimitedInputFormat does not correctly handle multi-byte delimiters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fhueske">Fabian Hueske</assignee>
                                    <reporter username="colinbreame">Colin Breame</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Feb 2017 09:53:30 +0000</created>
                <updated>Wed, 15 Feb 2017 23:00:34 +0000</updated>
                            <resolved>Wed, 15 Feb 2017 23:00:33 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.1.5</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>Connectors / FileSystem</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15861022" author="colinbreame" created="Fri, 10 Feb 2017 09:59:53 +0000"  >&lt;p&gt;The problem is in the loop found at line 570 of DelimitedInputFormat.java:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;			&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.readPos &amp;lt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.limit &amp;amp;&amp;amp; i &amp;lt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.delimiter.length) {
				&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.readBuffer[&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.readPos++]) == &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.delimiter[i]) {
					i++;
				} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
					i = 0;
				}
			}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15863507" author="fhueske" created="Mon, 13 Feb 2017 11:24:52 +0000"  >&lt;p&gt;Thanks for reporting this issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=colinbreame&quot; class=&quot;user-hover&quot; rel=&quot;colinbreame&quot;&gt;colinbreame&lt;/a&gt;. &lt;br/&gt;
I&apos;ll look into it.&lt;/p&gt;</comment>
                            <comment id="15867454" author="githubbot" created="Wed, 15 Feb 2017 08:32:22 +0000"  >&lt;p&gt;GitHub user fhueske opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3316&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5771&quot; title=&quot;DelimitedInputFormat does not correctly handle multi-byte delimiters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5771&quot;&gt;&lt;del&gt;FLINK-5771&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;core&amp;#93;&lt;/span&gt; Fix multi-char delimiter detection in DelimitedInputFormat&lt;/p&gt;

&lt;p&gt;    Fix multi-char delimiter detection in DelimitedInputFormat.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add a test case to validate correct delimiter detection.&lt;/li&gt;
	&lt;li&gt;Remove a couple of try-catch blocks from existing tests.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/fhueske/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/fhueske/flink&lt;/a&gt; delIFFix&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3316.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3316.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3316&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d1edaec0310bb10948d8080c1fffde7e716e0d7f&lt;br/&gt;
Author: Fabian Hueske &amp;lt;fhueske@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-02-14T21:02:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5771&quot; title=&quot;DelimitedInputFormat does not correctly handle multi-byte delimiters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5771&quot;&gt;&lt;del&gt;FLINK-5771&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;core&amp;#93;&lt;/span&gt; Fix multi-char delimiter detection in DelimitedInputFormat.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add a test case to validate correct delimiter detection.&lt;/li&gt;
	&lt;li&gt;Remove a couple of try-catch blocks from existing tests.&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15867886" author="githubbot" created="Wed, 15 Feb 2017 14:06:16 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3316&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Very good fix!&lt;/p&gt;

&lt;p&gt;    +1 to merge&lt;/p&gt;</comment>
                            <comment id="15868521" author="githubbot" created="Wed, 15 Feb 2017 20:37:12 +0000"  >&lt;p&gt;Github user fhueske commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3316&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    merging&lt;/p&gt;</comment>
                            <comment id="15868761" author="githubbot" created="Wed, 15 Feb 2017 22:55:49 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3316&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15868770" author="fhueske" created="Wed, 15 Feb 2017 23:00:34 +0000"  >&lt;p&gt;Fixed for 1.3.0 with d6a97e480e294e4779eb320a8b57983122a6cf63&lt;br/&gt;
Fixed for 1.2.1 with 3b4f6cf8c8283c221c8ab58f544cfe01c092fe6b&lt;br/&gt;
Fixed for 1.1.5 with 44f48b34e8be1810266e35d0c392d22494b098ba&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12852027" name="Test.java" size="1449" author="colinbreame" created="Fri, 10 Feb 2017 09:54:59 +0000"/>
                            <attachment id="12852029" name="test.txt" size="21" author="colinbreame" created="Fri, 10 Feb 2017 09:55:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39wgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>