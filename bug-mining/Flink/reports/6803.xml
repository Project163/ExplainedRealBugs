<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:15:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-28988] Incorrect result for filter after temporal join</title>
                <link>https://issues.apache.org/jira/browse/FLINK-28988</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The following code can reproduce the case&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TemporalJoinSQLExample1 {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

        &lt;span class=&quot;code-comment&quot;&gt;// set up the Java DataStream API
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();

        &lt;span class=&quot;code-comment&quot;&gt;// set up the Java Table API
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DataStreamSource&amp;lt;Tuple3&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, Instant&amp;gt;&amp;gt; ds =
                env.fromElements(
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple3&amp;lt;&amp;gt;(0, &lt;span class=&quot;code-quote&quot;&gt;&quot;online&quot;&lt;/span&gt;, Instant.ofEpochMilli(0)),
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple3&amp;lt;&amp;gt;(0, &lt;span class=&quot;code-quote&quot;&gt;&quot;offline&quot;&lt;/span&gt;, Instant.ofEpochMilli(10)),
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple3&amp;lt;&amp;gt;(0, &lt;span class=&quot;code-quote&quot;&gt;&quot;online&quot;&lt;/span&gt;, Instant.ofEpochMilli(20)));

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Table table =
                tableEnv.fromDataStream(
                                ds,
                                Schema.newBuilder()
                                        .column(&lt;span class=&quot;code-quote&quot;&gt;&quot;f0&quot;&lt;/span&gt;, DataTypes.INT())
                                        .column(&lt;span class=&quot;code-quote&quot;&gt;&quot;f1&quot;&lt;/span&gt;, DataTypes.STRING())
                                        .column(&lt;span class=&quot;code-quote&quot;&gt;&quot;f2&quot;&lt;/span&gt;, DataTypes.TIMESTAMP_LTZ(3))
                                        .watermark(&lt;span class=&quot;code-quote&quot;&gt;&quot;f2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;f2 - INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;2&apos;&lt;/span&gt; SECONDS&quot;&lt;/span&gt;)
                                        .build())
                        .as(&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;ts&quot;&lt;/span&gt;);
        tableEnv.createTemporaryView(&lt;span class=&quot;code-quote&quot;&gt;&quot;source_table&quot;&lt;/span&gt;, table);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Table dedupeTable =
                tableEnv.sqlQuery(
                        &lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT * FROM (&quot;&lt;/span&gt;
                                + &lt;span class=&quot;code-quote&quot;&gt;&quot; SELECT *, ROW_NUMBER() OVER (PARTITION BY id ORDER BY ts DESC) AS row_num FROM source_table&quot;&lt;/span&gt;
                                + &lt;span class=&quot;code-quote&quot;&gt;&quot;) WHERE row_num = 1&quot;&lt;/span&gt;);
        tableEnv.createTemporaryView(&lt;span class=&quot;code-quote&quot;&gt;&quot;versioned_table&quot;&lt;/span&gt;, dedupeTable);

        DataStreamSource&amp;lt;Tuple2&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;, Instant&amp;gt;&amp;gt; event =
                env.fromElements(
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple2&amp;lt;&amp;gt;(0, Instant.ofEpochMilli(0)),
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple2&amp;lt;&amp;gt;(0, Instant.ofEpochMilli(5)),
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple2&amp;lt;&amp;gt;(0, Instant.ofEpochMilli(10)),
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple2&amp;lt;&amp;gt;(0, Instant.ofEpochMilli(15)),
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple2&amp;lt;&amp;gt;(0, Instant.ofEpochMilli(20)),
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tuple2&amp;lt;&amp;gt;(0, Instant.ofEpochMilli(25)));

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Table eventTable =
                tableEnv.fromDataStream(
                                event,
                                Schema.newBuilder()
                                        .column(&lt;span class=&quot;code-quote&quot;&gt;&quot;f0&quot;&lt;/span&gt;, DataTypes.INT())
                                        .column(&lt;span class=&quot;code-quote&quot;&gt;&quot;f1&quot;&lt;/span&gt;, DataTypes.TIMESTAMP_LTZ(3))
                                        .watermark(&lt;span class=&quot;code-quote&quot;&gt;&quot;f1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;f1 - INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;2&apos;&lt;/span&gt; SECONDS&quot;&lt;/span&gt;)
                                        .build())
                        .as(&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;ts&quot;&lt;/span&gt;);

        tableEnv.createTemporaryView(&lt;span class=&quot;code-quote&quot;&gt;&quot;event_table&quot;&lt;/span&gt;, eventTable);

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Table result =
                tableEnv.sqlQuery(
                        &lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT * FROM event_table&quot;&lt;/span&gt;
                                + &lt;span class=&quot;code-quote&quot;&gt;&quot; LEFT JOIN versioned_table FOR SYSTEM_TIME AS OF event_table.ts&quot;&lt;/span&gt;
                                + &lt;span class=&quot;code-quote&quot;&gt;&quot; ON event_table.id = versioned_table.id&quot;&lt;/span&gt;);
        result.execute().print();

        result.filter($(&lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;).isEqual(&lt;span class=&quot;code-quote&quot;&gt;&quot;online&quot;&lt;/span&gt;)).execute().print();
    }
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The result of temporal join is the following:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;op&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160;id&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ts&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; id0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;state&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ts0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160;row_num&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; online&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.005&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; online&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.010&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;offline&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.010&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.015&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;offline&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.010&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.020&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; online&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.020&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.025&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; online&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.020&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;After filtering with predicate state = &apos;online&apos;, I expect only the two rows with state offline will be filtered out. But I got the following result:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;op&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160;id&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ts&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; id0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;state&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ts0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160;row_num&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.020&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; online&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.020&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+I&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.025&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; online&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1970-01-01 08:00:00.020&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13476990">FLINK-28988</key>
            <summary>Incorrect result for filter after temporal join</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="csq">Shuiqiang Chen</assignee>
                                    <reporter username="sxnan">Xuannan Su</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 16 Aug 2022 07:58:05 +0000</created>
                <updated>Fri, 18 Oct 2024 19:36:16 +0000</updated>
                            <resolved>Mon, 5 Dec 2022 12:32:56 +0000</resolved>
                                    <version>1.15.1</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.16.1</fixVersion>
                                    <component>Table SQL / API</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17597255" author="csq" created="Mon, 29 Aug 2022 15:27:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuannan&quot; class=&quot;user-hover&quot; rel=&quot;xuannan&quot;&gt;xuannan&lt;/a&gt; Thank you for reporting the issue. I have also reproduced the output with the code snippet you provided in the latest master branch.  I would like to have a deep dive into the issue.&lt;/p&gt;</comment>
                            <comment id="17600135" author="csq" created="Mon, 5 Sep 2022 03:04:33 +0000"  >&lt;p&gt;TLDR: The filters in aboveFilter should not be pushed down into right table when it is a temporal join.&lt;/p&gt;

&lt;p&gt;when there&apos;s no filter after temporal join, the query is explained as below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
== Abstract Syntax Tree ==
LogicalProject(id=[$0], ts=[$1], id0=[$2], state=[$3], ts0=[$4], row_num=[$5])
+- LogicalCorrelate(correlation=[$cor0], joinType=[left], requiredColumns=[{0, 1}])
   :- LogicalProject(id=[AS($0, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt;)], ts=[AS($1, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;ts&apos;&lt;/span&gt;)])
   :  +- LogicalWatermarkAssigner(rowtime=[f1], watermark=[-($1, 2000:INTERVAL SECOND)])
   :     +- LogicalTableScan(table=[[*anonymous_datastream_source$2*]])
   +- LogicalFilter(condition=[=($cor0.id, $0)])
      +- LogicalSnapshot(period=[$cor0.ts])
         +- LogicalProject(id=[$0], state=[$1], ts=[$2], row_num=[$3])
            +- LogicalFilter(condition=[=($3, 1)])
               +- LogicalProject(id=[AS($0, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt;)], state=[AS($1, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;state&apos;&lt;/span&gt;)], ts=[AS($2, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;ts&apos;&lt;/span&gt;)], row_num=[ROW_NUMBER() OVER (PARTITION BY AS($0, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt;) ORDER BY AS($2, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;ts&apos;&lt;/span&gt;) DESC NULLS LAST)])
                  +- LogicalWatermarkAssigner(rowtime=[f2], watermark=[-($2, 2000:INTERVAL SECOND)])
                     +- LogicalTableScan(table=[[*anonymous_datastream_source$1*]])

== Optimized Physical Plan ==
Calc(select=[id, ts, id0, state, CAST(ts0 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS ts0, row_num])
+- TemporalJoin(joinType=[LeftOuterJoin], where=[AND(=(id, id0), __TEMPORAL_JOIN_CONDITION(ts, ts0, __TEMPORAL_JOIN_CONDITION_PRIMARY_KEY(id0), __TEMPORAL_JOIN_LEFT_KEY(id), __TEMPORAL_JOIN_RIGHT_KEY(id0)))], select=[id, ts, id0, state, ts0, row_num])
   :- Exchange(distribution=[hash[id]])
   :  +- Calc(select=[f0 AS id, f1 AS ts])
   :     +- WatermarkAssigner(rowtime=[f1], watermark=[-(f1, 2000:INTERVAL SECOND)])
   :        +- TableSourceScan(table=[[*anonymous_datastream_source$2*]], fields=[f0, f1])
   +- Exchange(distribution=[hash[id]])
      +- Calc(select=[$0 AS id, $1 AS state, $2 AS ts, 1:BIGINT AS row_num])
         +- Deduplicate(keep=[LastRow], key=[$0], order=[ROWTIME])
            +- Exchange(distribution=[hash[$0]])
               +- Calc(select=[f0 AS $0, f1 AS $1, f2 AS $2])
                  +- WatermarkAssigner(rowtime=[f2], watermark=[-(f2, 2000:INTERVAL SECOND)])
                     +- TableSourceScan(table=[[*anonymous_datastream_source$1*]], fields=[f0, f1, f2])

== Optimized Execution Plan ==
Calc(select=[id, ts, id0, state, CAST(ts0 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS ts0, row_num])
+- TemporalJoin(joinType=[LeftOuterJoin], where=[((id = id0) AND __TEMPORAL_JOIN_CONDITION(ts, ts0, __TEMPORAL_JOIN_CONDITION_PRIMARY_KEY(id0), __TEMPORAL_JOIN_LEFT_KEY(id), __TEMPORAL_JOIN_RIGHT_KEY(id0)))], select=[id, ts, id0, state, ts0, row_num])
   :- Exchange(distribution=[hash[id]])
   :  +- Calc(select=[f0 AS id, f1 AS ts])
   :     +- WatermarkAssigner(rowtime=[f1], watermark=[(f1 - 2000:INTERVAL SECOND)])
   :        +- TableSourceScan(table=[[*anonymous_datastream_source$2*]], fields=[f0, f1])
   +- Exchange(distribution=[hash[id]])
      +- Calc(select=[$0 AS id, $1 AS state, $2 AS ts, 1 AS row_num])
         +- Deduplicate(keep=[LastRow], key=[$0], order=[ROWTIME])
            +- Exchange(distribution=[hash[$0]])
               +- Calc(select=[f0 AS $0, f1 AS $1, f2 AS $2])
                  +- WatermarkAssigner(rowtime=[f2], watermark=[(f2 - 2000:INTERVAL SECOND)])
                     +- TableSourceScan(table=[[*anonymous_datastream_source$1*]], fields=[f0, f1, f2])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And after the FlinkChangelogModeInferenceProgram, the UpdateKindTrait of Deduplicate(keep=&lt;span class=&quot;error&quot;&gt;&amp;#91;LastRow&amp;#93;&lt;/span&gt;, key=&lt;span class=&quot;error&quot;&gt;&amp;#91;$0&amp;#93;&lt;/span&gt;, order=&lt;span class=&quot;error&quot;&gt;&amp;#91;ROWTIME&amp;#93;&lt;/span&gt;) will be come &lt;span class=&quot;error&quot;&gt;&amp;#91;ONLY_UPDATE_AFTER&amp;#93;&lt;/span&gt;. Therefore,  during  execution runtime, the rightSortedState in TemporalRowTimeJoinOperator contains the following rows:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I, 0, online, 1970-01-01 08:00:00.000&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I, 0, offline, 1970-01-01 08:00:00.010&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I, 0, online, 1970-01-01 08:00:00.020&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;So we can get the expected temporal join result:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.000,0,online,970-01-01 08:00:00.000 ,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.005,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.0010,0,offline,1970-01-01 08:00:00.010,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.0015,0,offline,1970-01-01 08:00:00.010,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.020,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.025,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;However, if the filter was pushed down into the right table, the right sorted state will bocome:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I, 0, online, 1970-01-01 08:00:00.000&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I, 0, online, 1970-01-01 08:00:00.020&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;and the temporal join result will become:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.000,0,online,970-01-01 08:00:00.000 ,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.005,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.0010,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.0015,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.020,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.025,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;while the expected result is:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.000,0,online,970-01-01 08:00:00.000 ,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.005,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.020,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.025,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;We can find that if the record in right table is filtered before join, the temporal join result may be wrong.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;However, when we added a filter after temporal join, the actual output is:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.020,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.025,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;this is not equal to &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.000,0,online,970-01-01 08:00:00.000 ,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.005,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.0010,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.0015,0,online,1970-01-01 08:00:00.000,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.020,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+I,0,1970-01-01 08:00:00.025,0,online,1970-01-01 08:00:00.020,1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;why?&lt;/b&gt;&lt;br/&gt;
we notice that the query with filter is explained as below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
== Abstract Syntax Tree ==
LogicalFilter(condition=[=($3, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;online&apos;&lt;/span&gt;)])
+- LogicalProject(id=[$0], ts=[$1], id0=[$2], state=[$3], ts0=[$4], row_num=[$5])
   +- LogicalCorrelate(correlation=[$cor0], joinType=[left], requiredColumns=[{0, 1}])
      :- LogicalProject(id=[AS($0, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt;)], ts=[AS($1, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;ts&apos;&lt;/span&gt;)])
      :  +- LogicalWatermarkAssigner(rowtime=[f1], watermark=[-($1, 2000:INTERVAL SECOND)])
      :     +- LogicalTableScan(table=[[*anonymous_datastream_source$2*]])
      +- LogicalFilter(condition=[=($cor0.id, $0)])
         +- LogicalSnapshot(period=[$cor0.ts])
            +- LogicalProject(id=[$0], state=[$1], ts=[$2], row_num=[$3])
               +- LogicalFilter(condition=[=($3, 1)])
                  +- LogicalProject(id=[AS($0, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt;)], state=[AS($1, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;state&apos;&lt;/span&gt;)], ts=[AS($2, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;ts&apos;&lt;/span&gt;)], row_num=[ROW_NUMBER() OVER (PARTITION BY AS($0, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt;) ORDER BY AS($2, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;ts&apos;&lt;/span&gt;) DESC NULLS LAST)])
                     +- LogicalWatermarkAssigner(rowtime=[f2], watermark=[-($2, 2000:INTERVAL SECOND)])
                        +- LogicalTableScan(table=[[*anonymous_datastream_source$1*]])

== Optimized Physical Plan ==
Calc(select=[id, ts, id0, CAST(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;online&apos;&lt;/span&gt;:VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; AS VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;) AS state, CAST(ts0 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS ts0, CAST(row_num AS BIGINT) AS row_num])
+- TemporalJoin(joinType=[InnerJoin], where=[AND(=(id, id0), __TEMPORAL_JOIN_CONDITION(ts, ts0, __TEMPORAL_JOIN_CONDITION_PRIMARY_KEY(id0), __TEMPORAL_JOIN_LEFT_KEY(id), __TEMPORAL_JOIN_RIGHT_KEY(id0)))], select=[id, ts, id0, ts0, row_num])
   :- Exchange(distribution=[hash[id]])
   :  +- Calc(select=[f0 AS id, f1 AS ts])
   :     +- WatermarkAssigner(rowtime=[f1], watermark=[-(f1, 2000:INTERVAL SECOND)])
   :        +- TableSourceScan(table=[[*anonymous_datastream_source$2*]], fields=[f0, f1])
   +- Exchange(distribution=[hash[id]])
      +- Calc(select=[$0 AS id, $2 AS ts, 1:BIGINT AS row_num], where=[=($1, _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;online&apos;&lt;/span&gt;)])
         +- Deduplicate(keep=[LastRow], key=[$0], order=[ROWTIME])
            +- Exchange(distribution=[hash[$0]])
               +- Calc(select=[f0 AS $0, f1 AS $1, f2 AS $2])
                  +- WatermarkAssigner(rowtime=[f2], watermark=[-(f2, 2000:INTERVAL SECOND)])
                     +- TableSourceScan(table=[[*anonymous_datastream_source$1*]], fields=[f0, f1, f2])

== Optimized Execution Plan ==
Calc(select=[id, ts, id0, CAST(&lt;span class=&quot;code-quote&quot;&gt;&apos;online&apos;&lt;/span&gt; AS VARCHAR(2147483647)) AS state, CAST(ts0 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS ts0, CAST(row_num AS BIGINT) AS row_num])
+- TemporalJoin(joinType=[InnerJoin], where=[((id = id0) AND __TEMPORAL_JOIN_CONDITION(ts, ts0, __TEMPORAL_JOIN_CONDITION_PRIMARY_KEY(id0), __TEMPORAL_JOIN_LEFT_KEY(id), __TEMPORAL_JOIN_RIGHT_KEY(id0)))], select=[id, ts, id0, ts0, row_num])
   :- Exchange(distribution=[hash[id]])
   :  +- Calc(select=[f0 AS id, f1 AS ts])
   :     +- WatermarkAssigner(rowtime=[f1], watermark=[(f1 - 2000:INTERVAL SECOND)])
   :        +- TableSourceScan(table=[[*anonymous_datastream_source$2*]], fields=[f0, f1])
   +- Exchange(distribution=[hash[id]])
      +- Calc(select=[$0 AS id, $2 AS ts, 1 AS row_num], where=[($1 = &lt;span class=&quot;code-quote&quot;&gt;&apos;online&apos;&lt;/span&gt;)])
         +- Deduplicate(keep=[LastRow], key=[$0], order=[ROWTIME])
            +- Exchange(distribution=[hash[$0]])
               +- Calc(select=[f0 AS $0, f1 AS $1, f2 AS $2])
                  +- WatermarkAssigner(rowtime=[f2], watermark=[(f2 - 2000:INTERVAL SECOND)])
                     +- TableSourceScan(table=[[*anonymous_datastream_source$1*]], fields=[f0, f1, f2])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There is a Calc(select=&lt;span class=&quot;error&quot;&gt;&amp;#91;$0 AS id, $2 AS ts, 1 AS row_num&amp;#93;&lt;/span&gt;, where=&lt;span class=&quot;error&quot;&gt;&amp;#91;($1 = &amp;#39;online&amp;#39;)&amp;#93;&lt;/span&gt;) between Exchange(distribution=[hash&lt;span class=&quot;error&quot;&gt;&amp;#91;id&amp;#93;&lt;/span&gt;]) and Deduplicate(keep=&lt;span class=&quot;error&quot;&gt;&amp;#91;LastRow&amp;#93;&lt;/span&gt;, key=&lt;span class=&quot;error&quot;&gt;&amp;#91;$0&amp;#93;&lt;/span&gt;, order=&lt;span class=&quot;error&quot;&gt;&amp;#91;ROWTIME&amp;#93;&lt;/span&gt;). According to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;FLINK-9528&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-16887&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;FLINK-16887&lt;/a&gt;, after the FlinkChangelogModeInferenceProgram, the UpdateKindTrait of Deduplicate(keep=&lt;span class=&quot;error&quot;&gt;&amp;#91;LastRow&amp;#93;&lt;/span&gt;, key=&lt;span class=&quot;error&quot;&gt;&amp;#91;$0&amp;#93;&lt;/span&gt;, order=&lt;span class=&quot;error&quot;&gt;&amp;#91;ROWTIME&amp;#93;&lt;/span&gt;) will be come &lt;span class=&quot;error&quot;&gt;&amp;#91;BEFORE_AND_AFTER&amp;#93;&lt;/span&gt;, that the Deduplicate operator will produce message with UPDATE_BEFORE message. As a result, the sortedRightState will become:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;-U, 0, online, 1970-01-01 08:00:00.000&amp;#93;&lt;/span&gt;&lt;br/&gt;
#&lt;span class=&quot;error&quot;&gt;&amp;#91;-U, 0, offline, 1970-01-01 08:00:00.010&amp;#93;&lt;/span&gt;, it is filtered&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;+U, 0, online, 1970-01-01 08:00:00.020&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Finally, only the &lt;span class=&quot;error&quot;&gt;&amp;#91;+U, 0, online, 1970-01-01 08:00:00.020&amp;#93;&lt;/span&gt; is joined, that&apos;s exactly equal to the actual output.&lt;/p&gt;

&lt;p&gt;Overall, the solution would be not to push the filters in above filters into right table when it&apos;s a temporal join.&lt;/p&gt;

</comment>
                            <comment id="17600199" author="csq" created="Mon, 5 Sep 2022 04:59:26 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;, could you please help evaluate the solution and review the pr? Thanks!&lt;/p&gt;</comment>
                            <comment id="17643318" author="godfrey" created="Mon, 5 Dec 2022 12:32:56 +0000"  >&lt;p&gt;Fixed in 1.17.0:&lt;/p&gt;

&lt;p&gt;b2203eaef68364306dfcc27fb34ac82baefda3d3&lt;/p&gt;

&lt;p&gt;2851fac9c4c052876c80440b6b0b637603de06ea&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;1.16.1:&lt;/p&gt;

&lt;p&gt;17b42516ceb73fa342101aedf830df40a84d82bc&lt;/p&gt;

&lt;p&gt;c14355243995bff7b03a527ed073a2bbaab70ce8&lt;/p&gt;</comment>
                            <comment id="17656766" author="jingge" created="Tue, 10 Jan 2023 19:53:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csq&quot; class=&quot;user-hover&quot; rel=&quot;csq&quot;&gt;csq&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuannan&quot; class=&quot;user-hover&quot; rel=&quot;xuannan&quot;&gt;xuannan&lt;/a&gt; Is there a typo in the description?&#160;&lt;/p&gt;

&lt;p&gt;After filtering with predicate state = &apos;online&apos;, I expect only the &lt;del&gt;two&lt;/del&gt; &lt;font color=&quot;#FF0000&quot;&gt;four&lt;/font&gt; rows with state offline will be filtered.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17sc0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>After &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-28988&quot; title=&quot;Incorrect result for filter after temporal join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-28988&quot;&gt;&lt;strike&gt;FLINK-28988&lt;/strike&gt;&lt;/a&gt; applied, the filter will not be pushed down into both inputs of the event time temporal join.&lt;br/&gt;
Note this may cause incompatible plan changes compare to 1.16.0, e.g., when left input is an upsert source(use upsert-kafka connector), the query plan will remove the ChangelogNormalize node from which appeared in 1.16.0.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>