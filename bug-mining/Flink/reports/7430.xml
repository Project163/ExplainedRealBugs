<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:19:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-33798] Automatically clean up rocksdb logs when the task failover.</title>
                <link>https://issues.apache.org/jira/browse/FLINK-33798</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-24785&quot; title=&quot;Relocate RocksDB&amp;#39;s log under flink log directory by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-24785&quot;&gt;&lt;del&gt;FLINK-24785&lt;/del&gt;&lt;/a&gt; relocates rocksdb log, multiple rocksdb logs will be created under the flink log directory, but they are not cleaned up during task failover, resulting in a large number of rocksdb logs under the flink log directory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13561392">FLINK-33798</key>
            <summary>Automatically clean up rocksdb logs when the task failover.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liming">Ming Li</assignee>
                                    <reporter username="liming">Ming Li</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 11 Dec 2023 13:52:56 +0000</created>
                <updated>Thu, 14 Mar 2024 10:13:57 +0000</updated>
                            <resolved>Thu, 14 Mar 2024 10:13:57 +0000</resolved>
                                                    <fixVersion>1.17.3</fixVersion>
                    <fixVersion>1.18.2</fixVersion>
                    <fixVersion>1.20.0</fixVersion>
                    <fixVersion>1.19.1</fixVersion>
                                    <component>Runtime / State Backends</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17795377" author="fanrui" created="Mon, 11 Dec 2023 13:58:18 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liming&quot; class=&quot;user-hover&quot; rel=&quot;liming&quot;&gt;liming&lt;/a&gt; for reporting this bug.&lt;/p&gt;

&lt;p&gt;When the log isn&apos;t relocated, the log can be cleaned up with rocksdb data together after task is exited. As I understand, after relocation, they should be cleaned as well.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=masteryhx&quot; class=&quot;user-hover&quot; rel=&quot;masteryhx&quot;&gt;masteryhx&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17795576" author="masteryhx" created="Tue, 12 Dec 2023 03:26:18 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fanrui&quot; class=&quot;user-hover&quot; rel=&quot;fanrui&quot;&gt;fanrui&lt;/a&gt; pinging me here.&lt;/p&gt;

&lt;p&gt;I think you are right. The behavious after relocating is not consistent with before.&lt;/p&gt;

&lt;p&gt;We could make it.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liming&quot; class=&quot;user-hover&quot; rel=&quot;liming&quot;&gt;liming&lt;/a&gt; for reporting this and we could go ahead.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17825898" author="fanrui" created="Wed, 13 Mar 2024 03:57:38 +0000"  >&lt;p&gt;Merged to &lt;br/&gt;
master(1.20) via: 398bb5068703a6461e2e52a90c97078e4263059a&lt;br/&gt;
1.17 via: 09e448440b87d5c8add5044a6629026136b05559&lt;br/&gt;
1.18 via: 5a1fb807ab8b4bff8801bccb666e9f3d0cb716a0&lt;br/&gt;
1.19 via: 943d9a48fdcd13c881e8dc62b3e5df9cc3b64b5e&lt;/p&gt;</comment>
                            <comment id="17825899" author="fanrui" created="Wed, 13 Mar 2024 03:58:53 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liming&quot; class=&quot;user-hover&quot; rel=&quot;liming&quot;&gt;liming&lt;/a&gt;, IIUC, this JIRA is a file leak related bug instead of improvement, right?&lt;/p&gt;

&lt;p&gt;If so, would you mind backing port it to 1.17 , 1.18 and 1.19? thanks a lot&lt;/p&gt;</comment>
                            <comment id="17825913" author="liming" created="Wed, 13 Mar 2024 06:03:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fanrui&quot; class=&quot;user-hover&quot; rel=&quot;fanrui&quot;&gt;fanrui&lt;/a&gt;, good idea, I will back port to 1.17 , 1.18 and 1.19.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m6og:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>