<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7234] Fix CombineHint documentation</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7234</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;CombineHint&lt;/tt&gt; &lt;a href=&quot;https://ci.apache.org/projects/flink/flink-docs-release-1.4/dev/batch/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;documentation&lt;/a&gt; applies to &lt;tt&gt;DataSet#reduce&lt;/tt&gt; not &lt;tt&gt;DataSet#reduceGroup&lt;/tt&gt; and should also be note for &lt;tt&gt;DataSet#distinct&lt;/tt&gt;. It is also set with &lt;tt&gt;.setCombineHint(CombineHint)&lt;/tt&gt; rather than alongside the UDF parameter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13088503">FLINK-7234</key>
            <summary>Fix CombineHint documentation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="greghogan">Greg Hogan</assignee>
                                    <reporter username="greghogan">Greg Hogan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jul 2017 18:55:30 +0000</created>
                <updated>Wed, 26 Jul 2017 14:34:07 +0000</updated>
                            <resolved>Wed, 26 Jul 2017 14:34:07 +0000</resolved>
                                    <version>1.2.2</version>
                    <version>1.3.2</version>
                    <version>1.4.0</version>
                                    <fixVersion>1.3.2</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16093658" author="githubbot" created="Wed, 19 Jul 2017 19:32:06 +0000"  >&lt;p&gt;GitHub user greghogan opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7234&quot; title=&quot;Fix CombineHint documentation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7234&quot;&gt;&lt;del&gt;FLINK-7234&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Fix CombineHint documentation&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Update and correct the documentation for the use of CombineHint with `reduce` or `distinct`. The documentation for 1.2/1.3/1.4 has CombineHint described under `groupReduce`.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Documentation was moved and slightly reworded.&lt;/p&gt;

&lt;p&gt;    This change is a trivial rework / code cleanup without any test coverage.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Dependencies (does it add or upgrade a dependency): (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;br/&gt;
    The public API, i.e., is any changed class annotated with @Public(Evolving): (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;br/&gt;
    The serializers: (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;br/&gt;
    The runtime per-record code paths (performance sensitive): (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know)&lt;br/&gt;
    Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (yes / *&lt;b&gt;no&lt;/b&gt;* / don&apos;t know):&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Does this pull request introduce a new feature? (yes / *&lt;b&gt;no&lt;/b&gt;*)&lt;br/&gt;
    If yes, how is the feature documented? (not applicable / *&lt;b&gt;docs&lt;/b&gt;* / JavaDocs / not documented)&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/greghogan/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/greghogan/flink&lt;/a&gt; 7234_fix_combinehint_documentation&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4372&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ec143c7ad08a47de96b418878efd540ec7328636&lt;br/&gt;
Author: Greg Hogan &amp;lt;code@greghogan.com&amp;gt;&lt;br/&gt;
Date:   2017-07-19T19:24:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7234&quot; title=&quot;Fix CombineHint documentation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7234&quot;&gt;&lt;del&gt;FLINK-7234&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Fix CombineHint documentation&lt;/p&gt;

&lt;p&gt;    The CombineHint documentation applies to DataSet#reduce not&lt;br/&gt;
    DataSet#reduceGroup and should also be note for DataSet#distinct. It is&lt;br/&gt;
    also set with .setCombineHint(CombineHint) rather than alongside the UDF&lt;br/&gt;
    parameter.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16093710" author="githubbot" created="Wed, 19 Jul 2017 20:01:42 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372#discussion_r128351347&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372#discussion_r128351347&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/dev/batch/index.md &amp;#8212;&lt;br/&gt;
    @@ -205,20 +205,25 @@ data.filter(new FilterFunction&amp;lt;Integer&amp;gt;() {&lt;br/&gt;
           &amp;lt;td&amp;gt;&amp;lt;strong&amp;gt;Reduce&amp;lt;/strong&amp;gt;&amp;lt;/td&amp;gt;&lt;br/&gt;
           &amp;lt;td&amp;gt;&lt;br/&gt;
             &amp;lt;p&amp;gt;Combines a group of elements into a single element by repeatedly combining two elements&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;into one. Reduce may be applied on a full data set, or on a grouped data set.&amp;lt;/p&amp;gt;&lt;br/&gt;
    +        into one. Reduce may be applied on a full data set or on a grouped data set.&amp;lt;/p&amp;gt;
     {% highlight java %}
&lt;p&gt;     data.reduce(new ReduceFunction&amp;lt;Integer&amp;gt; &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {       public Integer reduce(Integer a, Integer b) { return a + b; }     }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;);&lt;/p&gt;
     {% endhighlight %}
&lt;p&gt;    +        &amp;lt;p&amp;gt;If the reduce was applied to a grouped data set then you can specify the way that the&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    `If the reduce was ...` -&amp;gt; `If the reduce transformation was ...` or `If the reduce function was ...`?&lt;/p&gt;</comment>
                            <comment id="16093712" author="githubbot" created="Wed, 19 Jul 2017 20:02:07 +0000"  >&lt;p&gt;Github user fhueske commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    One minor comment. Otherwise +1 to merge.&lt;/p&gt;</comment>
                            <comment id="16094683" author="githubbot" created="Thu, 20 Jul 2017 13:30:00 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for trying out the discussed template @greghogan &lt;/p&gt;

&lt;p&gt;    I think for docs, you can invoke the &lt;b&gt;(The sections below can be removed for hotfixes of typos)&lt;/b&gt; clause &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16096381" author="githubbot" created="Fri, 21 Jul 2017 15:37:43 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @StephanEwen I like the new template. I much prefer free form over checkboxes.&lt;/p&gt;

&lt;p&gt;    @fhueske I&apos;m questioning my understanding of the the heuristic for using a hash-combine. For a fixed number of keys the hash-combine can be beneficial independent of the size of the data set. Basing the decision on the ratio of keys to values, as the size of the data set increases the likelihood of matching keys and values occurring in the same combine operation (before filling and being flushed to the reducer) decreases.&lt;/p&gt;

&lt;p&gt;    This is often the case for graphs. I&apos;m thinking that the improvement for using hash-combine on larger data sets may have been due to hashing performing better than sort when we wanted to disable the combiner.&lt;/p&gt;</comment>
                            <comment id="16096403" author="githubbot" created="Fri, 21 Jul 2017 15:54:19 +0000"  >&lt;p&gt;Github user fhueske commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think you are right @greghogan. &lt;/p&gt;

&lt;p&gt;    It&apos;s not about the ratio of #distinct keys to size of the dataset. But it&apos;s also not only the ratio of #distinct keys to size of the memory. The skew of the key distribution has an effect as well (hash-based combiners should better handle skew than sort-based combiners).&lt;/p&gt;</comment>
                            <comment id="16097466" author="githubbot" created="Sun, 23 Jul 2017 00:30:23 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @fhueske I started running some benchmarks on HITS with each of the combiners (sort, hash, none) and at small scales hash is fasted followed by none with sort in last. None is somewhat faster than hash for very small graphs. I&apos;ve gotten stuck on scale 23 where the job is deadlocking on the first iteration for all three types. Interestingly I also see the deadlock on my laptop running from IntelliJ. I need to look more because I&apos;m not seeing what is releasing memory buffers when all operators are seemingly waiting on acquiring a buffer from `LocalBufferPool`.&lt;/p&gt;</comment>
                            <comment id="16101731" author="githubbot" created="Wed, 26 Jul 2017 14:33:09 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4372&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16101733" author="greghogan" created="Wed, 26 Jul 2017 14:34:07 +0000"  >&lt;p&gt;master: 4a88f6587fdfadd5749188a76e6b38a3585cd31b&lt;br/&gt;
release-1.3: d0a9fe013e0dccf7ff329aaedf085e8c1c133ae0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hr87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>