<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:28:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-6844] TraversableSerializer should implement compatibility methods</title>
                <link>https://issues.apache.org/jira/browse/FLINK-6844</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;TraversableSerializer&lt;/tt&gt; may be used as a serializer for managed state and takes part in checkpointing, therefore should implement the compatibility methods.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13077084">FLINK-6844</key>
            <summary>TraversableSerializer should implement compatibility methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tzulitai">Tzu-Li (Gordon) Tai</assignee>
                                    <reporter username="tzulitai">Tzu-Li (Gordon) Tai</reporter>
                        <labels>
                            <label>flink-rel-1.3.1-blockers</label>
                    </labels>
                <created>Sat, 3 Jun 2017 19:32:33 +0000</created>
                <updated>Wed, 21 Jun 2017 03:27:02 +0000</updated>
                            <resolved>Wed, 7 Jun 2017 17:25:05 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.1</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>API / Type Serialization System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16036083" author="yuzhihong@gmail.com" created="Sat, 3 Jun 2017 20:22:58 +0000"  >&lt;p&gt;This was first reported by Mahesh:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://search-hadoop.com/m/Flink/VkLeQDkhbf1oulbz1?subj=Flink+1+3+Checkpointing+failing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search-hadoop.com/m/Flink/VkLeQDkhbf1oulbz1?subj=Flink+1+3+Checkpointing+failing&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16037942" author="mingleizhang" created="Tue, 6 Jun 2017 01:43:06 +0000"  >&lt;p&gt;I will look into this issue those days.&lt;/p&gt;</comment>
                            <comment id="16038288" author="tzulitai" created="Tue, 6 Jun 2017 07:00:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mingleizhang&quot; class=&quot;user-hover&quot; rel=&quot;mingleizhang&quot;&gt;mingleizhang&lt;/a&gt; I actually already have a fix ready for this, the PR is coming up.&lt;br/&gt;
Would be also be helpful if you&apos;d like to review that!&lt;/p&gt;</comment>
                            <comment id="16038324" author="mingleizhang" created="Tue, 6 Jun 2017 07:56:09 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tzulitai&quot; class=&quot;user-hover&quot; rel=&quot;tzulitai&quot;&gt;tzulitai&lt;/a&gt; Yes. I will review that when the patch is available. &lt;/p&gt;</comment>
                            <comment id="16039071" author="githubbot" created="Tue, 6 Jun 2017 15:20:10 +0000"  >&lt;p&gt;GitHub user tzulitai opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4081&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6844&quot; title=&quot;TraversableSerializer should implement compatibility methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6844&quot;&gt;&lt;del&gt;FLINK-6844&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;scala&amp;#93;&lt;/span&gt; Implement compatibility methods for TraversableSerializer&lt;/p&gt;

&lt;p&gt;    The `TraversableSerializer` is used for Scala collections, and therefore may take part in checkpointing and should have the compatibility methods implemented.&lt;/p&gt;

&lt;p&gt;    I&apos;m also currently trying out whether or not it makes sense / is easily possible to have some test base that guards against these kind of issues. Otherwise, having one per-serializer might not make sense.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tzulitai/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tzulitai/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6844&quot; title=&quot;TraversableSerializer should implement compatibility methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6844&quot;&gt;&lt;del&gt;FLINK-6844&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4081.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4081.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4081&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3fbf693610520a983f68a0091057a0af44108834&lt;br/&gt;
Author: Tzu-Li (Gordon) Tai &amp;lt;tzulitai@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-06-05T18:52:57Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6844&quot; title=&quot;TraversableSerializer should implement compatibility methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6844&quot;&gt;&lt;del&gt;FLINK-6844&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;scala&amp;#93;&lt;/span&gt; Implement compatibility methods for TraversableSerializer&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16040677" author="githubbot" created="Wed, 7 Jun 2017 10:33:19 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4081&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Tested this with a stateful job that uses Scala collections as state.&lt;br/&gt;
    Merging this ..&lt;/p&gt;</comment>
                            <comment id="16041170" author="githubbot" created="Wed, 7 Jun 2017 16:31:31 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4081&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16041255" author="tzulitai" created="Wed, 7 Jun 2017 17:25:05 +0000"  >&lt;p&gt;Fixed for 1.3 via e1e207c898ed436df656d01364cf0e5fa818b730.&lt;br/&gt;
Fixed for master via c11d5ed5388a5a30ca4ea0c5ac68e22e5989cb54.&lt;/p&gt;</comment>
                            <comment id="16055804" author="shashank734" created="Tue, 20 Jun 2017 13:57:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tzulitai&quot; class=&quot;user-hover&quot; rel=&quot;tzulitai&quot;&gt;tzulitai&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Checked with patch not working with KeyedCEPPatternOperator. In commit you are not throwing exception so only log is printing no exception. But checkpointing is not working it was working fine in 1.2.1&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-06-20 15:26:25,518 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator     - Checkpoint triggering task Source: Custom File Source (1/1) is not being executed at the moment. Aborting checkpoint.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16055806" author="tzulitai" created="Tue, 20 Jun 2017 14:01:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shashank734&quot; class=&quot;user-hover&quot; rel=&quot;shashank734&quot;&gt;shashank734&lt;/a&gt; do you mean that applying the patch still doesn&apos;t work? Could you paste the actual checkpoint failure error trace? The one you posted doesn&apos;t seem to reveal anything.&lt;/p&gt;</comment>
                            <comment id="16055807" author="tzulitai" created="Tue, 20 Jun 2017 14:02:51 +0000"  >&lt;p&gt;btw, please test this on the latest &lt;tt&gt;release-1.3&lt;/tt&gt;. There were some further follow up fixes after the commits mentioned above in the comments.&lt;/p&gt;</comment>
                            <comment id="16055809" author="tzulitai" created="Tue, 20 Jun 2017 14:04:33 +0000"  >&lt;p&gt;For example, there were some other bugs specific to the serializers in the &lt;tt&gt;KeyedCEPPatternOperator&lt;/tt&gt;. I don&apos;t think simply applying the mentioned commits would resolve the problem with CEP checkpointing completely.&lt;/p&gt;</comment>
                            <comment id="16055813" author="shashank734" created="Tue, 20 Jun 2017 14:08:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tzulitai&quot; class=&quot;user-hover&quot; rel=&quot;tzulitai&quot;&gt;tzulitai&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;I have applied this patch on &lt;a href=&quot;https://github.com/apache/flink/tree/release-1.3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/tree/release-1.3.0&lt;/a&gt;. Latest 1.3.0 Release. I need stable version. &lt;/p&gt;</comment>
                            <comment id="16055816" author="shashank734" created="Tue, 20 Jun 2017 14:10:12 +0000"  >&lt;p&gt;There is no more stack traces it&apos;s printing after applying the patch May be it&apos;s due to you have removed&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UnsupportedOperationException()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16055818" author="tzulitai" created="Tue, 20 Jun 2017 14:11:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shashank734&quot; class=&quot;user-hover&quot; rel=&quot;shashank734&quot;&gt;shashank734&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can you try &lt;a href=&quot;https://github.com/apache/flink/tree/release-1.3?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/tree/release-1.3?&lt;/a&gt; The release process for the next stable version 1.3.1 is actually in-progress, and will be forked from that branch very soon.&lt;/p&gt;

&lt;p&gt;Alternatively, you can also show me the exact error trace, so I can see if it&apos;s actually fixed in other commits already.&lt;/p&gt;</comment>
                            <comment id="16055819" author="tzulitai" created="Tue, 20 Jun 2017 14:13:02 +0000"  >&lt;p&gt;Then I&apos;m pretty sure that you actually haven&apos;t applied the patch, actually. The &lt;tt&gt;TraversableSerializer&lt;/tt&gt; should not be throwing &lt;tt&gt;UnsupportedOperationException&lt;/tt&gt; anymore, as you can see in the patch.&lt;/p&gt;</comment>
                            <comment id="16055824" author="shashank734" created="Tue, 20 Jun 2017 14:15:58 +0000"  >&lt;p&gt;I have cross variefied with source code and flink dashboard also i have successfully applied the patch. Actually it&apos;s not printing any other error stack traces. &lt;/p&gt;</comment>
                            <comment id="16055827" author="tzulitai" created="Tue, 20 Jun 2017 14:16:24 +0000"  >&lt;p&gt;The thing is, I can&apos;t tell anything from:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-06-20 15:26:25,518 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator     - Checkpoint triggering task Source: Custom File Source (1/1) is not being executed at the moment. Aborting checkpoint.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s also not related to the CEP operator.&lt;/p&gt;</comment>
                            <comment id="16055836" author="tzulitai" created="Tue, 20 Jun 2017 14:19:25 +0000"  >&lt;p&gt;Yes, so what I mean is, the checkpointing problem you pasted does not infer problems with this JIRA.&lt;br/&gt;
What source are you using? Could you find out why it isn&apos;t being executed while the job was running? That&apos;s the actual root cause of the checkpoint failure.&lt;/p&gt;</comment>
                            <comment id="16055854" author="shashank734" created="Tue, 20 Jun 2017 14:33:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tzulitai&quot; class=&quot;user-hover&quot; rel=&quot;tzulitai&quot;&gt;tzulitai&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am using kafka as source and there&apos;s no issue with that. Actually what I am using flink cep this code was working fine with 1.2.0 and 1.2.1 i have updated my applications to 1.3.0 &lt;/p&gt;

&lt;p&gt;Applications are working where i haven&apos;t used CEP, In application i have used cep was giving following exception and terminating the checkpointing for all. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.Exception: Could not perform checkpoint 1 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; KeyedCEPPatternOperator -&amp;gt; Map (6/6).
	at org.apache.flink.streaming.runtime.tasks.StreamTask.triggerCheckpointOnBarrier(StreamTask.java:550)
	at org.apache.flink.streaming.runtime.io.BarrierBuffer.notifyCheckpoint(BarrierBuffer.java:378)
	at org.apache.flink.streaming.runtime.io.BarrierBuffer.processBarrier(BarrierBuffer.java:281)
	at org.apache.flink.streaming.runtime.io.BarrierBuffer.getNextNonBlocked(BarrierBuffer.java:183)
	at org.apache.flink.streaming.runtime.io.StreamInputProcessor.processInput(StreamInputProcessor.java:213)
	at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask.run(OneInputStreamTask.java:69)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:262)
	at org.apache.flink.runtime.taskmanager.Task.run(Task.java:702)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.lang.Exception: Could not complete snapshot 1 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; KeyedCEPPatternOperator -&amp;gt; Map (6/6).
	at org.apache.flink.streaming.api.operators.AbstractStreamOperator.snapshotState(AbstractStreamOperator.java:406)
	at org.apache.flink.streaming.runtime.tasks.StreamTask$CheckpointingOperation.checkpointStreamOperator(StreamTask.java:1157)
	at org.apache.flink.streaming.runtime.tasks.StreamTask$CheckpointingOperation.executeCheckpointing(StreamTask.java:1089)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.checkpointState(StreamTask.java:653)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.performCheckpoint(StreamTask.java:589)
	at org.apache.flink.streaming.runtime.tasks.StreamTask.triggerCheckpointOnBarrier(StreamTask.java:542)
	... 8 more
Caused by: java.lang.UnsupportedOperationException
	at org.apache.flink.api.scala.typeutils.TraversableSerializer.snapshotConfiguration(TraversableSerializer.scala:155)
	at org.apache.flink.api.common.typeutils.CompositeTypeSerializerConfigSnapshot.&amp;lt;init&amp;gt;(CompositeTypeSerializerConfigSnapshot.java:53)
	at org.apache.flink.api.scala.typeutils.OptionSerializer$OptionSerializerConfigSnapshot.&amp;lt;init&amp;gt;(OptionSerializer.scala:139)
	at org.apache.flink.api.scala.typeutils.OptionSerializer.snapshotConfiguration(OptionSerializer.scala:104)
	at org.apache.flink.api.scala.typeutils.OptionSerializer.snapshotConfiguration(OptionSerializer.scala:28)
	at org.apache.flink.api.common.typeutils.CompositeTypeSerializerConfigSnapshot.&amp;lt;init&amp;gt;(CompositeTypeSerializerConfigSnapshot.java:53)
	at org.apache.flink.api.java.typeutils.runtime.TupleSerializerConfigSnapshot.&amp;lt;init&amp;gt;(TupleSerializerConfigSnapshot.java:45)
	at org.apache.flink.api.java.typeutils.runtime.TupleSerializerBase.snapshotConfiguration(TupleSerializerBase.java:132)
	at org.apache.flink.api.java.typeutils.runtime.TupleSerializerBase.snapshotConfiguration(TupleSerializerBase.java:39)
	at org.apache.flink.api.common.typeutils.CompositeTypeSerializerConfigSnapshot.&amp;lt;init&amp;gt;(CompositeTypeSerializerConfigSnapshot.java:53)
	at org.apache.flink.api.common.typeutils.base.CollectionSerializerConfigSnapshot.&amp;lt;init&amp;gt;(CollectionSerializerConfigSnapshot.java:39)
	at org.apache.flink.api.common.typeutils.base.ListSerializer.snapshotConfiguration(ListSerializer.java:183)
	at org.apache.flink.api.common.typeutils.base.ListSerializer.snapshotConfiguration(ListSerializer.java:47)
	at org.apache.flink.api.common.typeutils.CompositeTypeSerializerConfigSnapshot.&amp;lt;init&amp;gt;(CompositeTypeSerializerConfigSnapshot.java:53)
	at org.apache.flink.api.common.typeutils.base.MapSerializerConfigSnapshot.&amp;lt;init&amp;gt;(MapSerializerConfigSnapshot.java:38)
	at org.apache.flink.runtime.state.HashMapSerializer.snapshotConfiguration(HashMapSerializer.java:210)
	at org.apache.flink.runtime.state.RegisteredKeyedBackendStateMetaInfo.snapshot(RegisteredKeyedBackendStateMetaInfo.java:71)
	at org.apache.flink.runtime.state.heap.HeapKeyedStateBackend.snapshot(HeapKeyedStateBackend.java:267)
	at org.apache.flink.streaming.api.operators.AbstractStreamOperator.snapshotState(AbstractStreamOperator.java:396)
	... 13 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Than i have applied your patch on release-1.3.0 tag and used that with this code still without CEP app is working fine, but CEP app is not printing any error logs and no checkpointing happening. It&apos;s showing &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Triggered: 1In Progress: 0
ID: 1Failure Time: 18:48:41Cause: Checkpoint was declined (tasks not ready)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;after restarting the job even it&apos;s not triggering the checkpointing and printing the logs i have mentioned above. For replicate i think just use CEP with fsstandbackend.&lt;/p&gt;</comment>
                            <comment id="16055861" author="tzulitai" created="Tue, 20 Jun 2017 14:37:09 +0000"  >&lt;p&gt;Didn&apos;t you mention this error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-06-20 15:26:25,518 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator     - Checkpoint triggering task Source: Custom File Source (1/1) is not being executed at the moment. Aborting checkpoint.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;?&lt;/p&gt;

&lt;p&gt;This doesn&apos;t seem to be the Kafka source. The checkpoint is failing because the source isn&apos;t running.&lt;/p&gt;</comment>
                            <comment id="16056044" author="tzulitai" created="Tue, 20 Jun 2017 16:28:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shashank734&quot; class=&quot;user-hover&quot; rel=&quot;shashank734&quot;&gt;shashank734&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve tested CEP + with Scala collections as the event type (which would then let the CEP operator use the &lt;tt&gt;TraversableSerializer&lt;/tt&gt; internally), with the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;object FlinkCEPTest {
  def main(args: Array[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]) {
    &lt;span class=&quot;code-comment&quot;&gt;// set up the streaming execution environment
&lt;/span&gt;    val env = StreamExecutionEnvironment.getExecutionEnvironment
    env.enableCheckpointing(5000)

    val source: DataStream[scala.collection.immutable.List[java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]] = env.socketTextStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;localhost&quot;&lt;/span&gt;, 9999).map(x =&amp;gt; List(x.split(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;)(0)))
    val pattern = Pattern.begin(&lt;span class=&quot;code-quote&quot;&gt;&quot;start&quot;&lt;/span&gt;).where(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleCondition[List[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]] {
      override def filter(t: List[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]) = t.head.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;)
    }).times(4).allowCombinations().followedBy(&lt;span class=&quot;code-quote&quot;&gt;&quot;end&quot;&lt;/span&gt;).where(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleCondition[List[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]] {
      override def filter(t: List[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]) = t.head.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;)
    })

    CEP.pattern(source, pattern).select(_.toString()).print()

    &lt;span class=&quot;code-comment&quot;&gt;// execute program
&lt;/span&gt;    env.execute(&lt;span class=&quot;code-quote&quot;&gt;&quot;Flink CEP test&quot;&lt;/span&gt;)
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can confirm that this works correctly without any errors in branch &lt;tt&gt;release-1.3&lt;/tt&gt;. Checkpoint + restoring from savepoints works correctly.&lt;br/&gt;
As I&apos;ve mentioned, simply applying the commit for this JIRA onto &lt;tt&gt;release-1.3.0&lt;/tt&gt; may not work, as the whole fix includes other commits as well.&lt;/p&gt;

&lt;p&gt;Please let me know if you think otherwise!&lt;/p&gt;</comment>
                            <comment id="16056326" author="shashank734" created="Tue, 20 Jun 2017 19:28:55 +0000"  >&lt;p&gt;So what is the release date for version 1.3.1 cause i don&apos;t wanna build this with master branch and than have to publish libraries like CEP etc. local. Everything will change. is there any quick fix which i can apply on release-1.3.0 with this commit.&lt;/p&gt;</comment>
                            <comment id="16056917" author="tzulitai" created="Wed, 21 Jun 2017 03:27:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shashank734&quot; class=&quot;user-hover&quot; rel=&quot;shashank734&quot;&gt;shashank734&lt;/a&gt; I think the next release candidate for 1.3.1 will be pushed out today. The vote for it will happen on the mailing list, so hopefully you should be able to expect it to be released before next week.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                            <outwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="13081074">FLINK-6954</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fukf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>