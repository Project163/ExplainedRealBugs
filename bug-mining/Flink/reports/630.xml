<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:21:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2806] No TypeInfo for Scala&apos;s Nothing type</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2806</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When writing some generic code, I encountered a situation where I needed a TypeInformation&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt;. Two problems prevent me from getting it:&lt;br/&gt;
1. TypeInformationGen.mkTypeInfo doesn&apos;t return a real TypeInformation&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt;. (It actually returns a casted null in that case.)&lt;br/&gt;
2. The line&lt;br/&gt;
implicit def createTypeInformation&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;: TypeInformation&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt; = macro TypeUtils.createTypeInfo&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;&lt;br/&gt;
does not fire in some situations when it should, when T = Nothing. (I guess this is a compiler bug.)&lt;/p&gt;

&lt;p&gt;I will open a PR shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12902086">FLINK-2806</key>
            <summary>No TypeInfo for Scala&apos;s Nothing type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggevay">G&#225;bor G&#233;vay</assignee>
                                    <reporter username="ggevay">G&#225;bor G&#233;vay</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Oct 2015 10:21:39 +0000</created>
                <updated>Wed, 7 Oct 2015 16:55:20 +0000</updated>
                            <resolved>Wed, 7 Oct 2015 16:44:23 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>API / Scala</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14940999" author="githubbot" created="Fri, 2 Oct 2015 10:27:06 +0000"  >&lt;p&gt;GitHub user ggevay opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2806&quot; title=&quot;No TypeInfo for Scala&amp;#39;s Nothing type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2806&quot;&gt;&lt;del&gt;FLINK-2806&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;scala-api&amp;#93;&lt;/span&gt; Add a TypeInformation&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;    I added a TypeInfo&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt; class, and added a line to workaround the compiler bug. I also added a test for this, which tests at compile time: if the &quot;implicit val scalaNothingTypeInfo&quot; is not there, then it does not compile.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ggevay/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ggevay/flink&lt;/a&gt; typeInfo-nothing&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1212&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a73a96a5de5a271ed4a3ca55aea14c34072aa7e7&lt;br/&gt;
Author: Gabor Gevay &amp;lt;ggab90@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-10-02T08:14:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2806&quot; title=&quot;No TypeInfo for Scala&amp;#39;s Nothing type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2806&quot;&gt;&lt;del&gt;FLINK-2806&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;scala-api&amp;#93;&lt;/span&gt; Add a TypeInformation&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14941007" author="githubbot" created="Fri, 2 Oct 2015 10:39:39 +0000"  >&lt;p&gt;Github user chiwanpark commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212#discussion_r41009352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212#discussion_r41009352&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-scala/src/main/scala/org/apache/flink/api/scala/codegen/TypeInformationGen.scala &amp;#8212;&lt;br/&gt;
    @@ -23,6 +23,7 @@ import org.apache.flink.api.common.ExecutionConfig&lt;br/&gt;
     import org.apache.flink.api.common.typeinfo._&lt;br/&gt;
     import org.apache.flink.api.common.typeutils._&lt;br/&gt;
     import org.apache.flink.api.java.typeutils._&lt;br/&gt;
    +import org.apache.flink.api.scala.typeutils.ScalaNothingTypeInfo&lt;br/&gt;
     import org.apache.flink.api.scala.typeutils.&lt;/p&gt;
{CaseClassSerializer, CaseClassTypeInfo}
&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Maybe we can merge two import lines.&lt;/p&gt;</comment>
                            <comment id="14941056" author="githubbot" created="Fri, 2 Oct 2015 11:58:27 +0000"  >&lt;p&gt;Github user ggevay commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212#discussion_r41014072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212#discussion_r41014072&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-scala/src/main/scala/org/apache/flink/api/scala/codegen/TypeInformationGen.scala &amp;#8212;&lt;br/&gt;
    @@ -23,6 +23,7 @@ import org.apache.flink.api.common.ExecutionConfig&lt;br/&gt;
     import org.apache.flink.api.common.typeinfo._&lt;br/&gt;
     import org.apache.flink.api.common.typeutils._&lt;br/&gt;
     import org.apache.flink.api.java.typeutils._&lt;br/&gt;
    +import org.apache.flink.api.scala.typeutils.ScalaNothingTypeInfo&lt;br/&gt;
     import org.apache.flink.api.scala.typeutils.&lt;/p&gt;
{CaseClassSerializer, CaseClassTypeInfo}
&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Thx, done.&lt;/p&gt;</comment>
                            <comment id="14943062" author="githubbot" created="Mon, 5 Oct 2015 08:30:31 +0000"  >&lt;p&gt;Github user aljoscha commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212#issuecomment-145462515&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212#issuecomment-145462515&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good to me. @tillrohrmann can you have a quick look? You recently did some work on the TypeInformation and TypeSerializers.&lt;/p&gt;</comment>
                            <comment id="14943126" author="githubbot" created="Mon, 5 Oct 2015 09:33:05 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212#discussion_r41125339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212#discussion_r41125339&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-scala/src/main/scala/org/apache/flink/api/scala/typeutils/ScalaNothingTypeInfo.scala &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,47 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.api.scala.typeutils&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.ExecutionConfig&lt;br/&gt;
    +import org.apache.flink.api.common.typeinfo.TypeInformation&lt;br/&gt;
    +import org.apache.flink.api.common.typeutils.TypeSerializer&lt;br/&gt;
    +&lt;br/&gt;
    +class ScalaNothingTypeInfo extends TypeInformation&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt; {&lt;br/&gt;
    +&lt;br/&gt;
    +  override def isBasicType: Boolean = false&lt;br/&gt;
    +  override def isTupleType: Boolean = false&lt;br/&gt;
    +  override def getArity: Int = 0&lt;br/&gt;
    +  override def getTotalFields: Int = 0&lt;br/&gt;
    +  override def getTypeClass: Class&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt; = classOf&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +  override def isKeyType: Boolean = false&lt;br/&gt;
    +&lt;br/&gt;
    +  override def createSerializer(config: ExecutionConfig): TypeSerializer&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt; =&lt;br/&gt;
    +    (new NothingSerializer).asInstanceOf[TypeSerializer&lt;span class=&quot;error&quot;&gt;&amp;#91;Nothing&amp;#93;&lt;/span&gt;]&lt;br/&gt;
    +&lt;br/&gt;
    +  override def hashCode(): Int = 42&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Could we use `classOf&lt;span class=&quot;error&quot;&gt;&amp;#91;ScalaNothingTypeInfo&amp;#93;&lt;/span&gt;.hashCode` here? Otherwise, all objects we create end up in the bucket with hash code `42`.&lt;/p&gt;</comment>
                            <comment id="14943127" author="githubbot" created="Mon, 5 Oct 2015 09:33:26 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212#issuecomment-145476115&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212#issuecomment-145476115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM. Only one minor comment.&lt;/p&gt;</comment>
                            <comment id="14943255" author="githubbot" created="Mon, 5 Oct 2015 11:31:25 +0000"  >&lt;p&gt;Github user ggevay commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212#issuecomment-145501103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212#issuecomment-145501103&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks, I have changed the hashCode.&lt;/p&gt;</comment>
                            <comment id="14946947" author="githubbot" created="Wed, 7 Oct 2015 14:36:25 +0000"  >&lt;p&gt;Github user chiwanpark commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212#issuecomment-146213445&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212#issuecomment-146213445&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 for merging. If there is no objection, I&apos;ll merge this in few hours.&lt;/p&gt;</comment>
                            <comment id="14947178" author="githubbot" created="Wed, 7 Oct 2015 16:42:36 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1212&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14947180" author="chiwanpark" created="Wed, 7 Oct 2015 16:44:23 +0000"  >&lt;p&gt;Implemented via 6e42f9fc0804886efd57994a72feb226e26958cc.&lt;/p&gt;

&lt;p&gt;Thanks for contribution!&lt;/p&gt;</comment>
                            <comment id="14947205" author="ggevay" created="Wed, 7 Oct 2015 16:55:20 +0000"  >&lt;p&gt;You&apos;re welcome! Thanks for merging it!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mj87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>