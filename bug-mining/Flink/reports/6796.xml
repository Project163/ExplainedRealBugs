<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:15:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-27341] TaskManager running together with JobManager are bind to 127.0.0.1</title>
                <link>https://issues.apache.org/jira/browse/FLINK-27341</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;If some TaskManagers running with JobManager on the same machine while some other TaskManager not, the TaskManagers running together with JobManager would bind to localhost or 127.0.01, which makes the Netty connections across the TaskManagers fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13440933">FLINK-27341</key>
            <summary>TaskManager running together with JobManager are bind to 127.0.0.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="huwh">!huwh</assignee>
                                    <reporter username="gaoyunhaii">Yun Gao</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 21 Apr 2022 13:44:36 +0000</created>
                <updated>Fri, 2 Dec 2022 02:56:42 +0000</updated>
                            <resolved>Fri, 2 Dec 2022 02:56:42 +0000</resolved>
                                    <version>1.15.0</version>
                    <version>1.16.0</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.16.1</fixVersion>
                    <fixVersion>1.15.4</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17525730" author="zentol" created="Thu, 21 Apr 2022 13:52:01 +0000"  >&lt;p&gt;We&apos;re currently checking if the loopback address resolution strategy is still necessary; if not we may be able to remove it or hide it behind a feature flag. The recent fixes around yarn related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-24474&quot; title=&quot;Standalone clusters should bind to localhost by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-24474&quot;&gt;&lt;del&gt;FLINK-24474&lt;/del&gt;&lt;/a&gt; may have removed the &quot;need&quot; for it. (Quotation marks because I think we were only fighting symptoms).&lt;/p&gt;</comment>
                            <comment id="17585171" author="nobleyd" created="Fri, 26 Aug 2022 06:22:53 +0000"  >&lt;p&gt;Hi, I want to known which release will fix this issue, is there any plan?&lt;/p&gt;</comment>
                            <comment id="17600640" author="gaoyunhaii" created="Tue, 6 Sep 2022 07:34:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nobleyd&quot; class=&quot;user-hover&quot; rel=&quot;nobleyd&quot;&gt;nobleyd&lt;/a&gt; If currently no other progress, I&apos;ll open a PR soon and try to make it be included in 1.16.&#160;&lt;/p&gt;</comment>
                            <comment id="17626171" author="nobleyd" created="Sun, 30 Oct 2022 04:45:06 +0000"  >&lt;p&gt;Hi, this issue is not resolve in flink1.16, whilte I think it is important. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17626508" author="gaoyunhaii" created="Mon, 31 Oct 2022 09:58:56 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nobleyd&quot; class=&quot;user-hover&quot; rel=&quot;nobleyd&quot;&gt;nobleyd&lt;/a&gt; sorry after I checked the code, it looks more complicated than I initially thought, thus I&apos;m not very confident in changing this part of code right before the deadline without causing other issues and we then moved the fix after the release.&lt;/p&gt;

&lt;p&gt;I also still think the issue is critical and cause a lot of confusions, we are still working on this issue and will fix it soon.&#160;&lt;/p&gt;</comment>
                            <comment id="17627128" author="zentol" created="Tue, 1 Nov 2022 12:10:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt; What makes this so complicated? I thought we just have to drop the loopback address resolution strategy again.&lt;/p&gt;</comment>
                            <comment id="17629614" author="huwh" created="Mon, 7 Nov 2022 06:58:30 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt;&#160; I think this was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-24474&quot; title=&quot;Standalone clusters should bind to localhost by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-24474&quot;&gt;&lt;del&gt;FLINK-24474&lt;/del&gt;&lt;/a&gt;. It uses the loopback address as the default address. In these configs, it only supports flink clusters running on a single host, and taskmanager must use the loopback interface to connect with the jobmanager, since the jobmanager only binds the loopback interface. But if we don&apos;t set the bind-address to localhost, taskmanager should not use the loopback interface to find its external address. otherwise, this will cause other TaskManagers to not connect with it.&lt;/p&gt;

&lt;p&gt;IMO, we can determine whether to use the loopback interface by whether the taskmanager.bind-host is loopback address.&#160;&lt;/p&gt;

&lt;p&gt;If this change is acceptable, you can assign this to me.&lt;/p&gt;</comment>
                            <comment id="17631342" author="gaoyunhaii" created="Thu, 10 Nov 2022 00:06:29 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160; sorry for missing the comment, I also think we should drop the lookback address, but it may need some tests for different deployment targets.&#160;&lt;/p&gt;

&lt;p&gt;And very thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huwh&quot; class=&quot;user-hover&quot; rel=&quot;huwh&quot;&gt;huwh&lt;/a&gt; for helping tracking this issue! I have assigned the issue to you. And for the method, do you think we might directly remove the LOOPBACK? I previously have some try with &lt;a href=&quot;https://github.com/gaoyunhaii/flink/pull/new/remove_loopback&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gaoyunhaii/flink/pull/new/remove_loopback&lt;/a&gt; and it should works in standalone session.&#160;&lt;/p&gt;</comment>
                            <comment id="17631507" author="zentol" created="Thu, 10 Nov 2022 08:10:09 +0000"  >&lt;p&gt;It should be safe to just remove it imo.&lt;/p&gt;</comment>
                            <comment id="17631543" author="huwh" created="Thu, 10 Nov 2022 09:12:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt; yes, we can directly remove the LOOPBACK, i will do more tests in different deployment targets.&lt;/p&gt;</comment>
                            <comment id="17634637" author="huwh" created="Wed, 16 Nov 2022 04:07:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt; I tested it in Kubernetes/Docker/Standalone. Rremoving the loopback works fine. Could you help review this PR.&lt;/p&gt;</comment>
                            <comment id="17634670" author="gaoyunhaii" created="Wed, 16 Nov 2022 05:59:15 +0000"  >&lt;p&gt;Very thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huwh&quot; class=&quot;user-hover&quot; rel=&quot;huwh&quot;&gt;huwh&lt;/a&gt; for the checking! I&apos;ll have a look.&lt;/p&gt;</comment>
                            <comment id="17642246" author="gaoyunhaii" created="Fri, 2 Dec 2022 02:56:19 +0000"  >&lt;p&gt;Merged on master via&#160;fc5e8bacef34119579defca6256476482da523f9&lt;/p&gt;

&lt;p&gt;Merged on 1.15 via&#160;84e8806af16f81a4295ca1f9b0c711c210884b1d&lt;/p&gt;

&lt;p&gt;Merged on 1.16 via&#160;8a47420adfe9af7f1c303874c7a32dab3229ea66&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13485474">FLINK-29572</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13450653">FLINK-28115</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13405401">FLINK-24474</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z11ofc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>