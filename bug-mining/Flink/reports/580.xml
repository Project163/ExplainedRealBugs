<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:21:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2373] Add configuration parameter to createRemoteEnvironment method</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2373</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently there is no way to provide a custom configuration upon creation of a remote environment (via ExecutionEnvironment.createRemoteEnvironment(...)).&lt;/p&gt;

&lt;p&gt;This leads to errors when the submitted job exceeds the default value for the max. payload size in Akka, as we can not increase the configuration value (akka.remote.OversizedPayloadException: Discarding oversized payload...)&lt;/p&gt;

&lt;p&gt;Providing an overloaded method with a configuration parameter for the remote environment fixes that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12845862">FLINK-2373</key>
            <summary>Add configuration parameter to createRemoteEnvironment method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akunft">Andreas Kunft</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2015 10:53:32 +0000</created>
                <updated>Thu, 16 Jun 2016 17:11:51 +0000</updated>
                            <resolved>Tue, 15 Sep 2015 12:56:07 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="14637329" author="stephanewen" created="Wed, 22 Jul 2015 18:10:57 +0000"  >&lt;p&gt;That is definitely a good idea. Would you be up for creating a patch?&lt;/p&gt;</comment>
                            <comment id="14638525" author="akunft" created="Thu, 23 Jul 2015 09:11:24 +0000"  >&lt;p&gt;I will&lt;/p&gt;</comment>
                            <comment id="14694989" author="uce" created="Thu, 13 Aug 2015 09:57:27 +0000"  >&lt;p&gt;Andreas, did you have a look at this? I have a small change as part of an upcoming pull request to allow this as well. I will keep it simple and just add:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;createRemoteEnvironment(Configuration flinkConfig, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;... jarFiles)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It would be nice to think about the &quot;whole&quot; execution environment stack and have it more consistent.&lt;/p&gt;</comment>
                            <comment id="14708693" author="akunft" created="Mon, 24 Aug 2015 02:28:33 +0000"  >&lt;p&gt;Hey, i was just going to open a PR which had basically also another method for the remote environment with the extra configuration parameter, just like yours. So I guess, the PR is now obsolete (you can see my changes here: &lt;a href=&quot;https://github.com/akunft/flink/commit/60240632ed71c072ecf880a586f12fd966412d67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/akunft/flink/commit/60240632ed71c072ecf880a586f12fd966412d67&lt;/a&gt;).&lt;br/&gt;
As far as I see it, there is a difference in the configuration provided for the remote environment and the local one, as the remote config is only used for def. parallelism and the akka config for the job client and not for configuration of the cluster itself. The config for the local execution covers all the configuration.&lt;/p&gt;

&lt;p&gt;I think it should be stated clearly in the java doc, that the config is only for the jobclient and def. parallelism in case of the remote environment. &lt;/p&gt;</comment>
                            <comment id="14716144" author="githubbot" created="Thu, 27 Aug 2015 06:14:09 +0000"  >&lt;p&gt;GitHub user akunft opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2373&quot; title=&quot;Add configuration parameter to createRemoteEnvironment method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2373&quot;&gt;&lt;del&gt;FLINK-2373&lt;/del&gt;&lt;/a&gt; Add configuration parameter to createRemoteEnvironment method&lt;/p&gt;

&lt;p&gt;    Adds an overloaded ExecutionEnvironment.createRemoteEnvironment method to provide a custom configuration for the job client. This resolves problems with the default configuration values, e.g. large jar files causing errors when they exceeded the default payload size of Akka.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/akunft/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/akunft/flink&lt;/a&gt; remoteConf&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1066&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit eeabe40e20386b7644c748301d7f9b338a7a2adc&lt;br/&gt;
Author: Andreas Kunft &amp;lt;andreas.kunft@tu-berlin.de&amp;gt;&lt;br/&gt;
Date:   2015-07-28T23:58:32Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2373&quot; title=&quot;Add configuration parameter to createRemoteEnvironment method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2373&quot;&gt;&lt;del&gt;FLINK-2373&lt;/del&gt;&lt;/a&gt; Add configuration parameter to createRemoteEnvironment method&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14716294" author="githubbot" created="Thu, 27 Aug 2015 08:47:06 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38074069&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38074069&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-java/src/main/java/org/apache/flink/api/java/ExecutionEnvironment.java &amp;#8212;&lt;br/&gt;
    @@ -1105,6 +1105,27 @@ public static ExecutionEnvironment createRemoteEnvironment(String host, int port&lt;br/&gt;
     	}&lt;/p&gt;

&lt;p&gt;     	/**&lt;br/&gt;
    +	 * Creates a &lt;/p&gt;
{@link RemoteEnvironment}
&lt;p&gt;. The remote environment sends (parts of) the program&lt;br/&gt;
    +	 * to a cluster for execution. Note that all file paths used in the program must be accessible from the&lt;br/&gt;
    +	 * cluster. The custom configuration file is used to configure the default parallelism and Akka specific&lt;br/&gt;
    +	 * configuration parameters for the JobClient only. Cluster configuration has to be done in the remotely&lt;br/&gt;
    +	 * running Flink instance.&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Very good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14716309" author="githubbot" created="Thu, 27 Aug 2015 08:56:10 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-135348048&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-135348048&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Very good contribution. Thanks @akunft. The only thing would be to add a test which verifies that the configuration is actually used for starting the `JobClientActor&apos;s` `ActorSystem`, for example. We could set the framesize to something so small that the job execution must fail. Or we change the default parallelism as it is done in `ExecutionEnvironmnetITCase.testLocalEnvironmentWithConfig`.&lt;/p&gt;

&lt;p&gt;    After adding the test, +1 for merging &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14716425" author="githubbot" created="Thu, 27 Aug 2015 10:18:49 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-135372450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-135372450&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the PR. I agree with Till.&lt;/p&gt;

&lt;p&gt;    @tillrohrmann, regarding #1016: what would be the way to use the RemoteEnvironment with an HA cluster? This will already work with HA, but the hostname and port would be ignored, right? Should Andreas already add a variant with config and jar files only? Or is that something we should address with your PR?&lt;/p&gt;</comment>
                            <comment id="14716738" author="githubbot" created="Thu, 27 Aug 2015 14:16:23 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-135448224&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-135448224&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @uce, I think this should be addressed either in #1016 or in a separate PR once #1016 is merged.&lt;/p&gt;</comment>
                            <comment id="14720217" author="githubbot" created="Fri, 28 Aug 2015 16:49:25 +0000"  >&lt;p&gt;Github user akunft commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-135830165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-135830165&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    After thinking about it, I would change the behavior so that the config is only for defining akka specific settings. The default parallelism of the operators can be set via ```setParallelism```, just like in the local environment. Otherwise, we had to use ```parallelism.default``` to set the operators parallelism, which is confusing imo. This also goes in line with the configuration description on the website.&lt;/p&gt;

&lt;p&gt;    What do you think? &lt;/p&gt;

&lt;p&gt;    In any case, I will create unit tests and update the PR once we decided on a version.&lt;/p&gt;</comment>
                            <comment id="14725895" author="githubbot" created="Tue, 1 Sep 2015 19:05:53 +0000"  >&lt;p&gt;Github user akunft commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-136829682&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-136829682&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Added tests + behavior described above.&lt;/p&gt;</comment>
                            <comment id="14726940" author="githubbot" created="Wed, 2 Sep 2015 07:47:31 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38506169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38506169&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,166 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.test.util.MultipleProgramsTestBase;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +import org.junit.runner.RunWith;&lt;br/&gt;
    +import org.junit.runners.Parameterized;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.Collection;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +    @BeforeClass&lt;br/&gt;
    +    public static void setupCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            Configuration config = new Configuration();
    +            config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +            config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +            cluster = new ForkableFlinkMiniCluster(config, false);
    +            cluster.start();
    +        }
&lt;p&gt;    +        catch (Exception e) &lt;/p&gt;
{
    +            e.printStackTrace();
    +            fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    @AfterClass&lt;br/&gt;
    +    public static void tearDownCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            cluster.stop();
    +        }
&lt;p&gt;    +        catch (Throwable t) &lt;/p&gt;
{
    +            t.printStackTrace();
    +            fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            env.execute();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Shouldn&apos;t we fail after this statement?&lt;/p&gt;</comment>
                            <comment id="14726942" author="githubbot" created="Wed, 2 Sep 2015 07:52:44 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38506469&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38506469&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,166 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.test.util.MultipleProgramsTestBase;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +import org.junit.runner.RunWith;&lt;br/&gt;
    +import org.junit.runners.Parameterized;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.Collection;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +    @BeforeClass&lt;br/&gt;
    +    public static void setupCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            Configuration config = new Configuration();
    +            config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +            config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +            cluster = new ForkableFlinkMiniCluster(config, false);
    +            cluster.start();
    +        }
&lt;p&gt;    +        catch (Exception e) &lt;/p&gt;
{
    +            e.printStackTrace();
    +            fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    @AfterClass&lt;br/&gt;
    +    public static void tearDownCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            cluster.stop();
    +        }
&lt;p&gt;    +        catch (Throwable t) &lt;/p&gt;
{
    +            t.printStackTrace();
    +            fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            env.execute();
    +        }
&lt;p&gt; catch (ProgramInvocationException ex) &lt;/p&gt;
{
    +            throw ex.getCause();
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that the program parallelism can be set even if the configuration is supplied.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test&lt;br/&gt;
    +    public void testUserSpecificParallelism() throws Exception {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, VALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.setParallelism(USER_DOP);&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;Integer&amp;gt; result = env.createInput(new ParallelismDependentInputFormat())&lt;br/&gt;
    +                .rebalance()&lt;br/&gt;
    +                .mapPartition(new RichMapPartitionFunction&amp;lt;Integer, Integer&amp;gt;() {&lt;br/&gt;
    +                    @Override&lt;br/&gt;
    +                    public void mapPartition(Iterable&amp;lt;Integer&amp;gt; values, Collector&amp;lt;Integer&amp;gt; out) throws Exception &lt;/p&gt;
{
    +                        out.collect(getRuntimeContext().getIndexOfThisSubtask());
    +                    }
&lt;p&gt;    +                });&lt;br/&gt;
    +        List&amp;lt;Integer&amp;gt; resultCollection = new ArrayList&amp;lt;Integer&amp;gt;();&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;Integer&amp;gt;(resultCollection));&lt;br/&gt;
    +        env.execute();&lt;br/&gt;
    +        assertEquals(USER_DOP, resultCollection.size());&lt;br/&gt;
    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    private static class ParallelismDependentInputFormat extends GenericInputFormat&amp;lt;Integer&amp;gt; {&lt;br/&gt;
    +&lt;br/&gt;
    +        private transient boolean emitted;&lt;br/&gt;
    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public GenericInputSplit[] createInputSplits(int numSplits) throws IOException &lt;/p&gt;
{
    +            assertEquals(USER_DOP, numSplits);
    +            return super.createInputSplits(numSplits);
    +        }
&lt;p&gt;    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public boolean reachedEnd() &lt;/p&gt;
{
    +            return emitted;
    +        }
&lt;p&gt;    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public Integer nextRecord(Integer reuse) {&lt;br/&gt;
    +            if (emitted) &lt;/p&gt;
{
    +                return null;
    +            }
&lt;p&gt;    +            emitted = true;&lt;br/&gt;
    +            return 1;&lt;br/&gt;
    +        }&lt;br/&gt;
    +    }&lt;br/&gt;
    +}&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This file is indented with whitespaces&lt;/p&gt;</comment>
                            <comment id="14726945" author="githubbot" created="Wed, 2 Sep 2015 07:58:03 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-136969071&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-136969071&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    From your last comment I conclude that you only wanted to allow akka specific features to be set with the configuration. However, I couldn&apos;t find how you check this. Furthermore, if I remove the `env.setParallelism` call in the `testUserSpecificParallelism` test case, then I can still control the default DOP with `config.setInteger(ConfigConstants.DEFAULT_PARALLELISM, 42)`, for example.&lt;/p&gt;</comment>
                            <comment id="14727598" author="githubbot" created="Wed, 2 Sep 2015 16:41:14 +0000"  >&lt;p&gt;Github user akunft commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38554964&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38554964&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,166 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.test.util.MultipleProgramsTestBase;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +import org.junit.runner.RunWith;&lt;br/&gt;
    +import org.junit.runners.Parameterized;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.Collection;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +    @BeforeClass&lt;br/&gt;
    +    public static void setupCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            Configuration config = new Configuration();
    +            config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +            config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +            cluster = new ForkableFlinkMiniCluster(config, false);
    +            cluster.start();
    +        }
&lt;p&gt;    +        catch (Exception e) &lt;/p&gt;
{
    +            e.printStackTrace();
    +            fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    @AfterClass&lt;br/&gt;
    +    public static void tearDownCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            cluster.stop();
    +        }
&lt;p&gt;    +        catch (Throwable t) &lt;/p&gt;
{
    +            t.printStackTrace();
    +            fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            env.execute();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Yes, I just ensure its cause of the wrong akka setting.&lt;/p&gt;</comment>
                            <comment id="14727604" author="githubbot" created="Wed, 2 Sep 2015 16:45:07 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38555428&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38555428&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,166 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.test.util.MultipleProgramsTestBase;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +import org.junit.runner.RunWith;&lt;br/&gt;
    +import org.junit.runners.Parameterized;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.Collection;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +    @BeforeClass&lt;br/&gt;
    +    public static void setupCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            Configuration config = new Configuration();
    +            config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +            config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +            cluster = new ForkableFlinkMiniCluster(config, false);
    +            cluster.start();
    +        }
&lt;p&gt;    +        catch (Exception e) &lt;/p&gt;
{
    +            e.printStackTrace();
    +            fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    @AfterClass&lt;br/&gt;
    +    public static void tearDownCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            cluster.stop();
    +        }
&lt;p&gt;    +        catch (Throwable t) &lt;/p&gt;
{
    +            t.printStackTrace();
    +            fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            env.execute();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I meant shouldn&apos;t we insert an `Assert.fail()` after this statement. If we successfully execute `execute` then something wrong happened, right?&lt;/p&gt;</comment>
                            <comment id="14727608" author="githubbot" created="Wed, 2 Sep 2015 16:47:06 +0000"  >&lt;p&gt;Github user akunft commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-137165900&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-137165900&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, I didn&apos;t enforce that the config parameter is not used, but the setParallelism overrides it.&lt;br/&gt;
    I let it like this, as it is more confusing to the user if all this is explained in the java docs and maybe someone wants to set it in the config.&lt;/p&gt;</comment>
                            <comment id="14727628" author="githubbot" created="Wed, 2 Sep 2015 16:54:51 +0000"  >&lt;p&gt;Github user akunft commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38556479&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38556479&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,166 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.test.util.MultipleProgramsTestBase;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +import org.junit.runner.RunWith;&lt;br/&gt;
    +import org.junit.runners.Parameterized;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.Collection;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +    @BeforeClass&lt;br/&gt;
    +    public static void setupCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            Configuration config = new Configuration();
    +            config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +            config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +            cluster = new ForkableFlinkMiniCluster(config, false);
    +            cluster.start();
    +        }
&lt;p&gt;    +        catch (Exception e) &lt;/p&gt;
{
    +            e.printStackTrace();
    +            fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    @AfterClass&lt;br/&gt;
    +    public static void tearDownCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            cluster.stop();
    +        }
&lt;p&gt;    +        catch (Throwable t) &lt;/p&gt;
{
    +            t.printStackTrace();
    +            fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            env.execute();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    It would still fail, as no exception is thrown. But I can generate a nicer error message. Will fix that.&lt;/p&gt;</comment>
                            <comment id="14727633" author="githubbot" created="Wed, 2 Sep 2015 16:57:06 +0000"  >&lt;p&gt;Github user akunft commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38556752&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38556752&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,166 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.test.util.MultipleProgramsTestBase;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +import org.junit.runner.RunWith;&lt;br/&gt;
    +import org.junit.runners.Parameterized;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.Collection;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +    @BeforeClass&lt;br/&gt;
    +    public static void setupCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            Configuration config = new Configuration();
    +            config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +            config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +            cluster = new ForkableFlinkMiniCluster(config, false);
    +            cluster.start();
    +        }
&lt;p&gt;    +        catch (Exception e) &lt;/p&gt;
{
    +            e.printStackTrace();
    +            fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    @AfterClass&lt;br/&gt;
    +    public static void tearDownCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            cluster.stop();
    +        }
&lt;p&gt;    +        catch (Throwable t) &lt;/p&gt;
{
    +            t.printStackTrace();
    +            fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            env.execute();
    +        }
&lt;p&gt; catch (ProgramInvocationException ex) &lt;/p&gt;
{
    +            throw ex.getCause();
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that the program parallelism can be set even if the configuration is supplied.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test&lt;br/&gt;
    +    public void testUserSpecificParallelism() throws Exception {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, VALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.setParallelism(USER_DOP);&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;Integer&amp;gt; result = env.createInput(new ParallelismDependentInputFormat())&lt;br/&gt;
    +                .rebalance()&lt;br/&gt;
    +                .mapPartition(new RichMapPartitionFunction&amp;lt;Integer, Integer&amp;gt;() {&lt;br/&gt;
    +                    @Override&lt;br/&gt;
    +                    public void mapPartition(Iterable&amp;lt;Integer&amp;gt; values, Collector&amp;lt;Integer&amp;gt; out) throws Exception &lt;/p&gt;
{
    +                        out.collect(getRuntimeContext().getIndexOfThisSubtask());
    +                    }
&lt;p&gt;    +                });&lt;br/&gt;
    +        List&amp;lt;Integer&amp;gt; resultCollection = new ArrayList&amp;lt;Integer&amp;gt;();&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;Integer&amp;gt;(resultCollection));&lt;br/&gt;
    +        env.execute();&lt;br/&gt;
    +        assertEquals(USER_DOP, resultCollection.size());&lt;br/&gt;
    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    private static class ParallelismDependentInputFormat extends GenericInputFormat&amp;lt;Integer&amp;gt; {&lt;br/&gt;
    +&lt;br/&gt;
    +        private transient boolean emitted;&lt;br/&gt;
    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public GenericInputSplit[] createInputSplits(int numSplits) throws IOException &lt;/p&gt;
{
    +            assertEquals(USER_DOP, numSplits);
    +            return super.createInputSplits(numSplits);
    +        }
&lt;p&gt;    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public boolean reachedEnd() &lt;/p&gt;
{
    +            return emitted;
    +        }
&lt;p&gt;    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public Integer nextRecord(Integer reuse) {&lt;br/&gt;
    +            if (emitted) &lt;/p&gt;
{
    +                return null;
    +            }
&lt;p&gt;    +            emitted = true;&lt;br/&gt;
    +            return 1;&lt;br/&gt;
    +        }&lt;br/&gt;
    +    }&lt;br/&gt;
    +}&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    done&lt;/p&gt;</comment>
                            <comment id="14728777" author="githubbot" created="Thu, 3 Sep 2015 09:51:52 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38629325&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38629325&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,166 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.test.util.MultipleProgramsTestBase;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +import org.junit.runner.RunWith;&lt;br/&gt;
    +import org.junit.runners.Parameterized;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.Collection;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +    private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +    @BeforeClass&lt;br/&gt;
    +    public static void setupCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            Configuration config = new Configuration();
    +            config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +            config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +            cluster = new ForkableFlinkMiniCluster(config, false);
    +            cluster.start();
    +        }
&lt;p&gt;    +        catch (Exception e) &lt;/p&gt;
{
    +            e.printStackTrace();
    +            fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    @AfterClass&lt;br/&gt;
    +    public static void tearDownCluster() {&lt;br/&gt;
    +        try &lt;/p&gt;
{
    +            cluster.stop();
    +        }
&lt;p&gt;    +        catch (Throwable t) &lt;/p&gt;
{
    +            t.printStackTrace();
    +            fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    /**&lt;br/&gt;
    +     * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +     */&lt;br/&gt;
    +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +        Configuration config = new Configuration();&lt;br/&gt;
    +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +                cluster.hostname(),&lt;br/&gt;
    +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    +                config&lt;br/&gt;
    +        );&lt;br/&gt;
    +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            env.execute();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Sorry, you&apos;re completely right. My bad.&lt;/p&gt;

&lt;p&gt;    On Wed, Sep 2, 2015 at 6:54 PM, Andreas Kunft &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; In&lt;br/&gt;
    &amp;gt; flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r38556479&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r38556479&lt;/a&gt;&amp;gt;:&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &amp;gt; +    @Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    &amp;gt; &amp;gt; +    public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    &amp;gt; &amp;gt; +        Configuration config = new Configuration();&lt;br/&gt;
    &amp;gt; &amp;gt; +        config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    &amp;gt; &amp;gt; +&lt;br/&gt;
    &amp;gt; &amp;gt; +        final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    &amp;gt; &amp;gt; +                cluster.hostname(),&lt;br/&gt;
    &amp;gt; &amp;gt; +                cluster.getLeaderRPCPort(),&lt;br/&gt;
    &amp;gt; &amp;gt; +                config&lt;br/&gt;
    &amp;gt; &amp;gt; +        );&lt;br/&gt;
    &amp;gt; &amp;gt; +        env.getConfig().disableSysoutLogging();&lt;br/&gt;
    &amp;gt; &amp;gt; +&lt;br/&gt;
    &amp;gt; &amp;gt; +        DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    &amp;gt; &amp;gt; +        result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    &amp;gt; &amp;gt; +        try {&lt;br/&gt;
    &amp;gt; &amp;gt; +            env.execute();&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; It would still fail, as no exception is thrown. But I can generate a nicer&lt;br/&gt;
    &amp;gt; error message. Will fix that.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; Reply to this email directly or view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/flink/pull/1066/files#r38556479&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066/files#r38556479&lt;/a&gt;&amp;gt;.&lt;br/&gt;
    &amp;gt;&lt;/p&gt;
</comment>
                            <comment id="14738911" author="githubbot" created="Thu, 10 Sep 2015 15:24:39 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-139279212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-139279212&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM, @tillrohrmann do you want to have another look as well?&lt;/p&gt;</comment>
                            <comment id="14740450" author="githubbot" created="Fri, 11 Sep 2015 09:07:25 +0000"  >&lt;p&gt;Github user tillrohrmann commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#discussion_r39253434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#discussion_r39253434&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-tests/src/test/java/org/apache/flink/test/javaApiOperators/RemoteEnvironmentITCase.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,164 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +package org.apache.flink.test.javaApiOperators;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapPartitionFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.io.GenericInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.common.operators.util.TestNonRichInputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.io.LocalCollectionOutputFormat;&lt;br/&gt;
    +import org.apache.flink.client.program.ProgramInvocationException;&lt;br/&gt;
    +import org.apache.flink.configuration.ConfigConstants;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.core.io.GenericInputSplit;&lt;br/&gt;
    +import org.apache.flink.test.util.ForkableFlinkMiniCluster;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.junit.AfterClass;&lt;br/&gt;
    +import org.junit.Assert;&lt;br/&gt;
    +import org.junit.BeforeClass;&lt;br/&gt;
    +import org.junit.Test;&lt;br/&gt;
    +&lt;br/&gt;
    +import java.io.IOException;&lt;br/&gt;
    +import java.util.ArrayList;&lt;br/&gt;
    +import java.util.List;&lt;br/&gt;
    +&lt;br/&gt;
    +import static org.junit.Assert.assertEquals;&lt;br/&gt;
    +import static org.junit.Assert.fail;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class RemoteEnvironmentITCase {&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final int TM_SLOTS = 4;&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final int NUM_TM = 1;&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final int USER_DOP = 2;&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final String INVALID_STARTUP_TIMEOUT = &quot;0.001 ms&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +	private static final String VALID_STARTUP_TIMEOUT = &quot;100 s&quot;;&lt;br/&gt;
    +&lt;br/&gt;
    +	private static ForkableFlinkMiniCluster cluster;&lt;br/&gt;
    +&lt;br/&gt;
    +	@BeforeClass&lt;br/&gt;
    +	public static void setupCluster() {&lt;br/&gt;
    +		try &lt;/p&gt;
{
    +			Configuration config = new Configuration();
    +			config.setInteger(ConfigConstants.LOCAL_NUMBER_TASK_MANAGER, NUM_TM);
    +			config.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS, TM_SLOTS);
    +			cluster = new ForkableFlinkMiniCluster(config, false);
    +			cluster.start();
    +		}
&lt;p&gt;    +		catch (Exception e) &lt;/p&gt;
{
    +			e.printStackTrace();
    +			fail(&quot;Error starting test cluster: &quot; + e.getMessage());
    +		}
&lt;p&gt;    +	}&lt;br/&gt;
    +&lt;br/&gt;
    +	@AfterClass&lt;br/&gt;
    +	public static void tearDownCluster() {&lt;br/&gt;
    +		try &lt;/p&gt;
{
    +			cluster.stop();
    +		}
&lt;p&gt;    +		catch (Throwable t) &lt;/p&gt;
{
    +			t.printStackTrace();
    +			fail(&quot;Cluster shutdown caused an exception: &quot; + t.getMessage());
    +		}
&lt;p&gt;    +	}&lt;br/&gt;
    +&lt;br/&gt;
    +	/**&lt;br/&gt;
    +	 * Ensure that that Akka configuration parameters can be set.&lt;br/&gt;
    +	 */&lt;br/&gt;
    +	@Test(expected=IllegalArgumentException.class)&lt;br/&gt;
    +	public void testInvalidAkkaConfiguration() throws Throwable {&lt;br/&gt;
    +		Configuration config = new Configuration();&lt;br/&gt;
    +		config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, INVALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +		final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +				cluster.hostname(),&lt;br/&gt;
    +				cluster.getLeaderRPCPort(),&lt;br/&gt;
    +				config&lt;br/&gt;
    +		);&lt;br/&gt;
    +		env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +		DataSet&amp;lt;String&amp;gt; result = env.createInput(new TestNonRichInputFormat());&lt;br/&gt;
    +		result.output(new LocalCollectionOutputFormat&amp;lt;String&amp;gt;(new ArrayList&amp;lt;String&amp;gt;()));&lt;br/&gt;
    +		try &lt;/p&gt;
{
    +			env.execute();
    +			Assert.fail(&quot;Program should not run successfully, cause of invalid akka settings.&quot;);
    +		}
&lt;p&gt; catch (ProgramInvocationException ex) &lt;/p&gt;
{
    +			throw ex.getCause();
    +		}
&lt;p&gt;    +	}&lt;br/&gt;
    +&lt;br/&gt;
    +	/**&lt;br/&gt;
    +	 * Ensure that the program parallelism can be set even if the configuration is supplied.&lt;br/&gt;
    +	 */&lt;br/&gt;
    +	@Test&lt;br/&gt;
    +	public void testUserSpecificParallelism() throws Exception {&lt;br/&gt;
    +		Configuration config = new Configuration();&lt;br/&gt;
    +		config.setString(ConfigConstants.AKKA_STARTUP_TIMEOUT, VALID_STARTUP_TIMEOUT);&lt;br/&gt;
    +&lt;br/&gt;
    +		final ExecutionEnvironment env = ExecutionEnvironment.createRemoteEnvironment(&lt;br/&gt;
    +				cluster.hostname(),&lt;br/&gt;
    +				cluster.getLeaderRPCPort(),&lt;br/&gt;
    +				config&lt;br/&gt;
    +		);&lt;br/&gt;
    +		env.setParallelism(USER_DOP);&lt;br/&gt;
    +		env.getConfig().disableSysoutLogging();&lt;br/&gt;
    +&lt;br/&gt;
    +		DataSet&amp;lt;Integer&amp;gt; result = env.createInput(new ParallelismDependentInputFormat())&lt;br/&gt;
    +				.rebalance()&lt;br/&gt;
    +				.mapPartition(new RichMapPartitionFunction&amp;lt;Integer, Integer&amp;gt;() {&lt;br/&gt;
    +					@Override&lt;br/&gt;
    +					public void mapPartition(Iterable&amp;lt;Integer&amp;gt; values, Collector&amp;lt;Integer&amp;gt; out) throws Exception &lt;/p&gt;
{
    +						out.collect(getRuntimeContext().getIndexOfThisSubtask());
    +					}
&lt;p&gt;    +				});&lt;br/&gt;
    +		List&amp;lt;Integer&amp;gt; resultCollection = new ArrayList&amp;lt;Integer&amp;gt;();&lt;br/&gt;
    +		result.output(new LocalCollectionOutputFormat&amp;lt;Integer&amp;gt;(resultCollection));&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Here you can also use `result.collect()` to obtain a list of integers.&lt;/p&gt;</comment>
                            <comment id="14740452" author="githubbot" created="Fri, 11 Sep 2015 09:08:17 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-139494208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-139494208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM modulo one minor comment.&lt;/p&gt;</comment>
                            <comment id="14741325" author="githubbot" created="Fri, 11 Sep 2015 18:37:19 +0000"  >&lt;p&gt;Github user akunft commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-139622654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-139622654&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;rebased&lt;/li&gt;
	&lt;li&gt;replaced collection output with ```collect()``` in RemoteEnvironmentITCase and ExecutionEnvironmentITCase&lt;/li&gt;
	&lt;li&gt;added ```createRemoteEnvironment``` method with config parameter in Scala ExecutionEnvironment&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14744326" author="githubbot" created="Mon, 14 Sep 2015 21:38:00 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066#issuecomment-140212838&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066#issuecomment-140212838&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the update!&lt;br/&gt;
    Will merge this PR tomorrow.&lt;/p&gt;</comment>
                            <comment id="14745386" author="githubbot" created="Tue, 15 Sep 2015 12:51:29 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1066&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1066&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14745408" author="fhueske" created="Tue, 15 Sep 2015 12:56:07 +0000"  >&lt;p&gt;Fixed with e78b80c4e4a99385ae5ef5a9afc9f8a64533a9e3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hdrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>