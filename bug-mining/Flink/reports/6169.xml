<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:08:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-25819] NetworkBufferPoolTest.testIsAvailableOrNotAfterRequestAndRecycleMultiSegments fails on AZP</title>
                <link>https://issues.apache.org/jira/browse/FLINK-25819</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;NetworkBufferPoolTest.testIsAvailableOrNotAfterRequestAndRecycleMultiSegments&lt;/tt&gt; fails on AZP with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Jan 26 07:57:03 [ERROR] testIsAvailableOrNotAfterRequestAndRecycleMultiSegments  Time elapsed: 10.028 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
Jan 26 07:57:03 org.junit.runners.model.TestTimedOutException: test timed out after 10 seconds
Jan 26 07:57:03 	at sun.misc.Unsafe.park(Native Method)
Jan 26 07:57:03 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
Jan 26 07:57:03 	at java.util.concurrent.FutureTask.awaitDone(FutureTask.java:426)
Jan 26 07:57:03 	at java.util.concurrent.FutureTask.get(FutureTask.java:204)
Jan 26 07:57:03 	at org.junit.internal.runners.statements.FailOnTimeout.getResult(FailOnTimeout.java:167)
Jan 26 07:57:03 	at org.junit.internal.runners.statements.FailOnTimeout.evaluate(FailOnTimeout.java:128)
Jan 26 07:57:03 	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:258)
Jan 26 07:57:03 	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
Jan 26 07:57:03 	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
Jan 26 07:57:03 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
Jan 26 07:57:03 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=30187&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=7350&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=30187&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=7350&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13424858">FLINK-25819</key>
            <summary>NetworkBufferPoolTest.testIsAvailableOrNotAfterRequestAndRecycleMultiSegments fails on AZP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="akalashnikov">Anton Kalashnikov</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>stale-critical</label>
                            <label>test-stability</label>
                    </labels>
                <created>Wed, 26 Jan 2022 10:00:23 +0000</created>
                <updated>Wed, 5 Apr 2023 15:27:24 +0000</updated>
                            <resolved>Mon, 28 Feb 2022 08:04:14 +0000</resolved>
                                    <version>1.14.3</version>
                                    <fixVersion>1.14.5</fixVersion>
                    <fixVersion>1.15.0</fixVersion>
                                    <component>Runtime / Network</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17482418" author="zentol" created="Wed, 26 Jan 2022 12:01:20 +0000"  >&lt;p&gt;When I run this locally the thread requesting buffers crashes with an IOException:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.io.IOException: Insufficient number of network buffers: required 5, but only 0 available. The total number of network buffers is currently set to 10 of 128 bytes each. You can increase &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; number by setting the configuration keys &lt;span class=&quot;code-quote&quot;&gt;&apos;taskmanager.memory.network.fraction&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;taskmanager.memory.network.min&apos;&lt;/span&gt;, and &lt;span class=&quot;code-quote&quot;&gt;&apos;taskmanager.memory.network.max&apos;&lt;/span&gt;.

	at org.apache.flink.runtime.io.network.buffer.NetworkBufferPool.tryRedistributeBuffers(NetworkBufferPool.java:552)
	at org.apache.flink.runtime.io.network.buffer.NetworkBufferPool.requestUnpooledMemorySegments(NetworkBufferPool.java:216)
	at org.apache.flink.runtime.io.network.buffer.NetworkBufferPoolTest$4.go(NetworkBufferPoolTest.java:634)
	at org.apache.flink.core.testutils.CheckedThread.run(CheckedThread.java:67)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As such it appears as if &lt;tt&gt;globalPool.requestUnpooledMemorySegments&lt;/tt&gt; isn&apos;t blocking at all.&lt;/p&gt;</comment>
                            <comment id="17485621" author="zentol" created="Wed, 2 Feb 2022 08:02:26 +0000"  >&lt;p&gt;Better error reporting added:&lt;br/&gt;
master: 90a824c27cb52d3565a2fd22191e6bea42873638&lt;/p&gt;</comment>
                            <comment id="17493854" author="flink-jira-bot" created="Thu, 17 Feb 2022 10:39:05 +0000"  >&lt;p&gt;I am the &lt;a href=&quot;https://github.com/apache/flink-jira-bot/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink Jira Bot&lt;/a&gt; and I help the community manage its development. I see this issues has been marked as Critical but is unassigned and neither itself nor its Sub-Tasks have been updated for 14 days. I have gone ahead and marked it &quot;stale-critical&quot;. If this ticket is critical, please either assign yourself or give an update. Afterwards, please remove the label or in 7 days the issue will be deprioritized.&lt;/p&gt;</comment>
                            <comment id="17494911" author="akalashnikov" created="Sat, 19 Feb 2022 08:07:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, are you working on this task right now? or have you just changed the reporting error and I can take this task?&lt;/p&gt;</comment>
                            <comment id="17498153" author="dawidwys" created="Fri, 25 Feb 2022 14:30:36 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;master
	&lt;ul&gt;
		&lt;li&gt;f4e58369e6a26c94067c733ec971e3e0d89cdec4..44da40f1f7cc61cb6b696e520ac5686de6da2191&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.14.5
	&lt;ul&gt;
		&lt;li&gt;7a6c3c1b978a75898ff3f09a715e25e7e9e91690..e4c99b19e9fa876157a98d23b5b5bc498da7fac9&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17502752" author="gaoyunhaii" created="Tue, 8 Mar 2022 06:45:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32654&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=c2734c79-73b6-521c-e85a-67c7ecae9107&amp;amp;l=5932&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32654&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=c2734c79-73b6-521c-e85a-67c7ecae9107&amp;amp;l=5932&lt;/a&gt; The issue happend also on 1.13&lt;/p&gt;</comment>
                            <comment id="17503341" author="gaoyunhaii" created="Wed, 9 Mar 2022 07:21:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32697&amp;amp;view=logs&amp;amp;j=59c257d0-c525-593b-261d-e96a86f1926b&amp;amp;t=b93980e3-753f-5433-6a19-13747adae66a&amp;amp;l=5932&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=32697&amp;amp;view=logs&amp;amp;j=59c257d0-c525-593b-261d-e96a86f1926b&amp;amp;t=b93980e3-753f-5433-6a19-13747adae66a&amp;amp;l=5932&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; could you also pick the fix to 1.13~? It seems to reproduce on 1.13 with some probability. &lt;/p&gt;</comment>
                            <comment id="17503355" author="dawidwys" created="Wed, 9 Mar 2022 07:52:09 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akalashnikov&quot; class=&quot;user-hover&quot; rel=&quot;akalashnikov&quot;&gt;akalashnikov&lt;/a&gt;, do you mind creating a backport for 1.13?&lt;/p&gt;</comment>
                            <comment id="17503435" author="akalashnikov" created="Wed, 9 Mar 2022 09:33:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; , yes, sure. PR - &lt;a href=&quot;https://github.com/apache/flink/pull/19018&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/19018&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0yyl4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>