<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:23:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-3569] Test cases fail due to Maven Shade plugin</title>
                <link>https://issues.apache.org/jira/browse/FLINK-3569</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Tests like the &lt;tt&gt;ClassLoaderITCase&lt;/tt&gt; use relative paths to find some jars. The working directory (basedir) is changed by the Maven Shade plugin when it has &lt;tt&gt;dependencyReducedPomLocation&lt;/tt&gt; configured.&lt;/p&gt;

&lt;p&gt;Thus, we need to explicitly set the working directory (if possibly in the plugin configuration) or prevent shading from execute.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946523">FLINK-3569</key>
            <summary>Test cases fail due to Maven Shade plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mxm">Maximilian Michels</assignee>
                                    <reporter username="mxm">Maximilian Michels</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 11:50:29 +0000</created>
                <updated>Fri, 11 Mar 2016 09:20:18 +0000</updated>
                            <resolved>Sat, 5 Mar 2016 13:50:20 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15177717" author="githubbot" created="Thu, 3 Mar 2016 11:53:20 +0000"  >&lt;p&gt;GitHub user mxm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1757&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1757&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3569&quot; title=&quot;Test cases fail due to Maven Shade plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3569&quot;&gt;&lt;del&gt;FLINK-3569&lt;/del&gt;&lt;/a&gt; set Maven Surefire working directory&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mxm/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mxm/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3569&quot; title=&quot;Test cases fail due to Maven Shade plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3569&quot;&gt;&lt;del&gt;FLINK-3569&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1757.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1757.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1757&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3239339480323645839921b9cdc8e5699614d7fc&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-03-03T11:51:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3569&quot; title=&quot;Test cases fail due to Maven Shade plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3569&quot;&gt;&lt;del&gt;FLINK-3569&lt;/del&gt;&lt;/a&gt; set Maven Surefire working directory&lt;/p&gt;

&lt;p&gt;commit f90dcf134f8180b377a8530452bbc05058504d7a&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-03-03T11:52:32Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;maven&amp;#93;&lt;/span&gt; explicitly disable shading of flink-dist&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;shading was previously disabled through setting the force-shading&lt;br/&gt;
      dependency to provided&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15177782" author="githubbot" created="Thu, 3 Mar 2016 13:04:20 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1757#issuecomment-191752822&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1757#issuecomment-191752822&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Sorry, still failing (wasn&apos;t failing in my machine). I&apos;ll look into it.&lt;/p&gt;</comment>
                            <comment id="15178070" author="githubbot" created="Thu, 3 Mar 2016 16:36:58 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1757#issuecomment-191842883&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1757#issuecomment-191842883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Setting the Surefire working directory is not possible because the Shade plugin changes the basedir beforehand. We will have to change the test cases for now if we don&apos;t want to have a dependency reduced pom in the basedir.&lt;/p&gt;</comment>
                            <comment id="15178071" author="githubbot" created="Thu, 3 Mar 2016 16:36:58 +0000"  >&lt;p&gt;Github user mxm closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1757&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1757&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15178079" author="mxm" created="Thu, 3 Mar 2016 16:39:30 +0000"  >&lt;p&gt;I&apos;ll open a new pull request once I have fixed the test cases. Basically, all ITCases (which are executed after the Shade plugin has been activated) have to be adapted to look at a different file path.&lt;/p&gt;</comment>
                            <comment id="15179852" author="githubbot" created="Fri, 4 Mar 2016 12:59:13 +0000"  >&lt;p&gt;GitHub user mxm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1767&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1767&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3569&quot; title=&quot;Test cases fail due to Maven Shade plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3569&quot;&gt;&lt;del&gt;FLINK-3569&lt;/del&gt;&lt;/a&gt; fix test cases that expect a different working directory&lt;/p&gt;

&lt;p&gt;    All the IT cases executed after shading now have the target directory as working directory.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mxm/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mxm/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3569&quot; title=&quot;Test cases fail due to Maven Shade plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3569&quot;&gt;&lt;del&gt;FLINK-3569&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1767.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1767.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1767&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7a229ab987b36cf341e0d78b6b92aab79a62ea8f&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-03-03T11:52:32Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;maven&amp;#93;&lt;/span&gt; explicitly disable shading of flink-dist&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;shading was previously disabled through setting the force-shading&lt;br/&gt;
      dependency to provided&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 07ad4044ef1d746a4e8b54721436aedf894d42a3&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-03-03T15:31:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3569&quot; title=&quot;Test cases fail due to Maven Shade plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3569&quot;&gt;&lt;del&gt;FLINK-3569&lt;/del&gt;&lt;/a&gt; fix test cases that expect a different working directory&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;all the it cases executed after shading now have the target directory&lt;br/&gt;
      as working directory&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15180074" author="githubbot" created="Fri, 4 Mar 2016 16:12:29 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1767#issuecomment-192338586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1767#issuecomment-192338586&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think it is fixed now. The YARN test run in test scope and are not shaded...&lt;/p&gt;</comment>
                            <comment id="15180157" author="githubbot" created="Fri, 4 Mar 2016 17:08:58 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1767#issuecomment-192361294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1767#issuecomment-192361294&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, merging this...&lt;/p&gt;</comment>
                            <comment id="15181713" author="mxm" created="Sat, 5 Mar 2016 13:50:20 +0000"  >&lt;p&gt;master: bb62ab082f7e6157138d509e305e10510badc491&lt;br/&gt;
release-1.0: fd0830eadfb1feb00df95a3f9d52bff9edf49a04&lt;/p&gt;</comment>
                            <comment id="15189758" author="githubbot" created="Thu, 10 Mar 2016 19:07:17 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1767#issuecomment-195003857&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1767#issuecomment-195003857&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This has been merged into master (1.1.x) and release-1.0 (1.0.x).&lt;/p&gt;

&lt;p&gt;    @mxm Can you close this? (was not autoclosed)&lt;/p&gt;</comment>
                            <comment id="15190690" author="githubbot" created="Fri, 11 Mar 2016 09:20:18 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1767#issuecomment-195282751&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1767#issuecomment-195282751&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Sure. Thanks for merging!&lt;/p&gt;</comment>
                            <comment id="15190691" author="githubbot" created="Fri, 11 Mar 2016 09:20:18 +0000"  >&lt;p&gt;Github user mxm closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1767&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1767&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12946152">FLINK-3565</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u3ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>