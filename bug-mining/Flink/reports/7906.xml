<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:22:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-38379] Adjust visitMultiJoin in RelTimeIndicatorConverter to use fields and not rows</title>
                <link>https://issues.apache.org/jira/browse/FLINK-38379</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;There&apos;s an issue when materializing time attributes for MultiJoin: we were using the row type instead of the combined list of joined field types. The solution is simple: we need to init the materializer with a list of all fields from all inputs, not just the rows from each one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13629320">FLINK-38379</key>
            <summary>Adjust visitMultiJoin in RelTimeIndicatorConverter to use fields and not rows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gustavodemorais">Gustavo de Morais</assignee>
                                    <reporter username="gustavodemorais">Gustavo de Morais</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 18 Sep 2025 11:48:16 +0000</created>
                <updated>Mon, 22 Sep 2025 07:22:26 +0000</updated>
                            <resolved>Fri, 19 Sep 2025 14:34:07 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18021150" author="JIRAUSER307895" created="Thu, 18 Sep 2025 11:50:53 +0000"  >&lt;p&gt;This can be reproduced and will be fixed for this nexmark benchmark query&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; TableTestProgram MULTI_JOIN_NEXMARK_AUCTION_BID_AGGREGATION =
TableTestProgram.of(
&lt;span class=&quot;code-quote&quot;&gt;&quot;nexmark-auction-bid-aggregation&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;Nexmark auction and bid aggregation with time-based filtering&quot;&lt;/span&gt;)
.setupConfig(OptimizerConfigOptions.TABLE_OPTIMIZER_MULTI_JOIN_ENABLED, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
.setupTableSource(
SourceTestStep.newBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;auctions&quot;&lt;/span&gt;)
.addSchema(
&lt;span class=&quot;code-quote&quot;&gt;&quot;id BIGINT PRIMARY KEY NOT ENFORCED&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;category BIGINT&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;auctionTimestamp STRING&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;expiresTimestamp STRING&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;auctionDateTime AS TO_TIMESTAMP(auctionTimestamp)&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;expires AS TO_TIMESTAMP(expiresTimestamp)&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;WATERMARK FOR auctionDateTime AS auctionDateTime - INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; SECOND&quot;&lt;/span&gt;)
.addOption(&lt;span class=&quot;code-quote&quot;&gt;&quot;changelog-mode&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;I&quot;&lt;/span&gt;)
.producedValues(
Row.ofKind(
RowKind.INSERT,
1L,
1L,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:00:00&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:30:00&quot;&lt;/span&gt;),
Row.ofKind(
RowKind.INSERT,
2L,
2L,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:05:00&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:35:00&quot;&lt;/span&gt;))
.build())
.setupTableSource(
SourceTestStep.newBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;bids&quot;&lt;/span&gt;)
.addSchema(
&lt;span class=&quot;code-quote&quot;&gt;&quot;auction BIGINT&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;price DOUBLE&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;bidTimestamp STRING&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;bidDateTime AS TO_TIMESTAMP(bidTimestamp)&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;WATERMARK FOR bidDateTime AS bidDateTime - INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; SECOND&quot;&lt;/span&gt;)
.addOption(&lt;span class=&quot;code-quote&quot;&gt;&quot;changelog-mode&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;I&quot;&lt;/span&gt;)
.producedValues(
Row.ofKind(
RowKind.INSERT,
1L,
12.0,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:15:00&quot;&lt;/span&gt;),
Row.ofKind(
RowKind.INSERT,
1L,
15.0,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:20:00&quot;&lt;/span&gt;),
Row.ofKind(
RowKind.INSERT,
2L,
25.0,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:25:00&quot;&lt;/span&gt;),
Row.ofKind(
RowKind.INSERT,
1L,
20.0,
&lt;span class=&quot;code-quote&quot;&gt;&quot;2024-01-01 12:45:00&quot;&lt;/span&gt;))
.build())
.setupTableSink(
SinkTestStep.newBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;sink&quot;&lt;/span&gt;)
.addSchema(&lt;span class=&quot;code-quote&quot;&gt;&quot;category BIGINT&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;avg_final DOUBLE&quot;&lt;/span&gt;)
.consumedValues(
&lt;span class=&quot;code-quote&quot;&gt;&quot;+I[1, 15.0]&quot;&lt;/span&gt;, &lt;span class=&quot;code-comment&quot;&gt;// Category 1: MAX(15.0, 12.0) = 15
&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;+I[2, 25.0]&quot;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// Category 2: 25.0 / 1 = 25.0
&lt;/span&gt;.testMaterializedData()
.build())
.runSql(
&lt;span class=&quot;code-quote&quot;&gt;&quot;INSERT INTO sink &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT Q.category, AVG(Q.&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;) &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot;FROM ( &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot; SELECT MAX(B.price) AS &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;, A.category &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot; FROM auctions A, bids B &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot; WHERE A.id = B.auction AND B.bidDateTime BETWEEN A.auctionDateTime AND A.expires &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot; GROUP BY A.id, A.category &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot;) Q &quot;&lt;/span&gt;
+ &lt;span class=&quot;code-quote&quot;&gt;&quot;GROUP BY Q.category&quot;&lt;/span&gt;)
.build();
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="18021430" author="sergey nuyanzin" created="Fri, 19 Sep 2025 14:34:02 +0000"  >&lt;p&gt;Merged as &lt;a href=&quot;https://github.com/apache/flink/commit/c3e0dbed1c177cba07ff6772dce6e6fe0e7af586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c3e0dbed1c177cba07ff6772dce6e6fe0e7af586&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13619390">FLINK-37859</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xrh4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>