<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:28:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-6867] Elasticsearch 1.x ITCase still instable due to embedded node instability</title>
                <link>https://issues.apache.org/jira/browse/FLINK-6867</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The integration tests for Elasticsearch 1.x seems to still be instable, being that the test is failing more frequently recently. One example is &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The last attempt to fix this was &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5772&quot; title=&quot;Instability with embedded Elasticsearch node in ElasticsearchSink test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5772&quot;&gt;&lt;del&gt;FLINK-5772&lt;/del&gt;&lt;/a&gt;, in which the test attempts was increased to 3. This doesn&apos;t seem to fix the issue. In the worst scenario, since the root cause is an instability with Elasticsearch 1.x&apos;s embedded node, and ES 1.x is a very old version that is usually recommended to be upgraded from, we could also consider removing the IT test for ES 1.x.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://travis-ci.org/apache/flink/jobs/240444523&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/flink/jobs/240444523&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13078220">FLINK-6867</key>
            <summary>Elasticsearch 1.x ITCase still instable due to embedded node instability</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tzulitai">Tzu-Li (Gordon) Tai</assignee>
                                    <reporter username="tzulitai">Tzu-Li (Gordon) Tai</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jun 2017 06:27:24 +0000</created>
                <updated>Sat, 1 Jul 2017 12:23:15 +0000</updated>
                            <resolved>Sat, 1 Jul 2017 12:23:15 +0000</resolved>
                                                    <fixVersion>1.3.2</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Connectors / ElasticSearch</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16064478" author="githubbot" created="Tue, 27 Jun 2017 08:43:58 +0000"  >&lt;p&gt;GitHub user tzulitai opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4191&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4191&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6867&quot; title=&quot;Elasticsearch 1.x ITCase still instable due to embedded node instability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6867&quot;&gt;&lt;del&gt;FLINK-6867&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;elasticsearch&amp;#93;&lt;/span&gt; Fix instable Elasticsearch 1.x ITCases&lt;/p&gt;

&lt;p&gt;    The root cause for the instability in ES 1.x is that we&apos;re testing both embedded client mode and transport client mode against the same Elasticsearch environment. This PR ignores the embedded mode testing, as that method is generally discouraged anyways.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tzulitai/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tzulitai/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6867&quot; title=&quot;Elasticsearch 1.x ITCase still instable due to embedded node instability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6867&quot;&gt;&lt;del&gt;FLINK-6867&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4191.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4191.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4191&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ee09a7b99adbbadec584c5df1297139303f0c604&lt;br/&gt;
Author: Tzu-Li (Gordon) Tai &amp;lt;tzulitai@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-06-27T08:40:51Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6867&quot; title=&quot;Elasticsearch 1.x ITCase still instable due to embedded node instability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6867&quot;&gt;&lt;del&gt;FLINK-6867&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;elasticsearch&amp;#93;&lt;/span&gt; Fix instable Elasticsearch 1.x ITCases&lt;/p&gt;

&lt;p&gt;    The root cause for the instability in ES 1.x is that we&apos;re testing both&lt;br/&gt;
    embedded client mode and transport client mode against the same&lt;br/&gt;
    Elasticsearch environment. This commit ignores the embedded mode&lt;br/&gt;
    testing, as that method is generally discouraged anyways.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16064766" author="githubbot" created="Tue, 27 Jun 2017 12:39:32 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4191#discussion_r124260636&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4191#discussion_r124260636&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-elasticsearch/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/ElasticsearchSinkITCase.java &amp;#8212;&lt;br/&gt;
    @@ -67,7 +68,11 @@ public void testTransportClientFails() throws Exception{&lt;/p&gt;

&lt;p&gt;     	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Tests that the Elasticsearch sink works properly using an embedded node to connect to Elasticsearch.&lt;br/&gt;
    +	 *&lt;br/&gt;
    +	 * NOTE: This is ignored, since executing both embedded client mode and transport client mode introduces&lt;br/&gt;
    +	 * instability for node discovery in ES 1.x. See &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6867&quot; title=&quot;Elasticsearch 1.x ITCase still instable due to embedded node instability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6867&quot;&gt;&lt;del&gt;FLINK-6867&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
     	 */&lt;br/&gt;
    +	@Ignore
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Do we expect to ever enable this test again? if not, let&apos;s just remove it.&lt;/p&gt;</comment>
                            <comment id="16064768" author="githubbot" created="Tue, 27 Jun 2017 12:40:44 +0000"  >&lt;p&gt;Github user zentol commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4191#discussion_r124260908&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4191#discussion_r124260908&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-elasticsearch/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/ElasticsearchSinkITCase.java &amp;#8212;&lt;br/&gt;
    @@ -67,7 +68,11 @@ public void testTransportClientFails() throws Exception{&lt;/p&gt;

&lt;p&gt;     	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Tests that the Elasticsearch sink works properly using an embedded node to connect to Elasticsearch.&lt;br/&gt;
    +	 *&lt;br/&gt;
    +	 * NOTE: This is ignored, since executing both embedded client mode and transport client mode introduces&lt;br/&gt;
    +	 * instability for node discovery in ES 1.x. See &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6867&quot; title=&quot;Elasticsearch 1.x ITCase still instable due to embedded node instability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6867&quot;&gt;&lt;del&gt;FLINK-6867&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
     	 */&lt;br/&gt;
    +	@Ignore
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    that would also resolve the checkstyle violation &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16064892" author="githubbot" created="Tue, 27 Jun 2017 14:09:50 +0000"  >&lt;p&gt;Github user tzulitai commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4191#discussion_r124284249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4191#discussion_r124284249&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-elasticsearch/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/ElasticsearchSinkITCase.java &amp;#8212;&lt;br/&gt;
    @@ -67,7 +68,11 @@ public void testTransportClientFails() throws Exception{&lt;/p&gt;

&lt;p&gt;     	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Tests that the Elasticsearch sink works properly using an embedded node to connect to Elasticsearch.&lt;br/&gt;
    +	 *&lt;br/&gt;
    +	 * NOTE: This is ignored, since executing both embedded client mode and transport client mode introduces&lt;br/&gt;
    +	 * instability for node discovery in ES 1.x. See &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6867&quot; title=&quot;Elasticsearch 1.x ITCase still instable due to embedded node instability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6867&quot;&gt;&lt;del&gt;FLINK-6867&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
     	 */&lt;br/&gt;
    +	@Ignore
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I would not expect it to be enabled again, at least for the Travis runs.&lt;br/&gt;
    At the rate of the new Elasticsearch versions (there&apos;s already a 6.x now), we might also consider dropping 1.x support soon.&lt;/p&gt;

&lt;p&gt;    Makes sense, will remove it completely &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16069436" author="githubbot" created="Fri, 30 Jun 2017 04:06:34 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4191&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4191&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging once Travis gives green.&lt;/p&gt;</comment>
                            <comment id="16071080" author="githubbot" created="Sat, 1 Jul 2017 07:37:05 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4191&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4191&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16071195" author="tzulitai" created="Sat, 1 Jul 2017 12:23:15 +0000"  >&lt;p&gt;Fixed for master via 2d275e0c26b6e9b13df89450e7ff6291cae5bede.&lt;br/&gt;
Fixed for 1.3 via 0d02f26e76823731415936ccc211844a6057408a.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g0sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>