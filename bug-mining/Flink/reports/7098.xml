<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:17:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-32254] FineGrainedSlotManager may not allocate enough taskmangers if maxSlotNum is configured</title>
                <link>https://issues.apache.org/jira/browse/FLINK-32254</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;We ran a job with &lt;tt&gt;slotmanager.number-of-slots.max = 10&lt;/tt&gt;, &lt;tt&gt;taskmanager.numberOfTaskSlots = 10&lt;/tt&gt; and &lt;tt&gt;taskmanager.memory.process.size: 24000m&lt;/tt&gt;. The resources of the cluster are sufficient, but no TaskManager can be allocated. It seems that there is a problem with the calculation logic of &lt;tt&gt;SlotManagerConfiguration#getMaxTotalMem&lt;/tt&gt;. Due to the rounding down of division, the calculated &lt;tt&gt;MemorySize&lt;/tt&gt; is too small.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13538769">FLINK-32254</key>
            <summary>FineGrainedSlotManager may not allocate enough taskmangers if maxSlotNum is configured</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Weijie Guo">Weijie Guo</assignee>
                                    <reporter username="Weijie Guo">Weijie Guo</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 5 Jun 2023 13:04:22 +0000</created>
                <updated>Wed, 7 Jun 2023 09:01:38 +0000</updated>
                            <resolved>Wed, 7 Jun 2023 09:01:31 +0000</resolved>
                                    <version>1.16.0</version>
                                    <fixVersion>1.18.0</fixVersion>
                    <fixVersion>1.16.3</fixVersion>
                    <fixVersion>1.17.2</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17729594" author="huwh" created="Tue, 6 Jun 2023 05:38:48 +0000"  >&lt;p&gt;Thanks for reporting this bug. This is definitely a bug. But in this case, 24000/10*10 is also 24000. This does not lose any precision.  Please correct me if I am wrong.&lt;/p&gt;</comment>
                            <comment id="17729597" author="weijie guo" created="Tue, 6 Jun 2023 05:52:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huwh&quot; class=&quot;user-hover&quot; rel=&quot;huwh&quot;&gt;huwh&lt;/a&gt; In fact, the &lt;tt&gt;defaultWorkerResourceSpec.getTotalMemSize()&lt;/tt&gt; is used to calculate &lt;tt&gt;maxTotalMem&lt;/tt&gt;, which is not exactly equal to &lt;tt&gt;taskmanager.memory.process.size&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17729629" author="huwh" created="Tue, 6 Jun 2023 07:30:48 +0000"  >&lt;p&gt;Thanks for your clarification. &lt;/p&gt;</comment>
                            <comment id="17730012" author="weijie guo" created="Wed, 7 Jun 2023 09:01:14 +0000"  >&lt;p&gt;master(1.18) via a008f25b87130a4320f0c8a46f3f9cd1ad09f503.&lt;br/&gt;
release-1.17 via ff52b475d14abbc8b7e6dd1fc19500a18491e78d.&lt;br/&gt;
release-1.16 via b5bffa89f4a85ddc561d18452c58dad763bb4035.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iby8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>