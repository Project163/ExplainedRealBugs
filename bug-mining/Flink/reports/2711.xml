<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:35:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-10463] Null literal cannot be properly parsed in Java Table API function call</title>
                <link>https://issues.apache.org/jira/browse/FLINK-10463</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;For example, the expression `Null(STRING).regexpReplace(&apos;oo|ar&apos;, &apos;&apos;)` throws the following exception.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.flink.table.api.ExpressionParserException: Could not parse expression at column 13: string matching regex `(?i)\Qas\E(?![_$\p{javaJavaIdentifierPart}])&lt;span class=&quot;code-quote&quot;&gt;&apos; expected but `.&apos;&lt;/span&gt; found
Null(STRING).regexpReplace(&lt;span class=&quot;code-quote&quot;&gt;&apos;oo|ar&apos;&lt;/span&gt;, &apos;&apos;)
            ^

	at org.apache.flink.table.expressions.ExpressionParser$.throwError(ExpressionParser.scala:576)
	at org.apache.flink.table.expressions.ExpressionParser$.parseExpression(ExpressionParser.scala:569)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13188302">FLINK-10463</key>
            <summary>Null literal cannot be properly parsed in Java Table API function call</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hequn8128">Hequn Cheng</assignee>
                                    <reporter username="xccui">Xingcan Cui</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 29 Sep 2018 08:21:15 +0000</created>
                <updated>Wed, 7 Nov 2018 11:34:48 +0000</updated>
                            <resolved>Tue, 6 Nov 2018 15:30:17 +0000</resolved>
                                                    <fixVersion>1.6.3</fixVersion>
                    <fixVersion>1.7.0</fixVersion>
                                    <component>Table SQL / API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16657793" author="githubbot" created="Sat, 20 Oct 2018 09:01:07 +0000"  >&lt;p&gt;hequn8128 opened a new pull request #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888&lt;/a&gt;&lt;/p&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This is a hotfix to solve Null literal parse problem in Java Table API function call. For example, the expression `Null(STRING).regexpReplace(&apos;oo|ar&apos;, &apos;&apos;)` throws parse exception.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fix parse problem for Null literal.&lt;/li&gt;
	&lt;li&gt;Add documents about cast null to types.&lt;/li&gt;
	&lt;li&gt;Add a test to verify result.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   This change added tests and can be verified as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added a test for the parse&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: (no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (no)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (no)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16657797" author="githubbot" created="Sat, 20 Oct 2018 09:16:11 +0000"  >&lt;p&gt;xccui commented on a change in pull request #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888#discussion_r226821436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888#discussion_r226821436&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: flink-libraries/flink-table/src/main/scala/org/apache/flink/table/expressions/ExpressionParser.scala&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -455,7 +455,7 @@ object ExpressionParser extends JavaTokenParsers with PackratParsers {&lt;/p&gt;

&lt;p&gt;   // suffix/prefix composite&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;lazy val composite: PackratParser&lt;span class=&quot;error&quot;&gt;&amp;#91;Expression&amp;#93;&lt;/span&gt; = over | nullLiteral | suffixed | prefixed | atom |&lt;br/&gt;
+  lazy val composite: PackratParser&lt;span class=&quot;error&quot;&gt;&amp;#91;Expression&amp;#93;&lt;/span&gt; = over | suffixed | nullLiteral | prefixed | atom |&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   This is documented in the TableAPI.md page. Update it correspondingly?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16657819" author="githubbot" created="Sat, 20 Oct 2018 10:32:42 +0000"  >&lt;p&gt;hequn8128 commented on issue #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888#issuecomment-431568812&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888#issuecomment-431568812&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @xccui Thanks a lot for your review. I have addressed your comments and updated the pr. &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16673973" author="githubbot" created="Sat, 3 Nov 2018 09:00:40 +0000"  >&lt;p&gt;xccui commented on issue #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888#issuecomment-435572138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888#issuecomment-435572138&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Sorry for the late response @hequn8128. As illustrated in &lt;span class=&quot;error&quot;&gt;&amp;#91;this stackoverflow question&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://stackoverflow.com/questions/26453870/scala-packratparsers-does-not-backtrack-as-it-should&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/26453870/scala-packratparsers-does-not-backtrack-as-it-should&lt;/a&gt;), patterns reordering could be the proper way to deal with this problem. +1 to your solution.&lt;/p&gt;

&lt;p&gt;   BTW, @twalthr, it seems that the doc for expression syntax in `TableAPI.md` has not been maintained for a long time. As the syntax being more and more complicated, do you think we should still keep them &#8220;strongly consistent&#8221; with the codes? &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16675252" author="githubbot" created="Mon, 5 Nov 2018 14:38:29 +0000"  >&lt;p&gt;twalthr commented on issue #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888#issuecomment-435897796&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888#issuecomment-435897796&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @xccui I think we don&apos;t need to keep the expression syntax &quot;strongly consistent&quot;. Internally, the syntax has been more and more complicated but from an API perspective it should not have become more complex. In most cases the syntax is equivalent with the Scala syntax. We should only cover big differences.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16676277" author="githubbot" created="Tue, 6 Nov 2018 07:23:13 +0000"  >&lt;p&gt;xccui commented on issue #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888#issuecomment-436155099&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888#issuecomment-436155099&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks for the response @twalthr. &lt;br/&gt;
   @hequn8128, thanks for your contribution, I&apos;ll merge this.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16676278" author="githubbot" created="Tue, 6 Nov 2018 07:23:24 +0000"  >&lt;p&gt;xccui edited a comment on issue #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888#issuecomment-436155099&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888#issuecomment-436155099&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks for the response @twalthr. &lt;br/&gt;
   @hequn8128, thanks for your contribution. I&apos;ll merge this.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16676846" author="githubbot" created="Tue, 6 Nov 2018 14:43:46 +0000"  >&lt;p&gt;hequn8128 commented on issue #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888#issuecomment-436276465&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888#issuecomment-436276465&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thank you all for the review and suggestions!&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16676893" author="githubbot" created="Tue, 6 Nov 2018 15:26:43 +0000"  >&lt;p&gt;asfgit closed pull request #6888: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10463&quot; title=&quot;Null literal cannot be properly parsed in Java Table API function call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10463&quot;&gt;&lt;del&gt;FLINK-10463&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Null literal cannot be properly parsed in Java Table API function call&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/flink/pull/6888&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/6888&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/docs/dev/table/functions.md b/docs/dev/table/functions.md&lt;br/&gt;
index e47b31772b3..e652c304e93 100644&lt;br/&gt;
&amp;#8212; a/docs/dev/table/functions.md&lt;br/&gt;
+++ b/docs/dev/table/functions.md&lt;br/&gt;
@@ -4186,7 +4186,7 @@ CAST(value AS type)&lt;br/&gt;
       &amp;lt;/td&amp;gt;&lt;br/&gt;
       &amp;lt;td&amp;gt;&lt;br/&gt;
         &amp;lt;p&amp;gt;Returns a new &amp;lt;i&amp;gt;value&amp;lt;/i&amp;gt; being cast to type &amp;lt;i&amp;gt;type&amp;lt;/i&amp;gt;. See the supported types &amp;lt;a href=&quot;sql.html#data-types&quot;&amp;gt;here&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;E.g., &amp;lt;code&amp;gt;CAST(&apos;42&apos; AS INT)&amp;lt;/code&amp;gt; returns 42.&amp;lt;/p&amp;gt;&lt;br/&gt;
+        &amp;lt;p&amp;gt;E.g., &amp;lt;code&amp;gt;CAST(&apos;42&apos; AS INT)&amp;lt;/code&amp;gt; returns 42; &amp;lt;code&amp;gt;CAST(NULL AS VARCHAR)&amp;lt;/code&amp;gt; returns NULL of type VARCHAR.&amp;lt;/p&amp;gt;&lt;br/&gt;
       &amp;lt;/td&amp;gt;&lt;br/&gt;
     &amp;lt;/tr&amp;gt;&lt;br/&gt;
   &amp;lt;/tbody&amp;gt;&lt;br/&gt;
@@ -4211,7 +4211,7 @@ ANY.cast(TYPE)&lt;br/&gt;
       &amp;lt;/td&amp;gt;&lt;br/&gt;
       &amp;lt;td&amp;gt;&lt;br/&gt;
         &amp;lt;p&amp;gt;Returns a new &amp;lt;i&amp;gt;ANY&amp;lt;/i&amp;gt; being cast to type &amp;lt;i&amp;gt;TYPE&amp;lt;/i&amp;gt;. See the supported types &amp;lt;a href=&quot;tableApi.html#data-types&quot;&amp;gt;here&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;E.g., &amp;lt;code&amp;gt;&apos;42&apos;.cast(INT)&amp;lt;/code&amp;gt; returns 42.&amp;lt;/p&amp;gt;&lt;br/&gt;
+        &amp;lt;p&amp;gt;E.g., &amp;lt;code&amp;gt;&apos;42&apos;.cast(INT)&amp;lt;/code&amp;gt; returns 42; &amp;lt;code&amp;gt;Null(STRING)&amp;lt;/code&amp;gt; returns NULL of type STRING.&amp;lt;/p&amp;gt;&lt;br/&gt;
       &amp;lt;/td&amp;gt;&lt;br/&gt;
     &amp;lt;/tr&amp;gt;&lt;br/&gt;
     &amp;lt;/tbody&amp;gt;&lt;br/&gt;
@@ -4236,7 +4236,7 @@ ANY.cast(TYPE)&lt;br/&gt;
       &amp;lt;/td&amp;gt;&lt;br/&gt;
       &amp;lt;td&amp;gt;&lt;br/&gt;
         &amp;lt;p&amp;gt;Returns a new &amp;lt;i&amp;gt;ANY&amp;lt;/i&amp;gt; being cast to type &amp;lt;i&amp;gt;TYPE&amp;lt;/i&amp;gt;. See the supported types &amp;lt;a href=&quot;tableApi.html#data-types&quot;&amp;gt;here&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;E.g., &amp;lt;code&amp;gt;&quot;42&quot;.cast(Types.INT)&amp;lt;/code&amp;gt; returns 42.&amp;lt;/p&amp;gt;&lt;br/&gt;
+        &amp;lt;p&amp;gt;E.g., &amp;lt;code&amp;gt;&quot;42&quot;.cast(Types.INT)&amp;lt;/code&amp;gt; returns 42; &amp;lt;code&amp;gt;Null(Types.STRING)&amp;lt;/code&amp;gt; returns NULL of type STRING.&amp;lt;/p&amp;gt;&lt;br/&gt;
       &amp;lt;/td&amp;gt;&lt;br/&gt;
     &amp;lt;/tr&amp;gt;&lt;br/&gt;
   &amp;lt;/tbody&amp;gt;&lt;br/&gt;
diff --git a/docs/dev/table/tableApi.md b/docs/dev/table/tableApi.md&lt;br/&gt;
index 6c4e1be0cf7..3f599a8f5a2 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/docs/dev/table/tableApi.md&lt;br/&gt;
+++ b/docs/dev/table/tableApi.md&lt;br/&gt;
@@ &lt;del&gt;1738,11 &lt;ins&gt;1738,13 @@ term = product , [ ( &quot;&lt;/ins&gt;&quot; | &quot;&lt;/del&gt;&quot; ) , product ] ;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; product = unary , [ ( &quot;*&quot; | &quot;/&quot; | &quot;%&quot;) , unary ] ;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;unary = [ &quot;!&quot; | &quot;&lt;/del&gt;&quot; ] , composite ;&lt;br/&gt;
&lt;ins&gt;unary = [ &quot;!&quot; | &quot;-&quot; | &quot;&lt;/ins&gt;&quot; ] , composite ;&lt;/p&gt;

&lt;p&gt;-composite = over | nullLiteral | suffixed | atom ;&lt;br/&gt;
+composite = over | suffixed | nullLiteral | prefixed | atom ;&lt;/p&gt;

&lt;p&gt;-suffixed = interval | cast | as | if | functionCall ;&lt;br/&gt;
+suffixed = interval | suffixAs | suffixCast | suffixIf | suffixDistinct | suffixFunctionCall ;&lt;br/&gt;
+&lt;br/&gt;
+prefixed = prefixAs | prefixCast | prefixIf | prefixDistinct | prefixFunctionCall ;&lt;/p&gt;

&lt;p&gt; interval = timeInterval | rowInterval ;&lt;/p&gt;

&lt;p&gt;@@ -1750,15 +1752,27 @@ timeInterval = composite , &quot;.&quot; , (&quot;year&quot; | &quot;years&quot; | &quot;quarter&quot; | &quot;quarters&quot; | &quot;m&lt;/p&gt;

&lt;p&gt; rowInterval = composite , &quot;.&quot; , &quot;rows&quot; ;&lt;/p&gt;

&lt;p&gt;-cast = composite , &quot;.cast(&quot; , dataType , &quot;)&quot; ;&lt;br/&gt;
+suffixCast = composite , &quot;.cast(&quot; , dataType , &quot;)&quot; ;&lt;br/&gt;
+&lt;br/&gt;
+prefixCast = &quot;cast(&quot; , expression , dataType , &quot;)&quot; ;&lt;/p&gt;

&lt;p&gt; dataType = &quot;BYTE&quot; | &quot;SHORT&quot; | &quot;INT&quot; | &quot;LONG&quot; | &quot;FLOAT&quot; | &quot;DOUBLE&quot; | &quot;BOOLEAN&quot; | &quot;STRING&quot; | &quot;DECIMAL&quot; | &quot;SQL_DATE&quot; | &quot;SQL_TIME&quot; | &quot;SQL_TIMESTAMP&quot; | &quot;INTERVAL_MONTHS&quot; | &quot;INTERVAL_MILLIS&quot; | ( &quot;MAP&quot; , &quot;(&quot; , dataType , &quot;,&quot; , dataType , &quot;)&quot; ) | ( &quot;PRIMITIVE_ARRAY&quot; , &quot;(&quot; , dataType , &quot;)&quot; ) | ( &quot;OBJECT_ARRAY&quot; , &quot;(&quot; , dataType , &quot;)&quot; ) ;&lt;/p&gt;

&lt;p&gt;-as = composite , &quot;.as(&quot; , fieldReference , &quot;)&quot; ;&lt;br/&gt;
+suffixAs = composite , &quot;.as(&quot; , fieldReference , &quot;)&quot; ;&lt;br/&gt;
+&lt;br/&gt;
+prefixAs = &quot;as(&quot; , expression, fieldReference , &quot;)&quot; ;&lt;br/&gt;
+&lt;br/&gt;
+suffixIf = composite , &quot;.?(&quot; , expression , &quot;,&quot; , expression , &quot;)&quot; ;&lt;br/&gt;
+&lt;br/&gt;
+prefixIf = &quot;?(&quot; , expression , &quot;,&quot; , expression , &quot;,&quot; , expression , &quot;)&quot; ;&lt;br/&gt;
+&lt;br/&gt;
+suffixDistinct = composite , &quot;distinct.()&quot; ;&lt;br/&gt;
+&lt;br/&gt;
+prefixDistinct = functionIdentifier , &quot;.distinct&quot; , [ &quot;(&quot; , [ expression , &lt;/p&gt;
{ &quot;,&quot; , expression } ] , &quot;)&quot; ] ;&lt;br/&gt;
 &lt;br/&gt;
-if = composite , &quot;.?(&quot; , expression , &quot;,&quot; , expression , &quot;)&quot; ;&lt;br/&gt;
+suffixFunctionCall = composite , &quot;.&quot; , functionIdentifier , [ &quot;(&quot; , [ expression , { &quot;,&quot; , expression }
&lt;p&gt; ] , &quot;)&quot; ] ;&lt;/p&gt;

&lt;p&gt;-functionCall = composite , &quot;.&quot; , functionIdentifier , [ &quot;(&quot; , [ expression , &lt;/p&gt;
{ &quot;,&quot; , expression } ] , &quot;)&quot; ] ;&lt;br/&gt;
+prefixFunctionCall = functionIdentifier , [ &quot;(&quot; , [ expression , { &quot;,&quot; , expression }
&lt;p&gt; ] , &quot;)&quot; ] ;&lt;/p&gt;

&lt;p&gt; atom = ( &quot;(&quot; , expression , &quot;)&quot; ) | literal | fieldReference ;&lt;/p&gt;

&lt;p&gt;diff --git a/flink-libraries/flink-table/src/main/scala/org/apache/flink/table/expressions/ExpressionParser.scala b/flink-libraries/flink-table/src/main/scala/org/apache/flink/table/expressions/ExpressionParser.scala&lt;br/&gt;
index 0b84f9490a1..7fd9309b5db 100644&lt;br/&gt;
&amp;#8212; a/flink-libraries/flink-table/src/main/scala/org/apache/flink/table/expressions/ExpressionParser.scala&lt;br/&gt;
+++ b/flink-libraries/flink-table/src/main/scala/org/apache/flink/table/expressions/ExpressionParser.scala&lt;br/&gt;
@@ -455,7 +455,7 @@ object ExpressionParser extends JavaTokenParsers with PackratParsers {&lt;/p&gt;

&lt;p&gt;   // suffix/prefix composite&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;lazy val composite: PackratParser&lt;span class=&quot;error&quot;&gt;&amp;#91;Expression&amp;#93;&lt;/span&gt; = over | nullLiteral | suffixed | prefixed | atom |&lt;br/&gt;
+  lazy val composite: PackratParser&lt;span class=&quot;error&quot;&gt;&amp;#91;Expression&amp;#93;&lt;/span&gt; = over | suffixed | nullLiteral | prefixed | atom |&lt;br/&gt;
     failure(&quot;Composite expression expected.&quot;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   // unary ops&lt;br/&gt;
diff --git a/flink-libraries/flink-table/src/test/scala/org/apache/flink/table/expressions/ScalarFunctionsTest.scala b/flink-libraries/flink-table/src/test/scala/org/apache/flink/table/expressions/ScalarFunctionsTest.scala&lt;br/&gt;
index 42513c2a96f..08a326281db 100644&lt;br/&gt;
&amp;#8212; a/flink-libraries/flink-table/src/test/scala/org/apache/flink/table/expressions/ScalarFunctionsTest.scala&lt;br/&gt;
+++ b/flink-libraries/flink-table/src/test/scala/org/apache/flink/table/expressions/ScalarFunctionsTest.scala&lt;br/&gt;
@@ -645,6 +645,12 @@ class ScalarFunctionsTest extends ScalarTypesTestBase &lt;/p&gt;
{
       &quot;&apos;foobar&apos;.regexpReplace(&apos;oo|ar&apos;, f33)&quot;,
       &quot;REGEXP_REPLACE(&apos;foobar&apos;, &apos;oo|ar&apos;, f33)&quot;,
       &quot;null&quot;)
+
+    testAllApis(
+      Null(Types.STRING).regexpReplace(&quot;oo|ar&quot;, &apos;f33),
+      &quot;Null(STRING).regexpReplace(&apos;oo|ar&apos;, f33)&quot;,
+      &quot;REGEXP_REPLACE(CAST(NULL AS VARCHAR), &apos;oo|ar&apos;, f33)&quot;,
+      &quot;null&quot;)
   }

&lt;p&gt;   @Test&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16676901" author="xccui" created="Tue, 6 Nov 2018 15:30:17 +0000"  >&lt;p&gt;Fixed in 1.8.0 5a4e5e9dcaa83368862d27bd80429235c02ed66e&lt;br/&gt;
Fixed in 1.7.1 98198d4cda78cc815fe6430e2249130efb102b61&lt;br/&gt;
Fixed in 1.6.3 761c7db58ea39bfc3a2bfdacba847d2d6e224129&lt;/p&gt;</comment>
                            <comment id="16676955" author="twalthr" created="Tue, 6 Nov 2018 16:21:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xccui&quot; class=&quot;user-hover&quot; rel=&quot;xccui&quot;&gt;xccui&lt;/a&gt; can you also cherry-pick bug fixes to the last two release branches if backporting is not a big effort? thanks.&lt;/p&gt;</comment>
                            <comment id="16676968" author="xccui" created="Tue, 6 Nov 2018 16:31:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt;, sure. I&apos;ll cherry-pick the commit to versions 1.6.3 and 1.7.1.&lt;/p&gt;</comment>
                            <comment id="16678083" author="twalthr" created="Wed, 7 Nov 2018 11:34:27 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xccui&quot; class=&quot;user-hover&quot; rel=&quot;xccui&quot;&gt;xccui&lt;/a&gt;. Since 1.7.0 has not been released this issue is also part of 1.7.0. I updated the version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ymzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>