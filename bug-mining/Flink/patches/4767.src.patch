diff --git a/tools/ci/docs.sh b/tools/ci/docs.sh
index bbda653fa05..eb375f7a46f 100755
--- a/tools/ci/docs.sh
+++ b/tools/ci/docs.sh
@@ -17,16 +17,22 @@
 # limitations under the License.
 ################################################################################
 
+gem update --system
+gem install bundler -v 1.17.2
+
 CACHE_DIR=$HOME/gem_cache ./docs/build_docs.sh -p &
 
-for i in `seq 1 30`;
+for i in `seq 1 90`;
 do
 	echo "Waiting for server..."
 	curl -Is http://localhost:4000 --fail
 	if [ $? -eq 0 ]; then
-		break
+		./docs/check_links.sh
+		EXIT_CODE=$?
+		exit $EXIT_CODE
 	fi
 	sleep 10
 done
 
-./docs/check_links.sh
+echo "Jekyll server wasn't started within 15 minutes"
+exit 1
