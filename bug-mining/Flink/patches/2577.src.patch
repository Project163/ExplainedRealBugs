diff --git a/flink-end-to-end-tests/test-scripts/common.sh b/flink-end-to-end-tests/test-scripts/common.sh
index 0ab2ffa723b..5430d912409 100644
--- a/flink-end-to-end-tests/test-scripts/common.sh
+++ b/flink-end-to-end-tests/test-scripts/common.sh
@@ -36,6 +36,8 @@ export EXIT_CODE=0
 
 echo "Flink dist directory: $FLINK_DIR"
 
+FLINK_VERSION=$(cat ${END_TO_END_DIR}/pom.xml | sed -n 's/.*<version>\(.*\)<\/version>/\1/p')
+
 USE_SSL=OFF # set via set_conf_ssl(), reset via revert_default_config()
 TEST_ROOT=`pwd -P`
 TEST_INFRA_DIR="$END_TO_END_DIR/test-scripts/"
diff --git a/flink-end-to-end-tests/test-scripts/test_quickstarts.sh b/flink-end-to-end-tests/test-scripts/test_quickstarts.sh
index d17a3ba6b43..12cd04fa01f 100755
--- a/flink-end-to-end-tests/test-scripts/test_quickstarts.sh
+++ b/flink-end-to-end-tests/test-scripts/test_quickstarts.sh
@@ -46,7 +46,7 @@ ARTIFACT_VERSION=0.1
 mvn archetype:generate                                   \
     -DarchetypeGroupId=org.apache.flink                  \
     -DarchetypeArtifactId=flink-quickstart-${TEST_TYPE}  \
-    -DarchetypeVersion=1.7-SNAPSHOT                      \
+    -DarchetypeVersion=${FLINK_VERSION}                  \
     -DgroupId=org.apache.flink.quickstart                \
     -DartifactId=${ARTIFACT_ID}                          \
     -Dversion=${ARTIFACT_VERSION}                        \
