diff --git a/flink-dist/pom.xml b/flink-dist/pom.xml
index 273802b3a18..20337cfff2b 100644
--- a/flink-dist/pom.xml
+++ b/flink-dist/pom.xml
@@ -143,12 +143,6 @@ under the License.
 			</exclusions>
 		</dependency>
 
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-scala-shell_${scala.binary.version}</artifactId>
-			<version>${project.version}</version>
-		</dependency>
-
 		<!-- Default file system support. The Hadoop and MapR dependencies -->
 		<!--       are optional, so not being added to the dist jar        -->
 
@@ -448,6 +442,24 @@ under the License.
 	</dependencies>
 
 	<profiles>
+		<profile>
+			<id>scala-2.11</id>
+			<activation>
+				<property>
+					<name>!scala-2.12</name>
+				</property>
+			</activation>
+			<!-- Scala Shell doesn't currently work with Scala 2.12 so only include
+			when building for Scala 2.11. -->
+			<dependencies>
+				<dependency>
+					<groupId>org.apache.flink</groupId>
+					<artifactId>flink-scala-shell_${scala.binary.version}</artifactId>
+					<version>${project.version}</version>
+				</dependency>
+			</dependencies>
+		</profile>
+
 		<profile>
 			<!-- Copies that shaded Hadoop uber jar to the dist folder. -->
 			<id>include-hadoop</id>
diff --git a/pom.xml b/pom.xml
index 6e801850902..730841b7d0d 100644
--- a/pom.xml
+++ b/pom.xml
@@ -72,7 +72,6 @@ under the License.
 		<module>flink-end-to-end-tests</module>
 		<module>flink-test-utils-parent</module>
 		<module>flink-state-backends</module>
-		<module>flink-scala-shell</module>
 		<module>flink-libraries</module>
 		<module>flink-table</module>
 		<module>flink-quickstart</module>
@@ -779,6 +778,11 @@ under the License.
 					<name>!scala-2.12</name>
 				</property>
 			</activation>
+			<!-- Scala Shell doesn't currently work with Scala 2.12 so only include
+			when building for Scala 2.11. -->
+			<modules>
+				<module>flink-scala-shell</module>
+			</modules>
 			<build>
 				<plugins>
 					<!-- make sure we don't have any _2.10 or _2.12 dependencies when building
@@ -823,6 +827,29 @@ under the License.
 			</activation>
 			<build>
 				<plugins>
+					<!-- don't run tests that don't work for Scala 2.12, because not all of the
+					required test dependencies are available for Scala 2.12. The Kafka 0.9 connector
+					still works with Scala 2.12 because it only needs the scala-version-independent
+					kafka-clients dependency at runtime. -->
+					<plugin>
+						<groupId>org.codehaus.mojo</groupId>
+						<artifactId>build-helper-maven-plugin</artifactId>
+						<executions>
+							<execution>
+								<id>regex-property</id>
+								<goals>
+									<goal>regex-property</goal>
+								</goals>
+								<configuration>
+									<name>maven.test.skip</name>
+									<value>${project.artifactId}</value>
+									<regex>(flink-scala-shell.*)</regex>
+									<replacement>true</replacement>
+									<failIfNoMatch>false</failIfNoMatch>
+								</configuration>
+							</execution>
+						</executions>
+					</plugin>
 					<!-- make sure we don't have any _2.10 or _2.11 dependencies when building
 					for Scala 2.12 -->
 					<plugin>
