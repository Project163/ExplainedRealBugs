diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/CheckpointOptionsTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/CheckpointOptionsTest.java
index 5a3763116dc..925a9e4d148 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/CheckpointOptionsTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/CheckpointOptionsTest.java
@@ -48,7 +48,7 @@ public class CheckpointOptionsTest {
 	@Test
 	public void testSavepoint() throws Exception {
 		final Random rnd = new Random();
-		final byte[] locationBytes = new byte[rnd.nextInt(42)];
+		final byte[] locationBytes = new byte[rnd.nextInt(41) + 1];
 		rnd.nextBytes(locationBytes);
 
 		final CheckpointOptions options = new CheckpointOptions(
