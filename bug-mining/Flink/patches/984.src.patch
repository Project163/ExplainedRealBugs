diff --git a/flink-runtime/src/main/java/org/apache/flink/runtime/net/ConnectionUtils.java b/flink-runtime/src/main/java/org/apache/flink/runtime/net/ConnectionUtils.java
index a03183deda2..77324fa3ba6 100644
--- a/flink-runtime/src/main/java/org/apache/flink/runtime/net/ConnectionUtils.java
+++ b/flink-runtime/src/main/java/org/apache/flink/runtime/net/ConnectionUtils.java
@@ -240,7 +240,11 @@ public class ConnectionUtils {
 			}
 		}
 
-		final byte[] targetAddressBytes = targetAddress.getAddress().getAddress();
+		final InetAddress address = targetAddress.getAddress();
+		if (address == null) {
+			return null;
+		}
+		final byte[] targetAddressBytes = address.getAddress();
 
 		// for each network interface
 		Enumeration<NetworkInterface> e = NetworkInterface.getNetworkInterfaces();
