diff --git a/flink-staging/flink-streaming/flink-streaming-core/src/main/java/org/apache/flink/streaming/api/function/source/FileSourceFunction.java b/flink-staging/flink-streaming/flink-streaming-core/src/main/java/org/apache/flink/streaming/api/function/source/FileSourceFunction.java
index d7df2662928..9289355114c 100644
--- a/flink-staging/flink-streaming/flink-streaming-core/src/main/java/org/apache/flink/streaming/api/function/source/FileSourceFunction.java
+++ b/flink-staging/flink-streaming/flink-streaming-core/src/main/java/org/apache/flink/streaming/api/function/source/FileSourceFunction.java
@@ -67,7 +67,7 @@ public class FileSourceFunction extends RichParallelSourceFunction<String> {
 				String record = serializer.createInstance();
 
 				format.open(split);
-				while (!format.reachedEnd()) {
+				while (isRunning && !format.reachedEnd()) {
 					if ((record = format.nextRecord(record)) != null) {
 						collector.collect(record);
 					}
