diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/state/memory/ByteStreamStateHandleTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/state/memory/ByteStreamStateHandleTest.java
index 7eaab7db619..1aea7019358 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/state/memory/ByteStreamStateHandleTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/state/memory/ByteStreamStateHandleTest.java
@@ -178,9 +178,10 @@ public class ByteStreamStateHandleTest {
         final byte[] data = new byte[0];
         final ByteStreamStateHandle handle = new ByteStreamStateHandle("name", data);
 
-        FSDataInputStream in = handle.openInputStream();
-        in.seek(0);
-        byte[] dataGot = new byte[1];
-        assertEquals(0, in.read(dataGot, 0, 0));
+        try(FSDataInputStream in = handle.openInputStream()) {
+            byte[] dataGot = new byte[1];
+            assertEquals(0, in.read(dataGot, 0, 0)); // got return 0 because len == 0.
+            assertEquals(-1, in.read()); // got -1 because of EOF.
+        }
     }
 }
