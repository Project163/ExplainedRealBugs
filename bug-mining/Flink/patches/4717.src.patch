diff --git a/flink-dist/src/main/flink-bin/conf/log4j-console.properties b/flink-dist/src/main/flink-bin/conf/log4j-console.properties
index a40e0c763e6..4372b50f5f2 100644
--- a/flink-dist/src/main/flink-bin/conf/log4j-console.properties
+++ b/flink-dist/src/main/flink-bin/conf/log4j-console.properties
@@ -56,7 +56,7 @@ appender.rolling.policies.size.type = SizeBasedTriggeringPolicy
 appender.rolling.policies.size.size=100MB
 appender.rolling.policies.startup.type = OnStartupTriggeringPolicy
 appender.rolling.strategy.type = DefaultRolloverStrategy
-appender.rolling.strategy.max = ${env:MAX_LOG_FILE_NUMBER}
+appender.rolling.strategy.max = ${env:MAX_LOG_FILE_NUMBER:-10}
 
 # Suppress the irrelevant (wrong) warnings from the Netty channel handler
 logger.netty.name = org.apache.flink.shaded.akka.org.jboss.netty.channel.DefaultChannelPipeline
diff --git a/flink-dist/src/main/flink-bin/conf/log4j.properties b/flink-dist/src/main/flink-bin/conf/log4j.properties
index c157f9dba27..bcf37dd8d2c 100644
--- a/flink-dist/src/main/flink-bin/conf/log4j.properties
+++ b/flink-dist/src/main/flink-bin/conf/log4j.properties
@@ -49,7 +49,7 @@ appender.main.policies.size.type = SizeBasedTriggeringPolicy
 appender.main.policies.size.size = 100MB
 appender.main.policies.startup.type = OnStartupTriggeringPolicy
 appender.main.strategy.type = DefaultRolloverStrategy
-appender.main.strategy.max = ${env:MAX_LOG_FILE_NUMBER}
+appender.main.strategy.max = ${env:MAX_LOG_FILE_NUMBER:-10}
 
 # Suppress the irrelevant (wrong) warnings from the Netty channel handler
 logger.netty.name = org.apache.flink.shaded.akka.org.jboss.netty.channel.DefaultChannelPipeline
