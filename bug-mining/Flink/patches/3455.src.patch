diff --git a/flink-end-to-end-tests/test-scripts/test_table_shaded_dependencies.sh b/flink-end-to-end-tests/test-scripts/test_table_shaded_dependencies.sh
index cdbec5fde2e..529a983eb65 100755
--- a/flink-end-to-end-tests/test-scripts/test_table_shaded_dependencies.sh
+++ b/flink-end-to-end-tests/test-scripts/test_table_shaded_dependencies.sh
@@ -39,6 +39,8 @@ function checkCodeDependencies {
       grep -v "^\s*\-> scala" |\
       `# flink dependencies` \
       grep -v "^\s*\-> org.apache.flink" |\
+      `# flink-core dependencies` \
+      grep -v "^\s*\-> com.esotericsoftware.kryo" |\
       `# janino dependencies` \
       grep -v "^\s*\-> org.codehaus.janino" |\
       grep -v "^\s*\-> org.codehaus.commons" |\
diff --git a/flink-table/flink-table-planner-blink/src/main/java/org/apache/flink/table/planner/utils/DummyStreamExecutionEnvironment.java b/flink-table/flink-table-planner-blink/src/main/java/org/apache/flink/table/planner/utils/DummyStreamExecutionEnvironment.java
index 23d70d2a944..309b3d9dd34 100644
--- a/flink-table/flink-table-planner-blink/src/main/java/org/apache/flink/table/planner/utils/DummyStreamExecutionEnvironment.java
+++ b/flink-table/flink-table-planner-blink/src/main/java/org/apache/flink/table/planner/utils/DummyStreamExecutionEnvironment.java
@@ -57,6 +57,9 @@ import java.util.List;
  *
  * <p>This class could be removed once the {@link TableSource} interface and {@link StreamTableSink} interface
  * are reworked.
+ *
+ * <p>NOTE: Please remove {@code com.esotericsoftware.kryo} item in the whitelist of checkCodeDependencies()
+ * method in {@code test_table_shaded_dependencies.sh} end-to-end test when this class is removed.
  */
 public class DummyStreamExecutionEnvironment extends StreamExecutionEnvironment {
 
