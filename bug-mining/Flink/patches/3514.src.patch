diff --git a/flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/config/Environment.java b/flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/config/Environment.java
index 506c23be850..cb72b70f440 100644
--- a/flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/config/Environment.java
+++ b/flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/config/Environment.java
@@ -69,7 +69,7 @@ public class Environment {
 	private DeploymentEntry deployment;
 
 	public Environment() {
-		this.modules = Collections.emptyMap();
+		this.modules = new LinkedHashMap<>();
 		this.catalogs = Collections.emptyMap();
 		this.tables = Collections.emptyMap();
 		this.functions = Collections.emptyMap();
@@ -83,7 +83,7 @@ public class Environment {
 	}
 
 	public void setModules(List<Map<String, Object>> modules) {
-		this.modules = new HashMap<>(modules.size());
+		this.modules = new LinkedHashMap<>(modules.size());
 
 		modules.forEach(config -> {
 			final ModuleEntry entry = ModuleEntry.create(config);
@@ -235,7 +235,7 @@ public class Environment {
 		final Environment mergedEnv = new Environment();
 
 		// merge modules
-		final Map<String, ModuleEntry> modules = new HashMap<>(env1.getModules());
+		final Map<String, ModuleEntry> modules = new LinkedHashMap<>(env1.getModules());
 		modules.putAll(env2.getModules());
 		mergedEnv.modules = modules;
 
diff --git a/flink-table/flink-sql-client/src/test/java/org/apache/flink/table/client/gateway/local/EnvironmentTest.java b/flink-table/flink-sql-client/src/test/java/org/apache/flink/table/client/gateway/local/EnvironmentTest.java
index e4e2e891ee0..49af642ceed 100644
--- a/flink-table/flink-sql-client/src/test/java/org/apache/flink/table/client/gateway/local/EnvironmentTest.java
+++ b/flink-table/flink-sql-client/src/test/java/org/apache/flink/table/client/gateway/local/EnvironmentTest.java
@@ -26,6 +26,7 @@ import org.junit.Rule;
 import org.junit.Test;
 import org.junit.rules.ExpectedException;
 
+import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.HashMap;
 import java.util.HashSet;
@@ -110,6 +111,33 @@ public class EnvironmentTest {
 			createModule("module2", "test")));
 	}
 
+	@Test
+	public void testModuleOrder() {
+		Environment env1 = new Environment();
+		Environment env2 = new Environment();
+		env1.setModules(Arrays.asList(
+			createModule("b", "test"),
+			createModule("d", "test")));
+
+		env2.setModules(Arrays.asList(
+			createModule("c", "test"),
+			createModule("a", "test")));
+
+		assertEquals(
+			Arrays.asList("b", "d"), new ArrayList<>(env1.getModules().keySet())
+		);
+
+		assertEquals(
+			Arrays.asList("c", "a"), new ArrayList<>(env2.getModules().keySet())
+		);
+
+		Environment env = Environment.merge(env1, env2);
+
+		assertEquals(
+			Arrays.asList("b", "d", "c", "a"), new ArrayList<>(env.getModules().keySet())
+		);
+	}
+
 	private static Map<String, Object> createCatalog(String name, String type) {
 		Map<String, Object> prop = new HashMap<>();
 
