diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/api/writer/RecordWriterTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/api/writer/RecordWriterTest.java
index af9a270d887..ff06045194e 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/api/writer/RecordWriterTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/api/writer/RecordWriterTest.java
@@ -519,16 +519,14 @@ public class RecordWriterTest {
 		// idle time is zero when there is buffer available.
 		assertEquals(0, recordWriter.getIdleTimeMsPerSecond().getCount());
 
-		final Object runningLock = new Object();
+		CountDownLatch syncLock = new CountDownLatch(1);
 		AtomicReference<BufferBuilder> asyncRequestResult = new AtomicReference<>();
 		final Thread requestThread = new Thread(new Runnable() {
 			@Override
 			public void run() {
 				try {
 					// notify that the request thread start to run.
-					synchronized (runningLock) {
-						runningLock.notify();
-					}
+					syncLock.countDown();
 					// wait for buffer.
 					asyncRequestResult.set(recordWriter.getBufferBuilder());
 				} catch (Exception e) {
@@ -538,9 +536,8 @@ public class RecordWriterTest {
 		requestThread.start();
 
 		// wait until request thread start to run.
-		synchronized (runningLock) {
-			runningLock.wait();
-		}
+		syncLock.await();
+
 		Thread.sleep(10);
 		//recycle the buffer
 		final Buffer buffer = BufferBuilderTestUtils.buildSingleBuffer(builder);
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/mailbox/TaskMailboxProcessorTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/mailbox/TaskMailboxProcessorTest.java
index 4336e752b50..92cf4ed0e10 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/mailbox/TaskMailboxProcessorTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/mailbox/TaskMailboxProcessorTest.java
@@ -29,6 +29,7 @@ import org.junit.Rule;
 import org.junit.Test;
 import org.junit.rules.ExpectedException;
 
+import java.util.concurrent.CountDownLatch;
 import java.util.concurrent.RejectedExecutionException;
 import java.util.concurrent.atomic.AtomicBoolean;
 import java.util.concurrent.atomic.AtomicInteger;
@@ -267,6 +268,7 @@ public class TaskMailboxProcessorTest {
 		final AtomicReference<MailboxDefaultAction.Suspension> suspendedActionRef = new AtomicReference<>();
 		final int totalSwitches = 2;
 
+		CountDownLatch syncLock = new CountDownLatch(1);
 		MailboxThread mailboxThread = new MailboxThread() {
 			int count = 0;
 
@@ -278,12 +280,14 @@ public class TaskMailboxProcessorTest {
 				if (count == totalSwitches) {
 					controller.allActionsCompleted();
 				}
+				syncLock.countDown();
 			}
 		};
 		mailboxThread.start();
 		final MailboxProcessor mailboxProcessor = mailboxThread.getMailboxProcessor();
 		mailboxThread.signalStart();
 
+		syncLock.await();
 		Thread.sleep(10);
 		mailboxProcessor.getMailboxExecutor(DEFAULT_PRIORITY).execute(suspendedActionRef.get()::resume, "resume");
 		mailboxThread.join();
