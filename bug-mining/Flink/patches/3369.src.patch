diff --git a/flink-core/src/main/java/org/apache/flink/core/memory/HeapMemorySegment.java b/flink-core/src/main/java/org/apache/flink/core/memory/HeapMemorySegment.java
index 96c013abb07..ed4d00526d6 100644
--- a/flink-core/src/main/java/org/apache/flink/core/memory/HeapMemorySegment.java
+++ b/flink-core/src/main/java/org/apache/flink/core/memory/HeapMemorySegment.java
@@ -95,7 +95,7 @@ public final class HeapMemorySegment extends MemorySegment {
 	 * @return The byte array that backs this memory segment, or null, if the segment has been freed.
 	 */
 	public byte[] getArray() {
-		return this.heapMemory;
+		return this.memory;
 	}
 
 	// ------------------------------------------------------------------------
diff --git a/flink-core/src/test/java/org/apache/flink/core/memory/HeapMemorySegmentTest.java b/flink-core/src/test/java/org/apache/flink/core/memory/HeapMemorySegmentTest.java
index 90176fd85fe..211c408c397 100644
--- a/flink-core/src/test/java/org/apache/flink/core/memory/HeapMemorySegmentTest.java
+++ b/flink-core/src/test/java/org/apache/flink/core/memory/HeapMemorySegmentTest.java
@@ -26,6 +26,7 @@ import java.nio.ByteBuffer;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertFalse;
+import static org.junit.Assert.assertNull;
 import static org.junit.Assert.assertTrue;
 
 /**
@@ -67,4 +68,13 @@ public class HeapMemorySegmentTest extends MemorySegmentTestBase {
 		assertEquals(3, buf2.position());
 		assertEquals(7, buf2.limit());
 	}
+
+	@Test
+	public void testGetArrayAfterFree() {
+		final byte[] buffer = new byte[100];
+		HeapMemorySegment seg = new HeapMemorySegment(buffer);
+
+		seg.free();
+		assertNull(seg.getArray());
+	}
 }
