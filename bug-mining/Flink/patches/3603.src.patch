diff --git a/flink-end-to-end-tests/test-scripts/test_stream_state_ttl.sh b/flink-end-to-end-tests/test-scripts/test_stream_state_ttl.sh
index dfbe42ad92f..d1e0c34373d 100755
--- a/flink-end-to-end-tests/test-scripts/test_stream_state_ttl.sh
+++ b/flink-end-to-end-tests/test-scripts/test_stream_state_ttl.sh
@@ -75,7 +75,11 @@ wait_oper_metric_num_in_records TtlVerifyUpdateFunction.0 ${UPDATE_NUM} "State T
 
 # if verification fails job produces failed TTL'ed state updates,
 # output would be non-empty and contains TTL verification failed:
-if grep --quiet "TTL verification failed:" $FLINK_DIR/log/*.out ; then
-  echo "The TTL verification logic failed."
-  exit 1
+local EXIT_CODE=0
+check_logs_for_non_empty_out_files
+
+if [ $EXIT_CODE != 0 ]; then
+  echo "The TTL verification logic failed. See *.out file for more information."
 fi
+
+exit ${EXIT_CODE}
