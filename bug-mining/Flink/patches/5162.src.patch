diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/active/ActiveResourceManagerTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/active/ActiveResourceManagerTest.java
index 0c2014e3cb7..303b57d4c3d 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/active/ActiveResourceManagerTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/resourcemanager/active/ActiveResourceManagerTest.java
@@ -778,11 +778,12 @@ public class ActiveResourceManagerTest extends TestLogger {
                             // resource allocation takes longer than worker registration timeout
                             try {
                                 Thread.sleep(TESTING_START_WORKER_TIMEOUT_MS * 2);
-                                requestResourceFuture.complete(tmResourceId);
                             } catch (InterruptedException e) {
                                 fail();
                             }
 
+                            runInMainThread(() -> requestResourceFuture.complete(tmResourceId));
+
                             // worker registered, verify not released due to timeout
                             CompletableFuture<RegistrationResponse> registerTaskExecutorFuture =
                                     registerTaskExecutor(tmResourceId);
