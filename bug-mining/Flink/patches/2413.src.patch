diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/EventTimeTriggerTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/EventTimeTriggerTest.java
index f54367b699a..eb14561f687 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/EventTimeTriggerTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/EventTimeTriggerTest.java
@@ -153,4 +153,43 @@ public class EventTimeTriggerTest {
 		assertEquals(0, testHarness.numProcessingTimeTimers());
 		assertEquals(0, testHarness.numEventTimeTimers());
 	}
+
+	/**
+	 * Merging a late window should not register a timer, otherwise we would get two firings:
+	 * one from onElement() on the merged window and one from the timer.
+	 */
+	@Test
+	public void testMergingLateWindows() throws Exception {
+
+		TriggerTestHarness<Object, TimeWindow> testHarness =
+			new TriggerTestHarness<>(EventTimeTrigger.create(), new TimeWindow.Serializer());
+
+		assertTrue(EventTimeTrigger.create().canMerge());
+
+		assertEquals(TriggerResult.CONTINUE, testHarness.processElement(new StreamRecord<Object>(1), new TimeWindow(0, 2)));
+		assertEquals(TriggerResult.CONTINUE, testHarness.processElement(new StreamRecord<Object>(1), new TimeWindow(2, 4)));
+
+		assertEquals(0, testHarness.numStateEntries());
+		assertEquals(0, testHarness.numProcessingTimeTimers());
+		assertEquals(2, testHarness.numEventTimeTimers());
+		assertEquals(1, testHarness.numEventTimeTimers(new TimeWindow(0, 2)));
+		assertEquals(1, testHarness.numEventTimeTimers(new TimeWindow(2, 4)));
+
+		testHarness.advanceWatermark(10);
+
+		assertEquals(0, testHarness.numStateEntries());
+		assertEquals(0, testHarness.numProcessingTimeTimers());
+		assertEquals(0, testHarness.numEventTimeTimers());
+		assertEquals(0, testHarness.numEventTimeTimers(new TimeWindow(0, 2)));
+		assertEquals(0, testHarness.numEventTimeTimers(new TimeWindow(2, 4)));
+
+		testHarness.mergeWindows(new TimeWindow(0, 4), Lists.newArrayList(new TimeWindow(0, 2), new TimeWindow(2, 4)));
+
+		assertEquals(0, testHarness.numStateEntries());
+		assertEquals(0, testHarness.numProcessingTimeTimers());
+		assertEquals(0, testHarness.numEventTimeTimers());
+		assertEquals(0, testHarness.numEventTimeTimers(new TimeWindow(0, 2)));
+		assertEquals(0, testHarness.numEventTimeTimers(new TimeWindow(2, 4)));
+		assertEquals(0, testHarness.numEventTimeTimers(new TimeWindow(0, 4)));
+	}
 }
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/ProcessingTimeTriggerTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/ProcessingTimeTriggerTest.java
index 7e78854583a..7336c88eb80 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/ProcessingTimeTriggerTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/ProcessingTimeTriggerTest.java
@@ -134,4 +134,42 @@ public class ProcessingTimeTriggerTest {
 		assertEquals(0, testHarness.numProcessingTimeTimers());
 		assertEquals(0, testHarness.numEventTimeTimers());
 	}
+
+	/**
+	 * Merging a late window should not register a timer, otherwise we would get two firings:
+	 * one from onElement() on the merged window and one from the timer.
+	 */
+	@Test
+	public void testMergingLateWindows() throws Exception {
+		TriggerTestHarness<Object, TimeWindow> testHarness =
+			new TriggerTestHarness<>(ProcessingTimeTrigger.create(), new TimeWindow.Serializer());
+
+		assertTrue(ProcessingTimeTrigger.create().canMerge());
+
+		assertEquals(TriggerResult.CONTINUE, testHarness.processElement(new StreamRecord<Object>(1), new TimeWindow(0, 2)));
+		assertEquals(TriggerResult.CONTINUE, testHarness.processElement(new StreamRecord<Object>(1), new TimeWindow(2, 4)));
+
+		assertEquals(0, testHarness.numStateEntries());
+		assertEquals(0, testHarness.numEventTimeTimers());
+		assertEquals(2, testHarness.numProcessingTimeTimers());
+		assertEquals(1, testHarness.numProcessingTimeTimers(new TimeWindow(0, 2)));
+		assertEquals(1, testHarness.numProcessingTimeTimers(new TimeWindow(2, 4)));
+
+		testHarness.advanceProcessingTime(10);
+
+		assertEquals(0, testHarness.numStateEntries());
+		assertEquals(0, testHarness.numEventTimeTimers());
+		assertEquals(0, testHarness.numProcessingTimeTimers());
+		assertEquals(0, testHarness.numProcessingTimeTimers(new TimeWindow(0, 2)));
+		assertEquals(0, testHarness.numProcessingTimeTimers(new TimeWindow(2, 4)));
+
+		testHarness.mergeWindows(new TimeWindow(0, 4), Lists.newArrayList(new TimeWindow(0, 2), new TimeWindow(2, 4)));
+
+		assertEquals(0, testHarness.numStateEntries());
+		assertEquals(0, testHarness.numEventTimeTimers());
+		assertEquals(0, testHarness.numProcessingTimeTimers());
+		assertEquals(0, testHarness.numProcessingTimeTimers(new TimeWindow(0, 2)));
+		assertEquals(0, testHarness.numProcessingTimeTimers(new TimeWindow(2, 4)));
+		assertEquals(0, testHarness.numProcessingTimeTimers(new TimeWindow(0, 4)));
+	}
 }
