diff --git a/flink-mesos/pom.xml b/flink-mesos/pom.xml
index a1ef9006d47..4dae731577d 100644
--- a/flink-mesos/pom.xml
+++ b/flink-mesos/pom.xml
@@ -30,46 +30,49 @@ under the License.
 	<artifactId>flink-mesos_${scala.binary.version}</artifactId>
 	<name>flink-mesos</name>
 	<packaging>jar</packaging>
-
-    <properties>
-        <mesos.version>1.0.1</mesos.version>
-    </properties>
 	
-    <dependencies>
+	<properties>
+		<mesos.version>1.0.1</mesos.version>
+	</properties>
+
+	<dependencies>
+
+		<!--  set all Flink dependencies to provided, so they and their transitive  -->
+		<!-- dependencies do not get promoted to direct dependencies during shading -->
+		
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-runtime_${scala.binary.version}</artifactId>
 			<version>${project.version}</version>
+			<scope>provided</scope>
 		</dependency>
 		
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-clients_${scala.binary.version}</artifactId>
 			<version>${project.version}</version>
-		</dependency>
-
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-shaded-hadoop2</artifactId>
-			<version>${project.version}</version>
+			<scope>provided</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-shaded-curator-recipes</artifactId>
 			<version>${project.version}</version>
+			<scope>provided</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>com.data-artisans</groupId>
 			<artifactId>flakka-actor_${scala.binary.version}</artifactId>
+			<scope>provided</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>com.data-artisans</groupId>
 			<artifactId>flakka-remote_${scala.binary.version}</artifactId>
+			<scope>provided</scope>
 			<exclusions>
-				<!-- exclude protobuf here to allow the mesos library to provide it -->
+				<!-- exclude the lower/wrong version of Protobuf here -->
 				<exclusion>
 					<groupId>com.google.protobuf</groupId>
 					<artifactId>protobuf-java</artifactId>
@@ -80,8 +83,11 @@ under the License.
 		<dependency>
 			<groupId>com.data-artisans</groupId>
 			<artifactId>flakka-slf4j_${scala.binary.version}</artifactId>
+			<scope>provided</scope>
 		</dependency>
 
+		<!-- Mesos and Mesos Resource Manager dependencies -->
+
 		<dependency>
 			<groupId>org.apache.mesos</groupId>
 			<artifactId>mesos</artifactId>
@@ -104,7 +110,16 @@ under the License.
 		<dependency>
 			<groupId>tv.cntt</groupId>
 			<artifactId>netty-router</artifactId>
-			<version>1.10</version>
+		</dependency>
+
+		<dependency>
+			<groupId>com.fasterxml.jackson.core</groupId>
+			<artifactId>jackson-core</artifactId>
+		</dependency>
+
+		<dependency>
+			<groupId>com.fasterxml.jackson.core</groupId>
+			<artifactId>jackson-databind</artifactId>
 		</dependency>
 
 		<!-- test dependencies -->
diff --git a/flink-mesos/src/test/resources/log4j-test.properties b/flink-mesos/src/test/resources/log4j-test.properties
index 3476c196661..b85f2f20239 100644
--- a/flink-mesos/src/test/resources/log4j-test.properties
+++ b/flink-mesos/src/test/resources/log4j-test.properties
@@ -16,7 +16,7 @@
 # limitations under the License.
 ################################################################################
 
-log4j.rootLogger=INFO, console
+log4j.rootLogger=OFF, console
 
 # Log all infos in the given file
 log4j.appender.console=org.apache.log4j.ConsoleAppender
@@ -27,6 +27,6 @@ log4j.appender.console.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p %-60c %x -
 log4j.logger.org.jboss.netty.channel.DefaultChannelPipeline=ERROR, console
 
 # log whats going on between the tests
-log4j.logger.org.apache.flink.runtime.leaderelection=INFO
-log4j.logger.org.apache.flink.runtime.leaderretrieval=INFO
+log4j.logger.org.apache.flink.runtime.leaderelection=OFF
+log4j.logger.org.apache.flink.runtime.leaderretrieval=OFF
 
diff --git a/flink-runtime-web/pom.xml b/flink-runtime-web/pom.xml
index 8a4671bc7b1..ef1580d989c 100644
--- a/flink-runtime-web/pom.xml
+++ b/flink-runtime-web/pom.xml
@@ -58,13 +58,11 @@ under the License.
 		<dependency>
 			<groupId>tv.cntt</groupId>
 			<artifactId>netty-router</artifactId>
-			<version>1.10</version>
 		</dependency>
 
 		<dependency>
 			<groupId>org.javassist</groupId>
 			<artifactId>javassist</artifactId>
-			<version>3.18.2-GA</version>
 		</dependency>
 
 		<dependency>
diff --git a/pom.xml b/pom.xml
index db19b9d7109..a8377e193c1 100644
--- a/pom.xml
+++ b/pom.xml
@@ -440,6 +440,12 @@ under the License.
 				<version>4.0.27.Final</version>
 			</dependency>
 
+			<dependency>
+				<groupId>tv.cntt</groupId>
+				<artifactId>netty-router</artifactId>
+				<version>1.10</version>
+			</dependency>
+
 			<dependency>
 				<groupId>com.fasterxml.jackson.core</groupId>
 				<artifactId>jackson-core</artifactId>
