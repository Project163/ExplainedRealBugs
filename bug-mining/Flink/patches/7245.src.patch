diff --git a/flink-runtime/src/main/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProvider.java b/flink-runtime/src/main/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProvider.java
index aeb37fefdcb..5c3dd48a01b 100644
--- a/flink-runtime/src/main/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProvider.java
+++ b/flink-runtime/src/main/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProvider.java
@@ -170,7 +170,10 @@ public class HadoopFSDelegationTokenProvider implements DelegationTokenProvider
                         });
 
         // YARN staging dir
-        if (flinkConfiguration.getString(DeploymentOptions.TARGET).toLowerCase().contains("yarn")) {
+        if (flinkConfiguration
+                .getString(DeploymentOptions.TARGET, "")
+                .toLowerCase()
+                .contains("yarn")) {
             LOG.debug("Running on YARN, trying to add staging directory to file systems to access");
             String yarnStagingDirectory =
                     flinkConfiguration.getString("yarn.staging-directory", "");
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProviderITCase.java b/flink-runtime/src/test/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProviderITCase.java
index 5f23695b973..43ba3ae7a68 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProviderITCase.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/security/token/hadoop/HadoopFSDelegationTokenProviderITCase.java
@@ -35,6 +35,7 @@ import java.util.Set;
 
 import static java.time.Instant.ofEpochMilli;
 import static org.junit.jupiter.api.Assertions.assertEquals;
+import static org.junit.jupiter.api.Assertions.assertNotNull;
 import static org.junit.jupiter.api.Assertions.assertNull;
 
 /** Test for {@link HadoopFSDelegationTokenProvider}. */
@@ -215,4 +216,11 @@ class HadoopFSDelegationTokenProviderITCase {
                 provider.getIssueDate(
                         constantClock, tokenIdentifier.getKind().toString(), tokenIdentifier));
     }
+
+    @Test
+    public void obtainDelegationTokenWithStandaloneDeployment() throws Exception {
+        HadoopFSDelegationTokenProvider provider = new HadoopFSDelegationTokenProvider();
+        provider.init(new org.apache.flink.configuration.Configuration());
+        assertNotNull(provider.obtainDelegationTokens());
+    }
 }
