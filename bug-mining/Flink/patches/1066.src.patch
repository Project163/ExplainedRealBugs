diff --git a/flink-batch-connectors/flink-avro/pom.xml b/flink-batch-connectors/flink-avro/pom.xml
index 0c2d5832e72..fb9d364bb94 100644
--- a/flink-batch-connectors/flink-avro/pom.xml
+++ b/flink-batch-connectors/flink-avro/pom.xml
@@ -18,11 +18,10 @@ specific language governing permissions and limitations
 under the License.
 -->
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-	
-	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+		xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
 	
 	<modelVersion>4.0.0</modelVersion>
-	
+
 	<parent>
 		<groupId>org.apache.flink</groupId>
 		<artifactId>flink-batch-connectors</artifactId>
@@ -36,6 +35,9 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-java</artifactId>
@@ -49,11 +51,19 @@ under the License.
 			<!-- version is derived from base module -->
 		</dependency>
 
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
+			<artifactId>flink-test-utils-junit</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
@@ -63,13 +73,13 @@ under the License.
 			<version>${project.version}</version>
 			<scope>test</scope>
 		</dependency>
-		
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-test-utils_2.10</artifactId>
+			<artifactId>flink-core</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
+			<type>test-jar</type>
 		</dependency>
 	</dependencies>
 
diff --git a/flink-batch-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/AvroRecordInputFormatTest.java b/flink-batch-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/AvroRecordInputFormatTest.java
index 8439e012682..91a9612361f 100644
--- a/flink-batch-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/AvroRecordInputFormatTest.java
+++ b/flink-batch-connectors/flink-avro/src/test/java/org/apache/flink/api/io/avro/AvroRecordInputFormatTest.java
@@ -20,6 +20,8 @@ package org.apache.flink.api.io.avro;
 
 import static org.junit.Assert.*;
 
+import java.io.ByteArrayInputStream;
+import java.io.ByteArrayOutputStream;
 import java.io.File;
 import java.io.IOException;
 import java.util.*;
@@ -38,7 +40,6 @@ import org.apache.avro.specific.SpecificDatumWriter;
 import org.apache.avro.util.Utf8;
 import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.typeinfo.TypeInformation;
-import org.apache.flink.api.common.typeutils.ComparatorTestBase;
 import org.apache.flink.api.common.typeutils.TypeSerializer;
 import org.apache.flink.api.io.avro.generated.Address;
 import org.apache.flink.api.io.avro.generated.Colors;
@@ -51,6 +52,8 @@ import org.apache.flink.api.java.typeutils.runtime.kryo.Serializers;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.core.fs.FileInputSplit;
 import org.apache.flink.core.fs.Path;
+import org.apache.flink.core.memory.DataInputViewStreamWrapper;
+import org.apache.flink.core.memory.DataOutputViewStreamWrapper;
 import org.junit.After;
 import org.junit.Assert;
 import org.junit.Before;
@@ -80,7 +83,7 @@ public class AvroRecordInputFormatTest {
 	final static String TEST_MAP_KEY2 = "KEY 2";
 	final static long TEST_MAP_VALUE2 = 17554L;
 	
-	final static Integer TEST_NUM = 239;
+	final static int TEST_NUM = 239;
 	final static String TEST_STREET = "Baker Street";
 	final static String TEST_CITY = "London";
 	final static String TEST_STATE = "London";
@@ -104,7 +107,7 @@ public class AvroRecordInputFormatTest {
 		longMap.put(TEST_MAP_KEY2, TEST_MAP_VALUE2);
 		
 		Address addr = new Address();
-		addr.setNum(new Integer(TEST_NUM));
+		addr.setNum(TEST_NUM);
 		addr.setStreet(TEST_STREET);
 		addr.setCity(TEST_CITY);
 		addr.setState(TEST_STATE);
@@ -293,10 +296,18 @@ public class AvroRecordInputFormatTest {
 			Assert.assertTrue(
 					ec.getDefaultKryoSerializerClasses().containsKey(Schema.class) &&
 							ec.getDefaultKryoSerializerClasses().get(Schema.class).equals(Serializers.AvroSchemaSerializer.class));
-			ComparatorTestBase.TestOutputView target = new ComparatorTestBase.TestOutputView();
-			tser.serialize(rec, target);
 
-			GenericData.Record newRec = tser.deserialize(target.getInputView());
+			ByteArrayOutputStream out = new ByteArrayOutputStream();
+			try (DataOutputViewStreamWrapper outView = new DataOutputViewStreamWrapper(out)) {
+				tser.serialize(rec, outView);
+			}
+
+			GenericData.Record newRec;
+			try (DataInputViewStreamWrapper inView = new DataInputViewStreamWrapper(
+					new ByteArrayInputStream(out.toByteArray())))
+			{
+				newRec = tser.deserialize(inView);
+			}
 
 			// check if it is still the same
 			assertNotNull(newRec);
@@ -328,10 +339,18 @@ public class AvroRecordInputFormatTest {
 
 			Assert.assertEquals(AvroTypeInfo.class, te.getClass());
 			TypeSerializer<User> tser = te.createSerializer(ec);
-			ComparatorTestBase.TestOutputView target = new ComparatorTestBase.TestOutputView();
-			tser.serialize(rec, target);
 
-			User newRec = tser.deserialize(target.getInputView());
+			ByteArrayOutputStream out = new ByteArrayOutputStream();
+			try (DataOutputViewStreamWrapper outView = new DataOutputViewStreamWrapper(out)) {
+				tser.serialize(rec, outView);
+			}
+
+			User newRec;
+			try (DataInputViewStreamWrapper inView = new DataInputViewStreamWrapper(
+					new ByteArrayInputStream(out.toByteArray())))
+			{
+				newRec = tser.deserialize(inView);
+			}
 
 			// check if it is still the same
 			assertNotNull(newRec);
diff --git a/flink-batch-connectors/flink-hadoop-compatibility/pom.xml b/flink-batch-connectors/flink-hadoop-compatibility/pom.xml
index 5a5e4a67eea..7c30f9f5a03 100644
--- a/flink-batch-connectors/flink-hadoop-compatibility/pom.xml
+++ b/flink-batch-connectors/flink-hadoop-compatibility/pom.xml
@@ -35,37 +35,42 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-java</artifactId>
 			<version>${project.version}</version>
 			<scope>provided</scope>
 		</dependency>
-		
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-clients_2.10</artifactId>
 			<version>${project.version}</version>
 			<scope>provided</scope>
 		</dependency>
-		
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>${shading-artifact.name}</artifactId>
 			<version>${project.version}</version>
 		</dependency>
 
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-tests_2.10</artifactId>
 			<version>${project.version}</version>
 			<scope>test</scope>
 		</dependency>
+		
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 	</dependencies>
diff --git a/flink-batch-connectors/flink-hbase/pom.xml b/flink-batch-connectors/flink-hbase/pom.xml
index c75782fef6a..cdf25db55f2 100644
--- a/flink-batch-connectors/flink-hbase/pom.xml
+++ b/flink-batch-connectors/flink-hbase/pom.xml
@@ -39,6 +39,9 @@ under the License.
 	</properties>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-core</artifactId>
@@ -66,32 +69,6 @@ under the License.
 			<version>${project.version}</version>
 			<scope>provided</scope>
 		</dependency>
-		
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-clients_2.10</artifactId>
-			<version>${project.version}</version>
-			<scope>test</scope>
-			<exclusions>
-				<exclusion>
-					<groupId>org.apache.hadoop</groupId>
-					<artifactId>hadoop-core</artifactId>
-				</exclusion>
-			</exclusions>
-		</dependency>
-		
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-hadoop-compatibility_2.10</artifactId>
-			<version>${project.version}</version>
-			<scope>test</scope>
-			<exclusions>
-				<exclusion>
-					<groupId>org.apache.flink</groupId>
-					<artifactId>flink-shaded-include-yarn_2.10</artifactId>
-				</exclusion>
-			</exclusions>
-		</dependency>
 
 		<!-- HBase server needed for TableOutputFormat -->
 		<!-- TODO implement bulk output format for HBase -->
@@ -157,6 +134,35 @@ under the License.
 				</exclusion>
 			</exclusions>
 		</dependency>
+
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-clients_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+			<exclusions>
+				<exclusion>
+					<groupId>org.apache.hadoop</groupId>
+					<artifactId>hadoop-core</artifactId>
+				</exclusion>
+			</exclusions>
+		</dependency>
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-hadoop-compatibility_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+			<exclusions>
+				<exclusion>
+					<groupId>org.apache.flink</groupId>
+					<artifactId>flink-shaded-include-yarn_2.10</artifactId>
+				</exclusion>
+			</exclusions>
+		</dependency>
+
 	</dependencies>
 
 	<profiles>
diff --git a/flink-clients/pom.xml b/flink-clients/pom.xml
index 5643f25103f..6109f36e912 100644
--- a/flink-clients/pom.xml
+++ b/flink-clients/pom.xml
@@ -36,18 +36,13 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
-			<version>${project.version}</version>
-		</dependency>
+
+		<!-- core dependencies -->
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-core</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
 		</dependency>
 
 		<dependency>
@@ -73,9 +68,19 @@ under the License.
 			<artifactId>commons-cli</artifactId>
 		</dependency>
 
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils-junit</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+		
 		<dependency>
 			<groupId>com.typesafe.akka</groupId>
 			<artifactId>akka-testkit_${scala.binary.version}</artifactId>
+			<scope>test</scope>
 		</dependency>
 	</dependencies>
 
@@ -84,17 +89,6 @@ under the License.
 	 -->
 	<build>
 		<plugins>
-			<plugin>
-				<groupId>org.apache.maven.plugins</groupId>
-				<artifactId>maven-jar-plugin</artifactId>
-				<executions>
-					<execution>
-						<goals>
-							<goal>test-jar</goal>
-						</goals>
-					</execution>
-				</executions>
-			</plugin>
 			<plugin>
 				<artifactId>maven-assembly-plugin</artifactId>
 				<version>2.4</version><!--$NO-MVN-MAN-VER$-->
diff --git a/flink-contrib/flink-operator-stats/pom.xml b/flink-contrib/flink-operator-stats/pom.xml
index 80d4ee243b3..839f8f537e8 100644
--- a/flink-contrib/flink-operator-stats/pom.xml
+++ b/flink-contrib/flink-operator-stats/pom.xml
@@ -34,23 +34,20 @@ under the License.
     <packaging>jar</packaging>
 
     <dependencies>
+
+        <!-- core dependencies -->
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-java</artifactId>
             <version>${project.version}</version>
         </dependency>
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-core</artifactId>
             <version>${project.version}</version>
         </dependency>
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-test-utils_2.10</artifactId>
-            <version>${project.version}</version>
-			<type>test-jar</type>
-            <scope>test</scope>
-        </dependency>
 
         <dependency>
             <groupId>com.clearspring.analytics</groupId>
@@ -63,6 +60,16 @@ under the License.
                 </exclusion>
             </exclusions>
         </dependency>
+
+        <!-- test dependencies -->
+
+        <dependency>
+            <groupId>org.apache.flink</groupId>
+            <artifactId>flink-test-utils_2.10</artifactId>
+            <version>${project.version}</version>
+            <scope>test</scope>
+        </dependency>
+
     </dependencies>
 
 </project>
diff --git a/flink-contrib/flink-operator-stats/src/test/java/org/apache/flink/contrib/operatorstatistics/OperatorStatsAccumulatorTest.java b/flink-contrib/flink-operator-stats/src/test/java/org/apache/flink/contrib/operatorstatistics/OperatorStatsAccumulatorTest.java
index 6f488f66cf4..82123e02502 100644
--- a/flink-contrib/flink-operator-stats/src/test/java/org/apache/flink/contrib/operatorstatistics/OperatorStatsAccumulatorTest.java
+++ b/flink-contrib/flink-operator-stats/src/test/java/org/apache/flink/contrib/operatorstatistics/OperatorStatsAccumulatorTest.java
@@ -27,8 +27,10 @@ import org.apache.flink.api.java.tuple.Tuple1;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.test.util.AbstractTestBase;
 import org.apache.flink.util.Collector;
+
 import org.junit.Assert;
 import org.junit.Test;
+
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
@@ -43,7 +45,7 @@ public class OperatorStatsAccumulatorTest extends AbstractTestBase {
 
 	private static final String ACCUMULATOR_NAME = "op-stats";
 
-	public OperatorStatsAccumulatorTest(){
+	public OperatorStatsAccumulatorTest() {
 		super(new Configuration());
 	}
 	
diff --git a/flink-contrib/flink-statebackend-rocksdb/pom.xml b/flink-contrib/flink-statebackend-rocksdb/pom.xml
index 115752c8cac..7d551cbda53 100644
--- a/flink-contrib/flink-statebackend-rocksdb/pom.xml
+++ b/flink-contrib/flink-statebackend-rocksdb/pom.xml
@@ -37,46 +37,50 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-clients_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
+
 		<dependency>
 			<groupId>org.rocksdb</groupId>
 			<artifactId>rocksdbjni</artifactId>
 			<version>4.5.1</version>
 		</dependency>
+
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
+			<artifactId>flink-test-utils-junit</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-runtime_2.10</artifactId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
 			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
+			<artifactId>flink-runtime_2.10</artifactId>
 			<version>${project.version}</version>
 			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
-		<dependency>
-			<groupId>junit</groupId>
-			<artifactId>junit</artifactId>
-			<version>4.11</version>
-		</dependency>
 	</dependencies>
 </project>
diff --git a/flink-contrib/flink-statebackend-rocksdb/src/test/java/org/apache/flink/contrib/streaming/state/RocksDBAsyncKVSnapshotTest.java b/flink-contrib/flink-statebackend-rocksdb/src/test/java/org/apache/flink/contrib/streaming/state/RocksDBAsyncKVSnapshotTest.java
index efdea304909..a58686b260f 100644
--- a/flink-contrib/flink-statebackend-rocksdb/src/test/java/org/apache/flink/contrib/streaming/state/RocksDBAsyncKVSnapshotTest.java
+++ b/flink-contrib/flink-statebackend-rocksdb/src/test/java/org/apache/flink/contrib/streaming/state/RocksDBAsyncKVSnapshotTest.java
@@ -26,11 +26,11 @@ import org.apache.flink.api.common.typeutils.base.StringSerializer;
 import org.apache.flink.api.common.typeutils.base.VoidSerializer;
 import org.apache.flink.api.java.functions.KeySelector;
 import org.apache.flink.configuration.ConfigConstants;
+import org.apache.flink.core.testutils.OneShotLatch;
 import org.apache.flink.runtime.io.network.api.writer.ResultPartitionWriter;
 import org.apache.flink.runtime.operators.testutils.MockInputSplitProvider;
 import org.apache.flink.runtime.state.StateHandle;
 import org.apache.flink.runtime.state.memory.MemoryStateBackend;
-import org.apache.flink.runtime.taskmanager.OneShotLatch;
 import org.apache.flink.streaming.api.graph.StreamConfig;
 import org.apache.flink.streaming.api.operators.AbstractStreamOperator;
 import org.apache.flink.streaming.api.operators.OneInputStreamOperator;
diff --git a/flink-contrib/flink-storm-examples/pom.xml b/flink-contrib/flink-storm-examples/pom.xml
index cd8a57fa824..ec46b94297d 100644
--- a/flink-contrib/flink-storm-examples/pom.xml
+++ b/flink-contrib/flink-storm-examples/pom.xml
@@ -35,6 +35,9 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-storm_2.10</artifactId>
@@ -48,28 +51,28 @@ under the License.
 		</dependency>
 
 		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
-			<version>${project.version}</version>
-			<scope>test</scope>
-			<type>test-jar</type>
+			<groupId>org.apache.storm</groupId>
+			<artifactId>storm-starter</artifactId>
+			<version>0.9.4</version>
 		</dependency>
 
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
 		<dependency>
-			<groupId>org.apache.storm</groupId>
-			<artifactId>storm-starter</artifactId>
-			<version>0.9.4</version>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+			<type>test-jar</type>
 		</dependency>
 
-
 	</dependencies>
 
 	<build>
diff --git a/flink-contrib/flink-streaming-contrib/pom.xml b/flink-contrib/flink-streaming-contrib/pom.xml
index 340bac5ddc7..4e7e69b3309 100644
--- a/flink-contrib/flink-streaming-contrib/pom.xml
+++ b/flink-contrib/flink-streaming-contrib/pom.xml
@@ -37,26 +37,33 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-scala_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-clients_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
+
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 	</dependencies>
diff --git a/flink-core/pom.xml b/flink-core/pom.xml
index 1aadfbd711d..21d00b39063 100644
--- a/flink-core/pom.xml
+++ b/flink-core/pom.xml
@@ -71,8 +71,15 @@ under the License.
 			<version>${project.version}</version>
 		</dependency>
 
-		<!-- test depedencies -->
-		
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils-junit</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+
 		<dependency>
 			<groupId>commons-io</groupId>
 			<artifactId>commons-io</artifactId>
@@ -95,17 +102,6 @@ under the License.
 
 	<build>
 		<plugins>
-			<plugin>
-				<groupId>org.apache.maven.plugins</groupId>
-				<artifactId>maven-jar-plugin</artifactId>
-				<executions>
-					<execution>
-						<goals>
-							<goal>test-jar</goal>
-						</goals>
-					</execution>
-				</executions>
-			</plugin>
 			<!-- Exclude removed CONFIG_KEY from ccheck -->
 			<plugin>
 				<groupId>com.github.siom79.japicmp</groupId>
@@ -126,7 +122,21 @@ under the License.
 					</execution>
 				</executions>
 			</plugin>
+
+			<!-- publish some test base classes -->
+			<plugin>
+				<groupId>org.apache.maven.plugins</groupId>
+				<artifactId>maven-jar-plugin</artifactId>
+				<executions>
+					<execution>
+						<goals>
+							<goal>test-jar</goal>
+						</goals>
+					</execution>
+				</executions>
+			</plugin>
 		</plugins>
+		
 	</build>
 
 </project>
diff --git a/flink-core/src/main/java/org/apache/flink/api/java/typeutils/InputTypeConfigurable.java b/flink-core/src/main/java/org/apache/flink/api/java/typeutils/InputTypeConfigurable.java
index 5958e291802..b7fc2e2bb0e 100644
--- a/flink-core/src/main/java/org/apache/flink/api/java/typeutils/InputTypeConfigurable.java
+++ b/flink-core/src/main/java/org/apache/flink/api/java/typeutils/InputTypeConfigurable.java
@@ -25,10 +25,8 @@ import org.apache.flink.api.common.typeinfo.TypeInformation;
 
 /**
  * {@link org.apache.flink.api.common.io.OutputFormat}s can implement this interface to be configured
- * with the data type they will operate on. The method {@link #setInputType(org.apache.flink.api
- * .common.typeinfo.TypeInformation, org.apache.flink.api.common.ExecutionConfig)} will be
- * called when the output format is used with an output method such as
- * {@link org.apache.flink.api.java.DataSet#output(org.apache.flink.api.common.io.OutputFormat)}.
+ * with the data type they will operate on. The method {@link #setInputType(TypeInformation, ExecutionConfig)
+ * will be called when the output format is used with an output API method.
  */
 @Public
 public interface InputTypeConfigurable {
@@ -38,7 +36,7 @@ public interface InputTypeConfigurable {
 	 * the DataSet's output method. May be used to configures the output format based on the data type.
 	 *
 	 * @param type The data type of the input.
-	 * @param executionConfig
+	 * @param executionConfig The execution config for this parallel execution.
 	 */
 	void setInputType(TypeInformation<?> type, ExecutionConfig executionConfig);
 }
diff --git a/flink-core/src/main/java/org/apache/flink/util/InstantiationUtil.java b/flink-core/src/main/java/org/apache/flink/util/InstantiationUtil.java
index bd068f39e65..bcf71f0aa25 100644
--- a/flink-core/src/main/java/org/apache/flink/util/InstantiationUtil.java
+++ b/flink-core/src/main/java/org/apache/flink/util/InstantiationUtil.java
@@ -21,6 +21,7 @@ package org.apache.flink.util;
 import org.apache.flink.annotation.Internal;
 import org.apache.flink.api.common.typeutils.TypeSerializer;
 import org.apache.flink.configuration.Configuration;
+import org.apache.flink.core.io.IOReadableWritable;
 import org.apache.flink.core.memory.DataInputViewStreamWrapper;
 import org.apache.flink.core.memory.DataOutputViewStreamWrapper;
 
@@ -340,6 +341,35 @@ public final class InstantiationUtil {
 			return deserializeObject(serializedObject, classLoader);
 		}
 	}
+
+	/**
+	 * Clones the given writable using the {@link IOReadableWritable serialization}.
+	 *
+	 * @param original Object to clone
+	 * @param <T> Type of the object to clone
+	 * @return Cloned object
+	 * @throws IOException Thrown is the serialization fails.
+	 */
+	public static <T extends IOReadableWritable> T createCopyWritable(T original) throws IOException {
+		if (original == null) {
+			return null;
+		}
+
+		final ByteArrayOutputStream baos = new ByteArrayOutputStream();
+		try (DataOutputViewStreamWrapper out = new DataOutputViewStreamWrapper(baos)) {
+			original.write(out);
+		}
+
+		final ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
+		try (DataInputViewStreamWrapper in = new DataInputViewStreamWrapper(bais)) {
+
+			@SuppressWarnings("unchecked")
+			T copy = (T) instantiate(original.getClass());
+			copy.read(in);
+			return copy;
+		}
+	}
+	
 	
 	// --------------------------------------------------------------------------------------------
 	
diff --git a/flink-core/src/test/java/org/apache/flink/api/common/ExecutionConfigTest.java b/flink-core/src/test/java/org/apache/flink/api/common/ExecutionConfigTest.java
index 6dd47d83cb8..1f646a5b6fe 100644
--- a/flink-core/src/test/java/org/apache/flink/api/common/ExecutionConfigTest.java
+++ b/flink-core/src/test/java/org/apache/flink/api/common/ExecutionConfigTest.java
@@ -77,17 +77,4 @@ public class ExecutionConfigTest {
 			throw new RuntimeException("Couldn't create new ExecutionConfig for test.", e);
 		}
 	}
-
-	/**
-	 * Deserializes the given ExecutionConfig with the System class loader.
-	 * @param serializedConfig The serialized ExecutionConfig
-	 * @return ExecutionConfig
-	 */
-	public static ExecutionConfig deserializeConfig(SerializedValue<ExecutionConfig> serializedConfig) {
-		try {
-			return serializedConfig.deserializeValue(ExecutionConfigTest.class.getClassLoader());
-		} catch (Exception e) {
-			throw new RuntimeException("Could not deserialize ExecutionConfig for test.", e);
-		}
-	}
 }
diff --git a/flink-core/src/test/java/org/apache/flink/configuration/ConfigurationTest.java b/flink-core/src/test/java/org/apache/flink/configuration/ConfigurationTest.java
index 5f0947dfd4f..cf3c908b013 100644
--- a/flink-core/src/test/java/org/apache/flink/configuration/ConfigurationTest.java
+++ b/flink-core/src/test/java/org/apache/flink/configuration/ConfigurationTest.java
@@ -23,9 +23,9 @@ import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.fail;
 
-import org.apache.flink.core.testutils.CommonTestUtils;
-
+import org.apache.flink.util.InstantiationUtil;
 import org.apache.flink.util.TestLogger;
+
 import org.junit.Test;
 
 /**
@@ -54,7 +54,7 @@ public class ConfigurationTest extends TestLogger {
 			orig.setBytes("bytes sequence", new byte[] { 1, 2, 3, 4, 5 } );
 			orig.setClass("myclass", this.getClass());
 	
-			final Configuration copy = CommonTestUtils.createCopyWritable(orig);
+			final Configuration copy = InstantiationUtil.createCopyWritable(orig);
 			assertEquals("myvalue", copy.getString("mykey", "null"));
 			assertEquals(100, copy.getInteger("mynumber", 0));
 			assertEquals(478236947162389746L, copy.getLong("longvalue", 0L));
diff --git a/flink-core/src/test/java/org/apache/flink/configuration/FilesystemSchemeConfigTest.java b/flink-core/src/test/java/org/apache/flink/configuration/FilesystemSchemeConfigTest.java
index 8de4a225f5f..3e1a7235b98 100644
--- a/flink-core/src/test/java/org/apache/flink/configuration/FilesystemSchemeConfigTest.java
+++ b/flink-core/src/test/java/org/apache/flink/configuration/FilesystemSchemeConfigTest.java
@@ -31,6 +31,7 @@ import java.io.PrintWriter;
 import java.lang.reflect.Field;
 import java.net.URI;
 import java.net.URISyntaxException;
+import java.util.UUID;
 
 import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.fail;
@@ -111,11 +112,11 @@ public class FilesystemSchemeConfigTest {
 				Field f = FileSystem.class.getDeclaredField("defaultScheme");
 				f.setAccessible(true);
 				f.set(null, null);
-			} catch (IllegalAccessException e) {
-				e.printStackTrace();
-			} catch (NoSuchFieldException e) {
+			} catch (IllegalAccessException | NoSuchFieldException e) {
 				e.printStackTrace();
+				fail("Cannot reset default scheme: " + e.getMessage());
 			}
+			
 			confFile.delete();
 			testFile.delete();
 			tmpDir.delete();
@@ -124,13 +125,14 @@ public class FilesystemSchemeConfigTest {
 
 	private File getTmpDir() {
 		File tmpDir = new File(CommonTestUtils.getTempDir() + File.separator
-			+ CommonTestUtils.getRandomDirectoryName() + File.separator);
-		tmpDir.mkdirs();
+			+ UUID.randomUUID().toString() + File.separator);
+		
+		assertTrue(tmpDir.mkdirs());
 
 		return tmpDir;
 	}
 
 	private File createRandomFile(File path, String suffix) {
-		return new File(path.getAbsolutePath() + File.separator + CommonTestUtils.getRandomDirectoryName() + suffix);
+		return new File(path.getAbsolutePath() + File.separator + UUID.randomUUID() + suffix);
 	}
 }
diff --git a/flink-core/src/test/java/org/apache/flink/configuration/GlobalConfigurationTest.java b/flink-core/src/test/java/org/apache/flink/configuration/GlobalConfigurationTest.java
index 5e1a4d0e96f..ce55d2e4b75 100644
--- a/flink-core/src/test/java/org/apache/flink/configuration/GlobalConfigurationTest.java
+++ b/flink-core/src/test/java/org/apache/flink/configuration/GlobalConfigurationTest.java
@@ -19,12 +19,14 @@
 package org.apache.flink.configuration;
 
 import static org.junit.Assert.assertEquals;
+import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.fail;
 
 import java.io.File;
 import java.io.FileNotFoundException;
 import java.io.PrintWriter;
 import java.lang.reflect.Field;
+import java.util.UUID;
 
 import org.apache.flink.core.testutils.CommonTestUtils;
 import org.apache.flink.util.TestLogger;
@@ -211,14 +213,12 @@ public class GlobalConfigurationTest extends TestLogger {
 	}
 
 	private File getTmpDir() {
-		File tmpDir = new File(CommonTestUtils.getTempDir() + File.separator
-			+ CommonTestUtils.getRandomDirectoryName() + File.separator);
-		tmpDir.mkdirs();
-
+		File tmpDir = new File(CommonTestUtils.getTempDir(), UUID.randomUUID().toString());
+		assertTrue(tmpDir.mkdirs());
 		return tmpDir;
 	}
 
 	private File createRandomFile(File path, String suffix) {
-		return new File(path.getAbsolutePath() + File.separator + CommonTestUtils.getRandomDirectoryName() + suffix);
+		return new File(path, UUID.randomUUID().toString() + suffix);
 	}
 }
diff --git a/flink-core/src/test/java/org/apache/flink/core/fs/local/LocalFileSystemTest.java b/flink-core/src/test/java/org/apache/flink/core/fs/local/LocalFileSystemTest.java
index d41303bec3c..299524d50b5 100644
--- a/flink-core/src/test/java/org/apache/flink/core/fs/local/LocalFileSystemTest.java
+++ b/flink-core/src/test/java/org/apache/flink/core/fs/local/LocalFileSystemTest.java
@@ -16,9 +16,9 @@
  * limitations under the License.
  */
 
-
 package org.apache.flink.core.fs.local;
 
+import static org.junit.Assert.assertArrayEquals;
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertFalse;
 import static org.junit.Assert.assertTrue;
@@ -29,13 +29,14 @@ import java.io.FileInputStream;
 import java.io.FileOutputStream;
 import java.io.IOException;
 import java.util.Arrays;
+import java.util.UUID;
 
 import org.apache.flink.core.fs.FSDataInputStream;
 import org.apache.flink.core.fs.FSDataOutputStream;
 import org.apache.flink.core.fs.FileStatus;
 import org.apache.flink.core.fs.Path;
-import org.apache.flink.core.fs.local.LocalFileSystem;
 import org.apache.flink.core.testutils.CommonTestUtils;
+
 import org.junit.Test;
 
 /**
@@ -49,22 +50,10 @@ public class LocalFileSystemTest {
 	 */
 	@Test
 	public void testLocalFilesystem() {
+		final File tempdir = new File(CommonTestUtils.getTempDir(), UUID.randomUUID().toString());
 
-		File tempdir = new File(CommonTestUtils.getTempDir() + File.separator
-			+ CommonTestUtils.getRandomDirectoryName() + File.separator);
-
-		// we must ensure, that this directory does NOT exist yet
-		// probability is extremely low but just to make sure..
-		while (tempdir.exists()) {
-			tempdir = new File(CommonTestUtils.getTempDir() + File.separator + CommonTestUtils.getRandomDirectoryName()
-				+ File.separator);
-		}
-
-		final File testfile1 = new File(tempdir.getAbsolutePath() + File.separator
-			+ CommonTestUtils.getRandomFilename());
-
-		final File testfile2 = new File(tempdir.getAbsolutePath() + File.separator
-			+ CommonTestUtils.getRandomFilename());
+		final File testfile1 = new File(tempdir, UUID.randomUUID().toString());
+		final File testfile2 = new File(tempdir, UUID.randomUUID().toString());
 
 		final Path pathtotestfile1 = new Path(testfile1.toURI().getPath());
 		final Path pathtotestfile2 = new Path(testfile2.toURI().getPath());
@@ -80,7 +69,7 @@ public class LocalFileSystemTest {
 
 			// check that dir is not existent yet
 			assertFalse(lfs.exists(pathtotmpdir));
-			tempdir.mkdirs();
+			assertTrue(tempdir.mkdirs());
 
 			// check that local file system recognizes file..
 			assertTrue(lfs.exists(pathtotmpdir));
@@ -114,7 +103,7 @@ public class LocalFileSystemTest {
 
 			// create files.. one ""natively"", one using lfs
 			final FSDataOutputStream lfsoutput1 = lfs.create(pathtotestfile1, false);
-			testfile2.createNewFile();
+			assertTrue(testfile2.createNewFile());
 
 			// does lfs create files? does lfs recognize created files?
 			assertTrue(testfile1.exists());
@@ -125,16 +114,14 @@ public class LocalFileSystemTest {
 			lfsoutput1.write(testbytes);
 			lfsoutput1.close();
 
-			assertEquals(testfile1.length(), 5l);
+			assertEquals(testfile1.length(), 5L);
 
 			final FileInputStream fisfile1 = new FileInputStream(testfile1);
 			byte[] testbytestest = new byte[5];
-			fisfile1.read(testbytestest);
+			assertEquals(testbytestest.length, fisfile1.read(testbytestest));
 			fisfile1.close();
-
-			// assertEquals is not able to compare arrays properly...
-			// assertEquals(testbytes, testbytestest);
-			assertTrue(Arrays.equals(testbytes, testbytestest));
+			
+			assertArrayEquals(testbytes, testbytestest);
 
 			// does lfs see the correct file length?
 			assertEquals(lfs.getFileStatus(pathtotestfile1).getLen(), testfile1.length());
@@ -171,7 +158,8 @@ public class LocalFileSystemTest {
 
 		} catch (IOException e) {
 			fail(e.getMessage());
-		} finally {
+		}
+		finally {
 			// clean up!
 			testfile1.delete();
 			testfile2.delete();
diff --git a/flink-core/src/test/java/org/apache/flink/core/testutils/CommonTestUtils.java b/flink-core/src/test/java/org/apache/flink/core/testutils/CommonTestUtils.java
deleted file mode 100644
index a330c5bb54e..00000000000
--- a/flink-core/src/test/java/org/apache/flink/core/testutils/CommonTestUtils.java
+++ /dev/null
@@ -1,159 +0,0 @@
-/*
- * Licensed to the Apache Software Foundation (ASF) under one
- * or more contributor license agreements.  See the NOTICE file
- * distributed with this work for additional information
- * regarding copyright ownership.  The ASF licenses this file
- * to you under the Apache License, Version 2.0 (the
- * "License"); you may not use this file except in compliance
- * with the License.  You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-package org.apache.flink.core.testutils;
-
-import static org.junit.Assert.fail;
-
-import java.io.ByteArrayInputStream;
-import java.io.ByteArrayOutputStream;
-import java.io.File;
-import java.io.IOException;
-import java.io.ObjectInputStream;
-import java.io.ObjectOutputStream;
-
-import org.apache.flink.configuration.ConfigConstants;
-import org.apache.flink.configuration.GlobalConfiguration;
-import org.apache.flink.core.io.IOReadableWritable;
-import org.apache.flink.core.memory.DataInputViewStreamWrapper;
-import org.apache.flink.core.memory.DataOutputViewStreamWrapper;
-
-/**
- * This class contains reusable utility methods for unit tests.
- */
-public class CommonTestUtils {
-
-	/**
-	 * Constructs a random filename. The filename is a string of 16 hex characters followed by a <code>.dat</code>
-	 * prefix.
-	 * 
-	 * @return the random filename
-	 */
-	public static String getRandomFilename() {
-
-		final char[] alphabeth = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };
-
-		String filename = "";
-		for (int i = 0; i < 16; i++) {
-			filename += alphabeth[(int) (Math.random() * alphabeth.length)];
-		}
-
-		return filename + ".dat";
-	}
-
-	/**
-	 * Constructs a random directory name. The directory is a string of 16 hex characters
-	 * prefix.
-	 * 
-	 * @return the random directory name
-	 */
-	public static String getRandomDirectoryName() {
-
-		final char[] alphabeth = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };
-
-		String filename = "";
-		for (int i = 0; i < 16; i++) {
-			filename += alphabeth[(int) (Math.random() * alphabeth.length)];
-		}
-
-		return filename;
-	}
-
-	/**
-	 * Reads the path to the directory for temporary files from the configuration and returns it.
-	 * 
-	 * @return the path to the directory for temporary files
-	 */
-	public static String getTempDir() {
-
-		return GlobalConfiguration.getString(ConfigConstants.TASK_MANAGER_TMP_DIR_KEY,
-			ConfigConstants.DEFAULT_TASK_MANAGER_TMP_PATH).split(File.pathSeparator)[0];
-	}
-
-	/**
-	 * Creates a copy of the given {@link IOReadableWritable} object by an in-memory serialization and subsequent
-	 * deserialization.
-	 * 
-	 * @param original
-	 *        the original object to be copied
-	 * @return the copy of original object created by the original object's serialization/deserialization methods
-	 * @throws IOException
-	 *         thrown if an error occurs while creating the copy of the object
-	 */
-	@SuppressWarnings("unchecked")
-	public static <T extends IOReadableWritable> T createCopyWritable(final T original) throws IOException {
-
-		final ByteArrayOutputStream baos = new ByteArrayOutputStream();
-		original.write(new DataOutputViewStreamWrapper(baos));
-
-		final String className = original.getClass().getName();
-		if (className == null) {
-			fail("Class name is null");
-		}
-
-		Class<T> clazz = null;
-
-		try {
-			clazz = (Class<T>) Class.forName(className);
-		} catch (ClassNotFoundException e) {
-			fail(e.getMessage());
-		}
-
-		if (clazz == null) {
-			fail("Cannot find class with name " + className);
-		}
-
-		T copy = null;
-		try {
-			copy = clazz.newInstance();
-		} catch (InstantiationException | IllegalAccessException e) {
-			fail(e.getMessage());
-		}
-
-		if (copy == null) {
-			fail("Copy of object of type " + className + " is null");
-		}
-
-		final ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
-		copy.read(new DataInputViewStreamWrapper(bais));
-		return copy;
-	}
-
-	public static <T extends java.io.Serializable> T createCopySerializable(T original) throws IOException {
-		if (original == null) {
-			throw new IllegalArgumentException();
-		}
-
-		ByteArrayOutputStream baos = new ByteArrayOutputStream();
-		ObjectOutputStream oos = new ObjectOutputStream(baos);
-		oos.writeObject(original);
-		oos.close();
-		baos.close();
-
-		ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
-
-		try (ObjectInputStream ois = new ObjectInputStream(bais)) {
-			@SuppressWarnings("unchecked")
-			T copy = (T) ois.readObject();
-			return copy;
-		}
-		catch (ClassNotFoundException e) {
-			throw new IOException(e);
-		}
-	}
-}
diff --git a/flink-core/src/test/java/org/apache/flink/util/AbstractIDTest.java b/flink-core/src/test/java/org/apache/flink/util/AbstractIDTest.java
index ba7d60c6128..c7fec4a000d 100644
--- a/flink-core/src/test/java/org/apache/flink/util/AbstractIDTest.java
+++ b/flink-core/src/test/java/org/apache/flink/util/AbstractIDTest.java
@@ -22,7 +22,6 @@ import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.fail;
 
-import org.apache.flink.core.testutils.CommonTestUtils;
 import org.junit.Test;
 
 /**
@@ -36,7 +35,7 @@ public class AbstractIDTest extends TestLogger {
 	public void testSerialization() {
 		final AbstractID origID = new AbstractID();
 		try {
-			final AbstractID copyID = CommonTestUtils.createCopyWritable(origID);
+			final AbstractID copyID = InstantiationUtil.createCopyWritable(origID);
 
 			assertEquals(origID.hashCode(), copyID.hashCode());
 			assertEquals(origID, copyID);
@@ -83,16 +82,16 @@ public class AbstractIDTest extends TestLogger {
 			AbstractID id10 = new AbstractID(Long.MIN_VALUE, Long.MAX_VALUE);
 			
 			// test self equality
-			assertEquals(0, id1.compareTo(CommonTestUtils.createCopyWritable(id1)));
-			assertEquals(0, id2.compareTo(CommonTestUtils.createCopyWritable(id2)));
-			assertEquals(0, id3.compareTo(CommonTestUtils.createCopyWritable(id3)));
-			assertEquals(0, id4.compareTo(CommonTestUtils.createCopyWritable(id4)));
-			assertEquals(0, id5.compareTo(CommonTestUtils.createCopyWritable(id5)));
-			assertEquals(0, id6.compareTo(CommonTestUtils.createCopyWritable(id6)));
-			assertEquals(0, id7.compareTo(CommonTestUtils.createCopyWritable(id7)));
-			assertEquals(0, id8.compareTo(CommonTestUtils.createCopyWritable(id8)));
-			assertEquals(0, id9.compareTo(CommonTestUtils.createCopyWritable(id9)));
-			assertEquals(0, id10.compareTo(CommonTestUtils.createCopyWritable(id10)));
+			assertEquals(0, id1.compareTo(InstantiationUtil.createCopyWritable(id1)));
+			assertEquals(0, id2.compareTo(InstantiationUtil.createCopyWritable(id2)));
+			assertEquals(0, id3.compareTo(InstantiationUtil.createCopyWritable(id3)));
+			assertEquals(0, id4.compareTo(InstantiationUtil.createCopyWritable(id4)));
+			assertEquals(0, id5.compareTo(InstantiationUtil.createCopyWritable(id5)));
+			assertEquals(0, id6.compareTo(InstantiationUtil.createCopyWritable(id6)));
+			assertEquals(0, id7.compareTo(InstantiationUtil.createCopyWritable(id7)));
+			assertEquals(0, id8.compareTo(InstantiationUtil.createCopyWritable(id8)));
+			assertEquals(0, id9.compareTo(InstantiationUtil.createCopyWritable(id9)));
+			assertEquals(0, id10.compareTo(InstantiationUtil.createCopyWritable(id10)));
 			
 			// test order
 			assertCompare(id1, id2, -1);
diff --git a/flink-core/src/test/java/org/apache/flink/util/InstantiationUtilTest.java b/flink-core/src/test/java/org/apache/flink/util/InstantiationUtilTest.java
index f9500b00683..b3697637af7 100644
--- a/flink-core/src/test/java/org/apache/flink/util/InstantiationUtilTest.java
+++ b/flink-core/src/test/java/org/apache/flink/util/InstantiationUtilTest.java
@@ -20,6 +20,9 @@ package org.apache.flink.util;
 
 import org.apache.flink.api.common.typeutils.base.DoubleValueSerializer;
 import org.apache.flink.configuration.Configuration;
+import org.apache.flink.core.io.IOReadableWritable;
+import org.apache.flink.core.memory.DataInputView;
+import org.apache.flink.core.memory.DataOutputView;
 import org.apache.flink.types.DoubleValue;
 import org.apache.flink.types.StringValue;
 import org.apache.flink.types.Value;
@@ -28,6 +31,8 @@ import org.junit.Test;
 import java.io.IOException;
 import java.io.ObjectInputStream;
 import java.io.ObjectOutputStream;
+import java.util.Objects;
+import java.util.Random;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertFalse;
@@ -133,11 +138,20 @@ public class InstantiationUtilTest extends TestLogger {
 		}
 	}
 
+	@Test
+	public void testCopyWritable() throws Exception {
+		WritableType original = new WritableType();
+		WritableType copy = InstantiationUtil.createCopyWritable(original);
+		
+		assertTrue(original != copy);
+		assertTrue(original.equals(copy));
+	}
+	
 	// --------------------------------------------------------------------------------------------
 	
 	private class TestClass {}
 	
-	private static class TestException extends IOException{
+	private static class TestException extends IOException {
 		private static final long serialVersionUID = 1L;
 	}
 	
@@ -167,4 +181,47 @@ public class InstantiationUtilTest extends TestLogger {
 			throw new ClassNotFoundException("test exception");
 		}
 	}
+	
+	private static final class WritableType implements IOReadableWritable {
+		
+		private int aInt;
+		private long aLong;
+		
+		private WritableType() {
+			Random rnd = new Random();
+			this.aInt = rnd.nextInt();
+			this.aLong = rnd.nextLong();
+		}
+
+		@Override
+		public int hashCode() {
+			return Objects.hash(aInt, aLong);
+		}
+
+		@Override
+		public boolean equals(Object obj) {
+			if (obj == this) {
+				return true;
+			}
+			else if (obj != null && obj.getClass() == WritableType.class) {
+				WritableType that = (WritableType) obj;
+				return this.aLong == that.aLong && this.aInt == that.aInt;
+			}
+			else {
+				return false;
+			}
+		}
+
+		@Override
+		public void write(DataOutputView out) throws IOException {
+			out.writeInt(aInt);
+			out.writeLong(aLong);
+		}
+
+		@Override
+		public void read(DataInputView in) throws IOException {
+			this.aInt = in.readInt();
+			this.aLong = in.readLong();
+		}
+	}
 }
diff --git a/flink-examples/flink-examples-streaming/pom.xml b/flink-examples/flink-examples-streaming/pom.xml
index afb0cf50275..78760b74fc8 100644
--- a/flink-examples/flink-examples-streaming/pom.xml
+++ b/flink-examples/flink-examples-streaming/pom.xml
@@ -35,6 +35,9 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
@@ -65,20 +68,21 @@ under the License.
 			<version>${project.version}</version>
 		</dependency>
 
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
+			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
 			<scope>test</scope>
-			<type>test-jar</type>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-test-utils_2.10</artifactId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
+			<type>test-jar</type>
 		</dependency>
 
 	</dependencies>
diff --git a/flink-fs-tests/pom.xml b/flink-fs-tests/pom.xml
index 53cb5036dd1..d6ffbb5852f 100644
--- a/flink-fs-tests/pom.xml
+++ b/flink-fs-tests/pom.xml
@@ -43,13 +43,6 @@ under the License.
 			<scope>test</scope>
 		</dependency>
 		
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
-			<version>${project.version}</version>
-			<scope>test</scope>
-		</dependency>
-		
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
@@ -75,16 +68,15 @@ under the License.
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
+			<artifactId>flink-runtime_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
+			<type>test-jar</type>
 		</dependency>
 
 		<dependency>
@@ -102,6 +94,5 @@ under the License.
 			<type>test-jar</type>
 			<version>${hadoop.version}</version><!--$NO-MVN-MAN-VER$-->
 		</dependency>
-
 	</dependencies>
 </project>
diff --git a/flink-fs-tests/src/test/java/org/apache/flink/hdfstests/FileStateBackendTest.java b/flink-fs-tests/src/test/java/org/apache/flink/hdfstests/FileStateBackendTest.java
index e32c1a64f37..4ec94f6a8f7 100644
--- a/flink-fs-tests/src/test/java/org/apache/flink/hdfstests/FileStateBackendTest.java
+++ b/flink-fs-tests/src/test/java/org/apache/flink/hdfstests/FileStateBackendTest.java
@@ -31,10 +31,10 @@ import org.apache.flink.runtime.state.filesystem.FileStreamStateHandle;
 import org.apache.flink.runtime.state.filesystem.FsStateBackend;
 import org.apache.flink.runtime.operators.testutils.DummyEnvironment;
 import org.apache.flink.api.common.typeutils.base.IntSerializer;
-
 import org.apache.flink.runtime.state.AbstractStateBackend;
 import org.apache.flink.runtime.state.StreamStateHandle;
 import org.apache.flink.runtime.state.memory.ByteStreamStateHandle;
+
 import org.apache.hadoop.conf.Configuration;
 import org.apache.hadoop.hdfs.MiniDFSCluster;
 
diff --git a/flink-java/pom.xml b/flink-java/pom.xml
index a3689e7433b..94021eb6fdd 100644
--- a/flink-java/pom.xml
+++ b/flink-java/pom.xml
@@ -65,15 +65,14 @@ under the License.
 			<version>${guava.version}</version>
 			<scope>test</scope>
 		</dependency>
-		
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
+			<artifactId>flink-test-utils-junit</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
-		
+
 	</dependencies>
 
 	<build>
diff --git a/flink-core/src/test/java/org/apache/flink/api/common/io/SequentialFormatTestBase.java b/flink-java/src/test/java/org/apache/flink/api/common/io/SequentialFormatTestBase.java
similarity index 98%
rename from flink-core/src/test/java/org/apache/flink/api/common/io/SequentialFormatTestBase.java
rename to flink-java/src/test/java/org/apache/flink/api/common/io/SequentialFormatTestBase.java
index b00ca95a342..039f4de8902 100644
--- a/flink-core/src/test/java/org/apache/flink/api/common/io/SequentialFormatTestBase.java
+++ b/flink-java/src/test/java/org/apache/flink/api/common/io/SequentialFormatTestBase.java
@@ -26,7 +26,6 @@ import org.apache.flink.core.fs.Path;
 import org.apache.flink.core.memory.DataOutputView;
 import org.apache.flink.core.memory.DataOutputViewStreamWrapper;
 import org.apache.flink.util.TestLogger;
-
 import org.junit.After;
 import org.junit.Assert;
 import org.junit.Before;
@@ -42,7 +41,7 @@ import java.util.Comparator;
 import java.util.List;
 
 /**
- * Test base for {@link org.apache.flink.api.common.io.BinaryInputFormat} and {@link org.apache.flink.api.common.io.BinaryOutputFormat}.
+ * Test base for {@link BinaryInputFormat} and {@link BinaryOutputFormat}.
  */
 public abstract class SequentialFormatTestBase<T> extends TestLogger {
 
diff --git a/flink-core/src/test/java/org/apache/flink/api/common/io/SerializedFormatTest.java b/flink-java/src/test/java/org/apache/flink/api/common/io/SerializedFormatTest.java
similarity index 99%
rename from flink-core/src/test/java/org/apache/flink/api/common/io/SerializedFormatTest.java
rename to flink-java/src/test/java/org/apache/flink/api/common/io/SerializedFormatTest.java
index d82623b3ce8..db2ee8c2593 100644
--- a/flink-core/src/test/java/org/apache/flink/api/common/io/SerializedFormatTest.java
+++ b/flink-java/src/test/java/org/apache/flink/api/common/io/SerializedFormatTest.java
@@ -25,7 +25,6 @@ import org.apache.flink.core.memory.DataOutputView;
 import org.apache.flink.types.IntValue;
 import org.apache.flink.types.Record;
 import org.apache.flink.types.StringValue;
-
 import org.junit.Assert;
 import org.junit.Before;
 import org.junit.runner.RunWith;
diff --git a/flink-java8/pom.xml b/flink-java8/pom.xml
index 0635d988877..00ace94029d 100644
--- a/flink-java8/pom.xml
+++ b/flink-java8/pom.xml
@@ -40,36 +40,34 @@ under the License.
 	</properties>
 
 	<dependencies>
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
-			<version>${project.version}</version>
-		</dependency>
+
+		<!-- core dependencies -->
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-test-utils_2.10</artifactId>
+			<artifactId>flink-java</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-java</artifactId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
-		
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
+			<artifactId>flink-examples-batch_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
 
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-examples-batch_2.10</artifactId>
+			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
+			<scope>test</scope>
 		</dependency>
 
 		<dependency>
diff --git a/flink-libraries/flink-cep-scala/pom.xml b/flink-libraries/flink-cep-scala/pom.xml
index ea1d0e112e8..878a1875f13 100644
--- a/flink-libraries/flink-cep-scala/pom.xml
+++ b/flink-libraries/flink-cep-scala/pom.xml
@@ -17,50 +17,64 @@ KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->
-<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
+<project xmlns="http://maven.apache.org/POM/4.0.0"
+         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
+    
     <modelVersion>4.0.0</modelVersion>
+    
     <parent>
         <groupId>org.apache.flink</groupId>
         <artifactId>flink-libraries</artifactId>
         <version>1.1-SNAPSHOT</version>
         <relativePath>..</relativePath>
     </parent>
+    
     <artifactId>flink-cep-scala_2.10</artifactId>
     <name>flink-cep-scala</name>
     <packaging>jar</packaging>
 
     <dependencies>
+
+        <!-- core dependencies -->
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-cep_2.10</artifactId>
             <version>${project.version}</version>
         </dependency>
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-streaming-scala_2.10</artifactId>
             <version>${project.version}</version>
             <scope>provided</scope>
         </dependency>
-        <!-- We need to add this explicitly because through shading the dependency on asm seems
-        to go away. TODO -->
+
+        <!-- We need to add this explicitly due to shading -->
         <dependency>
             <groupId>org.ow2.asm</groupId>
             <artifactId>asm</artifactId>
             <version>${asm.version}</version>
         </dependency>
+
+        <!-- test dependencies -->
+
         <dependency>
             <groupId>org.apache.flink</groupId>
-            <artifactId>flink-tests_2.10</artifactId>
+            <artifactId>flink-test-utils_2.10</artifactId>
             <version>${project.version}</version>
             <scope>test</scope>
-            <type>test-jar</type>
         </dependency>
+
         <dependency>
             <groupId>org.apache.flink</groupId>
-            <artifactId>flink-test-utils_2.10</artifactId>
+            <artifactId>flink-tests_2.10</artifactId>
             <version>${project.version}</version>
             <scope>test</scope>
+            <type>test-jar</type>
         </dependency>
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-streaming-scala_2.10</artifactId>
@@ -68,6 +82,7 @@ under the License.
             <scope>test</scope>
             <type>test-jar</type>
         </dependency>
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-cep_2.10</artifactId>
@@ -93,6 +108,7 @@ under the License.
                     </execution>
                 </executions>
             </plugin>
+            
 			<!-- Scala Code Style, most of the configuration done via plugin management -->
 			<plugin>
 				<groupId>org.scalastyle</groupId>
diff --git a/flink-libraries/flink-cep/pom.xml b/flink-libraries/flink-cep/pom.xml
index 84ed8acd9be..6b6d43112d5 100644
--- a/flink-libraries/flink-cep/pom.xml
+++ b/flink-libraries/flink-cep/pom.xml
@@ -35,32 +35,32 @@ under the License.
     <packaging>jar</packaging>
 
     <dependencies>
+
+        <!-- core dependencies -->
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-core</artifactId>
             <version>${project.version}</version>
             <scope>provided</scope>
         </dependency>
+
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-streaming-java_2.10</artifactId>
             <version>${project.version}</version>
             <scope>provided</scope>
         </dependency>
-        <dependency>
-            <groupId>com.google.guava</groupId>
-            <artifactId>guava</artifactId>
-            <version>${guava.version}</version>
-        </dependency>
+
+        <!-- test dependencies -->
 
         <dependency>
             <groupId>org.apache.flink</groupId>
-            <artifactId>flink-core</artifactId>
+            <artifactId>flink-test-utils_2.10</artifactId>
             <version>${project.version}</version>
-            <type>test-jar</type>
             <scope>test</scope>
         </dependency>
-
+        
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-streaming-java_2.10</artifactId>
@@ -68,14 +68,6 @@ under the License.
             <type>test-jar</type>
             <scope>test</scope>
         </dependency>
-
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-test-utils_2.10</artifactId>
-            <version>${project.version}</version>
-			<type>test-jar</type>
-            <scope>test</scope>
-        </dependency>
     </dependencies>
     
     <build>
diff --git a/flink-libraries/flink-gelly-examples/pom.xml b/flink-libraries/flink-gelly-examples/pom.xml
index 2cef35951ae..0565e5bac3b 100644
--- a/flink-libraries/flink-gelly-examples/pom.xml
+++ b/flink-libraries/flink-gelly-examples/pom.xml
@@ -32,6 +32,9 @@
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-java</artifactId>
@@ -57,11 +60,13 @@
 			<artifactId>flink-gelly-scala_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
+
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 	</dependencies>
diff --git a/flink-libraries/flink-gelly-scala/pom.xml b/flink-libraries/flink-gelly-scala/pom.xml
index 97d81f65443..23b4037f6f8 100644
--- a/flink-libraries/flink-gelly-scala/pom.xml
+++ b/flink-libraries/flink-gelly-scala/pom.xml
@@ -58,18 +58,21 @@ under the License.
             <artifactId>flink-gelly_2.10</artifactId>
             <version>${project.version}</version>
         </dependency>
+        
+        <!-- test dependencies -->
+        
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-tests_2.10</artifactId>
             <version>${project.version}</version>
             <scope>test</scope>
             <type>test-jar</type>
+        
         </dependency>
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-test-utils_2.10</artifactId>
             <version>${project.version}</version>
-			<type>test-jar</type>
             <scope>test</scope>
         </dependency>
     </dependencies>
diff --git a/flink-libraries/flink-gelly/pom.xml b/flink-libraries/flink-gelly/pom.xml
index 7e6f712d2da..14e63d29f40 100644
--- a/flink-libraries/flink-gelly/pom.xml
+++ b/flink-libraries/flink-gelly/pom.xml
@@ -35,25 +35,32 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-java</artifactId>
 			<version>${project.version}</version>
 			<scope>provided</scope>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-clients_2.10</artifactId>
 			<version>${project.version}</version>
 			<scope>provided</scope>
 		</dependency>
+
+		<!-- test dependencies -->
+		
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-optimizer_2.10</artifactId>
diff --git a/flink-libraries/flink-ml/pom.xml b/flink-libraries/flink-ml/pom.xml
index 80ac88ee589..ca286e8b5f7 100644
--- a/flink-libraries/flink-ml/pom.xml
+++ b/flink-libraries/flink-ml/pom.xml
@@ -34,6 +34,9 @@
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-scala_2.10</artifactId>
@@ -47,26 +50,18 @@
 			<version>0.12</version>
 		</dependency>
 
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-clients_2.10</artifactId>
-			<version>${project.version}</version>
-			<scope>test</scope>
-		</dependency>
+		<!-- test dependencies -->
 
 		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-clients_2.10</artifactId>
-			<version>${project.version}</version>
-			<type>test-jar</type>
+			<groupId>org.scalatest</groupId>
+			<artifactId>scalatest_${scala.binary.version}</artifactId>
 			<scope>test</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
+			<artifactId>flink-clients_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
@@ -74,7 +69,6 @@
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 	</dependencies>
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/MLUtilsSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/MLUtilsSuite.scala
index f02f5ffc1c2..cd1a340361d 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/MLUtilsSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/MLUtilsSuite.scala
@@ -20,16 +20,15 @@ package org.apache.flink.ml
 
 import java.io.File
 
-import scala.io.Source
-
-import org.scalatest.{FlatSpec, Matchers}
-
 import org.apache.flink.api.scala._
-import org.apache.flink.api.scala.ExecutionEnvironment
+import org.apache.flink.core.testutils.CommonTestUtils
 import org.apache.flink.ml.common.LabeledVector
 import org.apache.flink.ml.math.SparseVector
-import org.apache.flink.test.util.FlinkTestBase
-import org.apache.flink.testutils.TestFileUtils
+import org.apache.flink.ml.util.FlinkTestBase
+
+import org.scalatest.{FlatSpec, Matchers}
+
+import scala.io.Source
 
 class MLUtilsSuite extends FlatSpec with Matchers with FlinkTestBase {
 
@@ -53,7 +52,7 @@ class MLUtilsSuite extends FlatSpec with Matchers with FlinkTestBase {
       LabeledVector(-42.1, SparseVector.fromCOO(10, (1, 2), (3, -6.1), (2, 5.1)))
     )
 
-    val inputFilePath = TestFileUtils.createTempFile(content)
+    val inputFilePath = CommonTestUtils.createTempFile(content)
 
     val svmInput = env.readLibSVM(inputFilePath)
 
@@ -86,10 +85,7 @@ class MLUtilsSuite extends FlatSpec with Matchers with FlinkTestBase {
 
     val labeledVectorsDS = env.fromCollection(labeledVectors)
 
-    val tempDir = new File(System.getProperty("java.io.tmpdir"))
-
-    val tempFile = new File(tempDir, TestFileUtils.randomFileName())
-
+    val tempFile = File.createTempFile("flink_test_", ".tmp")
     val outputFilePath = tempFile.getAbsolutePath
 
     labeledVectorsDS.writeAsLibSVM(outputFilePath)
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/classification/SVMITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/classification/SVMITSuite.scala
index e6eb87330d4..af17451d066 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/classification/SVMITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/classification/SVMITSuite.scala
@@ -18,11 +18,11 @@
 
 package org.apache.flink.ml.classification
 
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{FlatSpec, Matchers}
 import org.apache.flink.ml.math.DenseVector
 
 import org.apache.flink.api.scala._
-import org.apache.flink.test.util.FlinkTestBase
 
 class SVMITSuite extends FlatSpec with Matchers with FlinkTestBase {
 
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/common/FlinkMLToolsSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/common/FlinkMLToolsSuite.scala
index 525ba4d8f22..14bb22ea8b7 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/common/FlinkMLToolsSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/common/FlinkMLToolsSuite.scala
@@ -20,7 +20,7 @@ package org.apache.flink.ml.common
 
 import org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer
 import org.apache.flink.api.scala.ExecutionEnvironment
-import org.apache.flink.test.util.FlinkTestBase
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{FlatSpec, Matchers}
 
 class FlinkMLToolsSuite extends FlatSpec with Matchers with FlinkTestBase {
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/KNNITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/KNNITSuite.scala
index 389d69aae4e..871c1c43682 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/KNNITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/KNNITSuite.scala
@@ -24,7 +24,7 @@ import org.apache.flink.ml.classification.Classification
 import org.apache.flink.ml.math.DenseVector
 import org.apache.flink.ml.metrics.distances.{ManhattanDistanceMetric,
 SquaredEuclideanDistanceMetric}
-import org.apache.flink.test.util.FlinkTestBase
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{FlatSpec, Matchers}
 
 class KNNITSuite extends FlatSpec with Matchers with FlinkTestBase {
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/QuadTreeSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/QuadTreeSuite.scala
index a3a415df248..086324f9957 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/QuadTreeSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/nn/QuadTreeSuite.scala
@@ -19,8 +19,8 @@
 package org.apache.flink.ml.nn
 
 import org.apache.flink.ml.metrics.distances.EuclideanDistanceMetric
-import org.apache.flink.test.util.FlinkTestBase
 import org.apache.flink.ml.math.{Vector, DenseVector}
+import org.apache.flink.ml.util.FlinkTestBase
 
 import org.scalatest.{Matchers, FlatSpec}
 
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/GradientDescentITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/GradientDescentITSuite.scala
index aed3bfd0626..728ef577953 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/GradientDescentITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/GradientDescentITSuite.scala
@@ -21,10 +21,10 @@ package org.apache.flink.ml.optimization
 import org.apache.flink.ml.common.{LabeledVector, WeightVector}
 import org.apache.flink.ml.math.DenseVector
 import org.apache.flink.ml.regression.RegressionData._
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{Matchers, FlatSpec}
 
 import org.apache.flink.api.scala._
-import org.apache.flink.test.util.FlinkTestBase
 
 
 class GradientDescentITSuite extends FlatSpec with Matchers with FlinkTestBase {
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/LossFunctionITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/LossFunctionITSuite.scala
index 41521880b8d..3d538cf90b3 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/LossFunctionITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/LossFunctionITSuite.scala
@@ -20,10 +20,10 @@ package org.apache.flink.ml.optimization
 
 import org.apache.flink.ml.common.{LabeledVector, WeightVector}
 import org.apache.flink.ml.math.DenseVector
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{Matchers, FlatSpec}
 
 import org.apache.flink.api.scala._
-import org.apache.flink.test.util.FlinkTestBase
 
 
 class LossFunctionITSuite extends FlatSpec with Matchers with FlinkTestBase {
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/PredictionFunctionITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/PredictionFunctionITSuite.scala
index 6d2a239dbb0..9d4732b39b8 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/PredictionFunctionITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/optimization/PredictionFunctionITSuite.scala
@@ -21,7 +21,7 @@ package org.apache.flink.ml.optimization
 import org.apache.flink.ml.common.WeightVector
 import org.apache.flink.ml.math.DenseVector
 import org.apache.flink.api.scala._
-import org.apache.flink.test.util.FlinkTestBase
+import org.apache.flink.ml.util.FlinkTestBase
 
 import org.scalatest.{Matchers, FlatSpec}
 
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/pipeline/PipelineITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/pipeline/PipelineITSuite.scala
index a3ea086cf0c..d8bd51ad4d4 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/pipeline/PipelineITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/pipeline/PipelineITSuite.scala
@@ -24,7 +24,7 @@ import org.apache.flink.ml.common.{ParameterMap, LabeledVector}
 import org.apache.flink.ml.math._
 import org.apache.flink.ml.preprocessing.{PolynomialFeatures, StandardScaler}
 import org.apache.flink.ml.regression.MultipleLinearRegression
-import org.apache.flink.test.util.FlinkTestBase
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{Matchers, FlatSpec}
 
 class PipelineITSuite extends FlatSpec with Matchers with FlinkTestBase {
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/MinMaxScalerITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/MinMaxScalerITSuite.scala
index 75ac442af0f..abfa851ea25 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/MinMaxScalerITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/MinMaxScalerITSuite.scala
@@ -22,7 +22,7 @@ import org.apache.flink.api.scala._
 import org.apache.flink.ml.common.LabeledVector
 import org.apache.flink.ml.math.Breeze._
 import org.apache.flink.ml.math.{DenseVector, Vector}
-import org.apache.flink.test.util.FlinkTestBase
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{FlatSpec, Matchers}
 
 
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/PolynomialFeaturesITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/PolynomialFeaturesITSuite.scala
index 006db5f7ee7..4dc7cf340db 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/PolynomialFeaturesITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/PolynomialFeaturesITSuite.scala
@@ -21,7 +21,7 @@ package org.apache.flink.ml.preprocessing
 import org.apache.flink.api.scala.{ExecutionEnvironment, _}
 import org.apache.flink.ml.common.LabeledVector
 import org.apache.flink.ml.math.DenseVector
-import org.apache.flink.test.util.FlinkTestBase
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{FlatSpec, Matchers}
 
 class PolynomialFeaturesITSuite
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/StandardScalerITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/StandardScalerITSuite.scala
index 5cd253d5875..767de1d9a34 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/StandardScalerITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/preprocessing/StandardScalerITSuite.scala
@@ -23,8 +23,8 @@ import breeze.numerics.sqrt._
 import org.apache.flink.api.scala._
 import org.apache.flink.ml.common.LabeledVector
 import org.apache.flink.ml.math.{Vector => FlinkVector, DenseVector}
-import org.apache.flink.test.util.FlinkTestBase
 import org.apache.flink.ml.math.Breeze._
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest._
 
 
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/recommendation/ALSITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/recommendation/ALSITSuite.scala
index 9c241fdf6e2..8dca0c3c5f9 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/recommendation/ALSITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/recommendation/ALSITSuite.scala
@@ -18,12 +18,12 @@
 
 package org.apache.flink.ml.recommendation
 
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest._
 
 import scala.language.postfixOps
 
 import org.apache.flink.api.scala._
-import org.apache.flink.test.util.FlinkTestBase
 
 class ALSITSuite
   extends FlatSpec
diff --git a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/regression/MultipleLinearRegressionITSuite.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/regression/MultipleLinearRegressionITSuite.scala
index 51214e643c5..fc3df3a209c 100644
--- a/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/regression/MultipleLinearRegressionITSuite.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/regression/MultipleLinearRegressionITSuite.scala
@@ -21,7 +21,7 @@ package org.apache.flink.ml.regression
 import org.apache.flink.api.scala._
 import org.apache.flink.ml.common.{ParameterMap, WeightVector}
 import org.apache.flink.ml.preprocessing.PolynomialFeatures
-import org.apache.flink.test.util.FlinkTestBase
+import org.apache.flink.ml.util.FlinkTestBase
 import org.scalatest.{FlatSpec, Matchers}
 
 class MultipleLinearRegressionITSuite
diff --git a/flink-test-utils/src/test/scala/org/apache/flink/test/util/FlinkTestBase.scala b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/util/FlinkTestBase.scala
similarity index 93%
rename from flink-test-utils/src/test/scala/org/apache/flink/test/util/FlinkTestBase.scala
rename to flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/util/FlinkTestBase.scala
index 1f00c7ef628..fb98f24cf0a 100644
--- a/flink-test-utils/src/test/scala/org/apache/flink/test/util/FlinkTestBase.scala
+++ b/flink-libraries/flink-ml/src/test/scala/org/apache/flink/ml/util/FlinkTestBase.scala
@@ -16,9 +16,10 @@
  * limitations under the License.
  */
 
-package org.apache.flink.test.util
+package org.apache.flink.ml.util
 
-import org.scalatest.{Suite, BeforeAndAfter}
+import org.apache.flink.test.util.{ForkableFlinkMiniCluster, TestBaseUtils, TestEnvironment}
+import org.scalatest.{BeforeAndAfter, Suite}
 
 /** Mixin to start and stop a ForkableFlinkMiniCluster automatically for Scala based tests.
   * Additionally a TestEnvironment with the started cluster is created and set as the default
diff --git a/flink-libraries/flink-python/pom.xml b/flink-libraries/flink-python/pom.xml
index 9f7445d310b..79ec043d07f 100644
--- a/flink-libraries/flink-python/pom.xml
+++ b/flink-libraries/flink-python/pom.xml
@@ -52,6 +52,9 @@ under the License.
     </build>
 
     <dependencies>
+        
+        <!-- core dependencies -->
+        
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-core</artifactId>
@@ -77,11 +80,13 @@ under the License.
             <artifactId>flink-clients_2.10</artifactId>
             <version>${project.version}</version>
         </dependency>
+
+        <!-- test dependencies -->
+        
         <dependency>
             <groupId>org.apache.flink</groupId>
             <artifactId>flink-test-utils_2.10</artifactId>
             <version>${project.version}</version>
-			<type>test-jar</type>
             <scope>test</scope>
         </dependency>
     </dependencies>
diff --git a/flink-libraries/flink-python/src/test/java/org/apache/flink/python/api/PythonPlanBinderTest.java b/flink-libraries/flink-python/src/test/java/org/apache/flink/python/api/PythonPlanBinderTest.java
index c53d4086609..d14429864b5 100644
--- a/flink-libraries/flink-python/src/test/java/org/apache/flink/python/api/PythonPlanBinderTest.java
+++ b/flink-libraries/flink-python/src/test/java/org/apache/flink/python/api/PythonPlanBinderTest.java
@@ -12,17 +12,20 @@
  */
 package org.apache.flink.python.api;
 
-import java.io.IOException;
-import java.util.ArrayList;
-import java.util.List;
 import org.apache.flink.core.fs.FileStatus;
 import org.apache.flink.core.fs.FileSystem;
 import org.apache.flink.core.fs.Path;
+import org.apache.flink.test.util.JavaProgramTestBase;
+
+import java.io.IOException;
+import java.util.ArrayList;
+import java.util.List;
+
 import static org.apache.flink.python.api.PythonPlanBinder.ARGUMENT_PYTHON_2;
 import static org.apache.flink.python.api.PythonPlanBinder.ARGUMENT_PYTHON_3;
-import org.apache.flink.test.util.JavaProgramTestBase;
 
 public class PythonPlanBinderTest extends JavaProgramTestBase {
+	
 	@Override
 	protected boolean skipCollectionExecution() {
 		return true;
@@ -35,7 +38,7 @@ public class PythonPlanBinderTest extends JavaProgramTestBase {
 	}
 
 	private static List<String> findTestFiles() throws Exception {
-		List<String> files = new ArrayList();
+		List<String> files = new ArrayList<>();
 		FileSystem fs = FileSystem.getLocalFileSystem();
 		FileStatus[] status = fs.listStatus(
 				new Path(fs.getWorkingDirectory().toString()
diff --git a/flink-libraries/flink-table/pom.xml b/flink-libraries/flink-table/pom.xml
index 33e2e571f49..46be2a112d4 100644
--- a/flink-libraries/flink-table/pom.xml
+++ b/flink-libraries/flink-table/pom.xml
@@ -34,11 +34,7 @@ under the License.
 
 	<dependencies>
 
-		<dependency>
-			<groupId>com.google.guava</groupId>
-			<artifactId>guava</artifactId>
-			<version>${guava.version}</version>
-		</dependency>
+		<!-- core dependencies -->
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
@@ -52,20 +48,6 @@ under the License.
 			<version>${project.version}</version>
 		</dependency>
 
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
-			<version>${project.version}</version>
-			<scope>test</scope>
-			<type>test-jar</type>
-		</dependency>
-
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-examples-batch_2.10</artifactId>
-			<version>${project.version}</version>
-		</dependency>
-
 		<dependency>
 			<groupId>org.scala-lang</groupId>
 			<artifactId>scala-reflect</artifactId>
@@ -81,28 +63,12 @@ under the License.
 			<artifactId>scala-compiler</artifactId>
 		</dependency>
 
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-test-utils_2.10</artifactId>
-			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
-		</dependency>
-
 		<dependency>
 			<groupId>org.codehaus.janino</groupId>
 			<artifactId>janino</artifactId>
 			<version>2.7.5</version>
 		</dependency>
 
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-tests_2.10</artifactId>
-			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
-		</dependency>
-
 		<dependency>
 			<groupId>com.fasterxml.jackson.core</groupId>
 			<artifactId>jackson-databind</artifactId>
@@ -114,6 +80,29 @@ under the License.
 			<version>1.7.0</version>
 		</dependency>
 
+		<dependency>
+			<groupId>com.google.guava</groupId>
+			<artifactId>guava</artifactId>
+			<version>${guava.version}</version>
+		</dependency>
+
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-tests_2.10</artifactId>
+			<version>${project.version}</version>
+			<type>test-jar</type>
+			<scope>test</scope>
+		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-core</artifactId>
@@ -122,6 +111,13 @@ under the License.
 			<scope>test</scope>
 		</dependency>
 
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+			<type>test-jar</type>
+		</dependency>
 	</dependencies>
 
 	<build>
diff --git a/flink-libraries/flink-table/src/test/scala/org/apache/flink/api/scala/stream/TableSinkITCase.scala b/flink-libraries/flink-table/src/test/scala/org/apache/flink/api/scala/stream/TableSinkITCase.scala
index 160d88a5fea..9dfee11b18b 100644
--- a/flink-libraries/flink-table/src/test/scala/org/apache/flink/api/scala/stream/TableSinkITCase.scala
+++ b/flink-libraries/flink-table/src/test/scala/org/apache/flink/api/scala/stream/TableSinkITCase.scala
@@ -20,18 +20,15 @@ package org.apache.flink.api.scala.stream
 
 import java.io.File
 
-import org.apache.flink.api.common.functions.MapFunction
-import org.apache.flink.api.common.typeinfo.TypeInformation
-import org.apache.flink.api.scala.stream.utils.StreamTestData
 import org.apache.flink.api.scala._
+import org.apache.flink.api.scala.stream.utils.StreamTestData
 import org.apache.flink.api.scala.table._
-import org.apache.flink.api.table.sinks.{CsvTableSink, StreamTableSink, TableSink}
-import org.apache.flink.api.table.typeutils.RowTypeInfo
-import org.apache.flink.api.table.{Row, TableEnvironment}
-import org.apache.flink.streaming.api.datastream.DataStream
+import org.apache.flink.api.table.TableEnvironment
+import org.apache.flink.api.table.sinks.CsvTableSink
 import org.apache.flink.streaming.api.scala.StreamExecutionEnvironment
 import org.apache.flink.streaming.util.StreamingMultipleProgramsTestBase
 import org.apache.flink.test.util.TestBaseUtils
+
 import org.junit.Test
 
 class TableSinkITCase extends StreamingMultipleProgramsTestBase {
diff --git a/flink-optimizer/pom.xml b/flink-optimizer/pom.xml
index 2c5a7a7757a..493475a3b9e 100644
--- a/flink-optimizer/pom.xml
+++ b/flink-optimizer/pom.xml
@@ -35,18 +35,13 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
-			<version>${project.version}</version>
-		</dependency>
+
+		<!-- core dependencies -->
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-core</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
 		</dependency>
 
 		<dependency>
@@ -54,7 +49,7 @@ under the License.
 			<artifactId>flink-runtime_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
-		
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-java</artifactId>
@@ -66,6 +61,15 @@ under the License.
 			<artifactId>guava</artifactId>
 			<version>${guava.version}</version>
 		</dependency>
+
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils-junit</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
 	</dependencies>
 
 	<!-- Because flink-tests needs the CompilerTestBsae -->
diff --git a/flink-runtime-web/pom.xml b/flink-runtime-web/pom.xml
index e2637e482c9..8fd0e2f1b4a 100644
--- a/flink-runtime-web/pom.xml
+++ b/flink-runtime-web/pom.xml
@@ -34,32 +34,6 @@ under the License.
 
 	<packaging>jar</packaging>
 
-	<build>
-		<resources>
-			<resource>
-				<!-- Only include the web folder from the web-dashboard directory -->
-				<directory>web-dashboard</directory>
-				<includes>
-					<include>web/**</include>
-				</includes>
-			</resource>
-		</resources>
-		<plugins>
-			<plugin>
-				<groupId>org.apache.maven.plugins</groupId>
-				<artifactId>maven-jar-plugin</artifactId>
-				<inherited>true</inherited>
-				<executions>
-					<execution>
-						<goals>
-							<goal>test-jar</goal>
-						</goals>
-					</execution>
-				</executions>
-			</plugin>
-		</plugins>
-	</build>
-
 	<dependencies>
 
 		<!-- ===================================================
@@ -93,52 +67,14 @@ under the License.
 			<version>3.18.2-GA</version>
 		</dependency>
 
-		<!-- ===================================================
-				Dependencies for Actor Calls
-			=================================================== -->
-		
-		<dependency>
-			<groupId>org.scala-lang</groupId>
-			<artifactId>scala-library</artifactId>
-		</dependency>
-
-		<dependency>
-			<groupId>com.typesafe.akka</groupId>
-			<artifactId>akka-actor_${scala.binary.version}</artifactId>
-		</dependency>
-
-		<dependency>
-			<groupId>com.typesafe.akka</groupId>
-			<artifactId>akka-remote_${scala.binary.version}</artifactId>
-		</dependency>
-
-		<!-- ===================================================
-								Utilities
-			=================================================== -->
-
-		<dependency>
-			<groupId>com.google.guava</groupId>
-			<artifactId>guava</artifactId>
-			<version>${guava.version}</version>
-		</dependency>
-
 		<!-- ===================================================
 								Testing
 			=================================================== -->
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
+			<artifactId>flink-test-utils-junit</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
-		</dependency>
-
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-runtime_2.10</artifactId>
-			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
@@ -154,6 +90,41 @@ under the License.
 			<artifactId>akka-testkit_${scala.binary.version}</artifactId>
 			<scope>test</scope>
 		</dependency>
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-runtime_2.10</artifactId>
+			<version>${project.version}</version>
+			<type>test-jar</type>
+			<scope>test</scope>
+		</dependency>
+
 	</dependencies>
 
+	<build>
+		<resources>
+			<resource>
+				<!-- Only include the web folder from the web-dashboard directory -->
+				<directory>web-dashboard</directory>
+				<includes>
+					<include>web/**</include>
+				</includes>
+			</resource>
+		</resources>
+
+		<plugins>
+			<plugin>
+				<groupId>org.apache.maven.plugins</groupId>
+				<artifactId>maven-jar-plugin</artifactId>
+				<executions>
+					<execution>
+						<goals>
+							<goal>test-jar</goal>
+						</goals>
+					</execution>
+				</executions>
+			</plugin>
+		</plugins>
+	</build>
+	
 </project>
diff --git a/flink-runtime-web/src/test/java/org/apache/flink/runtime/webmonitor/StackTraceSampleCoordinatorTest.java b/flink-runtime-web/src/test/java/org/apache/flink/runtime/webmonitor/StackTraceSampleCoordinatorTest.java
index 29345a63efc..1791465725b 100644
--- a/flink-runtime-web/src/test/java/org/apache/flink/runtime/webmonitor/StackTraceSampleCoordinatorTest.java
+++ b/flink-runtime-web/src/test/java/org/apache/flink/runtime/webmonitor/StackTraceSampleCoordinatorTest.java
@@ -45,7 +45,6 @@ import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertFalse;
 import static org.junit.Assert.assertNotNull;
 import static org.junit.Assert.assertTrue;
-import static org.junit.Assert.fail;
 import static org.mockito.Matchers.any;
 import static org.mockito.Matchers.eq;
 import static org.mockito.Mockito.mock;
diff --git a/flink-runtime/pom.xml b/flink-runtime/pom.xml
index bb3ba3b574f..a96a38852da 100644
--- a/flink-runtime/pom.xml
+++ b/flink-runtime/pom.xml
@@ -35,18 +35,13 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
-			<version>${project.version}</version>
-		</dependency>
+
+		<!-- core dependencies -->
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-core</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
 		</dependency>
 
 		<dependency>
@@ -111,21 +106,11 @@ under the License.
 			<artifactId>akka-slf4j_${scala.binary.version}</artifactId>
 		</dependency>
 
-		<dependency>
-			<groupId>com.typesafe.akka</groupId>
-			<artifactId>akka-testkit_${scala.binary.version}</artifactId>
-		</dependency>
-
 		<dependency>
 			<groupId>org.clapper</groupId>
 			<artifactId>grizzled-slf4j_${scala.binary.version}</artifactId>
 		</dependency>
 
-		<dependency>
-			<groupId>org.scalatest</groupId>
-			<artifactId>scalatest_${scala.binary.version}</artifactId>
-		</dependency>
-
 		<dependency>
 			<groupId>com.github.scopt</groupId>
 			<artifactId>scopt_${scala.binary.version}</artifactId>
@@ -176,13 +161,34 @@ under the License.
 			<artifactId>flink-shaded-curator-recipes</artifactId>
 			<version>${project.version}</version>
 		</dependency>
-		
+
+		<!-- core dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils-junit</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+
 		<dependency>
 			<groupId>org.apache.curator</groupId>
 			<artifactId>curator-test</artifactId>
 			<version>${curator.version}</version>
 			<scope>test</scope>
 		</dependency>
+
+		<dependency>
+			<groupId>org.scalatest</groupId>
+			<artifactId>scalatest_${scala.binary.version}</artifactId>
+			<scope>test</scope>
+		</dependency>
+
+		<dependency>
+			<groupId>com.typesafe.akka</groupId>
+			<artifactId>akka-testkit_${scala.binary.version}</artifactId>
+		</dependency>
+
 	</dependencies>
 
 	<build>
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/testutils/TestingResourceManager.java b/flink-runtime/src/main/java/org/apache/flink/runtime/testutils/TestingResourceManager.java
similarity index 100%
rename from flink-runtime/src/test/java/org/apache/flink/runtime/testutils/TestingResourceManager.java
rename to flink-runtime/src/main/java/org/apache/flink/runtime/testutils/TestingResourceManager.java
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingJobManager.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingJobManager.scala
similarity index 100%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingJobManager.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingJobManager.scala
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerLike.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerLike.scala
similarity index 99%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerLike.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerLike.scala
index 8ea603fa410..5ccebe264d4 100644
--- a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerLike.scala
+++ b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerLike.scala
@@ -38,15 +38,16 @@ import org.apache.flink.runtime.testingUtils.TestingTaskManagerMessages.Accumula
 import scala.collection.mutable
 import scala.concurrent.Future
 import scala.concurrent.duration._
-import language.postfixOps
+import scala.language.postfixOps
 
 /** This mixin can be used to decorate a JobManager with messages for testing purpose.  */
 trait TestingJobManagerLike extends FlinkActor {
   that: JobManager =>
 
-  import scala.collection.JavaConverters._
   import context._
 
+  import scala.collection.JavaConverters._
+
   val waitForAllVerticesToBeRunning = scala.collection.mutable.HashMap[JobID, Set[ActorRef]]()
   val waitForTaskManagerToBeTerminated = scala.collection.mutable.HashMap[String, Set[ActorRef]]()
 
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerMessages.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerMessages.scala
similarity index 100%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerMessages.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingJobManagerMessages.scala
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingMemoryArchivist.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingMemoryArchivist.scala
similarity index 96%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingMemoryArchivist.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingMemoryArchivist.scala
index 71a7e3ea1e5..48a1ddd6a9e 100644
--- a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingMemoryArchivist.scala
+++ b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingMemoryArchivist.scala
@@ -19,7 +19,7 @@
 package org.apache.flink.runtime.testingUtils
 
 import org.apache.flink.runtime.jobmanager.MemoryArchivist
-import org.apache.flink.runtime.testingUtils.TestingJobManagerMessages.{ExecutionGraphNotFound, ExecutionGraphFound, RequestExecutionGraph}
+import org.apache.flink.runtime.testingUtils.TestingJobManagerMessages.{ExecutionGraphFound, ExecutionGraphNotFound, RequestExecutionGraph}
 
 /** Memory archivist extended by testing messages
   *
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingMessages.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingMessages.scala
similarity index 100%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingMessages.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingMessages.scala
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingTaskManager.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingTaskManager.scala
similarity index 100%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingTaskManager.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingTaskManager.scala
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerLike.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerLike.scala
similarity index 99%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerLike.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerLike.scala
index f8df89c05d6..b41db31933b 100644
--- a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerLike.scala
+++ b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerLike.scala
@@ -33,7 +33,7 @@ import org.apache.flink.runtime.testingUtils.TestingMessages._
 import org.apache.flink.runtime.testingUtils.TestingTaskManagerMessages._
 
 import scala.concurrent.duration._
-import language.postfixOps
+import scala.language.postfixOps
 
 /** This mixin can be used to decorate a TaskManager with messages for testing purposes. */
 trait TestingTaskManagerLike extends FlinkActor {
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerMessages.scala b/flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerMessages.scala
similarity index 100%
rename from flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerMessages.scala
rename to flink-runtime/src/main/scala/org/apache/flink/runtime/testingUtils/TestingTaskManagerMessages.scala
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/ExecutionGraphCheckpointCoordinatorTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/ExecutionGraphCheckpointCoordinatorTest.java
index a801348bb12..dcc98c925eb 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/ExecutionGraphCheckpointCoordinatorTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/checkpoint/ExecutionGraphCheckpointCoordinatorTest.java
@@ -19,7 +19,8 @@
 package org.apache.flink.runtime.checkpoint;
 
 import akka.actor.ActorSystem;
-import org.apache.flink.api.common.ExecutionConfigTest;
+
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.akka.AkkaUtils;
@@ -30,7 +31,10 @@ import org.apache.flink.runtime.executiongraph.ExecutionJobVertex;
 import org.apache.flink.runtime.executiongraph.restart.NoRestartStrategy;
 import org.apache.flink.runtime.jobmanager.RecoveryMode;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
+
 import org.junit.Test;
+
 import scala.concurrent.duration.FiniteDuration;
 
 import java.lang.reflect.Field;
@@ -42,7 +46,7 @@ import java.util.concurrent.TimeUnit;
 import static org.junit.Assert.assertEquals;
 
 public class ExecutionGraphCheckpointCoordinatorTest {
-
+	
 	@Test
 	public void testCheckpointAndSavepointCoordinatorShareCheckpointIDCounter() throws Exception {
 		ExecutionGraph executionGraph = new ExecutionGraph(
@@ -50,7 +54,7 @@ public class ExecutionGraphCheckpointCoordinatorTest {
 			new JobID(),
 			"test",
 			new Configuration(),
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			new FiniteDuration(1, TimeUnit.DAYS),
 			new NoRestartStrategy(),
 			Collections.<BlobKey>emptyList(),
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/deployment/TaskDeploymentDescriptorTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/deployment/TaskDeploymentDescriptorTest.java
index f0bf69428c4..56da9c87d78 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/deployment/TaskDeploymentDescriptorTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/deployment/TaskDeploymentDescriptorTest.java
@@ -27,7 +27,6 @@ import java.util.ArrayList;
 import java.util.List;
 
 import org.apache.flink.api.common.ExecutionConfig;
-import org.apache.flink.api.common.ExecutionConfigTest;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.blob.BlobKey;
 import org.apache.flink.runtime.executiongraph.ExecutionAttemptID;
@@ -37,6 +36,7 @@ import org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable;
 import org.apache.flink.runtime.operators.BatchTask;
 import org.apache.flink.core.testutils.CommonTestUtils;
 import org.apache.flink.util.SerializedValue;
+
 import org.junit.Test;
 
 public class TaskDeploymentDescriptorTest {
@@ -58,7 +58,7 @@ public class TaskDeploymentDescriptorTest {
 			final List<InputGateDeploymentDescriptor> inputGates = new ArrayList<InputGateDeploymentDescriptor>(0);
 			final List<BlobKey> requiredJars = new ArrayList<BlobKey>(0);
 			final List<URL> requiredClasspaths = new ArrayList<URL>(0);
-			final SerializedValue<ExecutionConfig> executionConfig = ExecutionConfigTest.getSerializedConfig();
+			final SerializedValue<ExecutionConfig> executionConfig = new SerializedValue<>(new ExecutionConfig());
 
 			final TaskDeploymentDescriptor orig = new TaskDeploymentDescriptor(jobID, jobName, vertexID, execId,
 				executionConfig, taskName, indexInSubtaskGroup, currentNumberOfSubtasks, attemptNumber,
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/event/task/TaskEventTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/event/task/TaskEventTest.java
index d659b45d7ae..314471e8601 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/event/task/TaskEventTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/event/task/TaskEventTest.java
@@ -26,7 +26,8 @@ import java.io.IOException;
 import java.util.Iterator;
 
 import org.apache.flink.runtime.event.AbstractEvent;
-import org.apache.flink.core.testutils.CommonTestUtils;
+import org.apache.flink.util.InstantiationUtil;
+
 import org.junit.Test;
 
 /**
@@ -43,7 +44,7 @@ public class TaskEventTest {
 
 		try {
 			final IntegerTaskEvent orig = new IntegerTaskEvent(11);
-			final IntegerTaskEvent copy = (IntegerTaskEvent) CommonTestUtils.createCopyWritable(orig);
+			final IntegerTaskEvent copy = InstantiationUtil.createCopyWritable(orig);
 
 			assertEquals(orig.getInteger(), copy.getInteger());
 			assertEquals(orig.hashCode(), copy.hashCode());
@@ -63,7 +64,7 @@ public class TaskEventTest {
 		try {
 
 			final StringTaskEvent orig = new StringTaskEvent("Test");
-			final StringTaskEvent copy = (StringTaskEvent) CommonTestUtils.createCopyWritable(orig);
+			final StringTaskEvent copy = InstantiationUtil.createCopyWritable(orig);
 
 			assertEquals(orig.getString(), copy.getString());
 			assertEquals(orig.hashCode(), copy.hashCode());
@@ -85,7 +86,7 @@ public class TaskEventTest {
 			final EventList orig = new EventList();
 			orig.add(new StringTaskEvent("Test 2"));
 			orig.add(new IntegerTaskEvent(70));
-			final EventList copy = (EventList) CommonTestUtils.createCopyWritable(orig);
+			final EventList copy = InstantiationUtil.createCopyWritable(orig);
 
 			assertEquals(orig.size(), copy.size());
 			final Iterator<AbstractEvent> origIt = orig.iterator();
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphConstructionTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphConstructionTest.java
index 8eebe6618a8..674029394ea 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphConstructionTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphConstructionTest.java
@@ -26,11 +26,13 @@ import static org.junit.Assert.fail;
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.when;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.runtime.akka.AkkaUtils;
 import org.apache.flink.runtime.executiongraph.restart.NoRestartStrategy;
 import org.apache.flink.runtime.io.network.partition.ResultPartitionType;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
+
 import org.junit.Test;
 import org.mockito.Matchers;
 
@@ -61,7 +63,7 @@ import org.apache.flink.runtime.jobmanager.scheduler.SlotSharingGroup;
  * This class contains test concerning the correct conversion from {@link JobGraph} to {@link ExecutionGraph} objects.
  */
 public class ExecutionGraphConstructionTest {
-	
+
 	/**
 	 * Creates a JobGraph of the following form:
 	 * 
@@ -76,7 +78,7 @@ public class ExecutionGraphConstructionTest {
 	 * </pre>
 	 */
 	@Test
-	public void testCreateSimpleGraphBipartite() {
+	public void testCreateSimpleGraphBipartite() throws Exception {
 		
 		final JobID jobId = new JobID();
 		final String jobName = "Test Job Sample Name";
@@ -107,7 +109,7 @@ public class ExecutionGraphConstructionTest {
 			jobId, 
 			jobName, 
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -122,7 +124,7 @@ public class ExecutionGraphConstructionTest {
 	}
 	
 	@Test
-	public void testAttachViaDataSets() {
+	public void testAttachViaDataSets() throws Exception {
 		final JobID jobId = new JobID();
 		final String jobName = "Test Job Sample Name";
 		final Configuration cfg = new Configuration();
@@ -151,8 +153,8 @@ public class ExecutionGraphConstructionTest {
 			TestingUtils.defaultExecutionContext(), 
 			jobId, 
 			jobName, 
-			cfg, 
-			ExecutionConfigTest.getSerializedConfig(),
+			cfg,
+				new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -190,7 +192,7 @@ public class ExecutionGraphConstructionTest {
 	}
 	
 	@Test
-	public void testAttachViaIds() {
+	public void testAttachViaIds() throws Exception {
 		final JobID jobId = new JobID();
 		final String jobName = "Test Job Sample Name";
 		final Configuration cfg = new Configuration();
@@ -219,8 +221,8 @@ public class ExecutionGraphConstructionTest {
 			TestingUtils.defaultExecutionContext(), 
 			jobId, 
 			jobName, 
-			cfg, 
-			ExecutionConfigTest.getSerializedConfig(),
+			cfg,
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -459,7 +461,7 @@ public class ExecutionGraphConstructionTest {
 	}
 	
 	@Test
-	public void testCannotConnectMissingId() {
+	public void testCannotConnectMissingId() throws Exception {
 		final JobID jobId = new JobID();
 		final String jobName = "Test Job Sample Name";
 		final Configuration cfg = new Configuration();
@@ -474,8 +476,8 @@ public class ExecutionGraphConstructionTest {
 			TestingUtils.defaultExecutionContext(), 
 			jobId, 
 			jobName, 
-			cfg, 
-			ExecutionConfigTest.getSerializedConfig(),
+			cfg,
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -502,7 +504,7 @@ public class ExecutionGraphConstructionTest {
 	}
 
 	@Test
-	public void testCannotConnectWrongOrder() {
+	public void testCannotConnectWrongOrder() throws Exception {
 		final JobID jobId = new JobID();
 		final String jobName = "Test Job Sample Name";
 		final Configuration cfg = new Configuration();
@@ -531,8 +533,8 @@ public class ExecutionGraphConstructionTest {
 			TestingUtils.defaultExecutionContext(), 
 			jobId, 
 			jobName, 
-			cfg, 
-			ExecutionConfigTest.getSerializedConfig(),
+			cfg,
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -593,8 +595,8 @@ public class ExecutionGraphConstructionTest {
 				TestingUtils.defaultExecutionContext(), 
 				jobId, 
 				jobName, 
-				cfg, 
-				ExecutionConfigTest.getSerializedConfig(),
+				cfg,
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new NoRestartStrategy());
 			try {
@@ -639,8 +641,8 @@ public class ExecutionGraphConstructionTest {
 				TestingUtils.defaultExecutionContext(), 
 				jobId, 
 				jobName,
-				cfg, 
-				ExecutionConfigTest.getSerializedConfig(),
+				cfg,
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new NoRestartStrategy());
 
@@ -711,8 +713,8 @@ public class ExecutionGraphConstructionTest {
 				TestingUtils.defaultExecutionContext(), 
 				jobId, 
 				jobName, 
-				cfg, 
-				ExecutionConfigTest.getSerializedConfig(),
+				cfg,
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new NoRestartStrategy());
 			
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphDeploymentTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphDeploymentTest.java
index d126acb25fb..a599f42a58c 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphDeploymentTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphDeploymentTest.java
@@ -30,7 +30,7 @@ import java.util.Comparator;
 import java.util.List;
 import java.util.Map;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.akka.AkkaUtils;
 import org.apache.flink.runtime.deployment.InputGateDeploymentDescriptor;
@@ -47,6 +47,8 @@ import org.apache.flink.runtime.jobgraph.JobVertexID;
 import org.apache.flink.runtime.jobmanager.scheduler.Scheduler;
 import org.apache.flink.runtime.operators.BatchTask;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
+
 import org.junit.Test;
 
 public class ExecutionGraphDeploymentTest {
@@ -85,7 +87,7 @@ public class ExecutionGraphDeploymentTest {
 				jobId, 
 				"some job", 
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new NoRestartStrategy());
 
@@ -288,8 +290,8 @@ public class ExecutionGraphDeploymentTest {
 			TestingUtils.directExecutionContext(), 
 			jobId, 
 			"some job", 
-			new Configuration(),
-			ExecutionConfigTest.getSerializedConfig(),
+			new Configuration(), 
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphRestartTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphRestartTest.java
index 26ba04fd647..c12f346af38 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphRestartTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphRestartTest.java
@@ -20,7 +20,6 @@ package org.apache.flink.runtime.executiongraph;
 
 import akka.dispatch.Futures;
 import org.apache.flink.api.common.ExecutionConfig;
-import org.apache.flink.api.common.ExecutionConfigTest;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.api.common.restartstrategy.RestartStrategies;
 import org.apache.flink.configuration.Configuration;
@@ -39,7 +38,9 @@ import org.apache.flink.runtime.jobmanager.scheduler.CoLocationConstraint;
 import org.apache.flink.runtime.jobmanager.scheduler.Scheduler;
 import org.apache.flink.runtime.jobmanager.scheduler.SlotSharingGroup;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
 import org.apache.flink.util.TestLogger;
+
 import org.junit.Test;
 import scala.concurrent.Await;
 import scala.concurrent.Future;
@@ -86,7 +87,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 				new JobID(),
 				"test job",
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new NoRestartStrategy());
 		eg.attachJobGraph(jobGraph.getVerticesSortedTopologicallyFromSources());
@@ -141,7 +142,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 			new JobID(),
 			"test job",
 			new Configuration(),
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new FixedDelayRestartStrategy(1, 0L));
 		eg.attachJobGraph(jobGraph.getVerticesSortedTopologicallyFromSources());
@@ -197,7 +198,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 				new JobID(),
 				"Test job",
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new FixedDelayRestartStrategy(1, 1000));
 		eg.attachJobGraph(jobGraph.getVerticesSortedTopologicallyFromSources());
@@ -226,7 +227,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 				new JobID(),
 				"TestJob",
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				// We want to manually control the restart and delay
 				new FixedDelayRestartStrategy(Integer.MAX_VALUE, Long.MAX_VALUE));
@@ -344,7 +345,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 				new JobID(),
 				"TestJob",
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				// We want to manually control the restart and delay
 				new FixedDelayRestartStrategy(Integer.MAX_VALUE, Long.MAX_VALUE));
@@ -427,7 +428,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 			new JobID(),
 			"Test job",
 			new Configuration(),
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new FixedDelayRestartStrategy(1, 1000)));
 
@@ -498,7 +499,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 			new JobID(),
 			"test job",
 			new Configuration(),
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new FixedDelayRestartStrategy(1, 1000));
 
@@ -594,7 +595,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 				new JobID(),
 				"test job",
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new FixedDelayRestartStrategy(1, 1000000));
 
@@ -648,7 +649,7 @@ public class ExecutionGraphRestartTest extends TestLogger {
 				new JobID(),
 				"test job",
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new FixedDelayRestartStrategy(1, 1000000));
 
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphSignalsTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphSignalsTest.java
index bcee5a10ad8..59f2a9bbb16 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphSignalsTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphSignalsTest.java
@@ -22,7 +22,7 @@ import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.List;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.StoppingException;
@@ -32,6 +32,8 @@ import org.apache.flink.runtime.jobgraph.JobVertex;
 import org.apache.flink.runtime.jobgraph.DistributionPattern;
 import org.apache.flink.runtime.jobgraph.JobStatus;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
+
 import org.junit.Assert;
 import org.junit.Before;
 import org.junit.Test;
@@ -128,7 +130,7 @@ public class ExecutionGraphSignalsTest {
 			jobId,
 			jobName,
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		eg.attachJobGraph(ordered);
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphTestUtils.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphTestUtils.java
index 92a74022e52..903d5f943be 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphTestUtils.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionGraphTestUtils.java
@@ -22,13 +22,11 @@ import static org.mockito.Mockito.doAnswer;
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.spy;
 
-import java.io.IOException;
 import java.lang.reflect.Field;
 import java.net.InetAddress;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.configuration.Configuration;
-import org.apache.flink.runtime.JobException;
 import org.apache.flink.runtime.akka.AkkaUtils;
 import org.apache.flink.runtime.clusterframework.types.ResourceID;
 import org.apache.flink.runtime.deployment.TaskDeploymentDescriptor;
@@ -52,6 +50,7 @@ import org.apache.flink.runtime.messages.TaskMessages.FailIntermediateResultPart
 import org.apache.flink.runtime.messages.TaskMessages.CancelTask;
 import org.apache.flink.runtime.messages.TaskMessages.TaskOperationResult;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
 import org.mockito.Matchers;
 import org.mockito.invocation.InvocationOnMock;
 import org.mockito.stubbing.Answer;
@@ -168,7 +167,7 @@ public class ExecutionGraphTestUtils {
 
 	public static final String ERROR_MESSAGE = "test_failure_error_message";
 
-	public static ExecutionJobVertex getExecutionVertex(JobVertexID id, ExecutionContext executionContext) throws JobException {
+	public static ExecutionJobVertex getExecutionVertex(JobVertexID id, ExecutionContext executionContext) throws Exception {
 		JobVertex ajv = new JobVertex("TestVertex", id);
 		ajv.setInvokableClass(mock(AbstractInvokable.class).getClass());
 
@@ -176,8 +175,8 @@ public class ExecutionGraphTestUtils {
 			executionContext, 
 			new JobID(), 
 			"test job", 
-			new Configuration(), 
-			ExecutionConfigTest.getSerializedConfig(),
+			new Configuration(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 
@@ -198,7 +197,7 @@ public class ExecutionGraphTestUtils {
 		return ejv;
 	}
 	
-	public static ExecutionJobVertex getExecutionVertex(JobVertexID id) throws JobException, IOException {
+	public static ExecutionJobVertex getExecutionVertex(JobVertexID id) throws Exception {
 		return getExecutionVertex(id, TestingUtils.defaultExecutionContext());
 	}
 }
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionStateProgressTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionStateProgressTest.java
index 9e4aa6d8292..f3743c1cba7 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionStateProgressTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/ExecutionStateProgressTest.java
@@ -22,9 +22,9 @@ import static org.apache.flink.runtime.executiongraph.ExecutionGraphTestUtils.*;
 import static org.junit.Assert.*;
 import static org.mockito.Mockito.mock;
 
-import java.util.Arrays;
+import java.util.Collections;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.akka.AkkaUtils;
 import org.apache.flink.runtime.executiongraph.restart.NoRestartStrategy;
@@ -35,6 +35,7 @@ import org.apache.flink.runtime.jobgraph.JobStatus;
 import org.apache.flink.runtime.jobgraph.JobVertexID;
 import org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
 import org.junit.Test;
 
 public class ExecutionStateProgressTest {
@@ -54,10 +55,10 @@ public class ExecutionStateProgressTest {
 				jid, 
 				"test job", 
 				new Configuration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				AkkaUtils.getDefaultTimeout(),
 				new NoRestartStrategy());
-			graph.attachJobGraph(Arrays.asList(ajv));
+			graph.attachJobGraph(Collections.singletonList(ajv));
 
 			setGraphStatus(graph, JobStatus.RUNNING);
 
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/LocalInputSplitsTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/LocalInputSplitsTest.java
index d7ce0bafa78..f03370cc6d5 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/LocalInputSplitsTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/LocalInputSplitsTest.java
@@ -25,7 +25,7 @@ import static org.mockito.Mockito.when;
 import java.net.InetAddress;
 import java.util.concurrent.TimeUnit;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.io.StrictlyLocalAssignment;
 import org.apache.flink.core.io.InputSplitAssigner;
 import org.apache.flink.core.io.InputSplitSource;
@@ -42,6 +42,7 @@ import org.apache.flink.runtime.jobgraph.JobGraph;
 import org.apache.flink.runtime.jobmanager.scheduler.Scheduler;
 import org.apache.flink.runtime.operators.testutils.DummyInvokable;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
 import org.junit.Test;
 
 import scala.concurrent.duration.FiniteDuration;
@@ -273,7 +274,7 @@ public class LocalInputSplitsTest {
 				jobGraph.getJobID(),
 				jobGraph.getName(),  
 				jobGraph.getJobConfiguration(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				TIMEOUT,
 				new NoRestartStrategy());
 			
@@ -338,7 +339,7 @@ public class LocalInputSplitsTest {
 			jobGraph.getJobID(),
 			jobGraph.getName(),  
 			jobGraph.getJobConfiguration(),
-			ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 			TIMEOUT,
 			new NoRestartStrategy());
 		
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/PointwisePatternTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/PointwisePatternTest.java
index 1b369db8359..0eb060714d9 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/PointwisePatternTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/PointwisePatternTest.java
@@ -22,10 +22,12 @@ import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.fail;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.runtime.akka.AkkaUtils;
 import org.apache.flink.runtime.executiongraph.restart.NoRestartStrategy;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
+
 import org.junit.Test;
 
 import java.util.ArrayList;
@@ -46,7 +48,7 @@ public class PointwisePatternTest {
 	private final Configuration cfg = new Configuration();
 	
 	@Test
-	public void testNToN() {
+	public void testNToN() throws Exception {
 		final int N = 23;
 		
 		JobVertex v1 = new JobVertex("vertex1");
@@ -64,7 +66,7 @@ public class PointwisePatternTest {
 			jobId, 
 			jobName, 
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -88,7 +90,7 @@ public class PointwisePatternTest {
 	}
 	
 	@Test
-	public void test2NToN() {
+	public void test2NToN() throws Exception {
 		final int N = 17;
 		
 		JobVertex v1 = new JobVertex("vertex1");
@@ -106,7 +108,7 @@ public class PointwisePatternTest {
 			jobId, 
 			jobName, 
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -131,7 +133,7 @@ public class PointwisePatternTest {
 	}
 	
 	@Test
-	public void test3NToN() {
+	public void test3NToN() throws Exception {
 		final int N = 17;
 		
 		JobVertex v1 = new JobVertex("vertex1");
@@ -149,7 +151,7 @@ public class PointwisePatternTest {
 			jobId, 
 			jobName, 
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -175,7 +177,7 @@ public class PointwisePatternTest {
 	}
 	
 	@Test
-	public void testNTo2N() {
+	public void testNTo2N() throws Exception {
 		final int N = 41;
 		
 		JobVertex v1 = new JobVertex("vertex1");
@@ -193,7 +195,7 @@ public class PointwisePatternTest {
 			jobId, 
 			jobName,
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -217,7 +219,7 @@ public class PointwisePatternTest {
 	}
 	
 	@Test
-	public void testNTo7N() {
+	public void testNTo7N() throws Exception {
 		final int N = 11;
 		
 		JobVertex v1 = new JobVertex("vertex1");
@@ -235,7 +237,7 @@ public class PointwisePatternTest {
 			jobId, 
 			jobName, 
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -259,7 +261,7 @@ public class PointwisePatternTest {
 	}
 	
 	@Test
-	public void testLowHighIrregular() {
+	public void testLowHighIrregular() throws Exception {
 		testLowToHigh(3, 16);
 		testLowToHigh(19, 21);
 		testLowToHigh(15, 20);
@@ -267,14 +269,14 @@ public class PointwisePatternTest {
 	}
 	
 	@Test
-	public void testHighLowIrregular() {
+	public void testHighLowIrregular() throws Exception {
 		testHighToLow(16, 3);
 		testHighToLow(21, 19);
 		testHighToLow(20, 15);
 		testHighToLow(31, 11);
 	}
 	
-	private void testLowToHigh(int lowDop, int highDop) {
+	private void testLowToHigh(int lowDop, int highDop) throws Exception {
 		if (highDop < lowDop) {
 			throw new IllegalArgumentException();
 		}
@@ -297,7 +299,7 @@ public class PointwisePatternTest {
 			jobId, 
 			jobName, 
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
@@ -327,7 +329,7 @@ public class PointwisePatternTest {
 		}
 	}
 	
-	private void testHighToLow(int highDop, int lowDop) {
+	private void testHighToLow(int highDop, int lowDop) throws Exception {
 		if (highDop < lowDop) {
 			throw new IllegalArgumentException();
 		}
@@ -350,7 +352,7 @@ public class PointwisePatternTest {
 			jobId, 
 			jobName, 
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy());
 		try {
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/TerminalStateDeadlockTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/TerminalStateDeadlockTest.java
index 8bc474bec16..2a690d99359 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/TerminalStateDeadlockTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/TerminalStateDeadlockTest.java
@@ -18,7 +18,7 @@
 
 package org.apache.flink.runtime.executiongraph;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.clusterframework.types.ResourceID;
@@ -35,12 +35,14 @@ import org.apache.flink.runtime.jobgraph.JobStatus;
 import org.apache.flink.runtime.jobgraph.JobVertexID;
 import org.apache.flink.runtime.jobmanager.scheduler.Scheduler;
 import org.apache.flink.runtime.operators.testutils.DummyInvokable;
-
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
+
 import org.junit.Test;
 
 import scala.concurrent.duration.FiniteDuration;
 
+import java.io.IOException;
 import java.lang.reflect.Field;
 import java.net.InetAddress;
 import java.util.Arrays;
@@ -105,9 +107,6 @@ public class TerminalStateDeadlockTest {
 			final JobID jobId = resource.getJobID();
 			final JobVertexID vid1 = new JobVertexID();
 			final JobVertexID vid2 = new JobVertexID();
-
-			
-			final Configuration jobConfig = new Configuration();
 			
 			final List<JobVertex> vertices;
 			{
@@ -182,13 +181,13 @@ public class TerminalStateDeadlockTest {
 		
 		private volatile boolean done;
 
-		TestExecGraph(JobID jobId) {
+		TestExecGraph(JobID jobId) throws IOException {
 			super(
 				TestingUtils.defaultExecutionContext(),
 				jobId,
 				"test graph",
 				EMPTY_CONFIG,
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				TIMEOUT,
 				new FixedDelayRestartStrategy(1, 0));
 		}
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexLocationConstraintTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexLocationConstraintTest.java
index c483f41f588..4ee06b364c4 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexLocationConstraintTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexLocationConstraintTest.java
@@ -26,7 +26,7 @@ import java.util.Arrays;
 import java.util.Collections;
 import java.util.concurrent.TimeUnit;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.runtime.executiongraph.restart.NoRestartStrategy;
 import org.apache.flink.runtime.clusterframework.types.ResourceID;
 import org.apache.flink.runtime.instance.DummyActorGateway;
@@ -43,6 +43,7 @@ import org.apache.flink.runtime.jobmanager.scheduler.Scheduler;
 import org.apache.flink.runtime.jobmanager.scheduler.SlotSharingGroup;
 import org.apache.flink.runtime.operators.testutils.DummyInvokable;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
 import org.junit.Test;
 
 import scala.concurrent.duration.FiniteDuration;
@@ -83,7 +84,7 @@ public class VertexLocationConstraintTest {
 					jg.getJobID(),
 					jg.getName(),
 					jg.getJobConfiguration(),
-					ExecutionConfigTest.getSerializedConfig(),
+					new SerializedValue<>(new ExecutionConfig()),
 					timeout,
 					new NoRestartStrategy());
 			eg.attachJobGraph(Collections.singletonList(jobVertex));
@@ -156,7 +157,7 @@ public class VertexLocationConstraintTest {
 					jg.getJobID(),
 					jg.getName(),
 					jg.getJobConfiguration(),
-					ExecutionConfigTest.getSerializedConfig(),
+					new SerializedValue<>(new ExecutionConfig()),
 					timeout,
 					new NoRestartStrategy());
 			eg.attachJobGraph(Collections.singletonList(jobVertex));
@@ -233,7 +234,7 @@ public class VertexLocationConstraintTest {
 					jg.getJobID(),
 					jg.getName(),
 					jg.getJobConfiguration(),
-					ExecutionConfigTest.getSerializedConfig(),
+					new SerializedValue<>(new ExecutionConfig()),
 					timeout,
 					new NoRestartStrategy());
 			eg.attachJobGraph(Arrays.asList(jobVertex1, jobVertex2));
@@ -301,7 +302,7 @@ public class VertexLocationConstraintTest {
 					jg.getJobID(),
 					jg.getName(),
 					jg.getJobConfiguration(),
-					ExecutionConfigTest.getSerializedConfig(),
+					new SerializedValue<>(new ExecutionConfig()),
 					timeout,
 					new NoRestartStrategy());
 			eg.attachJobGraph(Collections.singletonList(jobVertex));
@@ -371,7 +372,7 @@ public class VertexLocationConstraintTest {
 					jg.getJobID(),
 					jg.getName(),
 					jg.getJobConfiguration(),
-					ExecutionConfigTest.getSerializedConfig(),
+					new SerializedValue<>(new ExecutionConfig()),
 					timeout,
 					new NoRestartStrategy());
 			eg.attachJobGraph(Arrays.asList(jobVertex1, jobVertex2));
@@ -411,7 +412,7 @@ public class VertexLocationConstraintTest {
 					jg.getJobID(),
 					jg.getName(),
 					jg.getJobConfiguration(),
-					ExecutionConfigTest.getSerializedConfig(),
+					new SerializedValue<>(new ExecutionConfig()),
 					timeout,
 					new NoRestartStrategy());
 			eg.attachJobGraph(Collections.singletonList(vertex));
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexSlotSharingTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexSlotSharingTest.java
index 7a23e26fd61..6314969dfc1 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexSlotSharingTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/executiongraph/VertexSlotSharingTest.java
@@ -24,7 +24,7 @@ import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.List;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.akka.AkkaUtils;
 import org.apache.flink.runtime.executiongraph.restart.NoRestartStrategy;
@@ -33,6 +33,7 @@ import org.apache.flink.runtime.jobgraph.DistributionPattern;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.runtime.jobmanager.scheduler.SlotSharingGroup;
 import org.apache.flink.runtime.testingUtils.TestingUtils;
+import org.apache.flink.util.SerializedValue;
 import org.junit.Test;
 
 public class VertexSlotSharingTest {
@@ -76,7 +77,7 @@ public class VertexSlotSharingTest {
 					new JobID(),
 					"test job",
 					new Configuration(),
-					ExecutionConfigTest.getSerializedConfig(),
+					new SerializedValue<>(new ExecutionConfig()),
 					AkkaUtils.getDefaultTimeout(),
 					new NoRestartStrategy());
 			eg.attachJobGraph(vertices);
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/instance/InstanceConnectionInfoTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/instance/InstanceConnectionInfoTest.java
index bc8cd630461..3a9488d2a0a 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/instance/InstanceConnectionInfoTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/instance/InstanceConnectionInfoTest.java
@@ -25,7 +25,8 @@ import static org.junit.Assert.fail;
 
 import java.net.InetAddress;
 
-import org.apache.flink.core.testutils.CommonTestUtils;
+import org.apache.flink.util.InstantiationUtil;
+
 import org.junit.Assert;
 import org.junit.Test;
 
@@ -97,10 +98,10 @@ public class InstanceConnectionInfoTest {
 			{
 				InstanceConnectionInfo original = new InstanceConnectionInfo(InetAddress.getByName("1.2.3.4"), 8888);
 				
-				InstanceConnectionInfo copy = CommonTestUtils.createCopyWritable(original);
+				InstanceConnectionInfo copy = InstantiationUtil.createCopyWritable(original);
 				assertEquals(original, copy);
 				
-				InstanceConnectionInfo serCopy = CommonTestUtils.createCopySerializable(original);
+				InstanceConnectionInfo serCopy = InstantiationUtil.clone(original);
 				assertEquals(original, serCopy);
 			}
 						
@@ -109,10 +110,10 @@ public class InstanceConnectionInfoTest {
 				InstanceConnectionInfo original = new InstanceConnectionInfo(InetAddress.getByName("127.0.0.1"), 19871);
 				original.getFQDNHostname();
 				
-				InstanceConnectionInfo copy = CommonTestUtils.createCopyWritable(original);
+				InstanceConnectionInfo copy = InstantiationUtil.createCopyWritable(original);
 				assertEquals(original, copy);
 				
-				InstanceConnectionInfo serCopy = CommonTestUtils.createCopySerializable(original);
+				InstanceConnectionInfo serCopy = InstantiationUtil.clone(original);
 				assertEquals(original, serCopy);
 			}
 		}
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskAsyncCallTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskAsyncCallTest.java
index e1f551c0ee0..7b559877e40 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskAsyncCallTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskAsyncCallTest.java
@@ -18,9 +18,10 @@
 
 package org.apache.flink.runtime.taskmanager;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.configuration.Configuration;
+import org.apache.flink.core.testutils.OneShotLatch;
 import org.apache.flink.metrics.groups.TaskMetricGroup;
 import org.apache.flink.runtime.blob.BlobKey;
 import org.apache.flink.runtime.broadcast.BroadcastVariableManager;
@@ -43,6 +44,7 @@ import org.apache.flink.runtime.jobgraph.tasks.StatefulTask;
 import org.apache.flink.runtime.memory.MemoryManager;
 
 import org.apache.flink.runtime.state.StateHandle;
+import org.apache.flink.util.SerializedValue;
 import org.junit.Before;
 import org.junit.Test;
 
@@ -137,7 +139,7 @@ public class TaskAsyncCallTest {
 		}
 	}
 	
-	private static Task createTask() {
+	private static Task createTask() throws Exception {
 		LibraryCacheManager libCache = mock(LibraryCacheManager.class);
 		when(libCache.getClassLoader(any(JobID.class))).thenReturn(ClassLoader.getSystemClassLoader());
 		
@@ -150,7 +152,7 @@ public class TaskAsyncCallTest {
 
 		TaskDeploymentDescriptor tdd = new TaskDeploymentDescriptor(
 				new JobID(), "Job Name", new JobVertexID(), new ExecutionAttemptID(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				"Test Task", 0, 1, 0,
 				new Configuration(), new Configuration(),
 				CheckpointsInOrderInvokable.class.getName(),
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerConfigurationTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerConfigurationTest.java
index f3677998d01..335f78881af 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerConfigurationTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerConfigurationTest.java
@@ -33,6 +33,7 @@ import java.io.IOException;
 import java.io.PrintWriter;
 import java.lang.reflect.Field;
 import java.net.*;
+import java.util.UUID;
 
 import static org.junit.Assert.*;
 
@@ -109,7 +110,7 @@ public class TaskManagerConfigurationTest {
 	@Test
 	public void testDefaultFsParameterLoading() {
 		final File tmpDir = getTmpDir();
-		final File confFile =  new File(tmpDir.getAbsolutePath() + File.separator + CommonTestUtils.getRandomDirectoryName() + ".yaml");
+		final File confFile =  new File(tmpDir, UUID.randomUUID().toString() + ".yaml");
 
 		try {
 			final URI defaultFS = new URI("otherFS", null, "localhost", 1234, null, null, null);
@@ -146,13 +147,7 @@ public class TaskManagerConfigurationTest {
 		try {
 			InetAddress localhostAddress = InetAddress.getByName(hostname);
 			server = new ServerSocket(0, 50, localhostAddress);
-		}
-		catch (UnknownHostException e) {
-			// may happen if disconnected. skip test.
-			System.err.println("Skipping 'testNetworkInterfaceSelection' test.");
-			return;
-		}
-		catch (IOException e) {
+		} catch (IOException e) {
 			// may happen in certain test setups, skip test.
 			System.err.println("Skipping 'testNetworkInterfaceSelection' test.");
 			return;
@@ -181,10 +176,8 @@ public class TaskManagerConfigurationTest {
 	}
 
 	private File getTmpDir() {
-		File tmpDir = new File(CommonTestUtils.getTempDir() + File.separator
-			+ CommonTestUtils.getRandomDirectoryName() + File.separator);
-		tmpDir.mkdirs();
-
+		File tmpDir = new File(CommonTestUtils.getTempDir(), UUID.randomUUID().toString());
+		assertTrue("could not create temp directory", tmpDir.mkdirs());
 		return tmpDir;
 	}
 }
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerTest.java
index b3ad5894e92..ce88c09b41e 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskManagerTest.java
@@ -24,7 +24,6 @@ import akka.actor.Props;
 import akka.japi.Creator;
 import akka.testkit.JavaTestKit;
 import org.apache.flink.api.common.ExecutionConfig;
-import org.apache.flink.api.common.ExecutionConfigTest;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.configuration.ConfigConstants;
 import org.apache.flink.configuration.Configuration;
@@ -160,7 +159,7 @@ public class TaskManagerTest extends TestLogger {
 				final JobID jid = new JobID();
 				final JobVertexID vid = new JobVertexID();
 				final ExecutionAttemptID eid = new ExecutionAttemptID();
-				final SerializedValue<ExecutionConfig> executionConfig = ExecutionConfigTest.getSerializedConfig();
+				final SerializedValue<ExecutionConfig> executionConfig = new SerializedValue<>(new ExecutionConfig());
 
 				final TaskDeploymentDescriptor tdd = new TaskDeploymentDescriptor(jid, "TestJob", vid, eid, executionConfig,
 						"TestTask", 2, 7, 0, new Configuration(), new Configuration(),
@@ -263,15 +262,19 @@ public class TaskManagerTest extends TestLogger {
 				final ExecutionAttemptID eid1 = new ExecutionAttemptID();
 				final ExecutionAttemptID eid2 = new ExecutionAttemptID();
 
-				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(jid1, "TestJob1", vid1, eid1,
-						ExecutionConfigTest.getSerializedConfig(), "TestTask1", 1, 5, 0,
+				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(
+						jid1, "TestJob1", vid1, eid1,
+						new SerializedValue<>(new ExecutionConfig()),
+						"TestTask1", 1, 5, 0,
 						new Configuration(), new Configuration(), TestInvokableBlockingCancelable.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
 						Collections.<InputGateDeploymentDescriptor>emptyList(),
 						new ArrayList<BlobKey>(), Collections.<URL>emptyList(), 0);
 
-				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(jid2, "TestJob2", vid2, eid2,
-						 ExecutionConfigTest.getSerializedConfig(), "TestTask2", 2, 7, 0,
+				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(
+						jid2, "TestJob2", vid2, eid2,
+						new SerializedValue<>(new ExecutionConfig()),
+						"TestTask2", 2, 7, 0,
 						new Configuration(), new Configuration(), TestInvokableBlockingCancelable.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
 						Collections.<InputGateDeploymentDescriptor>emptyList(),
@@ -367,7 +370,7 @@ public class TaskManagerTest extends TestLogger {
 	}
 
 	@Test
-	public void testJobSubmissionAndStop() {
+	public void testJobSubmissionAndStop() throws Exception {
 		new JavaTestKit(system){{
 
 			ActorGateway jobManager = null;
@@ -397,7 +400,7 @@ public class TaskManagerTest extends TestLogger {
 				final ExecutionAttemptID eid1 = new ExecutionAttemptID();
 				final ExecutionAttemptID eid2 = new ExecutionAttemptID();
 
-				final SerializedValue<ExecutionConfig> executionConfig = ExecutionConfigTest.getSerializedConfig();
+				final SerializedValue<ExecutionConfig> executionConfig = new SerializedValue<>(new ExecutionConfig());
 
 				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(jid1, "TestJob", vid1, eid1, executionConfig,
 						"TestTask1", 1, 5, 0, new Configuration(), new Configuration(), StoppableInvokable.class.getName(),
@@ -525,15 +528,19 @@ public class TaskManagerTest extends TestLogger {
 				final ExecutionAttemptID eid1 = new ExecutionAttemptID();
 				final ExecutionAttemptID eid2 = new ExecutionAttemptID();
 
-				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(jid, "TestJob", vid1, eid1,
-						ExecutionConfigTest.getSerializedConfig(), "Sender", 0, 1, 0,
+				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(
+						jid, "TestJob", vid1, eid1,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Sender", 0, 1, 0,
 						new Configuration(), new Configuration(), Tasks.Sender.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
 						Collections.<InputGateDeploymentDescriptor>emptyList(),
 						new ArrayList<BlobKey>(), Collections.<URL>emptyList(), 0);
 
-				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(jid, "TestJob", vid2, eid2,
-						ExecutionConfigTest.getSerializedConfig(), "Receiver", 2, 7, 0,
+				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(
+						jid, "TestJob", vid2, eid2,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Receiver", 2, 7, 0,
 						new Configuration(), new Configuration(), Tasks.Receiver.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
 						Collections.<InputGateDeploymentDescriptor>emptyList(),
@@ -626,14 +633,18 @@ public class TaskManagerTest extends TestLogger {
 								}
 						);
 
-				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(jid, "TestJob", vid1, eid1,
-						ExecutionConfigTest.getSerializedConfig(), "Sender", 0, 1, 0,
+				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(
+						jid, "TestJob", vid1, eid1,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Sender", 0, 1, 0,
 						new Configuration(), new Configuration(), Tasks.Sender.class.getName(),
 						irpdd, Collections.<InputGateDeploymentDescriptor>emptyList(), new ArrayList<BlobKey>(),
 						Collections.<URL>emptyList(), 0);
 
-				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(jid, "TestJob", vid2, eid2,
-						ExecutionConfigTest.getSerializedConfig(), "Receiver", 2, 7, 0,
+				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(
+						jid, "TestJob", vid2, eid2,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Receiver", 2, 7, 0,
 						new Configuration(), new Configuration(), Tasks.Receiver.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
 						Collections.singletonList(ircdd),
@@ -767,14 +778,18 @@ public class TaskManagerTest extends TestLogger {
 								}
 						);
 
-				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(jid, "TestJob", vid1, eid1,
-						ExecutionConfigTest.getSerializedConfig(), "Sender", 0, 1, 0,
+				final TaskDeploymentDescriptor tdd1 = new TaskDeploymentDescriptor(
+						jid, "TestJob", vid1, eid1,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Sender", 0, 1, 0,
 						new Configuration(), new Configuration(), Tasks.Sender.class.getName(),
 						irpdd, Collections.<InputGateDeploymentDescriptor>emptyList(),
 						new ArrayList<BlobKey>(), Collections.<URL>emptyList(), 0);
 
-				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(jid, "TestJob", vid2, eid2,
-						ExecutionConfigTest.getSerializedConfig(), "Receiver", 2, 7, 0,
+				final TaskDeploymentDescriptor tdd2 = new TaskDeploymentDescriptor(
+						jid, "TestJob", vid2, eid2,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Receiver", 2, 7, 0,
 						new Configuration(), new Configuration(), Tasks.BlockingReceiver.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
 						Collections.singletonList(ircdd),
@@ -913,7 +928,8 @@ public class TaskManagerTest extends TestLogger {
 
 				final TaskDeploymentDescriptor tdd = new TaskDeploymentDescriptor(
 						jid, "TestJob", vid, eid,
-						ExecutionConfigTest.getSerializedConfig(), "Receiver", 0, 1, 0,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Receiver", 0, 1, 0,
 						new Configuration(), new Configuration(),
 						Tasks.AgnosticReceiver.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
@@ -1007,7 +1023,9 @@ public class TaskManagerTest extends TestLogger {
 						new InputGateDeploymentDescriptor(resultId, 0, icdd);
 
 				final TaskDeploymentDescriptor tdd = new TaskDeploymentDescriptor(
-						jid, "TestJob", vid, eid, ExecutionConfigTest.getSerializedConfig(), "Receiver", 0, 1, 0,
+						jid, "TestJob", vid, eid,
+						new SerializedValue<>(new ExecutionConfig()),
+						"Receiver", 0, 1, 0,
 						new Configuration(), new Configuration(),
 						Tasks.AgnosticReceiver.class.getName(),
 						Collections.<ResultPartitionDeploymentDescriptor>emptyList(),
@@ -1084,7 +1102,7 @@ public class TaskManagerTest extends TestLogger {
 						"Job",
 						new JobVertexID(),
 						new ExecutionAttemptID(),
-						ExecutionConfigTest.getSerializedConfig(),
+						new SerializedValue<>(new ExecutionConfig()),
 						"Task",
 						0,
 						1,
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskTest.java
index 1762a7ad614..5394fd10bc4 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/TaskTest.java
@@ -18,10 +18,9 @@
 
 package org.apache.flink.runtime.taskmanager;
 
-import com.google.common.collect.Maps;
-
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.configuration.Configuration;
+import org.apache.flink.core.testutils.OneShotLatch;
 import org.apache.flink.metrics.groups.TaskMetricGroup;
 import org.apache.flink.runtime.blob.BlobKey;
 import org.apache.flink.runtime.broadcast.BroadcastVariableManager;
@@ -47,15 +46,18 @@ import org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable;
 import org.apache.flink.runtime.memory.MemoryManager;
 import org.apache.flink.runtime.messages.TaskMessages;
 
+import org.apache.flink.util.SerializedValue;
 import org.junit.After;
 import org.junit.Before;
 import org.junit.Test;
 
 import scala.concurrent.duration.FiniteDuration;
 
+import java.io.IOException;
 import java.lang.reflect.Field;
 import java.net.URL;
 import java.util.Collections;
+import java.util.HashMap;
 import java.util.Map;
 import java.util.concurrent.BlockingQueue;
 import java.util.concurrent.LinkedBlockingQueue;
@@ -529,8 +531,7 @@ public class TaskTest {
 		setInputGate(task, inputGate);
 
 		// Expected task state for each partition state
-		final Map<ExecutionState, ExecutionState> expected = Maps
-				.newHashMapWithExpectedSize(ExecutionState.values().length);
+		final Map<ExecutionState, ExecutionState> expected = new HashMap<>(ExecutionState.values().length);
 
 		// Fail the task for unexpected states
 		for (ExecutionState state : ExecutionState.values()) {
@@ -564,7 +565,7 @@ public class TaskTest {
 			f.setAccessible(true);
 			f.set(task, new SingleInputGate[]{inputGate});
 
-			Map<IntermediateDataSetID, SingleInputGate> byId = Maps.newHashMapWithExpectedSize(1);
+			Map<IntermediateDataSetID, SingleInputGate> byId = new HashMap<>(1);
 			byId.put(inputGate.getConsumedResultId(), inputGate);
 
 			f = Task.class.getDeclaredField("inputGatesById");
@@ -628,9 +629,16 @@ public class TaskTest {
 	}
 
 	private TaskDeploymentDescriptor createTaskDeploymentDescriptor(Class<? extends AbstractInvokable> invokable) {
+		SerializedValue<ExecutionConfig> execConfig;
+		try {
+			execConfig = new SerializedValue<>(new ExecutionConfig());
+		} catch (IOException e) {
+			throw new RuntimeException(e);
+		}
+		
 		return new TaskDeploymentDescriptor(
 				new JobID(), "Test Job", new JobVertexID(), new ExecutionAttemptID(),
-				ExecutionConfigTest.getSerializedConfig(),
+				execConfig,
 				"Test Task", 0, 1, 0,
 				new Configuration(), new Configuration(),
 				invokable.getName(),
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/executiongraph/TaskManagerLossFailsTasksTest.scala b/flink-runtime/src/test/scala/org/apache/flink/runtime/executiongraph/TaskManagerLossFailsTasksTest.scala
index 1927c39f48c..c30d244fe3d 100644
--- a/flink-runtime/src/test/scala/org/apache/flink/runtime/executiongraph/TaskManagerLossFailsTasksTest.scala
+++ b/flink-runtime/src/test/scala/org/apache/flink/runtime/executiongraph/TaskManagerLossFailsTasksTest.scala
@@ -18,7 +18,7 @@
 
 package org.apache.flink.runtime.executiongraph
 
-import org.apache.flink.api.common.{ExecutionConfig, ExecutionConfigTest, JobID}
+import org.apache.flink.api.common.{ExecutionConfig, JobID}
 import org.apache.flink.configuration.Configuration
 import org.apache.flink.runtime.akka.AkkaUtils
 import org.apache.flink.runtime.executiongraph.ExecutionGraphTestUtils.SimpleActorGateway
@@ -27,6 +27,7 @@ import org.apache.flink.runtime.jobgraph.{JobGraph, JobStatus, JobVertex}
 import org.apache.flink.runtime.jobmanager.Tasks
 import org.apache.flink.runtime.jobmanager.scheduler.Scheduler
 import org.apache.flink.runtime.testingUtils.TestingUtils
+import org.apache.flink.util.SerializedValue
 import org.junit.runner.RunWith
 import org.scalatest.junit.JUnitRunner
 import org.scalatest.{Matchers, WordSpecLike}
@@ -57,7 +58,7 @@ class TaskManagerLossFailsTasksTest extends WordSpecLike with Matchers {
           new JobID(),
           "test job",
           new Configuration(),
-          ExecutionConfigTest.getSerializedConfig,
+          new SerializedValue(new ExecutionConfig()),
           AkkaUtils.getDefaultTimeout,
           new NoRestartStrategy())
 
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingUtils.scala b/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingUtils.scala
index 2f43d38c7a8..02a0fec8178 100644
--- a/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingUtils.scala
+++ b/flink-runtime/src/test/scala/org/apache/flink/runtime/testingUtils/TestingUtils.scala
@@ -32,7 +32,6 @@ import org.apache.flink.configuration.{ConfigConstants, Configuration}
 import org.apache.flink.runtime.client.JobClient
 import org.apache.flink.runtime.clusterframework.FlinkResourceManager
 import org.apache.flink.runtime.jobgraph.JobGraph
-import org.apache.flink.runtime.clusterframework.standalone.StandaloneResourceManager
 import org.apache.flink.runtime.clusterframework.types.ResourceID
 import org.apache.flink.runtime.jobmanager.{MemoryArchivist, JobManager}
 import org.apache.flink.runtime.testutils.TestingResourceManager
diff --git a/flink-scala-shell/pom.xml b/flink-scala-shell/pom.xml
index 2343485b39b..bd935ee4b2a 100644
--- a/flink-scala-shell/pom.xml
+++ b/flink-scala-shell/pom.xml
@@ -34,28 +34,29 @@ under the License.
 
 	<dependencies>
 
+		<!-- core dependencies -->
+
 		<!-- scala command line parsing -->
 		<dependency>
 			<groupId>com.github.scopt</groupId>
             <artifactId>scopt_${scala.binary.version}</artifactId>
 		</dependency>
 
-
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-runtime_2.10</artifactId>
+			<artifactId>flink-clients_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-clients_2.10</artifactId>
+			<artifactId>flink-scala_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-scala_2.10</artifactId>
+			<artifactId>flink-streaming-scala_2.10</artifactId>
 			<version>${project.version}</version>
 		</dependency>
 
@@ -70,27 +71,19 @@ under the License.
 			<artifactId>scala-library</artifactId>
 			<version>${scala.version}</version>
 		</dependency>
+
 		<dependency>
 			<groupId>org.scala-lang</groupId>
 			<artifactId>scala-reflect</artifactId>
 			<version>${scala.version}</version>
 		</dependency>
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
-			<version>1.1-SNAPSHOT</version>
-		</dependency>
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-scala_2.10</artifactId>
-			<version>1.1-SNAPSHOT</version>
-		</dependency>
-		<!-- tests -->
+
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
diff --git a/flink-scala/pom.xml b/flink-scala/pom.xml
index 4a6a14295b7..83e0f469dec 100644
--- a/flink-scala/pom.xml
+++ b/flink-scala/pom.xml
@@ -78,6 +78,14 @@ under the License.
 			<version>${guava.version}</version>
 		</dependency>
 
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.scalatest</groupId>
+			<artifactId>scalatest_${scala.binary.version}</artifactId>
+			<scope>test</scope>
+		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
diff --git a/flink-streaming-connectors/flink-connector-elasticsearch/pom.xml b/flink-streaming-connectors/flink-connector-elasticsearch/pom.xml
index 7ddf7e3a42a..dd528be9419 100644
--- a/flink-streaming-connectors/flink-connector-elasticsearch/pom.xml
+++ b/flink-streaming-connectors/flink-connector-elasticsearch/pom.xml
@@ -42,6 +42,8 @@ under the License.
 
 	<dependencies>
 
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
@@ -49,42 +51,29 @@ under the License.
 			<scope>provided</scope>
 		</dependency>
 
-        <dependency>
-            <groupId>org.elasticsearch</groupId>
-            <artifactId>elasticsearch</artifactId>
-            <version>${elasticsearch.version}</version>
-        </dependency>
-
-        <dependency>
-            <groupId>com.google.guava</groupId>
-            <artifactId>guava</artifactId>
-            <version>${guava.version}</version>
-        </dependency>
-
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-streaming-java_2.10</artifactId>
-            <version>${project.version}</version>
-            <scope>test</scope>
-            <type>test-jar</type>
-        </dependency>
+		<dependency>
+			<groupId>org.elasticsearch</groupId>
+			<artifactId>elasticsearch</artifactId>
+			<version>${elasticsearch.version}</version>
+		</dependency>
 
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-tests_2.10</artifactId>
-            <version>${project.version}</version>
-            <scope>test</scope>
-        </dependency>
+		<!-- test dependencies -->
 
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-test-utils_2.10</artifactId>
-            <version>${project.version}</version>
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+		
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
 			<type>test-jar</type>
-            <scope>test</scope>
-        </dependency>
-
-    </dependencies>
+		</dependency>
+	</dependencies>
 
 	<build>
 		<plugins>
diff --git a/flink-streaming-connectors/flink-connector-elasticsearch2/pom.xml b/flink-streaming-connectors/flink-connector-elasticsearch2/pom.xml
index 090917b557d..4089cf6d0a0 100644
--- a/flink-streaming-connectors/flink-connector-elasticsearch2/pom.xml
+++ b/flink-streaming-connectors/flink-connector-elasticsearch2/pom.xml
@@ -18,8 +18,8 @@ specific language governing permissions and limitations
 under the License.
 -->
 <project xmlns="http://maven.apache.org/POM/4.0.0"
-		 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-		 xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+			xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+			xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
 
 	<modelVersion>4.0.0</modelVersion>
 
@@ -42,6 +42,8 @@ under the License.
 
 	<dependencies>
 
+		<!-- core dependencies -->
+ 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
@@ -49,40 +51,33 @@ under the License.
 			<scope>provided</scope>
 		</dependency>
 
-        <dependency>
-            <groupId>org.elasticsearch</groupId>
-            <artifactId>elasticsearch</artifactId>
-            <version>${elasticsearch.version}</version>
-        </dependency>
+		<dependency>
+			<groupId>org.elasticsearch</groupId>
+			<artifactId>elasticsearch</artifactId>
+			<version>${elasticsearch.version}</version>
+		</dependency>
 
-        <dependency>
-            <groupId>com.fasterxml.jackson.core</groupId>
-            <artifactId>jackson-core</artifactId>
-        </dependency>
+		<dependency>
+			<groupId>com.fasterxml.jackson.core</groupId>
+			<artifactId>jackson-core</artifactId>
+		</dependency>
 
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-streaming-java_2.10</artifactId>
-            <version>${project.version}</version>
-            <scope>test</scope>
-            <type>test-jar</type>
-        </dependency>
+		<!-- core dependencies -->
 
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-tests_2.10</artifactId>
-            <version>${project.version}</version>
-            <scope>test</scope>
-        </dependency>
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
 
-        <dependency>
-            <groupId>org.apache.flink</groupId>
-            <artifactId>flink-test-utils_2.10</artifactId>
-            <version>${project.version}</version>
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
 			<type>test-jar</type>
-            <scope>test</scope>
-        </dependency>
-
-    </dependencies>
+		</dependency>
+	</dependencies>
 
 </project>
diff --git a/flink-streaming-connectors/flink-connector-filesystem/pom.xml b/flink-streaming-connectors/flink-connector-filesystem/pom.xml
index 89ded0ba057..c5e903fd5a6 100644
--- a/flink-streaming-connectors/flink-connector-filesystem/pom.xml
+++ b/flink-streaming-connectors/flink-connector-filesystem/pom.xml
@@ -41,6 +41,8 @@ under the License.
 
 	<dependencies>
 
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
@@ -60,37 +62,36 @@ under the License.
 			<version>${project.version}</version>
 		</dependency>
 
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
+			<artifactId>flink-test-utils-junit</artifactId>
 			<version>${project.version}</version>
 			<scope>test</scope>
-			<type>test-jar</type>
 		</dependency>
-
+		
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-tests_2.10</artifactId>
+			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
 			<scope>test</scope>
-			<type>test-jar</type>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-test-utils_2.10</artifactId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
+			<type>test-jar</type>
 		</dependency>
 
-
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-runtime_2.10</artifactId>
+			<artifactId>flink-tests_2.10</artifactId>
+			<version>${project.version}</version>
 			<scope>test</scope>
 			<type>test-jar</type>
-			<version>${project.version}</version>
 		</dependency>
 
 		<dependency>
diff --git a/flink-streaming-connectors/flink-connector-filesystem/src/test/java/org/apache/flink/streaming/connectors/fs/RollingSinkITCase.java b/flink-streaming-connectors/flink-connector-filesystem/src/test/java/org/apache/flink/streaming/connectors/fs/RollingSinkITCase.java
index b6c5bdbd367..dd2fc265dab 100644
--- a/flink-streaming-connectors/flink-connector-filesystem/src/test/java/org/apache/flink/streaming/connectors/fs/RollingSinkITCase.java
+++ b/flink-streaming-connectors/flink-connector-filesystem/src/test/java/org/apache/flink/streaming/connectors/fs/RollingSinkITCase.java
@@ -1,20 +1,21 @@
 /**
-* Licensed to the Apache Software Foundation (ASF) under one
-* or more contributor license agreements.  See the NOTICE file
-* distributed with this work for additional information
-* regarding copyright ownership.  The ASF licenses this file
-* to you under the Apache License, Version 2.0 (the
-* "License"); you may not use this file except in compliance
-* with the License.  You may obtain a copy of the License at
-*
-* http://www.apache.org/licenses/LICENSE-2.0
-*
-* Unless required by applicable law or agreed to in writing, software
-* distributed under the License is distributed on an "AS IS" BASIS,
-* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-* See the License for the specific language governing permissions and
-* limitations under the License.
-*/
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
 package org.apache.flink.streaming.connectors.fs;
 
 import org.apache.avro.Schema;
@@ -31,7 +32,7 @@ import org.apache.flink.api.common.functions.MapFunction;
 import org.apache.flink.api.common.functions.RichFilterFunction;
 import org.apache.flink.api.common.functions.RichFlatMapFunction;
 import org.apache.flink.api.java.tuple.Tuple2;
-import org.apache.flink.runtime.taskmanager.MultiShotLatch;
+import org.apache.flink.core.testutils.MultiShotLatch;
 import org.apache.flink.streaming.api.datastream.DataStream;
 import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;
 import org.apache.flink.streaming.api.functions.source.SourceFunction;
@@ -39,6 +40,7 @@ import org.apache.flink.streaming.connectors.fs.AvroKeyValueSinkWriter.AvroKeyVa
 import org.apache.flink.streaming.util.StreamingMultipleProgramsTestBase;
 import org.apache.flink.util.Collector;
 import org.apache.flink.util.NetUtils;
+
 import org.apache.hadoop.conf.Configuration;
 import org.apache.hadoop.fs.FSDataInputStream;
 import org.apache.hadoop.fs.LocatedFileStatus;
@@ -48,6 +50,7 @@ import org.apache.hadoop.hdfs.MiniDFSCluster;
 import org.apache.hadoop.io.IntWritable;
 import org.apache.hadoop.io.SequenceFile;
 import org.apache.hadoop.io.Text;
+
 import org.junit.AfterClass;
 import org.junit.Assert;
 import org.junit.BeforeClass;
diff --git a/flink-streaming-connectors/flink-connector-kafka-0.8/pom.xml b/flink-streaming-connectors/flink-connector-kafka-0.8/pom.xml
index 3557f1cf9c2..79fa7bd2139 100644
--- a/flink-streaming-connectors/flink-connector-kafka-0.8/pom.xml
+++ b/flink-streaming-connectors/flink-connector-kafka-0.8/pom.xml
@@ -41,25 +41,27 @@ under the License.
 	</properties>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-connector-kafka-base_2.10</artifactId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
+			<scope>provided</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-connector-kafka-base_2.10</artifactId>
+			<artifactId>flink-shaded-curator-recipes</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
+			<scope>provided</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
+			<artifactId>flink-connector-kafka-base_2.10</artifactId>
 			<version>${project.version}</version>
-			<scope>provided</scope>
 		</dependency>
 
 		<dependency>
@@ -116,6 +118,8 @@ under the License.
 			</exclusions>
 		</dependency>
 
+		<!-- test dependencies -->
+		
 		<dependency>
 			<groupId>org.apache.curator</groupId>
 			<artifactId>curator-test</artifactId>
@@ -125,16 +129,16 @@ under the License.
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-shaded-curator-recipes</artifactId>
+			<artifactId>flink-connector-kafka-base_2.10</artifactId>
 			<version>${project.version}</version>
-			<scope>provided</scope>
+			<type>test-jar</type>
+			<scope>test</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
diff --git a/flink-streaming-connectors/flink-connector-kafka-0.9/pom.xml b/flink-streaming-connectors/flink-connector-kafka-0.9/pom.xml
index 8feadb570f6..8ad909a4083 100644
--- a/flink-streaming-connectors/flink-connector-kafka-0.9/pom.xml
+++ b/flink-streaming-connectors/flink-connector-kafka-0.9/pom.xml
@@ -42,6 +42,15 @@ under the License.
 
 	<dependencies>
 
+		<!-- core dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>provided</scope>
+		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-connector-kafka-base_2.10</artifactId>
@@ -54,6 +63,24 @@ under the License.
 			</exclusions>
 		</dependency>
 
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-table_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>provided</scope>
+			<!-- Projects depending on this project,
+			won't depend on flink-table. -->
+			<optional>true</optional>
+		</dependency>
+
+		<dependency>
+			<groupId>org.apache.kafka</groupId>
+			<artifactId>kafka-clients</artifactId>
+			<version>${kafka.version}</version>
+		</dependency>
+
+		<!-- test dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-connector-kafka-base_2.10</artifactId>
@@ -69,12 +96,6 @@ under the License.
 			<scope>test</scope>
 		</dependency>
 
-		<dependency>
-			<groupId>org.apache.kafka</groupId>
-			<artifactId>kafka-clients</artifactId>
-			<version>${kafka.version}</version>
-		</dependency>
-
 		<dependency>
 			<!-- include 0.9 server for tests  -->
 			<groupId>org.apache.kafka</groupId>
@@ -91,33 +112,14 @@ under the License.
 			<scope>test</scope>
 		</dependency>
 
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-streaming-java_2.10</artifactId>
-			<version>${project.version}</version>
-			<scope>provided</scope>
-		</dependency>
-
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-table_2.10</artifactId>
-			<version>${project.version}</version>
-			<scope>provided</scope>
-			<!-- Projects depending on this project,
-			won't depend on flink-table. -->
-			<optional>true</optional>
-		</dependency>
-
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
 	</dependencies>
-	
 
 	<build>
 		<plugins>
@@ -130,30 +132,30 @@ under the License.
 							<goal>test-jar</goal>
 						</goals>
 						<configuration>
-			              <includes>
-			                <include>**/KafkaTestEnvironmentImpl*</include>
-			              </includes>
-			            </configuration>
+							<includes>
+								<include>**/KafkaTestEnvironmentImpl*</include>
+							</includes>
+						</configuration>
 					</execution>
 				</executions>
 			</plugin>
 			<plugin>
-		        <groupId>org.apache.maven.plugins</groupId>
-		        <artifactId>maven-source-plugin</artifactId>
-		        <executions>
-		          <execution>
-		            <id>attach-test-sources</id>
-		            <goals>
-		              <goal>test-jar-no-fork</goal>
-		            </goals>
-		            <configuration>
-		              <includes>
-		                <include>**/KafkaTestEnvironmentImpl*</include>
-		              </includes>
-		            </configuration>
-		          </execution>
-		        </executions>
-		    </plugin>
+				<groupId>org.apache.maven.plugins</groupId>
+				<artifactId>maven-source-plugin</artifactId>
+				<executions>
+					<execution>
+						<id>attach-test-sources</id>
+						<goals>
+							<goal>test-jar-no-fork</goal>
+						</goals>
+						<configuration>
+							<includes>
+								<include>**/KafkaTestEnvironmentImpl*</include>
+							</includes>
+						</configuration>
+					</execution>
+				</executions>
+			</plugin>
 			<plugin>
 				<groupId>org.apache.maven.plugins</groupId>
 				<artifactId>maven-surefire-plugin</artifactId>
diff --git a/flink-streaming-connectors/flink-connector-kafka-base/pom.xml b/flink-streaming-connectors/flink-connector-kafka-base/pom.xml
index 1cbb554a929..258a2cf8f2d 100644
--- a/flink-streaming-connectors/flink-connector-kafka-base/pom.xml
+++ b/flink-streaming-connectors/flink-connector-kafka-base/pom.xml
@@ -42,6 +42,8 @@ under the License.
 
 	<dependencies>
 
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
@@ -103,14 +105,18 @@ under the License.
 			</exclusions>
 		</dependency>
 
+		<!-- test dependencies -->
+		
 		<!-- force using the latest zkclient -->
 		<dependency>
 			<groupId>com.101tec</groupId>
 			<artifactId>zkclient</artifactId>
 			<version>0.7</version>
 			<type>jar</type>
+			<scope>test</scope>
 		</dependency>
 
+
 		<dependency>
 			<groupId>org.apache.curator</groupId>
 			<artifactId>curator-test</artifactId>
@@ -120,7 +126,7 @@ under the License.
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-tests_2.10</artifactId>
+			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
 			<type>test-jar</type>
 			<scope>test</scope>
@@ -130,6 +136,21 @@ under the License.
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-tests_2.10</artifactId>
+			<version>${project.version}</version>
+			<type>test-jar</type>
+			<scope>test</scope>
+		</dependency>
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-runtime_2.10</artifactId>
+			<version>${project.version}</version>
 			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
diff --git a/flink-streaming-java/pom.xml b/flink-streaming-java/pom.xml
index 5ee80016a50..88150b3e436 100644
--- a/flink-streaming-java/pom.xml
+++ b/flink-streaming-java/pom.xml
@@ -36,6 +36,8 @@ under the License.
 
 	<dependencies>
 
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-core</artifactId>
@@ -56,16 +58,8 @@ under the License.
 
 		<dependency>
 			<groupId>org.apache.commons</groupId>
-			<artifactId>commons-math</artifactId>
-			<version>2.2</version>
-		</dependency>
-
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-test-utils_2.10</artifactId>
-			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
+			<artifactId>commons-math3</artifactId>
+			<version>3.5</version>
 		</dependency>
 
 		<dependency>
@@ -80,13 +74,24 @@ under the License.
 			<version>${guava.version}</version>
 		</dependency>
 
-        <dependency>
-            <groupId>org.apache.commons</groupId>
-            <artifactId>commons-math3</artifactId>
-            <version>3.5</version>
-        </dependency>
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-test-utils_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+		</dependency>
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-runtime_2.10</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+			<type>test-jar</type>
+		</dependency>
 
-    </dependencies>
+	</dependencies>
 
 	<build>
 		<plugins>
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/RestartStrategyTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/RestartStrategyTest.java
index f768ace8081..7bb726d391e 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/RestartStrategyTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/RestartStrategyTest.java
@@ -18,11 +18,11 @@
 
 package org.apache.flink.streaming.api;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
 import org.apache.flink.api.common.restartstrategy.RestartStrategies;
 import org.apache.flink.runtime.jobgraph.JobGraph;
 import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;
 import org.apache.flink.streaming.api.graph.StreamGraph;
+
 import org.junit.Assert;
 import org.junit.Test;
 
@@ -34,9 +34,9 @@ public class RestartStrategyTest {
 	 * strategy has been specified
 	 */
 	@Test
-	public void testAutomaticRestartingWhenCheckpointing() {
+	public void testAutomaticRestartingWhenCheckpointing() throws Exception {
 		StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
-		env.enableCheckpointing();
+		env.enableCheckpointing(500);
 
 		env.fromElements(1).print();
 
@@ -44,7 +44,7 @@ public class RestartStrategyTest {
 		JobGraph jobGraph = graph.getJobGraph();
 
 		RestartStrategies.RestartStrategyConfiguration restartStrategy =
-			ExecutionConfigTest.deserializeConfig(jobGraph.getSerializedExecutionConfig()).getRestartStrategy();
+			jobGraph.getSerializedExecutionConfig().deserializeValue(getClass().getClassLoader()).getRestartStrategy();
 
 		Assert.assertNotNull(restartStrategy);
 		Assert.assertTrue(restartStrategy instanceof RestartStrategies.FixedDelayRestartStrategyConfiguration);
@@ -56,9 +56,9 @@ public class RestartStrategyTest {
 	 * of execution retries is set to 0, restarting is deactivated
 	 */
 	@Test
-	public void testNoRestartingWhenCheckpointingAndExplicitExecutionRetriesZero() {
+	public void testNoRestartingWhenCheckpointingAndExplicitExecutionRetriesZero() throws Exception {
 		StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
-		env.enableCheckpointing();
+		env.enableCheckpointing(500);
 		env.setNumberOfExecutionRetries(0);
 
 		env.fromElements(1).print();
@@ -67,7 +67,7 @@ public class RestartStrategyTest {
 		JobGraph jobGraph = graph.getJobGraph();
 
 		RestartStrategies.RestartStrategyConfiguration restartStrategy =
-			ExecutionConfigTest.deserializeConfig(jobGraph.getSerializedExecutionConfig()).getRestartStrategy();
+			jobGraph.getSerializedExecutionConfig().deserializeValue(getClass().getClassLoader()).getRestartStrategy();
 
 		Assert.assertNotNull(restartStrategy);
 		Assert.assertTrue(restartStrategy instanceof RestartStrategies.NoRestartStrategyConfiguration);
@@ -78,9 +78,9 @@ public class RestartStrategyTest {
 	 * of execution retries is set to 42 and the delay to 1337, fixed delay restarting is used.
 	 */
 	@Test
-	public void testFixedRestartingWhenCheckpointingAndExplicitExecutionRetriesNonZero() {
+	public void testFixedRestartingWhenCheckpointingAndExplicitExecutionRetriesNonZero() throws Exception {
 		StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
-		env.enableCheckpointing();
+		env.enableCheckpointing(500);
 		env.setNumberOfExecutionRetries(42);
 		env.getConfig().setExecutionRetryDelay(1337);
 
@@ -90,7 +90,7 @@ public class RestartStrategyTest {
 		JobGraph jobGraph = graph.getJobGraph();
 
 		RestartStrategies.RestartStrategyConfiguration restartStrategy =
-			ExecutionConfigTest.deserializeConfig(jobGraph.getSerializedExecutionConfig()).getRestartStrategy();
+			jobGraph.getSerializedExecutionConfig().deserializeValue(getClass().getClassLoader()).getRestartStrategy();
 
 		Assert.assertNotNull(restartStrategy);
 		Assert.assertTrue(restartStrategy instanceof RestartStrategies.FixedDelayRestartStrategyConfiguration);
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/graph/StreamingJobGraphGeneratorTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/graph/StreamingJobGraphGeneratorTest.java
index 0de43254af0..7f94aa0e96a 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/graph/StreamingJobGraphGeneratorTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/api/graph/StreamingJobGraphGeneratorTest.java
@@ -21,7 +21,6 @@ import java.io.IOException;
 import java.util.Random;
 
 import org.apache.flink.api.common.ExecutionConfig;
-import org.apache.flink.api.common.ExecutionConfigTest;
 import org.apache.flink.api.common.functions.MapFunction;
 import org.apache.flink.api.java.tuple.Tuple2;
 import org.apache.flink.runtime.jobgraph.JobGraph;
@@ -29,12 +28,13 @@ import org.apache.flink.streaming.api.datastream.DataStream;
 import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;
 import org.apache.flink.streaming.api.functions.sink.SinkFunction;
 import org.apache.flink.util.InstantiationUtil;
-
 import org.apache.flink.util.SerializedValue;
+
 import org.junit.Test;
 
 import static org.junit.Assert.*;
 
+@SuppressWarnings("serial")
 public class StreamingJobGraphGeneratorTest {
 	
 	@Test
@@ -93,7 +93,7 @@ public class StreamingJobGraphGeneratorTest {
 
 		assertNotNull(serializedExecutionConfig);
 
-		ExecutionConfig executionConfig = ExecutionConfigTest.deserializeConfig(serializedExecutionConfig);
+		ExecutionConfig executionConfig = serializedExecutionConfig.deserializeValue(getClass().getClassLoader());
 
 		assertEquals(closureCleanerEnabled, executionConfig.isClosureCleanerEnabled());
 		assertEquals(forceAvroEnabled, executionConfig.isForceAvroEnabled());
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/partitioner/RescalePartitionerTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/partitioner/RescalePartitionerTest.java
index 8484e90787b..df4efdb88a7 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/partitioner/RescalePartitionerTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/partitioner/RescalePartitionerTest.java
@@ -17,7 +17,7 @@
 
 package org.apache.flink.streaming.runtime.partitioner;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.api.common.functions.FlatMapFunction;
 import org.apache.flink.api.java.tuple.Tuple;
@@ -40,6 +40,7 @@ import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;
 import org.apache.flink.streaming.api.functions.source.ParallelSourceFunction;
 import org.apache.flink.streaming.runtime.streamrecord.StreamRecord;
 import org.apache.flink.util.Collector;
+import org.apache.flink.util.SerializedValue;
 import org.apache.flink.util.TestLogger;
 import org.junit.Before;
 import org.junit.Test;
@@ -54,6 +55,7 @@ import java.util.Set;
 
 import static org.junit.Assert.*;
 
+@SuppressWarnings("serial")
 public class RescalePartitionerTest extends TestLogger {
 	
 	private RescalePartitioner<Tuple> distributePartitioner;
@@ -84,7 +86,7 @@ public class RescalePartitionerTest extends TestLogger {
 	}
 
 	@Test
-	public void testExecutionGraphGeneration() {
+	public void testExecutionGraphGeneration() throws Exception {
 		final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
 
 		env.setParallelism(4);
@@ -135,7 +137,7 @@ public class RescalePartitionerTest extends TestLogger {
 			jobId,
 			jobName,
 			cfg,
-			ExecutionConfigTest.getSerializedConfig(),
+			new SerializedValue<>(new ExecutionConfig()),
 			AkkaUtils.getDefaultTimeout(),
 			new NoRestartStrategy(),
 			new ArrayList<BlobKey>(),
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskAsyncCheckpointTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskAsyncCheckpointTest.java
index 0e1da888815..8e1cadf826f 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskAsyncCheckpointTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskAsyncCheckpointTest.java
@@ -21,11 +21,11 @@ package org.apache.flink.streaming.runtime.tasks;
 import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.functions.MapFunction;
 import org.apache.flink.api.common.typeinfo.BasicTypeInfo;
+import org.apache.flink.core.testutils.OneShotLatch;
 import org.apache.flink.runtime.io.network.api.writer.ResultPartitionWriter;
 import org.apache.flink.runtime.operators.testutils.MockInputSplitProvider;
 import org.apache.flink.runtime.state.AsynchronousStateHandle;
 import org.apache.flink.runtime.state.StateHandle;
-import org.apache.flink.runtime.taskmanager.OneShotLatch;
 import org.apache.flink.streaming.api.graph.StreamConfig;
 import org.apache.flink.streaming.api.operators.AbstractStreamOperator;
 import org.apache.flink.streaming.api.operators.OneInputStreamOperator;
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskTest.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskTest.java
index f054e1865bb..76f22bed69e 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskTest.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/StreamTaskTest.java
@@ -20,7 +20,7 @@ package org.apache.flink.streaming.runtime.tasks;
 
 import akka.actor.ActorRef;
 
-import org.apache.flink.api.common.ExecutionConfigTest;
+import org.apache.flink.api.common.ExecutionConfig;
 import org.apache.flink.api.common.JobID;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.metrics.groups.TaskMetricGroup;
@@ -50,6 +50,7 @@ import org.apache.flink.streaming.api.operators.StreamSource;
 import org.apache.flink.streaming.runtime.streamrecord.StreamRecord;
 import org.apache.flink.util.ExceptionUtils;
 
+import org.apache.flink.util.SerializedValue;
 import org.junit.Test;
 
 import scala.concurrent.ExecutionContext;
@@ -123,7 +124,7 @@ public class StreamTaskTest {
 	//  Test Utilities
 	// ------------------------------------------------------------------------
 
-	private Task createTask(Class<? extends AbstractInvokable> invokable, StreamConfig taskConfig) {
+	private Task createTask(Class<? extends AbstractInvokable> invokable, StreamConfig taskConfig) throws Exception {
 		LibraryCacheManager libCache = mock(LibraryCacheManager.class);
 		when(libCache.getClassLoader(any(JobID.class))).thenReturn(getClass().getClassLoader());
 		
@@ -136,7 +137,7 @@ public class StreamTaskTest {
 
 		TaskDeploymentDescriptor tdd = new TaskDeploymentDescriptor(
 				new JobID(), "Job Name", new JobVertexID(), new ExecutionAttemptID(),
-				ExecutionConfigTest.getSerializedConfig(),
+				new SerializedValue<>(new ExecutionConfig()),
 				"Test Task", 0, 1, 0,
 				new Configuration(),
 				taskConfig.getConfiguration(),
diff --git a/flink-streaming-java/src/test/java/org/apache/flink/streaming/timestamp/TimestampITCase.java b/flink-streaming-java/src/test/java/org/apache/flink/streaming/timestamp/TimestampITCase.java
index d3cdcab1586..6c1d0e6a3d1 100644
--- a/flink-streaming-java/src/test/java/org/apache/flink/streaming/timestamp/TimestampITCase.java
+++ b/flink-streaming-java/src/test/java/org/apache/flink/streaming/timestamp/TimestampITCase.java
@@ -26,7 +26,7 @@ import org.apache.flink.api.common.typeinfo.BasicTypeInfo;
 import org.apache.flink.api.java.tuple.Tuple2;
 import org.apache.flink.configuration.ConfigConstants;
 import org.apache.flink.configuration.Configuration;
-import org.apache.flink.runtime.taskmanager.MultiShotLatch;
+import org.apache.flink.core.testutils.MultiShotLatch;
 import org.apache.flink.streaming.api.TimeCharacteristic;
 import org.apache.flink.streaming.api.datastream.DataStream;
 import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;
@@ -45,6 +45,7 @@ import org.apache.flink.streaming.runtime.streamrecord.StreamRecord;
 import org.apache.flink.streaming.util.NoOpSink;
 import org.apache.flink.test.util.ForkableFlinkMiniCluster;
 
+import org.apache.flink.util.TestLogger;
 import org.junit.AfterClass;
 import org.junit.Assert;
 import org.junit.Before;
@@ -63,7 +64,7 @@ import static org.junit.Assert.fail;
  * Tests for timestamps, watermarks, and event-time sources.
  */
 @SuppressWarnings("serial")
-public class TimestampITCase {
+public class TimestampITCase extends TestLogger {
 
 	private static final int NUM_TASK_MANAGERS = 2;
 	private static final int NUM_TASK_SLOTS = 3;
diff --git a/flink-streaming-scala/pom.xml b/flink-streaming-scala/pom.xml
index 78d5fd34365..ffbcb87319e 100644
--- a/flink-streaming-scala/pom.xml
+++ b/flink-streaming-scala/pom.xml
@@ -33,6 +33,9 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
+		<!-- core dependencies -->
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
@@ -72,22 +75,27 @@ under the License.
 			<version>${guava.version}</version>
 		</dependency>
 
-		<!-- To access general test utils -->
+		<!-- test dependencies -->
+
+		<dependency>
+			<groupId>org.scalatest</groupId>
+			<artifactId>scalatest_${scala.binary.version}</artifactId>
+			<scope>test</scope>
+		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-tests_2.10</artifactId>
+			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
 			<scope>test</scope>
-			<type>test-jar</type>
 		</dependency>
 
-		<!-- To access test data -->
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-test-utils_2.10</artifactId>
+			<artifactId>flink-tests_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
+			<type>test-jar</type>
 		</dependency>
 
 		<!-- To access streaming test utils -->
diff --git a/flink-test-utils-parent/flink-test-utils-junit/pom.xml b/flink-test-utils-parent/flink-test-utils-junit/pom.xml
new file mode 100644
index 00000000000..78e33ab6659
--- /dev/null
+++ b/flink-test-utils-parent/flink-test-utils-junit/pom.xml
@@ -0,0 +1,46 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+Licensed to the Apache Software Foundation (ASF) under one
+or more contributor license agreements.  See the NOTICE file
+distributed with this work for additional information
+regarding copyright ownership.  The ASF licenses this file
+to you under the Apache License, Version 2.0 (the
+"License"); you may not use this file except in compliance
+with the License.  You may obtain a copy of the License at
+
+  http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing,
+software distributed under the License is distributed on an
+"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+KIND, either express or implied.  See the License for the
+specific language governing permissions and limitations
+under the License.
+-->
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+
+	<modelVersion>4.0.0</modelVersion>
+
+	<parent>
+		<groupId>org.apache.flink</groupId>
+		<artifactId>flink-test-utils-parent</artifactId>
+		<version>1.1-SNAPSHOT</version>
+		<relativePath>..</relativePath>
+	</parent>
+
+	<artifactId>flink-test-utils-junit</artifactId>
+	<name>flink-test-utils-junit</name>
+
+	<packaging>jar</packaging>
+
+	<dependencies>
+		<dependency>
+			<groupId>junit</groupId>
+			<artifactId>junit</artifactId>
+			<version>${junit.version}</version>
+			<scope>compile</scope>
+		</dependency>
+	</dependencies>
+
+</project>
diff --git a/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/CommonTestUtils.java b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/CommonTestUtils.java
new file mode 100644
index 00000000000..a50a10697b1
--- /dev/null
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/CommonTestUtils.java
@@ -0,0 +1,91 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.flink.core.testutils;
+
+import java.io.BufferedWriter;
+import java.io.ByteArrayInputStream;
+import java.io.ByteArrayOutputStream;
+import java.io.File;
+import java.io.FileWriter;
+import java.io.IOException;
+import java.io.ObjectInputStream;
+import java.io.ObjectOutputStream;
+
+/**
+ * This class contains reusable utility methods for unit tests.
+ */
+public class CommonTestUtils {
+
+	/**
+	 * Reads the path to the directory for temporary files from the configuration and returns it.
+	 * 
+	 * @return the path to the directory for temporary files
+	 */
+	public static String getTempDir() {
+		return System.getProperty("java.io.tmpdir");
+	}
+
+	/**
+	 * Creates a copy of an object via Java Serialization.
+	 *
+	 * @param original The original object.
+	 * @return The copied object.
+	 */
+	public static <T extends java.io.Serializable> T createCopySerializable(T original) throws IOException {
+		if (original == null) {
+			throw new IllegalArgumentException();
+		}
+
+		ByteArrayOutputStream baos = new ByteArrayOutputStream();
+		ObjectOutputStream oos = new ObjectOutputStream(baos);
+		oos.writeObject(original);
+		oos.close();
+		baos.close();
+
+		ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
+
+		try (ObjectInputStream ois = new ObjectInputStream(bais)) {
+			@SuppressWarnings("unchecked")
+			T copy = (T) ois.readObject();
+			return copy;
+		}
+		catch (ClassNotFoundException e) {
+			throw new IOException(e);
+		}
+	}
+
+	/**
+	 * Creates a temporary file that contains the given string.
+	 * The file is written with the platform's default encoding.
+	 * 
+	 * <p>The temp file is automatically deleted on JVM exit.
+	 * 
+	 * @param contents The contents to be written to the file.
+	 * @return The temp file URI.
+	 */
+	public static String createTempFile(String contents) throws IOException {
+		File f = File.createTempFile("flink_test_", ".tmp");
+		f.deleteOnExit();
+
+		try (BufferedWriter out = new BufferedWriter(new FileWriter(f))) {
+			out.write(contents);
+		}
+		return f.toURI().toString();
+	}
+}
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/MultiShotLatch.java b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/MultiShotLatch.java
similarity index 84%
rename from flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/MultiShotLatch.java
rename to flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/MultiShotLatch.java
index 7c55419b038..f532f2fbe33 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/MultiShotLatch.java
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/MultiShotLatch.java
@@ -16,21 +16,19 @@
  * limitations under the License.
  */
 
-package org.apache.flink.runtime.taskmanager;
+package org.apache.flink.core.testutils;
 
 /**
  * Latch for synchronizing parts of code in tests. In contrast to
- * {@link org.apache.flink.runtime.taskmanager.OneShotLatch} this will reset the state once
- * {@link #await()} returns.
+ * {@link OneShotLatch} this will reset the state once {@link #await()} returns.
  *
- * <p>
- * A part of the code that should only run after other code calls {@link #await()}. The call
+ * <p>A part of the code that should only run after other code calls {@link #await()}. The call
  * will only return once the other part is finished and calls {@link #trigger()}.
  */
 public final class MultiShotLatch {
-	
+
 	private final Object lock = new Object();
-	
+
 	private volatile boolean triggered;
 
 	/**
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/OneShotLatch.java b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/OneShotLatch.java
similarity index 89%
rename from flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/OneShotLatch.java
rename to flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/OneShotLatch.java
index 504ccca1133..d8028609303 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/taskmanager/OneShotLatch.java
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/core/testutils/OneShotLatch.java
@@ -16,21 +16,20 @@
  * limitations under the License.
  */
 
-package org.apache.flink.runtime.taskmanager;
+package org.apache.flink.core.testutils;
 
 /**
  * Latch for synchronizing parts of code in tests. Once the latch has fired once calls to
  * {@link #await()} will return immediately in the future.
  *
- * <p>
- * A part of the code that should only run after other code calls {@link #await()}. The call
+ * <p>A part of the code that should only run after other code calls {@link #await()}. The call
  * will only return once the other part is finished and calls {@link #trigger()}.
  */
 public final class OneShotLatch {
-	
+
 	private final Object lock = new Object();
-	
-	private boolean triggered;
+
+	private volatile boolean triggered;
 
 	/**
 	 * Fires the latch. Code that is blocked on {@link #await()} will now return.
diff --git a/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryOnException.java b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryOnException.java
new file mode 100644
index 00000000000..fdf409a32a7
--- /dev/null
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryOnException.java
@@ -0,0 +1,60 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.flink.testutils.junit;
+
+import java.lang.annotation.Retention;
+import java.lang.annotation.RetentionPolicy;
+import java.lang.annotation.Target;
+
+/**
+ * Annotation to use with {@link org.apache.flink.testutils.junit.RetryRule}.
+ *
+ * <p>Add the {@link org.apache.flink.testutils.junit.RetryRule} to your test and
+ * annotate tests with {@link RetryOnException}.
+ *
+ * <pre>
+ * public class YourTest {
+ *
+ *     {@literal @}Rule
+ *     public RetryRule retryRule = new RetryRule();
+ *
+ *     {@literal @}Test
+ *     {@literal @}RetryOnException(times=1, exception=IOException.class)
+ *     public void yourTest() throws Exception {
+ *         // This will be retried 1 time (total runs 2) before failing the test.
+ *         throw new IOException("Failing test");
+ *     }
+ *     
+ *     {@literal @}Test
+ *     {@literal @}RetryOnException(times=1, exception=IOException.class)
+ *     public void yourTest() throws Exception {
+ *         // This will not be retried, because it throws the wrong exception
+ *         throw new IllegalStateException("Failing test");
+ *     }
+ * }
+ * </pre>
+ */
+@Retention(RetentionPolicy.RUNTIME)
+@Target(java.lang.annotation.ElementType.METHOD)
+public @interface RetryOnException {
+
+	int times();
+	
+	Class<? extends Throwable> exception();
+}
diff --git a/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryOnFailure.java b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryOnFailure.java
new file mode 100644
index 00000000000..42b8ef6e990
--- /dev/null
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryOnFailure.java
@@ -0,0 +1,49 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.flink.testutils.junit;
+
+import java.lang.annotation.Retention;
+import java.lang.annotation.RetentionPolicy;
+import java.lang.annotation.Target;
+
+/**
+ * Annotation to use with {@link RetryRule}.
+ *
+ * <p>Add the {@link RetryRule} to your test and annotate tests with {@link RetryOnFailure}.
+ *
+ * <pre>
+ * public class YourTest {
+ *
+ *     {@literal @}Rule
+ *     public RetryRule retryRule = new RetryRule();
+ *
+ *     {@literal @}Test
+ *     {@literal @}RetryOnFailure(times=1)
+ *     public void yourTest() {
+ *         // This will be retried 1 time (total runs 2) before failing the test.
+ *         throw new Exception("Failing test");
+ *     }
+ * }
+ * </pre>
+ */
+@Retention(RetentionPolicy.RUNTIME)
+@Target({ java.lang.annotation.ElementType.METHOD })
+public @interface RetryOnFailure {
+	int times();
+}
diff --git a/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryRule.java b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryRule.java
new file mode 100644
index 00000000000..fa36b5b5551
--- /dev/null
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/testutils/junit/RetryRule.java
@@ -0,0 +1,175 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.flink.testutils.junit;
+
+import org.junit.Test;
+import org.junit.rules.TestRule;
+import org.junit.runner.Description;
+import org.junit.runners.model.Statement;
+
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
+
+/**
+ * A rule to retry failed tests for a fixed number of times.
+ *
+ * <p>Add the {@link RetryRule} to your test and annotate tests with {@link RetryOnFailure}.
+ *
+ * <pre>
+ * public class YourTest {
+ *
+ *     {@literal @}Rule
+ *     public RetryRule retryRule = new RetryRule();
+ *
+ *     {@literal @}Test
+ *     {@literal @}RetryOnFailure(times=1)
+ *     public void yourTest() {
+ *         // This will be retried 1 time (total runs 2) before failing the test.
+ *         throw new Exception("Failing test");
+ *     }
+ * }
+ * </pre>
+ */
+public class RetryRule implements TestRule {
+
+	public final static Logger LOG = LoggerFactory.getLogger(RetryRule.class);
+
+	@Override
+	public Statement apply(Statement statement, Description description) {
+		RetryOnFailure retryOnFailure = description.getAnnotation(RetryOnFailure.class);
+		RetryOnException retryOnException = description.getAnnotation(RetryOnException.class);
+
+		// sanity check that we don't use expected exceptions with the RetryOnX annotations
+		if (retryOnFailure != null || retryOnException != null) {
+			Test test = description.getAnnotation(Test.class);
+			if (test.expected() != Test.None.class) {
+				throw new IllegalArgumentException("You cannot combine the RetryOnFailure " +
+						"annotation with the Test(expected) annotation.");
+			}
+		}
+
+		// sanity check that we don't use both annotations
+		if (retryOnFailure != null && retryOnException != null) {
+			throw new IllegalArgumentException(
+					"You cannot combine the RetryOnFailure and RetryOnException annotations.");
+		}
+		
+		if (retryOnFailure != null) {
+			return new RetryOnFailureStatement(retryOnFailure.times(), statement);
+		}
+		else if (retryOnException != null) {
+			return new RetryOnExceptionStatement(retryOnException.times(), retryOnException.exception(), statement);
+		}
+		else {
+			return statement;
+		}
+	}
+
+	/**
+	 * Retries a test in case of a failure.
+	 */
+	private static class RetryOnFailureStatement extends Statement {
+
+		private final int timesOnFailure;
+
+		private int currentRun;
+
+		private final Statement statement;
+
+		private RetryOnFailureStatement(int timesOnFailure, Statement statement) {
+			if (timesOnFailure < 0) {
+				throw new IllegalArgumentException("Negatives number of retries on failure");
+			}
+			this.timesOnFailure = timesOnFailure;
+			this.statement = statement;
+		}
+
+		/**
+		 * Retry a test in case of a failure.
+		 *
+		 * @throws Throwable
+		 */
+		@Override
+		public void evaluate() throws Throwable {
+			for (currentRun = 0; currentRun <= timesOnFailure; currentRun++) {
+				try {
+					statement.evaluate();
+					break; // success
+				}
+				catch (Throwable t) {
+					LOG.warn(String.format("Test run failed (%d/%d).",
+							currentRun, timesOnFailure + 1), t);
+
+					// Throw the failure if retried too often
+					if (currentRun == timesOnFailure) {
+						throw t;
+					}
+				}
+			}
+		}
+	}
+
+	/**
+	 * Retries a test in case of a failure.
+	 */
+	private static class RetryOnExceptionStatement extends Statement {
+
+		private final Class<? extends Throwable> exceptionClass;
+		private final int timesOnFailure;
+		private final Statement statement;
+		
+		private int currentRun;
+
+		private RetryOnExceptionStatement(int timesOnFailure, Class<? extends Throwable> exceptionClass, Statement statement) {
+			if (timesOnFailure < 0) {
+				throw new IllegalArgumentException("Negatives number of retries on failure");
+			}
+			if (exceptionClass == null) {
+				throw new NullPointerException("exceptionClass");
+			}
+
+			this.exceptionClass = (exceptionClass);
+			this.timesOnFailure = timesOnFailure;
+			this.statement = statement;
+		}
+
+		/**
+		 * Retry a test in case of a failure with a specific exception
+		 *
+		 * @throws Throwable
+		 */
+		@Override
+		public void evaluate() throws Throwable {
+			for (currentRun = 0; currentRun <= timesOnFailure; currentRun++) {
+				try {
+					statement.evaluate();
+					break; // success
+				}
+				catch (Throwable t) {
+					LOG.warn(String.format("Test run failed (%d/%d).", currentRun, timesOnFailure + 1), t);
+
+					if (!exceptionClass.isAssignableFrom(t.getClass()) || currentRun >= timesOnFailure) {
+						// Throw the failure if retried too often, or if it is the wrong exception
+						throw t;
+					}
+				}
+			}
+		}
+	}
+}
diff --git a/flink-core/src/test/java/org/apache/flink/util/TestLogger.java b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/util/TestLogger.java
similarity index 77%
rename from flink-core/src/test/java/org/apache/flink/util/TestLogger.java
rename to flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/util/TestLogger.java
index bf8d378f7ec..df82d7ba394 100644
--- a/flink-core/src/test/java/org/apache/flink/util/TestLogger.java
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/main/java/org/apache/flink/util/TestLogger.java
@@ -22,9 +22,13 @@ import org.junit.Rule;
 import org.junit.rules.TestRule;
 import org.junit.rules.TestWatcher;
 import org.junit.runner.Description;
+
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
+import java.io.PrintWriter;
+import java.io.StringWriter;
+
 /**
  * Adds automatic test name logging. Every test which wants to log which test is currently
  * executed and why it failed, simply has to extend this class.
@@ -54,9 +58,26 @@ public class TestLogger {
 		@Override
 		public void failed(Throwable e, Description description) {
 			log.error("\n--------------------------------------------------------------------------------"
-					 + "\nTest {} failed with:\n{}"
-					 + "\n================================================================================"
-					, description, ExceptionUtils.stringifyException(e));
+					+ "\nTest {} failed with:\n{}"
+					+ "\n================================================================================"
+					, description, exceptionToString(e));
 		}
 	};
+	
+	private static String exceptionToString(Throwable t) {
+		if (t == null) {
+			return "(null)";
+		}
+
+		try {
+			StringWriter stm = new StringWriter();
+			PrintWriter wrt = new PrintWriter(stm);
+			t.printStackTrace(wrt);
+			wrt.close();
+			return stm.toString();
+		}
+		catch (Throwable ignored) {
+			return t.getClass().getName() + " (error while printing stack trace)";
+		}
+	}
 }
diff --git a/flink-test-utils-parent/flink-test-utils-junit/src/test/java/org/apache/flink/testutils/junit/RetryOnExceptionTest.java b/flink-test-utils-parent/flink-test-utils-junit/src/test/java/org/apache/flink/testutils/junit/RetryOnExceptionTest.java
new file mode 100644
index 00000000000..a7a6f4b40d9
--- /dev/null
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/test/java/org/apache/flink/testutils/junit/RetryOnExceptionTest.java
@@ -0,0 +1,83 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.flink.testutils.junit;
+
+import org.junit.AfterClass;
+import org.junit.Rule;
+import org.junit.Test;
+
+import static org.junit.Assert.assertEquals;
+
+public class RetryOnExceptionTest {
+
+	@Rule
+	public RetryRule retryRule = new RetryRule();
+
+	private static final int NUMBER_OF_RUNS = 3;
+	
+	private static int runsForSuccessfulTest = 0;
+
+	private static int runsForTestWithMatchingException = 0;
+
+	private static int runsForTestWithSubclassException = 0;
+	
+	private static int runsForPassAfterOneFailure = 0;
+
+	
+	@AfterClass
+	public static void verify() {
+		assertEquals(NUMBER_OF_RUNS + 1, runsForTestWithMatchingException);
+		assertEquals(NUMBER_OF_RUNS + 1, runsForTestWithSubclassException);
+		assertEquals(1, runsForSuccessfulTest);
+		assertEquals(2, runsForPassAfterOneFailure);
+	}
+
+	@Test
+	@RetryOnException(times = NUMBER_OF_RUNS, exception = IllegalArgumentException.class)
+	public void testSuccessfulTest() {
+		runsForSuccessfulTest++;
+	}
+
+	@Test
+	@RetryOnException(times = NUMBER_OF_RUNS, exception = IllegalArgumentException.class)
+	public void testMatchingException() {
+		runsForTestWithMatchingException++;
+		if (runsForTestWithMatchingException <= NUMBER_OF_RUNS) {
+			throw new IllegalArgumentException();
+		}
+	}
+
+	@Test
+	@RetryOnException(times = NUMBER_OF_RUNS, exception = RuntimeException.class)
+	public void testSubclassException() {
+		runsForTestWithSubclassException++;
+		if (runsForTestWithSubclassException <= NUMBER_OF_RUNS) {
+			throw new IllegalArgumentException();
+		}
+	}
+
+	@Test
+	@RetryOnException(times = NUMBER_OF_RUNS, exception = IllegalArgumentException.class)
+	public void testPassAfterOneFailure() {
+		runsForPassAfterOneFailure++;
+		if (runsForPassAfterOneFailure == 1) {
+			throw new IllegalArgumentException();
+		}
+	}
+}
diff --git a/flink-test-utils-parent/flink-test-utils-junit/src/test/java/org/apache/flink/testutils/junit/RetryOnFailureTest.java b/flink-test-utils-parent/flink-test-utils-junit/src/test/java/org/apache/flink/testutils/junit/RetryOnFailureTest.java
new file mode 100644
index 00000000000..efc7ba403d8
--- /dev/null
+++ b/flink-test-utils-parent/flink-test-utils-junit/src/test/java/org/apache/flink/testutils/junit/RetryOnFailureTest.java
@@ -0,0 +1,78 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.flink.testutils.junit;
+
+import org.junit.AfterClass;
+import org.junit.Rule;
+import org.junit.Test;
+
+import static org.junit.Assert.assertEquals;
+
+public class RetryOnFailureTest {
+
+	@Rule
+	public RetryRule retryRule = new RetryRule();
+
+	private static final int NUMBER_OF_RUNS = 5;
+
+	private static int numberOfFailedRuns;
+
+	private static int numberOfSuccessfulRuns;
+
+	private static boolean firstRun = true;
+
+	@AfterClass
+	public static void verify() throws Exception {
+		assertEquals(NUMBER_OF_RUNS + 1, numberOfFailedRuns);
+		assertEquals(3, numberOfSuccessfulRuns);
+	}
+
+	@Test
+	@RetryOnFailure(times = NUMBER_OF_RUNS)
+	public void testRetryOnFailure() throws Exception {
+		// All but the (expected) last run should be successful
+		if (numberOfFailedRuns < NUMBER_OF_RUNS) {
+			numberOfFailedRuns++;
+			throw new RuntimeException("Expected test exception");
+		}
+		else {
+			numberOfSuccessfulRuns++;
+		}
+	}
+
+	@Test
+	@RetryOnFailure(times = NUMBER_OF_RUNS)
+	public void testRetryOnceOnFailure() throws Exception {
+		if (firstRun) {
+			numberOfFailedRuns++;
+			firstRun = false;
+			throw new RuntimeException("Expected test exception");
+		}
+		else {
+			numberOfSuccessfulRuns++;
+		}
+	}
+
+	@Test
+	@RetryOnFailure(times = NUMBER_OF_RUNS)
+	public void testDontRetryOnSuccess() throws Exception {
+		numberOfSuccessfulRuns++;
+	}
+
+}
diff --git a/flink-test-utils/pom.xml b/flink-test-utils-parent/flink-test-utils/pom.xml
similarity index 86%
rename from flink-test-utils/pom.xml
rename to flink-test-utils-parent/flink-test-utils/pom.xml
index 10385315a51..3c35cf1653d 100644
--- a/flink-test-utils/pom.xml
+++ b/flink-test-utils-parent/flink-test-utils/pom.xml
@@ -24,7 +24,7 @@ under the License.
 
 	<parent>
 		<groupId>org.apache.flink</groupId>
-		<artifactId>flink-parent</artifactId>
+		<artifactId>flink-test-utils-parent</artifactId>
 		<version>1.1-SNAPSHOT</version>
 		<relativePath>..</relativePath>
 	</parent>
@@ -35,43 +35,32 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-optimizer_2.10</artifactId>
-			<version>${project.version}</version>
-		</dependency>
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
+			<artifactId>flink-test-utils-junit</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
+			<scope>compile</scope>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-runtime_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
+			<scope>compile</scope>
 		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-clients_2.10</artifactId>
 			<version>${project.version}</version>
+			<scope>compile</scope>
 		</dependency>
+
 		<dependency>
 			<groupId>junit</groupId>
 			<artifactId>junit</artifactId>
-			<version>4.11</version>
-		</dependency>
-
-		<dependency>
-			<groupId>com.google.guava</groupId>
-			<artifactId>guava</artifactId>
-			<version>${guava.version}</version>
-		</dependency>
-
-		<dependency>
-			<groupId>org.scalatest</groupId>
-			<artifactId>scalatest_${scala.binary.version}</artifactId>
+			<version>${junit.version}</version>
 			<scope>compile</scope>
 		</dependency>
 
@@ -81,6 +70,7 @@ under the License.
 			<version>${curator.version}</version>
 			<scope>compile</scope>
 		</dependency>
+
 	</dependencies>
 
 	<build>
@@ -189,21 +179,9 @@ under the License.
 				<groupId>org.scalastyle</groupId>
 				<artifactId>scalastyle-maven-plugin</artifactId>
 				<configuration>
-					<configLocation>${project.basedir}/../tools/maven/scalastyle-config.xml</configLocation>
+					<configLocation>${project.basedir}/../../tools/maven/scalastyle-config.xml</configLocation>
 				</configuration>
 			</plugin>
-			<!--Plugin to manage test as test-jar apart from the main source code -->
-			<plugin>
-				<groupId>org.apache.maven.plugins</groupId>
-				<artifactId>maven-jar-plugin</artifactId>
-				<executions>
-					<execution>
-						<goals>
-							<goal>test-jar</goal>
-						</goals>
-					</execution>
-				</executions>
-			</plugin>
 
 		</plugins>
 		<pluginManagement>
@@ -233,7 +211,7 @@ under the License.
 										</goals>
 									</pluginExecutionFilter>
 									<action>
-										<ignore></ignore>
+										<ignore/>
 									</action>
 								</pluginExecution>
 							</pluginExecutions>
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/testdata/ConnectedComponentsData.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/ConnectedComponentsData.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/testdata/ConnectedComponentsData.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/ConnectedComponentsData.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/testdata/EnumTriangleData.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/EnumTriangleData.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/testdata/EnumTriangleData.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/EnumTriangleData.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/testdata/KMeansData.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/KMeansData.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/testdata/KMeansData.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/KMeansData.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/testdata/PageRankData.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/PageRankData.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/testdata/PageRankData.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/PageRankData.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/testdata/TransitiveClosureData.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/TransitiveClosureData.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/testdata/TransitiveClosureData.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/TransitiveClosureData.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/testdata/WebLogAnalysisData.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/WebLogAnalysisData.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/testdata/WebLogAnalysisData.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/WebLogAnalysisData.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/testdata/WordCountData.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/WordCountData.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/testdata/WordCountData.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/testdata/WordCountData.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/util/AbstractTestBase.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/AbstractTestBase.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/util/AbstractTestBase.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/AbstractTestBase.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/util/CollectionTestEnvironment.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/CollectionTestEnvironment.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/util/CollectionTestEnvironment.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/CollectionTestEnvironment.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/util/JavaProgramTestBase.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/JavaProgramTestBase.java
similarity index 99%
rename from flink-test-utils/src/test/java/org/apache/flink/test/util/JavaProgramTestBase.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/JavaProgramTestBase.java
index e639c80805d..2bcf66dd0ce 100644
--- a/flink-test-utils/src/test/java/org/apache/flink/test/util/JavaProgramTestBase.java
+++ b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/JavaProgramTestBase.java
@@ -18,13 +18,14 @@
 
 package org.apache.flink.test.util;
 
-import java.util.Comparator;
-
 import org.apache.flink.api.common.JobExecutionResult;
+import org.apache.flink.api.java.tuple.Tuple;
 import org.apache.flink.configuration.Configuration;
+
 import org.junit.Assert;
 import org.junit.Test;
-import org.apache.flink.api.java.tuple.Tuple;
+
+import java.util.Comparator;
 
 
 public abstract class JavaProgramTestBase extends AbstractTestBase {
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/util/MultipleProgramsTestBase.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/MultipleProgramsTestBase.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/util/MultipleProgramsTestBase.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/MultipleProgramsTestBase.java
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/util/TestBaseUtils.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/TestBaseUtils.java
similarity index 98%
rename from flink-test-utils/src/test/java/org/apache/flink/test/util/TestBaseUtils.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/TestBaseUtils.java
index 4dda4cf51dc..6acc6536e9d 100644
--- a/flink-test-utils/src/test/java/org/apache/flink/test/util/TestBaseUtils.java
+++ b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/TestBaseUtils.java
@@ -26,21 +26,25 @@ import akka.dispatch.Futures;
 import akka.pattern.Patterns;
 import akka.util.Timeout;
 
-import com.google.common.collect.Lists;
 import org.apache.commons.io.FileUtils;
 import org.apache.commons.io.IOUtils;
+
 import org.apache.flink.api.java.tuple.Tuple;
 import org.apache.flink.configuration.ConfigConstants;
 import org.apache.flink.configuration.Configuration;
 import org.apache.flink.runtime.testingUtils.TestingTaskManagerMessages;
-import org.apache.flink.runtime.testingUtils.TestingUtils;
 import org.apache.flink.util.TestLogger;
+
 import org.apache.hadoop.fs.FileSystem;
+
 import org.junit.Assert;
+
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
 import scala.concurrent.Await;
+import scala.concurrent.ExecutionContext;
+import scala.concurrent.ExecutionContext$;
 import scala.concurrent.Future;
 import scala.concurrent.duration.FiniteDuration;
 
@@ -173,7 +177,7 @@ public class TestBaseUtils extends TestLogger {
 				}
 
 				Future<Iterable<Object>> bcVariableManagerFutureResponses = Futures.sequence(
-						bcVariableManagerResponseFutures, TestingUtils.defaultExecutionContext());
+						bcVariableManagerResponseFutures, defaultExecutionContext());
 
 				Iterable<Object> responses = Await.result(bcVariableManagerFutureResponses, timeout);
 
@@ -183,7 +187,7 @@ public class TestBaseUtils extends TestLogger {
 				}
 
 				Future<Iterable<Object>> numActiveConnectionsFutureResponses = Futures.sequence(
-						numActiveConnectionsResponseFutures, TestingUtils.defaultExecutionContext());
+						numActiveConnectionsResponseFutures, defaultExecutionContext());
 
 				responses = Await.result(numActiveConnectionsFutureResponses, timeout);
 
@@ -498,10 +502,9 @@ public class TestBaseUtils extends TestLogger {
 	 */
 	public static <T> void containsResultAsText(List<T> result, String expected) {
 		String[] expectedStrings = expected.split("\n");
-		List<String> resultStrings = Lists.newLinkedList();
+		List<String> resultStrings = new ArrayList<>();
 
-		for (int i = 0; i < result.size(); i++) {
-			T val = result.get(i);
+		for (T val : result) {
 			String str = (val == null) ? "null" : val.toString();
 			resultStrings.add(str);
 		}
@@ -516,7 +519,7 @@ public class TestBaseUtils extends TestLogger {
 	// --------------------------------------------------------------------------------------------
 	//  Miscellaneous helper methods
 	// --------------------------------------------------------------------------------------------
-
+	
 	protected static Collection<Object[]> toParameterList(Configuration ... testConfigs) {
 		ArrayList<Object[]> configs = new ArrayList<>();
 		for (Configuration testConfig : testConfigs) {
@@ -570,6 +573,10 @@ public class TestBaseUtils extends TestLogger {
 			throw new RuntimeException(e1);
 		}
 	}
+	
+	private static ExecutionContext defaultExecutionContext() {
+		return ExecutionContext$.MODULE$.global();
+	}
 	// --------------------------------------------------------------------------------------------
 	//  File helper methods
 	// --------------------------------------------------------------------------------------------
diff --git a/flink-test-utils/src/test/java/org/apache/flink/test/util/TestEnvironment.java b/flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/TestEnvironment.java
similarity index 100%
rename from flink-test-utils/src/test/java/org/apache/flink/test/util/TestEnvironment.java
rename to flink-test-utils-parent/flink-test-utils/src/main/java/org/apache/flink/test/util/TestEnvironment.java
diff --git a/flink-test-utils/src/test/scala/org/apache/flink/test/util/ForkableFlinkMiniCluster.scala b/flink-test-utils-parent/flink-test-utils/src/main/scala/org/apache/flink/test/util/ForkableFlinkMiniCluster.scala
similarity index 94%
rename from flink-test-utils/src/test/scala/org/apache/flink/test/util/ForkableFlinkMiniCluster.scala
rename to flink-test-utils-parent/flink-test-utils/src/main/scala/org/apache/flink/test/util/ForkableFlinkMiniCluster.scala
index 8a348a1ff98..79c5a2590ca 100644
--- a/flink-test-utils/src/test/scala/org/apache/flink/test/util/ForkableFlinkMiniCluster.scala
+++ b/flink-test-utils-parent/flink-test-utils/src/main/scala/org/apache/flink/test/util/ForkableFlinkMiniCluster.scala
@@ -23,6 +23,7 @@ import java.util.concurrent.TimeoutException
 import akka.actor.{ActorRef, ActorSystem}
 import akka.pattern.Patterns._
 import akka.pattern.ask
+
 import org.apache.curator.test.TestingCluster
 import org.apache.flink.configuration.{ConfigConstants, Configuration}
 import org.apache.flink.runtime.akka.AkkaUtils
@@ -32,11 +33,11 @@ import org.apache.flink.runtime.jobmanager.{JobManager, RecoveryMode}
 import org.apache.flink.runtime.minicluster.LocalFlinkMiniCluster
 import org.apache.flink.runtime.taskmanager.TaskManager
 import org.apache.flink.runtime.testingUtils.TestingTaskManagerMessages.NotifyWhenRegisteredAtJobManager
-import org.apache.flink.runtime.testingUtils.{TestingJobManager, TestingMemoryArchivist, TestingTaskManager, TestingUtils}
-
+import org.apache.flink.runtime.testingUtils.{TestingJobManager, TestingMemoryArchivist, TestingTaskManager}
 import org.apache.flink.runtime.testutils.TestingResourceManager
 
 import scala.concurrent.{Await, Future}
+import scala.concurrent.duration._
 
 /**
  * A forkable mini cluster is a special case of the mini cluster, used for parallel test execution
@@ -173,8 +174,8 @@ class ForkableFlinkMiniCluster(
 
           clearLeader()
 
-          val stopped = gracefulStop(leader.actor(), TestingUtils.TESTING_DURATION)
-          Await.result(stopped, TestingUtils.TESTING_DURATION)
+          val stopped = gracefulStop(leader.actor(), ForkableFlinkMiniCluster.MAX_RESTART_DURATION)
+          Await.result(stopped, ForkableFlinkMiniCluster.MAX_RESTART_DURATION)
 
           if(!singleActorSystem) {
             jmActorSystems(index).shutdown()
@@ -210,8 +211,8 @@ class ForkableFlinkMiniCluster(
   def restartTaskManager(index: Int): Unit = {
     (taskManagerActorSystems, taskManagerActors) match {
       case (Some(tmActorSystems), Some(tmActors)) =>
-        val stopped = gracefulStop(tmActors(index), TestingUtils.TESTING_DURATION)
-        Await.result(stopped, TestingUtils.TESTING_DURATION)
+        val stopped = gracefulStop(tmActors(index), ForkableFlinkMiniCluster.MAX_RESTART_DURATION)
+        Await.result(stopped, ForkableFlinkMiniCluster.MAX_RESTART_DURATION)
 
         if(!singleActorSystem) {
           tmActorSystems(index).shutdown()
@@ -283,12 +284,14 @@ class ForkableFlinkMiniCluster(
 
 object ForkableFlinkMiniCluster {
 
-  import org.apache.flink.runtime.testingUtils.TestingUtils.DEFAULT_AKKA_ASK_TIMEOUT
+  val MAX_RESTART_DURATION = 2 minute
+
+  val DEFAULT_MINICLUSTER_AKKA_ASK_TIMEOUT = "200 s"
 
   def startCluster(
                     numSlots: Int,
                     numTaskManagers: Int,
-                    timeout: String = DEFAULT_AKKA_ASK_TIMEOUT)
+                    timeout: String = DEFAULT_MINICLUSTER_AKKA_ASK_TIMEOUT)
   : ForkableFlinkMiniCluster = {
 
     val config = new Configuration()
diff --git a/flink-test-utils-parent/pom.xml b/flink-test-utils-parent/pom.xml
new file mode 100644
index 00000000000..03747e8b40f
--- /dev/null
+++ b/flink-test-utils-parent/pom.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+Licensed to the Apache Software Foundation (ASF) under one
+or more contributor license agreements.  See the NOTICE file
+distributed with this work for additional information
+regarding copyright ownership.  The ASF licenses this file
+to you under the Apache License, Version 2.0 (the
+"License"); you may not use this file except in compliance
+with the License.  You may obtain a copy of the License at
+
+  http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing,
+software distributed under the License is distributed on an
+"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+KIND, either express or implied.  See the License for the
+specific language governing permissions and limitations
+under the License.
+-->
+<project xmlns="http://maven.apache.org/POM/4.0.0"
+		 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+		 xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+
+	<modelVersion>4.0.0</modelVersion>
+
+	<parent>
+		<groupId>org.apache.flink</groupId>
+		<artifactId>flink-parent</artifactId>
+		<version>1.1-SNAPSHOT</version>
+		<relativePath>..</relativePath>
+	</parent>
+
+	<artifactId>flink-test-utils-parent</artifactId>
+	<name>flink-test-utils-parent</name>
+
+	<packaging>pom</packaging>
+
+	<modules>
+		<module>flink-test-utils-junit</module>
+		<module>flink-test-utils</module>
+	</modules>
+
+</project>
diff --git a/flink-tests/pom.xml b/flink-tests/pom.xml
index 83f004b69bc..9fd8c3e77dc 100644
--- a/flink-tests/pom.xml
+++ b/flink-tests/pom.xml
@@ -43,7 +43,15 @@ under the License.
 			<version>${project.version}</version>
 			<scope>test</scope>
 		</dependency>
-		
+
+		<dependency>
+			<groupId>org.apache.flink</groupId>
+			<artifactId>flink-core</artifactId>
+			<version>${project.version}</version>
+			<scope>test</scope>
+			<type>test-jar</type>
+		</dependency>
+
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-optimizer_2.10</artifactId>
@@ -69,8 +77,8 @@ under the License.
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-runtime-web_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
+			<type>test-jar</type>
 		</dependency>
 
 		<dependency>
@@ -105,7 +113,6 @@ under the License.
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 		
@@ -115,14 +122,6 @@ under the License.
 			<version>${project.version}</version>
 			<scope>test</scope>
 		</dependency>
-	    
-		<dependency>
-			<groupId>org.apache.flink</groupId>
-			<artifactId>flink-core</artifactId>
-			<version>${project.version}</version>
-			<type>test-jar</type>
-			<scope>test</scope>
-		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
diff --git a/flink-tests/src/test/scala/org/apache/flink/api/scala/io/CsvInputFormatTest.scala b/flink-tests/src/test/scala/org/apache/flink/api/scala/io/CsvInputFormatTest.scala
index 47f99ca8085..24d86e7b2a1 100644
--- a/flink-tests/src/test/scala/org/apache/flink/api/scala/io/CsvInputFormatTest.scala
+++ b/flink-tests/src/test/scala/org/apache/flink/api/scala/io/CsvInputFormatTest.scala
@@ -536,6 +536,4 @@ class CsvInputFormatTest {
     assert(expected.sameElements(actual))
   }
 
-
-
 }
diff --git a/flink-yarn-tests/pom.xml b/flink-yarn-tests/pom.xml
index e8492113409..dcb53341395 100644
--- a/flink-yarn-tests/pom.xml
+++ b/flink-yarn-tests/pom.xml
@@ -38,11 +38,13 @@ under the License.
 	<packaging>jar</packaging>
 
 	<dependencies>
+		
+		<!-- test dependencies -->
+		
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-test-utils_2.10</artifactId>
 			<version>${project.version}</version>
-			<type>test-jar</type>
 			<scope>test</scope>
 		</dependency>
 
@@ -51,18 +53,21 @@ under the License.
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-streaming-java_2.10</artifactId>
 			<version>${project.version}</version>
+			<scope>test</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>flink-yarn_2.10</artifactId>
 			<version>${project.version}</version>
+			<scope>test</scope>
 		</dependency>
 
 		<dependency>
 			<groupId>org.apache.flink</groupId>
 			<artifactId>${shading-artifact.name}</artifactId>
 			<version>${project.version}</version>
+			<scope>test</scope>
 		</dependency>
 
 		<dependency>
@@ -80,7 +85,7 @@ under the License.
 		<dependency>
 			<groupId>com.typesafe.akka</groupId>
 			<artifactId>akka-testkit_${scala.binary.version}</artifactId>
-			<scope>compile</scope>
+			<scope>test</scope>
 		</dependency>
 	</dependencies>
 
diff --git a/pom.xml b/pom.xml
index 342fc56fcad..c038844e16d 100644
--- a/pom.xml
+++ b/pom.xml
@@ -68,7 +68,7 @@ under the License.
 		<module>flink-examples</module>
 		<module>flink-clients</module>
 		<module>flink-tests</module>
-		<module>flink-test-utils</module>
+		<module>flink-test-utils-parent</module>
 		<module>flink-libraries</module>
 		<module>flink-scala-shell</module>
 		<module>flink-quickstart</module>
@@ -105,6 +105,7 @@ under the License.
 		<curator.version>2.8.0</curator.version>
 		<jackson.version>2.7.4</jackson.version>
 		<metrics.version>3.1.0</metrics.version>
+		<junit.version>4.11</junit.version>
 	</properties>
 
 	<dependencies>
@@ -148,7 +149,7 @@ under the License.
 		<dependency>
 			<groupId>junit</groupId>
 			<artifactId>junit</artifactId>
-			<version>4.11</version>
+			<version>${junit.version}</version>
 			<type>jar</type>
 			<scope>test</scope>
 		</dependency>
