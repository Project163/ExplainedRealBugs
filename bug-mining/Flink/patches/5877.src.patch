diff --git a/flink-runtime/src/main/java/org/apache/flink/runtime/io/network/netty/PartitionRequestQueue.java b/flink-runtime/src/main/java/org/apache/flink/runtime/io/network/netty/PartitionRequestQueue.java
index 7b3ec690c7a..397902f3d4a 100644
--- a/flink-runtime/src/main/java/org/apache/flink/runtime/io/network/netty/PartitionRequestQueue.java
+++ b/flink-runtime/src/main/java/org/apache/flink/runtime/io/network/netty/PartitionRequestQueue.java
@@ -185,7 +185,14 @@ class PartitionRequestQueue extends ChannelInboundHandlerAdapter {
             return;
         }
 
-        obtainReader(receiverId).notifyNewBufferSize(newBufferSize);
+        // It is possible to receive new buffer size before the reader would be created since the
+        // downstream task could calculate buffer size even using the data from one channel but it
+        // sends new buffer size into all upstream even if they don't ready yet. In this case, just
+        // ignore the new buffer size.
+        NetworkSequenceViewReader reader = allReaders.get(receiverId);
+        if (reader != null) {
+            reader.notifyNewBufferSize(newBufferSize);
+        }
     }
 
     NetworkSequenceViewReader obtainReader(InputChannelID receiverId) {
diff --git a/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/PartitionRequestServerHandlerTest.java b/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/PartitionRequestServerHandlerTest.java
index 4e6f4b8a0e8..b0fcf420df3 100644
--- a/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/PartitionRequestServerHandlerTest.java
+++ b/flink-runtime/src/test/java/org/apache/flink/runtime/io/network/netty/PartitionRequestServerHandlerTest.java
@@ -160,9 +160,33 @@ public class PartitionRequestServerHandlerTest extends TestLogger {
         assertEquals(666, testViewReader.bufferSize);
     }
 
+    @Test
+    public void testReceivingNewBufferSizeBeforeReaderIsCreated() {
+        final InputChannelID inputChannelID = new InputChannelID();
+        final PartitionRequestQueue partitionRequestQueue = new PartitionRequestQueue();
+        final TestViewReader testViewReader =
+                new TestViewReader(inputChannelID, 2, partitionRequestQueue);
+        final PartitionRequestServerHandler serverHandler =
+                new PartitionRequestServerHandler(
+                        new ResultPartitionManager(),
+                        new TaskEventDispatcher(),
+                        partitionRequestQueue);
+        final EmbeddedChannel channel = new EmbeddedChannel(serverHandler);
+
+        // Write the message of new buffer size to server without prepared reader.
+        channel.writeInbound(new NettyMessage.NewBufferSize(666, inputChannelID));
+        channel.runPendingTasks();
+
+        // If error happens outbound messages would be not empty.
+        assertTrue(channel.outboundMessages().toString(), channel.outboundMessages().isEmpty());
+
+        // New buffer size should be silently ignored because it is possible situation.
+        assertEquals(-1, testViewReader.bufferSize);
+    }
+
     private static class TestViewReader extends CreditBasedSequenceNumberingViewReader {
         private boolean consumptionResumed = false;
-        private int bufferSize;
+        private int bufferSize = -1;
 
         TestViewReader(
                 InputChannelID receiverId, int initialCredit, PartitionRequestQueue requestQueue) {
