diff --git a/test-infra/end-to-end-test/test_streaming_kafka010.sh b/test-infra/end-to-end-test/test_streaming_kafka010.sh
index f358e241159..cce8db43995 100755
--- a/test-infra/end-to-end-test/test_streaming_kafka010.sh
+++ b/test-infra/end-to-end-test/test_streaming_kafka010.sh
@@ -73,24 +73,7 @@ $FLINK_DIR/bin/flink run -d build-target/examples/streaming/Kafka010Example.jar
 # send some data to Kafka
 echo -e "hello\nwhats\nup" | $KAFKA_DIR/bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test-input
 
-# wait at most (roughly) 5 minutes until the results are there
-for i in {1..300}; do
-  DATA_FROM_KAFKA=$($KAFKA_DIR/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test-output --from-beginning --timeout-ms 0 2> /dev/null)
-
-  # make sure we have actual newlines in the string, not "\n"
-  EXPECTED=$(printf "PREFIX:hello\nPREFIX:whats\nPREFIX:up")
-
-  if [[ "$DATA_FROM_KAFKA" == "$EXPECTED" ]]; then
-    echo -e "Retrieved data from Kafka: --$DATA_FROM_KAFKA--"
-    break
-  fi
-
-  echo "Waiting for results from Kafka..."
-  sleep 1
-done
-
-# verify again to set the PASS variable
-DATA_FROM_KAFKA=$($KAFKA_DIR/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test-output --from-beginning --timeout-ms 0 2> /dev/null)
+DATA_FROM_KAFKA=$($KAFKA_DIR/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test-output --from-beginning --max-messages 3 2> /dev/null)
 
 # make sure we have actual newlines in the string, not "\n"
 EXPECTED=$(printf "PREFIX:hello\nPREFIX:whats\nPREFIX:up")
