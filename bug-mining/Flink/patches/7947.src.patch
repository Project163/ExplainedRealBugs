diff --git a/flink-table/flink-table-planner/src/test/resources/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.xml b/flink-table/flink-table-planner/src/test/resources/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.xml
index b6bb678d8c7..d571a4f3a6e 100644
--- a/flink-table/flink-table-planner/src/test/resources/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.xml
+++ b/flink-table/flink-table-planner/src/test/resources/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.xml
@@ -129,4 +129,36 @@ LogicalProject(t1a=[$0])
 ]]>
 	</Resource>
   </TestCase>
+	<TestCase name="testWithProjectCaseWhenCorrelate">
+		<Resource name="sql">
+			<![CDATA[
+SELECT
+    (CASE WHEN EXISTS (SELECT min(t3d)
+                       FROM t3
+                       WHERE t3.t3a = t1.t1a)
+     THEN 1 ELSE 2 END)
+FROM   t1
+    WHERE  t1a = 'test'
+      ]]>
+		</Resource>
+		<Resource name="ast">
+			<![CDATA[
+LogicalProject(variablesSet=[[$cor0]], EXPR$0=[CASE(EXISTS({
+LogicalAggregate(group=[{}], EXPR$0=[MIN($0)])
+  LogicalProject(t3d=[$3])
+    LogicalFilter(condition=[=($0, $cor0.t1a)])
+      LogicalTableScan(table=[[default_catalog, default_database, t3]])
+}), 1, 2)])
++- LogicalFilter(condition=[=($0, _UTF-16LE'test')])
+   +- LogicalTableScan(table=[[default_catalog, default_database, t1]])
+]]>
+		</Resource>
+		<Resource name="optimized rel plan">
+			<![CDATA[
+LogicalProject(EXPR$0=[1])
++- LogicalFilter(condition=[=($0, _UTF-16LE'test')])
+   +- LogicalTableScan(table=[[default_catalog, default_database, t1]])
+]]>
+		</Resource>
+	</TestCase>
 </Root>
diff --git a/flink-table/flink-table-planner/src/test/scala/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.scala b/flink-table/flink-table-planner/src/test/scala/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.scala
index 7505d018901..5810bf247ed 100644
--- a/flink-table/flink-table-planner/src/test/scala/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.scala
+++ b/flink-table/flink-table-planner/src/test/scala/org/apache/flink/table/planner/plan/rules/logical/subquery/SubqueryCorrelateVariablesValidationTest.scala
@@ -143,7 +143,6 @@ class SubqueryCorrelateVariablesValidationTest extends SubQueryTestBase {
   }
 
   @Test
-  // TODO some bugs in RelDecorrelator.AdjustProjectForCountAggregateRule
   def testWithProjectCaseWhenCorrelate(): Unit = {
     val sqlQuery =
       """
@@ -155,8 +154,6 @@ class SubqueryCorrelateVariablesValidationTest extends SubQueryTestBase {
         |FROM   t1
         |    WHERE  t1a = 'test'
       """.stripMargin
-    assertThatExceptionOfType(classOf[AssertionError])
-      .isThrownBy(() => util.verifyRelPlan(sqlQuery))
+    util.verifyRelPlan(sqlQuery)
   }
-
 }
