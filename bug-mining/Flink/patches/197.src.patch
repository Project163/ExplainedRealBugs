diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/JobManagerITCase.scala b/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/JobManagerITCase.scala
index c2ceac39f8f..4d8bea64fdd 100644
--- a/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/JobManagerITCase.scala
+++ b/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/JobManagerITCase.scala
@@ -34,6 +34,7 @@ import scheduler.{NoResourceAvailableException, SlotSharingGroup}
 
 import scala.concurrent.duration._
 import scala.language.postfixOps
+import scala.util.Random
 
 @RunWith(classOf[JUnitRunner])
 class JobManagerITCase(_system: ActorSystem) extends TestKit(_system) with ImplicitSender with
@@ -369,6 +370,9 @@ WordSpecLike with Matchers with BeforeAndAfterAll {
       sender.setInvokableClass(classOf[SometimesExceptionSender])
       receiver.setInvokableClass(classOf[Receiver])
 
+      // set failing senders
+      SometimesExceptionSender.failingSenders = Seq.fill(10)(Random.nextInt(num_tasks)).toSet
+
       sender.setParallelism(num_tasks)
       receiver.setParallelism(num_tasks)
 
@@ -474,6 +478,10 @@ WordSpecLike with Matchers with BeforeAndAfterAll {
       sender.setInvokableClass(classOf[SometimesInstantiationErrorSender])
       receiver.setInvokableClass(classOf[Receiver])
 
+      // set the failing sender tasks
+      SometimesInstantiationErrorSender.failingSenders =
+        Seq.fill(10)(Random.nextInt(num_tasks)).toSet
+
       sender.setParallelism(num_tasks)
       receiver.setParallelism(num_tasks)
 
diff --git a/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/Tasks.scala b/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/Tasks.scala
index 70f085a3698..57a61da6e31 100644
--- a/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/Tasks.scala
+++ b/flink-runtime/src/test/scala/org/apache/flink/runtime/jobmanager/Tasks.scala
@@ -223,7 +223,8 @@ object Tasks {
     }
 
     override def invoke(): Unit = {
-      if(Math.random() < 0.05){
+      // this only works if the TaskManager runs in the same JVM as the test case
+      if(SometimesExceptionSender.failingSenders.contains(this.getIndexInSubtaskGroup)){
         throw new Exception("Test exception")
       }else{
         val o = new Object()
@@ -232,6 +233,10 @@ object Tasks {
     }
   }
 
+  object SometimesExceptionSender {
+    var failingSenders = Set[Int](0)
+  }
+
   class ExceptionReceiver extends AbstractInvokable {
     override def registerInputOutput(): Unit = {
       new RecordReader[IntegerRecord](getEnvironment.getReader(0), classOf[IntegerRecord])
@@ -253,7 +258,9 @@ object Tasks {
   }
 
   class SometimesInstantiationErrorSender extends AbstractInvokable{
-    if(Math.random < 0.05){
+
+    // this only works if the TaskManager runs in the same JVM as the test case
+    if(SometimesInstantiationErrorSender.failingSenders.contains(this.getIndexInSubtaskGroup)){
       throw new RuntimeException("Test exception in constructor")
     }
 
@@ -267,6 +274,10 @@ object Tasks {
     }
   }
 
+  object SometimesInstantiationErrorSender {
+    var failingSenders = Set[Int](0)
+  }
+
   class BlockingReceiver extends AbstractInvokable {
     override def registerInputOutput(): Unit = {
       new RecordReader[IntegerRecord](getEnvironment.getReader(0), classOf[IntegerRecord])
