[{"id":6789786183,"node_id":"LE_lADOAAoEbs5Ll3DBzwAAAAGUs-pH","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/6789786183","actor":{"login":"zachee54","id":42939319,"node_id":"MDQ6VXNlcjQyOTM5MzE5","avatar_url":"https://avatars.githubusercontent.com/u/42939319?v=4","gravatar_id":"","url":"https://api.github.com/users/zachee54","html_url":"https://github.com/zachee54","followers_url":"https://api.github.com/users/zachee54/followers","following_url":"https://api.github.com/users/zachee54/following{/other_user}","gists_url":"https://api.github.com/users/zachee54/gists{/gist_id}","starred_url":"https://api.github.com/users/zachee54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachee54/subscriptions","organizations_url":"https://api.github.com/users/zachee54/orgs","repos_url":"https://api.github.com/users/zachee54/repos","events_url":"https://api.github.com/users/zachee54/events{/privacy}","received_events_url":"https://api.github.com/users/zachee54/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-11T09:17:07Z","label":{"name":"defect","color":"f7c6c7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1152889287","html_url":"https://github.com/cakephp/cakephp/issues/16562#issuecomment-1152889287","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/16562","id":1152889287,"node_id":"IC_kwDOAAoEbs5Et7HH","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T09:33:41Z","updated_at":"2022-06-11T09:34:05Z","body":"> saving an article with associated tags deletes existing tags associations for this article\r\n\r\nBy default BelongsToMany uses \"replace\" save strategy and expects all required associations to be specified when saving.\r\n\r\nUse the \"append\" save strategy if you don't want existing associations to be unlinked https://book.cakephp.org/4/en/orm/associations.html#belongstomany-associations. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1152889287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1152890727","html_url":"https://github.com/cakephp/cakephp/issues/16562#issuecomment-1152890727","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/16562","id":1152890727,"node_id":"IC_kwDOAAoEbs5Et7dn","user":{"login":"zachee54","id":42939319,"node_id":"MDQ6VXNlcjQyOTM5MzE5","avatar_url":"https://avatars.githubusercontent.com/u/42939319?v=4","gravatar_id":"","url":"https://api.github.com/users/zachee54","html_url":"https://github.com/zachee54","followers_url":"https://api.github.com/users/zachee54/followers","following_url":"https://api.github.com/users/zachee54/following{/other_user}","gists_url":"https://api.github.com/users/zachee54/gists{/gist_id}","starred_url":"https://api.github.com/users/zachee54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachee54/subscriptions","organizations_url":"https://api.github.com/users/zachee54/orgs","repos_url":"https://api.github.com/users/zachee54/repos","events_url":"https://api.github.com/users/zachee54/events{/privacy}","received_events_url":"https://api.github.com/users/zachee54/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T09:46:49Z","updated_at":"2022-06-11T09:46:49Z","body":"The trouble is, the links are NOT recreated there, even if they are in the saved entity.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1152890727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zachee54","id":42939319,"node_id":"MDQ6VXNlcjQyOTM5MzE5","avatar_url":"https://avatars.githubusercontent.com/u/42939319?v=4","gravatar_id":"","url":"https://api.github.com/users/zachee54","html_url":"https://github.com/zachee54","followers_url":"https://api.github.com/users/zachee54/followers","following_url":"https://api.github.com/users/zachee54/following{/other_user}","gists_url":"https://api.github.com/users/zachee54/gists{/gist_id}","starred_url":"https://api.github.com/users/zachee54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachee54/subscriptions","organizations_url":"https://api.github.com/users/zachee54/orgs","repos_url":"https://api.github.com/users/zachee54/repos","events_url":"https://api.github.com/users/zachee54/events{/privacy}","received_events_url":"https://api.github.com/users/zachee54/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1152891500","html_url":"https://github.com/cakephp/cakephp/issues/16562#issuecomment-1152891500","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/16562","id":1152891500,"node_id":"IC_kwDOAAoEbs5Et7ps","user":{"login":"zachee54","id":42939319,"node_id":"MDQ6VXNlcjQyOTM5MzE5","avatar_url":"https://avatars.githubusercontent.com/u/42939319?v=4","gravatar_id":"","url":"https://api.github.com/users/zachee54","html_url":"https://github.com/zachee54","followers_url":"https://api.github.com/users/zachee54/followers","following_url":"https://api.github.com/users/zachee54/following{/other_user}","gists_url":"https://api.github.com/users/zachee54/gists{/gist_id}","starred_url":"https://api.github.com/users/zachee54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachee54/subscriptions","organizations_url":"https://api.github.com/users/zachee54/orgs","repos_url":"https://api.github.com/users/zachee54/repos","events_url":"https://api.github.com/users/zachee54/events{/privacy}","received_events_url":"https://api.github.com/users/zachee54/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T09:53:14Z","updated_at":"2022-06-11T09:53:14Z","body":"I mean : they're removed although they **are** actually specified. That's the bug.\r\nOnly new links are saved.\r\n\r\nAs a result, when you replay the same query, you get alternatively the old links **or** the new ones, but there is no way to add new links while keeping the existing ones.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1152891500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zachee54","id":42939319,"node_id":"MDQ6VXNlcjQyOTM5MzE5","avatar_url":"https://avatars.githubusercontent.com/u/42939319?v=4","gravatar_id":"","url":"https://api.github.com/users/zachee54","html_url":"https://github.com/zachee54","followers_url":"https://api.github.com/users/zachee54/followers","following_url":"https://api.github.com/users/zachee54/following{/other_user}","gists_url":"https://api.github.com/users/zachee54/gists{/gist_id}","starred_url":"https://api.github.com/users/zachee54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachee54/subscriptions","organizations_url":"https://api.github.com/users/zachee54/orgs","repos_url":"https://api.github.com/users/zachee54/repos","events_url":"https://api.github.com/users/zachee54/events{/privacy}","received_events_url":"https://api.github.com/users/zachee54/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6790158912,"node_id":"LE_lADOAAoEbs5Ll3DBzwAAAAGUuZpA","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/6790158912","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-11T14:55:41Z","label":{"name":"ORM","color":"0ed189"},"performed_via_github_app":null},{"id":6790158962,"node_id":"MIE_lADOAAoEbs5Ll3DBzwAAAAGUuZpy","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/6790158962","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-06-11T14:55:45Z","milestone":{"title":"4.4.1"},"performed_via_github_app":null},{"id":6790159320,"node_id":"AE_lADOAAoEbs5Ll3DBzwAAAAGUuZvY","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/6790159320","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-06-11T14:56:09Z","assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153208756","html_url":"https://github.com/cakephp/cakephp/issues/16562#issuecomment-1153208756","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/16562","id":1153208756,"node_id":"IC_kwDOAAoEbs5EvJG0","user":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T15:38:48Z","updated_at":"2022-06-12T15:38:48Z","body":"I'm trying to reproduce this scenario in our test suite. I'm wondering how is the association between `Articles` and `Tags` defined?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153208756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153230670","html_url":"https://github.com/cakephp/cakephp/issues/16562#issuecomment-1153230670","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/16562","id":1153230670,"node_id":"IC_kwDOAAoEbs5EvOdO","user":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T16:47:34Z","updated_at":"2022-06-12T16:47:34Z","body":"I tried to reproduce this issue but didn't have much luck. The following test passes\r\n\r\n```diff\r\ndiff --git a/src/ORM/Association/BelongsToMany.php b/src/ORM/Association/BelongsToMany.php\r\nindex a781e32ba1..87cd3d39e4 100644\r\n--- a/src/ORM/Association/BelongsToMany.php\r\n+++ b/src/ORM/Association/BelongsToMany.php\r\n@@ -36,6 +36,7 @@ use SplObjectStorage;\r\n  * that contains the association fields between the source and the target table.\r\n  *\r\n  * An example of a BelongsToMany association would be Article belongs to many Tags.\r\n+ * In this example 'Article' is the source table and 'Tags' is the target table.\r\n  */\r\n class BelongsToMany extends Association\r\n {\r\ndiff --git a/tests/TestCase/ORM/Association/BelongsToManyTest.php b/tests/TestCase/ORM/Association/BelongsToManyTest.php\r\nindex 818f3062f0..bcb91cb740 100644\r\n--- a/tests/TestCase/ORM/Association/BelongsToManyTest.php\r\n+++ b/tests/TestCase/ORM/Association/BelongsToManyTest.php\r\n@@ -21,6 +21,7 @@ use Cake\\Database\\Expression\\QueryExpression;\r\n use Cake\\Datasource\\ConnectionManager;\r\n use Cake\\Datasource\\EntityInterface;\r\n use Cake\\Event\\EventInterface;\r\n+use Cake\\I18n\\FrozenTime;\r\n use Cake\\ORM\\Association\\BelongsTo;\r\n use Cake\\ORM\\Association\\BelongsToMany;\r\n use Cake\\ORM\\Association\\HasMany;\r\n@@ -54,6 +55,8 @@ class BelongsToManyTest extends TestCase\r\n         'core.BinaryUuidItems',\r\n         'core.BinaryUuidTags',\r\n         'core.BinaryUuidItemsBinaryUuidTags',\r\n+        'core.CompositeKeyArticles',\r\n+        'core.CompositeKeyArticlesTags',\r\n     ];\r\n \r\n     /**\r\n@@ -1071,6 +1074,55 @@ class BelongsToManyTest extends TestCase\r\n         $this->assertCount(1, $refresh->binary_uuid_tags, 'One tag should remain');\r\n     }\r\n \r\n+    public function testReplaceLinksComplexTypeForeignKey()\r\n+    {\r\n+        $articles = $this->fetchTable('CompositeKeyArticles');\r\n+        $tags = $this->fetchTable('Tags');\r\n+        $junction = $this->fetchTable('CompositeKeyArticlesTags');\r\n+\r\n+        $articles->belongsToMany('Tags', [\r\n+            'foreignKey' => ['author_id', 'created'],\r\n+            'targetForeignKey' => 'tag_id',\r\n+            'through' => $junction,\r\n+        ]);\r\n+\r\n+        $article = $articles->newEntity([\r\n+            'author_id' => 1,\r\n+            'body' => 'First post',\r\n+            'created' => new FrozenTime(),\r\n+        ]);\r\n+        $articles->saveOrFail($article);\r\n+        $tag1 = $tags->find()->where(['Tags.name' => 'tag1'])->firstOrFail();\r\n+        $tag2 = $tags->find()->where(['Tags.name' => 'tag2'])->firstOrFail();\r\n+\r\n+        $article = $articles->find()\r\n+            ->where(['CompositeKeyArticles.author_id' => $article->author_id])\r\n+            ->contain('Tags')\r\n+            ->firstOrFail();\r\n+        $this->assertEmpty($article->tags);\r\n+\r\n+        // Create the first link\r\n+        $article = $articles->patchEntity($article, ['tags' => ['_ids' => [$tag1->id]]]);\r\n+        $result = $articles->save($article, ['associated' => 'Tags']);\r\n+        $this->assertNotEmpty($result);\r\n+        $this->assertCount(1, $result->tags);\r\n+        $this->assertEquals($tag1->id, $result->tags[0]->id);\r\n+\r\n+        // Add second tag. Reload tag objects so created fields have different\r\n+        // instances.\r\n+        $article = $articles->find()\r\n+            ->where(['CompositeKeyArticles.author_id' => $article->author_id])\r\n+            ->contain('Tags')\r\n+            ->firstOrFail();\r\n+        $article = $articles->patchEntity($article, ['tags' => ['_ids' => [$tag1->id, $tag2->id]]]);\r\n+        $result = $articles->save($article, ['associated' => 'Tags']);\r\n+\r\n+        $this->assertNotEmpty($result);\r\n+        $this->assertCount(2, $result->tags);\r\n+        $this->assertEquals('tag1', $result->tags[0]->name);\r\n+        $this->assertEquals('tag2', $result->tags[1]->name);\r\n+    }\r\n+\r\n     /**\r\n      * Provider for empty values\r\n      *\r\ndiff --git a/tests/schema.php b/tests/schema.php\r\nindex 5aa1acb2ae..74f8a14776 100644\r\n--- a/tests/schema.php\r\n+++ b/tests/schema.php\r\n@@ -921,6 +921,58 @@ return [\r\n             ],\r\n         ],\r\n     ],\r\n+    [\r\n+        'table' => 'composite_key_articles',\r\n+        'columns' => [\r\n+            'author_id' => [\r\n+                'type' => 'integer',\r\n+                'null' => false,\r\n+            ],\r\n+            'created' => [\r\n+                'type' => 'datetime',\r\n+                'null' => false,\r\n+            ],\r\n+            'body' => [\r\n+                'type' => 'text',\r\n+            ],\r\n+        ],\r\n+        'constraints' => [\r\n+            'composite_article_pk' => [\r\n+                'type' => 'primary',\r\n+                'columns' => [\r\n+                    'author_id',\r\n+                    'created',\r\n+                ],\r\n+            ],\r\n+        ],\r\n+    ],\r\n+    [\r\n+        'table' => 'composite_key_articles_tags',\r\n+        'columns' => [\r\n+            'author_id' => [\r\n+                'type' => 'integer',\r\n+                'null' => false,\r\n+            ],\r\n+            'created' => [\r\n+                'type' => 'datetime',\r\n+                'null' => false,\r\n+            ],\r\n+            'tag_id' => [\r\n+                'type' => 'integer',\r\n+                'null' => false,\r\n+            ],\r\n+        ],\r\n+        'constraints' => [\r\n+            'composite_article_tags_pk' => [\r\n+                'type' => 'primary',\r\n+                'columns' => [\r\n+                    'author_id',\r\n+                    'created',\r\n+                    'tag_id',\r\n+                ],\r\n+            ],\r\n+        ],\r\n+    ],\r\n     [\r\n         'table' => 'profiles',\r\n         'columns' => [\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153230670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153270265","html_url":"https://github.com/cakephp/cakephp/issues/16562#issuecomment-1153270265","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/16562","id":1153270265,"node_id":"IC_kwDOAAoEbs5EvYH5","user":{"login":"zachee54","id":42939319,"node_id":"MDQ6VXNlcjQyOTM5MzE5","avatar_url":"https://avatars.githubusercontent.com/u/42939319?v=4","gravatar_id":"","url":"https://api.github.com/users/zachee54","html_url":"https://github.com/zachee54","followers_url":"https://api.github.com/users/zachee54/followers","following_url":"https://api.github.com/users/zachee54/following{/other_user}","gists_url":"https://api.github.com/users/zachee54/gists{/gist_id}","starred_url":"https://api.github.com/users/zachee54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachee54/subscriptions","organizations_url":"https://api.github.com/users/zachee54/orgs","repos_url":"https://api.github.com/users/zachee54/repos","events_url":"https://api.github.com/users/zachee54/events{/privacy}","received_events_url":"https://api.github.com/users/zachee54/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T19:30:51Z","updated_at":"2022-06-12T19:30:51Z","body":"## Association definition\r\n\r\n> I'm trying to reproduce this scenario in our test suite. I'm wondering how is the association between `Articles` and `Tags` defined?\r\n\r\nSorry, I forgot this essential part :\r\n```\r\n<?php\r\ndeclare(strict_types=1);\r\n\r\nnamespace App\\Model\\Table;\r\n\r\nuse Cake\\ORM\\Table;\r\n\r\nclass ArticlesTable extends Table {\r\n    public function initialize(array $config): void {\r\n        parent::initialize($config);\r\n\r\n        $this->setTable('articles');\r\n        $this->setDisplayField('body');\r\n        $this->setPrimaryKey(['author_id', 'created']);\r\n\r\n        $this->belongsToMany('Tags', [\r\n            'foreignKey' => ['author_id', 'created'],\r\n        ]);\r\n    }\r\n}\r\n```\r\nNothing special, I'm afraid.\r\n\r\n## Test case\r\n\r\n> I tried to reproduce this issue but didn't have much luck. The following test passes\r\n\r\nYou're applying assertions on the result of `save`.\r\n\r\n>        $result = $articles->save($article, ['associated' => 'Tags']);\r\n>\r\n>        $this->assertNotEmpty($result);\r\n>        $this->assertCount(2, $result->tags);\r\n>        $this->assertEquals('tag1', $result->tags[0]->name);\r\n>        $this->assertEquals('tag2', $result->tags[1]->name);\r\n>    }\r\n\r\nHowever, this entity is consistent in my case too. The problem resides in the database, not in the entity. So try to reload a new entity from the database and to assert on it.\r\n\r\nThe following shows the variables from DebugKit after saving :\r\n```\r\n// Added this code at the end of ArticlesController::save()\r\n$this->set('saved', $this->Articles->find()\r\n  ->contain('Tags')\r\n  ->where([\r\n    'author_id' => $authorId,\r\n    'created' => $created])\r\n  ->first());\r\n```\r\nVariables log from DebugKit\r\n```\r\n[\r\n'saved' => object(App\\Model\\Entity\\Article) id:0 {\r\n'author_id' => (int) 1\r\n 'created' => object(Cake\\I18n\\FrozenDate) id:1 { }\r\n 'body' => 'This is my article body' 'tags' => [\r\n(int) 0 => object(App\\Model\\Entity\\Tag) id:2 { },\r\n]\r\n '[new]' => false\r\n '[accessible]' => [ ]\r\n '[dirty]' => [ ]\r\n '[original]' => [ ]\r\n '[virtual]' => [ ]\r\n '[hasErrors]' => false\r\n '[errors]' => [ ]\r\n '[invalid]' => [ ]\r\n '[repository]' => 'Articles'\r\n},\r\n 'tags' => [ ],\r\n 'article' => object(App\\Model\\Entity\\Article) id:0 {\r\n'author_id' => (int) 1\r\n 'created' => object(Cake\\I18n\\FrozenDate) id:1 { }\r\n 'body' => 'This is my article body'\r\n 'tags' => [\r\n(int) 0 => object(App\\Model\\Entity\\Tag) id:2 { },\r\n (int) 1 => object(App\\Model\\Entity\\Tag) id:4 { },\r\n]\r\n '[new]' => false\r\n '[accessible]' => [ ]\r\n '[dirty]' => [ ]\r\n '[original]' => [ ]\r\n '[virtual]' => [ ]\r\n '[hasErrors]' => false\r\n '[errors]' => [ ]\r\n '[invalid]' => [ ]\r\n '[repository]' => 'Articles'\r\n},\r\n]\r\n```\r\n`saved` has a single tag while `article` has both.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153270265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zachee54","id":42939319,"node_id":"MDQ6VXNlcjQyOTM5MzE5","avatar_url":"https://avatars.githubusercontent.com/u/42939319?v=4","gravatar_id":"","url":"https://api.github.com/users/zachee54","html_url":"https://github.com/zachee54","followers_url":"https://api.github.com/users/zachee54/followers","following_url":"https://api.github.com/users/zachee54/following{/other_user}","gists_url":"https://api.github.com/users/zachee54/gists{/gist_id}","starred_url":"https://api.github.com/users/zachee54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachee54/subscriptions","organizations_url":"https://api.github.com/users/zachee54/orgs","repos_url":"https://api.github.com/users/zachee54/repos","events_url":"https://api.github.com/users/zachee54/events{/privacy}","received_events_url":"https://api.github.com/users/zachee54/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153392628","html_url":"https://github.com/cakephp/cakephp/issues/16562#issuecomment-1153392628","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/16562","id":1153392628,"node_id":"IC_kwDOAAoEbs5Ev1_0","user":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T02:24:14Z","updated_at":"2022-06-13T02:24:14Z","body":"> However, this entity is consistent in my case too. The problem resides in the database, not in the entity. So try to reload a new entity from the database and to assert on it.\r\n\r\nAh ok, this was the key part I was missing. Thank you for the quick and detailed reply :bow:","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/1153392628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6792580308,"node_id":"REFE_lADOAAoEbs5Ll3DBzwAAAAGU3ozU","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/6792580308","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f980cf8ff7ac2ac2d64c32464da1c936073c7db4","commit_url":"https://api.github.com/repos/cakephp/cakephp/commits/f980cf8ff7ac2ac2d64c32464da1c936073c7db4","created_at":"2022-06-13T02:50:24Z","performed_via_github_app":null},{"actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T02:50:46Z","updated_at":"2022-06-13T02:50:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/16563","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/16563/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/16563/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/16563/events","html_url":"https://github.com/cakephp/cakephp/pull/16563","id":1268826979,"node_id":"PR_kwDOAAoEbs45h7xq","number":16563,"title":"Fix saving belongstomany with complex key values","user":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/280","html_url":"https://github.com/cakephp/cakephp/milestone/280","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/280/labels","id":8056006,"node_id":"MI_kwDOAAoEbs4AeuzG","number":280,"title":"4.4.1","description":"Bugfixes for 4.4.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":13,"state":"closed","created_at":"2022-06-07T03:21:20Z","updated_at":"2022-06-13T17:24:50Z","due_on":"2022-06-27T07:00:00Z","closed_at":"2022-06-13T17:24:50Z"},"comments":5,"created_at":"2022-06-13T02:50:46Z","updated_at":"2022-06-13T15:16:37Z","closed_at":"2022-06-13T15:16:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":656494,"node_id":"MDEwOlJlcG9zaXRvcnk2NTY0OTQ=","name":"cakephp","full_name":"cakephp/cakephp","private":false,"owner":{"login":"cakephp","id":23666,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjY2","avatar_url":"https://avatars.githubusercontent.com/u/23666?v=4","gravatar_id":"","url":"https://api.github.com/users/cakephp","html_url":"https://github.com/cakephp","followers_url":"https://api.github.com/users/cakephp/followers","following_url":"https://api.github.com/users/cakephp/following{/other_user}","gists_url":"https://api.github.com/users/cakephp/gists{/gist_id}","starred_url":"https://api.github.com/users/cakephp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cakephp/subscriptions","organizations_url":"https://api.github.com/users/cakephp/orgs","repos_url":"https://api.github.com/users/cakephp/repos","events_url":"https://api.github.com/users/cakephp/events{/privacy}","received_events_url":"https://api.github.com/users/cakephp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cakephp/cakephp","description":"CakePHP: The Rapid Development Framework for PHP - Official Repository","fork":false,"url":"https://api.github.com/repos/cakephp/cakephp","forks_url":"https://api.github.com/repos/cakephp/cakephp/forks","keys_url":"https://api.github.com/repos/cakephp/cakephp/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cakephp/cakephp/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cakephp/cakephp/teams","hooks_url":"https://api.github.com/repos/cakephp/cakephp/hooks","issue_events_url":"https://api.github.com/repos/cakephp/cakephp/issues/events{/number}","events_url":"https://api.github.com/repos/cakephp/cakephp/events","assignees_url":"https://api.github.com/repos/cakephp/cakephp/assignees{/user}","branches_url":"https://api.github.com/repos/cakephp/cakephp/branches{/branch}","tags_url":"https://api.github.com/repos/cakephp/cakephp/tags","blobs_url":"https://api.github.com/repos/cakephp/cakephp/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cakephp/cakephp/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cakephp/cakephp/git/refs{/sha}","trees_url":"https://api.github.com/repos/cakephp/cakephp/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cakephp/cakephp/statuses/{sha}","languages_url":"https://api.github.com/repos/cakephp/cakephp/languages","stargazers_url":"https://api.github.com/repos/cakephp/cakephp/stargazers","contributors_url":"https://api.github.com/repos/cakephp/cakephp/contributors","subscribers_url":"https://api.github.com/repos/cakephp/cakephp/subscribers","subscription_url":"https://api.github.com/repos/cakephp/cakephp/subscription","commits_url":"https://api.github.com/repos/cakephp/cakephp/commits{/sha}","git_commits_url":"https://api.github.com/repos/cakephp/cakephp/git/commits{/sha}","comments_url":"https://api.github.com/repos/cakephp/cakephp/comments{/number}","issue_comment_url":"https://api.github.com/repos/cakephp/cakephp/issues/comments{/number}","contents_url":"https://api.github.com/repos/cakephp/cakephp/contents/{+path}","compare_url":"https://api.github.com/repos/cakephp/cakephp/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cakephp/cakephp/merges","archive_url":"https://api.github.com/repos/cakephp/cakephp/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cakephp/cakephp/downloads","issues_url":"https://api.github.com/repos/cakephp/cakephp/issues{/number}","pulls_url":"https://api.github.com/repos/cakephp/cakephp/pulls{/number}","milestones_url":"https://api.github.com/repos/cakephp/cakephp/milestones{/number}","notifications_url":"https://api.github.com/repos/cakephp/cakephp/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cakephp/cakephp/labels{/name}","releases_url":"https://api.github.com/repos/cakephp/cakephp/releases{/id}","deployments_url":"https://api.github.com/repos/cakephp/cakephp/deployments","created_at":"2010-05-08T14:38:22Z","updated_at":"2025-11-09T12:19:18Z","pushed_at":"2025-11-09T04:04:01Z","git_url":"git://github.com/cakephp/cakephp.git","ssh_url":"git@github.com:cakephp/cakephp.git","clone_url":"https://github.com/cakephp/cakephp.git","svn_url":"https://github.com/cakephp/cakephp","homepage":"http://cakephp.org","size":114841,"stargazers_count":8765,"watchers_count":8765,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3394,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":25,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cakephp","form-builder","hacktoberfest","mvc","mvc-framework","orm","php","psr-7","rapid-development","rest-api","validation","web","web-framework"],"visibility":"public","forks":3394,"open_issues":25,"watchers":8765,"default_branch":"5.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/cakephp/cakephp/pulls/16563","html_url":"https://github.com/cakephp/cakephp/pull/16563","diff_url":"https://github.com/cakephp/cakephp/pull/16563.diff","patch_url":"https://github.com/cakephp/cakephp/pull/16563.patch","merged_at":"2022-06-13T15:16:36Z"},"body":"Fix incorrectly persisted data when a belongsToMany association foreignKey/bindingKey fields were modeled as complex types like datetime instances.\r\n\r\nThe strict comparison on the entire key data needed to be replaced with a more nuanced solution. At worst this code will operate in linear time, but I think that N will be <2 for the vast majority of applications. I've attempted to make the solution as efficient as possible and failures should only make one loop iteration.\r\n\r\nFixes #16562","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/16563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cakephp/cakephp/issues/16563/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6797043993,"node_id":"CE_lADOAAoEbs5Ll3DBzwAAAAGVIqkZ","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/6797043993","actor":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-06-13T15:16:36Z","state_reason":null,"performed_via_github_app":null}]