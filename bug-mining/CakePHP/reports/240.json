{"url":"https://api.github.com/repos/cakephp/cakephp/issues/16526","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/16526/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/16526/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/16526/events","html_url":"https://github.com/cakephp/cakephp/issues/16526","id":1251260197,"node_id":"I_kwDOAAoEbs5KlLcl","number":16526,"title":"Collection::__debugInfo() may cause fatal error \"__debuginfo() must return an array\"","user":{"login":"sheldonreiff","id":8636551,"node_id":"MDQ6VXNlcjg2MzY1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/8636551?v=4","gravatar_id":"","url":"https://api.github.com/users/sheldonreiff","html_url":"https://github.com/sheldonreiff","followers_url":"https://api.github.com/users/sheldonreiff/followers","following_url":"https://api.github.com/users/sheldonreiff/following{/other_user}","gists_url":"https://api.github.com/users/sheldonreiff/gists{/gist_id}","starred_url":"https://api.github.com/users/sheldonreiff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sheldonreiff/subscriptions","organizations_url":"https://api.github.com/users/sheldonreiff/orgs","repos_url":"https://api.github.com/users/sheldonreiff/repos","events_url":"https://api.github.com/users/sheldonreiff/events{/privacy}","received_events_url":"https://api.github.com/users/sheldonreiff/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/defect","name":"defect","color":"e50f2c","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/277","html_url":"https://github.com/cakephp/cakephp/milestone/277","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/277/labels","id":7979489,"node_id":"MI_kwDOAAoEbs4AecHh","number":277,"title":"4.3.10","description":"Bugfixes for 4.3.","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":11,"state":"closed","created_at":"2022-05-14T01:29:15Z","updated_at":"2022-06-05T23:42:14Z","due_on":"2022-06-03T07:00:00Z","closed_at":"2022-06-05T23:42:14Z"},"comments":2,"created_at":"2022-05-27T20:47:06Z","updated_at":"2022-05-30T03:10:33Z","closed_at":"2022-05-30T03:10:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\n`Collection::__debugInfo()` calls `$this->count()` which could throw an exception depending on usage. For example, if the iterator passed is an instance of `CallbackFilterIterator` like cake's `FilterIterator`, and the callback throws an exception, then calling  `Collection::__debugInfo()` will cause a fatal error \"__debuginfo() must return an array\" when the iterator is iterated to obtain the count. This was reported as a bug in PHP with https://bugs.php.net/bug.php?id=73067 and was fixed, but was later reverted according to the comments. It appears this remains an issue with PHP.\r\n\r\nThis is probably primarily an issue for xdebug users because xdebug calls `__debugInfo()` (similar to this chronos issue: https://github.com/cakephp/chronos/issues/164). I encountered this while using xdebug.\n\n### CakePHP Version\n\n4.3.8\n\n### PHP Version\n\n7.4.29,8.1.6","closed_by":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/16526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cakephp/cakephp/issues/16526/timeline","performed_via_github_app":null,"state_reason":"completed"}