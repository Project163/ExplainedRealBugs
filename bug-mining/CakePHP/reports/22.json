{"url":"https://api.github.com/repos/cakephp/cakephp/issues/10883","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/10883/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/10883/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/10883/events","html_url":"https://github.com/cakephp/cakephp/issues/10883","id":241451241,"node_id":"MDU6SXNzdWUyNDE0NTEyNDE=","number":10883,"title":"i18n causes problems in new Validator/ORM when used outside of framework","user":{"login":"Swader","id":1430603,"node_id":"MDQ6VXNlcjE0MzA2MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1430603?v=4","gravatar_id":"","url":"https://api.github.com/users/Swader","html_url":"https://github.com/Swader","followers_url":"https://api.github.com/users/Swader/followers","following_url":"https://api.github.com/users/Swader/following{/other_user}","gists_url":"https://api.github.com/users/Swader/gists{/gist_id}","starred_url":"https://api.github.com/users/Swader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Swader/subscriptions","organizations_url":"https://api.github.com/users/Swader/orgs","repos_url":"https://api.github.com/users/Swader/repos","events_url":"https://api.github.com/users/Swader/events{/privacy}","received_events_url":"https://api.github.com/users/Swader/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/defect","name":"defect","color":"e50f2c","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2017-07-08T13:45:05Z","updated_at":"2017-07-08T16:23:50Z","closed_at":"2017-07-08T15:35:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n\r\n* CakePHP Version: 3.4.9\r\n* Platform and Target: [Homestead Improved](http://www.sitepoint.com/quick-tip-get-homestead-vagrant-vm-running/) VM on OS X\r\n\r\n### What you did\r\nOnly using ORM. ORM seems to be requiring Validator, which now requires i18n (didn't before). i18n needs the `_cake_core_` cache config value (if Cache is installed, and it is), but has no defaults it uses if this value is not installed.\r\n\r\n### What happened\r\nAt this point, Cache crashes because it can't find this value.\r\n\r\n### What you expected to happen\r\nIgnore the absence of this value by using defaults, or don't pay attention to i18n at all since the app doesn't make use of it. Alternatively, make it easier to set config options for this in projects that don't use the framework but just some components.\r\n\r\nAdditional info:\r\n\r\n```\r\n[2017-07-08 14:14:03] ebay.ERROR: The \"_cake_core_\" cache configuration does not exist.    \r\n\r\n#0 /home/vagrant/Code/notify/vendor/cakephp/cache/Cache.php(183): Cake\\Cache\\Cache::_buildEngine('_cake_core_') \r\n#1 /home/vagrant/Code/notify/vendor/cakephp/i18n/I18n.php(79): Cake\\Cache\\Cache::engine('_cake_core_') \r\n#2 /home/vagrant/Code/notify/vendor/cakephp/i18n/I18n.php(138): Cake\\I18n\\I18n::translators() \r\n#3 /home/vagrant/Code/notify/vendor/cakephp/i18n/functions.php(88): Cake\\I18n\\I18n::translator('cake') \r\n#4 /home/vagrant/Code/notify/vendor/cakephp/validation/Validator.php(103): __d('cake', 'This field is r...') \r\n#5 /home/vagrant/Code/notify/vendor/cakephp/orm/Marshaller.php(245): Cake\\Validation\\Validator->errors(Array, true) \r\n#6 /home/vagrant/Code/notify/vendor/cakephp/orm/Marshaller.php(180): Cake\\ORM\\Marshaller->_validate(Array, Array, true) \r\n#7 /home/vagrant/Code/notify/vendor/cakephp/orm/Table.php(2412): Cake\\ORM\\Marshaller->one(Array, Array) \r\n#8 /home/vagrant/Code/notify/src/Model/Table/EbayNotificationLogTable.php(124): Cake\\ORM\\Table->newEntity(Array) \r\n#9 /home/vagrant/Code/notify/src/Model/Table/EbayNotificationLogTable.php(101): n1066\\Model\\Table\\EbayNotificationLogTable->logNew('<?xml version=\"...', 'NEW') \r\n#10 /home/vagrant/Code/notify/src/Controllers/Api/Ebay.php(116): n1066\\Model\\Table\\EbayNotificationLogTable->logToBacklog('<?xml version=\"...') \r\n#11 /home/vagrant/Code/notify/public/index.php(34): n1066\\Controllers\\Api\\Ebay->ebayLogger() \r\n#12 /home/vagrant/Code/notify/public/ebay_notify.php(3): require_once('/home/vagrant/C...') \r\n#13 {main} [] []\r\n\r\n\r\n```","closed_by":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/10883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cakephp/cakephp/issues/10883/timeline","performed_via_github_app":null,"state_reason":"completed"}