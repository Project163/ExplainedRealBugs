[{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546676551","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546676551","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546676551,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY3NjU1MQ==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T09:23:45Z","updated_at":"2019-10-27T09:24:04Z","body":"`AuthComponent` is [deprecated in 4.x](https://book.cakephp.org/4.0/en/appendices/4-0-migration-guide.html#component) and hence won't be getting any enhancements. You should look into the new [Authentication](https://github.com/cakephp/authentication/tree/2.x) lib instead.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546676551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2746533650,"node_id":"MDExOkNsb3NlZEV2ZW50Mjc0NjUzMzY1MA==","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746533650","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-27T09:23:45Z","state_reason":null,"performed_via_github_app":null},{"id":2746533901,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI3NDY1MzM5MDE=","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746533901","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-10-27T09:24:13Z","milestone":{"title":"4.0.0"},"performed_via_github_app":null},{"id":2746533976,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3NDY1MzM5NzY=","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746533976","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-10-27T09:24:20Z","label":{"name":"deprecations","color":"0e0566"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546677673","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546677673","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546677673,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY3NzY3Mw==","user":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T09:38:38Z","updated_at":"2019-10-27T09:38:38Z","body":"I am not asking for enhancement, this is bug and should be fixed.\r\nI know Auth component is deprecated, deprecated functions always work with warning but due to this bug it's not working","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546677673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546677930","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546677930","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546677930,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY3NzkzMA==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T09:42:01Z","updated_at":"2019-10-27T09:42:01Z","body":"Sorry for closing. I still don't understand the problem. Can you please provide example code which worked in 3.x but doesn't work in 4.x.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546677930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2746542167,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyNzQ2NTQyMTY3","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746542167","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2019-10-27T09:42:01Z","state_reason":null,"performed_via_github_app":null},{"id":2746546177,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50Mjc0NjU0NjE3Nw==","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746546177","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-10-27T09:51:25Z","label":{"name":"deprecations","color":"0e0566"},"performed_via_github_app":null},{"id":2746546178,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3NDY1NDYxNzg=","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746546178","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-10-27T09:51:25Z","label":{"name":"need-more-info","color":"eb6420"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546679151","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546679151","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546679151,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY3OTE1MQ==","user":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T09:58:29Z","updated_at":"2019-10-27T09:58:29Z","body":"Yes I can try to explain.\r\nI am working on plugin user management system. which also handles permission of controller's actions for guests and logged in users.\r\n\r\nSo in plugin's custom auth component in beforeFilter function I configured core Auth component this way\r\n```\r\nif(isset($this->controller->Auth)) {\r\n\t$this->controller->Auth->setConfig('authenticate', [\r\n\t\t'Usermgmt.Permission'\r\n\t]);\r\n\t\r\n\t$this->controller->Auth->setConfig('authorize', [\r\n\t\t'Usermgmt.Permission'\r\n\t]);\r\n\t\r\n\t$this->controller->Auth->setConfig('loginAction', [\r\n\t\t'controller'=>'Users',\r\n\t\t'action'=>'login',\r\n\t\t'plugin'=>'Usermgmt',\r\n\t\t'prefix'=>false\r\n\t]);\r\n\t\r\n\t$this->controller->Auth->setConfig('loginRedirect', LOGIN_REDIRECT_URL);\r\n\t$this->controller->Auth->setConfig('logoutRedirect', LOGOUT_REDIRECT_URL);\r\n}\r\nelse {\r\n\ttrigger_error(__('Cakephp Auth component not loaded, please load in AppController.'));\r\n\texit;\r\n}\r\n```\r\nand plugin I have PermissionAuthenticate.php (in plugins\\Usermgmt\\src\\Auth)\r\n```\r\npublic function unauthenticated(ServerRequest $request, Response $response) {\r\n\tif(guest do not have permission of currect action) {\r\n\t\t$this->controller->Auth->setConfig('authError', __('You need to be signed in to view that page.'));\r\n\t\treturn null;\r\n\t}\r\n\r\n\t//if permission is for guest then we return true.\r\n\treturn true;\r\n}\r\n```\r\nThis is working fine upto cakephp 3.8.x version but giving error in 4.0.0-beta4\r\n\r\n![Screenshot_2019-10-27 Error Return value of Cake Controller Component AuthComponent _unauthenticated() must be an instance ](https://user-images.githubusercontent.com/325154/67632796-613f4a80-f8ce-11e9-87bf-c37a5c887f99.png)\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546679151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546679646","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546679646","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546679646,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY3OTY0Ng==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T10:04:58Z","updated_at":"2019-10-27T10:04:58Z","body":"Even in 3.x `null` (or void) and `Response` are the only valid return values for `BaseAuthetication::unauthenticated()`.\r\n\r\nhttps://github.com/cakephp/cakephp/blob/181a1e6a2a15b9db59c40e6dfa2ca88cae18cfac/src/Auth/BaseAuthenticate.php#L237-L242\r\n\r\nSo returning a boolean is incorrect usage. It's just coincidence that things worked for you. Please update your code to return values as documented.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546679646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2746552221,"node_id":"MDExOkNsb3NlZEV2ZW50Mjc0NjU1MjIyMQ==","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746552221","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:04:58Z","state_reason":null,"performed_via_github_app":null},{"id":2746552329,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50Mjc0NjU1MjMyOQ==","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746552329","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:05:14Z","label":{"name":"need-more-info","color":"eb6420"},"performed_via_github_app":null},{"id":2746552330,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3NDY1NTIzMzA=","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746552330","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:05:14Z","label":{"name":"invalid","color":"e6e6e6"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546680692","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546680692","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546680692,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4MDY5Mg==","user":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T10:19:47Z","updated_at":"2019-10-27T10:21:26Z","body":"Sorry in 3.x it is working in 3.7.x I will test in 3.8.x as well.\r\nAuth component _unauthenticated() function expects either null or response interface object.\r\nIf null is returned then it redirects user to login page (as expected)\r\nIf response object is returned it show blank page. (do not render view)\r\n\r\nAlso please read this function commenting,\r\n\r\n> The authenticator can handle sending response or redirection as appropriate and **return `true`** to indicate no further action is necessary. \r\n\r\n /**\r\n     * Handles unauthenticated access attempt. First the `unauthenticated()` method\r\n     * of the last authenticator in the chain will be called. The authenticator can\r\n     * handle sending response or redirection as appropriate and **return `true`** to\r\n     * indicate no further action is necessary. If authenticator returns null this\r\n     * method redirects user to login action.\r\n     *\r\n     * @param \\Cake\\Controller\\Controller $controller A reference to the controller object.\r\n     * @return \\Cake\\Http\\Response|null Null if current action is login action\r\n     *   else response object returned by authenticate object or Controller::redirect().\r\n     * @throws \\Cake\\Core\\Exception\\Exception\r\n     */\r\nprotected function _unauthenticated(Controller $controller): ?Response\r\n{\r\n...\r\n}","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546680692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2746558797,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc0NjU1ODc5Nw==","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746558797","actor":{"login":"return","id":7050293,"node_id":"MDQ6VXNlcjcwNTAyOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7050293?v=4","gravatar_id":"","url":"https://api.github.com/users/return","html_url":"https://github.com/return","followers_url":"https://api.github.com/users/return/followers","following_url":"https://api.github.com/users/return/following{/other_user}","gists_url":"https://api.github.com/users/return/gists{/gist_id}","starred_url":"https://api.github.com/users/return/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/return/subscriptions","organizations_url":"https://api.github.com/users/return/orgs","repos_url":"https://api.github.com/users/return/repos","events_url":"https://api.github.com/users/return/events{/privacy}","received_events_url":"https://api.github.com/users/return/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:19:47Z","performed_via_github_app":null},{"id":2746558798,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NDY1NTg3OTg=","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746558798","actor":{"login":"return","id":7050293,"node_id":"MDQ6VXNlcjcwNTAyOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7050293?v=4","gravatar_id":"","url":"https://api.github.com/users/return","html_url":"https://github.com/return","followers_url":"https://api.github.com/users/return/followers","following_url":"https://api.github.com/users/return/following{/other_user}","gists_url":"https://api.github.com/users/return/gists{/gist_id}","starred_url":"https://api.github.com/users/return/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/return/subscriptions","organizations_url":"https://api.github.com/users/return/orgs","repos_url":"https://api.github.com/users/return/repos","events_url":"https://api.github.com/users/return/events{/privacy}","received_events_url":"https://api.github.com/users/return/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:19:47Z","performed_via_github_app":null},{"id":2746558799,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc0NjU1ODc5OQ==","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746558799","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:19:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546681260","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546681260","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546681260,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4MTI2MA==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T10:27:48Z","updated_at":"2019-10-27T10:30:35Z","body":"It seems the docblock for `AuthComponent::_unauthenticated()` is incorrect. There's no actual check for return value of `true` just whether the value is not `null`.\r\n\r\nHave you tried simply removing the `return true;` from your `PermissionAuthenticate::unauthenticated()`? I believe things should keep working the same for you.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546681260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2746562206,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyNzQ2NTYyMjA2","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746562206","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:27:51Z","state_reason":null,"performed_via_github_app":null},{"id":2746562261,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50Mjc0NjU2MjI2MQ==","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746562261","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:28:01Z","label":{"name":"invalid","color":"e6e6e6"},"performed_via_github_app":null},{"id":2746562262,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3NDY1NjIyNjI=","url":"https://api.github.com/repos/cakephp/cakephp/issues/events/2746562262","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-10-27T10:28:01Z","label":{"name":"documentation","color":"FFFFFF"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546681508","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546681508","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546681508,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4MTUwOA==","user":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T10:31:05Z","updated_at":"2019-10-27T10:31:05Z","body":"Yes tried to remove return true. behaving same as null. redirecting to login page","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546681508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546681619","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546681619","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546681619,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4MTYxOQ==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T10:32:42Z","updated_at":"2019-10-27T10:34:40Z","body":"Great. So just the docblock of  `AuthComponent::_unauthenticated()` needs to be fixed :slightly_smiling_face:.  \r\n\r\nWould you like to submit a fix for it for 3.x (`master` branch)?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546681619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546683181","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546683181","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546683181,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4MzE4MQ==","user":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T10:55:00Z","updated_at":"2019-10-27T11:12:32Z","body":"for your information I just upgraded cakephp 3.x upto 3.8.5 and plugin PermissionAuthenticate::unauthenticated() function is returning true and working fine.\r\n\r\nI request you to look into issue in 4.0.0-beta4\r\n\r\nAuthComponent::_unauthenticated() should accept return boolean value or change code to render current action view page, which is currently showing blank page.\r\n\r\nI tried to remove function return type from these 3 functions in Auth component.\r\nstartup()\r\nauthCheck()\r\n_unauthenticated()\r\n\r\nthen it is working fine in 4.0.0-beta4.\r\n\r\nwhat do you say ?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546683181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546686030","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546686030","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546686030,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4NjAzMA==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T11:36:30Z","updated_at":"2019-10-27T11:36:30Z","body":"You lost me again. In your previous comment you said:\r\n\r\n> Yes tried to remove return true. behaving same as null\r\n\r\nSo if returning `null` behaves same as returning `true` why can't you just remove the `return true`?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546686030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546686465","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546686465","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546686465,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4NjQ2NQ==","user":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T11:43:22Z","updated_at":"2019-10-27T11:43:22Z","body":"Sorry for confusion, let me explain again\r\nPermissionAuthenticate::unauthenticated() \r\n\r\n```\r\npublic function unauthenticated(ServerRequest $request, Response $response) {\r\n      if(guest do not have permission of currect action) {\r\n\t\t$this->controller->Auth->setConfig('authError', __('You need to be signed in to view that page.'));\r\n\t\treturn null;\r\n\t} else {\r\n\t    //if permission is for guest then we return true.\r\n\t    return true;\r\n       }\r\n}\r\n```\r\n\r\nIn above function we have 3 options as return value\r\n1. null //which for redirecting user to login page\r\n2. true //which is for rending current action view page (which is not working as of now in 4.x but working in 3.8.5)\r\n3. Response Object //which is showing/rendering blank page.\r\n\r\nI request you to look into issue in 4.0.0-beta4\r\n\r\nAuthComponent::_unauthenticated() should accept return boolean value or change code to render current action view page, which is currently showing blank page.\r\n\r\nI tried to remove function return type from these 3 functions in Auth component.\r\nstartup()\r\nauthCheck()\r\n_unauthenticated()\r\n\r\nthen it is working fine in 4.0.0-beta4.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546686465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546686908","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546686908","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546686908,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4NjkwOA==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T11:50:34Z","updated_at":"2019-10-27T11:50:34Z","body":"Returning `true` from `PermissionAuthenticate::unauthenticated()` is simply wrong even in 3.x. You were mislead by docblock of `AutheComponent::_unauthenticated()` which incorrectly claims the authenticator can return true.\r\n\r\nFor you 3.x and as well as 4.x app code change your `PermissionAuthenticate::unauthenticated()` method to not return `true`:\r\n\r\n```php\r\npublic function unauthenticated(ServerRequest $request, Response $response) {\r\n      if (guest do not have permission of currect action) {\r\n\t\t$this->controller->Auth->setConfig('authError', __('You need to be signed in to view that page.'));\r\n      }\r\n}\r\n```\r\n ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546686908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546687705","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546687705","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546687705,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4NzcwNQ==","user":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T12:01:30Z","updated_at":"2019-10-27T12:01:30Z","body":"I agree we should not return boolean value. then what is the solution ?\r\nwe should return some value to AutheComponent::_unauthenticated() function, to tell whether user has permission to view current action or not.\r\n\r\nIf we are not returning anything like you suggested, it redirecting user to login page in both cases (has permission or has not permission).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546687705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chetanvarshney","id":325154,"node_id":"MDQ6VXNlcjMyNTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/325154?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanvarshney","html_url":"https://github.com/chetanvarshney","followers_url":"https://api.github.com/users/chetanvarshney/followers","following_url":"https://api.github.com/users/chetanvarshney/following{/other_user}","gists_url":"https://api.github.com/users/chetanvarshney/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanvarshney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanvarshney/subscriptions","organizations_url":"https://api.github.com/users/chetanvarshney/orgs","repos_url":"https://api.github.com/users/chetanvarshney/repos","events_url":"https://api.github.com/users/chetanvarshney/events{/privacy}","received_events_url":"https://api.github.com/users/chetanvarshney/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546687805","html_url":"https://github.com/cakephp/cakephp/issues/13807#issuecomment-546687805","issue_url":"https://api.github.com/repos/cakephp/cakephp/issues/13807","id":546687805,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjY4NzgwNQ==","user":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T12:02:58Z","updated_at":"2019-10-27T12:02:58Z","body":"I think I finally understand your use case. You neither want to return a response nor redirect to login page. You just want to let the normal page rendering to continue where the `authError` message you set will be shown, right?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/comments/546687805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ADmad","id":142658,"node_id":"MDQ6VXNlcjE0MjY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/142658?v=4","gravatar_id":"","url":"https://api.github.com/users/ADmad","html_url":"https://github.com/ADmad","followers_url":"https://api.github.com/users/ADmad/followers","following_url":"https://api.github.com/users/ADmad/following{/other_user}","gists_url":"https://api.github.com/users/ADmad/gists{/gist_id}","starred_url":"https://api.github.com/users/ADmad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ADmad/subscriptions","organizations_url":"https://api.github.com/users/ADmad/orgs","repos_url":"https://api.github.com/users/ADmad/repos","events_url":"https://api.github.com/users/ADmad/events{/privacy}","received_events_url":"https://api.github.com/users/ADmad/received_events","type":"User","user_view_type":"public","site_admin":false}}]