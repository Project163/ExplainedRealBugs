{"url":"https://api.github.com/repos/cakephp/cakephp/issues/13087","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/13087/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/13087/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/13087/events","html_url":"https://github.com/cakephp/cakephp/issues/13087","id":428618339,"node_id":"MDU6SXNzdWU0Mjg2MTgzMzk=","number":13087,"title":"Use DateTimeInterface for withModified transformation in Response","user":{"login":"dorxy","id":9029712,"node_id":"MDQ6VXNlcjkwMjk3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/9029712?v=4","gravatar_id":"","url":"https://api.github.com/users/dorxy","html_url":"https://github.com/dorxy","followers_url":"https://api.github.com/users/dorxy/followers","following_url":"https://api.github.com/users/dorxy/following{/other_user}","gists_url":"https://api.github.com/users/dorxy/gists{/gist_id}","starred_url":"https://api.github.com/users/dorxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dorxy/subscriptions","organizations_url":"https://api.github.com/users/dorxy/orgs","repos_url":"https://api.github.com/users/dorxy/repos","events_url":"https://api.github.com/users/dorxy/events{/privacy}","received_events_url":"https://api.github.com/users/dorxy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/defect","name":"defect","color":"e50f2c","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/195","html_url":"https://github.com/cakephp/cakephp/milestone/195","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/195/labels","id":4215770,"node_id":"MDk6TWlsZXN0b25lNDIxNTc3MA==","number":195,"title":"3.7.7","description":"Bugfixes for 3.7","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":16,"state":"closed","created_at":"2019-04-10T01:13:48Z","updated_at":"2019-04-24T17:28:53Z","due_on":"2019-05-03T07:00:00Z","closed_at":"2019-04-24T17:28:53Z"},"comments":2,"created_at":"2019-04-03T07:58:56Z","updated_at":"2019-04-17T01:18:13Z","closed_at":"2019-04-17T01:18:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n### What you did\r\nI return a response `$response->withModified($myEntity->modified)`.\r\nMy locale was set to `de_DE`, and the modified property is a FrozenTime object. \r\n\r\n### What happened\r\nThe `_getUTCDate` function in Response.php will check if the object given is an instance of DateTime, which FrozenTime is not. It will fallback to creating a new DateTime object, using toString of the original FrozenTimeobject, and it tries to resolve 'dd.mm.yy, HH:ii' (the default german format) which fails.\r\n\r\n### What you expected to happen\r\nI expect `_getUTCDate` to handle DateTimeInterface instead of DateTime, allowing for support of FrozenTime and other objects which to not extend DateTime but do implement the interface which should be sufficient for conversion to the UTC timezone.","closed_by":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/13087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cakephp/cakephp/issues/13087/timeline","performed_via_github_app":null,"state_reason":"completed"}