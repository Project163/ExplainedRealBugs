{"url":"https://api.github.com/repos/cakephp/cakephp/issues/14169","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/14169/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/14169/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/14169/events","html_url":"https://github.com/cakephp/cakephp/issues/14169","id":549652576,"node_id":"MDU6SXNzdWU1NDk2NTI1NzY=","number":14169,"title":"4.x: Object of class Cake\\I18n\\FrozenDate could not be converted to int [CORE\\src\\View\\Widget\\YearWidget.php, line 85]","user":{"login":"Fluit","id":4445298,"node_id":"MDQ6VXNlcjQ0NDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/4445298?v=4","gravatar_id":"","url":"https://api.github.com/users/Fluit","html_url":"https://github.com/Fluit","followers_url":"https://api.github.com/users/Fluit/followers","following_url":"https://api.github.com/users/Fluit/following{/other_user}","gists_url":"https://api.github.com/users/Fluit/gists{/gist_id}","starred_url":"https://api.github.com/users/Fluit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fluit/subscriptions","organizations_url":"https://api.github.com/users/Fluit/orgs","repos_url":"https://api.github.com/users/Fluit/repos","events_url":"https://api.github.com/users/Fluit/events{/privacy}","received_events_url":"https://api.github.com/users/Fluit/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/defect","name":"defect","color":"e50f2c","default":false,"description":""},{"id":83815377,"node_id":"MDU6TGFiZWw4MzgxNTM3Nw==","url":"https://api.github.com/repos/cakephp/cakephp/labels/helpers","name":"helpers","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/215","html_url":"https://github.com/cakephp/cakephp/milestone/215","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/215/labels","id":4996962,"node_id":"MDk6TWlsZXN0b25lNDk5Njk2Mg==","number":215,"title":"4.0.3","description":"Bugfixes for 4.0","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":28,"state":"closed","created_at":"2020-01-12T03:06:06Z","updated_at":"2020-01-26T02:48:35Z","due_on":"2020-01-25T08:00:00Z","closed_at":"2020-01-26T02:48:35Z"},"comments":4,"created_at":"2020-01-14T15:44:48Z","updated_at":"2020-01-18T03:19:21Z","closed_at":"2020-01-18T03:19:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 4.0.1.\r\n* Platform and Target: Apache/2.4.37 (Win32) OpenSSL/1.0.2p PHP/7.3.9\r\n\r\n### What you did\r\nI created a form-control: \r\n```php\r\n$this->Form->control('bouwjaar', [\r\n                'label' => __('Bouwjaar'),\r\n                'help' => __('het jaar waarin het CE attest is uitgegeven'),\r\n                'type' => 'Year',\r\n                'default' => date('Y'),\r\n                'dateFormat' => 'YMD'\r\n                ])\r\n```\r\nThe value for this control: `2018-01-01`\r\n\r\n### What happened\r\nThe selectcontrol isn't rendered well:\r\n- no selection of items as described in cookbook.\r\n- no return of the value.\r\n\r\nresult:\r\n\r\n```html\r\n<div class=\"form-group row Year\"><label class=\"col-form-label col-sm-6 col-md-4 col-lg-6\" for=\"bouwjaar\">Bouwjaar</label><div class=\"col-sm-6 col-md-4 col-lg-12\"><select name=\"bouwjaar\" class=\"form-control\" id=\"bouwjaar\"><option value=\"\"></option><option value=\"2025\">2025</option><option value=\"2024\">2024</option><option value=\"2023\">2023</option><option value=\"2022\">2022</option><option value=\"2021\">2021</option><option value=\"2020\">2020</option><option value=\"2019\">2019</option><option value=\"2018\">2018</option><option value=\"2017\">2017</option><option value=\"2016\">2016</option><option value=\"2015\">2015</option><option value=\"2014\">2014</option><option value=\"2013\">2013</option><option value=\"2012\">2012</option><option value=\"2011\">2011</option><option value=\"2010\">2010</option><option value=\"2009\">2009</option><option value=\"2008\">2008</option><option value=\"2007\">2007</option><option value=\"2006\">2006</option><option value=\"2005\">2005</option><option value=\"2004\">2004</option><option value=\"2003\">2003</option><option value=\"2002\">2002</option><option value=\"2001\">2001</option><option value=\"2000\">2000</option><option value=\"1999\">1999</option><option value=\"1998\">1998</option><option value=\"1997\">1997</option><option value=\"1996\">1996</option><option value=\"1995\">1995</option><option value=\"1994\">1994</option><option value=\"1993\">1993</option><option value=\"1992\">1992</option><option value=\"1991\">1991</option><option value=\"1990\">1990</option><option value=\"1989\">1989</option><option value=\"1988\">1988</option><option value=\"1987\">1987</option><option value=\"1986\">1986</option><option value=\"1985\">1985</option><option value=\"1984\">1984</option><option value=\"1983\">1983</option><option value=\"1982\">1982</option><option value=\"1981\">1981</option><option value=\"1980\">1980</option><option value=\"1979\">1979</option><option value=\"1978\">1978</option><option value=\"1977\">1977</option><option value=\"1976\">1976</option><option value=\"1975\">1975</option><option value=\"1974\">1974</option><option value=\"1973\">1973</option><option value=\"1972\">1972</option><option value=\"1971\">1971</option><option value=\"1970\">1970</option><option value=\"1969\">1969</option><option value=\"1968\">1968</option><option value=\"1967\">1967</option><option value=\"1966\">1966</option><option value=\"1965\">1965</option><option value=\"1964\">1964</option><option value=\"1963\">1963</option><option value=\"1962\">1962</option><option value=\"1961\">1961</option><option value=\"1960\">1960</option><option value=\"1959\">1959</option><option value=\"1958\">1958</option><option value=\"1957\">1957</option><option value=\"1956\">1956</option>...<option value=\"30\">30</option><option value=\"29\">29</option><option value=\"28\">28</option><option value=\"27\">27</option><option value=\"26\">26</option><option value=\"25\">25</option><option value=\"24\">24</option><option value=\"23\">23</option><option value=\"22\">22</option><option value=\"21\">21</option><option value=\"20\">20</option><option value=\"19\">19</option><option value=\"18\">18</option><option value=\"17\">17</option><option value=\"16\">16</option><option value=\"15\">15</option><option value=\"14\">14</option><option value=\"13\">13</option><option value=\"12\">12</option><option value=\"11\">11</option><option value=\"10\">10</option><option value=\"9\">9</option><option value=\"8\">8</option><option value=\"7\">7</option><option value=\"6\">6</option><option value=\"5\">5</option><option value=\"4\">4</option><option value=\"3\">3</option><option value=\"2\">2</option><option value=\"1\">1</option></select><small class=\"form-text text-muted\">het jaar waarin het CE attest is uitgegeven</small></div></div>\r\n```\r\n\r\n**debug message:**\r\n```php\r\nNotice (8): Object of class Cake\\I18n\\FrozenDate could not be converted to int [CORE\\src\\View\\Widget\\YearWidget.php, line 85]\r\nCode Context\r\nDebugKit\\Plugin::DebugKit\\{closure}() - ROOT\\vendor\\cakephp\\debug_kit\\src\\Plugin.php, line 92\r\nCake\\View\\Widget\\YearWidget::render() - CORE\\src\\View\\Widget\\YearWidget.php, line 85\r\nCake\\View\\Helper\\FormHelper::widget() - CORE\\src\\View\\Helper\\FormHelper.php, line 2436\r\nCake\\View\\Helper\\FormHelper::year() - CORE\\src\\View\\Helper\\FormHelper.php, line 2128\r\nCake\\View\\Helper\\FormHelper::_getInput() - CORE\\src\\View\\Helper\\FormHelper.php, line 1182\r\nBootstrapUI\\View\\Helper\\FormHelper::_getInput() - ROOT\\vendor\\friendsofcake\\bootstrap-ui\\src\\View\\Helper\\FormHelper.php, line 688\r\nCake\\View\\Helper\\FormHelper::control() - CORE\\src\\View\\Helper\\FormHelper.php, line 1083\r\nBootstrapUI\\View\\Helper\\FormHelper::control() - ROOT\\vendor\\friendsofcake\\bootstrap-ui\\src\\View\\Helper\\FormHelper.php, line 505\r\ninclude - ROOT\\templates\\Machines\\edit.php, line 187\r\nCake\\View\\View::_evaluate() - CORE\\src\\View\\View.php, line 1164\r\nCake\\View\\View::_render() - CORE\\src\\View\\View.php, line 1125\r\nCake\\View\\View::render() - CORE\\src\\View\\View.php, line 750\r\nCake\\Controller\\Controller::render() - CORE\\src\\Controller\\Controller.php, line 691\r\nCake\\Controller\\Controller::invokeAction() - CORE\\src\\Controller\\Controller.php, line 533\r\nCake\\Controller\\ControllerFactory::invoke() - CORE\\src\\Controller\\ControllerFactory.php, line 79\r\nCake\\Http\\BaseApplication::handle() - CORE\\src\\Http\\BaseApplication.php, line 229\r\nCake\\Http\\Runner::handle() - CORE\\src\\Http\\Runner.php, line 77\r\n```\r\n\r\n### What you expected to happen\r\n- no message\r\n- well rendered control-element\r\n\r\n","closed_by":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/14169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cakephp/cakephp/issues/14169/timeline","performed_via_github_app":null,"state_reason":"completed"}