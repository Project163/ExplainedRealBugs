{"url":"https://api.github.com/repos/cakephp/cakephp/issues/14381","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/14381/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/14381/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/14381/events","html_url":"https://github.com/cakephp/cakephp/issues/14381","id":585581912,"node_id":"MDU6SXNzdWU1ODU1ODE5MTI=","number":14381,"title":"BinaryUUIDs shouldnt be logged in binary","user":{"login":"dereuromark","id":39854,"node_id":"MDQ6VXNlcjM5ODU0","avatar_url":"https://avatars.githubusercontent.com/u/39854?v=4","gravatar_id":"","url":"https://api.github.com/users/dereuromark","html_url":"https://github.com/dereuromark","followers_url":"https://api.github.com/users/dereuromark/followers","following_url":"https://api.github.com/users/dereuromark/following{/other_user}","gists_url":"https://api.github.com/users/dereuromark/gists{/gist_id}","starred_url":"https://api.github.com/users/dereuromark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dereuromark/subscriptions","organizations_url":"https://api.github.com/users/dereuromark/orgs","repos_url":"https://api.github.com/users/dereuromark/repos","events_url":"https://api.github.com/users/dereuromark/events{/privacy}","received_events_url":"https://api.github.com/users/dereuromark/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/defect","name":"defect","color":"e50f2c","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/220","html_url":"https://github.com/cakephp/cakephp/milestone/220","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/220/labels","id":5130891,"node_id":"MDk6TWlsZXN0b25lNTEzMDg5MQ==","number":220,"title":"4.0.5","description":"Bug fixes for 4.0.","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2020-02-22T02:26:15Z","updated_at":"2020-03-29T01:41:48Z","due_on":"2020-03-27T07:00:00Z","closed_at":"2020-03-29T01:41:48Z"},"comments":0,"created_at":"2020-03-21T20:49:43Z","updated_at":"2020-03-25T09:37:37Z","closed_at":"2020-03-25T09:37:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [x] enhancement\r\n\r\n* CakePHP Version: master\r\n\r\n### What you did\r\n\r\nWorking with binary-16 UUID (type `binaryuuid`) columns in a Cake4 app.\r\n\r\n### What happened\r\n\r\n![image](https://user-images.githubusercontent.com/39854/77236275-6ecad900-6bbd-11ea-9db0-4ebead146ed3.png)\r\n\r\nDebugKit cannot display/format the value.\r\nThe value is missing (or hidden in output) and it is hard to retrieve in some cases the exact value here, especially when dynamically fetched and added to another query.\r\n\r\nIf you debug the array logged, you will find the value to be there, but as a binary string\r\n'÷¬\\x01#©8N€„\\x0Eïè’\\x05\\x132' inside the queries log array:\r\n```\r\n^ array:4 [▼\r\n  0 => array:3 [▼\r\n    \"query\" => b\"duration=1 rows=1 SELECT ... FROM `exposed_users` `ExposedUsers` WHERE `ExposedUsers`.`uuid` = '÷¬\\x01#©8N€„\\x0Eïè’\\x05\\x132' ORDER BY `ExposedUsers`.`name` ASC LIMIT 1 ◀\"\r\n    \"took\" => 1\r\n    \"rows\" => 1\r\n  ]\r\n```\r\n\r\n### What you expected to happen\r\nWhen logging away queries with binaryuuid I think it is best to use the non-binary form here.\r\nAs it seems the info \"uuid\" is not passed along with it, making it harder later in DebugKit or other tools to make this byte string visible again with the proper scope/conversion applied.\r\nAnd mixing binary and normal text in log files is also not a good idea IMO.\r\n\r\n","closed_by":{"login":"othercorey","id":24221186,"node_id":"MDQ6VXNlcjI0MjIxMTg2","avatar_url":"https://avatars.githubusercontent.com/u/24221186?v=4","gravatar_id":"","url":"https://api.github.com/users/othercorey","html_url":"https://github.com/othercorey","followers_url":"https://api.github.com/users/othercorey/followers","following_url":"https://api.github.com/users/othercorey/following{/other_user}","gists_url":"https://api.github.com/users/othercorey/gists{/gist_id}","starred_url":"https://api.github.com/users/othercorey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/othercorey/subscriptions","organizations_url":"https://api.github.com/users/othercorey/orgs","repos_url":"https://api.github.com/users/othercorey/repos","events_url":"https://api.github.com/users/othercorey/events{/privacy}","received_events_url":"https://api.github.com/users/othercorey/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cakephp/cakephp/issues/14381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cakephp/cakephp/issues/14381/timeline","performed_via_github_app":null,"state_reason":"completed"}