diff --git a/src/Validation/Validator.php b/src/Validation/Validator.php
index bef4a31e42..15bcb88686 100644
--- a/src/Validation/Validator.php
+++ b/src/Validation/Validator.php
@@ -317,10 +317,18 @@ class Validator implements ArrayAccess, IteratorAggregate, Countable
      *
      * @param string $name The name under which the provider should be set.
      * @param object|string $object Provider object or class name.
+     * @psalm-param object|class-string $object
      * @return $this
      */
     public function setProvider(string $name, $object)
     {
+        if (!is_string($object) && !is_object($object)) {
+            deprecationWarning(sprintf(
+                'The provider must be an object or class name string. Got `%s` instead.',
+                getTypeName($object)
+            ));
+        }
+
         $this->_providers[$name] = $object;
 
         return $this;
@@ -331,6 +339,7 @@ class Validator implements ArrayAccess, IteratorAggregate, Countable
      *
      * @param string $name The name under which the provider should be set.
      * @return object|string|null
+     * @psalm-return object|class-string|null
      */
     public function getProvider(string $name)
     {
@@ -351,6 +360,7 @@ class Validator implements ArrayAccess, IteratorAggregate, Countable
      *
      * @param string $name The name under which the provider should be retrieved.
      * @return object|string|null
+     * @psalm-return object|class-string|null
      */
     public static function getDefaultProvider(string $name)
     {
@@ -362,10 +372,18 @@ class Validator implements ArrayAccess, IteratorAggregate, Countable
      *
      * @param string $name The name under which the provider should be set.
      * @param object|string $object Provider object or class name.
+     * @psalm-param object|class-string $object
      * @return void
      */
     public static function addDefaultProvider(string $name, $object): void
     {
+        if (!is_string($object) && !is_object($object)) {
+            deprecationWarning(sprintf(
+                'The provider must be an object or class name string. Got `%s` instead.',
+                getTypeName($object)
+            ));
+        }
+
         self::$_defaultProviders[$name] = $object;
     }
 
diff --git a/src/View/Form/EntityContext.php b/src/View/Form/EntityContext.php
index 25159d6a68..191ca19439 100644
--- a/src/View/Form/EntityContext.php
+++ b/src/View/Form/EntityContext.php
@@ -598,8 +598,9 @@ class EntityContext implements ContextInterface
         $entity = $this->entity($parts) ?: null;
 
         if (isset($this->_validator[$key])) {
-            /** @psalm-suppress PossiblyInvalidArgument */
-            $this->_validator[$key]->setProvider('entity', $entity);
+            if (is_object($entity)) {
+                $this->_validator[$key]->setProvider('entity', $entity);
+            }
 
             return $this->_validator[$key];
         }
@@ -618,8 +619,10 @@ class EntityContext implements ContextInterface
         }
 
         $validator = $table->getValidator($method);
-        /** @psalm-suppress PossiblyInvalidArgument */
-        $validator->setProvider('entity', $entity);
+
+        if (is_object($entity)) {
+            $validator->setProvider('entity', $entity);
+        }
 
         return $this->_validator[$key] = $validator;
     }
diff --git a/tests/TestCase/Validation/ValidatorTest.php b/tests/TestCase/Validation/ValidatorTest.php
index b6cb25a183..a43cd2c88d 100644
--- a/tests/TestCase/Validation/ValidatorTest.php
+++ b/tests/TestCase/Validation/ValidatorTest.php
@@ -1791,6 +1791,15 @@ class ValidatorTest extends TestCase
         $this->assertEquals(new \Cake\Validation\RulesProvider(), $validator->getProvider('default'));
     }
 
+    public function testProviderWarning()
+    {
+        $this->expectError();
+        $this->expectErrorMessage('The provider must be an object or class name string. Got `array` instead.');
+
+        $validator = new Validator();
+        $validator->setProvider('test', []);
+    }
+
     /**
      * Tests validate() method when using validators from the default provider, this proves
      * that it returns a default validation message and the custom one set in the rule
