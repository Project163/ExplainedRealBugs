diff --git a/phpstan-baseline.neon b/phpstan-baseline.neon
index c056875baa..7dace94eaf 100644
--- a/phpstan-baseline.neon
+++ b/phpstan-baseline.neon
@@ -391,11 +391,6 @@ parameters:
 			count: 1
 			path: src/Mailer/Email.php
 
-		-
-			message: "#^Parameter \\#2 \\$callback of function array_filter expects callable\\(mixed, mixed\\)\\: bool, 'strlen' given\\.$#"
-			count: 1
-			path: src/ORM/Association/BelongsToMany.php
-
 		-
 			message: "#^Unsafe usage of new static\\(\\)\\.$#"
 			count: 2
@@ -406,21 +401,11 @@ parameters:
 			count: 1
 			path: src/ORM/Marshaller.php
 
-		-
-			message: "#^Parameter \\#2 \\$callback of function array_filter expects callable\\(mixed, mixed\\)\\: bool, 'strlen' given\\.$#"
-			count: 1
-			path: src/ORM/Marshaller.php
-
 		-
 			message: "#^Parameter \\#2 \\$assoc of method Cake\\\\ORM\\\\Marshaller\\:\\:_mergeBelongsToMany\\(\\) expects Cake\\\\ORM\\\\Association\\\\BelongsToMany, Cake\\\\ORM\\\\Association given\\.$#"
 			count: 1
 			path: src/ORM/Marshaller.php
 
-		-
-			message: "#^Parameter \\#2 \\$callback of function array_filter expects callable\\(mixed, mixed\\)\\: bool, 'strlen' given\\.$#"
-			count: 1
-			path: src/ORM/Rule/IsUnique.php
-
 		-
 			message: "#^Parameter \\#1 \\$request of static method Cake\\\\Routing\\\\Router\\:\\:setRequest\\(\\) expects Cake\\\\Http\\\\ServerRequest, Psr\\\\Http\\\\Message\\\\ServerRequestInterface given\\.$#"
 			count: 1
diff --git a/src/ORM/Association/BelongsToMany.php b/src/ORM/Association/BelongsToMany.php
index 26db5bba0a..de966b52d9 100644
--- a/src/ORM/Association/BelongsToMany.php
+++ b/src/ORM/Association/BelongsToMany.php
@@ -25,6 +25,7 @@ use Cake\ORM\Association;
 use Cake\ORM\Association\Loader\SelectWithPivotLoader;
 use Cake\ORM\Query;
 use Cake\ORM\Table;
+use Cake\Utility\Hash;
 use Cake\Utility\Inflector;
 use Closure;
 use InvalidArgumentException;
@@ -1168,7 +1169,7 @@ class BelongsToMany extends Association
         $bindingKey = (array)$this->getBindingKey();
         $primaryValue = $sourceEntity->extract($bindingKey);
 
-        if (count(array_filter($primaryValue, 'strlen')) !== count($bindingKey)) {
+        if (count(Hash::filter($primaryValue)) !== count($bindingKey)) {
             $message = 'Could not find primary key value for source entity';
             throw new InvalidArgumentException($message);
         }
diff --git a/src/ORM/Marshaller.php b/src/ORM/Marshaller.php
index 17b98fa43f..6d73e0c650 100644
--- a/src/ORM/Marshaller.php
+++ b/src/ORM/Marshaller.php
@@ -23,6 +23,7 @@ use Cake\Database\TypeFactory;
 use Cake\Datasource\EntityInterface;
 use Cake\Datasource\InvalidPropertyInterface;
 use Cake\ORM\Association\BelongsToMany;
+use Cake\Utility\Hash;
 use InvalidArgumentException;
 use RuntimeException;
 
@@ -698,7 +699,7 @@ class Marshaller
                 return explode(';', (string)$key);
             })
             ->filter(function ($keys) use ($primary) {
-                return count(array_filter($keys, 'strlen')) === count($primary);
+                return count(Hash::filter($keys)) === count($primary);
             })
             ->reduce(function ($conditions, $keys) use ($primary) {
                 $fields = array_map([$this->_table, 'aliasField'], $primary);
diff --git a/src/ORM/Rule/IsUnique.php b/src/ORM/Rule/IsUnique.php
index 24cfeae053..5382252a2f 100644
--- a/src/ORM/Rule/IsUnique.php
+++ b/src/ORM/Rule/IsUnique.php
@@ -17,6 +17,7 @@ declare(strict_types=1);
 namespace Cake\ORM\Rule;
 
 use Cake\Datasource\EntityInterface;
+use Cake\Utility\Hash;
 
 /**
  * Checks that a list of fields from an entity are unique in the table
@@ -79,7 +80,7 @@ class IsUnique
         if ($entity->isNew() === false) {
             $keys = (array)$options['repository']->getPrimaryKey();
             $keys = $this->_alias($alias, $entity->extract($keys));
-            if (array_filter($keys, 'strlen')) {
+            if (Hash::filter($keys)) {
                 $conditions['NOT'] = $keys;
             }
         }
