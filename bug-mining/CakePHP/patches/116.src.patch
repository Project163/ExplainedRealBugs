diff --git a/src/Validation/Validation.php b/src/Validation/Validation.php
index 61832baca0..4c575d3786 100644
--- a/src/Validation/Validation.php
+++ b/src/Validation/Validation.php
@@ -435,7 +435,7 @@ class Validation
      */
     public static function compareFields($check, $field, $operator, $context)
     {
-        if (!isset($context['data'][$field])) {
+        if (!isset($context['data']) || !array_key_exists($field, $context['data'])) {
             return false;
         }
 
diff --git a/tests/TestCase/Validation/ValidationTest.php b/tests/TestCase/Validation/ValidationTest.php
index cdffaaffeb..2c1c9a965e 100644
--- a/tests/TestCase/Validation/ValidationTest.php
+++ b/tests/TestCase/Validation/ValidationTest.php
@@ -2863,21 +2863,25 @@ class ValidationTest extends TestCase
     public function testCompareFieldsEqualTo()
     {
         $context = [
-            'data' => [
-                'other' => 'a value'
-            ]
+            'data' => ['other' => 'a value'],
         ];
         $this->assertTrue(Validation::compareFields('a value', 'other', Validation::COMPARE_EQUAL, $context));
 
         $context = [
-            'data' => [
-                'other' => 'different'
-            ]
+            'data' => ['other' => 'different'],
         ];
         $this->assertFalse(Validation::compareFields('a value', 'other', Validation::COMPARE_EQUAL, $context));
 
         $context = [];
         $this->assertFalse(Validation::compareFields('a value', 'other', Validation::COMPARE_EQUAL, $context));
+
+        $context = [
+            'data' => ['other' => null],
+        ];
+        $this->assertFalse(Validation::compareFields('a value', 'other', Validation::COMPARE_EQUAL, $context));
+        $this->assertFalse(Validation::compareFields(false, 'other', Validation::COMPARE_SAME, $context));
+        $this->assertTrue(Validation::compareFields(false, 'other', Validation::COMPARE_EQUAL, $context));
+        $this->assertTrue(Validation::compareFields(null, 'other', Validation::COMPARE_SAME, $context));
     }
 
     /**
