diff --git a/README.md b/README.md
index f8482f8..20d3b40 100644
--- a/README.md
+++ b/README.md
@@ -8,6 +8,7 @@ JMH benchmark for the popular Java template engines:
 * Pebble
 * Thymeleaf
 * Velocity
+* Trimou
 
 Running the benchmark
 ======================
@@ -30,7 +31,7 @@ To strive for a common set of features across template engines, the following co
 
 Interpreting the Results
 ========================
-The benchmarks measure throughput, given in "ops/time". The time unit used is seconds. 
+The benchmarks measure throughput, given in "ops/time". The time unit used is seconds.
 Generally, the score represents the number of templates rendered per second; the higher the score, the better.
 
 Example Results
diff --git a/pom.xml b/pom.xml
index bd85e2a..0d53564 100644
--- a/pom.xml
+++ b/pom.xml
@@ -20,6 +20,8 @@
 		<velocity.version>1.7</velocity.version>
 		<thymeleaf.version>2.1.4.RELEASE</thymeleaf.version>
 		<stringtemplate.version>4.0.2</stringtemplate.version>
+		<junit.version>4.11</junit.version>
+		<trimou.version>1.7.3.Final</trimou.version>
 	</properties>
 
 	<licenses>
@@ -125,6 +127,18 @@
 			<artifactId>thymeleaf</artifactId>
 			<version>${thymeleaf.version}</version>
 		</dependency>
+		<dependency>
+            <groupId>org.trimou</groupId>
+            <artifactId>trimou-core</artifactId>
+            <version>${trimou.version}</version>
+        </dependency>
+
+        <dependency>
+            <groupId>junit</groupId>
+            <artifactId>junit</artifactId>
+            <scope>test</scope>
+            <version>${junit.version}</version>
+        </dependency>
 
 	</dependencies>
 
diff --git a/src/main/java/com/mitchellbosecke/benchmark/Mustache.java b/src/main/java/com/mitchellbosecke/benchmark/Mustache.java
index c6e47aa..014a29d 100644
--- a/src/main/java/com/mitchellbosecke/benchmark/Mustache.java
+++ b/src/main/java/com/mitchellbosecke/benchmark/Mustache.java
@@ -3,6 +3,9 @@ package com.mitchellbosecke.benchmark;
 import java.io.IOException;
 import java.io.StringWriter;
 import java.io.Writer;
+import java.util.AbstractCollection;
+import java.util.Collection;
+import java.util.Iterator;
 import java.util.Map;
 
 import org.openjdk.jmh.annotations.Benchmark;
@@ -11,6 +14,7 @@ import org.openjdk.jmh.annotations.Setup;
 import com.github.mustachejava.DefaultMustacheFactory;
 import com.github.mustachejava.MustacheException;
 import com.github.mustachejava.MustacheFactory;
+import com.google.common.base.Function;
 
 public class Mustache extends BaseBenchmark {
 
@@ -18,6 +22,7 @@ public class Mustache extends BaseBenchmark {
 
     private com.github.mustachejava.Mustache template;
 
+    @SuppressWarnings("unchecked")
     @Setup
     public void setup() {
         MustacheFactory mustacheFactory = new DefaultMustacheFactory() {
@@ -33,7 +38,27 @@ public class Mustache extends BaseBenchmark {
             }
         };
         template = mustacheFactory.compile("templates/stocks.mustache.html");
-        this.context = getContext();
+        Map<String, Object> data = getContext();
+        // TODO this is not nice but I'm not aware of any better solution
+        data.put("items", new DecoratedCollection<Object>((Collection<Object>) data.get("items")));
+        data.put("negativeClass", new Function<String, String>() {
+            @Override
+            public String apply(String input) {
+                if (input == null || input.length() == 0) {
+                    return "";
+                }
+                Double value = Double.valueOf(input);
+                return value > 0 ? "" : " class=\"minus\"";
+            }
+        });
+        data.put("rowClass", new Function<String, String>() {
+            @Override
+            public String apply(String input) {
+                Integer value = Integer.valueOf(input);
+                return (value.intValue() % 2 == 0) ? "even" : "odd";
+            }
+        });
+        this.context = data;
     }
 
     @Benchmark
@@ -43,4 +68,62 @@ public class Mustache extends BaseBenchmark {
         return writer.toString();
     }
 
+    /**
+     * This is a modified copy of {@link com.github.mustachejava.util.DecoratedCollection} - we need the first element at index 1.
+     *
+     * @param <T>
+     */
+    private class DecoratedCollection<T> extends AbstractCollection<Element<T>> {
+
+        private final Collection<T> c;
+
+        public DecoratedCollection(Collection<T> c) {
+            this.c = c;
+        }
+
+        @Override
+        public Iterator<Element<T>> iterator() {
+            final Iterator<T> iterator = c.iterator();
+            return new Iterator<Element<T>>() {
+                int index = 1;
+
+                @Override
+                public boolean hasNext() {
+                    return iterator.hasNext();
+                }
+
+                @Override
+                public Element<T> next() {
+                    T next = iterator.next();
+                    int current = index++;
+                    return new Element<T>(current, current == 1, !iterator.hasNext(), next);
+                }
+
+                @Override
+                public void remove() {
+                    throw new UnsupportedOperationException();
+                }
+            };
+        }
+
+        @Override
+        public int size() {
+            return c.size();
+        }
+    }
+
+    class Element<T> {
+        public final int index;
+        public final boolean first;
+        public final boolean last;
+        public final T value;
+
+        public Element(int index, boolean first, boolean last, T value) {
+            this.index = index;
+            this.first = first;
+            this.last = last;
+            this.value = value;
+        }
+    }
+
 }
diff --git a/src/main/java/com/mitchellbosecke/benchmark/Trimou.java b/src/main/java/com/mitchellbosecke/benchmark/Trimou.java
new file mode 100644
index 0000000..d2e7d0b
--- /dev/null
+++ b/src/main/java/com/mitchellbosecke/benchmark/Trimou.java
@@ -0,0 +1,47 @@
+package com.mitchellbosecke.benchmark;
+
+import java.util.Map;
+
+import org.openjdk.jmh.annotations.Benchmark;
+import org.openjdk.jmh.annotations.Setup;
+import org.trimou.engine.MustacheEngineBuilder;
+import org.trimou.engine.config.EngineConfigurationKey;
+import org.trimou.engine.locator.ClassPathTemplateLocator;
+import org.trimou.engine.resolver.CombinedIndexResolver;
+import org.trimou.handlebars.HelpersBuilder;
+import org.trimou.handlebars.NumberMatchingHelper;
+
+public class Trimou extends BaseBenchmark {
+
+    private Map<String, Object> context;
+
+    private org.trimou.Mustache template;
+
+    @Setup
+    public void setup() {
+        template = MustacheEngineBuilder
+                .newBuilder()
+                // Disable HTML escaping
+                .setProperty(EngineConfigurationKey.SKIP_VALUE_ESCAPING, true)
+                // Disable useless resolver
+                .setProperty(CombinedIndexResolver.ENABLED_KEY, false)
+                .addTemplateLocator(ClassPathTemplateLocator.builder(1).setRootPath("templates").setScanClasspath(false).setSuffix("trimou.html").build())
+                .registerHelpers(HelpersBuilder.extra().add("isNegative", new NumberMatchingHelper() {
+                    @Override
+                    protected boolean isMatching(Number value) {
+                        if (value instanceof Double) {
+                            return value.doubleValue() < 0;
+                        }
+                        // TODO other number types
+                        return false;
+                    }
+                }).build()).build().getMustache("stocks");
+        this.context = getContext();
+    }
+
+    @Benchmark
+    public String benchmark() {
+        return template.render(context);
+    }
+
+}
diff --git a/src/main/java/com/mitchellbosecke/benchmark/model/Stock.java b/src/main/java/com/mitchellbosecke/benchmark/model/Stock.java
index 256cf81..0cdcb0d 100755
--- a/src/main/java/com/mitchellbosecke/benchmark/model/Stock.java
+++ b/src/main/java/com/mitchellbosecke/benchmark/model/Stock.java
@@ -1,7 +1,7 @@
 package com.mitchellbosecke.benchmark.model;
 
-import java.util.List;
 import java.util.ArrayList;
+import java.util.List;
 
 public class Stock {
 
@@ -77,7 +77,7 @@ public class Stock {
         items.add(new Stock("Juniper Networks", "Juniper Networks, Inc", "http://www.juniper.net/", "JNPR", 18.96, 0.5,
                 2.71));
         items.add(new Stock("Microsoft", "Microsoft Corp", "http://www.microsoft.com", "MSFT", 30.6, 0.15, 0.49));
-        items.add(new Stock("Oracle", "Oracle Corp.", "http://www.oracle.com", "ORCL", 17.15, 0.17, 1.0));
+        items.add(new Stock("Oracle", "Oracle Corp.", "http://www.oracle.com", "ORCL", 17.15, 0.17, 1.1));
         items.add(new Stock("SAP", "SAP AG", "http://www.sap.com", "SAP", 46.2, -0.16, -0.35));
         items.add(new Stock("Seagate Technology", "Seagate Technology", "http://www.seagate.com/", "STX", 27.35, -0.36,
                 -1.3));
diff --git a/src/main/resources/templates/stocks.freemarker.html b/src/main/resources/templates/stocks.freemarker.html
index e2dd72a..2def979 100755
--- a/src/main/resources/templates/stocks.freemarker.html
+++ b/src/main/resources/templates/stocks.freemarker.html
@@ -1,46 +1,45 @@
-
 <!DOCTYPE html>
 <html>
 <head>
-	<title>Stock Prices - Freemarker</title>
-	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-	<meta http-equiv="Content-Style-Type" content="text/css" />
-	<meta http-equiv="Content-Script-Type" content="text/javascript" />
-	<link rel="shortcut icon" href="/images/favicon.ico" />
-	<link rel="stylesheet" type="text/css" href="/css/style.css" media="all" />
-	<script type="text/javascript" src="/js/util.js"></script>
-	<style type="text/css">
-		/*<![CDATA[*/
-		body {
-			color: #333333;
-			line-height: 150%;
-		}
-		
-		thead {
-			font-weight: bold;
-			background-color: #CCCCCC;
-		}
-		
-		.odd {
-			background-color: #FFCCCC;
-		}
-		
-		.even {
-			background-color: #CCCCFF;
-		}
-		
-		.minus {
-			color: #FF0000;
-		}
-		
-		/*]]>*/
-	</style>
+<title>Stock Prices</title>
+<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
+<meta http-equiv="Content-Style-Type" content="text/css" />
+<meta http-equiv="Content-Script-Type" content="text/javascript" />
+<link rel="shortcut icon" href="/images/favicon.ico" />
+<link rel="stylesheet" type="text/css" href="/css/style.css" media="all" />
+<script type="text/javascript" src="/js/util.js"></script>
+<style type="text/css">
+/*<![CDATA[*/
+body {
+	color: #333333;
+	line-height: 150%;
+}
+
+thead {
+	font-weight: bold;
+	background-color: #CCCCCC;
+}
+
+.odd {
+	background-color: #FFCCCC;
+}
+
+.even {
+	background-color: #CCCCFF;
+}
+
+.minus {
+	color: #FF0000;
+}
+
+/*]]>*/
+</style>
 
 </head>
 
 <body>
 
-	<h1>Stock Prices - Thymeleaf</h1>
+	<h1>Stock Prices</h1>
 
 	<table>
 		<thead>
@@ -54,29 +53,19 @@
 			</tr>
 		</thead>
 		<tbody>
-		<#list items as item>
-    		<tr class="${["odd", "even"][item_index%2]}">
-     			<td>${item_index + 1}</td>
-		     	<td>
-		      		<a href="/stocks/${item.symbol}">${item.symbol}</a>
-		     	</td>
-		     	<td>
-		      		<a href="${item.url}">${item.name}</a>
-		     	</td>
-		     	<td>
-		      		<strong>${item.price}</strong>
-		     	</td>
-		     
-		     	<#if (item.change < 0.0)>
-		     		<td class="minus">${item.change}</td>
-		     		<td class="minus">${item.ratio}</td>
-		     	<#else>
-		     		<td>${item.change}</td>
-		     		<td>${item.ratio}</td>
-		     	</#if>
-		    </tr>
-		</#list>
-   		</tbody>
+			<#list items as item>
+			<tr class="${["even", "odd"][(item_index+1) %2]}">
+				<td>${item_index + 1}</td>
+				<td><a href="/stocks/${item.symbol}">${item.symbol}</a></td>
+				<td><a href="${item.url}">${item.name}</a></td>
+				<td><strong>${item.price}</strong></td><#if (item.change < 0.0)>
+				<td class="minus">${item.change}</td>
+				<td class="minus">${item.ratio}</td><#else>
+				<td>${item.change}</td>
+				<td>${item.ratio}</td></#if>
+			</tr>
+			</#list>
+		</tbody>
 	</table>
 
 </body>
diff --git a/src/main/resources/templates/stocks.mustache.html b/src/main/resources/templates/stocks.mustache.html
index 77796e3..2c9c2db 100755
--- a/src/main/resources/templates/stocks.mustache.html
+++ b/src/main/resources/templates/stocks.mustache.html
@@ -1,8 +1,7 @@
-
 <!DOCTYPE html>
 <html>
 <head>
-	<title>Stock Prices - Mustache</title>
+	<title>Stock Prices</title>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 	<meta http-equiv="Content-Style-Type" content="text/css" />
 	<meta http-equiv="Content-Script-Type" content="text/javascript" />
@@ -15,24 +14,24 @@
 			color: #333333;
 			line-height: 150%;
 		}
-		
+
 		thead {
 			font-weight: bold;
 			background-color: #CCCCCC;
 		}
-		
+
 		.odd {
 			background-color: #FFCCCC;
 		}
-		
+
 		.even {
 			background-color: #CCCCFF;
 		}
-		
+
 		.minus {
 			color: #FF0000;
 		}
-		
+
 		/*]]>*/
 	</style>
 
@@ -40,7 +39,7 @@
 
 <body>
 
-	<h1>Stock Prices - Mustache</h1>
+	<h1>Stock Prices</h1>
 
 	<table>
 		<thead>
@@ -55,19 +54,19 @@
    		</thead>
    		<tbody>
 			{{#items}}
-    		<tr class="${["odd", "even"][item_index%2]}">
-     			<td>${item_index + 1}</td>
+    		<tr class="{{#rowClass}}{{index}}{{/rowClass}}">
+     			<td>{{index}}</td>
     			<td>
-      				<a href="/stocks/{{symbol}}">{{symbol}}</a>
+      				<a href="/stocks/{{value.symbol}}">{{value.symbol}}</a>
      			</td>
      			<td>
-      				<a href="{{url}}">{{name}}</a>
+      				<a href="{{value.url}}">{{value.name}}</a>
      			</td>
      			<td>
-      				<strong>{{price}}</strong>
+      				<strong>{{value.price}}</strong>
      			</td>
-			     <td>{{change}}</td>
-			     <td>{{ratio}}</td>
+			     <td{{#negativeClass}}{{value.change}}{{/negativeClass}}>{{value.change}}</td>
+			     <td{{#negativeClass}}{{value.change}}{{/negativeClass}}>{{value.ratio}}</td>
     		</tr>
 			{{/items}}
    		</tbody>
diff --git a/src/main/resources/templates/stocks.pebble.html b/src/main/resources/templates/stocks.pebble.html
index 24a3221..9f791c5 100755
--- a/src/main/resources/templates/stocks.pebble.html
+++ b/src/main/resources/templates/stocks.pebble.html
@@ -1,8 +1,7 @@
-
 <!DOCTYPE html>
 <html>
 <head>
-	<title>Stock Prices - Pebble</title>
+	<title>Stock Prices</title>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 	<meta http-equiv="Content-Style-Type" content="text/css" />
 	<meta http-equiv="Content-Script-Type" content="text/javascript" />
@@ -15,24 +14,24 @@
 			color: #333333;
 			line-height: 150%;
 		}
-		
+
 		thead {
 			font-weight: bold;
 			background-color: #CCCCCC;
 		}
-		
+
 		.odd {
 			background-color: #FFCCCC;
 		}
-		
+
 		.even {
 			background-color: #CCCCFF;
 		}
-		
+
 		.minus {
 			color: #FF0000;
 		}
-		
+
 		/*]]>*/
 	</style>
 
@@ -40,8 +39,8 @@
 
 	<body>
 
-		<h1>Stock Prices - PEBBLE</h1>
-		
+		<h1>Stock Prices</h1>
+
 		<table>
 	   		<thead>
 	    		<tr>
@@ -55,8 +54,8 @@
 			</thead>
 			<tbody>
 			{% for item in items %}
-				<tr class="{% if loop.index is even %}even{% else %}odd{% endif %}">
-			    	<td>{{loop.index}}</td>
+				<tr class="{% if (loop.index + 1) is even %}even{% else %}odd{% endif %}">
+			    	<td>{{loop.index + 1}}</td>
 			    	<td>
 			    		<a href="/stocks/{{ item.symbol }}">{{item.symbol}}</a>
 			    	</td>
@@ -66,7 +65,7 @@
 			     	<td>
 			     		<strong>{{ item.price }}</strong>
 			     	</td>
-			     	
+
 					{% if item.change < 0.0 %}
 						<td class="minus">{{item.change}}</td>
 						<td class="minus">{{item.ratio}}</td>
@@ -74,7 +73,7 @@
 						<td>{{item.change}}</td>
 						<td>{{item.ratio}}</td>
 					{% endif %}
-					
+
 				</tr>
 			{% endfor %}
 			</tbody>
diff --git a/src/main/resources/templates/stocks.thymeleaf.html b/src/main/resources/templates/stocks.thymeleaf.html
index 4bf7067..a1667f6 100755
--- a/src/main/resources/templates/stocks.thymeleaf.html
+++ b/src/main/resources/templates/stocks.thymeleaf.html
@@ -1,8 +1,7 @@
-
 <!DOCTYPE html>
 <html>
 <head>
-	<title>Stock Prices - Thymeleaf</title>
+	<title>Stock Prices</title>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 	<meta http-equiv="Content-Style-Type" content="text/css" />
 	<meta http-equiv="Content-Script-Type" content="text/javascript" />
@@ -15,24 +14,24 @@
 			color: #333333;
 			line-height: 150%;
 		}
-		
+
 		thead {
 			font-weight: bold;
 			background-color: #CCCCCC;
 		}
-		
+
 		.odd {
 			background-color: #FFCCCC;
 		}
-		
+
 		.even {
 			background-color: #CCCCFF;
 		}
-		
+
 		.minus {
 			color: #FF0000;
 		}
-		
+
 		/*]]>*/
 	</style>
 
@@ -40,7 +39,7 @@
 
 <body>
 
-	<h1>Stock Prices - Thymeleaf</h1>
+	<h1>Stock Prices</h1>
 
 	<table>
 		<thead>
@@ -54,10 +53,10 @@
 			</tr>
 		</thead>
 		<tbody>
-
+<!--/* Note that itemStat.odd works with index (starting with 0) whereas itemStat.count is starting with 1 */-->
 			<tr th:each="item: ${items}"
-				th:class="${itemStat.odd} ? 'odd' : 'even'">
-				<td style="text-align: center" th:utext="${itemStat.count}"></td>
+				th:class="${itemStat.odd}? 'even' : 'odd'">
+				<td th:utext="${itemStat.count}"></td>
 				<td><a th:href="${'/stocks/' + item.symbol}"
 					th:utext="${item.symbol}"></a></td>
 				<td><a th:href="${item.url}" th:utext="${item.name}"></a></td>
diff --git a/src/main/resources/templates/stocks.trimou.html b/src/main/resources/templates/stocks.trimou.html
new file mode 100755
index 0000000..b9b4686
--- /dev/null
+++ b/src/main/resources/templates/stocks.trimou.html
@@ -0,0 +1,70 @@
+<!DOCTYPE html>
+<html>
+<head>
+<title>Stock Prices</title>
+<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
+<meta http-equiv="Content-Style-Type" content="text/css" />
+<meta http-equiv="Content-Script-Type" content="text/javascript" />
+<link rel="shortcut icon" href="/images/favicon.ico" />
+<link rel="stylesheet" type="text/css" href="/css/style.css" media="all" />
+<script type="text/javascript" src="/js/util.js"></script>
+<style type="text/css">
+/*<![CDATA[*/
+body {
+	color: #333333;
+	line-height: 150%;
+}
+
+thead {
+	font-weight: bold;
+	background-color: #CCCCCC;
+}
+
+.odd {
+	background-color: #FFCCCC;
+}
+
+.even {
+	background-color: #CCCCFF;
+}
+
+.minus {
+	color: #FF0000;
+}
+
+/*]]>*/
+</style>
+
+</head>
+
+<body>
+
+	<h1>Stock Prices</h1>
+
+	<table>
+		<thead>
+			<tr>
+				<th>#</th>
+				<th>symbol</th>
+				<th>name</th>
+				<th>price</th>
+				<th>change</th>
+				<th>ratio</th>
+			</tr>
+		</thead>
+		<tbody>
+			{{#items}}
+			<tr class="{{isEven iterIndex 'even' 'odd'}}">
+				<td>{{iterIndex}}</td>
+				<td><a href="/stocks/{{symbol}}">{{symbol}}</a></td>
+				<td><a href="{{url}}">{{name}}</a></td>
+				<td><strong>{{price}}</strong></td>
+				<td{{isNegative change ' class="minus"'}}>{{change}}</td>
+				<td{{isNegative change ' class="minus"'}}>{{ratio}}</td>
+			</tr>
+			{{/items}}
+		</tbody>
+	</table>
+
+</body>
+</html>
diff --git a/src/main/resources/templates/stocks.velocity.html b/src/main/resources/templates/stocks.velocity.html
index d1146d2..c3217ce 100755
--- a/src/main/resources/templates/stocks.velocity.html
+++ b/src/main/resources/templates/stocks.velocity.html
@@ -1,8 +1,7 @@
-
 <!DOCTYPE html>
 <html>
 <head>
-	<title>Stock Prices - Velocity</title>
+	<title>Stock Prices</title>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 	<meta http-equiv="Content-Style-Type" content="text/css" />
 	<meta http-equiv="Content-Script-Type" content="text/javascript" />
@@ -15,24 +14,24 @@
 			color: #333333;
 			line-height: 150%;
 		}
-		
+
 		thead {
 			font-weight: bold;
 			background-color: #CCCCCC;
 		}
-		
+
 		.odd {
 			background-color: #FFCCCC;
 		}
-		
+
 		.even {
 			background-color: #CCCCFF;
 		}
-		
+
 		.minus {
 			color: #FF0000;
 		}
-		
+
 		/*]]>*/
 	</style>
 
@@ -40,7 +39,7 @@
 
 <body>
 
-	<h1>Stock Prices - Velocity</h1>
+	<h1>Stock Prices</h1>
 
 	<table>
 		<thead>
@@ -67,7 +66,7 @@
 			    <td>
 			    	<strong>${item.price}</strong>
 			    </td>
-			    
+
 			    #if($item.change < 0.0)
 			    	<td class="minus">${item.change}</td>
 			    	<td class="minus">${item.ratio}</td>
diff --git a/src/test/java/com/mitchellbosecke/benchmark/ExpectedOutputTest.java b/src/test/java/com/mitchellbosecke/benchmark/ExpectedOutputTest.java
new file mode 100644
index 0000000..a9133d2
--- /dev/null
+++ b/src/test/java/com/mitchellbosecke/benchmark/ExpectedOutputTest.java
@@ -0,0 +1,88 @@
+package com.mitchellbosecke.benchmark;
+
+import static org.junit.Assert.assertEquals;
+
+import java.io.BufferedReader;
+import java.io.IOException;
+import java.io.InputStreamReader;
+import java.util.Locale;
+
+import org.junit.BeforeClass;
+import org.junit.Test;
+
+import com.mitchellbosecke.pebble.error.PebbleException;
+
+import freemarker.template.TemplateException;
+
+/**
+ *
+ * @author Martin Kouba
+ */
+public class ExpectedOutputTest {
+
+    @BeforeClass
+    public static void beforeClass() {
+        Locale.setDefault(Locale.ENGLISH);
+    }
+
+    @Test
+    public void testFreemarkerOutput() throws IOException, TemplateException {
+        Freemarker freemarker = new Freemarker();
+        freemarker.setup();
+        assertOutput(freemarker.benchmark());
+    }
+
+    @Test
+    public void testPebbleOutput() throws IOException, PebbleException {
+        Pebble pebble = new Pebble();
+        pebble.setup();
+        assertOutput(pebble.benchmark());
+    }
+
+    @Test
+    public void testVelocityOutput() throws IOException {
+        Velocity velocity = new Velocity();
+        velocity.setup();
+        assertOutput(velocity.benchmark());
+    }
+
+    @Test
+    public void testMustacheOutput() throws IOException {
+        Mustache mustache = new Mustache();
+        mustache.setup();
+        assertOutput(mustache.benchmark());
+    }
+
+    @Test
+    public void testThymeleafOutput() throws IOException, TemplateException {
+        Thymeleaf thymeleaf = new Thymeleaf();
+        thymeleaf.setup();
+        assertOutput(thymeleaf.benchmark());
+    }
+
+    @Test
+    public void testTrimouOutput() throws IOException {
+        Trimou trimou = new Trimou();
+        trimou.setup();
+        assertOutput(trimou.benchmark());
+    }
+
+    private void assertOutput(String output) throws IOException {
+        assertEquals(readExpectedOutputResource(), output.replaceAll("\\s", ""));
+    }
+
+    private String readExpectedOutputResource() throws IOException {
+        StringBuilder builder = new StringBuilder();
+        try (BufferedReader in = new BufferedReader(new InputStreamReader(ExpectedOutputTest.class.getResourceAsStream("/expected-output.html")))) {
+            for (;;) {
+                String line = in.readLine();
+                if (line == null)
+                    break;
+                builder.append(line);
+            }
+        }
+        // Remove all whitespaces
+        return builder.toString().replaceAll("\\s", "");
+    }
+
+}
diff --git a/src/test/resources/expected-output.html b/src/test/resources/expected-output.html
new file mode 100644
index 0000000..370fa55
--- /dev/null
+++ b/src/test/resources/expected-output.html
@@ -0,0 +1,240 @@
+<!DOCTYPE html>
+<html>
+<head>
+<title>Stock Prices</title>
+<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
+<meta http-equiv="Content-Style-Type" content="text/css" />
+<meta http-equiv="Content-Script-Type" content="text/javascript" />
+<link rel="shortcut icon" href="/images/favicon.ico" />
+<link rel="stylesheet" type="text/css" href="/css/style.css" media="all" />
+<script type="text/javascript" src="/js/util.js"></script>
+<style type="text/css">
+/*<![CDATA[*/
+body {
+	color: #333333;
+	line-height: 150%;
+}
+
+thead {
+	font-weight: bold;
+	background-color: #CCCCCC;
+}
+
+.odd {
+	background-color: #FFCCCC;
+}
+
+.even {
+	background-color: #CCCCFF;
+}
+
+.minus {
+	color: #FF0000;
+}
+
+/*]]>*/
+</style>
+
+</head>
+
+<body>
+
+	<h1>Stock Prices</h1>
+
+	<table>
+		<thead>
+			<tr>
+				<th>#</th>
+				<th>symbol</th>
+				<th>name</th>
+				<th>price</th>
+				<th>change</th>
+				<th>ratio</th>
+			</tr>
+		</thead>
+		<tbody>
+			<tr class="odd">
+				<td>1</td>
+				<td><a href="/stocks/ADBE">ADBE</a></td>
+				<td><a href="http://www.adobe.com">Adobe Systems</a></td>
+				<td><strong>39.26</strong></td>
+
+				<td>0.13</td>
+				<td>0.33</td>
+			</tr>
+			<tr class="even">
+				<td>2</td>
+				<td><a href="/stocks/AMD">AMD</a></td>
+				<td><a href="http://www.amd.com">Advanced Micro Devices</a></td>
+				<td><strong>16.22</strong></td>
+
+				<td>0.17</td>
+				<td>1.06</td>
+			</tr>
+			<tr class="odd">
+				<td>3</td>
+				<td><a href="/stocks/AMZN">AMZN</a></td>
+				<td><a href="http://www.amazon.com">Amazon.com</a></td>
+				<td><strong>36.85</strong></td>
+
+				<td class="minus">-0.23</td>
+				<td class="minus">-0.62</td>
+			</tr>
+			<tr class="even">
+				<td>4</td>
+				<td><a href="/stocks/AAPL">AAPL</a></td>
+				<td><a href="http://www.apple.com">Apple</a></td>
+				<td><strong>85.38</strong></td>
+
+				<td class="minus">-0.87</td>
+				<td class="minus">-1.01</td>
+			</tr>
+			<tr class="odd">
+				<td>5</td>
+				<td><a href="/stocks/BEAS">BEAS</a></td>
+				<td><a href="http://www.bea.com">BEA Systems</a></td>
+				<td><strong>12.46</strong></td>
+
+				<td>0.09</td>
+				<td>0.73</td>
+			</tr>
+			<tr class="even">
+				<td>6</td>
+				<td><a href="/stocks/CA">CA</a></td>
+				<td><a href="http://www.ca.com">CA</a></td>
+				<td><strong>24.66</strong></td>
+
+				<td>0.38</td>
+				<td>1.57</td>
+			</tr>
+			<tr class="odd">
+				<td>7</td>
+				<td><a href="/stocks/CSCO">CSCO</a></td>
+				<td><a href="http://www.cisco.com">Cisco Systems</a></td>
+				<td><strong>26.35</strong></td>
+
+				<td>0.13</td>
+				<td>0.5</td>
+			</tr>
+			<tr class="even">
+				<td>8</td>
+				<td><a href="/stocks/DELL">DELL</a></td>
+				<td><a href="http://www.dell.com/">Dell</a></td>
+				<td><strong>23.73</strong></td>
+
+				<td class="minus">-0.42</td>
+				<td class="minus">-1.74</td>
+			</tr>
+			<tr class="odd">
+				<td>9</td>
+				<td><a href="/stocks/EBAY">EBAY</a></td>
+				<td><a href="http://www.ebay.com">eBay</a></td>
+				<td><strong>31.65</strong></td>
+
+				<td class="minus">-0.8</td>
+				<td class="minus">-2.47</td>
+			</tr>
+			<tr class="even">
+				<td>10</td>
+				<td><a href="/stocks/GOOG">GOOG</a></td>
+				<td><a href="http://www.google.com">Google</a></td>
+				<td><strong>495.84</strong></td>
+
+				<td>7.75</td>
+				<td>1.59</td>
+			</tr>
+			<tr class="odd">
+				<td>11</td>
+				<td><a href="/stocks/HPQ">HPQ</a></td>
+				<td><a href="http://www.hp.com">Hewlett-Packard</a></td>
+				<td><strong>41.69</strong></td>
+
+				<td class="minus">-0.02</td>
+				<td class="minus">-0.05</td>
+			</tr>
+			<tr class="even">
+				<td>12</td>
+				<td><a href="/stocks/IBM">IBM</a></td>
+				<td><a href="http://www.ibm.com">IBM</a></td>
+				<td><strong>97.45</strong></td>
+
+				<td class="minus">-0.06</td>
+				<td class="minus">-0.06</td>
+			</tr>
+			<tr class="odd">
+				<td>13</td>
+				<td><a href="/stocks/INTC">INTC</a></td>
+				<td><a href="http://www.intel.com">Intel</a></td>
+				<td><strong>20.53</strong></td>
+
+				<td class="minus">-0.07</td>
+				<td class="minus">-0.34</td>
+			</tr>
+			<tr class="even">
+				<td>14</td>
+				<td><a href="/stocks/JNPR">JNPR</a></td>
+				<td><a href="http://www.juniper.net/">Juniper Networks</a></td>
+				<td><strong>18.96</strong></td>
+
+				<td>0.5</td>
+				<td>2.71</td>
+			</tr>
+			<tr class="odd">
+				<td>15</td>
+				<td><a href="/stocks/MSFT">MSFT</a></td>
+				<td><a href="http://www.microsoft.com">Microsoft</a></td>
+				<td><strong>30.6</strong></td>
+
+				<td>0.15</td>
+				<td>0.49</td>
+			</tr>
+			<tr class="even">
+				<td>16</td>
+				<td><a href="/stocks/ORCL">ORCL</a></td>
+				<td><a href="http://www.oracle.com">Oracle</a></td>
+				<td><strong>17.15</strong></td>
+
+				<td>0.17</td>
+				<td>1.1</td>
+			</tr>
+			<tr class="odd">
+				<td>17</td>
+				<td><a href="/stocks/SAP">SAP</a></td>
+				<td><a href="http://www.sap.com">SAP</a></td>
+				<td><strong>46.2</strong></td>
+
+				<td class="minus">-0.16</td>
+				<td class="minus">-0.35</td>
+			</tr>
+			<tr class="even">
+				<td>18</td>
+				<td><a href="/stocks/STX">STX</a></td>
+				<td><a href="http://www.seagate.com/">Seagate Technology</a></td>
+				<td><strong>27.35</strong></td>
+
+				<td class="minus">-0.36</td>
+				<td class="minus">-1.3</td>
+			</tr>
+			<tr class="odd">
+				<td>19</td>
+				<td><a href="/stocks/SUNW">SUNW</a></td>
+				<td><a href="http://www.sun.com">Sun Microsystems</a></td>
+				<td><strong>6.33</strong></td>
+
+				<td class="minus">-0.01</td>
+				<td class="minus">-0.16</td>
+			</tr>
+			<tr class="even">
+				<td>20</td>
+				<td><a href="/stocks/YHOO">YHOO</a></td>
+				<td><a href="http://www.yahoo.com">Yahoo</a></td>
+				<td><strong>28.04</strong></td>
+
+				<td class="minus">-0.17</td>
+				<td class="minus">-0.6</td>
+			</tr>
+		</tbody>
+	</table>
+
+</body>
+</html>
