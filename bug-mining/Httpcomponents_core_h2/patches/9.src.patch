diff --git a/httpcore5-h2/src/main/java/org/apache/hc/core5/http2/impl/nio/AbstractH2StreamMultiplexer.java b/httpcore5-h2/src/main/java/org/apache/hc/core5/http2/impl/nio/AbstractH2StreamMultiplexer.java
index aa79ad102..6c85aaa14 100644
--- a/httpcore5-h2/src/main/java/org/apache/hc/core5/http2/impl/nio/AbstractH2StreamMultiplexer.java
+++ b/httpcore5-h2/src/main/java/org/apache/hc/core5/http2/impl/nio/AbstractH2StreamMultiplexer.java
@@ -1119,9 +1119,9 @@ private void consumeSettingsFrame(final ByteBuffer payload) throws HttpException
         final H2Config.Builder configBuilder = H2Config.initial();
         while (payload.hasRemaining()) {
             final int code = payload.getShort();
+            final int value = payload.getInt();
             final H2Param param = H2Param.valueOf(code);
             if (param != null) {
-                final int value = payload.getInt();
                 switch (param) {
                     case HEADER_TABLE_SIZE:
                         try {
