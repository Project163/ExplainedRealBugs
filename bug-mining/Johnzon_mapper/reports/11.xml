<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:03:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JOHNZON-48] Complex types in collection with converter</title>
                <link>https://issues.apache.org/jira/browse/JOHNZON-48</link>
                <project id="12315523" key="JOHNZON">Johnzon</project>
                    <description>&lt;p&gt;Complex objects in a list get serialized as json object without using registered converters. This leads to malformed json strings which can&apos;t be deserialized if there is no default constructor available (as is the case with enums). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12842548">JOHNZON-48</key>
            <summary>Complex types in collection with converter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Karl Grosse">Karl Grosse</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jul 2015 09:46:20 +0000</created>
                <updated>Tue, 18 Aug 2015 10:10:42 +0000</updated>
                            <resolved>Sat, 8 Aug 2015 16:13:13 +0000</resolved>
                                    <version>0.9-incubating</version>
                                    <fixVersion>0.9-incubating</fixVersion>
                                    <component>Mapper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14613067" author="karl grosse" created="Fri, 3 Jul 2015 09:47:33 +0000"  >&lt;p&gt;added test to ensure the fix&lt;/p&gt;</comment>
                            <comment id="14613204" author="romain.manni-bucau" created="Fri, 3 Jul 2015 13:57:43 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;patch looks good I have however 2 comments before applying it:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;testObjectConverter should assert the result IMO and not only a notnull&lt;/li&gt;
	&lt;li&gt;we should cache the converter by type for the collection (the look up needs to be fast so can be even by object reference since Class ref are unique and the synchronisation cost will be paid a single time). I dont think we can cache it globally but enhancing our collection mapping model is super fine&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;do you want to try to enrich the patch with it? Then I&apos;m more than happy to apply it.&lt;/p&gt;</comment>
                            <comment id="14613678" author="karl grosse" created="Sat, 4 Jul 2015 10:37:26 +0000"  >&lt;p&gt;Thank you for your feedback, I appreciate that. &lt;/p&gt;

&lt;p&gt;I will look into it and enrich the Patch. Could you elaborate your second point a little bit as I am not 100% sure what you are meaning. Thank you!&lt;/p&gt;</comment>
                            <comment id="14613964" author="romain.manni-bucau" created="Sat, 4 Jul 2015 17:01:05 +0000"  >&lt;p&gt;Right, sorry was super blury when I reread it.&lt;/p&gt;

&lt;p&gt;My point was: we can keep the converter in our mapping model and avoid a lookup for each call, also the very implicit meaning was when building the model itself we should check for @JohnzonConverter. Ifit exists and type of the converter is the type of the argument of the parameterized type then we use it for items.&lt;/p&gt;</comment>
                            <comment id="14635009" author="karl grosse" created="Tue, 21 Jul 2015 12:02:34 +0000"  >&lt;p&gt;I improved the testObjectConverter test and corrected a little error I made there. I forgot to escape the pipe character which I used in the converter.&lt;/p&gt;

&lt;p&gt;After reading you feedback very carefully I tried to improve the mapping and the lookup for a converter. I patched everything together for a quick review.&lt;/p&gt;</comment>
                            <comment id="14639744" author="romain.manni-bucau" created="Fri, 24 Jul 2015 00:44:47 +0000"  >&lt;p&gt;Reviewing the patch I wondered if we should support Map and arrays as well.&lt;/p&gt;

&lt;p&gt;wdyt?&lt;/p&gt;</comment>
                            <comment id="14644054" author="karl grosse" created="Tue, 28 Jul 2015 08:23:39 +0000"  >&lt;p&gt;I think it&apos;s a good idea! Nevertheless I&apos;m afraid that I won&apos;t be able to do it until mid of August but I need the current patch soon. Could you please be so kind and apply it? Thank you very much!&lt;/p&gt;</comment>
                            <comment id="14644154" author="romain.manni-bucau" created="Tue, 28 Jul 2015 09:53:13 +0000"  >&lt;p&gt;Applied a little bit different version but reused most of your tests. &lt;/p&gt;

&lt;p&gt;Note: your test model was a bit wrong I think since the converter was on the getter returning String instead of the list itself (see the pushed version for the diff).&lt;/p&gt;

&lt;p&gt;Added the array support as well and eagerly enum caching.&lt;/p&gt;

&lt;p&gt;Can you review what I pushed please and give us a small go/no-go?&lt;/p&gt;</comment>
                            <comment id="14662084" author="salyh" created="Fri, 7 Aug 2015 17:00:15 +0000"  >&lt;p&gt;is this resolved? i plan to initiate release on weekend&lt;/p&gt;</comment>
                            <comment id="14662311" author="karl grosse" created="Fri, 7 Aug 2015 19:25:25 +0000"  >&lt;p&gt;Thanks Romain for the feedback. I reviewed your push and I give it a go.&lt;/p&gt;</comment>
                            <comment id="14701034" author="salyh" created="Tue, 18 Aug 2015 10:10:42 +0000"  >&lt;p&gt;Released with 0.9-incubating&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12746334" name="JOHNZON-48.patch" size="14911" author="Karl Grosse" created="Tue, 21 Jul 2015 12:03:03 +0000"/>
                            <attachment id="12743495" name="JOHNZON-48.patch" size="11271" author="Karl Grosse" created="Fri, 3 Jul 2015 09:47:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gtwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>