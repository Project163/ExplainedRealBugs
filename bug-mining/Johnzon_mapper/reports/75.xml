<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:03:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JOHNZON-206] toStructure of arrray of JsonObjects serializes JsonObjectImpl like an arbitrary Object</title>
                <link>https://issues.apache.org/jira/browse/JOHNZON-206</link>
                <project id="12315523" key="JOHNZON">Johnzon</project>
                    <description>&lt;p&gt;I&apos;m not sure this is really a bug or more a feature request/improvement/misunderstanding on my side.&lt;/p&gt;

&lt;p&gt;Calling toStructure with an javax.json.JsonObject works fine.&lt;br/&gt;
 Calling it with an JsonArray of JsonObjects works fine.&lt;br/&gt;
 Calling it with an java.langObject[]-Array of Objects works fine.&lt;br/&gt;
 Calling it with an Object[]-Array of JsonObjects treats the JsonObjects as arbitrary Objects resulting in an serialized form of their internals:&lt;/p&gt;

{&quot;integral&quot;:true,&quot;valueType&quot;:&quot;NUMBER&quot;,&quot;value&quot;:1}

&lt;p&gt;I&#160;would have expected this special treatment of JsonX classes to work on all nesting levels, not only on the top level. What do you think?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13225318">JOHNZON-206</key>
            <summary>toStructure of arrray of JsonObjects serializes JsonObjectImpl like an arbitrary Object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="struberg">Mark Struberg</assignee>
                                    <reporter username="elexx">Alexander Falb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Apr 2019 16:28:08 +0000</created>
                <updated>Mon, 5 Aug 2019 06:12:23 +0000</updated>
                            <resolved>Thu, 25 Jul 2019 15:28:48 +0000</resolved>
                                                    <fixVersion>1.1.13</fixVersion>
                                    <component>Mapper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16806960" author="elexx" created="Mon, 1 Apr 2019 16:31:26 +0000"  >&lt;p&gt;I just pushed a few tests showcasing this:&#160;&lt;a href=&quot;https://github.com/apache/johnzon/compare/master...elexx:feature/JOHNZON-206-toStructureNested&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/johnzon/compare/master...elexx:feature/JOHNZON-206-toStructureNested&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16806987" author="romain.manni-bucau" created="Mon, 1 Apr 2019 17:03:00 +0000"  >&lt;p&gt;If you mean JsonValue I agree otherwise not sure i get the example.&lt;/p&gt;</comment>
                            <comment id="16807416" author="elexx" created="Tue, 2 Apr 2019 05:42:59 +0000"  >&lt;p&gt;Yes, by &quot;JsonX classes&quot; I&#160;ment JsonValue and all it&apos;s&#160;implementations.&lt;/p&gt;

&lt;p&gt;Regarding the example:&#160;I think all 3 of the unittests should work, but mapToArrayOfJsonObjects is broken: &lt;a href=&quot;https://travis-ci.com/elexx/johnzon/jobs/189371931&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.com/elexx/johnzon/jobs/189371931&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
MapperTest.mapToArrayOfJsonObjects:157 expected:&amp;lt;[{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:[1},{&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:2]}]&amp;gt; but was:&amp;lt;[{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:[{&lt;span class=&quot;code-quote&quot;&gt;&quot;integral&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;valueType&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;NUMBER&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:1}},{&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;integral&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;valueType&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;NUMBER&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:2}]}]&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16807423" author="romain.manni-bucau" created="Tue, 2 Apr 2019 06:05:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elexx&quot; class=&quot;user-hover&quot; rel=&quot;elexx&quot;&gt;elexx&lt;/a&gt; Hi Alexander, I suspect it is an &quot;unspecified&quot; case but I tend to agree with you that it is surprising.&lt;br/&gt;
The reason is to use array type for the serialization which leads to bypass JsonValue handling in our generator which are before in general - looks like a good idea to use array component type but then it is not polymorphism friendly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
Do you want to do the PR to fix that?&lt;/p&gt;</comment>
                            <comment id="16892882" author="struberg" created="Thu, 25 Jul 2019 15:28:48 +0000"  >&lt;p&gt;Hi Alex!&lt;/p&gt;

&lt;p&gt;Thanks for the unit test, it should work now!&lt;br/&gt;
Will be shipped in 1.1.13.&lt;/p&gt;</comment>
                            <comment id="16899808" author="struberg" created="Mon, 5 Aug 2019 06:12:23 +0000"  >&lt;p&gt;shipped in Apache Johnzon-1.1.13&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01bvc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>