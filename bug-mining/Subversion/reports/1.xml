<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:37:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SVN-1234] Problem with apr_proc_wait and/or svn_io_run_cmd</title>
                <link>https://issues.apache.org/jira/browse/SVN-1234</link>
                <project id="12318828" key="SVN">Subversion</project>
                    <description>&lt;p&gt;&lt;pre&gt;Eric Gillespie made a patch for APR.
Related message: http://subversion.tigris.org/servlets/ReadMsg?list=dev&amp;amp;msgId=222001
&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://subversion.tigris.org/servlets/ReadMsg?list=dev&amp;amp;msgId=222251&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://subversion.tigris.org/servlets/ReadMsg?list=dev&amp;amp;msgId=222251&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Original issue reported by &lt;b&gt;sander&lt;/b&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12897616">SVN-1234</key>
            <summary>Problem with apr_proc_wait and/or svn_io_run_cmd</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="subversion-importer">Subversion Importer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Apr 2003 13:06:19 +0000</created>
                <updated>Sat, 27 Oct 2018 16:39:49 +0000</updated>
                            <resolved>Wed, 5 Oct 2005 16:48:46 +0000</resolved>
                                    <version>all</version>
                                    <fixVersion>unscheduled</fixVersion>
                                    <component>unknown</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14915724" author="kfogel" created="Tue, 22 Apr 2003 16:58:27 +0000"  >&lt;p&gt;&lt;pre&gt;Hmm.  Any estimate of the severity of this problem for Subversion?

We have other APR process control problems already (issue #952, about
needing to pass stdin to revprop-change-hook; and issue #443, hook
script error output lost).  With those we know exactly how the
symptoms affect Subversion.  But with this issue, it&apos;s not so clear. 
Should we make the recommended change to svn_io_run_cmd() even if no
changes are made to APR?  Would that improve anything?

I&apos;m mainly trying to figure out whether this needs to block 1.0.  It
looks like the APR side of the change still needs discussion anyway,
judging from the thread...
&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14915725" author="kfogel" created="Tue, 22 Apr 2003 17:03:26 +0000"  >&lt;p&gt;&lt;pre&gt;Oops, add Eric Gillespie to the CC list.  I assumed he was associated
with the issue already, but it turns out to be Sander Roobol of
course.  Sander, it might be good to put the original submitter in the
issue&apos;s CC field when you file a patch, thanks.

[Had to submit twice, since the tracker wouldn&apos;t accept
&apos;epg@pretzelgod.net&apos; as an address. I guess it just wants tigris.org
usernames or addresses.]
&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14915726" author="subversion-importer" created="Tue, 22 Apr 2003 19:12:50 +0000"  >&lt;p&gt;&lt;pre&gt;Getting my address correct might have helped, Karl :); it&apos;s
pretzelNET.org.

As for the importance of the issue, i don&apos;t much care if it&apos;s marked
post-1.0 or not.  It is a dealbreaker at least on NetBSD, but i have
no worry of the patch getting applied regardless of its priority here
in the issue tracker.  As for more discussion being needed, unless
someone brought it up again and i haven&apos;t noticed, you misread.  The
consensus was to apply the patch.  Now i&apos;m just waiting on Thom to
commit it.

Also, NO changes are needed to svn for this issue.  The consensus on
the apr list was that apr was doing the wrong thing.  I&apos;m not sure why
this issue was filed in the first place.
&lt;/pre&gt;&lt;/p&gt;


&lt;p&gt;Original comment by &lt;b&gt;epg&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="14915727" author="kfogel" created="Tue, 22 Apr 2003 21:03:01 +0000"  >&lt;p&gt;&lt;pre&gt;Heh, thanks Eric (though getting your address right might not have
helped -- I think the issue tracker demands a tigris.org username,
though perhaps it would also have permitted your tigris-registered
forwarding address).

It seems the thread still has an unresolved question (from Branko)
about whether APR should implement the loop internally, or whether
callers should do the loop, no?  Anyway, it sounds like you have this
in hand, so I won&apos;t worry.

I&apos;ll move the issue to post-1.0 right now, though knowing the exact
symptoms would help in deciding the priority (is it a matter of
Subversion not handling interrupts correctly on NetBSD?).

Yes, there should be an issue here.  If Subversion behaves incorrectly
somewhere, we should consider it a Subversion issue -- the underlying
problem may be in one of our dependencies, but it was us who chose
which dependencies to depend on, after all :-).
&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14915728" author="subversion-importer" created="Wed, 23 Apr 2003 04:41:30 +0000"  >&lt;p&gt;&lt;pre&gt;Karl, are you only reading the thread on svn&apos;s dev list or something?
 The conclusion of the discussion was to go ahead with my patch, but
that discussion was on apr dev.

As for the exact symptoms, i have seen only one.  A svnserve process
running on NetBSD runs a hook script via svn_io_run_cmd.  After
apr_proc_create, it calls apr_proc_wait, which of course calls
waitpid(2).  For whatever reason, this particular waitpid call is
interrupted *every* time.  I have verified this on multiple machines.

The consensus is that apr must hide the UNIX-specific EINTR-handling,
so svn doesn&apos;t have to change at all to fix this problem.
&lt;/pre&gt;&lt;/p&gt;


&lt;p&gt;Original comment by &lt;b&gt;epg&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="14915729" author="kfogel" created="Thu, 24 Apr 2003 15:56:10 +0000"  >&lt;p&gt;&lt;pre&gt;Yes -- sorry, I didn&apos;t realize that dev@svn had been dropped from the
CC list at some point.
&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14915730" author="subversion-importer" created="Thu, 8 May 2003 08:58:11 +0000"  >&lt;p&gt;&lt;pre&gt;Ok, I&apos;ve now commited that patch to APR - sorry it took so long folks!
(threadproc/unix/proc.c rev 1.67)
&lt;/pre&gt;&lt;/p&gt;


&lt;p&gt;Original comment by &lt;b&gt;thomm&lt;/b&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311024" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>External issue ID</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1234</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313020" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Mailing List</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lru7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>