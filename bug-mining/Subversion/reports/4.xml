<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:37:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SVN-3288] svn crashes when checking out subdirectories with backslashes in their names</title>
                <link>https://issues.apache.org/jira/browse/SVN-3288</link>
                <project id="12318828" key="SVN">Subversion</project>
                    <description>&lt;p&gt;&lt;pre&gt;Sorry for lack of the mailing list discussion but this definitely looks like a
bug so I took the liberty of reporting it directly here.

The problem is that Win32 svn version crashes when checking out a repository
containing directories with backslashes in their names. Steps to reproduce:

1. Create a new repository
2. Do &quot;touch &apos;sub\dir&apos;&quot; and &quot;svn add &apos;sub\dir&apos;&quot; on a Unix system (tested with
Debian svn server, v1.4.2 (r22196))
3. Do &quot;svn co svn+ssh://path/to/test/repository&quot; from a Windows system (tested
under Windows 2003 SP1). The result is:

---------------------------
svn.exe - Application Error
---------------------------
The exception unknown software exception (0xc00000fd) occurred in the
application at location 0x7c8302e2.


Click on OK to terminate the program
Click on CANCEL to debug the program
---------------------------
OK   Cancel   
---------------------------

This happens with both 1.4.5 (r25188) and latest available 1.5.2 (r32768)
versions but 1.4.5 just dies while 1.5.2 seems to handle the exception and
exits, after a long delay, with

svn: Can&apos;t make directory &apos;test&apos;: Access is denied.

error message. In any case, the subdirectory with the backslash in its name is
not created in the checkout.

FWIW the files with backslashes in their names are not handled correctly neither
and an attempt to check out a repository containing &apos;subdir/foo\bar&apos; fails with
bogus error messages

svn: Your .svn/tmp directory may be missing or corrupt; run &apos;svn cleanup&apos; and
try again
svn: Can&apos;t open file &apos;test\subdir\.svn\tmp\text-base\foo\bar.svn-base&apos;: The
system cannot find the path specified.

and so while it doesn&apos;t crash, it doesn&apos;t handle them correctly neither.
&lt;/pre&gt;&lt;/p&gt;


&lt;p&gt;Original issue reported by &lt;b&gt;zeitlin&lt;/b&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows NT&lt;/p&gt;</environment>
        <key id="12899674">SVN-3288</key>
            <summary>svn crashes when checking out subdirectories with backslashes in their names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="subversion-importer">Subversion Importer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Sep 2008 08:40:59 +0000</created>
                <updated>Thu, 11 Aug 2022 09:39:12 +0000</updated>
                            <resolved>Tue, 19 Mar 2013 17:52:13 +0000</resolved>
                                    <version>1.5.x</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>libsvn_client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14927463" author="rhuijben" created="Mon, 21 Jan 2013 16:56:11 +0000"  >&lt;p&gt;&lt;pre&gt;I assume this issue is already fixed in 1.7.0, but I will add a regression test 
for 1.8.0.



I will update the status when completed.
&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14927464" author="rhuijben" created="Thu, 7 Feb 2013 19:13:24 +0000"  >&lt;p&gt;&lt;pre&gt;I can&apos;t reproduce a crash on trunk, but I got some pretty nasty errors.





I added a check in r1443662 which makes the update fail with a clear error. I 
would like to do something better in these cases, but I&apos;m not sure what we 
should do yet.


&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14927465" author="philipm" created="Mon, 11 Mar 2013 15:44:19 +0000"  >&lt;p&gt;&lt;pre&gt;This is not a regression. Is there anything more to do here?
&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14927466" author="pburba" created="Tue, 19 Mar 2013 16:29:27 +0000"  >&lt;p&gt;&lt;pre&gt;1.7.9-dev doesn&apos;t crash, it just returns an error (albeit not a particularly
friendly one):

1.7.9-dev&amp;gt;svn up -r1
Updating &apos;.&apos;:
At revision 1.

1.7.9-dev&amp;gt;svn st

1.7.9-dev&amp;gt;svn log -r2 -v
------------------------------------------------------------------------
r2 | jrandom | 2013-03-19 12:05:17 -0400 (Tue, 19 Mar 2013) | 1 line
Changed paths:
   A /A/completely\unusable\dir


------------------------------------------------------------------------

1.7.20&amp;gt;svn up
Updating &apos;.&apos;:
..\..\..\subversion\svn\update-cmd.c:163: (apr_err=200035)
..\..\..\subversion\libsvn_client\update.c:615: (apr_err=200035)
..\..\..\subversion\libsvn_client\update.c:556: (apr_err=200035)
..\..\..\subversion\libsvn_client\update.c:417: (apr_err=200035)
..\..\..\subversion\libsvn_ra_svn\client.c:301: (apr_err=200035)
..\..\..\subversion\libsvn_ra_svn\client.c:301: (apr_err=200035)
..\..\..\subversion\libsvn_repos\reporter.c:1544: (apr_err=200035)
..\..\..\subversion\libsvn_repos\reporter.c:1450: (apr_err=200035)
..\..\..\subversion\libsvn_delta\cancel.c:120: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_wc\update_editor.c:2200: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_wc\wc_db.c:11685: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_subr\sqlite.c:1135: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_subr\sqlite.c:1135: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_wc\wc_db.c:863: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_wc\wc_db.c:863: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_subr\sqlite.c:262: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_subr\sqlite.c:245: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed
..\..\..\subversion\libsvn_subr\sqlite.c:575: (apr_err=200035)
svn: E200035: sqlite: WC DB validity check 03 failed

1.7.20&amp;gt;svn st
!       .
!       A

With Bert&apos;s change in r1443662 the error is clearer:

1.8-dev&amp;gt;svn up -r1
Updating &apos;.&apos;:
At revision 1.

1.8-dev&amp;gt;svn up
Updating &apos;.&apos;:
..\..\..\subversion\svn\update-cmd.c:175: (apr_err=155000)
..\..\..\subversion\libsvn_client\update.c:641: (apr_err=155000)
..\..\..\subversion\libsvn_client\update.c:581: (apr_err=155000)
..\..\..\subversion\libsvn_client\update.c:441: (apr_err=155000)
..\..\..\subversion\libsvn_wc\adm_crawler.c:844: (apr_err=155000)
..\..\..\subversion\libsvn_ra_svn\client.c:306: (apr_err=155000)
..\..\..\subversion\libsvn_repos\reporter.c:1544: (apr_err=155000)
..\..\..\subversion\libsvn_repos\reporter.c:1450: (apr_err=155000)
..\..\..\subversion\libsvn_delta\cancel.c:120: (apr_err=155000)
..\..\..\subversion\libsvn_wc\update_editor.c:1966: (apr_err=155000)
..\..\..\subversion\libsvn_wc\update_editor.c:519: (apr_err=155000)
..\..\..\subversion\libsvn_wc\update_editor.c:1126: (apr_err=155000)
svn: E155000: &apos;completely\unusable\dir&apos; is not valid as filename in directory
&apos;C:\SVN\src-trunk-4\Debug\subversion\tests\cmdline\svn-test-work\working_copies\up
date_tests-77\A&apos;

1.8-dev&amp;gt;svn st
!       .
!       A

So as to Philip&apos;s question, there is no regression here and this issue shouldn&apos;t
block 1.8 -- Changing the target milestone to 1.8-consider in the event there is
still &quot;something better&quot; Bert wants to do (see desc3).  Bert - can you close
this issue if you didn&apos;t have anything in mind?  Or note what you&apos;d like to do
and bump the target milestone as appropriate.

&lt;/pre&gt;&lt;/p&gt;</comment>
                            <comment id="14927467" author="rhuijben" created="Tue, 19 Mar 2013 17:51:51 +0000"  >&lt;p&gt;&lt;pre&gt;I call this issue fixed. We now properly detect these cases during checkout.



I think we should add some svn_path code to detect Windows invalid paths using 
the known invalid path checks.



Switching the dependency with issue 4098 around
&lt;/pre&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12900484">SVN-4098</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13476356">SVN-4905</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12900484">SVN-4098</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311024" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>External issue ID</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3288</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313020" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Mailing List</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2m4kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>