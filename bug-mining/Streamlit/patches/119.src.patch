diff --git a/e2e_playwright/multipage_apps/mpa_basics_test.py b/e2e_playwright/multipage_apps/mpa_basics_test.py
index bf58751b5..4450f09d1 100644
--- a/e2e_playwright/multipage_apps/mpa_basics_test.py
+++ b/e2e_playwright/multipage_apps/mpa_basics_test.py
@@ -19,7 +19,11 @@ from e2e_playwright.conftest import (
     wait_for_app_loaded,
     wait_for_app_run,
 )
-from e2e_playwright.shared.app_utils import click_button
+from e2e_playwright.shared.app_utils import (
+    click_button,
+    get_button_group,
+    get_segment_button,
+)
 
 
 def test_loads_main_script_on_initial_page_load(app: Page):
@@ -354,3 +358,29 @@ def test_renders_large_logos(app: Page, assert_snapshot: ImageCompareFunction):
     assert_snapshot(
         app.get_by_test_id("stSidebarCollapsedControl"), name="large-collapsed-logo"
     )
+
+
+def test_completes_script_lifecycle(app: Page):
+    app.get_by_test_id("stSidebarNav").locator("a").nth(11).click()
+    wait_for_app_loaded(app)
+    # Verify initial state is set correctly
+    expect(app.get_by_text("radio value: A, state value: A")).to_be_visible()
+
+    # Update the radio button and verify the state is updated
+    radio_button = app.get_by_test_id("stRadio").first
+    radio_option = radio_button.locator('label[data-baseweb="radio"]').nth(1)
+    radio_option.click(delay=50)
+    wait_for_app_run(app)
+    expect(app.get_by_text("radio value: B, state value: B")).to_be_visible()
+
+    # Switch the segmented control to remove the radio button
+    segmented_control = get_button_group(app, "layout_mode")
+    get_segment_button(segmented_control, "layout2").click()
+    wait_for_app_run(app)
+
+    # Switch back to the layout with the radio button
+    get_segment_button(segmented_control, "layout1").click()
+    wait_for_app_run(app)
+
+    # Expect the state to be reset to the initial state
+    expect(app.get_by_text("radio value: A, state value: A")).to_be_visible()
diff --git a/e2e_playwright/multipage_apps/pages/12_page12.py b/e2e_playwright/multipage_apps/pages/12_page12.py
index 80394f58c..9e19fa6c9 100644
--- a/e2e_playwright/multipage_apps/pages/12_page12.py
+++ b/e2e_playwright/multipage_apps/pages/12_page12.py
@@ -15,3 +15,18 @@
 import streamlit as st
 
 st.header("Page 12")
+
+layout_mode = st.segmented_control(
+    "layout mode",
+    ["layout1", "layout2"],
+    selection_mode="single",
+    default="layout1",
+    key="layout_mode",
+)
+
+if layout_mode == "layout1":
+    st.write("layout1")
+    r = st.radio("Select a value", ["A", "B", "C"], horizontal=True, key="_radio")
+    st.write(f"radio value: {r}, state value: {st.session_state['_radio']}")
+elif layout_mode == "layout2":
+    st.write("layout2")
diff --git a/e2e_playwright/shared/app_utils.py b/e2e_playwright/shared/app_utils.py
index 43f13e689..863eacd24 100644
--- a/e2e_playwright/shared/app_utils.py
+++ b/e2e_playwright/shared/app_utils.py
@@ -865,3 +865,43 @@ def is_child_bounding_box_inside_parent(
         and (child_box["y"] + child_box["height"])
         <= (parent_box["y"] + parent_box["height"])
     )
+
+
+def get_button_group(app: Page, key: str) -> Locator:
+    """Get a button group with the given key.
+
+    Parameters
+    ----------
+    app : Page
+        The page to search for the button group.
+
+    key : str
+        The key of the button group to get.
+
+    Returns
+    -------
+    Locator
+        The button group.
+    """
+    return get_element_by_key(app, key).get_by_test_id("stButtonGroup").first
+
+
+def get_segment_button(locator: Locator, text: str) -> Locator:
+    """Get a segment button with the given button group.
+
+    Parameters
+    ----------
+    locator : Locator
+        The locator of the button groupto search for the segment button.
+
+    text : str
+        The text of the segment button to get.
+
+    Returns
+    -------
+    Locator
+        The segment button.
+    """
+    return locator.get_by_test_id(
+        re.compile("stBaseButton-segmented_control(Active)?")
+    ).filter(has_text=text)
diff --git a/e2e_playwright/st_segmented_control_test.py b/e2e_playwright/st_segmented_control_test.py
index 2b0a1b46e..886ab12f5 100644
--- a/e2e_playwright/st_segmented_control_test.py
+++ b/e2e_playwright/st_segmented_control_test.py
@@ -14,7 +14,7 @@
 
 import re
 
-from playwright.sync_api import Locator, Page, expect
+from playwright.sync_api import Page, expect
 
 from e2e_playwright.conftest import ImageCompareFunction, wait_for_app_run
 from e2e_playwright.shared.app_utils import (
@@ -24,21 +24,13 @@ from e2e_playwright.shared.app_utils import (
     click_form_button,
     expect_help_tooltip,
     expect_markdown,
+    get_button_group,
     get_element_by_key,
     get_markdown,
+    get_segment_button,
 )
 
 
-def get_button_group(app: Page, key: str) -> Locator:
-    return get_element_by_key(app, key).get_by_test_id("stButtonGroup").first
-
-
-def get_segment_button(locator: Locator, text: str) -> Locator:
-    return locator.get_by_test_id(
-        re.compile("stBaseButton-segmented_control(Active)?")
-    ).filter(has_text=text)
-
-
 def test_click_multiple_segmented_control_button_and_take_snapshot(
     themed_app: Page, assert_snapshot: ImageCompareFunction
 ):
diff --git a/lib/streamlit/runtime/scriptrunner/script_runner.py b/lib/streamlit/runtime/scriptrunner/script_runner.py
index 091ebc6d0..164b85f44 100644
--- a/lib/streamlit/runtime/scriptrunner/script_runner.py
+++ b/lib/streamlit/runtime/scriptrunner/script_runner.py
@@ -161,11 +161,7 @@ def _mpa_v1(main_script_path: str):
         expanded=False,
     )
 
-    if page._page != main_page._page:
-        # Only run the page if it is not pointing to this script:
-        page.run()
-        # Finish the script execution here to only run the selected page
-        raise StopException()
+    page.run()
 
 
 class ScriptRunner:
@@ -645,7 +641,8 @@ class ScriptRunner:
                     else:
                         if PagesManager.uses_pages_directory:
                             _mpa_v1(self._main_script_path)
-                        exec(code, module.__dict__)  # noqa: S102
+                        else:
+                            exec(code, module.__dict__)  # noqa: S102
                         self._fragment_storage.clear(
                             new_fragment_ids=ctx.new_fragment_ids
                         )
