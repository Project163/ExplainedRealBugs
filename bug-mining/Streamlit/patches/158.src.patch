diff --git a/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[chromium].png b/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[chromium].png
index 9160f5853..10f3319f0 100644
Binary files a/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[chromium].png and b/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[firefox].png b/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[firefox].png
index 83eb948ff..5a8423872 100644
Binary files a/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[firefox].png and b/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[webkit].png b/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[webkit].png
index 73a6e5378..b931d1aae 100644
Binary files a/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[webkit].png and b/e2e_playwright/__snapshots__/linux/st_code_test/st_code-columns[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[chromium].png
new file mode 100644
index 000000000..5f17967ad
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[firefox].png
new file mode 100644
index 000000000..58ade7d9e
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[webkit].png
new file mode 100644
index 000000000..a70505dac
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-center[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[chromium].png
new file mode 100644
index 000000000..9e6a41d5c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[firefox].png
new file mode 100644
index 000000000..f433236b3
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[webkit].png
new file mode 100644
index 000000000..b62e0cca8
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-distribute[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[chromium].png
new file mode 100644
index 000000000..e3376a304
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[firefox].png
new file mode 100644
index 000000000..4e6e0611f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[webkit].png
new file mode 100644
index 000000000..d6a410f1d
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-left[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[chromium].png
new file mode 100644
index 000000000..6a96cf790
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[firefox].png
new file mode 100644
index 000000000..22623782f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[webkit].png
new file mode 100644
index 000000000..d6bbc5234
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-align-right[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[chromium].png
new file mode 100644
index 000000000..e7d0d4133
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[firefox].png
new file mode 100644
index 000000000..198c371b6
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[webkit].png
new file mode 100644
index 000000000..7ef7195d1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-bottom[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[chromium].png
new file mode 100644
index 000000000..a07bd5e7c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[firefox].png
new file mode 100644
index 000000000..6f013e2e1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[webkit].png
new file mode 100644
index 000000000..cc6066c21
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-center[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[chromium].png
new file mode 100644
index 000000000..b7f8d67d7
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[firefox].png
new file mode 100644
index 000000000..6409a491e
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[webkit].png
new file mode 100644
index 000000000..19dd3b991
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-horizontal-vertical-align-top[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[chromium].png
new file mode 100644
index 000000000..4182b1c79
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[firefox].png
new file mode 100644
index 000000000..d22ea4ca6
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[webkit].png
new file mode 100644
index 000000000..fe7848116
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-center[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[chromium].png
new file mode 100644
index 000000000..39a554251
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[firefox].png
new file mode 100644
index 000000000..b6dc88169
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[webkit].png
new file mode 100644
index 000000000..f3f092060
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-left[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[chromium].png
new file mode 100644
index 000000000..fe8d9f973
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[firefox].png
new file mode 100644
index 000000000..97ffa063d
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[webkit].png
new file mode 100644
index 000000000..af9dbe119
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-horizontal-align-right[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[chromium].png
new file mode 100644
index 000000000..0d4b5e1ba
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[firefox].png
new file mode 100644
index 000000000..814ab2716
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[webkit].png
new file mode 100644
index 000000000..e97d45abc
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-bottom[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[chromium].png
new file mode 100644
index 000000000..d6e60e2d9
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[firefox].png
new file mode 100644
index 000000000..84fefa839
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[webkit].png
new file mode 100644
index 000000000..eadaa71db
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-center[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[chromium].png
new file mode 100644
index 000000000..1f6cc6be3
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[firefox].png
new file mode 100644
index 000000000..1e3df61ef
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[webkit].png
new file mode 100644
index 000000000..1246a06c8
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-distribute[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[chromium].png
new file mode 100644
index 000000000..c8a4ce161
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[firefox].png
new file mode 100644
index 000000000..a1c88f044
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[webkit].png
new file mode 100644
index 000000000..03c29b243
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_alignment_test/st_layouts_container_alignment-container-vertical-vertical-align-top[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[chromium].png
new file mode 100644
index 000000000..04c43279b
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[firefox].png
new file mode 100644
index 000000000..c5c44c7c9
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[webkit].png
new file mode 100644
index 000000000..a9e057312
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[chromium].png
new file mode 100644
index 000000000..003766c34
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[firefox].png
new file mode 100644
index 000000000..501ba4162
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[webkit].png
new file mode 100644
index 000000000..52b83978d
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[chromium].png
new file mode 100644
index 000000000..fbb4ecee7
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[firefox].png
new file mode 100644
index 000000000..6801c7f15
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[webkit].png
new file mode 100644
index 000000000..26f2ea14f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[chromium].png
new file mode 100644
index 000000000..9620acc59
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[firefox].png
new file mode 100644
index 000000000..366aca3ec
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[webkit].png
new file mode 100644
index 000000000..ae2ef6cd7
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[chromium].png
new file mode 100644
index 000000000..870a42035
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[firefox].png
new file mode 100644
index 000000000..4cc6ef9aa
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[webkit].png
new file mode 100644
index 000000000..b56315da9
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_fullscreen_elements_test/st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[chromium].png
new file mode 100644
index 000000000..1a0f80ec8
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[firefox].png
new file mode 100644
index 000000000..b75b233c1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[webkit].png
new file mode 100644
index 000000000..25733abf6
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-basic[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[chromium].png
new file mode 100644
index 000000000..799adf18a
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[firefox].png
new file mode 100644
index 000000000..d272510b7
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[webkit].png
new file mode 100644
index 000000000..c5292e76b
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-height-element[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[chromium].png
new file mode 100644
index 000000000..b1ded8456
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[firefox].png
new file mode 100644
index 000000000..c05d9a546
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[webkit].png
new file mode 100644
index 000000000..4609eb71f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-horizontal-fixed-width-and-stretch-element[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[chromium].png
new file mode 100644
index 000000000..8ed0bfa8f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[firefox].png
new file mode 100644
index 000000000..be80c7f73
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[webkit].png
new file mode 100644
index 000000000..508c31950
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-basic[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[chromium].png
new file mode 100644
index 000000000..dfe628f51
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[firefox].png
new file mode 100644
index 000000000..69a8a0c30
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[webkit].png
new file mode 100644
index 000000000..7326cb1fc
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-height-element[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[chromium].png
new file mode 100644
index 000000000..daffd3d1d
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[firefox].png
new file mode 100644
index 000000000..acf1f92cb
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[webkit].png
new file mode 100644
index 000000000..d4f95aaf2
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_directions_test/st_layouts_container_directions-container-vertical-fixed-width-and-stretch-element[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[chromium].png
new file mode 100644
index 000000000..7f848e772
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[firefox].png
new file mode 100644
index 000000000..a0c577953
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[webkit].png
new file mode 100644
index 000000000..8a552c3b2
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-large[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[chromium].png
new file mode 100644
index 000000000..720fceb3f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[firefox].png
new file mode 100644
index 000000000..f41ce0401
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[webkit].png
new file mode 100644
index 000000000..c810dabc8
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-medium[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[chromium].png
new file mode 100644
index 000000000..dac3b5939
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[firefox].png
new file mode 100644
index 000000000..fe1addbfd
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[webkit].png
new file mode 100644
index 000000000..e54ba8c1f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-none[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[chromium].png
new file mode 100644
index 000000000..d45643879
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[firefox].png
new file mode 100644
index 000000000..1b363a594
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[webkit].png
new file mode 100644
index 000000000..c85f29970
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-horizontal-gap-small[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[chromium].png
new file mode 100644
index 000000000..895ed3876
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[firefox].png
new file mode 100644
index 000000000..fba87795b
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[webkit].png
new file mode 100644
index 000000000..78e9d3794
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-large[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[chromium].png
new file mode 100644
index 000000000..cc054d4e7
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[firefox].png
new file mode 100644
index 000000000..bf690e6e4
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[webkit].png
new file mode 100644
index 000000000..2cd1fd009
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-medium[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[chromium].png
new file mode 100644
index 000000000..af11e399c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[firefox].png
new file mode 100644
index 000000000..8babd8d54
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[webkit].png
new file mode 100644
index 000000000..f3c474a99
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-none[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[chromium].png
new file mode 100644
index 000000000..53b8c0515
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[firefox].png
new file mode 100644
index 000000000..bdaf3a1fb
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[webkit].png
new file mode 100644
index 000000000..9ebf6c788
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_gap_size_test/st_layouts_container_gap_size-container-vertical-gap-small[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[chromium-layout-horizontal-button-groups].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[chromium-layout-horizontal-button-groups].png
new file mode 100644
index 000000000..d296684b6
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[chromium-layout-horizontal-button-groups].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[firefox-layout-horizontal-button-groups].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[firefox-layout-horizontal-button-groups].png
new file mode 100644
index 000000000..894af6264
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[firefox-layout-horizontal-button-groups].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[webkit-layout-horizontal-button-groups].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[webkit-layout-horizontal-button-groups].png
new file mode 100644
index 000000000..d5b06f236
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_reduced[webkit-layout-horizontal-button-groups].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[chromium-layout-horizontal-button-groups].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[chromium-layout-horizontal-button-groups].png
new file mode 100644
index 000000000..afee1d151
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[chromium-layout-horizontal-button-groups].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[firefox-layout-horizontal-button-groups].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[firefox-layout-horizontal-button-groups].png
new file mode 100644
index 000000000..1605c8766
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[firefox-layout-horizontal-button-groups].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[webkit-layout-horizontal-button-groups].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[webkit-layout-horizontal-button-groups].png
new file mode 100644
index 000000000..a2d2574ce
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-button-groups_regular[webkit-layout-horizontal-button-groups].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[chromium-layout-horizontal-buttons].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[chromium-layout-horizontal-buttons].png
new file mode 100644
index 000000000..38e8e0869
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[chromium-layout-horizontal-buttons].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[firefox-layout-horizontal-buttons].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[firefox-layout-horizontal-buttons].png
new file mode 100644
index 000000000..f216b1925
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[firefox-layout-horizontal-buttons].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[webkit-layout-horizontal-buttons].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[webkit-layout-horizontal-buttons].png
new file mode 100644
index 000000000..e0d26030e
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_reduced[webkit-layout-horizontal-buttons].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[chromium-layout-horizontal-buttons].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[chromium-layout-horizontal-buttons].png
new file mode 100644
index 000000000..bf4dcf4a0
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[chromium-layout-horizontal-buttons].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[firefox-layout-horizontal-buttons].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[firefox-layout-horizontal-buttons].png
new file mode 100644
index 000000000..465b712ae
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[firefox-layout-horizontal-buttons].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[webkit-layout-horizontal-buttons].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[webkit-layout-horizontal-buttons].png
new file mode 100644
index 000000000..6a9d4c351
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-buttons_regular[webkit-layout-horizontal-buttons].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[chromium-layout-horizontal-checkboxes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[chromium-layout-horizontal-checkboxes].png
new file mode 100644
index 000000000..f2b262caf
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[chromium-layout-horizontal-checkboxes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[firefox-layout-horizontal-checkboxes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[firefox-layout-horizontal-checkboxes].png
new file mode 100644
index 000000000..243ed2d56
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[firefox-layout-horizontal-checkboxes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[webkit-layout-horizontal-checkboxes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[webkit-layout-horizontal-checkboxes].png
new file mode 100644
index 000000000..33dfebee5
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_reduced[webkit-layout-horizontal-checkboxes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[chromium-layout-horizontal-checkboxes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[chromium-layout-horizontal-checkboxes].png
new file mode 100644
index 000000000..244af7dfb
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[chromium-layout-horizontal-checkboxes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[firefox-layout-horizontal-checkboxes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[firefox-layout-horizontal-checkboxes].png
new file mode 100644
index 000000000..d07c9d500
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[firefox-layout-horizontal-checkboxes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[webkit-layout-horizontal-checkboxes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[webkit-layout-horizontal-checkboxes].png
new file mode 100644
index 000000000..b0acdee77
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-checkboxes_regular[webkit-layout-horizontal-checkboxes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[chromium-layout-horizontal-columns].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[chromium-layout-horizontal-columns].png
new file mode 100644
index 000000000..bf81710ec
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[chromium-layout-horizontal-columns].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[firefox-layout-horizontal-columns].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[firefox-layout-horizontal-columns].png
new file mode 100644
index 000000000..fc426ae07
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[firefox-layout-horizontal-columns].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[webkit-layout-horizontal-columns].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[webkit-layout-horizontal-columns].png
new file mode 100644
index 000000000..578059851
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_reduced[webkit-layout-horizontal-columns].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[chromium-layout-horizontal-columns].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[chromium-layout-horizontal-columns].png
new file mode 100644
index 000000000..0caa3ef3d
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[chromium-layout-horizontal-columns].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[firefox-layout-horizontal-columns].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[firefox-layout-horizontal-columns].png
new file mode 100644
index 000000000..d8cb81045
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[firefox-layout-horizontal-columns].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[webkit-layout-horizontal-columns].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[webkit-layout-horizontal-columns].png
new file mode 100644
index 000000000..6345ce401
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-columns_regular[webkit-layout-horizontal-columns].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[chromium-layout-horizontal-dataframes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[chromium-layout-horizontal-dataframes].png
new file mode 100644
index 000000000..3b9ebc369
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[chromium-layout-horizontal-dataframes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[firefox-layout-horizontal-dataframes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[firefox-layout-horizontal-dataframes].png
new file mode 100644
index 000000000..c38a6c0b1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[firefox-layout-horizontal-dataframes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[webkit-layout-horizontal-dataframes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[webkit-layout-horizontal-dataframes].png
new file mode 100644
index 000000000..d73c98418
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_reduced[webkit-layout-horizontal-dataframes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[chromium-layout-horizontal-dataframes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[chromium-layout-horizontal-dataframes].png
new file mode 100644
index 000000000..d3eb0b3f1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[chromium-layout-horizontal-dataframes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[firefox-layout-horizontal-dataframes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[firefox-layout-horizontal-dataframes].png
new file mode 100644
index 000000000..432ca9259
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[firefox-layout-horizontal-dataframes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[webkit-layout-horizontal-dataframes].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[webkit-layout-horizontal-dataframes].png
new file mode 100644
index 000000000..a6e767932
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-dataframes_regular[webkit-layout-horizontal-dataframes].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[chromium-layout-horizontal-inputs].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[chromium-layout-horizontal-inputs].png
new file mode 100644
index 000000000..af09921e9
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[chromium-layout-horizontal-inputs].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[firefox-layout-horizontal-inputs].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[firefox-layout-horizontal-inputs].png
new file mode 100644
index 000000000..5821b27a4
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[firefox-layout-horizontal-inputs].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[webkit-layout-horizontal-inputs].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[webkit-layout-horizontal-inputs].png
new file mode 100644
index 000000000..d467fe284
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_reduced[webkit-layout-horizontal-inputs].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[chromium-layout-horizontal-inputs].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[chromium-layout-horizontal-inputs].png
new file mode 100644
index 000000000..42757ec19
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[chromium-layout-horizontal-inputs].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[firefox-layout-horizontal-inputs].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[firefox-layout-horizontal-inputs].png
new file mode 100644
index 000000000..5dbb960b0
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[firefox-layout-horizontal-inputs].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[webkit-layout-horizontal-inputs].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[webkit-layout-horizontal-inputs].png
new file mode 100644
index 000000000..39c47ecad
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-inputs_regular[webkit-layout-horizontal-inputs].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[chromium-layout-horizontal-markdown].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[chromium-layout-horizontal-markdown].png
new file mode 100644
index 000000000..89a90b856
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[chromium-layout-horizontal-markdown].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[firefox-layout-horizontal-markdown].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[firefox-layout-horizontal-markdown].png
new file mode 100644
index 000000000..1346b6a01
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[firefox-layout-horizontal-markdown].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[webkit-layout-horizontal-markdown].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[webkit-layout-horizontal-markdown].png
new file mode 100644
index 000000000..2375158c7
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_reduced[webkit-layout-horizontal-markdown].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[chromium-layout-horizontal-markdown].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[chromium-layout-horizontal-markdown].png
new file mode 100644
index 000000000..70ecbcc3c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[chromium-layout-horizontal-markdown].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[firefox-layout-horizontal-markdown].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[firefox-layout-horizontal-markdown].png
new file mode 100644
index 000000000..46657bba6
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[firefox-layout-horizontal-markdown].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[webkit-layout-horizontal-markdown].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[webkit-layout-horizontal-markdown].png
new file mode 100644
index 000000000..b01e4e137
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-markdown_regular[webkit-layout-horizontal-markdown].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[chromium-layout-horizontal-nested-containers].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[chromium-layout-horizontal-nested-containers].png
new file mode 100644
index 000000000..9cd65f188
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[chromium-layout-horizontal-nested-containers].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[firefox-layout-horizontal-nested-containers].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[firefox-layout-horizontal-nested-containers].png
new file mode 100644
index 000000000..74a58bf1a
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[firefox-layout-horizontal-nested-containers].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[webkit-layout-horizontal-nested-containers].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[webkit-layout-horizontal-nested-containers].png
new file mode 100644
index 000000000..8e141d454
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_reduced[webkit-layout-horizontal-nested-containers].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[chromium-layout-horizontal-nested-containers].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[chromium-layout-horizontal-nested-containers].png
new file mode 100644
index 000000000..f6f52724a
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[chromium-layout-horizontal-nested-containers].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[firefox-layout-horizontal-nested-containers].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[firefox-layout-horizontal-nested-containers].png
new file mode 100644
index 000000000..2e5790963
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[firefox-layout-horizontal-nested-containers].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[webkit-layout-horizontal-nested-containers].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[webkit-layout-horizontal-nested-containers].png
new file mode 100644
index 000000000..4616bb839
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-nested-containers_regular[webkit-layout-horizontal-nested-containers].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[chromium-layout-horizontal-text-area-info].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[chromium-layout-horizontal-text-area-info].png
new file mode 100644
index 000000000..179c5059a
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[chromium-layout-horizontal-text-area-info].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[firefox-layout-horizontal-text-area-info].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[firefox-layout-horizontal-text-area-info].png
new file mode 100644
index 000000000..24c0ce3bc
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[firefox-layout-horizontal-text-area-info].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[webkit-layout-horizontal-text-area-info].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[webkit-layout-horizontal-text-area-info].png
new file mode 100644
index 000000000..06c08f39f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_reduced[webkit-layout-horizontal-text-area-info].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[chromium-layout-horizontal-text-area-info].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[chromium-layout-horizontal-text-area-info].png
new file mode 100644
index 000000000..00faa4e22
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[chromium-layout-horizontal-text-area-info].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[firefox-layout-horizontal-text-area-info].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[firefox-layout-horizontal-text-area-info].png
new file mode 100644
index 000000000..e7d5f893f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[firefox-layout-horizontal-text-area-info].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[webkit-layout-horizontal-text-area-info].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[webkit-layout-horizontal-text-area-info].png
new file mode 100644
index 000000000..e7b4a6c7b
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_min_width_test/st_layouts_container_min_width-text-area-info_regular[webkit-layout-horizontal-text-area-info].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[chromium].png
new file mode 100644
index 000000000..f65878bb1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[firefox].png
new file mode 100644
index 000000000..09e252609
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[webkit].png
new file mode 100644
index 000000000..0c6206468
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-dashboard-example[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[chromium].png
new file mode 100644
index 000000000..5473dbbf1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[firefox].png
new file mode 100644
index 000000000..745539c16
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[webkit].png
new file mode 100644
index 000000000..bf502ad84
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-columns[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[chromium].png
new file mode 100644
index 000000000..28020de86
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[firefox].png
new file mode 100644
index 000000000..1512e6f07
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[webkit].png
new file mode 100644
index 000000000..9532c1ff2
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-content-width[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[chromium].png
new file mode 100644
index 000000000..ed9cde7b4
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[firefox].png
new file mode 100644
index 000000000..0da5fb947
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[webkit].png
new file mode 100644
index 000000000..5230399aa
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-expander-opened[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[chromium].png
new file mode 100644
index 000000000..ebfef6ddc
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[firefox].png
new file mode 100644
index 000000000..ad9976079
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[webkit].png
new file mode 100644
index 000000000..37709b9b9
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width-large[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[chromium].png
new file mode 100644
index 000000000..05f8ec3b4
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[firefox].png
new file mode 100644
index 000000000..e9a799042
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[webkit].png
new file mode 100644
index 000000000..a5f2af9cb
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-content-width[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[chromium].png
new file mode 100644
index 000000000..96aa91317
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[firefox].png
new file mode 100644
index 000000000..f72c10208
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[webkit].png
new file mode 100644
index 000000000..486786e7b
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe-expander-opened[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[chromium].png
new file mode 100644
index 000000000..0e652288f
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[firefox].png
new file mode 100644
index 000000000..b7fce6a84
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[webkit].png
new file mode 100644
index 000000000..d8370574d
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-expander-dataframe[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[chromium].png
new file mode 100644
index 000000000..acf5be7a7
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[firefox].png
new file mode 100644
index 000000000..aaa9fed7e
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[webkit].png
new file mode 100644
index 000000000..c1d83e4ce
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-form[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[chromium].png
new file mode 100644
index 000000000..d94affc67
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[firefox].png
new file mode 100644
index 000000000..61041be1c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[webkit].png
new file mode 100644
index 000000000..822f80317
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-center[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[chromium].png
new file mode 100644
index 000000000..fb5991eb2
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[firefox].png
new file mode 100644
index 000000000..bce29666c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[webkit].png
new file mode 100644
index 000000000..f0aca4146
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-images-distribute[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-map[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-map[chromium].png
new file mode 100644
index 000000000..b25f6aeb1
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-map[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-map[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-map[webkit].png
new file mode 100644
index 000000000..3039c9984
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-map[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[chromium].png
new file mode 100644
index 000000000..89a332a3c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[firefox].png
new file mode 100644
index 000000000..4fc33d397
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[webkit].png
new file mode 100644
index 000000000..294a7a846
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-tabs[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[chromium].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[chromium].png
new file mode 100644
index 000000000..7e3182f69
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[firefox].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[firefox].png
new file mode 100644
index 000000000..a55ee09be
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[webkit].png b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[webkit].png
new file mode 100644
index 000000000..9c725dc3a
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_layouts_container_various_elements_test/st_layouts_container_various_elements-layout-horizontal-text-area[webkit].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[chromium].png b/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[chromium].png
new file mode 100644
index 000000000..a114481d6
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[chromium].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[firefox].png b/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[firefox].png
new file mode 100644
index 000000000..8ecf2182c
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[firefox].png differ
diff --git a/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[webkit].png b/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[webkit].png
new file mode 100644
index 000000000..30e2794e9
Binary files /dev/null and b/e2e_playwright/__snapshots__/linux/st_text_area_test/st_text_area-horizontal_layout[webkit].png differ
diff --git a/e2e_playwright/shared/toolbar_utils.py b/e2e_playwright/shared/toolbar_utils.py
index 2c542ee05..48b33a54d 100644
--- a/e2e_playwright/shared/toolbar_utils.py
+++ b/e2e_playwright/shared/toolbar_utils.py
@@ -33,6 +33,7 @@ def assert_fullscreen_toolbar_button_interactions(
     filename_prefix: str = "",
     nth: int = 0,
     pixel_threshold: float = 0.05,
+    fullscreen_wrapper_nth: int | None = None,
 ) -> None:
     """
     Shared test function to assert that clicking on fullscreen toolbar button
@@ -41,7 +42,12 @@ def assert_fullscreen_toolbar_button_interactions(
 
     widget_element = app.get_by_test_id(widget_test_id).nth(nth)
     widget_toolbar = widget_element.get_by_test_id("stElementToolbar")
-    fullscreen_wrapper = app.get_by_test_id("stFullScreenFrame").nth(nth)
+    if fullscreen_wrapper_nth is not None:
+        fullscreen_wrapper = app.get_by_test_id("stFullScreenFrame").nth(
+            fullscreen_wrapper_nth
+        )
+    else:
+        fullscreen_wrapper = app.get_by_test_id("stFullScreenFrame").nth(nth)
 
     fullscreen_toolbar_button = widget_toolbar.get_by_test_id(
         "stElementToolbarButton"
diff --git a/e2e_playwright/st_code.py b/e2e_playwright/st_code.py
index fad1b8063..dbd3e5648 100644
--- a/e2e_playwright/st_code.py
+++ b/e2e_playwright/st_code.py
@@ -139,13 +139,20 @@ with st.form("form with a code block", height=400):
     st.code(code, height="stretch")
     st.form_submit_button("Submit")
 
-col1, col2 = st.columns(2)
+col1, col2, col3 = st.columns(3)
+
+narrow_code = """
+def hello():
+    print("Hello!")
+"""
 
 with col1:
-    st.code(code, height=300)
-    st.code(code, height="stretch")
+    st.code(narrow_code, height=300)
+    st.code(narrow_code, height="stretch")
 with col2:
-    st.code(code, height="stretch")
+    st.code(narrow_code, height="stretch")
+with col3:
+    st.code(narrow_code, height="content")
 
 with st.container(height=300, key="container_with_code"):
     st.code(code, height=100)
diff --git a/e2e_playwright/st_code_test.py b/e2e_playwright/st_code_test.py
index dd5aa06bd..110b6f8d6 100644
--- a/e2e_playwright/st_code_test.py
+++ b/e2e_playwright/st_code_test.py
@@ -73,7 +73,7 @@ def test_code_blocks_render_correctly(
 ):
     """Test that the code blocks render as expected via screenshot matching."""
     code_blocks = themed_app.get_by_test_id("stCode")
-    expect(code_blocks).to_have_count(32)
+    expect(code_blocks).to_have_count(33)
     # The code blocks might require a bit more time for rendering, so wait until
     # the text is truly visible. Otherwise we might get blank code blocks in the
     # screenshots.
@@ -82,7 +82,7 @@ def test_code_blocks_render_correctly(
         f"()=>document.body.textContent.split('def foo()').length === {foo_func_count}"
     )
     # Check that there are 15 code blocks with the class "language-python"
-    expect(themed_app.locator("code.language-python")).to_have_count(30)
+    expect(themed_app.locator("code.language-python")).to_have_count(31)
 
     assert_snapshot(code_blocks.nth(0), name="st_code-auto_lang")
     assert_snapshot(code_blocks.nth(1), name="st_code-empty")
diff --git a/e2e_playwright/st_layouts_container_alignment.py b/e2e_playwright/st_layouts_container_alignment.py
new file mode 100644
index 000000000..5569b8eee
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_alignment.py
@@ -0,0 +1,159 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import streamlit as st
+
+with st.container(
+    horizontal=True,
+    border=True,
+    horizontal_alignment="left",
+    key="container-horizontal-align-left",
+):
+    st.html('<div style="background:lightblue;">One</div>', width="content")
+    st.html('<div style="background:lightblue;">Two</div>', width="content")
+    st.html('<div style="background:lightblue;">Three</div>', width="content")
+
+with st.container(
+    horizontal=True,
+    border=True,
+    horizontal_alignment="center",
+    key="container-horizontal-align-center",
+):
+    st.html('<div style="background:lightblue;">One</div>', width="content")
+    st.html('<div style="background:lightblue;">Two</div>', width="content")
+    st.html('<div style="background:lightblue;">Three</div>', width="content")
+
+with st.container(
+    horizontal=True,
+    border=True,
+    horizontal_alignment="right",
+    key="container-horizontal-align-right",
+):
+    st.html('<div style="background:lightblue;">One</div>', width="content")
+    st.html('<div style="background:lightblue;">Two</div>', width="content")
+    st.html('<div style="background:lightblue;">Three</div>', width="content")
+
+with st.container(
+    horizontal=True,
+    border=True,
+    horizontal_alignment="distribute",
+    key="container-horizontal-align-distribute",
+):
+    st.html('<div style="background:lightblue;">One</div>', width="content")
+    st.html('<div style="background:lightblue;">Two</div>', width="content")
+    st.html('<div style="background:lightblue;">Three</div>', width="content")
+
+with st.container(
+    horizontal=True,
+    border=True,
+    vertical_alignment="top",
+    key="container-horizontal-vertical-align-top",
+):
+    st.container(border=True, height=70)
+    st.container(border=True, height=125)
+    st.container(border=True, height=25)
+
+with st.container(
+    horizontal=True,
+    border=True,
+    vertical_alignment="center",
+    key="container-horizontal-vertical-align-center",
+):
+    st.container(border=True, height=70)
+    st.container(border=True, height=125)
+    st.container(border=True, height=25)
+
+with st.container(
+    horizontal=True,
+    border=True,
+    vertical_alignment="bottom",
+    key="container-horizontal-vertical-align-bottom",
+):
+    st.container(border=True, height=70)
+    st.container(border=True, height=125)
+    st.container(border=True, height=25)
+
+with st.container(
+    horizontal=False,
+    border=True,
+    vertical_alignment="top",
+    height=300,
+    key="container-vertical-vertical-align-top",
+):
+    st.html('<div style="background:lightblue;">One</div>')
+    st.html('<div style="background:lightblue;">Two</div>')
+    st.html('<div style="background:lightblue;">Three</div>')
+
+with st.container(
+    horizontal=False,
+    border=True,
+    vertical_alignment="center",
+    height=300,
+    key="container-vertical-vertical-align-center",
+):
+    st.html('<div style="background:lightblue;">One</div>')
+    st.html('<div style="background:lightblue;">Two</div>')
+    st.html('<div style="background:lightblue;">Three</div>')
+
+with st.container(
+    horizontal=False,
+    border=True,
+    vertical_alignment="bottom",
+    height=300,
+    key="container-vertical-vertical-align-bottom",
+):
+    st.html('<div style="background:lightblue;">One</div>')
+    st.html('<div style="background:lightblue;">Two</div>')
+    st.html('<div style="background:lightblue;">Three</div>')
+
+with st.container(
+    horizontal=False,
+    border=True,
+    vertical_alignment="distribute",
+    height=300,
+    key="container-vertical-vertical-align-distribute",
+):
+    st.html('<div style="background:lightblue;">One</div>')
+    st.html('<div style="background:lightblue;">Two</div>')
+    st.html('<div style="background:lightblue;">Three</div>')
+
+with st.container(
+    horizontal=False,
+    border=True,
+    horizontal_alignment="left",
+    key="container-vertical-horizontal-align-left",
+):
+    st.html('<div style="background:lightblue;">One</div>', width="content")
+    st.html('<div style="background:lightblue;">Two</div>', width="content")
+    st.html('<div style="background:lightblue;">Three</div>', width="content")
+
+with st.container(
+    horizontal=False,
+    border=True,
+    horizontal_alignment="center",
+    key="container-vertical-horizontal-align-center",
+):
+    st.html('<div style="background:lightblue;">One</div>', width="content")
+    st.html('<div style="background:lightblue;">Two</div>', width="content")
+    st.html('<div style="background:lightblue;">Three</div>', width="content")
+
+with st.container(
+    horizontal=False,
+    border=True,
+    horizontal_alignment="right",
+    key="container-vertical-horizontal-align-right",
+):
+    st.html('<div style="background:lightblue;">One</div>', width="content")
+    st.html('<div style="background:lightblue;">Two</div>', width="content")
+    st.html('<div style="background:lightblue;">Three</div>', width="content")
diff --git a/e2e_playwright/st_layouts_container_alignment_test.py b/e2e_playwright/st_layouts_container_alignment_test.py
new file mode 100644
index 000000000..98e18bdd4
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_alignment_test.py
@@ -0,0 +1,42 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+from playwright.sync_api import Page
+
+from e2e_playwright.conftest import ImageCompareFunction
+from e2e_playwright.shared.app_utils import get_element_by_key
+
+CONTAINER_KEYS = [
+    "container-horizontal-align-left",
+    "container-horizontal-align-center",
+    "container-horizontal-align-right",
+    "container-horizontal-align-distribute",
+    "container-horizontal-vertical-align-top",
+    "container-horizontal-vertical-align-center",
+    "container-horizontal-vertical-align-bottom",
+    "container-vertical-vertical-align-top",
+    "container-vertical-vertical-align-center",
+    "container-vertical-vertical-align-bottom",
+    "container-vertical-vertical-align-distribute",
+    "container-vertical-horizontal-align-left",
+    "container-vertical-horizontal-align-center",
+    "container-vertical-horizontal-align-right",
+]
+
+
+def test_layouts_container_alignment(app: Page, assert_snapshot: ImageCompareFunction):
+    """Snapshot test for each top-level container in st_layouts_container_alignment.py."""
+    for key in CONTAINER_KEYS:
+        locator = get_element_by_key(app, key)
+        assert_snapshot(locator, name=f"st_layouts_container_alignment-{key}")
diff --git a/e2e_playwright/st_layouts_container_directions.py b/e2e_playwright/st_layouts_container_directions.py
new file mode 100644
index 000000000..0188e3f07
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_directions.py
@@ -0,0 +1,89 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import streamlit as st
+
+with st.container(
+    horizontal=True,
+    border=True,
+    key="container-horizontal-basic",
+):
+    st.html(
+        '<div style="background:lightblue">Hello</div>',
+        width=300,
+    )
+    st.html(
+        '<div style="background:lightblue">World</div>',
+        width=300,
+    )
+
+with st.container(horizontal=False, border=True, key="container-vertical-basic"):
+    st.html(
+        '<div style="background:lightblue">Hello</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">World</div>',
+        width="stretch",
+    )
+
+# # Horizontal layout with a fixed-width element
+with st.container(
+    horizontal=True,
+    border=True,
+    key="container-horizontal-fixed-width-and-stretch-element",
+):
+    st.html(
+        '<div style="background:lightyellow">Fixed width element (400px)</div>',
+        width=400,
+    )
+    st.html(
+        '<div style="background:lightblue">Stretch width element</div>',
+        width="stretch",
+    )
+
+# Horizontal layout with a fixed-height element
+with st.container(
+    horizontal=True,
+    border=True,
+    key="container-horizontal-fixed-height-element",
+):
+    with st.container(height=500, border=True):
+        st.write("Fixed 500px height container")
+    with st.container(border=True):
+        st.write("Default height container")
+
+# Vertical layout with a fixed-width element
+with st.container(
+    horizontal=False,
+    key="container-vertical-fixed-width-and-stretch-element",
+    border=True,
+):
+    st.html(
+        '<div style="background:lightyellow">Fixed width element (500px)</div>',
+        width=500,
+    )
+    st.html(
+        '<div style="background:lightblue">Stretch width element</div>',
+        width="stretch",
+    )
+
+# Vertical layout with a fixed-height element
+with st.container(
+    horizontal=False, border=True, key="container-vertical-fixed-height-element"
+):
+    with st.container(height=500, border=True):
+        st.write("Fixed 500px height container")
+    with st.container(border=True):
+        st.write("Default height container")
diff --git a/e2e_playwright/st_layouts_container_directions_fullscreen_elements.py b/e2e_playwright/st_layouts_container_directions_fullscreen_elements.py
new file mode 100644
index 000000000..bd56453f0
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_directions_fullscreen_elements.py
@@ -0,0 +1,30 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import streamlit as st
+
+with st.container(horizontal=True, border=True):
+    st.html('<div style="background:lightblue; padding:8px;">Left text</div>')
+    st.vega_lite_chart(
+        {
+            "data": {"values": [{"x": i, "y": i * i} for i in range(5)]},
+            "mark": "line",
+            "encoding": {"x": {"field": "x"}, "y": {"field": "y"}},
+        }
+    )
+    st.html('<div style="background:lightblue; padding:8px;">Right text</div>')
+
+with st.container(horizontal=True, border=True):
+    st.html('<div style="background:lightgreen;">Left panel</div>')
+    st.dataframe({"A": [1, 2, 3], "B": [4, 5, 6]})
diff --git a/e2e_playwright/st_layouts_container_directions_fullscreen_elements_test.py b/e2e_playwright/st_layouts_container_directions_fullscreen_elements_test.py
new file mode 100644
index 000000000..b4b48d606
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_directions_fullscreen_elements_test.py
@@ -0,0 +1,76 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+from playwright.sync_api import Page, expect
+
+from e2e_playwright.conftest import ImageCompareFunction, wait_for_app_run
+from e2e_playwright.shared.toolbar_utils import (
+    assert_fullscreen_toolbar_button_interactions,
+)
+
+
+def test_vega_lite_chart_fullscreen(app: Page, assert_snapshot: ImageCompareFunction):
+    """Test fullscreen open/close for the vega_lite_chart in the first container."""
+    wait_for_app_run(app)
+    expect(app.get_by_test_id("stVegaLiteChart")).to_have_count(1)
+
+    widget_element = app.get_by_test_id("stVegaLiteChart").first
+    widget_toolbar = widget_element.locator("..").get_by_test_id("stElementToolbar")
+    fullscreen_wrapper = app.get_by_test_id("stFullScreenFrame").first
+
+    fullscreen_toolbar_button = widget_toolbar.get_by_test_id(
+        "stElementToolbarButton"
+    ).last
+
+    widget_element.hover()
+    expect(widget_toolbar).to_have_css("opacity", "1")
+
+    assert_snapshot(
+        widget_element,
+        name="st_layouts_container_directions_fullscreen_elements-vega_lite_chart-normal",
+    )
+
+    fullscreen_toolbar_button.click()
+
+    expect(
+        widget_toolbar.get_by_role("button", name="Close fullscreen")
+    ).to_be_visible()
+
+    assert_snapshot(
+        app,
+        name="st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_expanded",
+    )
+
+    fullscreen_toolbar_button.click()
+
+    expect(widget_toolbar.get_by_role("button", name="Fullscreen")).to_be_visible()
+
+    assert_snapshot(
+        fullscreen_wrapper,
+        name="st_layouts_container_directions_fullscreen_elements-vega_lite_chart-fullscreen_collapsed",
+    )
+
+
+def test_dataframe_fullscreen(app: Page, assert_snapshot: ImageCompareFunction):
+    """Test fullscreen open/close for the dataframe in the second container."""
+    wait_for_app_run(app)
+    expect(app.get_by_test_id("stDataFrame")).to_have_count(1)
+    assert_fullscreen_toolbar_button_interactions(
+        app,
+        assert_snapshot=assert_snapshot,
+        widget_test_id="stDataFrame",
+        filename_prefix="st_layouts_container_directions_fullscreen_elements-dataframe",
+        nth=0,
+        fullscreen_wrapper_nth=1,
+    )
diff --git a/e2e_playwright/st_layouts_container_directions_test.py b/e2e_playwright/st_layouts_container_directions_test.py
new file mode 100644
index 000000000..b0f51290d
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_directions_test.py
@@ -0,0 +1,34 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+from playwright.sync_api import Page
+
+from e2e_playwright.conftest import ImageCompareFunction
+from e2e_playwright.shared.app_utils import get_element_by_key
+
+CONTAINER_KEYS = [
+    "container-horizontal-basic",
+    "container-vertical-basic",
+    "container-horizontal-fixed-width-and-stretch-element",
+    "container-horizontal-fixed-height-element",
+    "container-vertical-fixed-width-and-stretch-element",
+    "container-vertical-fixed-height-element",
+]
+
+
+def test_layouts_container_directions(app: Page, assert_snapshot: ImageCompareFunction):
+    """Snapshot test for each top-level container in st_layouts_container_directions.py."""
+    for key in CONTAINER_KEYS:
+        locator = get_element_by_key(app, key)
+        assert_snapshot(locator, name=f"st_layouts_container_directions-{key}")
diff --git a/e2e_playwright/st_layouts_container_gap_size.py b/e2e_playwright/st_layouts_container_gap_size.py
new file mode 100644
index 000000000..e278acc71
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_gap_size.py
@@ -0,0 +1,171 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import streamlit as st
+
+with st.container(
+    border=True,
+    gap="small",
+    horizontal=True,
+    key="container-horizontal-gap-small",
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Four</div>',
+        width="stretch",
+    )
+
+with st.container(
+    border=True,
+    gap="medium",
+    horizontal=True,
+    key="container-horizontal-gap-medium",
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Four</div>',
+        width="stretch",
+    )
+
+with st.container(
+    border=True,
+    gap="large",
+    horizontal=True,
+    key="container-horizontal-gap-large",
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Four</div>',
+        width="stretch",
+    )
+
+with st.container(
+    border=True,
+    gap=None,
+    horizontal=True,
+    key="container-horizontal-gap-none",
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Four</div>',
+        width="stretch",
+    )
+
+with st.container(
+    border=True, gap="small", horizontal=False, key="container-vertical-gap-small"
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
+
+with st.container(
+    border=True, gap="medium", horizontal=False, key="container-vertical-gap-medium"
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
+
+with st.container(
+    border=True, gap="large", horizontal=False, key="container-vertical-gap-large"
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
+
+with st.container(
+    border=True, gap=None, horizontal=False, key="container-vertical-gap-none"
+):
+    st.html(
+        '<div style="background:lightblue">One</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Two</div>',
+        width="stretch",
+    )
+    st.html(
+        '<div style="background:lightblue">Three</div>',
+        width="stretch",
+    )
diff --git a/e2e_playwright/st_layouts_container_gap_size_test.py b/e2e_playwright/st_layouts_container_gap_size_test.py
new file mode 100644
index 000000000..165e7a6df
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_gap_size_test.py
@@ -0,0 +1,36 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+from playwright.sync_api import Page
+
+from e2e_playwright.conftest import ImageCompareFunction
+from e2e_playwright.shared.app_utils import get_element_by_key
+
+CONTAINER_KEYS = [
+    "container-horizontal-gap-small",
+    "container-horizontal-gap-medium",
+    "container-horizontal-gap-large",
+    "container-horizontal-gap-none",
+    "container-vertical-gap-small",
+    "container-vertical-gap-medium",
+    "container-vertical-gap-large",
+    "container-vertical-gap-none",
+]
+
+
+def test_layouts_container_gap_size(app: Page, assert_snapshot: ImageCompareFunction):
+    """Snapshot test for each top-level container in st_layouts_container_gap_size.py."""
+    for key in CONTAINER_KEYS:
+        locator = get_element_by_key(app, key)
+        assert_snapshot(locator, name=f"st_layouts_container_gap_size-{key}")
diff --git a/e2e_playwright/st_layouts_container_min_width.py b/e2e_playwright/st_layouts_container_min_width.py
new file mode 100644
index 000000000..9367936d0
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_min_width.py
@@ -0,0 +1,118 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import pandas as pd
+
+import streamlit as st
+
+with st.container(horizontal=True, border=True, key="layout-horizontal-markdown"):
+    st.markdown("Hello", width="stretch")
+    st.markdown("Hello", width="stretch")
+    st.markdown(
+        "Really long test. Reallly long text. Really long text. This is a really long text. This is really long text.",
+        width="stretch",
+    )
+    st.markdown("Hello", width="stretch")
+    st.markdown("Hello", width="stretch")
+    st.markdown(
+        "Really long test. Reallly long text. Really long text.", width="stretch"
+    )
+    st.markdown("Hello", width="stretch")
+    st.markdown("Hello", width="stretch")
+    st.markdown(
+        "Really long test. Reallly long text. Really long text.", width="stretch"
+    )
+    st.markdown("Hello", width="stretch")
+    st.markdown("Hello", width="stretch")
+    st.markdown("Hello", width="stretch")
+
+with st.container(horizontal=True, border=True, key="layout-horizontal-buttons"):
+    st.button("A", width="stretch")
+    st.button("OK", width="stretch")
+    st.button("Submit", width="stretch")
+    st.button("Download File", width="stretch")
+    st.button(
+        "This is a really long button label that should test wrapping", width="stretch"
+    )
+    st.button("X", width="stretch")
+
+with st.container(horizontal=True, key="layout-horizontal-inputs"):
+    st.date_input("Date Range")
+    st.selectbox("Group by", ["Foo"])
+    st.multiselect("Deployment", ["All"], default=["All"])
+
+    st.multiselect(
+        "Organization type",
+        ["Customer", "Partner"],
+        default=["Customer", "Partner"],
+    )
+    st.multiselect("Account", ["All"], default=["All"])
+
+with st.container(horizontal=True, border=True, key="layout-horizontal-checkboxes"):
+    st.checkbox("", width="stretch", key="checkbox1")
+    st.checkbox("", width="stretch", key="checkbox2")
+    st.checkbox("", width="stretch", key="checkbox3")
+    st.checkbox("", width="stretch", key="checkbox4")
+    st.checkbox("", width="stretch", key="checkbox5")
+    st.checkbox("", width="stretch", key="checkbox6")
+    st.checkbox("", width="stretch", key="checkbox7")
+    st.checkbox("", width="stretch", key="checkbox8")
+    st.checkbox("", width="stretch", key="checkbox9")
+    st.checkbox("", width="stretch", key="checkbox10")
+
+with st.container(horizontal=True, border=True, key="layout-horizontal-text-area-info"):
+    st.info("Info")
+    st.text_area("Notes", height=80, width="stretch")
+
+small_data = pd.DataFrame({"A": [1, 2, 3], "B": [4, 5, 6], "C": [7, 8, 9]})
+
+medium_data = pd.DataFrame(
+    {
+        "Name": ["Alice", "Bob", "Charlie", "Diana", "Eve"],
+        "Age": [25, 30, 35, 28, 32],
+        "City": ["New York", "London", "Tokyo", "Paris", "Sydney"],
+        "Salary": [50000, 60000, 70000, 55000, 65000],
+        "Department": ["Engineering", "Marketing", "Sales", "HR", "Finance"],
+    }
+)
+
+with st.container(horizontal=True, border=True, key="layout-horizontal-dataframes"):
+    st.dataframe(small_data, use_container_width=False)
+    st.dataframe(medium_data, use_container_width=False)
+    st.dataframe(small_data, use_container_width=True)
+
+
+with st.container(
+    horizontal=True, border=True, key="layout-horizontal-nested-containers"
+):
+    with st.container(horizontal=True, border=True):
+        st.markdown("Hello, how are you? Do you like ice cream?")
+    with st.container(horizontal=True, border=True):
+        st.markdown("Hello. Goodbye. So long.")
+    with st.container(horizontal=True, border=True):
+        st.markdown("Hello")
+    st.info("(I like ice cream)")
+
+with st.container(horizontal=True, border=True, key="layout-horizontal-columns"):
+    col1, col2, col3 = st.columns(3)
+    col1.markdown("Hello, how are you? Do you like ice cream?")
+    col2.markdown("Hello. Goodbye. So long.")
+    col3.markdown("Hello")
+    st.info("(I like ice cream)")
+
+
+with st.container(horizontal=True, border=True, key="layout-horizontal-button-groups"):
+    st.segmented_control("Segmented Control", ["Option 1", "Option 2", "Option 3"])
+    st.feedback("thumbs", width="stretch")
+    st.pills("Priority", ["Low", "Medium", "High"], width="stretch")
diff --git a/e2e_playwright/st_layouts_container_min_width_test.py b/e2e_playwright/st_layouts_container_min_width_test.py
new file mode 100644
index 000000000..072b709d0
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_min_width_test.py
@@ -0,0 +1,56 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import pytest
+from playwright.sync_api import Page
+
+from e2e_playwright.conftest import ImageCompareFunction
+from e2e_playwright.shared.app_utils import get_element_by_key
+
+CONTAINER_KEYS = [
+    "layout-horizontal-markdown",
+    "layout-horizontal-buttons",
+    "layout-horizontal-inputs",
+    "layout-horizontal-checkboxes",
+    "layout-horizontal-text-area-info",
+    "layout-horizontal-dataframes",
+    "layout-horizontal-nested-containers",
+    "layout-horizontal-columns",
+    "layout-horizontal-button-groups",
+]
+
+
+@pytest.mark.parametrize("container_key", CONTAINER_KEYS)
+def test_container_regular_viewport(
+    app: Page, assert_snapshot: ImageCompareFunction, container_key: str
+):
+    """Test container layouts at regular screen width."""
+    container_element = get_element_by_key(app, container_key)
+    assert_snapshot(
+        container_element,
+        name=f"st_layouts_container_min_width-{container_key.replace('layout-horizontal-', '')}_regular",
+    )
+
+
+@pytest.mark.parametrize("container_key", CONTAINER_KEYS)
+def test_container_reduced_viewport(
+    app: Page, assert_snapshot: ImageCompareFunction, container_key: str
+):
+    """Test container layouts at reduced viewport (390px)."""
+    app.set_viewport_size({"width": 390, "height": 844})
+    container_element = get_element_by_key(app, container_key)
+    assert_snapshot(
+        container_element,
+        name=f"st_layouts_container_min_width-{container_key.replace('layout-horizontal-', '')}_reduced",
+    )
diff --git a/e2e_playwright/st_layouts_container_various_elements.py b/e2e_playwright/st_layouts_container_various_elements.py
new file mode 100644
index 000000000..f17528f2b
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_various_elements.py
@@ -0,0 +1,239 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import numpy as np
+import numpy.typing as npt
+import pandas as pd
+
+import streamlit as st
+
+img: npt.NDArray[np.int_] = np.repeat(0, 75000).reshape(300, 250)
+
+with st.container(
+    border=False,
+    horizontal=False,
+    key="layout-dashboard-example",
+):
+    st.title("Q3 Results")
+    st.subheader("Sales Performance")
+    with st.container(
+        border=True,
+        horizontal=True,
+    ):
+        df = pd.DataFrame(
+            {
+                "x": list(range(5)),
+                "y": [i * i for i in range(5)],
+            }
+        )
+        st.line_chart(df.set_index("x"), width=300, use_container_width=False)
+
+        with st.container(
+            border=False,
+            horizontal=False,
+        ):
+            st.metric(label="Metric", value=156, delta=10, height=100, width=70)
+            st.dataframe(df)
+
+with st.container(
+    border=True,
+    horizontal=True,
+    key="layout-horizontal-form",
+):
+    with st.form("Form", width=400):
+        st.text_input("Name")
+        st.number_input("Age")
+        st.selectbox("Gender", ["Male", "Female"])
+        st.text_area("Message")
+        st.form_submit_button("Submit")
+
+    with st.container(border=False, horizontal=False):
+        st.info("Please fill out the form to continue. We value your input!", width=250)
+        st.image(img)
+
+with st.container(
+    border=True,
+    horizontal=True,
+    key="layout-horizontal-expander-dataframe",
+):
+    df = pd.DataFrame(
+        {
+            "x": list(range(5)),
+            "y": [i * i for i in range(5)],
+        }
+    )
+    with st.expander("Expand me"):
+        st.title("Hidden Chart")
+        st.bar_chart(df.set_index("x"))
+
+    st.dataframe(df)
+
+with st.container(
+    border=True,
+    horizontal=True,
+    key="layout-horizontal-expander-dataframe-content-width",
+):
+    df = pd.DataFrame(
+        {
+            "x": list(range(5)),
+            "y": [i * i for i in range(5)],
+        }
+    )
+    with st.expander("Expand me"):
+        st.title("Hidden Chart")
+        st.bar_chart(df.set_index("x"))
+
+    st.dataframe(df, use_container_width=False)
+
+with st.container(
+    border=True,
+    horizontal=True,
+    key="layout-horizontal-expander-dataframe-content-width-large",
+):
+    df = pd.DataFrame(
+        {
+            "x": list(range(5)),
+            "y": [i * i for i in range(5)],
+            "z": [i * i * i for i in range(5)],
+            "w": [i * i * i * i for i in range(5)],
+            "v": [i * i * i * i * i for i in range(5)],
+            "u": [i * i * i * i * i * i for i in range(5)],
+            "t": [i * i * i * i * i * i * i for i in range(5)],
+            "s": [i * i * i * i * i * i * i * i for i in range(5)],
+            "r": [i * i * i * i * i * i * i * i * i for i in range(5)],
+            "q": [i * i * i * i * i * i * i * i * i * i for i in range(5)],
+            "p": [i * i * i * i * i * i * i * i * i * i * i for i in range(5)],
+            "o": [i * i * i * i * i * i * i * i * i * i * i * i for i in range(5)],
+        }
+    )
+    with st.expander("Expand me"):
+        st.title("Hidden Chart")
+        st.bar_chart(df.set_index("x"))
+
+    st.dataframe(df, use_container_width=False)
+
+with st.container(
+    border=True,
+    horizontal=True,
+    gap=None,
+    horizontal_alignment="center",
+    key="layout-horizontal-images-center",
+):
+    st.image(img, width=100)
+    st.image(img, width=100)
+    st.image(img, width=100)
+
+with st.container(
+    border=True,
+    horizontal=True,
+    horizontal_alignment="distribute",
+    vertical_alignment="center",
+    key="layout-horizontal-images-distribute",
+):
+    st.image(img, width=200)
+    st.image(img, width=50)
+    st.image(img)
+
+with st.container(border=True, horizontal=False, key="layout-horizontal-columns"):
+    st.title("Columns")
+    df = pd.DataFrame(
+        {
+            "x": list(range(5)),
+            "y": [i * i for i in range(5)],
+        }
+    )
+    with st.container(border=False, horizontal=True):
+        col1, col2 = st.columns(2)
+        with col1:
+            with st.container(
+                border=False,
+                horizontal=True,
+            ):
+                st.info("Very important information", width=150)
+                st.dataframe(df, use_container_width=False)
+
+        with col2:
+            st.dataframe(df, use_container_width=True)
+
+with st.container(border=True, horizontal=True, key="layout-horizontal-tabs"):
+    import altair as alt
+
+    st.title("Tabs", width=150)
+    df = pd.DataFrame(
+        {
+            "x": list(range(5)),
+            "y": [i * i for i in range(5)],
+        }
+    )
+    tab1, tab2 = st.tabs(["Tab 1", "Tab 2"])
+    with tab1:
+        with st.container(
+            border=False,
+            horizontal=True,
+        ):
+            st.info("This is a tab")
+            st.dataframe(df)
+    with tab2:
+        with st.container(
+            border=False,
+            horizontal=False,
+        ):
+            st.altair_chart(alt.Chart(df).mark_bar().encode(x="x", y="y"))
+            st.warning("This is a warning")
+
+with st.container(
+    border=True,
+    horizontal=True,
+    key="layout-horizontal-map",
+):
+    st.map(pd.DataFrame({"lat": [37.76, 37.77], "lon": [-122.4, -122.41]}))
+    st.markdown(
+        """
+    # Hello
+    ## Hello
+    ### Hello
+    #### Hello
+    ##### Hello
+    ###### Hello
+    """,
+        width="content",
+    )
+
+with st.container(border=True, horizontal=True, key="layout-horizontal-content-width"):
+    st.markdown(
+        """
+    # Hello beautiful
+    ## Hello beautiful
+    ### Hello beautiful
+    #### Hello beautiful
+    ###### Hello beautiful
+    """,
+        width="content",
+    )
+
+    st.markdown(
+        """
+    # Hello
+    ## Hello
+    ### Hello
+    #### Hello
+    ###### Hello
+    """,
+        width="content",
+    )
+
+with st.container(horizontal=True, height=300, key="layout-horizontal-text-area"):
+    st.text_area("Hello", width="stretch", height="stretch")
+    st.text_area("Hello", width="stretch")
+    st.container(border=True, width="stretch")
diff --git a/e2e_playwright/st_layouts_container_various_elements_test.py b/e2e_playwright/st_layouts_container_various_elements_test.py
new file mode 100644
index 000000000..994d99a47
--- /dev/null
+++ b/e2e_playwright/st_layouts_container_various_elements_test.py
@@ -0,0 +1,97 @@
+# Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import pytest
+from playwright.sync_api import Page, expect
+
+from e2e_playwright.conftest import ImageCompareFunction, wait_for_app_run
+from e2e_playwright.shared.app_utils import get_element_by_key
+
+CONTAINER_KEYS = [
+    "layout-dashboard-example",
+    "layout-horizontal-form",
+    "layout-horizontal-expander-dataframe",
+    "layout-horizontal-expander-dataframe-content-width",
+    "layout-horizontal-expander-dataframe-content-width-large",
+    "layout-horizontal-images-center",
+    "layout-horizontal-images-distribute",
+    "layout-horizontal-columns",
+    "layout-horizontal-tabs",
+    "layout-horizontal-content-width",
+    "layout-horizontal-text-area",
+    # Don't expand this one, doesn't work well with the snapshot.
+    "layout-horizontal-expander-dataframe-content-width-large",
+]
+
+CONTAINER_KEYS_WITH_EXPANDERS = [
+    "layout-horizontal-expander-dataframe",
+    "layout-horizontal-expander-dataframe-content-width",
+]
+
+
+def test_layouts_container_various_elements(
+    app: Page, assert_snapshot: ImageCompareFunction
+):
+    """Snapshot test for each top-level container in st_layouts_container_various_elements.py."""
+    wait_for_app_run(app)
+
+    for key in CONTAINER_KEYS:
+        locator = get_element_by_key(app, key)
+        assert_snapshot(locator, name=f"st_layouts_container_various_elements-{key}")
+
+
+# Firefox seems to be failing but can't reproduce locally and video produces an empty page for firefox
+@pytest.mark.skip_browser("firefox")
+def test_layouts_container_with_map(app: Page, assert_snapshot: ImageCompareFunction):
+    """Snapshot test for the container with map in st_layouts_container_various_elements.py."""
+    wait_for_app_run(app)
+
+    # Wait for map elements to load
+    map_elements = app.get_by_test_id("stDeckGlJsonChart")
+    expect(map_elements).to_have_count(1, timeout=15000)
+    # The map assets can take more time to load, add an extra timeout
+    # to prevent flakiness.
+    app.wait_for_timeout(10000)
+
+    locator = get_element_by_key(app, "layout-horizontal-map")
+    # Use higher pixel threshold for containers with maps due to their flakiness
+    assert_snapshot(
+        locator,
+        name="st_layouts_container_various_elements-layout-horizontal-map",
+        pixel_threshold=1.0,
+    )
+
+
+def test_layouts_container_expanders(app: Page, assert_snapshot: ImageCompareFunction):
+    """Test expander functionality in containers that contain expanders."""
+    wait_for_app_run(app)
+    expect(app.get_by_test_id("stExpander")).to_have_count(3)
+
+    for container_key in CONTAINER_KEYS_WITH_EXPANDERS:
+        container = get_element_by_key(app, container_key)
+        expect(container).to_be_visible()
+
+        # Get the first (and only) expander in this container
+        container_expanders = container.get_by_test_id("stExpander")
+        expander = container_expanders.first
+        expander.click()
+
+        # Wait for charts to load.
+        wait_for_app_run(app)
+        app.wait_for_timeout(500)
+
+        assert_snapshot(
+            container,
+            name=f"st_layouts_container_various_elements-{container_key}-expander-opened",
+        )
diff --git a/e2e_playwright/st_text_area.py b/e2e_playwright/st_text_area.py
index a0c13bd99..596b9dc1c 100644
--- a/e2e_playwright/st_text_area.py
+++ b/e2e_playwright/st_text_area.py
@@ -105,6 +105,14 @@ with st.form("form2", height=500):
     )
     st.form_submit_button("submit")
 
+with st.container(horizontal=True, height=300, key="layout-horizontal-text-area"):
+    st.text_area(
+        "text area (height='content') - Height adjusts to content.",
+        """Line 1\nLine 2\nLine 3""",
+        width="stretch",
+        height="content",
+    )
+
 with st.form("form3", height=500):
     st.text_area(
         "text area 20 (height='stretch)",
diff --git a/e2e_playwright/st_text_area_test.py b/e2e_playwright/st_text_area_test.py
index 475edb978..f9a2784a9 100644
--- a/e2e_playwright/st_text_area_test.py
+++ b/e2e_playwright/st_text_area_test.py
@@ -28,7 +28,7 @@ def test_text_area_widget_rendering(
 ):
     """Test that the st.text_area widgets are correctly rendered via screenshot matching."""
     text_area_widgets = themed_app.get_by_test_id("stTextArea")
-    expect(text_area_widgets).to_have_count(22)
+    expect(text_area_widgets).to_have_count(23)
 
     assert_snapshot(text_area_widgets.nth(0), name="st_text_area-default")
     assert_snapshot(text_area_widgets.nth(1), name="st_text_area-value_some_text")
@@ -46,7 +46,7 @@ def test_text_area_widget_rendering(
 def test_text_area_dimensions(app: Page, assert_snapshot: ImageCompareFunction):
     """Test that the st.text_area widgets are correctly rendered via screenshot matching."""
     text_area_widgets = app.get_by_test_id("stTextArea")
-    expect(text_area_widgets).to_have_count(22)
+    expect(text_area_widgets).to_have_count(23)
 
     assert_snapshot(text_area_widgets.nth(10), name="st_text_area-height_250")
     assert_snapshot(text_area_widgets.nth(11), name="st_text_area-height_75")
@@ -60,9 +60,12 @@ def test_text_area_dimensions(app: Page, assert_snapshot: ImageCompareFunction):
     assert_snapshot(form_container, name="st_text_area-height_stretch")
 
     # Snapshot the column area containing both text areas
-    column_container = app.get_by_test_id("stHorizontalBlock")
+    column_container = app.get_by_test_id("stHorizontalBlock").nth(1)
     assert_snapshot(column_container, name="st_text_area-columns_layout")
 
+    vertical_layout_container = get_element_by_key(app, "layout-horizontal-text-area")
+    assert_snapshot(vertical_layout_container, name="st_text_area-horizontal_layout")
+
     # content height is tested in test_text_area_content_height_expansion
 
 
diff --git a/frontend/lib/src/components/core/Block/Block.test.tsx b/frontend/lib/src/components/core/Block/Block.test.tsx
index 9c4da1de2..5939e0b9a 100644
--- a/frontend/lib/src/components/core/Block/Block.test.tsx
+++ b/frontend/lib/src/components/core/Block/Block.test.tsx
@@ -159,3 +159,103 @@ describe("FlexBoxContainer Block Component", () => {
     })
   })
 })
+
+describe("FlexBoxContainer layout props", () => {
+  it.each([
+    [
+      "align: start",
+      { align: BlockProto.FlexContainer.Align.ALIGN_START },
+      "align-items: start;",
+    ],
+    [
+      "align: center",
+      { align: BlockProto.FlexContainer.Align.ALIGN_CENTER },
+      "align-items: center;",
+    ],
+    [
+      "align: end",
+      { align: BlockProto.FlexContainer.Align.ALIGN_END },
+      "align-items: end;",
+    ],
+    [
+      "align: stretch",
+      { align: BlockProto.FlexContainer.Align.STRETCH },
+      "align-items: stretch;",
+    ],
+  ])("should apply %s", (_desc, flexContainer, expectedStyle) => {
+    const block: BlockNode = makeVerticalBlock([], {
+      flexContainer,
+    })
+    renderWithContexts(makeVerticalBlockComponent(block), {})
+    expect(screen.getByTestId("stVerticalBlock")).toHaveStyle(expectedStyle)
+  })
+
+  it.each([
+    [
+      "justify: start",
+      { justify: BlockProto.FlexContainer.Justify.JUSTIFY_START },
+      "justify-content: start;",
+    ],
+    [
+      "justify: center",
+      { justify: BlockProto.FlexContainer.Justify.JUSTIFY_CENTER },
+      "justify-content: center;",
+    ],
+    [
+      "justify: end",
+      { justify: BlockProto.FlexContainer.Justify.JUSTIFY_END },
+      "justify-content: end;",
+    ],
+    [
+      "justify: space-between",
+      { justify: BlockProto.FlexContainer.Justify.SPACE_BETWEEN },
+      "justify-content: space-between;",
+    ],
+  ])("should apply %s", (_desc, flexContainer, expectedStyle) => {
+    const block: BlockNode = makeVerticalBlock([], {
+      flexContainer,
+    })
+    renderWithContexts(makeVerticalBlockComponent(block), {})
+    expect(screen.getByTestId("stVerticalBlock")).toHaveStyle(expectedStyle)
+  })
+
+  it.each([
+    [
+      "gap: small",
+      { gapConfig: { gapSize: streamlit.GapSize.SMALL } },
+      "gap: 1rem;",
+    ],
+    [
+      "gap: medium",
+      { gapConfig: { gapSize: streamlit.GapSize.MEDIUM } },
+      "gap: 2rem;",
+    ],
+    [
+      "gap: large",
+      { gapConfig: { gapSize: streamlit.GapSize.LARGE } },
+      "gap: 4rem;",
+    ],
+    [
+      "gap: none",
+      { gapConfig: { gapSize: streamlit.GapSize.NONE } },
+      "gap: 0;",
+    ],
+  ])("should apply %s", (_desc, flexContainer, expectedStyle) => {
+    const block: BlockNode = makeVerticalBlock([], {
+      flexContainer,
+    })
+    renderWithContexts(makeVerticalBlockComponent(block), {})
+    expect(screen.getByTestId("stVerticalBlock")).toHaveStyle(expectedStyle)
+  })
+
+  it.each([
+    ["wrap: true", { wrap: true }, "flex-wrap: wrap;"],
+    ["wrap: false", { wrap: false }, "flex-wrap: nowrap;"],
+  ])("should apply %s", (_desc, flexContainer, expectedStyle) => {
+    const block: BlockNode = makeVerticalBlock([], {
+      flexContainer,
+    })
+    renderWithContexts(makeVerticalBlockComponent(block), {})
+    expect(screen.getByTestId("stVerticalBlock")).toHaveStyle(expectedStyle)
+  })
+})
diff --git a/frontend/lib/src/components/core/Block/Block.tsx b/frontend/lib/src/components/core/Block/Block.tsx
index 9e2bfb417..ad5f8185d 100644
--- a/frontend/lib/src/components/core/Block/Block.tsx
+++ b/frontend/lib/src/components/core/Block/Block.tsx
@@ -22,10 +22,12 @@ import { Block as BlockProto, streamlit } from "@streamlit/protobuf"
 
 import { AppNode, BlockNode, ElementNode } from "~lib/AppNode"
 import { FormsContext } from "~lib/components/core/FormsContext"
+import { FlexContextProvider } from "~lib/components/core/Layout/FlexContext"
 import { useLayoutStyles } from "~lib/components/core/Layout/useLayoutStyles"
 import {
   Direction,
   getDirectionOfBlock,
+  MinFlexElementWidth,
 } from "~lib/components/core/Layout/utils"
 import { LibContext } from "~lib/components/core/LibContext"
 import ChatMessage from "~lib/components/elements/ChatMessage"
@@ -145,16 +147,18 @@ export const ContainerContentsWrapper = (
 
   const userKey = getKeyFromId(props.node.deltaBlock.id)
   return (
-    <StyledFlexContainerBlock
-      {...defaultStyles}
-      className={classNames(
-        getClassnamePrefix(Direction.VERTICAL),
-        convertKeyToClassName(userKey)
-      )}
-      data-testid={getClassnamePrefix(Direction.VERTICAL)}
-    >
-      <ChildRenderer {...props} />
-    </StyledFlexContainerBlock>
+    <FlexContextProvider direction={Direction.VERTICAL}>
+      <StyledFlexContainerBlock
+        {...defaultStyles}
+        className={classNames(
+          getClassnamePrefix(Direction.VERTICAL),
+          convertKeyToClassName(userKey)
+        )}
+        data-testid={getClassnamePrefix(Direction.VERTICAL)}
+      >
+        <ChildRenderer {...props} />
+      </StyledFlexContainerBlock>
+    </FlexContextProvider>
   )
 }
 
@@ -180,8 +184,6 @@ export const FlexBoxContainer = (
       undefined,
   })
 
-  // TODO: as advanced layouts is rolled out, more of these styles will
-  // be provided by useLayoutStyles
   const styles = {
     gap:
       // This is backwards compatible with old proto messages since previously
@@ -198,25 +200,29 @@ export const FlexBoxContainer = (
     height: layout_styles.height,
     // Flex properties are set on the LayoutWrapper.
     flex: "1",
+    align: props.node.deltaBlock.flexContainer?.align,
+    justify: props.node.deltaBlock.flexContainer?.justify,
   }
 
   const userKey = getKeyFromId(props.node.deltaBlock.id)
 
   return (
-    <StyledFlexContainerBlock
-      {...styles}
-      className={classNames(
-        getClassnamePrefix(direction),
-        convertKeyToClassName(userKey)
-      )}
-      data-testid={getClassnamePrefix(direction)}
-      ref={scrollContainerRef as React.RefObject<HTMLDivElement>}
-      data-test-scroll-behavior={
-        activateScrollToBottom ? "scroll-to-bottom" : "normal"
-      }
-    >
-      <ChildRenderer {...props} />
-    </StyledFlexContainerBlock>
+    <FlexContextProvider direction={direction}>
+      <StyledFlexContainerBlock
+        {...styles}
+        className={classNames(
+          getClassnamePrefix(direction),
+          convertKeyToClassName(userKey)
+        )}
+        data-testid={getClassnamePrefix(direction)}
+        ref={scrollContainerRef as React.RefObject<HTMLDivElement>}
+        data-test-scroll-behavior={
+          activateScrollToBottom ? "scroll-to-bottom" : "normal"
+        }
+      >
+        <ChildRenderer {...props} />
+      </StyledFlexContainerBlock>
+    </FlexContextProvider>
   )
 }
 
@@ -224,17 +230,42 @@ export interface BlockPropsWithoutWidth extends BaseBlockProps {
   node: BlockNode
 }
 
+const LARGE_STRETCH_BEHAVIOR = ["tabContainer"]
+const MEDIUM_STRETCH_BEHAVIOR = ["chatInput"]
+
 const BlockNodeRenderer = (props: BlockPropsWithoutWidth): ReactElement => {
   const { node } = props
   const { fragmentIdsThisRun, scriptRunState, scriptRunId } =
     useContext(LibContext)
   const { formsData } = useRequiredContext(FormsContext)
 
+  let minStretchBehavior: MinFlexElementWidth
+  if (LARGE_STRETCH_BEHAVIOR.includes(node.deltaBlock.type ?? "")) {
+    minStretchBehavior = "14rem"
+  } else if (MEDIUM_STRETCH_BEHAVIOR.includes(node.deltaBlock.type ?? "")) {
+    minStretchBehavior = "8rem"
+  } else if (node.deltaBlock.type === "chatMessage") {
+    if (node.isEmpty) {
+      minStretchBehavior = "8rem"
+    } else {
+      minStretchBehavior = "fit-content"
+    }
+  } else if (
+    node.deltaBlock.type === "flexContainer" ||
+    node.deltaBlock.column ||
+    node.deltaBlock.expandable
+  ) {
+    if (!node.isEmpty) {
+      minStretchBehavior = "8rem"
+    }
+  }
+
   const styles = useLayoutStyles({
     element: node.deltaBlock,
     subElement:
       (node.deltaBlock.type && node.deltaBlock[node.deltaBlock.type]) ||
       undefined,
+    minStretchBehavior,
   })
 
   if (node.isEmpty && !node.deltaBlock.allowEmpty) {
@@ -379,6 +410,7 @@ const BlockNodeRenderer = (props: BlockPropsWithoutWidth): ReactElement => {
       isStale,
       renderTabContent,
       width: styles.width,
+      flex: styles.flex,
     }
     return <Tabs {...tabsProps} />
   }
diff --git a/frontend/lib/src/components/core/Block/StyledElementContainerLayoutWrapper.tsx b/frontend/lib/src/components/core/Block/StyledElementContainerLayoutWrapper.tsx
index e143b81a0..78272d6f8 100644
--- a/frontend/lib/src/components/core/Block/StyledElementContainerLayoutWrapper.tsx
+++ b/frontend/lib/src/components/core/Block/StyledElementContainerLayoutWrapper.tsx
@@ -16,10 +16,70 @@
 
 import React, { FC, useMemo } from "react"
 
+import { ButtonGroup } from "@streamlit/protobuf"
+
 import type { ElementNode } from "~lib/AppNode"
+import { StyledElementContainer } from "~lib/components/core/Block/styled-components"
+import { FlexContext } from "~lib/components/core/Layout/FlexContext"
 import { useLayoutStyles } from "~lib/components/core/Layout/useLayoutStyles"
+import { MinFlexElementWidth } from "~lib/components/core/Layout/utils"
+import { useRequiredContext } from "~lib/hooks/useRequiredContext"
+
+const LARGE_STRETCH_BEHAVIOR = [
+  "graphvizChart",
+  "arrowVegaLiteChart",
+  "deckGlJsonChart",
+  "plotlyChart",
+  "docString",
+  "arrowDataFrame",
+  "json",
+  "audioInput",
+  "fileUploader",
+  "cameraInput",
+  "audio",
+  "video",
+  "code", // also includes st.echo
+  "buttonGroup",
+  "iframe",
+]
+
+const MEDIUM_STRETCH_BEHAVIOR = [
+  "dateInput",
+  "radio",
+  "slider", // also includes st.select_slider
+  "textArea",
+  "progress",
+  "multiselect",
+  "selectbox",
+  "timeInput",
+  "numberInput",
+  "textInput",
+]
 
-import { StyledElementContainer } from "./styled-components"
+const WIDTH_STRETCH_OVERRIDE = [
+  // Because of how width is handled for custom components, we need the
+  // element wrapper to be full width.
+  "componentInstance",
+  "arrowDataFrame",
+  // TODO (lawilby): This can probably be removed once width is
+  // implemented for plotly charts. But currently, it seems like when
+  // we have use_container_width=False and the minWidth change the image
+  // doesn't render large enough.
+  "plotlyChart",
+  // The st.image element is potentially a list of images, so we always want
+  // the enclosing container to be full width. The size of individual
+  // images is managed in the ImageList component.
+  // This also covers st.pyplot() which is a special case of st.image.
+  "imgs",
+]
+
+const VISIBLE_OVERFLOW_OVERRIDE = [
+  // TODO(lwilby): Some elements need overflow to be visible in webkit. Will investigate
+  // if we can remove this custom handling in future layouts work.
+  "iframe",
+  "arrowDataFrame",
+  "deckGlJsonChart",
+]
 
 export const StyledElementContainerLayoutWrapper: FC<
   Omit<
@@ -29,51 +89,120 @@ export const StyledElementContainerLayoutWrapper: FC<
     node: ElementNode
   }
 > = ({ node, ...rest }) => {
+  const { isInHorizontalLayout } = useRequiredContext(FlexContext)
+  const isContentWidthDataframe =
+    node.element.type === "arrowDataFrame" &&
+    !node.element["arrowDataFrame"]?.width &&
+    !node.element["arrowDataFrame"]?.useContainerWidth
+
+  let minStretchBehavior: MinFlexElementWidth = "fit-content"
+  if (
+    isInHorizontalLayout &&
+    LARGE_STRETCH_BEHAVIOR.includes(node.element.type ?? "")
+  ) {
+    minStretchBehavior = "14rem"
+  } else if (
+    isInHorizontalLayout &&
+    MEDIUM_STRETCH_BEHAVIOR.includes(node.element.type ?? "")
+  ) {
+    minStretchBehavior = "8rem"
+  }
+
+  if (
+    node.element.type === "buttonGroup" &&
+    node.element.buttonGroup?.style === ButtonGroup.Style.BORDERLESS
+  ) {
+    minStretchBehavior = "fit-content"
+  }
+
   const styleOverrides = useMemo(() => {
+    const styles: React.CSSProperties = {}
+
+    if (WIDTH_STRETCH_OVERRIDE.includes(node.element.type ?? "")) {
+      styles.width = "100%"
+    }
+
+    if (VISIBLE_OVERFLOW_OVERRIDE.includes(node.element.type ?? "")) {
+      styles.overflow = "visible"
+    }
+
     if (node.element.type === "imgs") {
-      // The st.image element is potentially a list of images, so we always want
-      // the enclosing container to be full width. The size of individual
-      // images is managed in the ImageList component.
-      return {
-        width: "100%",
+      if (isInHorizontalLayout) {
+        // st.image doesn't have the same proto style as other elements.
+        // this can be consolidated with handling of other elements after width
+        // changes are implemented for st.image.
+        if (node.element.imgs?.width) {
+          styles.width = `${node.element.imgs.width}px`
+          styles.flex = `0 0 ${node.element.imgs.width}px`
+        } else {
+          styles.flex = "1 1 fit-content"
+        }
       }
+      return styles
     } else if (node.element.type === "textArea") {
       // The st.text_area element has a legacy implementation where the height
       // is measuring only the input box so the pixel height must be set in the element
       // and the container must be allowed to expand. Additionally, we don't want the
       // flex with height to be set on the element container.
-      // TODO(lawilby): The PR expanding the height of text_area elements will
-      // make st.text_area consistent with the other elements and we can remove this.
       if (node.element.heightConfig?.useStretch) {
+        return {
+          height: "100%",
+          flex: "1 1 8rem",
+        }
+      } else if (isInHorizontalLayout) {
         return {
           height: "auto",
-          flex: "1 1 auto",
         }
       }
       return {
         height: "auto",
+        // Content height text area in vertical layout cannot have flex.
         flex: "",
       }
-    } else if (
-      node.element.type === "iframe" ||
-      node.element.type === "deckGlJsonChart" ||
-      node.element.type === "arrowDataFrame"
-    ) {
-      // TODO(lwilby): Some elements need overflow to be visible in webkit. Will investigate
-      // if we can remove this custom handling in future layouts work.
-      return {
-        overflow: "visible",
+    } else if (node.element.type === "arrowDataFrame") {
+      // TODO (lawilby): Some of this can be removed once the width changes
+      // are implemented for dataframe.
+      if (isContentWidthDataframe && isInHorizontalLayout) {
+        styles.width = "fit-content"
+        styles.flex = "0 0 auto"
+      }
+      return styles
+    } else if (node.element.type === "deckGlJsonChart") {
+      // TODO (lawilby): When width is implemented for deckGlJsonChart, we
+      // should try to remove these custom styles.
+      // Currently, maps with use_container_width=False and a size layer
+      // don't render correctly without the width override.
+      if (
+        !node.element.deckGlJsonChart?.useContainerWidth &&
+        !node.element.deckGlJsonChart?.width
+      ) {
+        styles.width = "100%"
+      }
+      return styles
+    } else if (node.element.type === "arrowVegaLiteChart") {
+      if (isInHorizontalLayout) {
+        styles.flex = "1 1 14rem"
       }
+      return styles
     }
 
-    return {}
-  }, [node.element.type, node.element.heightConfig?.useStretch])
+    return styles
+  }, [
+    node.element.type,
+    node.element.heightConfig?.useStretch,
+    node.element.deckGlJsonChart?.useContainerWidth,
+    node.element.deckGlJsonChart?.width,
+    isContentWidthDataframe,
+    isInHorizontalLayout,
+    node.element.imgs?.width,
+  ])
 
   const styles = useLayoutStyles({
     element: node.element,
     subElement:
       (node.element?.type && node.element[node.element.type]) || undefined,
     styleOverrides,
+    minStretchBehavior,
   })
 
   return <StyledElementContainer {...rest} {...styles} />
diff --git a/frontend/lib/src/components/core/Block/styled-components.ts b/frontend/lib/src/components/core/Block/styled-components.ts
index 785b6e5f5..b828391a5 100644
--- a/frontend/lib/src/components/core/Block/styled-components.ts
+++ b/frontend/lib/src/components/core/Block/styled-components.ts
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-import React from "react"
+import React, { CSSProperties } from "react"
 
 import styled from "@emotion/styled"
 
@@ -22,6 +22,7 @@ import { Block as BlockProto, streamlit } from "@streamlit/protobuf"
 
 import { StyledCheckbox } from "~lib/components/widgets/Checkbox/styled-components"
 import { EmotionTheme, STALE_STYLES } from "~lib/theme"
+import { assertNever } from "~lib/util/assertNever"
 
 function translateGapWidth(
   gap: streamlit.GapSize | undefined,
@@ -53,6 +54,9 @@ export const StyledElementContainer = styled.div<StyledElementContainerProps>(
     width,
     height,
     maxWidth: "100%",
+    // Important so that individual elements don't take up too much space
+    // in horizontal layouts. Particularly when an element uses the full screen wrapper.
+    minWidth: "1rem",
     // Allows to have absolutely-positioned nodes inside app elements, like
     // floating buttons.
     position: "relative",
@@ -149,6 +153,50 @@ export const StyledColumn = styled.div<StyledColumnProps>(
   }
 )
 
+const getAlignItems = (
+  align: BlockProto.FlexContainer.Align | undefined | null
+): CSSProperties["alignItems"] => {
+  switch (align) {
+    case BlockProto.FlexContainer.Align.ALIGN_START:
+      return "start"
+    case BlockProto.FlexContainer.Align.ALIGN_CENTER:
+      return "center"
+    case BlockProto.FlexContainer.Align.ALIGN_END:
+      return "end"
+    case BlockProto.FlexContainer.Align.STRETCH:
+      return "stretch"
+    case BlockProto.FlexContainer.Align.ALIGN_UNDEFINED:
+    case undefined:
+    case null:
+      // This is the existing default behavior
+      return "start"
+    default:
+      assertNever(align)
+  }
+}
+
+const getJustifyContent = (
+  justify: BlockProto.FlexContainer.Justify | undefined | null
+): CSSProperties["justifyContent"] => {
+  switch (justify) {
+    case BlockProto.FlexContainer.Justify.JUSTIFY_START:
+      return "start"
+    case BlockProto.FlexContainer.Justify.JUSTIFY_CENTER:
+      return "center"
+    case BlockProto.FlexContainer.Justify.JUSTIFY_END:
+      return "end"
+    case BlockProto.FlexContainer.Justify.SPACE_BETWEEN:
+      return "space-between"
+    case BlockProto.FlexContainer.Justify.JUSTIFY_UNDEFINED:
+    case undefined:
+    case null:
+      // This is the existing default behavior
+      return "start"
+    default:
+      assertNever(justify)
+  }
+}
+
 export interface StyledFlexContainerBlockProps {
   direction: React.CSSProperties["flexDirection"]
   gap?: streamlit.GapSize | undefined
@@ -159,12 +207,25 @@ export interface StyledFlexContainerBlockProps {
   $wrap?: boolean
   height?: React.CSSProperties["height"]
   border: boolean
+  align?: BlockProto.FlexContainer.Align | null
+  justify?: BlockProto.FlexContainer.Justify | null
   overflow?: React.CSSProperties["overflow"]
 }
 
 export const StyledFlexContainerBlock =
   styled.div<StyledFlexContainerBlockProps>(
-    ({ theme, direction, gap, flex, $wrap, height, border, overflow }) => {
+    ({
+      theme,
+      direction,
+      gap,
+      flex,
+      $wrap,
+      height,
+      border,
+      align,
+      justify,
+      overflow,
+    }) => {
       let gapWidth
       if (gap !== undefined) {
         gapWidth = translateGapWidth(gap, theme)
@@ -175,9 +236,12 @@ export const StyledFlexContainerBlock =
         gap: gapWidth,
         width: "100%",
         maxWidth: "100%",
-        height: height,
+        height: height ?? "auto",
+        minWidth: "1rem",
         flexDirection: direction,
         flex,
+        alignItems: getAlignItems(align),
+        justifyContent: getJustifyContent(justify),
         flexWrap: $wrap ? "wrap" : "nowrap",
         ...(border && {
           border: `${theme.sizes.borderWidth} solid ${theme.colors.borderColor}`,
@@ -203,6 +267,7 @@ export const StyledLayoutWrapper = styled.div<StyledLayoutWrapperProps>(
     flexDirection: "column",
     width,
     maxWidth: "100%",
+    minWidth: "1rem",
     height,
     flex,
   })
diff --git a/frontend/lib/src/components/core/Layout/FlexContext.tsx b/frontend/lib/src/components/core/Layout/FlexContext.tsx
new file mode 100644
index 000000000..41296362a
--- /dev/null
+++ b/frontend/lib/src/components/core/Layout/FlexContext.tsx
@@ -0,0 +1,63 @@
+/**
+ * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+import React, { createContext, FC, PropsWithChildren, useMemo } from "react"
+
+import { Direction } from "./utils"
+
+export interface IFlexContext {
+  direction: Direction | undefined
+  isInHorizontalLayout: boolean
+}
+
+export const FlexContext = createContext<IFlexContext | null>(null)
+FlexContext.displayName = "FlexContext"
+
+/**
+ * FlexContextProvider sets the current `FlexContext` value to one of the
+ * following values given:
+ *
+ * - `null` -> Used when the parent is a standard `st.container` without any
+ *   `direction` arg given to it.
+ * - `row` -> Used when the parent is a `st.container` with
+ *   `direction="horizontal"`.
+ * - `column` -> Used when the parent is a `st.container` with
+ *   `direction="vertical"`.
+ *
+ * Since Contexts work recursively, this means that any child component that
+ * uses `FlexContext` will get the correct value for the `direction` prop of the
+ * nearest `st.container` ancestor.
+ *
+ * @returns direction: The direction of the nearest `st.container` ancestor.
+ * @returns isInHorizontalLayout: Whether the nearest `st.container` ancestor is
+ *   a horizontal layout.
+ *
+ * Search the codebase for `<FlexContextProvider` to see where this is used.
+ *
+ */
+export const FlexContextProvider: FC<
+  PropsWithChildren<{ direction: Direction }>
+> = ({ children, direction }) => {
+  const value = useMemo<IFlexContext>(() => {
+    const isInHorizontalLayout = direction === Direction.HORIZONTAL
+    return {
+      direction,
+      isInHorizontalLayout,
+    }
+  }, [direction])
+
+  return <FlexContext.Provider value={value}>{children}</FlexContext.Provider>
+}
diff --git a/frontend/lib/src/components/core/Layout/useLayoutStyles.test.ts b/frontend/lib/src/components/core/Layout/useLayoutStyles.test.tsx
similarity index 74%
rename from frontend/lib/src/components/core/Layout/useLayoutStyles.test.ts
rename to frontend/lib/src/components/core/Layout/useLayoutStyles.test.tsx
index 636b9fb19..74e183b92 100644
--- a/frontend/lib/src/components/core/Layout/useLayoutStyles.test.ts
+++ b/frontend/lib/src/components/core/Layout/useLayoutStyles.test.tsx
@@ -1,3 +1,4 @@
+import React, { ReactNode } from "react"
 /**
  * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)
  *
@@ -19,7 +20,19 @@ import { describe, expect, it } from "vitest"
 
 import { Element, IAlert, streamlit } from "@streamlit/protobuf"
 
+import { FlexContextProvider } from "./FlexContext"
 import { useLayoutStyles, UseLayoutStylesShape } from "./useLayoutStyles"
+import { Direction, MinFlexElementWidth } from "./utils"
+
+function withFlexContextProvider(direction: Direction) {
+  return function Wrapper({ children }: { children: ReactNode }) {
+    return (
+      <FlexContextProvider direction={direction}>
+        {children}
+      </FlexContextProvider>
+    )
+  }
+}
 
 class MockElement implements Element {
   widthConfig?: streamlit.WidthConfig | null
@@ -312,7 +325,9 @@ describe("#useLayoutStyles", () => {
         "and with a heightConfig value of %o, returns %o",
         (heightConfig, expected) => {
           const element = new MockElement({ heightConfig })
-          const { result } = renderHook(() => useLayoutStyles({ element }))
+          const { result } = renderHook(() => useLayoutStyles({ element }), {
+            wrapper: withFlexContextProvider(Direction.VERTICAL),
+          })
           expect(result.current).toEqual(expected)
         }
       )
@@ -382,16 +397,13 @@ describe("#useLayoutStyles", () => {
       ])(
         "and with a height value of %s and heightConfig %s, returns %o",
         (height, heightConfig, expected) => {
-          const element = new MockElement({
-            heightConfig,
-          })
-
-          const subElement = {
-            height,
-          }
-
-          const { result } = renderHook(() =>
-            useLayoutStyles({ element, subElement })
+          const element = new MockElement({ heightConfig })
+          const subElement = { height }
+          const { result } = renderHook(
+            () => useLayoutStyles({ element, subElement }),
+            {
+              wrapper: withFlexContextProvider(Direction.VERTICAL),
+            }
           )
           expect(result.current).toEqual(expected)
         }
@@ -415,8 +427,11 @@ describe("#useLayoutStyles", () => {
       ])("and with a height value of %s, returns %o", (height, expected) => {
         const element = new MockElement()
         const subElement = { height }
-        const { result } = renderHook(() =>
-          useLayoutStyles({ element, subElement })
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, subElement }),
+          {
+            wrapper: withFlexContextProvider(Direction.VERTICAL),
+          }
         )
         expect(result.current).toEqual(expected)
       })
@@ -471,16 +486,13 @@ describe("#useLayoutStyles", () => {
           getDefaultStyles({}),
         ],
       ])("and with element props %o, returns %o", (props, expected) => {
-        const element = new MockElement({
-          heightConfig: props.heightConfig,
-        })
-
-        const subElement = {
-          height: props.height,
-        }
-
-        const { result } = renderHook(() =>
-          useLayoutStyles({ element, subElement })
+        const element = new MockElement({ heightConfig: props.heightConfig })
+        const subElement = { height: props.height }
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, subElement }),
+          {
+            wrapper: withFlexContextProvider(Direction.VERTICAL),
+          }
         )
         expect(result.current).toEqual(expected)
       })
@@ -516,7 +528,9 @@ describe("#useLayoutStyles", () => {
         ],
       ])("and with element props %o, returns %o", (props, expected) => {
         const element = new MockElement(props)
-        const { result } = renderHook(() => useLayoutStyles({ element }))
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.VERTICAL),
+        })
         expect(result.current).toEqual(expected)
       })
     })
@@ -543,17 +557,17 @@ describe("#useLayoutStyles", () => {
         ],
         [
           { width: 100, height: 0 },
-          getDefaultStyles({
-            width: "100px",
-            height: "auto",
-          }),
+          getDefaultStyles({ width: "100px", height: "auto" }),
         ],
       ])(
         "and with subElement props %o, returns %o",
         (subElementProps, expected) => {
           const element = new MockElement()
-          const { result } = renderHook(() =>
-            useLayoutStyles({ element, subElement: subElementProps })
+          const { result } = renderHook(
+            () => useLayoutStyles({ element, subElement: subElementProps }),
+            {
+              wrapper: withFlexContextProvider(Direction.VERTICAL),
+            }
           )
           expect(result.current).toEqual(expected)
         }
@@ -607,48 +621,158 @@ describe("#useLayoutStyles", () => {
       )
     })
 
-    describe("flex property behavior", () => {
-      it("should include flex when height is set via heightConfig pixelHeight", () => {
+    describe("flex property behavior with direction context", () => {
+      it("should include flex for vertical direction with pixel height", () => {
         const element = new MockElement({
           heightConfig: new streamlit.HeightConfig({ pixelHeight: 250 }),
         })
-        const { result } = renderHook(() => useLayoutStyles({ element }))
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.VERTICAL),
+        })
         expect(result.current.flex).toBe("0 0 250px")
       })
 
-      it("should include flex when height is set via subElement height", () => {
-        const element = new MockElement()
-        const subElement = { height: 175 }
-        const { result } = renderHook(() =>
-          useLayoutStyles({ element, subElement })
-        )
-        expect(result.current.flex).toBe("0 0 175px")
+      it("should include flex for horizontal direction with pixel width", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ pixelWidth: 120 }),
+        })
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+        })
+        expect(result.current.flex).toBe("0 0 120px")
+      })
+
+      it("should not include flex for vertical direction with pixel width", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ pixelWidth: 120 }),
+        })
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.VERTICAL),
+        })
+        expect(result.current.flex).toBeUndefined()
       })
 
-      it("should not include flex when height is stretch", () => {
+      it("should not include flex for vertical direction with stretch height", () => {
         const element = new MockElement({
           heightConfig: new streamlit.HeightConfig({ useStretch: true }),
         })
-        const { result } = renderHook(() => useLayoutStyles({ element }))
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.VERTICAL),
+        })
+        expect(result.current.flex).toBeUndefined()
+      })
+
+      it("should not include flex for horizontal direction with pixel height", () => {
+        const element = new MockElement({
+          heightConfig: new streamlit.HeightConfig({ pixelHeight: 250 }),
+        })
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+        })
         expect(result.current.flex).toBeUndefined()
       })
 
-      it("should not include flex when height is content", () => {
+      it("should include flex for horizontal direction with stretch width", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ useStretch: true }),
+        })
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+        })
+        expect(result.current.flex).toBe("1 1 fit-content")
+      })
+
+      it("should not include flex for vertical direction with content height", () => {
         const element = new MockElement({
           heightConfig: new streamlit.HeightConfig({ useContent: true }),
         })
-        const { result } = renderHook(() => useLayoutStyles({ element }))
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.VERTICAL),
+        })
         expect(result.current.flex).toBeUndefined()
       })
 
-      it.each([
-        ["stretch", new streamlit.HeightConfig({ useStretch: true })],
-        ["content", new streamlit.HeightConfig({ useContent: true })],
-      ])("should not include flex when height is %s", (_, heightConfig) => {
-        const element = new MockElement({ heightConfig })
-        const { result } = renderHook(() => useLayoutStyles({ element }))
+      it("should include flex for horizontal direction with content width", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ useContent: true }),
+        })
+        const { result } = renderHook(() => useLayoutStyles({ element }), {
+          wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+        })
+        expect(result.current.flex).toBe("0 0 fit-content")
+      })
+    })
+
+    describe("minStretchBehavior behavior", () => {
+      it("should use provided minStretchBehavior value", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ useStretch: true }),
+        })
+        const minStretchBehavior: MinFlexElementWidth = "14rem"
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, minStretchBehavior }),
+          {
+            wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+          }
+        )
+        expect(result.current.flex).toBe("1 1 14rem")
+      })
+
+      it("should use default fit-content when minStretchBehavior is undefined", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ useStretch: true }),
+        })
+        const minStretchBehavior: MinFlexElementWidth = undefined
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, minStretchBehavior }),
+          {
+            wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+          }
+        )
+        expect(result.current.flex).toBe("1 1 fit-content")
+      })
+
+      it("should not affect non-stretch width configurations", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ useContent: true }),
+        })
+        const minStretchBehavior: MinFlexElementWidth = "14rem"
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, minStretchBehavior }),
+          {
+            wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+          }
+        )
+        expect(result.current.flex).toBe("0 0 fit-content")
+      })
+
+      it("should not affect vertical direction even with stretch width", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ useStretch: true }),
+        })
+        const minStretchBehavior: MinFlexElementWidth = "14rem"
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, minStretchBehavior }),
+          {
+            wrapper: withFlexContextProvider(Direction.VERTICAL),
+          }
+        )
         expect(result.current.flex).toBeUndefined()
       })
+
+      it("should not affect pixel width configurations", () => {
+        const element = new MockElement({
+          widthConfig: new streamlit.WidthConfig({ pixelWidth: 200 }),
+        })
+        const minStretchBehavior: MinFlexElementWidth = "14rem"
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, minStretchBehavior }),
+          {
+            wrapper: withFlexContextProvider(Direction.HORIZONTAL),
+          }
+        )
+        expect(result.current.flex).toBe("0 0 200px")
+      })
     })
 
     describe("with styleOverrides", () => {
@@ -687,8 +811,11 @@ describe("#useLayoutStyles", () => {
           width: "75%",
         }
 
-        const { result } = renderHook(() =>
-          useLayoutStyles({ element, styleOverrides })
+        const { result } = renderHook(
+          () => useLayoutStyles({ element, styleOverrides }),
+          {
+            wrapper: withFlexContextProvider(Direction.VERTICAL),
+          }
         )
 
         expect(result.current).toEqual({
diff --git a/frontend/lib/src/components/core/Layout/useLayoutStyles.ts b/frontend/lib/src/components/core/Layout/useLayoutStyles.ts
index e129ce2e2..7e18c3e39 100644
--- a/frontend/lib/src/components/core/Layout/useLayoutStyles.ts
+++ b/frontend/lib/src/components/core/Layout/useLayoutStyles.ts
@@ -14,10 +14,13 @@
  * limitations under the License.
  */
 
-import { useMemo } from "react"
+import { useContext, useMemo } from "react"
 
 import { Block as BlockProto, Element, streamlit } from "@streamlit/protobuf"
 
+import { FlexContext, IFlexContext } from "./FlexContext"
+import { Direction, MinFlexElementWidth } from "./utils"
+
 type SubElement = {
   useContainerWidth?: boolean | null
   height?: number
@@ -37,6 +40,7 @@ export type UseLayoutStylesArgs = {
   // level element.
   subElement?: SubElement
   styleOverrides?: StyleOverrides
+  minStretchBehavior?: MinFlexElementWidth
 }
 
 const isNonZeroPositiveNumber = (value: unknown): value is number =>
@@ -141,15 +145,40 @@ const getHeight = (
 }
 
 const getFlex = (
-  height: LayoutDimensionConfig
-): React.CSSProperties["flex"] => {
-  // TODO(lawilby): When direction is implemented for containers,
-  // this will be updated to support horizontal direction as well.
-  // Currently, the assumption is that the container is vertical.
-  if (height.type === DimensionType.PIXEL) {
-    return `0 0 ${height.pixels}px`
+  widthType: DimensionType | undefined,
+  widthPixels: number | undefined,
+  heightType: DimensionType | undefined,
+  heightPixels: number | undefined,
+  direction: Direction | undefined,
+  minStretchBehavior?: MinFlexElementWidth
+): string | undefined => {
+  if (
+    widthType === DimensionType.PIXEL &&
+    direction === Direction.HORIZONTAL
+  ) {
+    return `0 0 ${widthPixels}px`
+  } else if (
+    heightType === DimensionType.PIXEL &&
+    direction === Direction.VERTICAL
+  ) {
+    return `0 0 ${heightPixels}px`
+  } else if (
+    widthType === DimensionType.CONTENT &&
+    direction === Direction.HORIZONTAL
+  ) {
+    return "0 0 fit-content"
+  } else if (
+    widthType === DimensionType.STRETCH &&
+    direction === Direction.HORIZONTAL
+  ) {
+    return `1 1 ${minStretchBehavior ?? "fit-content"}`
   }
-  return undefined
+}
+
+const getDirection = (
+  flexContext: IFlexContext | null
+): Direction | undefined => {
+  return flexContext?.direction
 }
 
 export type UseLayoutStylesShape = {
@@ -166,9 +195,9 @@ export const useLayoutStyles = ({
   element,
   subElement,
   styleOverrides,
+  minStretchBehavior,
 }: UseLayoutStylesArgs): UseLayoutStylesShape => {
-  // Note: Consider rounding the width to the nearest pixel so we don't have
-  // subpixel widths, which leads to blurriness on screen
+  const flexContext = useContext(FlexContext)
   const layoutStyles = useMemo((): UseLayoutStylesShape => {
     if (!element) {
       return {
@@ -207,7 +236,14 @@ export const useLayoutStyles = ({
       overflow = "auto"
     }
 
-    const flex = getFlex({ pixels: commandHeight, type: heightType })
+    const flex = getFlex(
+      widthType,
+      commandWidth,
+      heightType,
+      commandHeight,
+      getDirection(flexContext),
+      minStretchBehavior
+    )
 
     const calculatedStyles = {
       width,
@@ -220,7 +256,7 @@ export const useLayoutStyles = ({
       ...calculatedStyles,
       ...styleOverrides,
     }
-  }, [element, subElement, styleOverrides])
+  }, [element, subElement, styleOverrides, flexContext, minStretchBehavior])
 
   return layoutStyles
 }
diff --git a/frontend/lib/src/components/core/Layout/utils.ts b/frontend/lib/src/components/core/Layout/utils.ts
index 3951a4974..690394977 100644
--- a/frontend/lib/src/components/core/Layout/utils.ts
+++ b/frontend/lib/src/components/core/Layout/utils.ts
@@ -21,6 +21,8 @@ export enum Direction {
   VERTICAL = "column",
 }
 
+export type MinFlexElementWidth = "fit-content" | "14rem" | "8rem" | undefined
+
 export function getDirectionOfBlock(block: BlockProto): Direction {
   if (block.flexContainer) {
     return block.flexContainer.direction ==
diff --git a/frontend/lib/src/components/elements/Tabs/Tabs.tsx b/frontend/lib/src/components/elements/Tabs/Tabs.tsx
index fde8e9309..21e42c257 100644
--- a/frontend/lib/src/components/elements/Tabs/Tabs.tsx
+++ b/frontend/lib/src/components/elements/Tabs/Tabs.tsx
@@ -42,10 +42,11 @@ export interface TabProps extends BlockPropsWithoutWidth {
   // eslint-disable-next-line @typescript-eslint/no-explicit-any -- TODO: Replace 'any' with a more specific type.
   renderTabContent: (childProps: any) => ReactElement
   width: React.CSSProperties["width"]
+  flex: React.CSSProperties["flex"]
 }
 
 function Tabs(props: Readonly<TabProps>): ReactElement {
-  const { widgetsDisabled, node, isStale, width } = props
+  const { widgetsDisabled, node, isStale, width, flex } = props
   const { fragmentIdsThisRun, scriptRunState, scriptRunId } =
     useContext(LibContext)
 
@@ -103,6 +104,7 @@ function Tabs(props: Readonly<TabProps>): ReactElement {
       isOverflowing={isOverflowing}
       tabHeight={TAB_HEIGHT}
       width={width}
+      flex={flex}
     >
       <UITabs
         activateOnFocus
diff --git a/frontend/lib/src/components/elements/Tabs/styled-components.ts b/frontend/lib/src/components/elements/Tabs/styled-components.ts
index a009e371e..61240a33c 100644
--- a/frontend/lib/src/components/elements/Tabs/styled-components.ts
+++ b/frontend/lib/src/components/elements/Tabs/styled-components.ts
@@ -21,10 +21,11 @@ export interface StyledTabContainerProps {
   isOverflowing: boolean
   tabHeight: string
   width: React.CSSProperties["width"]
+  flex: React.CSSProperties["flex"]
 }
 
 export const StyledTabContainer = styled.div<StyledTabContainerProps>(
-  ({ theme, isOverflowing, tabHeight, width }) => ({
+  ({ theme, isOverflowing, tabHeight, width, flex }) => ({
     ...(isOverflowing
       ? {
           position: "relative",
@@ -47,5 +48,8 @@ export const StyledTabContainer = styled.div<StyledTabContainerProps>(
     ...(width && {
       width,
     }),
+    ...(flex && {
+      flex,
+    }),
   })
 )
diff --git a/frontend/lib/src/components/widgets/DataFrame/DataFrame.tsx b/frontend/lib/src/components/widgets/DataFrame/DataFrame.tsx
index 5dbf2096f..a8eb71ffe 100644
--- a/frontend/lib/src/components/widgets/DataFrame/DataFrame.tsx
+++ b/frontend/lib/src/components/widgets/DataFrame/DataFrame.tsx
@@ -49,6 +49,7 @@ import { createPortal } from "react-dom"
 
 import { Arrow as ArrowProto } from "@streamlit/protobuf"
 
+import { FlexContext } from "~lib/components/core/Layout/FlexContext"
 import { LibContext } from "~lib/components/core/LibContext"
 import { ElementFullscreenContext } from "~lib/components/shared/ElementFullscreen/ElementFullscreenContext"
 import { withFullScreenWrapper } from "~lib/components/shared/FullScreenWrapper"
@@ -151,6 +152,8 @@ function DataFrame({
     height: containerHeight,
   } = useRequiredContext(ElementFullscreenContext)
 
+  const { isInHorizontalLayout } = useRequiredContext(FlexContext)
+
   const resizableRef = useRef<Resizable>(null)
   const dataEditorRef = useRef<DataEditorRef>(null)
   const resizableContainerRef = useRef<HTMLDivElement>(null)
@@ -719,6 +722,7 @@ function DataFrame({
       className="stDataFrame"
       data-testid="stDataFrame"
       ref={resizableContainerRef}
+      isInHorizontalLayout={isInHorizontalLayout}
       onPointerDown={e => {
         if (resizableContainerRef.current) {
           // Prevent clicks on the scrollbar handle to propagate to the grid:
@@ -876,7 +880,11 @@ function DataFrame({
         minHeight={minHeight}
         maxHeight={maxHeight}
         minWidth={minWidth}
-        maxWidth={maxWidth}
+        // The maxWidth is not calculated correctly for content width
+        // dataframes in horizontal layouts, so it is disabled. The
+        // resize handles are also disabled so that the dataframe cannot be
+        // stretched beyond the container width.
+        maxWidth={isInHorizontalLayout ? undefined : maxWidth}
         size={resizableSize}
         enable={{
           top: false,
@@ -884,7 +892,7 @@ function DataFrame({
           bottom: false,
           left: false,
           topRight: false,
-          bottomRight: true,
+          bottomRight: isInHorizontalLayout ? false : true,
           bottomLeft: false,
           topLeft: false,
         }}
diff --git a/frontend/lib/src/components/widgets/DataFrame/styled-components.ts b/frontend/lib/src/components/widgets/DataFrame/styled-components.ts
index a3003abae..ecd8760d7 100644
--- a/frontend/lib/src/components/widgets/DataFrame/styled-components.ts
+++ b/frontend/lib/src/components/widgets/DataFrame/styled-components.ts
@@ -16,57 +16,64 @@
 
 import styled from "@emotion/styled"
 
+export interface StyledResizableContainerProps {
+  isInHorizontalLayout: boolean
+}
+
 /**
  * A resizable data grid container component.
  */
-export const StyledResizableContainer = styled.div(({ theme }) => ({
-  position: "relative",
-  display: "inline-block",
+export const StyledResizableContainer =
+  styled.div<StyledResizableContainerProps>(
+    ({ theme, isInHorizontalLayout }) => ({
+      position: "relative",
+      display: isInHorizontalLayout ? "flex" : "inline-block",
 
-  "& .stDataFrameGlideDataEditor": {
-    height: "100%",
-    minWidth: "100%",
-    borderRadius: theme.radii.default,
-  },
+      "& .stDataFrameGlideDataEditor": {
+        height: "100%",
+        minWidth: "100%",
+        borderRadius: theme.radii.default,
+      },
 
-  "& .dvn-scroller": {
-    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- TODO: Replace 'any' with a more specific type.
-    ["overflowX" as any]: "auto !important",
-    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- TODO: Replace 'any' with a more specific type.
-    ["overflowY" as any]: "auto !important",
-  },
-  "& .gdg-search-bar": {
-    // Make the search field more responsive to the grid width and use
-    // rem units for everything.
-    // 19rem is the closest rem without decimals to the original size:
-    maxWidth: "19rem",
-    width: "80%",
-    // 6rem was manually determined as the smallest size thats still somewhat usable:
-    minWidth: "6rem",
-    top: theme.spacing.sm,
-    right: theme.spacing.sm,
-    padding: theme.spacing.sm,
-    borderRadius: theme.radii.default,
-    "& .gdg-search-status": {
-      paddingTop: theme.spacing.twoXS,
-      fontSize: theme.fontSizes.twoSm,
-    },
-    "& .gdg-search-progress": {
-      // We are disabling the search progress bar since it
-      // looks a bit weird in its current state and doesn't work
-      // with rounded corners
-      display: "none",
-    },
-    "& input": {
-      width: "100%",
-    },
-    "& button": {
-      width: theme.iconSizes.xl,
-      height: theme.iconSizes.xl,
-      "& .button-icon": {
-        width: theme.iconSizes.base,
-        height: theme.iconSizes.base,
+      "& .dvn-scroller": {
+        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- TODO: Replace 'any' with a more specific type.
+        ["overflowX" as any]: "auto !important",
+        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- TODO: Replace 'any' with a more specific type.
+        ["overflowY" as any]: "auto !important",
+      },
+      "& .gdg-search-bar": {
+        // Make the search field more responsive to the grid width and use
+        // rem units for everything.
+        // 19rem is the closest rem without decimals to the original size:
+        maxWidth: "19rem",
+        width: "80%",
+        // 6rem was manually determined as the smallest size thats still somewhat usable:
+        minWidth: "6rem",
+        top: theme.spacing.sm,
+        right: theme.spacing.sm,
+        padding: theme.spacing.sm,
+        borderRadius: theme.radii.default,
+        "& .gdg-search-status": {
+          paddingTop: theme.spacing.twoXS,
+          fontSize: theme.fontSizes.twoSm,
+        },
+        "& .gdg-search-progress": {
+          // We are disabling the search progress bar since it
+          // looks a bit weird in its current state and doesn't work
+          // with rounded corners
+          display: "none",
+        },
+        "& input": {
+          width: "100%",
+        },
+        "& button": {
+          width: theme.iconSizes.xl,
+          height: theme.iconSizes.xl,
+          "& .button-icon": {
+            width: theme.iconSizes.base,
+            height: theme.iconSizes.base,
+          },
+        },
       },
-    },
-  },
-}))
+    })
+  )
diff --git a/frontend/lib/src/test_util.tsx b/frontend/lib/src/test_util.tsx
index 023bcbbb4..4e97a29e6 100644
--- a/frontend/lib/src/test_util.tsx
+++ b/frontend/lib/src/test_util.tsx
@@ -27,6 +27,8 @@ import {
   FormsContext,
   FormsContextProps,
 } from "./components/core/FormsContext"
+import { FlexContext } from "./components/core/Layout/FlexContext"
+import { Direction } from "./components/core/Layout/utils"
 import { LibContext, LibContextProps } from "./components/core/LibContext"
 import ThemeProvider from "./components/core/ThemeProvider"
 import { WindowDimensionsProvider } from "./components/shared/WindowDimensions/Provider"
@@ -37,10 +39,19 @@ import { ScriptRunState } from "./ScriptRunState"
 import { baseTheme } from "./theme"
 import { createFormsData } from "./WidgetStateManager"
 
+const flexContextValue = {
+  direction: Direction.VERTICAL,
+  isInHorizontalLayout: false,
+}
+
 export const TestAppWrapper: FC<PropsWithChildren> = ({ children }) => {
   return (
     <ThemeProvider theme={mockTheme.emotion}>
-      <WindowDimensionsProvider>{children}</WindowDimensionsProvider>
+      <WindowDimensionsProvider>
+        <FlexContext.Provider value={flexContextValue}>
+          {children}
+        </FlexContext.Provider>
+      </WindowDimensionsProvider>
     </ThemeProvider>
   )
 }
@@ -108,18 +119,20 @@ export const renderWithContexts = (
     wrapper: ({ children }) => (
       <ThemeProvider theme={baseTheme.emotion}>
         <WindowDimensionsProvider>
-          <LibContext.Provider
-            value={{ ...defaultLibContextProps, ...overrideLibContextProps }}
-          >
-            <FormsContext.Provider
-              value={{
-                ...defaultFormsContextProps,
-                ...overrideFormsContextProps,
-              }}
+          <FlexContext.Provider value={flexContextValue}>
+            <LibContext.Provider
+              value={{ ...defaultLibContextProps, ...overrideLibContextProps }}
             >
-              {children}
-            </FormsContext.Provider>
-          </LibContext.Provider>
+              <FormsContext.Provider
+                value={{
+                  ...defaultFormsContextProps,
+                  ...overrideFormsContextProps,
+                }}
+              >
+                {children}
+              </FormsContext.Provider>
+            </LibContext.Provider>
+          </FlexContext.Provider>
         </WindowDimensionsProvider>
       </ThemeProvider>
     ),
diff --git a/lib/streamlit/elements/arrow.py b/lib/streamlit/elements/arrow.py
index ddcd7639c..b0f1f1917 100644
--- a/lib/streamlit/elements/arrow.py
+++ b/lib/streamlit/elements/arrow.py
@@ -38,6 +38,9 @@ from streamlit.elements.lib.column_config_utils import (
     update_column_config,
 )
 from streamlit.elements.lib.form_utils import current_form_id
+from streamlit.elements.lib.layout_utils import (
+    LayoutConfig,
+)
 from streamlit.elements.lib.pandas_styler_utils import marshall_styler
 from streamlit.elements.lib.policies import check_widget_policies
 from streamlit.elements.lib.utils import Key, compute_and_register_element_id, to_key
@@ -728,9 +731,16 @@ class ArrowMixin:
         delta_path = self.dg._get_delta_path_str()
         default_uuid = str(hash(delta_path))
 
+        # Tables dimensions are not configurable, this ensures that
+        # styles are applied correctly on the element container in the frontend.
+        layout_config = LayoutConfig(
+            width="stretch",
+            height="content",
+        )
+
         proto = ArrowProto()
         marshall(proto, data, default_uuid)
-        return self.dg._enqueue("arrow_table", proto)
+        return self.dg._enqueue("arrow_table", proto, layout_config=layout_config)
 
     @gather_metrics("add_rows")
     def add_rows(self, data: Data = None, **kwargs: Any) -> DeltaGenerator | None:
diff --git a/lib/streamlit/elements/layouts.py b/lib/streamlit/elements/layouts.py
index f4e92705c..0c7f9df45 100644
--- a/lib/streamlit/elements/layouts.py
+++ b/lib/streamlit/elements/layouts.py
@@ -21,23 +21,30 @@ from typing_extensions import TypeAlias
 
 from streamlit.delta_generator_singletons import get_dg_singleton_instance
 from streamlit.elements.lib.layout_utils import (
+    Gap,
     Height,
+    HorizontalAlignment,
+    VerticalAlignment,
     Width,
     WidthWithoutContent,
+    get_align,
+    get_gap_size,
     get_height_config,
+    get_justify,
     get_width_config,
     validate_height,
+    validate_horizontal_alignment,
+    validate_vertical_alignment,
     validate_width,
 )
 from streamlit.elements.lib.utils import Key, compute_and_register_element_id, to_key
 from streamlit.errors import (
     StreamlitAPIException,
-    StreamlitInvalidColumnGapError,
     StreamlitInvalidColumnSpecError,
     StreamlitInvalidVerticalAlignmentError,
 )
 from streamlit.proto.Block_pb2 import Block as BlockProto
-from streamlit.proto.GapSize_pb2 import GapConfig, GapSize
+from streamlit.proto.GapSize_pb2 import GapConfig
 from streamlit.runtime.metrics_util import gather_metrics
 from streamlit.string_util import validate_icon_or_emoji
 
@@ -59,6 +66,10 @@ class LayoutsMixin:
         key: Key | None = None,
         width: WidthWithoutContent = "stretch",
         height: Height = "content",
+        horizontal: bool = False,
+        horizontal_alignment: HorizontalAlignment = "left",
+        vertical_alignment: VerticalAlignment = "top",
+        gap: Gap | None = "small",
     ) -> DeltaGenerator:
         """Insert a multi-element container.
 
@@ -103,6 +114,30 @@ class LayoutsMixin:
             match the width of the parent container. If an integer is provided,
             the container will be set to the specified width.
 
+        horizontal : bool
+            Make this a container with a horizontal layout. If this is ``True``,
+            the elements inside the container will be laid out horizontally.
+            If this is ``False`` (default), the elements inside the container will
+            be laid out vertically.
+
+        horizontal_alignment : "left", "center", "right", or "distribute"
+            The horizontal alignment of the content inside the container. The
+            default is ``"left"``.
+
+        vertical_alignment : "top", "center", "bottom", or "distribute"
+            The vertical alignment of the content inside the container. The
+            default is ``"top"``.
+
+        gap : "small", "medium", "large", or None
+            The size of the gap between the elements inside the container. This can be one of the following:
+
+            - ``"small"`` (default): 1rem gap between the elements.
+            - ``"medium"``: 2rem gap between the elements.
+            - ``"large"``: 4rem gap between the elements.
+            - ``None``: No gap between the elements.
+
+            The rem unit is relative to the ``theme.baseFontSize`` configuration option.
+
         Examples
         --------
         Inserting elements using ``with`` notation:
@@ -168,7 +203,27 @@ class LayoutsMixin:
         key = to_key(key)
         block_proto = BlockProto()
         block_proto.allow_empty = False
-        block_proto.flex_container.wrap = False
+        block_proto.flex_container.border = border or False
+        block_proto.flex_container.gap_config.gap_size = get_gap_size(
+            gap, "st.container"
+        )
+
+        validate_horizontal_alignment(horizontal_alignment)
+        validate_vertical_alignment(vertical_alignment)
+        if horizontal:
+            block_proto.flex_container.wrap = True
+            block_proto.flex_container.direction = (
+                BlockProto.FlexContainer.Direction.HORIZONTAL
+            )
+            block_proto.flex_container.justify = get_justify(horizontal_alignment)
+            block_proto.flex_container.align = get_align(vertical_alignment)
+        else:
+            block_proto.flex_container.wrap = False
+            block_proto.flex_container.direction = (
+                BlockProto.FlexContainer.Direction.VERTICAL
+            )
+            block_proto.flex_container.justify = get_justify(vertical_alignment)
+            block_proto.flex_container.align = get_align(horizontal_alignment)
 
         validate_width(width)
         block_proto.width_config.CopyFrom(get_width_config(width))
@@ -203,7 +258,7 @@ class LayoutsMixin:
         self,
         spec: SpecType,
         *,
-        gap: Literal["small", "medium", "large"] | None = "small",
+        gap: Gap | None = "small",
         vertical_alignment: Literal["top", "center", "bottom"] = "top",
         border: bool = False,
         width: WidthWithoutContent = "stretch",
@@ -389,28 +444,11 @@ class LayoutsMixin:
 
         if vertical_alignment not in vertical_alignment_mapping:
             raise StreamlitInvalidVerticalAlignmentError(
-                vertical_alignment=vertical_alignment
+                vertical_alignment=vertical_alignment,
+                element_type="st.columns",
             )
 
-        def column_gap(gap: str | None) -> GapSize.ValueType:
-            gap_mapping = {
-                "small": GapSize.SMALL,
-                "medium": GapSize.MEDIUM,
-                "large": GapSize.LARGE,
-            }
-
-            if isinstance(gap, str):
-                gap_size = gap.lower()
-                valid_sizes = gap_mapping.keys()
-
-                if gap_size in valid_sizes:
-                    return gap_mapping[gap_size]
-            elif gap is None:
-                return GapSize.NONE
-
-            raise StreamlitInvalidColumnGapError(gap=gap)
-
-        gap_size = column_gap(gap)
+        gap_size = get_gap_size(gap, "st.columns")
         gap_config = GapConfig()
         gap_config.gap_size = gap_size
 
@@ -432,6 +470,7 @@ class LayoutsMixin:
         block_proto.flex_container.wrap = True
         block_proto.flex_container.gap_config.CopyFrom(gap_config)
         block_proto.flex_container.scale = 1
+        block_proto.flex_container.align = BlockProto.FlexContainer.Align.STRETCH
 
         validate_width(width=width)
         block_proto.width_config.CopyFrom(get_width_config(width=width))
diff --git a/lib/streamlit/elements/lib/layout_utils.py b/lib/streamlit/elements/lib/layout_utils.py
index ac98a38fc..07e1dfa17 100644
--- a/lib/streamlit/elements/lib/layout_utils.py
+++ b/lib/streamlit/elements/lib/layout_utils.py
@@ -14,11 +14,19 @@
 from __future__ import annotations
 
 from dataclasses import dataclass
-from typing import Literal, Union
+from typing import Literal, Union, cast
 
 from typing_extensions import TypeAlias
 
-from streamlit.errors import StreamlitInvalidHeightError, StreamlitInvalidWidthError
+from streamlit.errors import (
+    StreamlitInvalidColumnGapError,
+    StreamlitInvalidHeightError,
+    StreamlitInvalidHorizontalAlignmentError,
+    StreamlitInvalidVerticalAlignmentError,
+    StreamlitInvalidWidthError,
+)
+from streamlit.proto.Block_pb2 import Block
+from streamlit.proto.GapSize_pb2 import GapSize
 from streamlit.proto.HeightConfig_pb2 import HeightConfig
 from streamlit.proto.WidthConfig_pb2 import WidthConfig
 
@@ -26,6 +34,9 @@ WidthWithoutContent: TypeAlias = Union[int, Literal["stretch"]]
 Width: TypeAlias = Union[int, Literal["stretch", "content"]]
 HeightWithoutContent: TypeAlias = Union[int, Literal["stretch"]]
 Height: TypeAlias = Union[int, Literal["stretch", "content"]]
+Gap: TypeAlias = Literal["small", "medium", "large"]
+HorizontalAlignment: TypeAlias = Literal["left", "center", "right", "distribute"]
+VerticalAlignment: TypeAlias = Literal["top", "center", "bottom", "distribute"]
 
 
 @dataclass
@@ -113,3 +124,78 @@ def get_height_config(height: Height) -> HeightConfig:
     else:
         height_config.use_stretch = True
     return height_config
+
+
+def get_gap_size(gap: str | None, element_type: str) -> GapSize.ValueType:
+    """Convert a gap string or None to a GapSize proto value."""
+    gap_mapping = {
+        "small": GapSize.SMALL,
+        "medium": GapSize.MEDIUM,
+        "large": GapSize.LARGE,
+    }
+
+    if isinstance(gap, str):
+        gap_size = gap.lower()
+        valid_sizes = gap_mapping.keys()
+
+        if gap_size in valid_sizes:
+            return gap_mapping[gap_size]
+    elif gap is None:
+        return GapSize.NONE
+
+    raise StreamlitInvalidColumnGapError(gap=gap, element_type=element_type)
+
+
+def validate_horizontal_alignment(horizontal_alignment: HorizontalAlignment) -> None:
+    valid_horizontal_alignments = ["left", "center", "right", "distribute"]
+    if horizontal_alignment not in valid_horizontal_alignments:
+        raise StreamlitInvalidHorizontalAlignmentError(
+            horizontal_alignment, "st.container"
+        )
+
+
+def validate_vertical_alignment(vertical_alignment: VerticalAlignment) -> None:
+    valid_vertical_alignments = ["top", "center", "bottom", "distribute"]
+    if vertical_alignment not in valid_vertical_alignments:
+        raise StreamlitInvalidVerticalAlignmentError(vertical_alignment, "st.container")
+
+
+map_to_flex_terminology = {
+    "left": "start",
+    "center": "center",
+    "right": "end",
+    "top": "start",
+    "bottom": "end",
+    "distribute": "space_between",
+}
+
+
+def get_justify(
+    alignment: HorizontalAlignment | VerticalAlignment,
+) -> Block.FlexContainer.Justify.ValueType:
+    valid_justify = ["start", "center", "end", "space_between"]
+    justify = map_to_flex_terminology[alignment]
+    if justify not in valid_justify:
+        return Block.FlexContainer.Justify.JUSTIFY_UNDEFINED
+    if justify in ["start", "end", "center"]:
+        return cast(
+            "Block.FlexContainer.Justify.ValueType",
+            getattr(Block.FlexContainer.Justify, f"JUSTIFY_{justify.upper()}"),
+        )
+    return cast(
+        "Block.FlexContainer.Justify.ValueType",
+        getattr(Block.FlexContainer.Justify, f"{justify.upper()}"),
+    )
+
+
+def get_align(
+    alignment: HorizontalAlignment | VerticalAlignment,
+) -> Block.FlexContainer.Align.ValueType:
+    valid_align = ["start", "end", "center"]
+    align = map_to_flex_terminology[alignment]
+    if align not in valid_align:
+        return Block.FlexContainer.Align.ALIGN_UNDEFINED
+    return cast(
+        "Block.FlexContainer.Align.ValueType",
+        getattr(Block.FlexContainer.Align, f"ALIGN_{align.upper()}"),
+    )
diff --git a/lib/streamlit/errors.py b/lib/streamlit/errors.py
index f813df292..360254c91 100644
--- a/lib/streamlit/errors.py
+++ b/lib/streamlit/errors.py
@@ -239,22 +239,38 @@ class StreamlitInvalidColumnSpecError(LocalizableStreamlitException):
 class StreamlitInvalidVerticalAlignmentError(LocalizableStreamlitException):
     """Exception raised when an invalid value is specified for vertical_alignment."""
 
-    def __init__(self, vertical_alignment: str) -> None:
+    def __init__(self, vertical_alignment: str, element_type: str) -> None:
         super().__init__(
-            'The `vertical_alignment` argument to `st.columns` must be `"top"`, `"center"`, or `"bottom"`. \n'
+            "The `vertical_alignment` argument to `{element_type}` must be "
+            '`"top"`, `"center"`, `"bottom"`, or `"distribute"`. \n'
             "The argument passed was {vertical_alignment}.",
             vertical_alignment=vertical_alignment,
+            element_type=element_type,
         )
 
 
 class StreamlitInvalidColumnGapError(LocalizableStreamlitException):
     """Exception raised when an invalid value is specified for gap."""
 
-    def __init__(self, gap: str) -> None:
+    def __init__(self, gap: str, element_type: str) -> None:
         super().__init__(
-            'The `gap` argument to `st.columns` must be `"small"`, `"medium"`, `"large"`, or `"none"`. \n'
+            'The `gap` argument to `{element_type}` must be `"small"`, `"medium"`, `"large"`, or `"none"`. \n'
             "The argument passed was {gap}.",
             gap=gap,
+            element_type=element_type,
+        )
+
+
+class StreamlitInvalidHorizontalAlignmentError(LocalizableStreamlitException):
+    """Exception raised when an invalid value is specified for horizontal_alignment."""
+
+    def __init__(self, horizontal_alignment: str, element_type: str) -> None:
+        super().__init__(
+            "The `horizontal_alignment` argument to `{element_type}` must be "
+            '`"left"`, `"center"`, `"right"`, or `"distribute"`. \n'
+            "The argument passed was {horizontal_alignment}.",
+            horizontal_alignment=horizontal_alignment,
+            element_type=element_type,
         )
 
 
diff --git a/lib/tests/streamlit/elements/layouts_test.py b/lib/tests/streamlit/elements/layouts_test.py
index c625ae054..ec64f69fd 100644
--- a/lib/tests/streamlit/elements/layouts_test.py
+++ b/lib/tests/streamlit/elements/layouts_test.py
@@ -24,6 +24,8 @@ from streamlit.errors import (
     FragmentHandledException,
     StreamlitAPIException,
     StreamlitInvalidColumnGapError,
+    StreamlitInvalidHorizontalAlignmentError,
+    StreamlitInvalidVerticalAlignmentError,
 )
 from streamlit.proto.Block_pb2 import Block as BlockProto
 from streamlit.proto.GapSize_pb2 import GapSize
@@ -500,6 +502,138 @@ class ContainerTest(DeltaGeneratorTestCase):
         with pytest.raises(StreamlitAPIException):
             st.container(height=invalid_height)
 
+    @parameterized.expand(
+        [
+            (False, BlockProto.FlexContainer.Direction.VERTICAL),
+            (True, BlockProto.FlexContainer.Direction.HORIZONTAL),
+        ],
+    )
+    def test_container_direction(
+        self, direction: bool, expected_direction: int
+    ) -> None:
+        """Test that st.container sets the correct direction."""
+        st.container(horizontal=direction)
+        container_block = self.get_delta_from_queue()
+        assert container_block.add_block.flex_container.direction == expected_direction
+
+    @parameterized.expand(
+        [
+            ("left", BlockProto.FlexContainer.Justify.JUSTIFY_START),
+            ("center", BlockProto.FlexContainer.Justify.JUSTIFY_CENTER),
+            ("right", BlockProto.FlexContainer.Justify.JUSTIFY_END),
+            ("distribute", BlockProto.FlexContainer.Justify.SPACE_BETWEEN),
+        ]
+    )
+    def test_container_horizontal_alignment(
+        self, horizontal_alignment: str, expected_justify: int
+    ) -> None:
+        """Test that st.container sets the correct horizontal alignment (justify)."""
+        st.container(horizontal=True, horizontal_alignment=horizontal_alignment)
+        container_block = self.get_delta_from_queue()
+        assert container_block.add_block.flex_container.justify == expected_justify
+
+    @parameterized.expand(
+        [
+            ("top", BlockProto.FlexContainer.Align.ALIGN_START),
+            ("center", BlockProto.FlexContainer.Align.ALIGN_CENTER),
+            ("bottom", BlockProto.FlexContainer.Align.ALIGN_END),
+            ("distribute", BlockProto.FlexContainer.Align.ALIGN_UNDEFINED),
+        ],
+    )
+    def test_container_vertical_alignment(
+        self, vertical_alignment: str, expected_align: int
+    ) -> None:
+        """Test that st.container sets the correct vertical alignment (align)."""
+        st.container(horizontal=True, vertical_alignment=vertical_alignment)
+        container_block = self.get_delta_from_queue()
+        assert container_block.add_block.flex_container.align == expected_align
+
+    @parameterized.expand(
+        [
+            ("top", BlockProto.FlexContainer.Justify.JUSTIFY_START),
+            ("center", BlockProto.FlexContainer.Justify.JUSTIFY_CENTER),
+            ("bottom", BlockProto.FlexContainer.Justify.JUSTIFY_END),
+            ("distribute", BlockProto.FlexContainer.Justify.SPACE_BETWEEN),
+        ]
+    )
+    def test_container_vertical_direction_vertical_alignment(
+        self, vertical_alignment: str, expected_justify: int
+    ) -> None:
+        """Test that st.container with direction='vertical' sets the correct justify value for vertical_alignment."""
+        st.container(horizontal=False, vertical_alignment=vertical_alignment)
+        container_block = self.get_delta_from_queue()
+        assert container_block.add_block.flex_container.justify == expected_justify
+
+    @parameterized.expand(
+        [
+            ("left", BlockProto.FlexContainer.Align.ALIGN_START),
+            ("center", BlockProto.FlexContainer.Align.ALIGN_CENTER),
+            ("right", BlockProto.FlexContainer.Align.ALIGN_END),
+            ("distribute", BlockProto.FlexContainer.Align.ALIGN_UNDEFINED),
+        ]
+    )
+    def test_container_vertical_direction_horizontal_alignment(
+        self, horizontal_alignment: str, expected_align: int
+    ) -> None:
+        """Test that st.container with direction='vertical' sets the correct align value for horizontal_alignment."""
+        st.container(horizontal=False, horizontal_alignment=horizontal_alignment)
+        container_block = self.get_delta_from_queue()
+        assert container_block.add_block.flex_container.align == expected_align
+
+    @parameterized.expand(
+        [
+            (True, True),
+            (False, False),
+        ],
+    )
+    def test_container_wrap(self, direction: bool, wrap: bool) -> None:
+        """Test that st.container sets the wrap property correctly."""
+        st.container(horizontal=direction)
+        container_block = self.get_delta_from_queue()
+        assert container_block.add_block.flex_container.wrap == wrap
+
+    @parameterized.expand(
+        [
+            ("small", GapSize.SMALL),
+            ("medium", GapSize.MEDIUM),
+            ("large", GapSize.LARGE),
+            (None, GapSize.NONE),
+        ],
+    )
+    def test_container_gap(self, gap, expected_gap) -> None:
+        """Test that st.container sets the gap property correctly."""
+        st.container(gap=gap)
+        container_block = self.get_delta_from_queue()
+        assert (
+            container_block.add_block.flex_container.gap_config.gap_size == expected_gap
+        )
+
+    @parameterized.expand(
+        [
+            "invalid",
+            None,
+        ],
+    )
+    def test_container_invalid_horizontal_alignment(self, horizontal_alignment) -> None:
+        """Test that st.container raises on invalid horizontal_alignment."""
+        import streamlit as st
+
+        with pytest.raises(StreamlitInvalidHorizontalAlignmentError):
+            st.container(horizontal=True, horizontal_alignment=horizontal_alignment)
+
+    @parameterized.expand(
+        [
+            "invalid",
+            None,
+        ],
+    )
+    def test_container_invalid_vertical_alignment(self, vertical_alignment) -> None:
+        """Test that st.container raises on invalid vertical_alignment."""
+        import streamlit as st
+
+        with pytest.raises(StreamlitInvalidVerticalAlignmentError):
+            st.container(horizontal=True, vertical_alignment=vertical_alignment)
+
 
 class PopoverContainerTest(DeltaGeneratorTestCase):
     def test_label_required(self):
diff --git a/proto/streamlit/proto/Block.proto b/proto/streamlit/proto/Block.proto
index 5c54e8390..5ce416e2c 100644
--- a/proto/streamlit/proto/Block.proto
+++ b/proto/streamlit/proto/Block.proto
@@ -66,6 +66,24 @@ message Block {
     }
     Direction direction = 4;
     bool wrap = 5;
+
+    enum Justify {
+      JUSTIFY_UNDEFINED = 0;
+      JUSTIFY_START = 1;
+      JUSTIFY_END = 2;
+      JUSTIFY_CENTER = 3;
+      SPACE_BETWEEN = 4;
+    }
+    Justify justify = 7;
+
+    enum Align {
+      ALIGN_UNDEFINED = 0;
+      ALIGN_START = 1;
+      ALIGN_END = 2;
+      ALIGN_CENTER = 3;
+      STRETCH = 4;
+    }
+    Align align = 8;
   }
 
   message Column {
diff --git a/scripts/snapshot_cleanup.py b/scripts/snapshot_cleanup.py
index c18e408ef..03e3713fa 100644
--- a/scripts/snapshot_cleanup.py
+++ b/scripts/snapshot_cleanup.py
@@ -65,6 +65,12 @@ DISALLOWED_SNAPSHOTS = {
     "st_pydeck_chart-fullscreen_collapsed[light_theme-chromium].png",
     "st_pydeck_chart-fullscreen_expanded[dark_theme-chromium].png",
     "st_pydeck_chart-fullscreen_collapsed[dark_theme-chromium].png",
+    "st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[chromium].png",
+    "st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[chromium].png",
+    "st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[webkit].png",
+    "st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[webkit].png",
+    "st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_expanded[firefox].png",
+    "st_layouts_container_directions_fullscreen_elements-dataframe-fullscreen_collapsed[firefox].png",
     # st_data_editor Firefox snapshots that are not detected by static analysis
     "st_data_editor-input_data_0[firefox].png",
     "st_data_editor-input_data_1[firefox].png",
