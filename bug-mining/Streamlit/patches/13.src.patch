diff --git a/e2e/scripts/session_state_frontend_sync.py b/e2e/scripts/session_state_frontend_sync.py
new file mode 100644
index 000000000..e1aaf04de
--- /dev/null
+++ b/e2e/scripts/session_state_frontend_sync.py
@@ -0,0 +1,32 @@
+# Copyright 2018-2021 Streamlit Inc.
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#    http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+import streamlit as st
+
+if st._is_running_with_streamlit:
+    if "checkbox1" not in st.session_state:
+        st.session_state.checkbox1 = True
+
+    def on_checkbox_change(changed_checkbox_number):
+        if changed_checkbox_number == 1:
+            st.session_state.checkbox2 = False
+        elif changed_checkbox_number == 2:
+            st.session_state.checkbox1 = False
+
+    st.checkbox(
+        label="Checkbox1", key="checkbox1", on_change=on_checkbox_change, args=(1,)
+    )
+    st.checkbox(
+        label="Checkbox2", key="checkbox2", on_change=on_checkbox_change, args=(2,)
+    )
diff --git a/e2e/specs/session_state_frontend_sync.spec.js b/e2e/specs/session_state_frontend_sync.spec.js
new file mode 100644
index 000000000..d07413275
--- /dev/null
+++ b/e2e/specs/session_state_frontend_sync.spec.js
@@ -0,0 +1,44 @@
+/**
+ * @license
+ * Copyright 2018-2021 Streamlit Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *    http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+// Regression test for https://github.com/streamlit/streamlit/issues/3873
+
+describe("checkbox state update regression", () => {
+  beforeEach(() => {
+    cy.visit("http://localhost:3000/");
+  });
+
+  it("checking one disables the other", () => {
+    cy.get("[role='checkbox']").should("have.length", 2);
+    cy.get("[role='checkbox']")
+      .eq(0)
+      .should("have.attr", "aria-checked", "true");
+    cy.get("[role='checkbox']")
+      .eq(1)
+      .should("have.attr", "aria-checked", "false");
+
+    cy.get("[role='checkbox']")
+      .eq(1)
+      .click();
+    cy.get("[role='checkbox']")
+      .eq(0)
+      .should("have.attr", "aria-checked", "false");
+    cy.get("[role='checkbox']")
+      .eq(1)
+      .should("have.attr", "aria-checked", "true");
+  });
+});
diff --git a/lib/streamlit/state/session_state.py b/lib/streamlit/state/session_state.py
index 72efb866c..7ad9d8a76 100644
--- a/lib/streamlit/state/session_state.py
+++ b/lib/streamlit/state/session_state.py
@@ -517,9 +517,7 @@ class SessionState(MutableMapping[str, Any]):
         if user_key is None:
             return False
 
-        return self.is_new_state_value(user_key) and not self.is_new_widget_value(
-            widget_id
-        )
+        return self.is_new_state_value(user_key)
 
     def get_value_for_registration(self, widget_id: str) -> Any:
         """Get the value of a widget, for use as its return value.
