diff --git a/lib/dev-requirements.txt b/lib/dev-requirements.txt
index 77e73439c..21bd00169 100644
--- a/lib/dev-requirements.txt
+++ b/lib/dev-requirements.txt
@@ -1,4 +1,4 @@
-black>=22.3.0
+black==22.6.0
 pre-commit
 hypothesis>=6.17.4
 mypy>=1.4, <1.7
diff --git a/lib/streamlit/runtime/state/query_params.py b/lib/streamlit/runtime/state/query_params.py
index 907207b79..030c224bd 100644
--- a/lib/streamlit/runtime/state/query_params.py
+++ b/lib/streamlit/runtime/state/query_params.py
@@ -98,7 +98,8 @@ class QueryParams(MutableMapping[str, str]):
 
     def update(
         self,
-        other: Iterable[tuple[str, str]] | SupportsKeysAndGetItem[str, str] = (),
+        other: Iterable[tuple[str, str | Iterable[str]]]
+        | SupportsKeysAndGetItem[str, str | Iterable[str]] = (),
         /,
         **kwds: str,
     ):
@@ -164,7 +165,8 @@ class QueryParams(MutableMapping[str, str]):
 
     def from_dict(
         self,
-        _dict: Iterable[tuple[str, str]] | SupportsKeysAndGetItem[str, str],
+        _dict: Iterable[tuple[str, str | Iterable[str]]]
+        | SupportsKeysAndGetItem[str, str | Iterable[str]],
     ):
         self._ensure_single_query_api_used()
         old_value = self._query_params.copy()
diff --git a/lib/streamlit/runtime/state/query_params_proxy.py b/lib/streamlit/runtime/state/query_params_proxy.py
index c5d2deddd..0eb3ae47c 100644
--- a/lib/streamlit/runtime/state/query_params_proxy.py
+++ b/lib/streamlit/runtime/state/query_params_proxy.py
@@ -72,17 +72,19 @@ class QueryParamsProxy(MutableMapping[str, str]):
                 raise AttributeError(missing_key_error_message(key))
 
     @overload
-    def update(self, mapping: SupportsKeysAndGetItem[str, str], /, **kwds: str) -> None:
+    def update(
+        self, mapping: SupportsKeysAndGetItem[str, str | Iterable[str]], /, **kwds: str
+    ) -> None:
         ...
 
     @overload
     def update(
-        self, keys_and_values: Iterable[tuple[str, str]], /, **kwds: str
+        self, keys_and_values: Iterable[tuple[str, str | Iterable[str]]], /, **kwds: str
     ) -> None:
         ...
 
     @overload
-    def update(self, **kwds: str) -> None:
+    def update(self, **kwds: str | Iterable[str]) -> None:
         ...
 
     def update(self, other=(), /, **kwds):
@@ -163,11 +165,15 @@ class QueryParamsProxy(MutableMapping[str, str]):
             return qp.to_dict()
 
     @overload
-    def from_dict(self, keys_and_values: Iterable[tuple[str, str]]) -> None:
+    def from_dict(
+        self, keys_and_values: Iterable[tuple[str, str | Iterable[str]]]
+    ) -> None:
         ...
 
     @overload
-    def from_dict(self, mapping: SupportsKeysAndGetItem[str, str]) -> None:
+    def from_dict(
+        self, mapping: SupportsKeysAndGetItem[str, str | Iterable[str]]
+    ) -> None:
         ...
 
     @gather_metrics("query_params.from_dict")
diff --git a/lib/tests/streamlit/runtime/state/query_params_test.py b/lib/tests/streamlit/runtime/state/query_params_test.py
index 6aadb649d..5058db53e 100644
--- a/lib/tests/streamlit/runtime/state/query_params_test.py
+++ b/lib/tests/streamlit/runtime/state/query_params_test.py
@@ -130,6 +130,28 @@ class QueryParamsMethodTests(DeltaGeneratorTestCase):
         message = self.get_message_from_queue(0)
         assert "foo=bar" in message.page_info_changed.query_string
 
+    def test_update_adds_list_values(self):
+        self.query_params.update({"foo": ["bar", "baz"]})
+        assert self.query_params.get_all("foo") == ["bar", "baz"]
+        message = self.get_message_from_queue(0)
+        assert "foo=bar&foo=baz" in message.page_info_changed.query_string
+
+    def test_update_with_iterable(self):
+        self.query_params.update([("foo", "bar"), ("stream", ["lit", "rocks"])])
+        assert self.query_params.get("foo") == "bar"
+        assert self.query_params.get("stream") == "rocks"
+        message = self.get_message_from_queue(0)
+        assert "foo=bar" in message.page_info_changed.query_string
+        assert "stream=lit&stream=rocks" in message.page_info_changed.query_string
+
+    def test_update_with_keywords(self):
+        self.query_params.update(foo="bar", stream=["lit", "rocks"])
+        assert self.query_params.get("foo") == "bar"
+        assert self.query_params.get("stream") == "rocks"
+        message = self.get_message_from_queue(0)
+        assert "foo=bar" in message.page_info_changed.query_string
+        assert "stream=lit&stream=rocks" in message.page_info_changed.query_string
+
     def test_update_raises_error_with_embed_key(self):
         with pytest.raises(StreamlitAPIException):
             self.query_params.update({"foo": "bar", "embed": "true"})
