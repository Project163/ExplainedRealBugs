{"url":"https://api.github.com/repos/streamlit/streamlit/issues/4382","repository_url":"https://api.github.com/repos/streamlit/streamlit","labels_url":"https://api.github.com/repos/streamlit/streamlit/issues/4382/labels{/name}","comments_url":"https://api.github.com/repos/streamlit/streamlit/issues/4382/comments","events_url":"https://api.github.com/repos/streamlit/streamlit/issues/4382/events","html_url":"https://github.com/streamlit/streamlit/issues/4382","id":1127541652,"node_id":"I_kwDODCoeTs5DNOuU","number":4382,"title":"Make sure that clicking on a download button does not reload the entire app","user":{"login":"vhoulbreque","id":18598248,"node_id":"MDQ6VXNlcjE4NTk4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/18598248?v=4","gravatar_id":"","url":"https://api.github.com/users/vhoulbreque","html_url":"https://github.com/vhoulbreque","followers_url":"https://api.github.com/users/vhoulbreque/followers","following_url":"https://api.github.com/users/vhoulbreque/following{/other_user}","gists_url":"https://api.github.com/users/vhoulbreque/gists{/gist_id}","starred_url":"https://api.github.com/users/vhoulbreque/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vhoulbreque/subscriptions","organizations_url":"https://api.github.com/users/vhoulbreque/orgs","repos_url":"https://api.github.com/users/vhoulbreque/repos","events_url":"https://api.github.com/users/vhoulbreque/events{/privacy}","received_events_url":"https://api.github.com/users/vhoulbreque/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1516285327,"node_id":"MDU6TGFiZWwxNTE2Mjg1MzI3","url":"https://api.github.com/repos/streamlit/streamlit/labels/type:enhancement","name":"type:enhancement","color":"0E8A16","default":false,"description":"Requests for feature enhancements or new features"},{"id":4333322200,"node_id":"LA_kwDODCoeTs8AAAABAkk_2A","url":"https://api.github.com/repos/streamlit/streamlit/labels/feature:st.download_button","name":"feature:st.download_button","color":"C5DEF5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":53,"created_at":"2022-02-08T17:20:47Z","updated_at":"2025-03-04T01:59:14Z","closed_at":"2025-02-21T19:37:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Problem\r\n\r\nThe Streamlit app reloads entirely when clicking on a `st.download_button`. In my case, I think it should not: download buttons are different from buttons and should not trigger a reload of the app. They should only trigger a download.\r\n\r\nI perfectly understand that a click on a button does reload the app (to recompute) but downloads don't change the view, downloads don't trigger computations etc.\r\n\r\nI also know about the cache, but it is not always a proper solution: what about apps with a `st.forms`? The user should not have to click on yet another button to generate the same view that has not changed one bit. The same goes if several files can be downloaded: it can be very cumbersome to do such a simple task.\r\n\r\n### Solution\r\n\r\nSeveral options:\r\n1. Stop reloading the app for a `st.download_button`\r\n2. Add a parameter to trigger (or not) a reload of the page when clicking on a `st.download_button`.\r\n\r\n### Additional context\r\n\r\nSee this discourse: https://discuss.streamlit.io/t/stop-page-from-reloading-after-using-downloader/18744\r\n\r\nAnd this code to reproduce the problem exposed above:\r\n\r\n```python\r\nimport streamlit as st\r\n\r\ndef long_computation():\r\n    import time\r\n    time.sleep(10)\r\n\r\nst.header(\"TEST DOWNLOAD BUTTON\")\r\n\r\nwith st.spinner(\"Running a long computation..\"):\r\n    long_computation()\r\n\r\nst.download_button(\"Download\", \"a\")\r\n```\r\n\r\n---\r\n\r\nCommunity voting on feature requests enables the Streamlit team to understand which features are most important to our users.\r\n\r\n**If you'd like the Streamlit team to prioritize this feature request, please use the üëç (thumbs up emoji) reaction in response to the initial post.**","closed_by":{"login":"kajarenc","id":6664805,"node_id":"MDQ6VXNlcjY2NjQ4MDU=","avatar_url":"https://avatars.githubusercontent.com/u/6664805?v=4","gravatar_id":"","url":"https://api.github.com/users/kajarenc","html_url":"https://github.com/kajarenc","followers_url":"https://api.github.com/users/kajarenc/followers","following_url":"https://api.github.com/users/kajarenc/following{/other_user}","gists_url":"https://api.github.com/users/kajarenc/gists{/gist_id}","starred_url":"https://api.github.com/users/kajarenc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kajarenc/subscriptions","organizations_url":"https://api.github.com/users/kajarenc/orgs","repos_url":"https://api.github.com/users/kajarenc/repos","events_url":"https://api.github.com/users/kajarenc/events{/privacy}","received_events_url":"https://api.github.com/users/kajarenc/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/streamlit/streamlit/issues/4382/reactions","total_count":177,"+1":169,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":5,"rocket":0,"eyes":3},"timeline_url":"https://api.github.com/repos/streamlit/streamlit/issues/4382/timeline","performed_via_github_app":null,"state_reason":"completed"}