{"url":"https://api.github.com/repos/streamlit/streamlit/issues/11575","repository_url":"https://api.github.com/repos/streamlit/streamlit","labels_url":"https://api.github.com/repos/streamlit/streamlit/issues/11575/labels{/name}","comments_url":"https://api.github.com/repos/streamlit/streamlit/issues/11575/comments","events_url":"https://api.github.com/repos/streamlit/streamlit/issues/11575/events","html_url":"https://github.com/streamlit/streamlit/issues/11575","id":3131844311,"node_id":"I_kwDODCoeTs66rCbX","number":11575,"title":"Sorting while filtering creates incorrect cell highlights","user":{"login":"sfc-gh-dmatthews","id":135349133,"node_id":"U_kgDOCBFDjQ","avatar_url":"https://avatars.githubusercontent.com/u/135349133?v=4","gravatar_id":"","url":"https://api.github.com/users/sfc-gh-dmatthews","html_url":"https://github.com/sfc-gh-dmatthews","followers_url":"https://api.github.com/users/sfc-gh-dmatthews/followers","following_url":"https://api.github.com/users/sfc-gh-dmatthews/following{/other_user}","gists_url":"https://api.github.com/users/sfc-gh-dmatthews/gists{/gist_id}","starred_url":"https://api.github.com/users/sfc-gh-dmatthews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfc-gh-dmatthews/subscriptions","organizations_url":"https://api.github.com/users/sfc-gh-dmatthews/orgs","repos_url":"https://api.github.com/users/sfc-gh-dmatthews/repos","events_url":"https://api.github.com/users/sfc-gh-dmatthews/events{/privacy}","received_events_url":"https://api.github.com/users/sfc-gh-dmatthews/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1516285324,"node_id":"MDU6TGFiZWwxNTE2Mjg1MzI0","url":"https://api.github.com/repos/streamlit/streamlit/labels/type:bug","name":"type:bug","color":"D93F0B","default":false,"description":"Something isn't working"},{"id":1964011103,"node_id":"MDU6TGFiZWwxOTY0MDExMTAz","url":"https://api.github.com/repos/streamlit/streamlit/labels/feature:st.dataframe","name":"feature:st.dataframe","color":"C5DEF5","default":false,"description":""},{"id":3022365121,"node_id":"MDU6TGFiZWwzMDIyMzY1MTIx","url":"https://api.github.com/repos/streamlit/streamlit/labels/status:confirmed","name":"status:confirmed","color":"FEF2C0","default":false,"description":"Bug has been confirmed by the Streamlit team"},{"id":3230107623,"node_id":"MDU6TGFiZWwzMjMwMTA3NjIz","url":"https://api.github.com/repos/streamlit/streamlit/labels/priority:P3","name":"priority:P3","color":"ff4b4b","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"sfc-gh-smohile","id":213697683,"node_id":"U_kgDODLzEkw","avatar_url":"https://avatars.githubusercontent.com/u/213697683?v=4","gravatar_id":"","url":"https://api.github.com/users/sfc-gh-smohile","html_url":"https://github.com/sfc-gh-smohile","followers_url":"https://api.github.com/users/sfc-gh-smohile/followers","following_url":"https://api.github.com/users/sfc-gh-smohile/following{/other_user}","gists_url":"https://api.github.com/users/sfc-gh-smohile/gists{/gist_id}","starred_url":"https://api.github.com/users/sfc-gh-smohile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfc-gh-smohile/subscriptions","organizations_url":"https://api.github.com/users/sfc-gh-smohile/orgs","repos_url":"https://api.github.com/users/sfc-gh-smohile/repos","events_url":"https://api.github.com/users/sfc-gh-smohile/events{/privacy}","received_events_url":"https://api.github.com/users/sfc-gh-smohile/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sfc-gh-smohile","id":213697683,"node_id":"U_kgDODLzEkw","avatar_url":"https://avatars.githubusercontent.com/u/213697683?v=4","gravatar_id":"","url":"https://api.github.com/users/sfc-gh-smohile","html_url":"https://github.com/sfc-gh-smohile","followers_url":"https://api.github.com/users/sfc-gh-smohile/followers","following_url":"https://api.github.com/users/sfc-gh-smohile/following{/other_user}","gists_url":"https://api.github.com/users/sfc-gh-smohile/gists{/gist_id}","starred_url":"https://api.github.com/users/sfc-gh-smohile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfc-gh-smohile/subscriptions","organizations_url":"https://api.github.com/users/sfc-gh-smohile/orgs","repos_url":"https://api.github.com/users/sfc-gh-smohile/repos","events_url":"https://api.github.com/users/sfc-gh-smohile/events{/privacy}","received_events_url":"https://api.github.com/users/sfc-gh-smohile/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2025-06-10T00:58:46Z","updated_at":"2025-06-12T21:24:35Z","closed_at":"2025-06-12T21:24:35Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Checklist\n\n- [x] I have searched the [existing issues](https://github.com/streamlit/streamlit/issues) for similar issues.\n- [x] I added a very descriptive title to this issue.\n- [x] I have provided sufficient information below to help reproduce this issue.\n\n### Summary\n\nIf you use filtering to highlight cells, then sort a column without closing the filter, the _former positions_ of the highlighted (filtered) cells remain highlighted. If you sequentially navigate the highlight cells, they remain in their incorrect positions. You have to update the filter to change the highlight positions to match the new sort order.\n\nhttps://github.com/user-attachments/assets/858e36e1-725a-4fee-8e55-4fc592e22875\n\n### Reproducible Code Example\n\n```Python\nimport streamlit as st\nimport pandas as pd\n\ndf = pd.DataFrame({\n    \"A\": [\"foo\",\"foo\",\"foo\",\"bar\",\"bar\",\"bar\", \"baz\", \"baz\", \"baz\"],\n    \"B\": [\"one\",\"one\",\"two\",\"two\",\"one\",\"one\", \"two\", \"two\", \"one\"]\n})\nst.dataframe(df)\n```\n\n### Steps To Reproduce\n\n[![Open in Streamlit Cloud](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://issues.streamlitapp.com/?issue=gh-11575)\n\n1. Run the app\n2. Use the dataframe filter to search for \"foo\"\n3. Leave the filter open and click the column header to sort and move the \"foo\" cells.\n4. Click the step buttons in the filter.\n\nYou will remain stuck within the former positions of the \"foo\" cells (until you update the string filter).\n\n### Expected Behavior\n\n_No response_\n\n### Current Behavior\n\n_No response_\n\n### Is this a regression?\n\n- [ ] Yes, this used to work in a previous version.\n\n### Debug info\n\n- Streamlit version: 1.45.1\n- Python version: 3.13\n- Operating System: Mac\n- Browser: Prisma\n\n\n### Additional Information\n\n_No response_","closed_by":{"login":"sfc-gh-bnisco","id":178842601,"node_id":"U_kgDOCqjr6Q","avatar_url":"https://avatars.githubusercontent.com/u/178842601?v=4","gravatar_id":"","url":"https://api.github.com/users/sfc-gh-bnisco","html_url":"https://github.com/sfc-gh-bnisco","followers_url":"https://api.github.com/users/sfc-gh-bnisco/followers","following_url":"https://api.github.com/users/sfc-gh-bnisco/following{/other_user}","gists_url":"https://api.github.com/users/sfc-gh-bnisco/gists{/gist_id}","starred_url":"https://api.github.com/users/sfc-gh-bnisco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfc-gh-bnisco/subscriptions","organizations_url":"https://api.github.com/users/sfc-gh-bnisco/orgs","repos_url":"https://api.github.com/users/sfc-gh-bnisco/repos","events_url":"https://api.github.com/users/sfc-gh-bnisco/events{/privacy}","received_events_url":"https://api.github.com/users/sfc-gh-bnisco/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/streamlit/streamlit/issues/11575/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/streamlit/streamlit/issues/11575/timeline","performed_via_github_app":null,"state_reason":"completed"}