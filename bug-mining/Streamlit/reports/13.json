{"url":"https://api.github.com/repos/streamlit/streamlit/issues/3873","repository_url":"https://api.github.com/repos/streamlit/streamlit","labels_url":"https://api.github.com/repos/streamlit/streamlit/issues/3873/labels{/name}","comments_url":"https://api.github.com/repos/streamlit/streamlit/issues/3873/comments","events_url":"https://api.github.com/repos/streamlit/streamlit/issues/3873/events","html_url":"https://github.com/streamlit/streamlit/issues/3873","id":1017095615,"node_id":"I_kwDODCoeTs48n6W_","number":3873,"title":"Session state setting failing to propagate to frontend","user":{"login":"AnOctopus","id":7356217,"node_id":"MDQ6VXNlcjczNTYyMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7356217?v=4","gravatar_id":"","url":"https://api.github.com/users/AnOctopus","html_url":"https://github.com/AnOctopus","followers_url":"https://api.github.com/users/AnOctopus/followers","following_url":"https://api.github.com/users/AnOctopus/following{/other_user}","gists_url":"https://api.github.com/users/AnOctopus/gists{/gist_id}","starred_url":"https://api.github.com/users/AnOctopus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnOctopus/subscriptions","organizations_url":"https://api.github.com/users/AnOctopus/orgs","repos_url":"https://api.github.com/users/AnOctopus/repos","events_url":"https://api.github.com/users/AnOctopus/events{/privacy}","received_events_url":"https://api.github.com/users/AnOctopus/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1516285324,"node_id":"MDU6TGFiZWwxNTE2Mjg1MzI0","url":"https://api.github.com/repos/streamlit/streamlit/labels/type:bug","name":"type:bug","color":"D93F0B","default":false,"description":"Something isn't working"},{"id":1846373998,"node_id":"MDU6TGFiZWwxODQ2MzczOTk4","url":"https://api.github.com/repos/streamlit/streamlit/labels/feature:state","name":"feature:state","color":"C5DEF5","default":false,"description":""},{"id":1964271488,"node_id":"MDU6TGFiZWwxOTY0MjcxNDg4","url":"https://api.github.com/repos/streamlit/streamlit/labels/area:widgets","name":"area:widgets","color":"C2E0C6","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-10-06T00:06:02Z","updated_at":"2021-10-08T20:39:05Z","closed_at":"2021-10-08T20:39:05Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"https://discuss.streamlit.io/t/problems-with-the-new-widget-behaviour-under-streamlit-0-89-0/17625\r\n\r\nI investigated using the script from the post. The value seen in session state itself is being set correctly, but `should_set_frontend_state_value` incorrectly returns False. It seems like the check for `is_new_widget_value` shouldn't be part of that method. The method implementation should have been a conservative simplification of the old one that stripped out the initial value handling and separated this check from setting the value of a new widget, so I can't see why the script would have worked in 0.88, but also the current behavior is obviously incorrect.\r\n\r\nRemoving the second part of the check would make it match the obvious notion that the frontend should have its value overridden whenever the value is set in session state, and trying out this change locally appears to fix the problem. ","closed_by":{"login":"AnOctopus","id":7356217,"node_id":"MDQ6VXNlcjczNTYyMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7356217?v=4","gravatar_id":"","url":"https://api.github.com/users/AnOctopus","html_url":"https://github.com/AnOctopus","followers_url":"https://api.github.com/users/AnOctopus/followers","following_url":"https://api.github.com/users/AnOctopus/following{/other_user}","gists_url":"https://api.github.com/users/AnOctopus/gists{/gist_id}","starred_url":"https://api.github.com/users/AnOctopus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnOctopus/subscriptions","organizations_url":"https://api.github.com/users/AnOctopus/orgs","repos_url":"https://api.github.com/users/AnOctopus/repos","events_url":"https://api.github.com/users/AnOctopus/events{/privacy}","received_events_url":"https://api.github.com/users/AnOctopus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/streamlit/streamlit/issues/3873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/streamlit/streamlit/issues/3873/timeline","performed_via_github_app":null,"state_reason":"completed"}