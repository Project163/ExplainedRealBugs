{"url":"https://api.github.com/repos/streamlit/streamlit/issues/3557","repository_url":"https://api.github.com/repos/streamlit/streamlit","labels_url":"https://api.github.com/repos/streamlit/streamlit/issues/3557/labels{/name}","comments_url":"https://api.github.com/repos/streamlit/streamlit/issues/3557/comments","events_url":"https://api.github.com/repos/streamlit/streamlit/issues/3557/events","html_url":"https://github.com/streamlit/streamlit/issues/3557","id":945072268,"node_id":"MDU6SXNzdWU5NDUwNzIyNjg=","number":3557,"title":"file_uploader with beta_expander","user":{"login":"schaumb","id":6457941,"node_id":"MDQ6VXNlcjY0NTc5NDE=","avatar_url":"https://avatars.githubusercontent.com/u/6457941?v=4","gravatar_id":"","url":"https://api.github.com/users/schaumb","html_url":"https://github.com/schaumb","followers_url":"https://api.github.com/users/schaumb/followers","following_url":"https://api.github.com/users/schaumb/following{/other_user}","gists_url":"https://api.github.com/users/schaumb/gists{/gist_id}","starred_url":"https://api.github.com/users/schaumb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schaumb/subscriptions","organizations_url":"https://api.github.com/users/schaumb/orgs","repos_url":"https://api.github.com/users/schaumb/repos","events_url":"https://api.github.com/users/schaumb/events{/privacy}","received_events_url":"https://api.github.com/users/schaumb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1516285324,"node_id":"MDU6TGFiZWwxNTE2Mjg1MzI0","url":"https://api.github.com/repos/streamlit/streamlit/labels/type:bug","name":"type:bug","color":"D93F0B","default":false,"description":"Something isn't working"},{"id":3022365121,"node_id":"MDU6TGFiZWwzMDIyMzY1MTIx","url":"https://api.github.com/repos/streamlit/streamlit/labels/status:confirmed","name":"status:confirmed","color":"FEF2C0","default":false,"description":"Bug has been confirmed by the Streamlit team"},{"id":3230105890,"node_id":"MDU6TGFiZWwzMjMwMTA1ODkw","url":"https://api.github.com/repos/streamlit/streamlit/labels/priority:P2","name":"priority:P2","color":"ff4b4b","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"vdonato","id":3144420,"node_id":"MDQ6VXNlcjMxNDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/3144420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdonato","html_url":"https://github.com/vdonato","followers_url":"https://api.github.com/users/vdonato/followers","following_url":"https://api.github.com/users/vdonato/following{/other_user}","gists_url":"https://api.github.com/users/vdonato/gists{/gist_id}","starred_url":"https://api.github.com/users/vdonato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdonato/subscriptions","organizations_url":"https://api.github.com/users/vdonato/orgs","repos_url":"https://api.github.com/users/vdonato/repos","events_url":"https://api.github.com/users/vdonato/events{/privacy}","received_events_url":"https://api.github.com/users/vdonato/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"vdonato","id":3144420,"node_id":"MDQ6VXNlcjMxNDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/3144420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdonato","html_url":"https://github.com/vdonato","followers_url":"https://api.github.com/users/vdonato/followers","following_url":"https://api.github.com/users/vdonato/following{/other_user}","gists_url":"https://api.github.com/users/vdonato/gists{/gist_id}","starred_url":"https://api.github.com/users/vdonato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdonato/subscriptions","organizations_url":"https://api.github.com/users/vdonato/orgs","repos_url":"https://api.github.com/users/vdonato/repos","events_url":"https://api.github.com/users/vdonato/events{/privacy}","received_events_url":"https://api.github.com/users/vdonato/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2021-07-15T07:09:28Z","updated_at":"2021-08-09T23:42:54Z","closed_at":"2021-08-09T23:42:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Summary\r\n\r\nIn a `beta_expander` a `file_uploader` widget's uploaded file information is disappearing from front-end after closed and re-expanded the expander\r\n\r\n\r\n### Steps to reproduce\r\n\r\nCode snippet:\r\n\r\n```\r\nimport streamlit as st\r\n\r\nwith st.beta_expander('Config file', expanded=True):\r\n  if st.file_uploader(''):\r\n    print('file is uploaded')\r\n```\r\n\r\n1. Upload a file\r\n2. Close the `beta_expander`\r\n3. Open the `beta_expander`\r\n\r\n**Expected behavior:**\r\n\r\nThe uploaded file information (file name, file size, and ability to remove attaching) is there\r\n\r\n![image](https://user-images.githubusercontent.com/6457941/125744323-b1f517d9-6360-4d8f-a9b1-c9848985b127.png)\r\n\r\n**Actual behavior:**\r\n\r\nThe uploaded file information is missing\r\n\r\n![image](https://user-images.githubusercontent.com/6457941/125744358-a0235e69-7295-4322-b684-600774352432.png)\r\n\r\n### Is this a regression?\r\n\r\nprobably no, an older version (0.76.0) streamlit neither works \r\n\r\n### Debug info\r\n\r\n- Streamlit version: Streamlit, version 0.84.1\r\n- Python version: Python 3.6.9\r\n- No venv.\r\n- OS version: Linux Mint 19.2 Tina\r\n- Browser version: Mozilla Firefox 89.0.2 (64-bit)\r\n","closed_by":{"login":"vdonato","id":3144420,"node_id":"MDQ6VXNlcjMxNDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/3144420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdonato","html_url":"https://github.com/vdonato","followers_url":"https://api.github.com/users/vdonato/followers","following_url":"https://api.github.com/users/vdonato/following{/other_user}","gists_url":"https://api.github.com/users/vdonato/gists{/gist_id}","starred_url":"https://api.github.com/users/vdonato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdonato/subscriptions","organizations_url":"https://api.github.com/users/vdonato/orgs","repos_url":"https://api.github.com/users/vdonato/repos","events_url":"https://api.github.com/users/vdonato/events{/privacy}","received_events_url":"https://api.github.com/users/vdonato/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/streamlit/streamlit/issues/3557/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/streamlit/streamlit/issues/3557/timeline","performed_via_github_app":null,"state_reason":"completed"}