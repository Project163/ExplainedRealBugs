{"url":"https://api.github.com/repos/streamlit/streamlit/issues/9717","repository_url":"https://api.github.com/repos/streamlit/streamlit","labels_url":"https://api.github.com/repos/streamlit/streamlit/issues/9717/labels{/name}","comments_url":"https://api.github.com/repos/streamlit/streamlit/issues/9717/comments","events_url":"https://api.github.com/repos/streamlit/streamlit/issues/9717/events","html_url":"https://github.com/streamlit/streamlit/issues/9717","id":2608498325,"node_id":"I_kwDODCoeTs6beoaV","number":9717,"title":"Error Occurs After Long Recording (~1 Hour) with st.experimental_audio_input: \"An error has occurred, please try again\"","user":{"login":"hoseong-cheon","id":61481961,"node_id":"MDQ6VXNlcjYxNDgxOTYx","avatar_url":"https://avatars.githubusercontent.com/u/61481961?v=4","gravatar_id":"","url":"https://api.github.com/users/hoseong-cheon","html_url":"https://github.com/hoseong-cheon","followers_url":"https://api.github.com/users/hoseong-cheon/followers","following_url":"https://api.github.com/users/hoseong-cheon/following{/other_user}","gists_url":"https://api.github.com/users/hoseong-cheon/gists{/gist_id}","starred_url":"https://api.github.com/users/hoseong-cheon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hoseong-cheon/subscriptions","organizations_url":"https://api.github.com/users/hoseong-cheon/orgs","repos_url":"https://api.github.com/users/hoseong-cheon/repos","events_url":"https://api.github.com/users/hoseong-cheon/events{/privacy}","received_events_url":"https://api.github.com/users/hoseong-cheon/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1516285324,"node_id":"MDU6TGFiZWwxNTE2Mjg1MzI0","url":"https://api.github.com/repos/streamlit/streamlit/labels/type:bug","name":"type:bug","color":"D93F0B","default":false,"description":"Something isn't working"},{"id":3230107623,"node_id":"MDU6TGFiZWwzMjMwMTA3NjIz","url":"https://api.github.com/repos/streamlit/streamlit/labels/priority:P3","name":"priority:P3","color":"ff4b4b","default":false,"description":""},{"id":7545561175,"node_id":"LA_kwDODCoeTs8AAAABwcAgVw","url":"https://api.github.com/repos/streamlit/streamlit/labels/feature:st.audio_input","name":"feature:st.audio_input","color":"C5DEF5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-10-23T12:52:15Z","updated_at":"2024-12-22T16:10:36Z","closed_at":"2024-12-22T16:10:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Checklist\r\n\r\n- [X] I have searched the [existing issues](https://github.com/streamlit/streamlit/issues) for similar issues.\r\n- [X] I added a very descriptive title to this issue.\r\n- [X] I have provided sufficient information below to help reproduce this issue.\r\n\r\n### Summary\r\n\r\nI encountered an issue with st.experimental_audio_input. After pressing the mic button to start recording and continuing for a long time (around 1 hour), the following error message appears when I press the stop button: \"An error has occurred, please try again.\" \r\n\r\n<img width=\"620\" alt=\"image\" src=\"https://github.com/user-attachments/assets/45a43950-0f92-491f-b486-b476b6b2d17c\">\r\n\r\nThis error only occurs when stopping a long recording. It might be related to session handling, memory management, or buffer size limitations. Could you provide any insights or suggest possible solutions to address this issue? Your assistance would be greatly appreciated.\r\n\r\n### Reproducible Code Example\r\n\r\n```Python\r\nimport streamlit as st\r\n\r\naudio_value = st.experimental_audio_input(\"Record a voice message\")\r\n\r\nif audio_value:\r\n    st.audio(audio_value)\r\n```\r\n\r\n\r\n### Steps To Reproduce\r\n\r\n1. Implement the example code provided in the documentation.\r\n2. On the interface, press the mic button and record audio for an extended period (within 1 hour).\r\n3. After the long recording, press the stop button.\r\n4. Observe the error message: \"An error has occurred, please try again.\"\r\n\r\n### Expected Behavior\r\n\r\n- The error message \"An error has occurred, please try again.\" should not appear.\r\n- The recording should stop successfully, and the recorded file should be processed or saved without any issues.\r\n\r\n### Current Behavior\r\n\r\nAn error has occurred, please try again.\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this used to work in a previous version.\r\n\r\n### Debug info\r\n\r\n- Streamlit version: 1.39.0\r\n- Python version: 3.12.7\r\n- Operating System: macOS 15.0.1\r\n- Browser: Chrome\r\n\r\n\r\n### Additional Information\r\n\r\n_No response_","closed_by":{"login":"sfc-gh-dmatthews","id":135349133,"node_id":"U_kgDOCBFDjQ","avatar_url":"https://avatars.githubusercontent.com/u/135349133?v=4","gravatar_id":"","url":"https://api.github.com/users/sfc-gh-dmatthews","html_url":"https://github.com/sfc-gh-dmatthews","followers_url":"https://api.github.com/users/sfc-gh-dmatthews/followers","following_url":"https://api.github.com/users/sfc-gh-dmatthews/following{/other_user}","gists_url":"https://api.github.com/users/sfc-gh-dmatthews/gists{/gist_id}","starred_url":"https://api.github.com/users/sfc-gh-dmatthews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfc-gh-dmatthews/subscriptions","organizations_url":"https://api.github.com/users/sfc-gh-dmatthews/orgs","repos_url":"https://api.github.com/users/sfc-gh-dmatthews/repos","events_url":"https://api.github.com/users/sfc-gh-dmatthews/events{/privacy}","received_events_url":"https://api.github.com/users/sfc-gh-dmatthews/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/streamlit/streamlit/issues/9717/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/streamlit/streamlit/issues/9717/timeline","performed_via_github_app":null,"state_reason":"completed"}