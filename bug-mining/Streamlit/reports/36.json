{"url":"https://api.github.com/repos/streamlit/streamlit/issues/8261","repository_url":"https://api.github.com/repos/streamlit/streamlit","labels_url":"https://api.github.com/repos/streamlit/streamlit/issues/8261/labels{/name}","comments_url":"https://api.github.com/repos/streamlit/streamlit/issues/8261/comments","events_url":"https://api.github.com/repos/streamlit/streamlit/issues/8261/events","html_url":"https://github.com/streamlit/streamlit/issues/8261","id":2175317351,"node_id":"I_kwDODCoeTs6BqLVn","number":8261,"title":"Popover content width should respect wide layout if specified","user":{"login":"hoggatt","id":37279082,"node_id":"MDQ6VXNlcjM3Mjc5MDgy","avatar_url":"https://avatars.githubusercontent.com/u/37279082?v=4","gravatar_id":"","url":"https://api.github.com/users/hoggatt","html_url":"https://github.com/hoggatt","followers_url":"https://api.github.com/users/hoggatt/followers","following_url":"https://api.github.com/users/hoggatt/following{/other_user}","gists_url":"https://api.github.com/users/hoggatt/gists{/gist_id}","starred_url":"https://api.github.com/users/hoggatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hoggatt/subscriptions","organizations_url":"https://api.github.com/users/hoggatt/orgs","repos_url":"https://api.github.com/users/hoggatt/repos","events_url":"https://api.github.com/users/hoggatt/events{/privacy}","received_events_url":"https://api.github.com/users/hoggatt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1516285327,"node_id":"MDU6TGFiZWwxNTE2Mjg1MzI3","url":"https://api.github.com/repos/streamlit/streamlit/labels/type:enhancement","name":"type:enhancement","color":"0E8A16","default":false,"description":"Requests for feature enhancements or new features"},{"id":6665967532,"node_id":"LA_kwDODCoeTs8AAAABjVKXrA","url":"https://api.github.com/repos/streamlit/streamlit/labels/feature:st.popover","name":"feature:st.popover","color":"C5DEF5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-03-08T05:39:57Z","updated_at":"2024-03-11T14:57:16Z","closed_at":"2024-03-11T14:57:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Checklist\n\n- [X] I have searched the [existing issues](https://github.com/streamlit/streamlit/issues) for similar issues.\n- [X] I added a very descriptive title to this issue.\n- [X] I have provided sufficient information below to help reproduce this issue.\n\n### Summary\n\nThe popover content width works fine in every case, except where the streamlit page is set to a \"wide\" layout and the popover element is set to `use_container_width`. Here, the popover content maxes out at [46rem](https://github.com/streamlit/streamlit/blob/112abfbc0251671e246dfb76571d6408fa1713cd/frontend/lib/src/theme/primitives/sizes.ts) instead of behaving as expected and filling the width of the popover parent element. \r\n\r\nHere is the undesirable behavior:\r\n![image](https://github.com/streamlit/streamlit/assets/37279082/96b43fe5-91ef-4392-9c2b-26e958f6350c)\r\n\r\nUsing a modified version of the example from the docs:\r\n\n\n### Reproducible Code Example\n\n```Python\nimport streamlit as st\r\nimport pandas as pd\r\n\r\nst.set_page_config(page_title=\"Streamlit Test\", page_icon=\":shark:\", layout=\"wide\")\r\n\r\nwith st.popover(\"Open popover\", use_container_width=True):\r\n    st.markdown(\"Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹Hello World ðŸ‘‹\")\r\n    name = st.text_input(\"What's your name?\")\r\n    chart_data = pd.DataFrame(\r\n        data=[1, 2, 3, 4, 5],\r\n        columns=[\"data\"]\r\n    )\r\n    st.line_chart(chart_data)\r\n\r\nst.write(\"Your name:\", name)\n```\n\n\n### Steps To Reproduce\n\n_No response_\n\n### Expected Behavior\n\n_No response_\n\n### Current Behavior\n\n_No response_\n\n### Is this a regression?\n\n- [ ] Yes, this used to work in a previous version.\n\n### Debug info\n\n- Streamlit version: 1.32.0\r\n- Python version: 3.10\r\n- Operating System:  Windows\r\n- Browser: Brave\r\n\n\n### Additional Information\n\nI believe the fix would be a modification of [this](https://github.com/streamlit/streamlit/blob/112abfbc0251671e246dfb76571d6408fa1713cd/frontend/lib/src/components/elements/Popover/Popover.tsx#L89C15-L89C71) line. ","closed_by":{"login":"lukasmasuch","id":2852129,"node_id":"MDQ6VXNlcjI4NTIxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2852129?v=4","gravatar_id":"","url":"https://api.github.com/users/lukasmasuch","html_url":"https://github.com/lukasmasuch","followers_url":"https://api.github.com/users/lukasmasuch/followers","following_url":"https://api.github.com/users/lukasmasuch/following{/other_user}","gists_url":"https://api.github.com/users/lukasmasuch/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasmasuch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasmasuch/subscriptions","organizations_url":"https://api.github.com/users/lukasmasuch/orgs","repos_url":"https://api.github.com/users/lukasmasuch/repos","events_url":"https://api.github.com/users/lukasmasuch/events{/privacy}","received_events_url":"https://api.github.com/users/lukasmasuch/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/streamlit/streamlit/issues/8261/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/streamlit/streamlit/issues/8261/timeline","performed_via_github_app":null,"state_reason":"completed"}