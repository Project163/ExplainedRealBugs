{"url":"https://api.github.com/repos/streamlit/streamlit/issues/10411","repository_url":"https://api.github.com/repos/streamlit/streamlit","labels_url":"https://api.github.com/repos/streamlit/streamlit/issues/10411/labels{/name}","comments_url":"https://api.github.com/repos/streamlit/streamlit/issues/10411/comments","events_url":"https://api.github.com/repos/streamlit/streamlit/issues/10411/events","html_url":"https://github.com/streamlit/streamlit/issues/10411","id":2856427375,"node_id":"I_kwDODCoeTs6qQZ9v","number":10411,"title":"Negative values are not correctly displayed in `*ChartColumn`","user":{"login":"Abdelgha-4","id":72174073,"node_id":"MDQ6VXNlcjcyMTc0MDcz","avatar_url":"https://avatars.githubusercontent.com/u/72174073?v=4","gravatar_id":"","url":"https://api.github.com/users/Abdelgha-4","html_url":"https://github.com/Abdelgha-4","followers_url":"https://api.github.com/users/Abdelgha-4/followers","following_url":"https://api.github.com/users/Abdelgha-4/following{/other_user}","gists_url":"https://api.github.com/users/Abdelgha-4/gists{/gist_id}","starred_url":"https://api.github.com/users/Abdelgha-4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Abdelgha-4/subscriptions","organizations_url":"https://api.github.com/users/Abdelgha-4/orgs","repos_url":"https://api.github.com/users/Abdelgha-4/repos","events_url":"https://api.github.com/users/Abdelgha-4/events{/privacy}","received_events_url":"https://api.github.com/users/Abdelgha-4/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1516285324,"node_id":"MDU6TGFiZWwxNTE2Mjg1MzI0","url":"https://api.github.com/repos/streamlit/streamlit/labels/type:bug","name":"type:bug","color":"D93F0B","default":false,"description":"Something isn't working"},{"id":3022365121,"node_id":"MDU6TGFiZWwzMDIyMzY1MTIx","url":"https://api.github.com/repos/streamlit/streamlit/labels/status:confirmed","name":"status:confirmed","color":"FEF2C0","default":false,"description":"Bug has been confirmed by the Streamlit team"},{"id":3230107623,"node_id":"MDU6TGFiZWwzMjMwMTA3NjIz","url":"https://api.github.com/repos/streamlit/streamlit/labels/priority:P3","name":"priority:P3","color":"ff4b4b","default":false,"description":""},{"id":5581408413,"node_id":"LA_kwDODCoeTs8AAAABTK2InQ","url":"https://api.github.com/repos/streamlit/streamlit/labels/feature:st.column_config","name":"feature:st.column_config","color":"C5DEF5","default":false,"description":"Related to column config functionalities"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2025-02-17T00:16:37Z","updated_at":"2025-06-03T16:09:52Z","closed_at":"2025-06-03T16:09:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Checklist\n\n- [x] I have searched the [existing issues](https://github.com/streamlit/streamlit/issues) for similar issues.\n- [x] I added a very descriptive title to this issue.\n- [x] I have provided sufficient information below to help reproduce this issue.\n\n### Summary\n\nCurrently the column charts always start from the min value, even if negative, and grow from the bottom and upward.\nThis can be misleading as it shows `[0, 100, 200]` to be the same as `[-50, 50, 150]`. Making the chart always start from 0 then go upward if positive or downward if negative can clarify this difference and make it visually distinguishable.\n\n### Reproducible Code Example\n\n[![Open in Streamlit Cloud](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://issues.streamlitapp.com/?issue=gh-10411)\n\n```Python\nimport pandas as pd\nimport streamlit as st\n\ndata_df = pd.DataFrame({\"sales\": [[0, 100, 200], [-50, 50, 150]]})\nst.dataframe(\n    data_df,\n    column_config={\"sales\": st.column_config.BarChartColumn(\"Sales (last 6 months)\")},\n    hide_index=True,\n)\nst.dataframe(\n    data_df,\n    column_config={\"sales\": st.column_config.AreaChartColumn(\"Sales (last 6 months)\")},\n    hide_index=True,\n)\nst.dataframe(\n    data_df,\n    column_config={\"sales\": st.column_config.LineChartColumn(\"Sales (last 6 months)\")},\n    hide_index=True,\n)\n```\n\n### Steps To Reproduce\n\n_No response_\n\n### Expected Behavior\n\n![Image](https://github.com/user-attachments/assets/0a53d8d0-13a3-464a-83e0-3da2f3b35cbe)\n\nThis expected behavior is generated by setting `y_min` to the global minimum of all the values over all cell, and same for `y_max`\n```python\ny_min = int(data_df[\"sales\"].apply(min).min())\ny_max = int(data_df[\"sales\"].apply(max).max())\n```\nThis workaround does not truly fix the issue because it imposes the same scale over all cells, whereas the desired behavior is that every cell will use the minimum of and maximum of its data, as documented in the arguments description.\n\n\n### Current Behavior\n\n![Image](https://github.com/user-attachments/assets/6484d52b-2063-4499-86d3-265daeaf235f)\n\n### Is this a regression?\n\n- [ ] Yes, this used to work in a previous version.\n\n### Debug info\n\n- Streamlit version: 1.41.1\n- Python version: 3.12\n- Operating System: Windows 10\n- Browser: Chrome\n\n\n### Additional Information\n\n_No response_","closed_by":{"login":"kmcgrady","id":69432,"node_id":"MDQ6VXNlcjY5NDMy","avatar_url":"https://avatars.githubusercontent.com/u/69432?v=4","gravatar_id":"","url":"https://api.github.com/users/kmcgrady","html_url":"https://github.com/kmcgrady","followers_url":"https://api.github.com/users/kmcgrady/followers","following_url":"https://api.github.com/users/kmcgrady/following{/other_user}","gists_url":"https://api.github.com/users/kmcgrady/gists{/gist_id}","starred_url":"https://api.github.com/users/kmcgrady/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmcgrady/subscriptions","organizations_url":"https://api.github.com/users/kmcgrady/orgs","repos_url":"https://api.github.com/users/kmcgrady/repos","events_url":"https://api.github.com/users/kmcgrady/events{/privacy}","received_events_url":"https://api.github.com/users/kmcgrady/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/streamlit/streamlit/issues/10411/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/streamlit/streamlit/issues/10411/timeline","performed_via_github_app":null,"state_reason":"completed"}