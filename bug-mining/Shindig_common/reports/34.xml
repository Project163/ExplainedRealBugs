<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:34:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHINDIG-1223] On Windows the Java feature loading code throws IllegalArgumentException or URISyntaxException when searching directories</title>
                <link>https://issues.apache.org/jira/browse/SHINDIG-1223</link>
                <project id="12310741" key="SHINDIG">Shindig</project>
                    <description>&lt;p&gt;On Windows the build fails reporting errors in three tests:&lt;/p&gt;

&lt;p&gt;  registerFromFileFeatureXmlFileScheme(org.apache.shindig.gadgets.features.FeatureRegistryTest)&lt;br/&gt;
  registerFromFileFeatureXmlNoScheme(org.apache.shindig.gadgets.features.FeatureRegistryTest)&lt;br/&gt;
  registerFromFileInNestedDirectoryFeatureXmlFile(org.apache.shindig.gadgets.features.FeatureRegistryTest)&lt;/p&gt;

&lt;p&gt;I have tracked these down to the way that Shindig handles file paths. The tests create some test files or directories then pass the actual paths of these into UriBuilder(). This results in malformed URIs being reported as the path is expected to start with a slash. Also, the way that test XML feature files are constructed using replaceAll() means that the Windows backslash path separators are discard from the URIs inserted into the test files.&lt;/p&gt;

&lt;p&gt;Sadly this problem is not only in the test code. The FeatureRegistry class does the same sort of thing when searching a directory tree for feature files.&lt;/p&gt;</description>
                <environment>Windows XP</environment>
        <key id="12440286">SHINDIG-1223</key>
            <summary>On Windows the Java feature loading code throws IllegalArgumentException or URISyntaxException when searching directories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bgodden">Bruce Godden</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Nov 2009 13:21:05 +0000</created>
                <updated>Mon, 7 Dec 2009 21:06:38 +0000</updated>
                            <resolved>Mon, 7 Dec 2009 21:06:38 +0000</resolved>
                                                    <fixVersion>2.0.0-RC2</fixVersion>
                                    <component>Java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12775411" author="bgodden" created="Tue, 10 Nov 2009 13:27:05 +0000"  >&lt;p&gt;The test failure results file and a patch to fix the problem.&lt;/p&gt;</comment>
                            <comment id="12778459" author="plindner" created="Mon, 16 Nov 2009 19:15:14 +0000"  >&lt;p&gt;Could you try this diff on windows?&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;http://codereview.appspot.com/154164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codereview.appspot.com/154164&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;The base java File/URI classes are built to handle windows paths, so I altered your patch to use it.  &lt;/p&gt;

&lt;p&gt;No access to a windows build at the moment, so I&apos;ll await others testing.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12778842" author="bgodden" created="Tue, 17 Nov 2009 12:30:10 +0000"  >&lt;p&gt;There is still a problem in registerFromFileInNestedDirectoryFeatureXmlFile(org.apache.shindig.gadgets.features.FeatureRegistryTest).&lt;br/&gt;
New test result file attached.&lt;/p&gt;</comment>
                            <comment id="12783914" author="jon.weygandt" created="Mon, 30 Nov 2009 22:44:46 +0000"  >&lt;p&gt;This is another alternate.&lt;/p&gt;

&lt;p&gt;I started to try to fix it and track down issues, and got to the point where Shindig seemed to be trying to use filenames and URIs interchangeably. Plus, not really sure how many people are really using the &quot;filename&quot; method for finding feature JS. (Shinding uses res://...). Also what are the real requirements? A filename? A URI? So I took the approach of pre-converting the filenames to URIs prior to passing it on to the Shindig methods.&lt;/p&gt;

&lt;p&gt;At least the test passes and mvn builds.&lt;/p&gt;</comment>
                            <comment id="12784239" author="bgodden" created="Tue, 1 Dec 2009 14:20:35 +0000"  >&lt;p&gt;The new patch fix-1223-alternate2.patch doesn&apos;t seem to be based on the current source. I think revision 883605 has gotten in the way.&lt;/p&gt;

&lt;p&gt;It looks like a couple of attempts have been made to fix this problem: revisions 880925 and 883605. Neither seem to have been entirely successful though.&lt;/p&gt;

&lt;p&gt;After revision 880925 there was only one failure. (See comment dated 17/Nov/09 above.)&lt;/p&gt;

&lt;p&gt;It seems that revision 883605 has undone some of the changes that 880925 made and tried to fix the problems a different way. This has resulted in the three original errors coming back.&lt;/p&gt;

&lt;p&gt;When I tried syncing back to revision 880925 and applying patch fix-1223-alternate2.patch then the remaining failure did go away.&lt;/p&gt;

&lt;p&gt;I suggest backing out revision 883605 then applying patch fix-1223-alternate2.patch.&lt;/p&gt;</comment>
                            <comment id="12787027" author="stephen.voorhees" created="Mon, 7 Dec 2009 18:22:59 +0000"  >&lt;p&gt;I tried Bruce&apos;s suggestion of backing out 883605 and applying the fix-1223-alternate2.patch and the build errors on Windows went away.  Any chance of applying this in the near future?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;
</comment>
                            <comment id="12787052" author="plindner" created="Mon, 7 Dec 2009 19:11:49 +0000"  >&lt;p&gt;alt patch applied, can the windows folks test it out?&lt;/p&gt;</comment>
                            <comment id="12787077" author="stephen.voorhees" created="Mon, 7 Dec 2009 19:49:28 +0000"  >&lt;p&gt;I just tried this out on Windows and it works great!  Also made sure its works on Mac too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12787112" author="plindner" created="Mon, 7 Dec 2009 21:06:38 +0000"  >&lt;p&gt;marking this resolved.  reopen if needed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12425215" name="TEST-org.apache.shindig.gadgets.features.FeatureRegistryTest.xml" size="21783" author="bgodden" created="Tue, 17 Nov 2009 12:30:10 +0000"/>
                            <attachment id="12424461" name="TEST-org.apache.shindig.gadgets.features.FeatureRegistryTest.xml" size="28966" author="bgodden" created="Tue, 10 Nov 2009 13:27:05 +0000"/>
                            <attachment id="12426464" name="fix-1223-alternate2.patch" size="978" author="jon.weygandt" created="Mon, 30 Nov 2009 22:44:46 +0000"/>
                            <attachment id="12424462" name="fix-1223-bug.patch" size="3111" author="bgodden" created="Tue, 10 Nov 2009 13:27:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>174506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10by7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>