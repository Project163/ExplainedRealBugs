<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:34:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHINDIG-1361] UrlParameterAuthenticationHandler uses the wrong URI parameter as a security token</title>
                <link>https://issues.apache.org/jira/browse/SHINDIG-1361</link>
                <project id="12310741" key="SHINDIG">Shindig</project>
                    <description>&lt;p&gt;The UrlParameterAuthenticationHandler contains the following lines:&lt;/p&gt;

&lt;p&gt;    // OAuth token as a param&lt;br/&gt;
    if (token == null &amp;amp;&amp;amp; request.isSecure()) &lt;/p&gt;
{
      token = request.getParameter(OAUTH2_TOKEN_PARAM);
    }

&lt;p&gt;We are using an AuthenticationHandler that manages the shindig specific authentication token and another one that manages oauth. If no shindig token (st=...) parameter is present, the shindig specific AuthenticationHandler should not be used. That works fine, as long as the request goes through http. &lt;/p&gt;

&lt;p&gt;Now, with an oauth request using https, this AuthenticationHandler suddenly kicks in and tries to decode the oauth token (which has nothing to do with our secure token) as a secure token and the AuthenticationHandler  then reports an invalid or tampered filter. &lt;/p&gt;

&lt;p&gt;This might be a case of &quot;the oauth filter should run before the shindig specific filter&quot;, but I think that these three lines should not be in the UrlParameterAuthenticationHandler, because they try to mix up two seperate things. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12466509">SHINDIG-1361</key>
            <summary>UrlParameterAuthenticationHandler uses the wrong URI parameter as a security token</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="henning">Henning Schmiedehausen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jun 2010 23:18:53 +0000</created>
                <updated>Thu, 10 Jun 2010 22:18:37 +0000</updated>
                            <resolved>Thu, 10 Jun 2010 22:18:37 +0000</resolved>
                                                    <fixVersion>2.0.0-RC2</fixVersion>
                                    <component>Java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12876868" author="plindner" created="Tue, 8 Jun 2010 23:40:15 +0000"  >&lt;p&gt;indeed, you&apos;re correct.  oauth_token values from oauth 1.0a requests will get intercepted here and will cause failures.&lt;/p&gt;

&lt;p&gt;curses!  they should have made it oauth2_token.....&lt;/p&gt;

&lt;p&gt;I can fix this quite quickly by checking for the oauth_version parameter.  If that&apos;s there then we know it&apos;s definitely not OAuth 2.0...&lt;/p&gt;</comment>
                            <comment id="12876872" author="plindner" created="Tue, 8 Jun 2010 23:49:17 +0000"  >&lt;p&gt;but separating ouath2 tokens from security tokens may be the better way to do this.  The way I see it is that OAuth2 and the security token are equivalent so you should try to set them in a single module.&lt;/p&gt;
</comment>
                            <comment id="12876903" author="henning" created="Wed, 9 Jun 2010 00:38:44 +0000"  >&lt;p&gt;are we actually doing oauth2 anywhere in shindig yet? &lt;/p&gt;</comment>
                            <comment id="12877083" author="plindner" created="Wed, 9 Jun 2010 14:08:49 +0000"  >&lt;p&gt;OAuth2 is supported for API calls (where oauth2 token == security token)&lt;/p&gt;

&lt;p&gt;Adding the OAuth2 authorization flow/ui is TBD, but is pretty easy to do.  (Much easier to implement than 1.0A)&lt;/p&gt;</comment>
                            <comment id="12877192" author="henning" created="Wed, 9 Jun 2010 20:35:53 +0000"  >&lt;p&gt;so, if we support this, then the value of &quot;st&quot; should be promoted forward to be used as oauth token , not the value of &quot;oauth_token&quot; be used as shindig token. &lt;/p&gt;</comment>
                            <comment id="12877194" author="henning" created="Wed, 9 Jun 2010 20:43:41 +0000"  >&lt;p&gt;I don&apos;t think the fix in r952870 is correct,  RFC5849 states, that &lt;/p&gt;

&lt;p&gt;oauth_version&lt;br/&gt;
         OPTIONAL.  If present, MUST be set to &quot;1.0&quot;.  Provides the&lt;br/&gt;
         version of the authentication process as defined in this&lt;br/&gt;
         specification.&lt;/p&gt;

&lt;p&gt;so it not being present is perfectly legal for an oauth 1.0 request.&lt;/p&gt;</comment>
                            <comment id="12877209" author="plindner" created="Wed, 9 Jun 2010 21:17:14 +0000"  >&lt;p&gt;okay, I&apos;ll probably change this to check the signature params then...&lt;/p&gt;
</comment>
                            <comment id="12877261" author="henning" created="Wed, 9 Jun 2010 23:18:54 +0000"  >&lt;p&gt;reading through the specs, it seems that oauth_signature_method seems to be the right thing to use because it is required and its presence identifies this as an oauth 1.0 request. Everything else is optional in one context or another.&lt;/p&gt;</comment>
                            <comment id="12877600" author="plindner" created="Thu, 10 Jun 2010 22:18:37 +0000"  >&lt;p&gt;done.  thanks for the reading the specs!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>174627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i107dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>