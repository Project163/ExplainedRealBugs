diff --git a/src/util/ImportUtils.ts b/src/util/ImportUtils.ts
index c194d72c4..03e646d08 100644
--- a/src/util/ImportUtils.ts
+++ b/src/util/ImportUtils.ts
@@ -1,11 +1,14 @@
 import fs from "fs";
 import path from "path";
+import {pathToFileURL} from "url";
 
 export async function importOrRequireFile(filePath: string): Promise<[result: any, moduleType: "esm" | "commonjs"]> {
     const tryToImport = async (): Promise<[any, "esm"]> => {
         // `Function` is required to make sure the `import` statement wil stay `import` after
         // transpilation and won't be converted to `require`
-        return [await Function("return filePath => import(filePath)")()(filePath), "esm"];
+        return [await Function("return filePath => import(filePath)")()(
+            filePath.startsWith("file://") ? filePath : pathToFileURL(filePath).toString()
+        ), "esm"];
     };
     const tryToRequire = async (): Promise<[any, "commonjs"]> => {
         return [require(filePath), "commonjs"];
