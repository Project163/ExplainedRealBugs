diff --git a/src/driver/postgres/PostgresDriver.ts b/src/driver/postgres/PostgresDriver.ts
index 92142ba53..0dfad6d7a 100644
--- a/src/driver/postgres/PostgresDriver.ts
+++ b/src/driver/postgres/PostgresDriver.ts
@@ -375,13 +375,16 @@ export class PostgresDriver implements Driver {
 
         const results = (await this.executeQuery(
             connection,
-            "SHOW server_version;",
+            "SELECT version();",
         )) as {
             rows: {
-                server_version: string
+                version: string
             }[]
         }
-        const versionString = results.rows[0].server_version
+        const versionString = results.rows[0].version.replace(
+            /^PostgreSQL ([\d\.]+) .*$/,
+            "$1",
+        )
         this.isGeneratedColumnsSupported = VersionUtils.isGreaterOrEqual(
             versionString,
             "12.0",
diff --git a/src/driver/postgres/PostgresQueryRunner.ts b/src/driver/postgres/PostgresQueryRunner.ts
index 120e19fdb..2bcfc4a7b 100644
--- a/src/driver/postgres/PostgresQueryRunner.ts
+++ b/src/driver/postgres/PostgresQueryRunner.ts
@@ -3991,8 +3991,8 @@ export class PostgresQueryRunner
      * Loads Postgres version.
      */
     protected async getVersion(): Promise<string> {
-        const result = await this.query(`SHOW SERVER_VERSION`)
-        return result[0]["server_version"]
+        const result = await this.query(`SELECT version()`)
+        return result[0]["version"].replace(/^PostgreSQL ([\d\.]+) .*$/, "$1")
     }
 
     /**
diff --git a/test/functional/cube/postgres/cube-postgres.ts b/test/functional/cube/postgres/cube-postgres.ts
index f70baf10b..d5e81a68c 100644
--- a/test/functional/cube/postgres/cube-postgres.ts
+++ b/test/functional/cube/postgres/cube-postgres.ts
@@ -109,10 +109,11 @@ describe("cube-postgres", () => {
                 // Get Postgres version because zero-length cubes are not legal
                 // on all Postgres versions. Zero-length cubes are only tested
                 // to be working on Postgres version >=10.6.
-                const [{ server_version }] = await connection.query(
-                    "SHOW server_version",
-                )
-                const semverArray = server_version.split(".").map(Number)
+                const [{ version }] = await connection.query("SELECT version()")
+                const semverArray = version
+                    .replace(/^PostgreSQL ([\d\.]+) .*$/, "$1")
+                    .split(".")
+                    .map(Number)
                 if (!(semverArray[0] >= 10 && semverArray[1] >= 6)) {
                     return
                 }
diff --git a/test/github-issues/9318/issue-9318.ts b/test/github-issues/9318/issue-9318.ts
new file mode 100644
index 000000000..7f8315fd5
--- /dev/null
+++ b/test/github-issues/9318/issue-9318.ts
@@ -0,0 +1,47 @@
+import "reflect-metadata"
+import {
+    createTestingConnections,
+    closeTestingConnections,
+    reloadTestingDatabases,
+} from "../../utils/test-utils"
+import { DataSource } from "../../../src"
+
+import { expect } from "chai"
+import { PostgresDriver } from "../../../src/driver/postgres/PostgresDriver"
+import { VersionUtils } from "../../../src/util/VersionUtils"
+
+describe("github issues > #9318 Change version query from SHOW server_version to SELECT version", () => {
+    let connections: DataSource[]
+    before(
+        async () =>
+            (connections = await createTestingConnections({
+                entities: [],
+                schemaCreate: false,
+                dropSchema: true,
+                enabledDrivers: ["postgres"],
+            })),
+    )
+    beforeEach(() => reloadTestingDatabases(connections))
+    after(() => closeTestingConnections(connections))
+
+    it("should have proper isGeneratedColumnsSupported value for postgres version", () =>
+        Promise.all(
+            connections.map(async (connection) => {
+                const { isGeneratedColumnsSupported } =
+                    connection.driver as PostgresDriver
+                const result = await connection.query("SELECT VERSION()")
+                const dbVersion = result[0]["version"].replace(
+                    /^PostgreSQL ([\d\.]+) .*$/,
+                    "$1",
+                )
+                const versionGreaterOfEqualTo12 = VersionUtils.isGreaterOrEqual(
+                    dbVersion,
+                    "12.0",
+                )
+
+                expect(isGeneratedColumnsSupported).to.eq(
+                    versionGreaterOfEqualTo12,
+                )
+            }),
+        ))
+})
