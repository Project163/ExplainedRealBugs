[{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/479726275","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-479726275","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":479726275,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTcyNjI3NQ==","user":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T02:29:50Z","updated_at":"2019-04-04T02:29:50Z","body":"I tried changing all my entities to use `EntitySchema` as given in your JavaScript examples. The syntax error logs have now stopped but the database connection is still not being maintained in release mode. It closes immediately after being opened:\r\n```\r\n2019-04-04 07:54:08.738 [info][tid:com.facebook.react.JavaScript] OPEN database: <db_name>\r\n2019-04-04 07:54:08.740 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:197] target database location: nosync\r\n2019-04-04 07:54:08.740 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:208] Opening db in mode READ_WRITE, full path: ~/Library/Developer/CoreSimulator/Devices/E332D2E7-DD92-4F5B-8682-DDE1CB435F95/data/Containers/Data/Application/6676A6AB-6CC9-4074-9F3C-72E2F59CAD4D/Library/LocalDatabase/<db_name>\r\n2019-04-04 07:54:08.741 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:235] Database opened\r\n2019-04-04 07:54:08.741 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:249] Good news: SQLite is thread safe!\r\n2019-04-04 07:54:08.744 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:255] open cb finished ok\r\n2019-04-04 07:54:08.745 [info][tid:com.facebook.react.JavaScript] CLOSE database: <db_name>\r\n2019-04-04 07:54:08.746 [info][tid:com.facebook.react.JavaScript] closing db with transaction queue length: 0\r\n2019-04-04 07:54:08.746 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:294] close: database still exists at path ~/Library/Developer/CoreSimulator/Devices/E332D2E7-DD92-4F5B-8682-DDE1CB435F95/data/Containers/Data/Application/6676A6AB-6CC9-4074-9F3C-72E2F59CAD4D/Library/LocalDatabase/<db_name> proceeding to close it.\r\n2019-04-04 07:54:08.746 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:302] close: closing db: <db_name>\r\n2019-04-04 07:54:08.746 [info][tid:com.facebook.react.SQLiteQueue][SQLite.m:309] database file still exists after close\r\n```\r\n\r\nOnce again, it all works absolutely fine in debug mode.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/479726275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485119089","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-485119089","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":485119089,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTExOTA4OQ==","user":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-20T13:26:31Z","updated_at":"2019-04-20T13:26:31Z","body":"If it's working and debug and not in prod then it has something to do with configs.  I would suggest disabling minification and mangling and see if that helps. It's most common problem in such cases.\r\nI'm not using react-native, so don't have much knowledge on how are configured debug and prod modes there.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485119089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2289539487,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyODk1Mzk0ODc=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/2289539487","actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-04-20T13:26:46Z","label":{"name":"question","color":"cc317c"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485137638","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-485137638","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":485137638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTEzNzYzOA==","user":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-20T15:50:44Z","updated_at":"2019-04-20T15:50:44Z","body":"The table creation issue was indeed caused by minification it seems. I was able to continue using the decorator pattern by explicitly mentioning names for all entities and columns like `@Column({ name: 'groupId', type: 'text' })`.\r\n\r\nThe issue in my second comment persisted though. I wasn't able to get to the bottom of that one.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485137638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485167014","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-485167014","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":485167014,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTE2NzAxNA==","user":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-20T20:37:30Z","updated_at":"2019-04-20T20:37:30Z","body":"I didn't found any related issues. I'm not very familiar with react native, so I probably won't be able to help much more. \r\nI can only suggest to 'merge' configs - try moving(merging) config from dev to prod and see after changing which config setting it started to work again.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485167014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-20T21:50:35Z","updated_at":"2019-04-20T21:50:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3146","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/3146/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/3146/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/3146/events","html_url":"https://github.com/typeorm/typeorm/issues/3146","id":383417915,"node_id":"MDU6SXNzdWUzODM0MTc5MTU=","number":3146,"title":"Database operations are not working when i run in release mode :( ","user":{"login":"wliadmin","id":9083810,"node_id":"MDQ6VXNlcjkwODM4MTA=","avatar_url":"https://avatars.githubusercontent.com/u/9083810?v=4","gravatar_id":"","url":"https://api.github.com/users/wliadmin","html_url":"https://github.com/wliadmin","followers_url":"https://api.github.com/users/wliadmin/followers","following_url":"https://api.github.com/users/wliadmin/following{/other_user}","gists_url":"https://api.github.com/users/wliadmin/gists{/gist_id}","starred_url":"https://api.github.com/users/wliadmin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wliadmin/subscriptions","organizations_url":"https://api.github.com/users/wliadmin/orgs","repos_url":"https://api.github.com/users/wliadmin/repos","events_url":"https://api.github.com/users/wliadmin/events{/privacy}","received_events_url":"https://api.github.com/users/wliadmin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":489020197,"node_id":"MDU6TGFiZWw0ODkwMjAxOTc=","url":"https://api.github.com/repos/typeorm/typeorm/labels/can%20be%20closed?","name":"can be closed?","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-11-22T07:57:14Z","updated_at":"2019-05-28T12:49:53Z","closed_at":"2019-05-28T12:49:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Database operations are not working in release mode\r\n\r\n### **Steps to reproduce**\r\n-> Run application by archiving application in iOS\r\n-> Database operations are not performing in release mode\r\n\r\n### **Expected behaviour**\r\n-> All the database operations should be performed","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/3146/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485872932","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-485872932","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":485872932,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTg3MjkzMg==","user":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-23T16:16:11Z","updated_at":"2019-04-23T16:16:11Z","body":"Considering my original problem was resolved I suppose this issue can be closed.\r\n\r\nThough it may be worth adding a quick but prominent mention in the setup for React Native that when using the decorator pattern for defining entities with ES6 and Babel, explicit table and column names need to be defined if the compiled code is going to be minified. Since minification is on by default in RN projects, I imagine other users may keep running into this issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/485872932/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/486340881","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-486340881","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":486340881,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjM0MDg4MQ==","user":{"login":"tindn","id":7987738,"node_id":"MDQ6VXNlcjc5ODc3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/7987738?v=4","gravatar_id":"","url":"https://api.github.com/users/tindn","html_url":"https://github.com/tindn","followers_url":"https://api.github.com/users/tindn/followers","following_url":"https://api.github.com/users/tindn/following{/other_user}","gists_url":"https://api.github.com/users/tindn/gists{/gist_id}","starred_url":"https://api.github.com/users/tindn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tindn/subscriptions","organizations_url":"https://api.github.com/users/tindn/orgs","repos_url":"https://api.github.com/users/tindn/repos","events_url":"https://api.github.com/users/tindn/events{/privacy}","received_events_url":"https://api.github.com/users/tindn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-24T17:21:12Z","updated_at":"2019-04-24T17:21:12Z","body":"@naoey Do you have migrations specified in your connection config?\r\n\r\nI was having the same issue, and it turns out in Release build, the js is minified, and the class names for migrations are mangle. However, these need to have the timestamp as specified here\r\nhttps://github.com/typeorm/typeorm/blob/master/src/migration/MigrationExecutor.ts#L284\r\n\r\nSo I found the solution here\r\nhttps://github.com/facebook/metro/issues/154#issuecomment-476167818\r\n\r\nSimply put, I just installed a different minifier from the default one \r\n```\r\nyarn add -dev metro-minify-terser\r\n```\r\nand then added this in the `transformer` section of the metro config file\r\n```\r\nminifierPath: 'metro-minify-terser',\r\nminifierConfig: {\r\n      keep_fnames: true,\r\n},\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/486340881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tindn","id":7987738,"node_id":"MDQ6VXNlcjc5ODc3Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/7987738?v=4","gravatar_id":"","url":"https://api.github.com/users/tindn","html_url":"https://github.com/tindn","followers_url":"https://api.github.com/users/tindn/followers","following_url":"https://api.github.com/users/tindn/following{/other_user}","gists_url":"https://api.github.com/users/tindn/gists{/gist_id}","starred_url":"https://api.github.com/users/tindn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tindn/subscriptions","organizations_url":"https://api.github.com/users/tindn/orgs","repos_url":"https://api.github.com/users/tindn/repos","events_url":"https://api.github.com/users/tindn/events{/privacy}","received_events_url":"https://api.github.com/users/tindn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2297916713,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI5NzkxNjcxMw==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/2297916713","actor":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-24T17:21:13Z","performed_via_github_app":null},{"id":2297916714,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyOTc5MTY3MTQ=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/2297916714","actor":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-24T17:21:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/486612987","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-486612987","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":486612987,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjYxMjk4Nw==","user":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-25T10:13:37Z","updated_at":"2019-04-25T10:13:37Z","body":"No I don't have any migrations in my connection right now. However class and class property names being mangled *was* the reason for this issue regardless, since that essentially destroyed all my entity and column names. So your solution might also be an viable alternative.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/486612987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/490839811","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-490839811","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":490839811,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDgzOTgxMQ==","user":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T09:58:48Z","updated_at":"2019-05-09T09:58:48Z","body":"I donâ€™t believe it is possible for TypeORM to fix this. At the point this code actually runs the names are already mangled by minification. Only way I see is for the user of the library to explicitly mention column and table names as I mentioned in my previous comment.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/490839811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"naoey","id":3889501,"node_id":"MDQ6VXNlcjM4ODk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3889501?v=4","gravatar_id":"","url":"https://api.github.com/users/naoey","html_url":"https://github.com/naoey","followers_url":"https://api.github.com/users/naoey/followers","following_url":"https://api.github.com/users/naoey/following{/other_user}","gists_url":"https://api.github.com/users/naoey/gists{/gist_id}","starred_url":"https://api.github.com/users/naoey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoey/subscriptions","organizations_url":"https://api.github.com/users/naoey/orgs","repos_url":"https://api.github.com/users/naoey/repos","events_url":"https://api.github.com/users/naoey/events{/privacy}","received_events_url":"https://api.github.com/users/naoey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/490871954","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-490871954","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":490871954,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDg3MTk1NA==","user":{"login":"peter-axomic","id":1798388,"node_id":"MDQ6VXNlcjE3OTgzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1798388?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-axomic","html_url":"https://github.com/peter-axomic","followers_url":"https://api.github.com/users/peter-axomic/followers","following_url":"https://api.github.com/users/peter-axomic/following{/other_user}","gists_url":"https://api.github.com/users/peter-axomic/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-axomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-axomic/subscriptions","organizations_url":"https://api.github.com/users/peter-axomic/orgs","repos_url":"https://api.github.com/users/peter-axomic/repos","events_url":"https://api.github.com/users/peter-axomic/events{/privacy}","received_events_url":"https://api.github.com/users/peter-axomic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T11:53:01Z","updated_at":"2019-05-09T11:53:01Z","body":"This was a problem for us too. We are using Expo.io which doesn't allow you to change how things are minified when deployed, and therefore all migrations break in production.\r\n\r\nWe forked 0.2.16 and hacked in a fix (https://github.com/axomic/typeorm/commit/febb50c15a8c9e4b826d6f9443443e30a44d5649), but would love to get a fix into the main repo.\r\n\r\nThe problem is in:\r\n\r\n```src/migration/MigrationExecutor.ts```\r\n\r\ngetMigrations() uses introspection on the constructor to get the class name, but if the code is minified the class name is typically just a single letter!\r\n\r\n```const migrationClassName = (migration.constructor as any).name;```\r\n\r\nWe added an optional \"name\" property to MigrationInterface so that we could explicitly name a migration, rather than introspecting the class name, and then changed the line above to:\r\n\r\n```const migrationClassName = migration.name || (migration.constructor as any).name;```\r\n\r\nWe aren't the only ones with this issue, here are a few examples of people having to find workarounds.\r\n\r\nhttps://github.com/facebook/metro/issues/154#issuecomment-474431717\r\nhttps://github.com/typeorm/typeorm/issues/2549#issuecomment-408605178\r\nhttps://github.com/typeorm/ionic-example/issues/19\r\n\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/490871954/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"peter-axomic","id":1798388,"node_id":"MDQ6VXNlcjE3OTgzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1798388?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-axomic","html_url":"https://github.com/peter-axomic","followers_url":"https://api.github.com/users/peter-axomic/followers","following_url":"https://api.github.com/users/peter-axomic/following{/other_user}","gists_url":"https://api.github.com/users/peter-axomic/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-axomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-axomic/subscriptions","organizations_url":"https://api.github.com/users/peter-axomic/orgs","repos_url":"https://api.github.com/users/peter-axomic/repos","events_url":"https://api.github.com/users/peter-axomic/events{/privacy}","received_events_url":"https://api.github.com/users/peter-axomic/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/491280244","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-491280244","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":491280244,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI4MDI0NA==","user":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T13:00:28Z","updated_at":"2019-05-10T13:00:28Z","body":"I think this fix isn't a part of typeorm package because nobody made a PR for it.\r\nI new `name` field should be optional(to not break already generated migrations). We should also think if any changes need to be done when cli generate new migrations(is name option gonna be the default one now).\r\n\r\nAs for original issue - minification takes place before TypeOrm code is run, so unfortunately we can do nothing about that.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/491280244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2703472344,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI3MDM0NzIzNDQ=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/2703472344","actor":{"login":"leonardofalk","id":5649915,"node_id":"MDQ6VXNlcjU2NDk5MTU=","avatar_url":"https://avatars.githubusercontent.com/u/5649915?v=4","gravatar_id":"","url":"https://api.github.com/users/leonardofalk","html_url":"https://github.com/leonardofalk","followers_url":"https://api.github.com/users/leonardofalk/followers","following_url":"https://api.github.com/users/leonardofalk/following{/other_user}","gists_url":"https://api.github.com/users/leonardofalk/gists{/gist_id}","starred_url":"https://api.github.com/users/leonardofalk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leonardofalk/subscriptions","organizations_url":"https://api.github.com/users/leonardofalk/orgs","repos_url":"https://api.github.com/users/leonardofalk/repos","events_url":"https://api.github.com/users/leonardofalk/events{/privacy}","received_events_url":"https://api.github.com/users/leonardofalk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"014c1bf24fa66b89879c68c629ad4b48d12ac822","commit_url":"https://api.github.com/repos/wonder-oss/typeorm/commits/014c1bf24fa66b89879c68c629ad4b48d12ac822","created_at":"2019-10-10T16:56:23Z","performed_via_github_app":null},{"id":2724115708,"node_id":"MDExOkNsb3NlZEV2ZW50MjcyNDExNTcwOA==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/2724115708","actor":{"login":"pleerock","id":1753397,"node_id":"MDQ6VXNlcjE3NTMzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1753397?v=4","gravatar_id":"","url":"https://api.github.com/users/pleerock","html_url":"https://github.com/pleerock","followers_url":"https://api.github.com/users/pleerock/followers","following_url":"https://api.github.com/users/pleerock/following{/other_user}","gists_url":"https://api.github.com/users/pleerock/gists{/gist_id}","starred_url":"https://api.github.com/users/pleerock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pleerock/subscriptions","organizations_url":"https://api.github.com/users/pleerock/orgs","repos_url":"https://api.github.com/users/pleerock/repos","events_url":"https://api.github.com/users/pleerock/events{/privacy}","received_events_url":"https://api.github.com/users/pleerock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"4a73fde7e8d344c9a216e28cc3049c7d3f7f578f","commit_url":"https://api.github.com/repos/typeorm/typeorm/commits/4a73fde7e8d344c9a216e28cc3049c7d3f7f578f","created_at":"2019-10-18T09:07:14Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/612322958","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-612322958","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":612322958,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjMyMjk1OA==","user":{"login":"crutchcorn","id":9100169,"node_id":"MDQ6VXNlcjkxMDAxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/9100169?v=4","gravatar_id":"","url":"https://api.github.com/users/crutchcorn","html_url":"https://github.com/crutchcorn","followers_url":"https://api.github.com/users/crutchcorn/followers","following_url":"https://api.github.com/users/crutchcorn/following{/other_user}","gists_url":"https://api.github.com/users/crutchcorn/gists{/gist_id}","starred_url":"https://api.github.com/users/crutchcorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crutchcorn/subscriptions","organizations_url":"https://api.github.com/users/crutchcorn/orgs","repos_url":"https://api.github.com/users/crutchcorn/repos","events_url":"https://api.github.com/users/crutchcorn/events{/privacy}","received_events_url":"https://api.github.com/users/crutchcorn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T04:27:04Z","updated_at":"2020-04-11T04:27:04Z","body":"I think the documentation here needs to be improved. Sure enough, I ran into this same issue only on the built version and updating each `Entities` and `Columns` fixed the problem, but only after an hour or so of searching did I find this GH issue","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/612322958/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"crutchcorn","id":9100169,"node_id":"MDQ6VXNlcjkxMDAxNjk=","avatar_url":"https://avatars.githubusercontent.com/u/9100169?v=4","gravatar_id":"","url":"https://api.github.com/users/crutchcorn","html_url":"https://github.com/crutchcorn","followers_url":"https://api.github.com/users/crutchcorn/followers","following_url":"https://api.github.com/users/crutchcorn/following{/other_user}","gists_url":"https://api.github.com/users/crutchcorn/gists{/gist_id}","starred_url":"https://api.github.com/users/crutchcorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crutchcorn/subscriptions","organizations_url":"https://api.github.com/users/crutchcorn/orgs","repos_url":"https://api.github.com/users/crutchcorn/repos","events_url":"https://api.github.com/users/crutchcorn/events{/privacy}","received_events_url":"https://api.github.com/users/crutchcorn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/617325597","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-617325597","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":617325597,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzMyNTU5Nw==","user":{"login":"allandiego","id":6215050,"node_id":"MDQ6VXNlcjYyMTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6215050?v=4","gravatar_id":"","url":"https://api.github.com/users/allandiego","html_url":"https://github.com/allandiego","followers_url":"https://api.github.com/users/allandiego/followers","following_url":"https://api.github.com/users/allandiego/following{/other_user}","gists_url":"https://api.github.com/users/allandiego/gists{/gist_id}","starred_url":"https://api.github.com/users/allandiego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allandiego/subscriptions","organizations_url":"https://api.github.com/users/allandiego/orgs","repos_url":"https://api.github.com/users/allandiego/repos","events_url":"https://api.github.com/users/allandiego/events{/privacy}","received_events_url":"https://api.github.com/users/allandiego/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T18:07:54Z","updated_at":"2020-04-21T18:07:54Z","body":"The error occurs because of minify/uglify process, workaround  was disable this for class and function names:\r\n\r\nnode_modules\\metro-config\\src\\defaults\\index.js\r\n```js\r\nminifierConfig: {\r\n      keep_classnames: true,  // enable to fix typeorm\r\n      keep_fnames: true,  // enable to fix typeorm\r\n      mangle: {\r\n        // toplevel: false,\r\n        keep_classnames: true, // enable to fix typeorm\r\n        keep_fnames: true, // enable to fix typeorm\r\n      },\r\n      output: {\r\n        ascii_only: true,\r\n        quote_style: 3,\r\n        wrap_iife: true\r\n      },\r\n      sourceMap: {\r\n        includeSources: false\r\n      },\r\n      toplevel: false,\r\n      compress: {\r\n        // reduce_funcs inlines single-use functions, which cause perf regressions.\r\n        reduce_funcs: false\r\n      }\r\n    },\r\n```\r\n\r\nstill looking for a better solution since the mentioned package metro-minify-terser is not avaliable anymore, im thinking in change this configurations via metro.config, or switch minify package for https://github.com/terser/terser","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/617325597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"allandiego","id":6215050,"node_id":"MDQ6VXNlcjYyMTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6215050?v=4","gravatar_id":"","url":"https://api.github.com/users/allandiego","html_url":"https://github.com/allandiego","followers_url":"https://api.github.com/users/allandiego/followers","following_url":"https://api.github.com/users/allandiego/following{/other_user}","gists_url":"https://api.github.com/users/allandiego/gists{/gist_id}","starred_url":"https://api.github.com/users/allandiego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allandiego/subscriptions","organizations_url":"https://api.github.com/users/allandiego/orgs","repos_url":"https://api.github.com/users/allandiego/repos","events_url":"https://api.github.com/users/allandiego/events{/privacy}","received_events_url":"https://api.github.com/users/allandiego/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/628704021","html_url":"https://github.com/typeorm/typeorm/issues/3933#issuecomment-628704021","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/3933","id":628704021,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODcwNDAyMQ==","user":{"login":"kristfal","id":5638107,"node_id":"MDQ6VXNlcjU2MzgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5638107?v=4","gravatar_id":"","url":"https://api.github.com/users/kristfal","html_url":"https://github.com/kristfal","followers_url":"https://api.github.com/users/kristfal/followers","following_url":"https://api.github.com/users/kristfal/following{/other_user}","gists_url":"https://api.github.com/users/kristfal/gists{/gist_id}","starred_url":"https://api.github.com/users/kristfal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kristfal/subscriptions","organizations_url":"https://api.github.com/users/kristfal/orgs","repos_url":"https://api.github.com/users/kristfal/repos","events_url":"https://api.github.com/users/kristfal/events{/privacy}","received_events_url":"https://api.github.com/users/kristfal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T15:18:17Z","updated_at":"2020-05-14T15:18:17Z","body":"Just a heads up here: I ran into a related issue, but it was caused by the queryBuilder. While minification seems to work for regular queries as the minified aliases would make queries consistent, using the `queryBuilder` with hardcoded strings would break due to the following:\r\n\r\nThe builder would be:\r\n\r\n```\r\ngetConnection()\r\n    .getRepository(Table)\r\n    .createQueryBuilder()\r\n    .where('table.id = :id', {\r\n      id,\r\n    })\r\n    .getMany();\r\n```\r\n\r\n\r\nA generated select query would be\r\n\r\n```\r\nSELECT t.id from table t WHERE table.id = 1\r\n```\r\n\r\nwhich would fail for obvious reasons. The only proper solution is to update minifireConfig via `metro.config.js`, ex:\r\n\r\n```\r\nmodule.exports = {\r\n  transformer: {\r\n    minifierConfig: {\r\n      keep_classnames: true, // enable to fix typeorm\r\n      keep_fnames: true, // enable to fix typeorm\r\n      mangle: {\r\n        toplevel: false,\r\n        keep_classnames: true, // enable to fix typeorm\r\n        keep_fnames: true, // enable to fix typeorm\r\n      },\r\n      output: {\r\n        ascii_only: true,\r\n        quote_style: 3,\r\n        wrap_iife: true,\r\n      },\r\n      sourceMap: {\r\n        includeSources: false,\r\n      },\r\n      toplevel: false,\r\n      compress: {\r\n        reduce_funcs: false,\r\n      },\r\n    },\r\n  },\r\n};\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/628704021/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kristfal","id":5638107,"node_id":"MDQ6VXNlcjU2MzgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5638107?v=4","gravatar_id":"","url":"https://api.github.com/users/kristfal","html_url":"https://github.com/kristfal","followers_url":"https://api.github.com/users/kristfal/followers","following_url":"https://api.github.com/users/kristfal/following{/other_user}","gists_url":"https://api.github.com/users/kristfal/gists{/gist_id}","starred_url":"https://api.github.com/users/kristfal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kristfal/subscriptions","organizations_url":"https://api.github.com/users/kristfal/orgs","repos_url":"https://api.github.com/users/kristfal/repos","events_url":"https://api.github.com/users/kristfal/events{/privacy}","received_events_url":"https://api.github.com/users/kristfal/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15967897995,"node_id":"REFE_lADOAyVBJc4ZjqVEzwAAAAO3wsmL","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/15967897995","actor":{"login":"wjhurley","id":15939055,"node_id":"MDQ6VXNlcjE1OTM5MDU1","avatar_url":"https://avatars.githubusercontent.com/u/15939055?v=4","gravatar_id":"","url":"https://api.github.com/users/wjhurley","html_url":"https://github.com/wjhurley","followers_url":"https://api.github.com/users/wjhurley/followers","following_url":"https://api.github.com/users/wjhurley/following{/other_user}","gists_url":"https://api.github.com/users/wjhurley/gists{/gist_id}","starred_url":"https://api.github.com/users/wjhurley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wjhurley/subscriptions","organizations_url":"https://api.github.com/users/wjhurley/orgs","repos_url":"https://api.github.com/users/wjhurley/repos","events_url":"https://api.github.com/users/wjhurley/events{/privacy}","received_events_url":"https://api.github.com/users/wjhurley/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4a73fde7e8d344c9a216e28cc3049c7d3f7f578f","commit_url":"https://api.github.com/repos/wjhurley/typeorm/commits/4a73fde7e8d344c9a216e28cc3049c7d3f7f578f","created_at":"2025-01-16T21:28:46Z","performed_via_github_app":null}]