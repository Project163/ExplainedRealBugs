[{"id":1910408318,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTkxMDQwODMxOA==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1910408318","actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2018-10-17T18:50:04Z","rename":{"from":"Inextensive migration generated","to":"Incongruous migration generated"},"performed_via_github_app":null},{"id":1910409056,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTkxMDQwOTA1Ng==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1910409056","actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2018-10-17T18:50:22Z","rename":{"from":"Incongruous migration generated","to":"Inappropriate migration generated"},"performed_via_github_app":null},{"actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-23T07:12:46Z","updated_at":"2018-10-23T07:12:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/2964","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/2964/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/2964/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/2964/events","html_url":"https://github.com/typeorm/typeorm/issues/2964","id":372699947,"node_id":"MDU6SXNzdWUzNzI2OTk5NDc=","number":2964,"title":"Migrations fail after upgrading from 0.1.16 to 0.2.8","user":{"login":"danielmhanover","id":1915640,"node_id":"MDQ6VXNlcjE5MTU2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/1915640?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmhanover","html_url":"https://github.com/danielmhanover","followers_url":"https://api.github.com/users/danielmhanover/followers","following_url":"https://api.github.com/users/danielmhanover/following{/other_user}","gists_url":"https://api.github.com/users/danielmhanover/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmhanover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmhanover/subscriptions","organizations_url":"https://api.github.com/users/danielmhanover/orgs","repos_url":"https://api.github.com/users/danielmhanover/repos","events_url":"https://api.github.com/users/danielmhanover/events{/privacy}","received_events_url":"https://api.github.com/users/danielmhanover/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":489019544,"node_id":"MDU6TGFiZWw0ODkwMTk1NDQ=","url":"https://api.github.com/repos/typeorm/typeorm/labels/needs%20more%20info","name":"needs more info","color":"bfd4f2","default":false,"description":null},{"id":628495539,"node_id":"MDU6TGFiZWw2Mjg0OTU1Mzk=","url":"https://api.github.com/repos/typeorm/typeorm/labels/comp:%20migrations","name":"comp: migrations","color":"1d76db","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-10-22T21:05:16Z","updated_at":"2018-12-06T19:05:33Z","closed_at":"2018-12-06T19:05:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Issue type:**\r\n\r\n[ ] question\r\n[x] bug report\r\n[ ] feature request\r\n[ ] documentation issue\r\n\r\n**Database system/driver:**\r\n\r\n[ ] `cordova`\r\n[ ] `mongodb`\r\n[ ] `mssql`\r\n[ ] `mysql` / `mariadb`\r\n[ ] `oracle`\r\n[x] `postgres`\r\n[ ] `sqlite`\r\n[ ] `sqljs`\r\n[ ] `react-native`\r\n[ ] `expo`\r\n\r\n**TypeORM version:**\r\n\r\n[x] `latest`\r\n[ ] `@next`\r\n[ ] `0.x.x` (or put your version here)\r\n\r\n**Steps to reproduce or a small repository showing the problem:**\r\n\r\nCreate a few entities with foreign keys and primary keys in TypeORM 0.1.16 and sync to a Postgres DB. Then update to TypeORM 0.2.8 and then, sync again (using either `synchronize: true` or `migration:generate`). The migration file will contain a number of strange (and failing) commands such as `queryRunner.query(``ALTER TABLE \"Payments\" DROP CONSTRAINT \"PK_c1ed52d44692c02be2669cb3e30\"``);` even though no constraint with that ID exists.\r\n\r\nIt will also attempt to drop and re-add every column, regardless of whether its actually changed.","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/2964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/2964/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1928558897,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5Mjg1NTg4OTc=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1928558897","actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-26T11:11:25Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":1928558899,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5Mjg1NTg4OTk=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1928558899","actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-26T11:11:25Z","label":{"name":"comp: migrations","color":"1d76db"},"performed_via_github_app":null},{"id":1928558901,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5Mjg1NTg5MDE=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1928558901","actor":{"login":"Kononnable","id":9082099,"node_id":"MDQ6VXNlcjkwODIwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/9082099?v=4","gravatar_id":"","url":"https://api.github.com/users/Kononnable","html_url":"https://github.com/Kononnable","followers_url":"https://api.github.com/users/Kononnable/followers","following_url":"https://api.github.com/users/Kononnable/following{/other_user}","gists_url":"https://api.github.com/users/Kononnable/gists{/gist_id}","starred_url":"https://api.github.com/users/Kononnable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kononnable/subscriptions","organizations_url":"https://api.github.com/users/Kononnable/orgs","repos_url":"https://api.github.com/users/Kononnable/repos","events_url":"https://api.github.com/users/Kononnable/events{/privacy}","received_events_url":"https://api.github.com/users/Kononnable/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-26T11:11:26Z","label":{"name":"driver: mysql","color":"0052cc"},"performed_via_github_app":null},{"actor":{"login":"iCrawl","id":20760160,"node_id":"MDQ6VXNlcjIwNzYwMTYw","avatar_url":"https://avatars.githubusercontent.com/u/20760160?v=4","gravatar_id":"","url":"https://api.github.com/users/iCrawl","html_url":"https://github.com/iCrawl","followers_url":"https://api.github.com/users/iCrawl/followers","following_url":"https://api.github.com/users/iCrawl/following{/other_user}","gists_url":"https://api.github.com/users/iCrawl/gists{/gist_id}","starred_url":"https://api.github.com/users/iCrawl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iCrawl/subscriptions","organizations_url":"https://api.github.com/users/iCrawl/orgs","repos_url":"https://api.github.com/users/iCrawl/repos","events_url":"https://api.github.com/users/iCrawl/events{/privacy}","received_events_url":"https://api.github.com/users/iCrawl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T23:44:51Z","updated_at":"2018-11-08T23:44:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3076","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/events","html_url":"https://github.com/typeorm/typeorm/issues/3076","id":378964705,"node_id":"MDU6SXNzdWUzNzg5NjQ3MDU=","number":3076,"title":"migration:generate continuously updates default values","user":{"login":"iCrawl","id":20760160,"node_id":"MDQ6VXNlcjIwNzYwMTYw","avatar_url":"https://avatars.githubusercontent.com/u/20760160?v=4","gravatar_id":"","url":"https://api.github.com/users/iCrawl","html_url":"https://github.com/iCrawl","followers_url":"https://api.github.com/users/iCrawl/followers","following_url":"https://api.github.com/users/iCrawl/following{/other_user}","gists_url":"https://api.github.com/users/iCrawl/gists{/gist_id}","starred_url":"https://api.github.com/users/iCrawl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iCrawl/subscriptions","organizations_url":"https://api.github.com/users/iCrawl/orgs","repos_url":"https://api.github.com/users/iCrawl/repos","events_url":"https://api.github.com/users/iCrawl/events{/privacy}","received_events_url":"https://api.github.com/users/iCrawl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":333605711,"node_id":"MDU6TGFiZWwzMzM2MDU3MTE=","url":"https://api.github.com/repos/typeorm/typeorm/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":628495539,"node_id":"MDU6TGFiZWw2Mjg0OTU1Mzk=","url":"https://api.github.com/repos/typeorm/typeorm/labels/comp:%20migrations","name":"comp: migrations","color":"1d76db","default":false,"description":null},{"id":712054568,"node_id":"MDU6TGFiZWw3MTIwNTQ1Njg=","url":"https://api.github.com/repos/typeorm/typeorm/labels/driver:%20postgres","name":"driver: postgres","color":"0052cc","default":false,"description":null},{"id":3188117427,"node_id":"MDU6TGFiZWwzMTg4MTE3NDI3","url":"https://api.github.com/repos/typeorm/typeorm/labels/complexity:%20high","name":"complexity: high","color":"211A7C","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":32,"created_at":"2018-11-08T23:44:51Z","updated_at":"2025-05-15T23:19:40Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Issue type:**\r\n\r\n[x?] question\r\n[x] bug report\r\n[ ] feature request\r\n[ ] documentation issue\r\n\r\n**Database system/driver:**\r\n\r\n[ ] `cordova`\r\n[ ] `mongodb`\r\n[ ] `mssql`\r\n[ ] `mysql` / `mariadb`\r\n[ ] `oracle`\r\n[x] `postgres`\r\n[ ] `sqlite`\r\n[ ] `sqljs`\r\n[ ] `react-native`\r\n[ ] `expo`\r\n\r\n**TypeORM version:**\r\n\r\n[x] `latest` 0.2.8\r\n[ ] `@next`\r\n[ ] `0.x.x` (or put your version here)\r\n\r\n**Steps to reproduce or a small repository showing the problem:**\r\n\r\nSomewhat relevant other issue #2943 (?)\r\nMaybe this is just me misunderstanding how postgresql works, but since (seen in the screenshots below) the default values are correctly set. If the default values are really just supposed to be `'{}'` and `ARRAY[]` please feel free to close this issue ðŸ™‡ \r\n\r\nPlaylists.ts\r\n```ts\r\nimport { Entity, Column, PrimaryGeneratedColumn } from 'typeorm';\r\n\r\n@Entity('playlists')\r\nexport class Playlist {\r\n\t@PrimaryGeneratedColumn()\r\n\tid!: number;\r\n\r\n\t@Column({ type: 'bigint' })\r\n\tuser!: string;\r\n\r\n\t@Column({ type: 'bigint' })\r\n\tguild!: string;\r\n\r\n\t@Column({ type: 'text' })\r\n\tname!: string;\r\n\r\n\t@Column({ type: 'text' })\r\n\tdescription!: string | null;\r\n\r\n\t@Column({ type: 'text', array: true, default: () => \"ARRAY[]::text[]\" })\r\n\tsongs!: string[];\r\n\r\n\t@Column({ default: 0 })\r\n\tplays!: number;\r\n}\r\n```\r\n\r\nSettings.js\r\n```ts\r\nimport { Entity, Column, PrimaryColumn } from 'typeorm';\r\n\r\n@Entity('settings')\r\nexport class Setting {\r\n\t@PrimaryColumn({ type: 'bigint' })\r\n\tguild!: string;\r\n\r\n\t@Column({ type: 'jsonb', default: () => \"'{}'::jsonb\" })\r\n\tsettings: any;\r\n}\r\n```\r\n\r\n1541719937415-Init.ts\r\n```ts\r\nimport {MigrationInterface, QueryRunner} from \"typeorm\";\r\n\r\nexport class Init1541719937415 implements MigrationInterface {\r\n\r\n    public async up(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`CREATE TABLE \"playlists\" (\"id\" SERIAL NOT NULL, \"user\" bigint NOT NULL, \"guild\" bigint NOT NULL, \"name\" text NOT NULL, \"description\" text NOT NULL, \"songs\" text array NOT NULL DEFAULT ARRAY[]::text[], \"plays\" integer NOT NULL DEFAULT 0, CONSTRAINT \"PK_a4597f4189a75d20507f3f7ef0d\" PRIMARY KEY (\"id\"))`);\r\n        await queryRunner.query(`CREATE TABLE \"settings\" (\"guild\" bigint NOT NULL, \"settings\" jsonb NOT NULL DEFAULT '{}'::jsonb, CONSTRAINT \"PK_5f773ba35a6f8ef6aa49aa8e72b\" PRIMARY KEY (\"guild\"))`);\r\n    }\r\n\r\n    public async down(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`DROP TABLE \"settings\"`);\r\n        await queryRunner.query(`DROP TABLE \"playlists\"`);\r\n    }\r\n\r\n}\r\n```\r\n\r\nEvery subsequent migration file:\r\n```ts\r\nimport {MigrationInterface, QueryRunner} from \"typeorm\";\r\n\r\nexport class Test1541720101513 implements MigrationInterface {\r\n\r\n    public async up(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT ARRAY[]::text[]`);\r\n        await queryRunner.query(`ALTER TABLE \"settings\" ALTER COLUMN \"settings\" SET DEFAULT '{}'::jsonb`);\r\n    }\r\n\r\n    public async down(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"settings\" ALTER COLUMN \"settings\" SET DEFAULT '{}'`);\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT ARRAY[]`);\r\n    }\r\n\r\n}\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/20760160/48233976-d2cd7280-e3b7-11e8-9856-873cdf36d209.png)\r\n![image](https://user-images.githubusercontent.com/20760160/48233985-d9f48080-e3b7-11e8-99cd-8ea5d20b9ec0.png)\r\n\r\nEdit:\r\nI actually just tried it out, changing the array to just `ARRAY[]` will produce:\r\n`QueryFailedError: cannot determine type of empty array`\r\nwith a hint to:\r\n`'Explicitly cast to the desired type, for example ARRAY[]::integer[].'`\r\n\r\nChanging `'{}'::jsonb` to `'{}'` produces the same result as having `'{}'::jsonb` (so that's good)\r\n![image](https://user-images.githubusercontent.com/20760160/48234441-e5e14200-e3b9-11e8-84a8-0491ee73cfa3.png)\r\nand it also does not show up in the migration file anymore (like above)\r\n\r\nThe array however still does since that one cannot be simply `ARRAY[]` as mentioned above.\r\n\r\nEdit2:\r\nWent ahead and tried the other notation for postgres to initialize an empty array `'{}'` (funnily enough)\r\n`@Column({ type: 'text', array: true, default: '{}' })`\r\nWhich produces this query in the initial migration:\r\n`\"songs\" text array NOT NULL DEFAULT '{}'::text[]` (looks correct so far)\r\n\r\nBut in every subsequent migration it will again try to change it:\r\n\r\n```ts\r\nimport {MigrationInterface, QueryRunner} from \"typeorm\";\r\n\r\nexport class Init21541721690470 implements MigrationInterface {\r\n\r\n    public async up(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT '{}'::text[]`);\r\n    }\r\n\r\n    public async down(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT '{}'`);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhich means I am pretty much out of ideas at this point for defaulting to empty arrays.","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/reactions","total_count":45,"+1":45,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"vladimirmoushkov","id":21225376,"node_id":"MDQ6VXNlcjIxMjI1Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/21225376?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirmoushkov","html_url":"https://github.com/vladimirmoushkov","followers_url":"https://api.github.com/users/vladimirmoushkov/followers","following_url":"https://api.github.com/users/vladimirmoushkov/following{/other_user}","gists_url":"https://api.github.com/users/vladimirmoushkov/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirmoushkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirmoushkov/subscriptions","organizations_url":"https://api.github.com/users/vladimirmoushkov/orgs","repos_url":"https://api.github.com/users/vladimirmoushkov/repos","events_url":"https://api.github.com/users/vladimirmoushkov/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirmoushkov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-17T16:31:20Z","updated_at":"2019-01-17T16:31:20Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3441","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/3441/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/3441/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/3441/events","html_url":"https://github.com/typeorm/typeorm/issues/3441","id":400359495,"node_id":"MDU6SXNzdWU0MDAzNTk0OTU=","number":3441,"title":"TypeORM migration:generate produces pointless migration changes ","user":{"login":"vladimirmoushkov","id":21225376,"node_id":"MDQ6VXNlcjIxMjI1Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/21225376?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirmoushkov","html_url":"https://github.com/vladimirmoushkov","followers_url":"https://api.github.com/users/vladimirmoushkov/followers","following_url":"https://api.github.com/users/vladimirmoushkov/following{/other_user}","gists_url":"https://api.github.com/users/vladimirmoushkov/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirmoushkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirmoushkov/subscriptions","organizations_url":"https://api.github.com/users/vladimirmoushkov/orgs","repos_url":"https://api.github.com/users/vladimirmoushkov/repos","events_url":"https://api.github.com/users/vladimirmoushkov/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirmoushkov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":628495539,"node_id":"MDU6TGFiZWw2Mjg0OTU1Mzk=","url":"https://api.github.com/repos/typeorm/typeorm/labels/comp:%20migrations","name":"comp: migrations","color":"1d76db","default":false,"description":null},{"id":628502779,"node_id":"MDU6TGFiZWw2Mjg1MDI3Nzk=","url":"https://api.github.com/repos/typeorm/typeorm/labels/comp:%20schema%20sync","name":"comp: schema sync","color":"1d76db","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-01-17T16:31:19Z","updated_at":"2025-04-16T21:20:45Z","closed_at":"2019-02-18T10:19:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Issue type:**\r\n\r\n[ ] question\r\n[x] bug report\r\n[ ] feature request\r\n[ ] documentation issue\r\n\r\n**Database system/driver:**\r\n\r\n[ ] `cordova`\r\n[ ] `mongodb`\r\n[ ] `mssql`\r\n[ ] `mysql` / `mariadb`\r\n[ ] `oracle`\r\n[x] `postgres`\r\n[ ] `sqlite`\r\n[ ] `sqljs`\r\n[ ] `react-native`\r\n[ ] `expo`\r\n\r\n**TypeORM version:**\r\n\r\n[x] `latest`\r\n[ ] `@next`\r\n[ ] `0.x.x` (or put your version here)\r\n\r\n**Steps to reproduce or a small repository showing the problem:**\r\nAdd an following entity to existing TypeORM projecT:\r\n\r\n```\r\nimport { Column, Entity, Index, JoinColumn, ManyToOne, PrimaryGeneratedColumn } from \"typeorm\";\r\nimport { User } from \"./User\";\r\n\r\n@Entity()\r\nexport class Session {\r\n    @PrimaryGeneratedColumn()\r\n    public id: number;\r\n\r\n    @ManyToOne(() => User)\r\n    @JoinColumn()\r\n    public user: User;\r\n\r\n    @Column({type: \"char\", precision: 64, nullable: false})\r\n    @Index({unique: true})\r\n    public sessionId: string;\r\n\r\n    @Column()\r\n    public validTo: Date;\r\n\r\n    @Column()\r\n    public lastActive: Date;\r\n }\r\n\r\n```\r\nGenerate a migration using:\r\n\r\n> ts-node ../../../node_modules/.bin/typeorm migration:generate -n AnyName\r\n\r\nIt will produce initial migration that contains Session table creation. Then run the migration as:\r\n> ts-node ../../../node_modules/.bin/typeorm migration:run\r\n\r\nAnd then re-run the migration generation\r\n> ts-node ../../../node_modules/.bin/typeorm migration:generate -n AnyName2\r\n\r\nResult of that will be migration that regenerates sessionId **column**.  If the entity lacks precision specifier, and the above scenario is re-ran it will produce no second **AnyName2** migration.\r\n\r\n\r\n\r\nThe issue is similar to these ones where the precision triggers non existing difference observation by the migration generator:\r\nhttps://github.com/typeorm/typeorm/issues/1960\r\nhttps://github.com/typeorm/typeorm/issues/2943","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3441/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/3441/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/479580187","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-479580187","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":479580187,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTU4MDE4Nw==","user":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T17:17:22Z","updated_at":"2019-04-05T00:00:08Z","body":"Having the same issue now ( \"typeorm\": \"^0.2.16\") for simple cols.\r\n```ts\r\n/**\r\n * stateRef\r\n */\r\n@Column({ unique: true, unsigned: true, nullable: true })\r\npublic stateRef: number;\r\n```\r\n**No pending migrations, but migration generator generates:**\r\n```ts\r\nexport class testmigration1554311517855 implements MigrationInterface {\r\n\r\n    public async up(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(\"ALTER TABLE `user` CHANGE `state_ref` `state_ref` int UNSIGNED NULL\");\r\n    }\r\n\r\n    public async down(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(\"ALTER TABLE `user` CHANGE `state_ref` `state_ref` int(10) UNSIGNED NULL\");\r\n    }\r\n\r\n}\r\n```\r\n\r\nSeems to be something between `int` and `int(10)`, which is the value from the DB.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/479580187/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/481925876","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-481925876","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":481925876,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTkyNTg3Ng==","user":{"login":"oeed","id":3835991,"node_id":"MDQ6VXNlcjM4MzU5OTE=","avatar_url":"https://avatars.githubusercontent.com/u/3835991?v=4","gravatar_id":"","url":"https://api.github.com/users/oeed","html_url":"https://github.com/oeed","followers_url":"https://api.github.com/users/oeed/followers","following_url":"https://api.github.com/users/oeed/following{/other_user}","gists_url":"https://api.github.com/users/oeed/gists{/gist_id}","starred_url":"https://api.github.com/users/oeed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oeed/subscriptions","organizations_url":"https://api.github.com/users/oeed/orgs","repos_url":"https://api.github.com/users/oeed/repos","events_url":"https://api.github.com/users/oeed/events{/privacy}","received_events_url":"https://api.github.com/users/oeed/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T01:01:15Z","updated_at":"2019-04-11T01:01:15Z","body":"Have the exact same issue... anyone know of a fix/work around?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/481925876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oeed","id":3835991,"node_id":"MDQ6VXNlcjM4MzU5OTE=","avatar_url":"https://avatars.githubusercontent.com/u/3835991?v=4","gravatar_id":"","url":"https://api.github.com/users/oeed","html_url":"https://github.com/oeed","followers_url":"https://api.github.com/users/oeed/followers","following_url":"https://api.github.com/users/oeed/following{/other_user}","gists_url":"https://api.github.com/users/oeed/gists{/gist_id}","starred_url":"https://api.github.com/users/oeed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oeed/subscriptions","organizations_url":"https://api.github.com/users/oeed/orgs","repos_url":"https://api.github.com/users/oeed/repos","events_url":"https://api.github.com/users/oeed/events{/privacy}","received_events_url":"https://api.github.com/users/oeed/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/483835732","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-483835732","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":483835732,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzgzNTczMg==","user":{"login":"danielsantiago","id":619122,"node_id":"MDQ6VXNlcjYxOTEyMg==","avatar_url":"https://avatars.githubusercontent.com/u/619122?v=4","gravatar_id":"","url":"https://api.github.com/users/danielsantiago","html_url":"https://github.com/danielsantiago","followers_url":"https://api.github.com/users/danielsantiago/followers","following_url":"https://api.github.com/users/danielsantiago/following{/other_user}","gists_url":"https://api.github.com/users/danielsantiago/gists{/gist_id}","starred_url":"https://api.github.com/users/danielsantiago/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielsantiago/subscriptions","organizations_url":"https://api.github.com/users/danielsantiago/orgs","repos_url":"https://api.github.com/users/danielsantiago/repos","events_url":"https://api.github.com/users/danielsantiago/events{/privacy}","received_events_url":"https://api.github.com/users/danielsantiago/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T20:43:56Z","updated_at":"2019-04-16T20:43:56Z","body":"Having the same problem","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/483835732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielsantiago","id":619122,"node_id":"MDQ6VXNlcjYxOTEyMg==","avatar_url":"https://avatars.githubusercontent.com/u/619122?v=4","gravatar_id":"","url":"https://api.github.com/users/danielsantiago","html_url":"https://github.com/danielsantiago","followers_url":"https://api.github.com/users/danielsantiago/followers","following_url":"https://api.github.com/users/danielsantiago/following{/other_user}","gists_url":"https://api.github.com/users/danielsantiago/gists{/gist_id}","starred_url":"https://api.github.com/users/danielsantiago/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielsantiago/subscriptions","organizations_url":"https://api.github.com/users/danielsantiago/orgs","repos_url":"https://api.github.com/users/danielsantiago/repos","events_url":"https://api.github.com/users/danielsantiago/events{/privacy}","received_events_url":"https://api.github.com/users/danielsantiago/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/493000566","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-493000566","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":493000566,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzAwMDU2Ng==","user":{"login":"timothyvanderaerden","id":7502104,"node_id":"MDQ6VXNlcjc1MDIxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7502104?v=4","gravatar_id":"","url":"https://api.github.com/users/timothyvanderaerden","html_url":"https://github.com/timothyvanderaerden","followers_url":"https://api.github.com/users/timothyvanderaerden/followers","following_url":"https://api.github.com/users/timothyvanderaerden/following{/other_user}","gists_url":"https://api.github.com/users/timothyvanderaerden/gists{/gist_id}","starred_url":"https://api.github.com/users/timothyvanderaerden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timothyvanderaerden/subscriptions","organizations_url":"https://api.github.com/users/timothyvanderaerden/orgs","repos_url":"https://api.github.com/users/timothyvanderaerden/repos","events_url":"https://api.github.com/users/timothyvanderaerden/events{/privacy}","received_events_url":"https://api.github.com/users/timothyvanderaerden/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T09:52:04Z","updated_at":"2019-05-16T09:52:04Z","body":"Specifying the width solved it for me.\r\n\r\n```javascript\r\n/**\r\n * stateRef\r\n */\r\n@Column({ unique: true, unsigned: true, nullable: true, width: 10 })\r\npublic stateRef: number;\r\n```\r\n\r\nIf you want to set it on a primary generated column you can do it like:\r\n```javascript\r\n@PrimaryColumn({ type: 'int', width: 10, unsigned: true })\r\n@Generated()\r\npublic id: number;\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/493000566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"timothyvanderaerden","id":7502104,"node_id":"MDQ6VXNlcjc1MDIxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7502104?v=4","gravatar_id":"","url":"https://api.github.com/users/timothyvanderaerden","html_url":"https://github.com/timothyvanderaerden","followers_url":"https://api.github.com/users/timothyvanderaerden/followers","following_url":"https://api.github.com/users/timothyvanderaerden/following{/other_user}","gists_url":"https://api.github.com/users/timothyvanderaerden/gists{/gist_id}","starred_url":"https://api.github.com/users/timothyvanderaerden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timothyvanderaerden/subscriptions","organizations_url":"https://api.github.com/users/timothyvanderaerden/orgs","repos_url":"https://api.github.com/users/timothyvanderaerden/repos","events_url":"https://api.github.com/users/timothyvanderaerden/events{/privacy}","received_events_url":"https://api.github.com/users/timothyvanderaerden/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/493682228","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-493682228","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":493682228,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzY4MjIyOA==","user":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-18T14:43:08Z","updated_at":"2019-05-18T14:43:08Z","body":"> Specifying the width solved it for me.\r\n\r\nThis worked for me too\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/493682228/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"SteveByerly","id":1393464,"node_id":"MDQ6VXNlcjEzOTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1393464?v=4","gravatar_id":"","url":"https://api.github.com/users/SteveByerly","html_url":"https://github.com/SteveByerly","followers_url":"https://api.github.com/users/SteveByerly/followers","following_url":"https://api.github.com/users/SteveByerly/following{/other_user}","gists_url":"https://api.github.com/users/SteveByerly/gists{/gist_id}","starred_url":"https://api.github.com/users/SteveByerly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SteveByerly/subscriptions","organizations_url":"https://api.github.com/users/SteveByerly/orgs","repos_url":"https://api.github.com/users/SteveByerly/repos","events_url":"https://api.github.com/users/SteveByerly/events{/privacy}","received_events_url":"https://api.github.com/users/SteveByerly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T07:26:22Z","updated_at":"2019-09-27T07:26:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/4822","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/4822/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/4822/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/4822/events","html_url":"https://github.com/typeorm/typeorm/pull/4822","id":499282899,"node_id":"MDExOlB1bGxSZXF1ZXN0MzIyMDM0NjQz","number":4822,"title":"fix: resolve MySQL unique index check when bigNumberStrings is false","user":{"login":"SteveByerly","id":1393464,"node_id":"MDQ6VXNlcjEzOTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1393464?v=4","gravatar_id":"","url":"https://api.github.com/users/SteveByerly","html_url":"https://github.com/SteveByerly","followers_url":"https://api.github.com/users/SteveByerly/followers","following_url":"https://api.github.com/users/SteveByerly/following{/other_user}","gists_url":"https://api.github.com/users/SteveByerly/gists{/gist_id}","starred_url":"https://api.github.com/users/SteveByerly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SteveByerly/subscriptions","organizations_url":"https://api.github.com/users/SteveByerly/orgs","repos_url":"https://api.github.com/users/SteveByerly/repos","events_url":"https://api.github.com/users/SteveByerly/events{/privacy}","received_events_url":"https://api.github.com/users/SteveByerly/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-09-27T07:26:22Z","updated_at":"2020-08-25T20:13:02Z","closed_at":"2019-10-18T20:52:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/typeorm/typeorm/pulls/4822","html_url":"https://github.com/typeorm/typeorm/pull/4822","diff_url":"https://github.com/typeorm/typeorm/pull/4822.diff","patch_url":"https://github.com/typeorm/typeorm/pull/4822.patch","merged_at":"2019-10-18T20:52:32Z"},"body":"Part of fix for #2737 and #2943","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/4822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/4822/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/617747510","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-617747510","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":617747510,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzc0NzUxMA==","user":{"login":"Ponjimon","id":770632,"node_id":"MDQ6VXNlcjc3MDYzMg==","avatar_url":"https://avatars.githubusercontent.com/u/770632?v=4","gravatar_id":"","url":"https://api.github.com/users/Ponjimon","html_url":"https://github.com/Ponjimon","followers_url":"https://api.github.com/users/Ponjimon/followers","following_url":"https://api.github.com/users/Ponjimon/following{/other_user}","gists_url":"https://api.github.com/users/Ponjimon/gists{/gist_id}","starred_url":"https://api.github.com/users/Ponjimon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ponjimon/subscriptions","organizations_url":"https://api.github.com/users/Ponjimon/orgs","repos_url":"https://api.github.com/users/Ponjimon/repos","events_url":"https://api.github.com/users/Ponjimon/events{/privacy}","received_events_url":"https://api.github.com/users/Ponjimon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T12:25:33Z","updated_at":"2020-04-22T12:25:33Z","body":"Why is this still open? This workaround is not a solution for this issue, it only adds more unnecessary work.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/617747510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ponjimon","id":770632,"node_id":"MDQ6VXNlcjc3MDYzMg==","avatar_url":"https://avatars.githubusercontent.com/u/770632?v=4","gravatar_id":"","url":"https://api.github.com/users/Ponjimon","html_url":"https://github.com/Ponjimon","followers_url":"https://api.github.com/users/Ponjimon/followers","following_url":"https://api.github.com/users/Ponjimon/following{/other_user}","gists_url":"https://api.github.com/users/Ponjimon/gists{/gist_id}","starred_url":"https://api.github.com/users/Ponjimon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ponjimon/subscriptions","organizations_url":"https://api.github.com/users/Ponjimon/orgs","repos_url":"https://api.github.com/users/Ponjimon/repos","events_url":"https://api.github.com/users/Ponjimon/events{/privacy}","received_events_url":"https://api.github.com/users/Ponjimon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T08:20:36Z","updated_at":"2020-05-08T08:20:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/333","repository_url":"https://api.github.com/repos/vendure-ecommerce/vendure","labels_url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/333/labels{/name}","comments_url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/333/comments","events_url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/333/events","html_url":"https://github.com/vendure-ecommerce/vendure/issues/333","id":614589668,"node_id":"MDU6SXNzdWU2MTQ1ODk2Njg=","number":333,"title":"Database migration issues (unnecessary queries generated) [Summary Issue]","user":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":999574593,"node_id":"MDU6TGFiZWw5OTk1NzQ1OTM=","url":"https://api.github.com/repos/vendure-ecommerce/vendure/labels/@vendure/core","name":"@vendure/core","color":"eeeeff","default":false,"description":""},{"id":1646832038,"node_id":"MDU6TGFiZWwxNjQ2ODMyMDM4","url":"https://api.github.com/repos/vendure-ecommerce/vendure/labels/%F0%9F%91%8B%20contributions%20welcome","name":"ðŸ‘‹ contributions welcome","color":"c3ffaf","default":false,"description":"Issues where we appreciate contributions from our community"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2020-05-08T08:20:36Z","updated_at":"2024-05-18T13:10:24Z","closed_at":"2020-09-10T07:32:04Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":136938012,"node_id":"MDEwOlJlcG9zaXRvcnkxMzY5MzgwMTI=","name":"vendure","full_name":"vendure-ecommerce/vendure","private":false,"owner":{"login":"vendure-ecommerce","id":39629390,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM5NjI5Mzkw","avatar_url":"https://avatars.githubusercontent.com/u/39629390?v=4","gravatar_id":"","url":"https://api.github.com/users/vendure-ecommerce","html_url":"https://github.com/vendure-ecommerce","followers_url":"https://api.github.com/users/vendure-ecommerce/followers","following_url":"https://api.github.com/users/vendure-ecommerce/following{/other_user}","gists_url":"https://api.github.com/users/vendure-ecommerce/gists{/gist_id}","starred_url":"https://api.github.com/users/vendure-ecommerce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vendure-ecommerce/subscriptions","organizations_url":"https://api.github.com/users/vendure-ecommerce/orgs","repos_url":"https://api.github.com/users/vendure-ecommerce/repos","events_url":"https://api.github.com/users/vendure-ecommerce/events{/privacy}","received_events_url":"https://api.github.com/users/vendure-ecommerce/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vendure-ecommerce/vendure","description":"The most customizable commerce platform built with TypeScript, NestJS and GraphQL. ","fork":false,"url":"https://api.github.com/repos/vendure-ecommerce/vendure","forks_url":"https://api.github.com/repos/vendure-ecommerce/vendure/forks","keys_url":"https://api.github.com/repos/vendure-ecommerce/vendure/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vendure-ecommerce/vendure/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vendure-ecommerce/vendure/teams","hooks_url":"https://api.github.com/repos/vendure-ecommerce/vendure/hooks","issue_events_url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/events{/number}","events_url":"https://api.github.com/repos/vendure-ecommerce/vendure/events","assignees_url":"https://api.github.com/repos/vendure-ecommerce/vendure/assignees{/user}","branches_url":"https://api.github.com/repos/vendure-ecommerce/vendure/branches{/branch}","tags_url":"https://api.github.com/repos/vendure-ecommerce/vendure/tags","blobs_url":"https://api.github.com/repos/vendure-ecommerce/vendure/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vendure-ecommerce/vendure/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vendure-ecommerce/vendure/git/refs{/sha}","trees_url":"https://api.github.com/repos/vendure-ecommerce/vendure/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vendure-ecommerce/vendure/statuses/{sha}","languages_url":"https://api.github.com/repos/vendure-ecommerce/vendure/languages","stargazers_url":"https://api.github.com/repos/vendure-ecommerce/vendure/stargazers","contributors_url":"https://api.github.com/repos/vendure-ecommerce/vendure/contributors","subscribers_url":"https://api.github.com/repos/vendure-ecommerce/vendure/subscribers","subscription_url":"https://api.github.com/repos/vendure-ecommerce/vendure/subscription","commits_url":"https://api.github.com/repos/vendure-ecommerce/vendure/commits{/sha}","git_commits_url":"https://api.github.com/repos/vendure-ecommerce/vendure/git/commits{/sha}","comments_url":"https://api.github.com/repos/vendure-ecommerce/vendure/comments{/number}","issue_comment_url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/comments{/number}","contents_url":"https://api.github.com/repos/vendure-ecommerce/vendure/contents/{+path}","compare_url":"https://api.github.com/repos/vendure-ecommerce/vendure/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vendure-ecommerce/vendure/merges","archive_url":"https://api.github.com/repos/vendure-ecommerce/vendure/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vendure-ecommerce/vendure/downloads","issues_url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues{/number}","pulls_url":"https://api.github.com/repos/vendure-ecommerce/vendure/pulls{/number}","milestones_url":"https://api.github.com/repos/vendure-ecommerce/vendure/milestones{/number}","notifications_url":"https://api.github.com/repos/vendure-ecommerce/vendure/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vendure-ecommerce/vendure/labels{/name}","releases_url":"https://api.github.com/repos/vendure-ecommerce/vendure/releases{/id}","deployments_url":"https://api.github.com/repos/vendure-ecommerce/vendure/deployments","created_at":"2018-06-11T14:29:20Z","updated_at":"2025-11-09T03:11:21Z","pushed_at":"2025-11-07T15:56:09Z","git_url":"git://github.com/vendure-ecommerce/vendure.git","ssh_url":"git@github.com:vendure-ecommerce/vendure.git","clone_url":"https://github.com/vendure-ecommerce/vendure.git","svn_url":"https://github.com/vendure-ecommerce/vendure","homepage":"https://www.vendure.io","size":113870,"stargazers_count":6685,"watchers_count":6685,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1200,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":320,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ecommerce","ecommerce-api","ecommerce-framework","ecommerce-platform","graphql","graphql-commerce","headless","headless-commerce","nestjs","nodejs","nodejs-ecommerce","shopping-cart"],"visibility":"public","forks":1200,"open_issues":320,"watchers":6685,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Problem\r\n\r\nVendure uses TypeORM to manage database access, schema creation and schema migration.\r\n\r\nOverall TypeORM is great but currently the biggest pain point is migrations - there are numerous issues which cause TypeORM to generate unnecessary queries when generating migrations. Here is a collection of such issues currently open on the TypeORM repo:\r\n\r\n* Postgres: migration:generate drops and recreates all FKs continuously: https://github.com/typeorm/typeorm/issues/5655\r\n* migration issue: https://github.com/typeorm/typeorm/issues/5159\r\n* Unique index gets droppped and generated each time I use \"typeorm migration:generate\": https://github.com/typeorm/typeorm/issues/3841\r\n* Migration generate continuously repeats entries: https://github.com/typeorm/typeorm/issues/3280 (PR fix for Postgres is open (https://github.com/typeorm/typeorm/issues/3280))\r\n* migration:generate continuously updates default values: https://github.com/typeorm/typeorm/issues/3076\r\n* Inappropriate migration generated: https://github.com/typeorm/typeorm/issues/2943\r\n* Queries generated with function as DEFAULT still generated later on migrations: https://github.com/typeorm/typeorm/issues/1729\r\n\r\nBroadly, most of the issues fall into the following categories:\r\n\r\n1. Foreign keys & indexes getting needlessly dropped & created on each migration\r\n2. Column defaults getting needlessly re-defined on each migration\r\n\r\n## Cause\r\n\r\nIn the file [RdbmsSchemaBuilder.ts](https://github.com/typeorm/typeorm/blob/e92c743fb54fc404658fcaf2254861b6aa63bd98/src/schema-builder/RdbmsSchemaBuilder.ts#L28-L42) the algorithm for building a schema is given as:\r\n\r\n```ts\r\n/**\r\n * Creates complete tables schemas in the database based on the entity metadatas.\r\n *\r\n * Steps how schema is being built:\r\n * 1. load list of all tables with complete column and keys information from the db\r\n * 2. drop all (old) foreign keys that exist in the table, but does not exist in the metadata\r\n * 3. create new tables that does not exist in the db, but exist in the metadata\r\n * 4. drop all columns exist (left old) in the db table, but does not exist in the metadata\r\n * 5. add columns from metadata which does not exist in the table\r\n * 6. update all exist columns which metadata has changed\r\n * 7. update primary keys - update old and create new primary key from changed columns\r\n * 8. create foreign keys which does not exist in the table yet\r\n * 9. create indices which are missing in db yet, and drops indices which exist in the db, but does not exist in the metadata anymore\r\n */\r\n```\r\n\r\nThe root cause is that the logic for establishing the equality of foreign keys, indices and columns is faulty in some cases. \r\n\r\nEach DB type has a corresponding QueryRunner implementation, e.g. [MysqlQueryRunner](https://github.com/typeorm/typeorm/blob/master/src/driver/mysql/MysqlQueryRunner.ts), [PostgresQueryRunner](https://github.com/typeorm/typeorm/blob/master/src/driver/postgres/PostgresQueryRunner.ts). Each QueryRunner implements a [`loadTables()`](https://github.com/typeorm/typeorm/blob/e92c743fb54fc404658fcaf2254861b6aa63bd98/src/driver/mysql/MysqlQueryRunner.ts#L1189) method, which returns a [`Table`](https://github.com/typeorm/typeorm/blob/e92c743fb54fc404658fcaf2254861b6aa63bd98/src/schema-builder/table/Table.ts#L15) object containing metadata on columns, indices, foreign keys etc.\r\n\r\nThis `Table` object is then used in the [`RdbmsSchemaBuilder.executeSchemaSyncOperationsInProperOrder()`](https://github.com/typeorm/typeorm/blob/e92c743fb54fc404658fcaf2254861b6aa63bd98/src/schema-builder/RdbmsSchemaBuilder.ts#L156) method:\r\n```ts\r\n    /**\r\n     * Executes schema sync operations in a proper order.\r\n     * Order of operations matter here.\r\n     */\r\n    protected async executeSchemaSyncOperationsInProperOrder(): Promise<void> {\r\n        await this.dropOldViews();\r\n        await this.dropOldForeignKeys();\r\n        await this.dropOldIndices();\r\n        await this.dropOldChecks();\r\n        await this.dropOldExclusions();\r\n        await this.dropCompositeUniqueConstraints();\r\n        // await this.renameTables();\r\n        await this.renameColumns();\r\n        await this.createNewTables();\r\n        await this.dropRemovedColumns();\r\n        await this.addNewColumns();\r\n        await this.updatePrimaryKeys();\r\n        await this.updateExistColumns();\r\n        await this.createNewIndices();\r\n        await this.createNewChecks();\r\n        await this.createNewExclusions();\r\n        await this.createCompositeUniqueConstraints();\r\n        await this.createForeignKeys();\r\n        await this.createViews();\r\n    }\r\n```\r\n\r\nIf we take, for example, the [`dropOldForeignKeys()`](https://github.com/typeorm/typeorm/blob/e92c743fb54fc404658fcaf2254861b6aa63bd98/src/schema-builder/RdbmsSchemaBuilder.ts#L189-L201) method, we then see this logic which compares foreign keys _defined in the TypeORM decorators metadata_ vs those _extracted from the DB tables_:\r\n\r\n```ts\r\n// find foreign keys that exist in the schemas but does not exist in the entity metadata\r\nconst tableForeignKeysToDrop = table.foreignKeys.filter(tableForeignKey => {\r\n  const metadataFK = metadata.foreignKeys.find(metadataForeignKey => foreignKeysMatch(tableForeignKey, metadataForeignKey));\r\n  return !metadataFK\r\n    || (metadataFK.onDelete && metadataFK.onDelete !== tableForeignKey.onDelete)\r\n    || (metadataFK.onUpdate && metadataFK.onUpdate !== tableForeignKey.onUpdate);\r\n });\r\n```\r\n\r\nSo for example, I found that a relation defined as\r\n\r\n```ts\r\n @ManyToOne((type) => Asset, {onDelete: \"SET NULL\", nullable: true})\r\n```\r\n\r\nwould lead to the \"foreign key dropped & re-created on every migration\" issue. Digging in, I traced it to the line which compares `metadataFK.onDelete !== tableForeignKey.onDelete`. The `MysqlQueryRunner` was returning the `onDelete` value as `NO ACTION` rather than `SET NULL`, causing TypeORM to think it is different and needs to be dropped.\r\n\r\nThe specific reasons for the error varies between each DB QueryRunner implementation, so it looks like each issue needs to be tested against each DB type as they will not all exist uniformly across DB types.\r\n\r\n## Solution\r\n\r\nI've spent some time digging in to this and there seems to be no single fix for all of them - each one would require some investigation into the DB-specific `QueryRunner.loadTables()` implementation.\r\n\r\nUnfortunately I am no SQL / DB expert and diving in to this now would take me away from more pressing Vendure issues that need attention.\r\n\r\n### First step: tests\r\n\r\nI propose that, as a first step, a series of tests be created for TypeORM which demonstrate the various migration issues. For example, here is a test which will fail due to the foreign key issue described above: \r\n\r\nhttps://gist.github.com/michaelbromley/99eecfe6d7efbc2fbb37f7cbec7b84b2\r\n\r\nOnce there is a suite of tests which fail on these issues, then work can start on fixing them. I am hoping community members with deeper knowledge of the RDBMSs involved can step in and help on these.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/333/reactions","total_count":9,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"timeline_url":"https://api.github.com/repos/vendure-ecommerce/vendure/issues/333/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/629575642","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-629575642","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":629575642,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU3NTY0Mg==","user":{"login":"twigs67","id":15682296,"node_id":"MDQ6VXNlcjE1NjgyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/15682296?v=4","gravatar_id":"","url":"https://api.github.com/users/twigs67","html_url":"https://github.com/twigs67","followers_url":"https://api.github.com/users/twigs67/followers","following_url":"https://api.github.com/users/twigs67/following{/other_user}","gists_url":"https://api.github.com/users/twigs67/gists{/gist_id}","starred_url":"https://api.github.com/users/twigs67/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twigs67/subscriptions","organizations_url":"https://api.github.com/users/twigs67/orgs","repos_url":"https://api.github.com/users/twigs67/repos","events_url":"https://api.github.com/users/twigs67/events{/privacy}","received_events_url":"https://api.github.com/users/twigs67/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T02:29:34Z","updated_at":"2020-05-16T02:29:34Z","body":"Where in the documentation does it say how TO CREATE A COLUMN AND MAKE THE DEFAULT NULL?!?!?!!?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/629575642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"twigs67","id":15682296,"node_id":"MDQ6VXNlcjE1NjgyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/15682296?v=4","gravatar_id":"","url":"https://api.github.com/users/twigs67","html_url":"https://github.com/twigs67","followers_url":"https://api.github.com/users/twigs67/followers","following_url":"https://api.github.com/users/twigs67/following{/other_user}","gists_url":"https://api.github.com/users/twigs67/gists{/gist_id}","starred_url":"https://api.github.com/users/twigs67/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twigs67/subscriptions","organizations_url":"https://api.github.com/users/twigs67/orgs","repos_url":"https://api.github.com/users/twigs67/repos","events_url":"https://api.github.com/users/twigs67/events{/privacy}","received_events_url":"https://api.github.com/users/twigs67/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/629594961","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-629594961","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":629594961,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU5NDk2MQ==","user":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T06:10:30Z","updated_at":"2020-05-16T06:11:48Z","body":"@twigs67 is this relevant for this issue?\r\nAs shown in my [example](https://github.com/typeorm/typeorm/issues/2943#issue-371088900) `default: () => 'NULL'`, or set `nullable: true`\r\n```ts\r\n   /**\r\n    * created\r\n    */\r\n   @Column('datetime', {\r\n      nullable: false,\r\n      default: () => 'CURRENT_TIMESTAMP',\r\n      name: 'created'\r\n   })\r\n   public created: Date;\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/629594961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3343266649,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzM0MzI2NjY0OQ==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3343266649","actor":{"login":"twigs67","id":15682296,"node_id":"MDQ6VXNlcjE1NjgyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/15682296?v=4","gravatar_id":"","url":"https://api.github.com/users/twigs67","html_url":"https://github.com/twigs67","followers_url":"https://api.github.com/users/twigs67/followers","following_url":"https://api.github.com/users/twigs67/following{/other_user}","gists_url":"https://api.github.com/users/twigs67/gists{/gist_id}","starred_url":"https://api.github.com/users/twigs67/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twigs67/subscriptions","organizations_url":"https://api.github.com/users/twigs67/orgs","repos_url":"https://api.github.com/users/twigs67/repos","events_url":"https://api.github.com/users/twigs67/events{/privacy}","received_events_url":"https://api.github.com/users/twigs67/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-16T06:10:30Z","performed_via_github_app":null},{"id":3343266651,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzNDMyNjY2NTE=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3343266651","actor":{"login":"twigs67","id":15682296,"node_id":"MDQ6VXNlcjE1NjgyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/15682296?v=4","gravatar_id":"","url":"https://api.github.com/users/twigs67","html_url":"https://github.com/twigs67","followers_url":"https://api.github.com/users/twigs67/followers","following_url":"https://api.github.com/users/twigs67/following{/other_user}","gists_url":"https://api.github.com/users/twigs67/gists{/gist_id}","starred_url":"https://api.github.com/users/twigs67/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twigs67/subscriptions","organizations_url":"https://api.github.com/users/twigs67/orgs","repos_url":"https://api.github.com/users/twigs67/repos","events_url":"https://api.github.com/users/twigs67/events{/privacy}","received_events_url":"https://api.github.com/users/twigs67/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-16T06:10:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/629641458","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-629641458","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":629641458,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTY0MTQ1OA==","user":{"login":"twigs67","id":15682296,"node_id":"MDQ6VXNlcjE1NjgyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/15682296?v=4","gravatar_id":"","url":"https://api.github.com/users/twigs67","html_url":"https://github.com/twigs67","followers_url":"https://api.github.com/users/twigs67/followers","following_url":"https://api.github.com/users/twigs67/following{/other_user}","gists_url":"https://api.github.com/users/twigs67/gists{/gist_id}","starred_url":"https://api.github.com/users/twigs67/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twigs67/subscriptions","organizations_url":"https://api.github.com/users/twigs67/orgs","repos_url":"https://api.github.com/users/twigs67/repos","events_url":"https://api.github.com/users/twigs67/events{/privacy}","received_events_url":"https://api.github.com/users/twigs67/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T12:54:38Z","updated_at":"2020-05-16T12:54:38Z","body":"@btxtiger it is not. Apologies. I was a having a few beverages while trying to fix what I thought would be really easy - it was not.\r\n\r\nI didn't even ask the right question. I was looking for documentation on making a column nullable within migrations. I never found it, so I ended up creating a raw query like so, ` await queryRunner.query('ALTER TABLE someTable ADD COLUMN someColumn VARCHAR(255) DEFAULT NULL;');`. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/629641458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"twigs67","id":15682296,"node_id":"MDQ6VXNlcjE1NjgyMjk2","avatar_url":"https://avatars.githubusercontent.com/u/15682296?v=4","gravatar_id":"","url":"https://api.github.com/users/twigs67","html_url":"https://github.com/twigs67","followers_url":"https://api.github.com/users/twigs67/followers","following_url":"https://api.github.com/users/twigs67/following{/other_user}","gists_url":"https://api.github.com/users/twigs67/gists{/gist_id}","starred_url":"https://api.github.com/users/twigs67/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twigs67/subscriptions","organizations_url":"https://api.github.com/users/twigs67/orgs","repos_url":"https://api.github.com/users/twigs67/repos","events_url":"https://api.github.com/users/twigs67/events{/privacy}","received_events_url":"https://api.github.com/users/twigs67/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3343573934,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzM0MzU3MzkzNA==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3343573934","actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-16T12:54:38Z","performed_via_github_app":null},{"id":3343573935,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzNDM1NzM5MzU=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3343573935","actor":{"login":"jonaaix","id":15804690,"node_id":"MDQ6VXNlcjE1ODA0Njkw","avatar_url":"https://avatars.githubusercontent.com/u/15804690?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaaix","html_url":"https://github.com/jonaaix","followers_url":"https://api.github.com/users/jonaaix/followers","following_url":"https://api.github.com/users/jonaaix/following{/other_user}","gists_url":"https://api.github.com/users/jonaaix/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaaix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaaix/subscriptions","organizations_url":"https://api.github.com/users/jonaaix/orgs","repos_url":"https://api.github.com/users/jonaaix/repos","events_url":"https://api.github.com/users/jonaaix/events{/privacy}","received_events_url":"https://api.github.com/users/jonaaix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-16T12:54:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/682490757","html_url":"https://github.com/typeorm/typeorm/issues/2943#issuecomment-682490757","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/2943","id":682490757,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjQ5MDc1Nw==","user":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T12:11:09Z","updated_at":"2020-08-28T13:20:49Z","body":"Here's the root cause of this issue (applies to MariaDB only, as far as I can tell):\r\n\r\nWhen no `width` is specified for a numeric type, this hash is consulted to figure out what the default width should be:\r\n\r\nhttps://github.com/typeorm/typeorm/blob/d1ed5723bb55d4124be13b21e57d9f729d0bae1a/src/driver/mysql/MysqlDriver.ts#L261-L288\r\n\r\nFor example, with an `int` type, the width is given as `11`. Why?\r\n\r\n> The number for each type of integer by default is same as the number of characters in the largest negative value of that type. The largest negative value for an integer is -2147483648 which is 11 characters and hence the default display width is 11\r\nsource: https://www.virendrachandak.com/techtalk/mysql-int11-what-does-it-means\r\n\r\n**However** the default width of an _unsigned_ int is `10`. So when TypeORM encounters a numeric type with no explicit `width`, it will try to infer the value from the hash above:\r\n\r\nhttps://github.com/typeorm/typeorm/blob/d1ed5723bb55d4124be13b21e57d9f729d0bae1a/src/driver/mysql/MysqlQueryRunner.ts#L1301\r\n\r\nAnd will arrive at `11`, whereas in MariaDB the data type will be `INT(10)` (since it is unsigned).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/682490757/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3703955328,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3MDM5NTUzMjg=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3703955328","actor":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"499ebaf2ef5185c8465e22d480c0ba1b95e7f9c9","commit_url":"https://api.github.com/repos/michaelbromley/typeorm-1/commits/499ebaf2ef5185c8465e22d480c0ba1b95e7f9c9","created_at":"2020-08-28T13:32:45Z","performed_via_github_app":null},{"actor":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T13:35:20Z","updated_at":"2020-08-28T13:35:20Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/6632","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/6632/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/6632/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/6632/events","html_url":"https://github.com/typeorm/typeorm/pull/6632","id":688080189,"node_id":"MDExOlB1bGxSZXF1ZXN0NDc1NDEwMzQ5","number":6632,"title":"fix: Unnecessary migrations for unsigned numeric types","user":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-08-28T13:35:20Z","updated_at":"2020-09-10T07:21:27Z","closed_at":"2020-09-10T07:21:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/typeorm/typeorm/pulls/6632","html_url":"https://github.com/typeorm/typeorm/pull/6632","diff_url":"https://github.com/typeorm/typeorm/pull/6632.diff","patch_url":"https://github.com/typeorm/typeorm/pull/6632.patch","merged_at":"2020-09-10T07:21:20Z"},"body":"In MariaDB, unsigned numeric types (`<tiny,small,medium>int`) without an explicit `width` property set would generate migrations on every run. This is due to an error in setting the default width for unsigned types.\r\n\r\nFixes #2943","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/6632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/6632/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3704068026,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3MDQwNjgwMjY=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3704068026","actor":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"46146d874dc073c5d7ccfe1f5bfb86d4c9f70cfd","commit_url":"https://api.github.com/repos/michaelbromley/typeorm-1/commits/46146d874dc073c5d7ccfe1f5bfb86d4c9f70cfd","created_at":"2020-08-28T13:54:48Z","performed_via_github_app":null},{"id":3704470155,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3MDQ0NzAxNTU=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3704470155","actor":{"login":"michaelbromley","id":6275952,"node_id":"MDQ6VXNlcjYyNzU5NTI=","avatar_url":"https://avatars.githubusercontent.com/u/6275952?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbromley","html_url":"https://github.com/michaelbromley","followers_url":"https://api.github.com/users/michaelbromley/followers","following_url":"https://api.github.com/users/michaelbromley/following{/other_user}","gists_url":"https://api.github.com/users/michaelbromley/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbromley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbromley/subscriptions","organizations_url":"https://api.github.com/users/michaelbromley/orgs","repos_url":"https://api.github.com/users/michaelbromley/repos","events_url":"https://api.github.com/users/michaelbromley/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbromley/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b6fef268c1e4bd1a5ef0ceb505a29740b13e88bb","commit_url":"https://api.github.com/repos/michaelbromley/typeorm-1/commits/b6fef268c1e4bd1a5ef0ceb505a29740b13e88bb","created_at":"2020-08-28T15:31:28Z","performed_via_github_app":null},{"id":3749396234,"node_id":"MDExOkNsb3NlZEV2ZW50Mzc0OTM5NjIzNA==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3749396234","actor":{"login":"pleerock","id":1753397,"node_id":"MDQ6VXNlcjE3NTMzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1753397?v=4","gravatar_id":"","url":"https://api.github.com/users/pleerock","html_url":"https://github.com/pleerock","followers_url":"https://api.github.com/users/pleerock/followers","following_url":"https://api.github.com/users/pleerock/following{/other_user}","gists_url":"https://api.github.com/users/pleerock/gists{/gist_id}","starred_url":"https://api.github.com/users/pleerock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pleerock/subscriptions","organizations_url":"https://api.github.com/users/pleerock/orgs","repos_url":"https://api.github.com/users/pleerock/repos","events_url":"https://api.github.com/users/pleerock/events{/privacy}","received_events_url":"https://api.github.com/users/pleerock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-09-10T07:21:20Z","state_reason":null,"performed_via_github_app":null},{"id":3749396636,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3NDkzOTY2MzY=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/3749396636","actor":{"login":"pleerock","id":1753397,"node_id":"MDQ6VXNlcjE3NTMzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1753397?v=4","gravatar_id":"","url":"https://api.github.com/users/pleerock","html_url":"https://github.com/pleerock","followers_url":"https://api.github.com/users/pleerock/followers","following_url":"https://api.github.com/users/pleerock/following{/other_user}","gists_url":"https://api.github.com/users/pleerock/gists{/gist_id}","starred_url":"https://api.github.com/users/pleerock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pleerock/subscriptions","organizations_url":"https://api.github.com/users/pleerock/orgs","repos_url":"https://api.github.com/users/pleerock/repos","events_url":"https://api.github.com/users/pleerock/events{/privacy}","received_events_url":"https://api.github.com/users/pleerock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7ddaf23e4794f463e67691cd30bde10b963f8d7c","commit_url":"https://api.github.com/repos/typeorm/typeorm/commits/7ddaf23e4794f463e67691cd30bde10b963f8d7c","created_at":"2020-09-10T07:21:26Z","performed_via_github_app":null}]