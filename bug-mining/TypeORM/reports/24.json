{"url":"https://api.github.com/repos/typeorm/typeorm/issues/1997","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/1997/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/1997/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/1997/events","html_url":"https://github.com/typeorm/typeorm/issues/1997","id":316704003,"node_id":"MDU6SXNzdWUzMTY3MDQwMDM=","number":1997,"title":"Enum type not working in postgres","user":{"login":"PavanBahuguni","id":14247281,"node_id":"MDQ6VXNlcjE0MjQ3Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/14247281?v=4","gravatar_id":"","url":"https://api.github.com/users/PavanBahuguni","html_url":"https://github.com/PavanBahuguni","followers_url":"https://api.github.com/users/PavanBahuguni/followers","following_url":"https://api.github.com/users/PavanBahuguni/following{/other_user}","gists_url":"https://api.github.com/users/PavanBahuguni/gists{/gist_id}","starred_url":"https://api.github.com/users/PavanBahuguni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PavanBahuguni/subscriptions","organizations_url":"https://api.github.com/users/PavanBahuguni/orgs","repos_url":"https://api.github.com/users/PavanBahuguni/repos","events_url":"https://api.github.com/users/PavanBahuguni/events{/privacy}","received_events_url":"https://api.github.com/users/PavanBahuguni/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":333605711,"node_id":"MDU6TGFiZWwzMzM2MDU3MTE=","url":"https://api.github.com/repos/typeorm/typeorm/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":628502779,"node_id":"MDU6TGFiZWw2Mjg1MDI3Nzk=","url":"https://api.github.com/repos/typeorm/typeorm/labels/comp:%20schema%20sync","name":"comp: schema sync","color":"1d76db","default":false,"description":null},{"id":712054568,"node_id":"MDU6TGFiZWw3MTIwNTQ1Njg=","url":"https://api.github.com/repos/typeorm/typeorm/labels/driver:%20postgres","name":"driver: postgres","color":"0052cc","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"AlexMesser","id":17142628,"node_id":"MDQ6VXNlcjE3MTQyNjI4","avatar_url":"https://avatars.githubusercontent.com/u/17142628?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMesser","html_url":"https://github.com/AlexMesser","followers_url":"https://api.github.com/users/AlexMesser/followers","following_url":"https://api.github.com/users/AlexMesser/following{/other_user}","gists_url":"https://api.github.com/users/AlexMesser/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMesser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMesser/subscriptions","organizations_url":"https://api.github.com/users/AlexMesser/orgs","repos_url":"https://api.github.com/users/AlexMesser/repos","events_url":"https://api.github.com/users/AlexMesser/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMesser/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"AlexMesser","id":17142628,"node_id":"MDQ6VXNlcjE3MTQyNjI4","avatar_url":"https://avatars.githubusercontent.com/u/17142628?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMesser","html_url":"https://github.com/AlexMesser","followers_url":"https://api.github.com/users/AlexMesser/followers","following_url":"https://api.github.com/users/AlexMesser/following{/other_user}","gists_url":"https://api.github.com/users/AlexMesser/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMesser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMesser/subscriptions","organizations_url":"https://api.github.com/users/AlexMesser/orgs","repos_url":"https://api.github.com/users/AlexMesser/repos","events_url":"https://api.github.com/users/AlexMesser/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMesser/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":17,"created_at":"2018-04-23T08:07:15Z","updated_at":"2019-01-07T19:24:44Z","closed_at":"2018-11-24T17:03:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Issue type:**\r\n\r\n[ ] question\r\n[x] bug report\r\n[ ] feature request\r\n[ ] documentation issue\r\n\r\n**Database system/driver:**\r\n\r\n[ ] `cordova`\r\n[ ] `mongodb`\r\n[ ] `mssql`\r\n[ ] `mysql` / `mariadb`\r\n[ ] `oracle`\r\n[x] `postgres`\r\n[ ] `sqlite`\r\n[ ] `sqljs`\r\n[ ] `react-native`\r\n\r\n**TypeORM version:**\r\n\r\n[x] `latest`\r\n[ ] `@next`\r\n[ ] `0.2.0` (or put your version here)\r\n\r\n**Steps to reproduce or a small repository showing the problem:**\r\n```\r\ntype Action =\r\n    'add' |\r\n    'update' |\r\n    'delete';\r\n@Entity()\r\nexport class DatasourceAction {\r\n\r\n    @PrimaryColumn()\r\n    id: string;\r\n\r\n    @Column({ name: 'name', type: 'text', unique: true })\r\n    name: string;\r\n\r\n    @Column({ name: 'action', type: 'enum', enum: ['add', 'update', 'delete'] })\r\n    action: Action;\r\n}\r\n```\r\nThe SQL quarries executed are as follows\r\n```\r\nCREATE TYPE \"test\".\"datasource_action_action_enum\" AS ENUM('add', 'update', 'delete')\r\nALTER TABLE \"test\".\"datasource_action\" ADD \"action\" \"datasource_action_action_enum\" NOT NUL\r\n```\r\nand it errors with type \"datasource_action_action_enum\" does not exist\r\n\r\nI think the the ALTER TABLE query should have been as follows.\r\nALTER TABLE \"test\".\"datasource_action\" ADD \"action\" \"test\".\"datasource_action_action_enum\" NOT NUL","closed_by":{"login":"pleerock","id":1753397,"node_id":"MDQ6VXNlcjE3NTMzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1753397?v=4","gravatar_id":"","url":"https://api.github.com/users/pleerock","html_url":"https://github.com/pleerock","followers_url":"https://api.github.com/users/pleerock/followers","following_url":"https://api.github.com/users/pleerock/following{/other_user}","gists_url":"https://api.github.com/users/pleerock/gists{/gist_id}","starred_url":"https://api.github.com/users/pleerock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pleerock/subscriptions","organizations_url":"https://api.github.com/users/pleerock/orgs","repos_url":"https://api.github.com/users/pleerock/repos","events_url":"https://api.github.com/users/pleerock/events{/privacy}","received_events_url":"https://api.github.com/users/pleerock/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/1997/reactions","total_count":21,"+1":18,"-1":0,"laugh":0,"hooray":0,"confused":3,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/1997/timeline","performed_via_github_app":null,"state_reason":"completed"}