[{"id":1568486302,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxNTY4NDg2MzAy","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1568486302","actor":{"login":"pleerock","id":1753397,"node_id":"MDQ6VXNlcjE3NTMzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1753397?v=4","gravatar_id":"","url":"https://api.github.com/users/pleerock","html_url":"https://github.com/pleerock","followers_url":"https://api.github.com/users/pleerock/followers","following_url":"https://api.github.com/users/pleerock/following{/other_user}","gists_url":"https://api.github.com/users/pleerock/gists{/gist_id}","starred_url":"https://api.github.com/users/pleerock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pleerock/subscriptions","organizations_url":"https://api.github.com/users/pleerock/orgs","repos_url":"https://api.github.com/users/pleerock/repos","events_url":"https://api.github.com/users/pleerock/events{/privacy}","received_events_url":"https://api.github.com/users/pleerock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2018-04-11T12:59:15Z","assignee":{"login":"AlexMesser","id":17142628,"node_id":"MDQ6VXNlcjE3MTQyNjI4","avatar_url":"https://avatars.githubusercontent.com/u/17142628?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMesser","html_url":"https://github.com/AlexMesser","followers_url":"https://api.github.com/users/AlexMesser/followers","following_url":"https://api.github.com/users/AlexMesser/following{/other_user}","gists_url":"https://api.github.com/users/AlexMesser/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMesser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMesser/subscriptions","organizations_url":"https://api.github.com/users/AlexMesser/orgs","repos_url":"https://api.github.com/users/AlexMesser/repos","events_url":"https://api.github.com/users/AlexMesser/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMesser/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":1568486348,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE1Njg0ODYzNDg=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1568486348","actor":{"login":"pleerock","id":1753397,"node_id":"MDQ6VXNlcjE3NTMzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1753397?v=4","gravatar_id":"","url":"https://api.github.com/users/pleerock","html_url":"https://github.com/pleerock","followers_url":"https://api.github.com/users/pleerock/followers","following_url":"https://api.github.com/users/pleerock/following{/other_user}","gists_url":"https://api.github.com/users/pleerock/gists{/gist_id}","starred_url":"https://api.github.com/users/pleerock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pleerock/subscriptions","organizations_url":"https://api.github.com/users/pleerock/orgs","repos_url":"https://api.github.com/users/pleerock/repos","events_url":"https://api.github.com/users/pleerock/events{/privacy}","received_events_url":"https://api.github.com/users/pleerock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-04-11T12:59:17Z","milestone":{"title":"0.2.0"},"performed_via_github_app":null},{"id":1569519532,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1Njk1MTk1MzI=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1569519532","actor":{"login":"AlexMesser","id":17142628,"node_id":"MDQ6VXNlcjE3MTQyNjI4","avatar_url":"https://avatars.githubusercontent.com/u/17142628?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMesser","html_url":"https://github.com/AlexMesser","followers_url":"https://api.github.com/users/AlexMesser/followers","following_url":"https://api.github.com/users/AlexMesser/following{/other_user}","gists_url":"https://api.github.com/users/AlexMesser/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMesser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMesser/subscriptions","organizations_url":"https://api.github.com/users/AlexMesser/orgs","repos_url":"https://api.github.com/users/AlexMesser/repos","events_url":"https://api.github.com/users/AlexMesser/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMesser/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fd9a5141b3c3d33dd1299c3173653a4b83ef0c9b","commit_url":"https://api.github.com/repos/typeorm/typeorm/commits/fd9a5141b3c3d33dd1299c3173653a4b83ef0c9b","created_at":"2018-04-11T20:30:43Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/380714955","html_url":"https://github.com/typeorm/typeorm/issues/1883#issuecomment-380714955","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/1883","id":380714955,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDcxNDk1NQ==","user":{"login":"AlexMesser","id":17142628,"node_id":"MDQ6VXNlcjE3MTQyNjI4","avatar_url":"https://avatars.githubusercontent.com/u/17142628?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMesser","html_url":"https://github.com/AlexMesser","followers_url":"https://api.github.com/users/AlexMesser/followers","following_url":"https://api.github.com/users/AlexMesser/following{/other_user}","gists_url":"https://api.github.com/users/AlexMesser/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMesser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMesser/subscriptions","organizations_url":"https://api.github.com/users/AlexMesser/orgs","repos_url":"https://api.github.com/users/AlexMesser/repos","events_url":"https://api.github.com/users/AlexMesser/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMesser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T08:04:26Z","updated_at":"2018-04-12T08:04:26Z","body":"fixed and released in `typeorm@0.2.0-alpha.45`. You can try it via `npm i typeorm@next`.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/380714955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexMesser","id":17142628,"node_id":"MDQ6VXNlcjE3MTQyNjI4","avatar_url":"https://avatars.githubusercontent.com/u/17142628?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMesser","html_url":"https://github.com/AlexMesser","followers_url":"https://api.github.com/users/AlexMesser/followers","following_url":"https://api.github.com/users/AlexMesser/following{/other_user}","gists_url":"https://api.github.com/users/AlexMesser/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMesser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMesser/subscriptions","organizations_url":"https://api.github.com/users/AlexMesser/orgs","repos_url":"https://api.github.com/users/AlexMesser/repos","events_url":"https://api.github.com/users/AlexMesser/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMesser/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1570337555,"node_id":"MDExOkNsb3NlZEV2ZW50MTU3MDMzNzU1NQ==","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/1570337555","actor":{"login":"AlexMesser","id":17142628,"node_id":"MDQ6VXNlcjE3MTQyNjI4","avatar_url":"https://avatars.githubusercontent.com/u/17142628?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexMesser","html_url":"https://github.com/AlexMesser","followers_url":"https://api.github.com/users/AlexMesser/followers","following_url":"https://api.github.com/users/AlexMesser/following{/other_user}","gists_url":"https://api.github.com/users/AlexMesser/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexMesser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexMesser/subscriptions","organizations_url":"https://api.github.com/users/AlexMesser/orgs","repos_url":"https://api.github.com/users/AlexMesser/repos","events_url":"https://api.github.com/users/AlexMesser/events{/privacy}","received_events_url":"https://api.github.com/users/AlexMesser/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-04-12T08:04:27Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"laukaichung","id":9678061,"node_id":"MDQ6VXNlcjk2NzgwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/9678061?v=4","gravatar_id":"","url":"https://api.github.com/users/laukaichung","html_url":"https://github.com/laukaichung","followers_url":"https://api.github.com/users/laukaichung/followers","following_url":"https://api.github.com/users/laukaichung/following{/other_user}","gists_url":"https://api.github.com/users/laukaichung/gists{/gist_id}","starred_url":"https://api.github.com/users/laukaichung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laukaichung/subscriptions","organizations_url":"https://api.github.com/users/laukaichung/orgs","repos_url":"https://api.github.com/users/laukaichung/repos","events_url":"https://api.github.com/users/laukaichung/events{/privacy}","received_events_url":"https://api.github.com/users/laukaichung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:11:52Z","updated_at":"2018-04-17T10:11:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/1957","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/1957/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/1957/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/1957/events","html_url":"https://github.com/typeorm/typeorm/issues/1957","id":314993372,"node_id":"MDU6SXNzdWUzMTQ5OTMzNzI=","number":1957,"title":"invalid input value for enum in postgres. Need an example","user":{"login":"laukaichung","id":9678061,"node_id":"MDQ6VXNlcjk2NzgwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/9678061?v=4","gravatar_id":"","url":"https://api.github.com/users/laukaichung","html_url":"https://github.com/laukaichung","followers_url":"https://api.github.com/users/laukaichung/followers","following_url":"https://api.github.com/users/laukaichung/following{/other_user}","gists_url":"https://api.github.com/users/laukaichung/gists{/gist_id}","starred_url":"https://api.github.com/users/laukaichung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laukaichung/subscriptions","organizations_url":"https://api.github.com/users/laukaichung/orgs","repos_url":"https://api.github.com/users/laukaichung/repos","events_url":"https://api.github.com/users/laukaichung/events{/privacy}","received_events_url":"https://api.github.com/users/laukaichung/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-17T10:11:52Z","updated_at":"2020-07-27T08:08:32Z","closed_at":"2018-04-17T11:17:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Issue type:**\r\n\r\n[x] question\r\n[ ] bug report\r\n[ ] feature request\r\n[ ] documentation issue\r\n\r\n**Database system/driver:**\r\n\r\n[ ] `cordova`\r\n[ ] `mongodb`\r\n[ ] `mssql`\r\n[ ] `mysql` / `mariadb`\r\n[ ] `oracle`\r\n[x] `postgres`\r\n[ ] `sqlite`\r\n[ ] `sqljs`\r\n[ ] `websql`\r\n\r\n**TypeORM version:**\r\n\r\n[ ] `latest`\r\n[x] `@next`\r\n[ ] `0.x.x` (or put your version here)\r\n\r\n**Steps to reproduce or a small repository showing the problem:**\r\n\r\nVersion `^0.2.0-alpha.46`\r\n\r\nI've tried the example in https://github.com/typeorm/typeorm/issues/1883 and some other threads to create a enum-type column with a default value in postgres:\r\n````\r\nexport enum PostStatus {\r\n    DELETED,\r\n    NORMAL,\r\n}\r\n````\r\n````\r\n@Entity()\r\nexport class  Report{\r\n\r\n    # 1.\r\n    @Column('enum',{enum:PostStatus,default:PostStatus[PostStatus.NORMAL]})\r\n    status:PostStatus;\r\n\r\n    # 2. Also tried this:\r\n    #@Column('enum',{enum:PostStatus,default:String(PostStatus.NORMAL)})\r\n    #status:PostStatus;\r\n}\r\n````\r\nThe first one throws this error:\r\n `invalid input value for enum report_status_enum: \"NORMAL\"`\r\n\r\nand the second one shows this:\r\n` invalid input value for enum item_review_report_status_enum: \"1\"`\r\n\r\nCan you please show me an example on how to define a enum type in postgres?\r\n","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/1957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/1957/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":2209938990,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMDk5Mzg5OTA=","url":"https://api.github.com/repos/typeorm/typeorm/issues/events/2209938990","actor":{"login":"bbakhrom","id":20213433,"node_id":"MDQ6VXNlcjIwMjEzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/20213433?v=4","gravatar_id":"","url":"https://api.github.com/users/bbakhrom","html_url":"https://github.com/bbakhrom","followers_url":"https://api.github.com/users/bbakhrom/followers","following_url":"https://api.github.com/users/bbakhrom/following{/other_user}","gists_url":"https://api.github.com/users/bbakhrom/gists{/gist_id}","starred_url":"https://api.github.com/users/bbakhrom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbakhrom/subscriptions","organizations_url":"https://api.github.com/users/bbakhrom/orgs","repos_url":"https://api.github.com/users/bbakhrom/repos","events_url":"https://api.github.com/users/bbakhrom/events{/privacy}","received_events_url":"https://api.github.com/users/bbakhrom/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"97bf88f29e28f5c2b45cac858541f9375a44a59d","commit_url":"https://api.github.com/repos/typeorm/typeorm/commits/97bf88f29e28f5c2b45cac858541f9375a44a59d","created_at":"2019-03-18T10:44:11Z","performed_via_github_app":null},{"actor":{"login":"LachlanStuart","id":26366936,"node_id":"MDQ6VXNlcjI2MzY2OTM2","avatar_url":"https://avatars.githubusercontent.com/u/26366936?v=4","gravatar_id":"","url":"https://api.github.com/users/LachlanStuart","html_url":"https://github.com/LachlanStuart","followers_url":"https://api.github.com/users/LachlanStuart/followers","following_url":"https://api.github.com/users/LachlanStuart/following{/other_user}","gists_url":"https://api.github.com/users/LachlanStuart/gists{/gist_id}","starred_url":"https://api.github.com/users/LachlanStuart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LachlanStuart/subscriptions","organizations_url":"https://api.github.com/users/LachlanStuart/orgs","repos_url":"https://api.github.com/users/LachlanStuart/repos","events_url":"https://api.github.com/users/LachlanStuart/events{/privacy}","received_events_url":"https://api.github.com/users/LachlanStuart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T09:50:16Z","updated_at":"2019-08-22T09:50:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3076","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/events","html_url":"https://github.com/typeorm/typeorm/issues/3076","id":378964705,"node_id":"MDU6SXNzdWUzNzg5NjQ3MDU=","number":3076,"title":"migration:generate continuously updates default values","user":{"login":"iCrawl","id":20760160,"node_id":"MDQ6VXNlcjIwNzYwMTYw","avatar_url":"https://avatars.githubusercontent.com/u/20760160?v=4","gravatar_id":"","url":"https://api.github.com/users/iCrawl","html_url":"https://github.com/iCrawl","followers_url":"https://api.github.com/users/iCrawl/followers","following_url":"https://api.github.com/users/iCrawl/following{/other_user}","gists_url":"https://api.github.com/users/iCrawl/gists{/gist_id}","starred_url":"https://api.github.com/users/iCrawl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iCrawl/subscriptions","organizations_url":"https://api.github.com/users/iCrawl/orgs","repos_url":"https://api.github.com/users/iCrawl/repos","events_url":"https://api.github.com/users/iCrawl/events{/privacy}","received_events_url":"https://api.github.com/users/iCrawl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":333605711,"node_id":"MDU6TGFiZWwzMzM2MDU3MTE=","url":"https://api.github.com/repos/typeorm/typeorm/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":628495539,"node_id":"MDU6TGFiZWw2Mjg0OTU1Mzk=","url":"https://api.github.com/repos/typeorm/typeorm/labels/comp:%20migrations","name":"comp: migrations","color":"1d76db","default":false,"description":null},{"id":712054568,"node_id":"MDU6TGFiZWw3MTIwNTQ1Njg=","url":"https://api.github.com/repos/typeorm/typeorm/labels/driver:%20postgres","name":"driver: postgres","color":"0052cc","default":false,"description":null},{"id":3188117427,"node_id":"MDU6TGFiZWwzMTg4MTE3NDI3","url":"https://api.github.com/repos/typeorm/typeorm/labels/complexity:%20high","name":"complexity: high","color":"211A7C","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":32,"created_at":"2018-11-08T23:44:51Z","updated_at":"2025-05-15T23:19:40Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":52773157,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc3MzE1Nw==","name":"typeorm","full_name":"typeorm/typeorm","private":false,"owner":{"login":"typeorm","id":20165699,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMTY1Njk5","avatar_url":"https://avatars.githubusercontent.com/u/20165699?v=4","gravatar_id":"","url":"https://api.github.com/users/typeorm","html_url":"https://github.com/typeorm","followers_url":"https://api.github.com/users/typeorm/followers","following_url":"https://api.github.com/users/typeorm/following{/other_user}","gists_url":"https://api.github.com/users/typeorm/gists{/gist_id}","starred_url":"https://api.github.com/users/typeorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeorm/subscriptions","organizations_url":"https://api.github.com/users/typeorm/orgs","repos_url":"https://api.github.com/users/typeorm/repos","events_url":"https://api.github.com/users/typeorm/events{/privacy}","received_events_url":"https://api.github.com/users/typeorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeorm/typeorm","description":"ORM for TypeScript and JavaScript. Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.","fork":false,"url":"https://api.github.com/repos/typeorm/typeorm","forks_url":"https://api.github.com/repos/typeorm/typeorm/forks","keys_url":"https://api.github.com/repos/typeorm/typeorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeorm/typeorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeorm/typeorm/teams","hooks_url":"https://api.github.com/repos/typeorm/typeorm/hooks","issue_events_url":"https://api.github.com/repos/typeorm/typeorm/issues/events{/number}","events_url":"https://api.github.com/repos/typeorm/typeorm/events","assignees_url":"https://api.github.com/repos/typeorm/typeorm/assignees{/user}","branches_url":"https://api.github.com/repos/typeorm/typeorm/branches{/branch}","tags_url":"https://api.github.com/repos/typeorm/typeorm/tags","blobs_url":"https://api.github.com/repos/typeorm/typeorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeorm/typeorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeorm/typeorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeorm/typeorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeorm/typeorm/statuses/{sha}","languages_url":"https://api.github.com/repos/typeorm/typeorm/languages","stargazers_url":"https://api.github.com/repos/typeorm/typeorm/stargazers","contributors_url":"https://api.github.com/repos/typeorm/typeorm/contributors","subscribers_url":"https://api.github.com/repos/typeorm/typeorm/subscribers","subscription_url":"https://api.github.com/repos/typeorm/typeorm/subscription","commits_url":"https://api.github.com/repos/typeorm/typeorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeorm/typeorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeorm/typeorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeorm/typeorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeorm/typeorm/contents/{+path}","compare_url":"https://api.github.com/repos/typeorm/typeorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeorm/typeorm/merges","archive_url":"https://api.github.com/repos/typeorm/typeorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeorm/typeorm/downloads","issues_url":"https://api.github.com/repos/typeorm/typeorm/issues{/number}","pulls_url":"https://api.github.com/repos/typeorm/typeorm/pulls{/number}","milestones_url":"https://api.github.com/repos/typeorm/typeorm/milestones{/number}","notifications_url":"https://api.github.com/repos/typeorm/typeorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeorm/typeorm/labels{/name}","releases_url":"https://api.github.com/repos/typeorm/typeorm/releases{/id}","deployments_url":"https://api.github.com/repos/typeorm/typeorm/deployments","created_at":"2016-02-29T07:41:14Z","updated_at":"2025-11-09T20:57:36Z","pushed_at":"2025-11-09T20:57:31Z","git_url":"git://github.com/typeorm/typeorm.git","ssh_url":"git@github.com:typeorm/typeorm.git","clone_url":"https://github.com/typeorm/typeorm.git","svn_url":"https://github.com/typeorm/typeorm","homepage":"http://typeorm.io","size":31490,"stargazers_count":36005,"watchers_count":36005,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6454,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":523,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["active-record","cockroachdb","data-mapper","database","electron","hacktoberfest","javascript","mariadb","mysql","oracle","orm","postgresql","react-native","sap","sap-hana","sqlite","sqlserver","typeorm","typescript","websql"],"visibility":"public","forks":6454,"open_issues":523,"watchers":36005,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Issue type:**\r\n\r\n[x?] question\r\n[x] bug report\r\n[ ] feature request\r\n[ ] documentation issue\r\n\r\n**Database system/driver:**\r\n\r\n[ ] `cordova`\r\n[ ] `mongodb`\r\n[ ] `mssql`\r\n[ ] `mysql` / `mariadb`\r\n[ ] `oracle`\r\n[x] `postgres`\r\n[ ] `sqlite`\r\n[ ] `sqljs`\r\n[ ] `react-native`\r\n[ ] `expo`\r\n\r\n**TypeORM version:**\r\n\r\n[x] `latest` 0.2.8\r\n[ ] `@next`\r\n[ ] `0.x.x` (or put your version here)\r\n\r\n**Steps to reproduce or a small repository showing the problem:**\r\n\r\nSomewhat relevant other issue #2943 (?)\r\nMaybe this is just me misunderstanding how postgresql works, but since (seen in the screenshots below) the default values are correctly set. If the default values are really just supposed to be `'{}'` and `ARRAY[]` please feel free to close this issue ðŸ™‡ \r\n\r\nPlaylists.ts\r\n```ts\r\nimport { Entity, Column, PrimaryGeneratedColumn } from 'typeorm';\r\n\r\n@Entity('playlists')\r\nexport class Playlist {\r\n\t@PrimaryGeneratedColumn()\r\n\tid!: number;\r\n\r\n\t@Column({ type: 'bigint' })\r\n\tuser!: string;\r\n\r\n\t@Column({ type: 'bigint' })\r\n\tguild!: string;\r\n\r\n\t@Column({ type: 'text' })\r\n\tname!: string;\r\n\r\n\t@Column({ type: 'text' })\r\n\tdescription!: string | null;\r\n\r\n\t@Column({ type: 'text', array: true, default: () => \"ARRAY[]::text[]\" })\r\n\tsongs!: string[];\r\n\r\n\t@Column({ default: 0 })\r\n\tplays!: number;\r\n}\r\n```\r\n\r\nSettings.js\r\n```ts\r\nimport { Entity, Column, PrimaryColumn } from 'typeorm';\r\n\r\n@Entity('settings')\r\nexport class Setting {\r\n\t@PrimaryColumn({ type: 'bigint' })\r\n\tguild!: string;\r\n\r\n\t@Column({ type: 'jsonb', default: () => \"'{}'::jsonb\" })\r\n\tsettings: any;\r\n}\r\n```\r\n\r\n1541719937415-Init.ts\r\n```ts\r\nimport {MigrationInterface, QueryRunner} from \"typeorm\";\r\n\r\nexport class Init1541719937415 implements MigrationInterface {\r\n\r\n    public async up(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`CREATE TABLE \"playlists\" (\"id\" SERIAL NOT NULL, \"user\" bigint NOT NULL, \"guild\" bigint NOT NULL, \"name\" text NOT NULL, \"description\" text NOT NULL, \"songs\" text array NOT NULL DEFAULT ARRAY[]::text[], \"plays\" integer NOT NULL DEFAULT 0, CONSTRAINT \"PK_a4597f4189a75d20507f3f7ef0d\" PRIMARY KEY (\"id\"))`);\r\n        await queryRunner.query(`CREATE TABLE \"settings\" (\"guild\" bigint NOT NULL, \"settings\" jsonb NOT NULL DEFAULT '{}'::jsonb, CONSTRAINT \"PK_5f773ba35a6f8ef6aa49aa8e72b\" PRIMARY KEY (\"guild\"))`);\r\n    }\r\n\r\n    public async down(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`DROP TABLE \"settings\"`);\r\n        await queryRunner.query(`DROP TABLE \"playlists\"`);\r\n    }\r\n\r\n}\r\n```\r\n\r\nEvery subsequent migration file:\r\n```ts\r\nimport {MigrationInterface, QueryRunner} from \"typeorm\";\r\n\r\nexport class Test1541720101513 implements MigrationInterface {\r\n\r\n    public async up(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT ARRAY[]::text[]`);\r\n        await queryRunner.query(`ALTER TABLE \"settings\" ALTER COLUMN \"settings\" SET DEFAULT '{}'::jsonb`);\r\n    }\r\n\r\n    public async down(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"settings\" ALTER COLUMN \"settings\" SET DEFAULT '{}'`);\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT ARRAY[]`);\r\n    }\r\n\r\n}\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/20760160/48233976-d2cd7280-e3b7-11e8-9856-873cdf36d209.png)\r\n![image](https://user-images.githubusercontent.com/20760160/48233985-d9f48080-e3b7-11e8-99cd-8ea5d20b9ec0.png)\r\n\r\nEdit:\r\nI actually just tried it out, changing the array to just `ARRAY[]` will produce:\r\n`QueryFailedError: cannot determine type of empty array`\r\nwith a hint to:\r\n`'Explicitly cast to the desired type, for example ARRAY[]::integer[].'`\r\n\r\nChanging `'{}'::jsonb` to `'{}'` produces the same result as having `'{}'::jsonb` (so that's good)\r\n![image](https://user-images.githubusercontent.com/20760160/48234441-e5e14200-e3b9-11e8-84a8-0491ee73cfa3.png)\r\nand it also does not show up in the migration file anymore (like above)\r\n\r\nThe array however still does since that one cannot be simply `ARRAY[]` as mentioned above.\r\n\r\nEdit2:\r\nWent ahead and tried the other notation for postgres to initialize an empty array `'{}'` (funnily enough)\r\n`@Column({ type: 'text', array: true, default: '{}' })`\r\nWhich produces this query in the initial migration:\r\n`\"songs\" text array NOT NULL DEFAULT '{}'::text[]` (looks correct so far)\r\n\r\nBut in every subsequent migration it will again try to change it:\r\n\r\n```ts\r\nimport {MigrationInterface, QueryRunner} from \"typeorm\";\r\n\r\nexport class Init21541721690470 implements MigrationInterface {\r\n\r\n    public async up(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT '{}'::text[]`);\r\n    }\r\n\r\n    public async down(queryRunner: QueryRunner): Promise<any> {\r\n        await queryRunner.query(`ALTER TABLE \"playlists\" ALTER COLUMN \"songs\" SET DEFAULT '{}'`);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhich means I am pretty much out of ideas at this point for defaulting to empty arrays.","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/reactions","total_count":45,"+1":45,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/3076/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882422739","html_url":"https://github.com/typeorm/typeorm/issues/1883#issuecomment-1882422739","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/1883","id":1882422739,"node_id":"IC_kwDOAyVBJc5wM33T","user":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T05:10:26Z","updated_at":"2024-01-09T05:28:58Z","body":"I am using `\"typeorm\": \"^0.3.17\"`, but facing a similar issue on synchronization.\r\nAm I missing something here?\r\n\r\nI am getting a very similar error as OPs', and my column's default is not getting set to the updated ENUM type, with the new value.\r\n\r\nLet me know if any specific details are required.\r\n\r\n<details>\r\n\r\n<summary>Error Logs</summary>\r\n\r\n```\r\nquery: SELECT * FROM \"information_schema\".\"tables\" WHERE \"table_schema\" = 'public' AND \"table_name\" = 'typeorm_metadata'\r\nquery: ALTER TABLE \"table1\" ALTER COLUMN \"column_1\" SET DEFAULT 'foo'\r\nquery: ALTER TABLE \"table1\" ALTER COLUMN \"column_2\" SET DEFAULT 'foo1'\r\nquery: ALTER TYPE \"public\".\"enum_2\" RENAME TO \"enum_2_old\"\r\n\r\n// I have one more enum value 'foo8', but it's not present in the logs, but querying in local DB for enum values,\r\n// I see all the correct values, not sure why it's not present in the logs \r\nquery: CREATE TYPE \"public\".\"enum_2\" AS ENUM('foo1', 'foo2', 'foo3', 'foo4', 'foo5', 'foo6', 'foo7')\r\nquery: ALTER TABLE \"table1\" ALTER COLUMN \"column_2\" TYPE \"public\".\"enum_2\" USING \"column_2\"::\"text\"::\"public\".\"enum_2\"\r\nquery failed: ALTER TABLE \"table1\" ALTER COLUMN \"column_2\" TYPE \"public\".\"enum_2\" USING \"column_2\"::\"text\"::\"public\".\"enum_2\"\r\nerror: error: default for column \"column_2\" cannot be cast automatically to type enum_2\r\nquery: ROLLBACK\r\n[05:04:36.254] ERROR: Failed to connect to database\r\n    err: {\r\n      \"type\": \"QueryFailedError\",\r\n      \"message\": \"default for column \\\"column_2\\\" cannot be cast automatically to type enum_2\",\r\n      \"stack\":\r\n          QueryFailedError: default for column \"column_2\" cannot be cast automatically to type enum_2\r\n              at PostgresQueryRunner.query (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:211:19)\r\n              at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n              at async PostgresQueryRunner.executeQueries (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/query-runner/BaseQueryRunner.js:424:13)\r\n              at async PostgresQueryRunner.changeColumn (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1083:9)\r\n              at async PostgresQueryRunner.changeColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1091:13)\r\n              at async RdbmsSchemaBuilder.updateExistColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:621:13)\r\n              at async RdbmsSchemaBuilder.executeSchemaSyncOperationsInProperOrder (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:170:9)\r\n              at async RdbmsSchemaBuilder.build (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:66:13)\r\n              at async DataSource.synchronize (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/data-source/DataSource.js:208:9)\r\n              at async DataSource.initialize (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/data-source/DataSource.js:153:17)\r\n      \"query\": \"ALTER TABLE \\\"table1\\\" ALTER COLUMN \\\"column_2\\\" TYPE \\\"public\\\".\\\"enum_2\\\" USING \\\"column_2\\\"::\\\"text\\\"::\\\"public\\\".\\\"enum_2\\\"\",\r\n      \"driverError\": {\r\n        \"type\": \"DatabaseError\",\r\n        \"message\": \"default for column \\\"column_2\\\" cannot be cast automatically to type enum_2\",\r\n        \"stack\":\r\n            error: default for column \"column_2\" cannot be cast automatically to type enum_2\r\n                at /app/monorepo/node_modules/.pnpm/pg@8.11.1/node_modules/pg/lib/client.js:526:17\r\n                at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n                at async PostgresQueryRunner.query (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:178:25)\r\n                at async PostgresQueryRunner.executeQueries (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/query-runner/BaseQueryRunner.js:424:13)\r\n                at async PostgresQueryRunner.changeColumn (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1083:9)\r\n                at async PostgresQueryRunner.changeColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1091:13)\r\n                at async RdbmsSchemaBuilder.updateExistColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:621:13)\r\n                at async RdbmsSchemaBuilder.executeSchemaSyncOperationsInProperOrder (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:170:9)\r\n                at async RdbmsSchemaBuilder.build (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:66:13)\r\n                at async DataSource.synchronize (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/data-source/DataSource.js:208:9)\r\n        \"length\": 171,\r\n        \"name\": \"error\",\r\n        \"severity\": \"ERROR\",\r\n        \"code\": \"42804\",\r\n        \"file\": \"tablecmds.c\",\r\n        \"line\": \"11723\",\r\n        \"routine\": \"ATExecAlterColumnType\"\r\n      },\r\n      \"length\": 171,\r\n      \"severity\": \"ERROR\",\r\n      \"code\": \"42804\",\r\n      \"file\": \"tablecmds.c\",\r\n      \"line\": \"11723\",\r\n      \"routine\": \"ATExecAlterColumnType\"\r\n    }\r\n[05:04:36.256] ERROR: default for column \"column_2\" cannot be cast automatically to type enum_2\r\n    err: {\r\n      \"type\": \"QueryFailedError\",\r\n      \"message\": \"default for column \\\"column_2\\\" cannot be cast automatically to type enum_2\",\r\n      \"stack\":\r\n          QueryFailedError: default for column \"column_2\" cannot be cast automatically to type enum_2\r\n              at PostgresQueryRunner.query (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:211:19)\r\n              at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n              at async PostgresQueryRunner.executeQueries (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/query-runner/BaseQueryRunner.js:424:13)\r\n              at async PostgresQueryRunner.changeColumn (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1083:9)\r\n              at async PostgresQueryRunner.changeColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1091:13)\r\n              at async RdbmsSchemaBuilder.updateExistColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:621:13)\r\n              at async RdbmsSchemaBuilder.executeSchemaSyncOperationsInProperOrder (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:170:9)\r\n              at async RdbmsSchemaBuilder.build (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:66:13)\r\n              at async DataSource.synchronize (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/data-source/DataSource.js:208:9)\r\n              at async DataSource.initialize (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/data-source/DataSource.js:153:17)\r\n      \"query\": \"ALTER TABLE \\\"table1\\\" ALTER COLUMN \\\"column_2\\\" TYPE \\\"public\\\".\\\"enum_2\\\" USING \\\"column_2\\\"::\\\"text\\\"::\\\"public\\\".\\\"enum_2\\\"\",\r\n      \"driverError\": {\r\n        \"type\": \"DatabaseError\",\r\n        \"message\": \"default for column \\\"column_2\\\" cannot be cast automatically to type enum_2\",\r\n        \"stack\":\r\n            error: default for column \"column_2\" cannot be cast automatically to type enum_2\r\n                at /app/monorepo/node_modules/.pnpm/pg@8.11.1/node_modules/pg/lib/client.js:526:17\r\n                at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n                at async PostgresQueryRunner.query (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:178:25)\r\n                at async PostgresQueryRunner.executeQueries (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/query-runner/BaseQueryRunner.js:424:13)\r\n                at async PostgresQueryRunner.changeColumn (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1083:9)\r\n                at async PostgresQueryRunner.changeColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/driver/postgres/PostgresQueryRunner.js:1091:13)\r\n                at async RdbmsSchemaBuilder.updateExistColumns (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:621:13)\r\n                at async RdbmsSchemaBuilder.executeSchemaSyncOperationsInProperOrder (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:170:9)\r\n                at async RdbmsSchemaBuilder.build (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/schema-builder/RdbmsSchemaBuilder.js:66:13)\r\n                at async DataSource.synchronize (/app/monorepo/node_modules/.pnpm/typeorm@0.3.17_pg@8.11.1/node_modules/typeorm/data-source/DataSource.js:208:9)\r\n        \"length\": 171,\r\n        \"name\": \"error\",\r\n        \"severity\": \"ERROR\",\r\n        \"code\": \"42804\",\r\n        \"file\": \"tablecmds.c\",\r\n        \"line\": \"11723\",\r\n        \"routine\": \"ATExecAlterColumnType\"\r\n      },\r\n      \"length\": 171,\r\n      \"severity\": \"ERROR\",\r\n      \"code\": \"42804\",\r\n      \"file\": \"tablecmds.c\",\r\n      \"line\": \"11723\",\r\n      \"routine\": \"ATExecAlterColumnType\"\r\n    }\r\n```\r\n\r\n</details>\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882422739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882464148","html_url":"https://github.com/typeorm/typeorm/issues/1883#issuecomment-1882464148","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/1883","id":1882464148,"node_id":"IC_kwDOAyVBJc5wNB-U","user":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T06:07:08Z","updated_at":"2024-01-09T06:07:08Z","body":"I think I got what the issue is, but am not able to fix it.\r\n\r\nI added a new enum value `foo8`, which in my generated build is also updated, but is not reflected in Typeorm queries. It doesn't consider `foo8` at all. Not sure why","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882464148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882472171","html_url":"https://github.com/typeorm/typeorm/issues/1883#issuecomment-1882472171","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/1883","id":1882472171,"node_id":"IC_kwDOAyVBJc5wND7r","user":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T06:16:19Z","updated_at":"2024-01-09T06:16:19Z","body":"I am really confused now. I thought there might be something wrong in my code, so:\r\n\r\n- I dropped and recreated the entire \"public\" schema, to get a restart.\r\n- Restarted my server with default value for the column set to `foo8`.\r\n- Typeorm create a ENUM with `foo8` present\r\n\r\nSince I didn't want to keep my default value set to `foo8`, I dropped the schema again and redo the above steps again but setting my column default to `foo1`.\r\n- I dropped and recreated the entire \"public\" schema, to get a restart.\r\n- Restarted my server with default value for the column set to `foo1`.\r\n- Typeorm doesn't create enum with `foo8` present.\r\n\r\n\r\nDoes TypeORM keeps a cache somewhere in the DB, that I need to clear for this to work?\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882472171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882527892","html_url":"https://github.com/typeorm/typeorm/issues/1883#issuecomment-1882527892","issue_url":"https://api.github.com/repos/typeorm/typeorm/issues/1883","id":1882527892,"node_id":"IC_kwDOAyVBJc5wNRiU","user":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T07:18:38Z","updated_at":"2024-01-09T07:18:38Z","body":"Not sure why, deleting `/build` directory as per this https://github.com/typeorm/typeorm/issues/2712#issuecomment-533506830 fixed the issue.\r\n\r\nDo we keep a cache somewhere in the dist folder for typeorm migrations? I didn't find a metadata table that keeps a check on what changes have been synchronised with DB on local.\r\n\r\nIs this the query for typeorm metadata?\r\n```\r\nSELECT * FROM \"information_schema\".\"tables\" WHERE \"table_schema\" = 'public' AND \"table_name\" = 'typeorm_metadata'\r\n```\r\nbut the above results with 0 rows.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/comments/1882527892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phoenisx","id":11786283,"node_id":"MDQ6VXNlcjExNzg2Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/11786283?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenisx","html_url":"https://github.com/phoenisx","followers_url":"https://api.github.com/users/phoenisx/followers","following_url":"https://api.github.com/users/phoenisx/following{/other_user}","gists_url":"https://api.github.com/users/phoenisx/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenisx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenisx/subscriptions","organizations_url":"https://api.github.com/users/phoenisx/orgs","repos_url":"https://api.github.com/users/phoenisx/repos","events_url":"https://api.github.com/users/phoenisx/events{/privacy}","received_events_url":"https://api.github.com/users/phoenisx/received_events","type":"User","user_view_type":"public","site_admin":false}}]