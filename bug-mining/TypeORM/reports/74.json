{"url":"https://api.github.com/repos/typeorm/typeorm/issues/5720","repository_url":"https://api.github.com/repos/typeorm/typeorm","labels_url":"https://api.github.com/repos/typeorm/typeorm/issues/5720/labels{/name}","comments_url":"https://api.github.com/repos/typeorm/typeorm/issues/5720/comments","events_url":"https://api.github.com/repos/typeorm/typeorm/issues/5720/events","html_url":"https://github.com/typeorm/typeorm/issues/5720","id":584556522,"node_id":"MDU6SXNzdWU1ODQ1NTY1MjI=","number":5720,"title":"Latest Sqljs@1.2.1 throws an error when querying","user":{"login":"atifsyedali","id":8594685,"node_id":"MDQ6VXNlcjg1OTQ2ODU=","avatar_url":"https://avatars.githubusercontent.com/u/8594685?v=4","gravatar_id":"","url":"https://api.github.com/users/atifsyedali","html_url":"https://github.com/atifsyedali","followers_url":"https://api.github.com/users/atifsyedali/followers","following_url":"https://api.github.com/users/atifsyedali/following{/other_user}","gists_url":"https://api.github.com/users/atifsyedali/gists{/gist_id}","starred_url":"https://api.github.com/users/atifsyedali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifsyedali/subscriptions","organizations_url":"https://api.github.com/users/atifsyedali/orgs","repos_url":"https://api.github.com/users/atifsyedali/repos","events_url":"https://api.github.com/users/atifsyedali/events{/privacy}","received_events_url":"https://api.github.com/users/atifsyedali/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-03-19T16:53:59Z","updated_at":"2020-09-11T13:34:59Z","closed_at":"2020-09-11T13:34:59Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Issue type:**\r\n\r\n[ ] question\r\n[x] bug report\r\n[ ] feature request\r\n[ ] documentation issue\r\n\r\n**Database system/driver:**\r\n\r\n[ ] `cordova`\r\n[ ] `mongodb`\r\n[ ] `mssql`\r\n[ ] `mysql` / `mariadb`\r\n[ ] `oracle`\r\n[ ] `postgres`\r\n[ ] `cockroachdb`\r\n[ ] `sqlite`\r\n[x] `sqljs`\r\n[ ] `react-native`\r\n[ ] `expo`\r\n\r\n**TypeORM version:**\r\n\r\n[x] `latest`\r\n[ ] `@next`\r\n[ ] `0.x.x` (or put your version here)\r\n\r\n**Steps to reproduce or a small repository showing the problem:**\r\nTrying to query using the latest Sqljs and TypeORM throws an error: `QueryFailedError: TypeError: Cannot convert undefined or null to object`.\r\n\r\nIt turns out that when we have parameters in `SqljsQueryRunner#query` is undefined/null, the latest sqljs throws an error.\r\n\r\nHarmless fix is to either skip the bind or give default value for parameters as an empty array within the SqljsQueryRunner only.\r\n\r\nTested in browser main thread, as well as worker thread. Both works.","closed_by":{"login":"pleerock","id":1753397,"node_id":"MDQ6VXNlcjE3NTMzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1753397?v=4","gravatar_id":"","url":"https://api.github.com/users/pleerock","html_url":"https://github.com/pleerock","followers_url":"https://api.github.com/users/pleerock/followers","following_url":"https://api.github.com/users/pleerock/following{/other_user}","gists_url":"https://api.github.com/users/pleerock/gists{/gist_id}","starred_url":"https://api.github.com/users/pleerock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pleerock/subscriptions","organizations_url":"https://api.github.com/users/pleerock/orgs","repos_url":"https://api.github.com/users/pleerock/repos","events_url":"https://api.github.com/users/pleerock/events{/privacy}","received_events_url":"https://api.github.com/users/pleerock/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/typeorm/typeorm/issues/5720/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeorm/typeorm/issues/5720/timeline","performed_via_github_app":null,"state_reason":"completed"}