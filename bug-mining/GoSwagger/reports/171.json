{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/540","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/540/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/540/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/540/events","html_url":"https://github.com/go-swagger/go-swagger/issues/540","id":156988844,"node_id":"MDU6SXNzdWUxNTY5ODg4NDQ=","number":540,"title":"Code generated from spec file does not compile","user":{"login":"mikeb333","id":19591770,"node_id":"MDQ6VXNlcjE5NTkxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/19591770?v=4","gravatar_id":"","url":"https://api.github.com/users/mikeb333","html_url":"https://github.com/mikeb333","followers_url":"https://api.github.com/users/mikeb333/followers","following_url":"https://api.github.com/users/mikeb333/following{/other_user}","gists_url":"https://api.github.com/users/mikeb333/gists{/gist_id}","starred_url":"https://api.github.com/users/mikeb333/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikeb333/subscriptions","organizations_url":"https://api.github.com/users/mikeb333/orgs","repos_url":"https://api.github.com/users/mikeb333/repos","events_url":"https://api.github.com/users/mikeb333/events{/privacy}","received_events_url":"https://api.github.com/users/mikeb333/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436504,"node_id":"MDU6TGFiZWwxNDg0MzY1MDQ=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-05-26T13:52:49Z","updated_at":"2016-08-03T04:00:06Z","closed_at":"2016-08-03T04:00:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem statement\n\nWe have encountered a problem where the Go project generated from the \"generate server\" command does not compile in certain situations.  \n\nThe swagger specification attached uses inheritance.  Cat and Goat definitions inherit from Pet. There is a post operation under the /Pets resource that returns Pet.  However the code generated from this spec file does not compile.  There is a pointer problem and we get the following error...\n\n_\"cannot use payload (type *models.Pet) as type models.Pet in assignment:\"_\n## Swagger Specification\n\n``` JSON\n{\n    \"swagger\": \"2.0\",\n    \"info\": {\n        \"title\": \"Pet Testing\",\n        \"version\": \"1.0.0\"\n    },\n    \"host\": \"localhost:8080\",\n    \"basePath\": \"/v1\",\n    \"schemes\": [\n        \"http\"\n    ],\n    \"consumes\": [\n        \"application/json\"\n    ],\n    \"produces\": [\n        \"application/json\"\n    ],\n    \"paths\": {\n        \"/Pets\": {\n            \"get\": {\n                \"description\": \"Returns list of all pets.\\n\",\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Array of pets\",\n                        \"schema\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"$ref\": \"#/definitions/Pet\"\n                            }\n                        }\n                    },\n                    \"default\": {\n                        \"description\": \"Unexpected error\",\n                        \"schema\": {\n                            \"$ref\": \"#/definitions/Error\"\n                        }\n                    }\n                }\n            },\n            \"post\": {\n                \"description\": \"Adds a new pet.\\n\",\n                \"parameters\": [\n                    {\n                        \"name\": \"pet\",\n                        \"in\": \"body\",\n                        \"description\": \"Pet to add.\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"$ref\": \"#/definitions/Pet\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Pet added\",\n                        \"schema\": {\n                            \"$ref\": \"#/definitions/Pet\"\n                        }\n                    },\n                    \"default\": {\n                        \"description\": \"Unexpected error\",\n                        \"schema\": {\n                            \"$ref\": \"#/definitions/Error\"\n                        }\n                    }\n                }\n            }\n        }\n    },\n    \"definitions\": {\n        \"Pet\": {\n            \"type\": \"object\",\n            \"discriminator\": \"petType\",\n            \"properties\": {\n                \"name\": {\n                    \"type\": \"string\"\n                },\n                \"petType\": {\n                    \"type\": \"string\"\n                }\n            },\n            \"required\": [\n                \"name\",\n                \"petType\"\n            ]\n        },\n        \"Cat\": {\n            \"description\": \"A representation of a cat\",\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/definitions/Pet\"\n                },\n                {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"huntingSkill\": {\n                            \"type\": \"string\",\n                            \"description\": \"The measured skill for hunting\",\n                            \"default\": \"lazy\",\n                            \"enum\": [\n                                \"clueless\",\n                                \"lazy\",\n                                \"adventurous\",\n                                \"aggressive\"\n                            ]\n                        }\n                    },\n                    \"required\": [\n                        \"huntingSkill\"\n                    ]\n                }\n            ]\n        },\n        \"Goat\": {\n            \"description\": \"A representation of a goat\",\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/definitions/Pet\"\n                },\n                {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"herdSize\": {\n                            \"type\": \"integer\",\n                            \"format\": \"int32\",\n                            \"description\": \"the size of the herd the goat is from\",\n                            \"default\": 0,\n                            \"minimum\": 0\n                        }\n                    },\n                    \"required\": [\n                        \"herdSize\"\n                    ]\n                }\n            ]\n        },\n        \"Error\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"code\": {\n                    \"type\": \"integer\",\n                    \"format\": \"int32\"\n                },\n                \"message\": {\n                    \"type\": \"string\"\n                },\n                \"fields\": {\n                    \"type\": \"string\"\n                }\n            }\n        }\n    }\n}\n```\n## Steps to reproduce\n1. Execute Go-Swagger over the provided Swagger specification file using the \"generate server\" command.\n2. Build the created project using the \"go build\" command.\n","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/540/timeline","performed_via_github_app":null,"state_reason":"completed"}