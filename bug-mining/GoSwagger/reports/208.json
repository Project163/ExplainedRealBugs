{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/910","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/910/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/910/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/910/events","html_url":"https://github.com/go-swagger/go-swagger/issues/910","id":204434225,"node_id":"MDU6SXNzdWUyMDQ0MzQyMjU=","number":910,"title":"Generated server marks all parameters in response as required","user":{"login":"bschofield","id":1534502,"node_id":"MDQ6VXNlcjE1MzQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1534502?v=4","gravatar_id":"","url":"https://api.github.com/users/bschofield","html_url":"https://github.com/bschofield","followers_url":"https://api.github.com/users/bschofield/followers","following_url":"https://api.github.com/users/bschofield/following{/other_user}","gists_url":"https://api.github.com/users/bschofield/gists{/gist_id}","starred_url":"https://api.github.com/users/bschofield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschofield/subscriptions","organizations_url":"https://api.github.com/users/bschofield/orgs","repos_url":"https://api.github.com/users/bschofield/repos","events_url":"https://api.github.com/users/bschofield/events{/privacy}","received_events_url":"https://api.github.com/users/bschofield/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436504,"node_id":"MDU6TGFiZWwxNDg0MzY1MDQ=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":493024330,"node_id":"MDU6TGFiZWw0OTMwMjQzMzA=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/generator","name":"generator","color":"bfdadc","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-01-31T21:51:34Z","updated_at":"2018-03-13T00:23:04Z","closed_at":"2018-03-13T00:23:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem statement\r\n\r\nWhen generating a server, and embedding a schema directly in the response definition, the `required` list is ignored and instead all response parameters are marked as required.\r\n\r\n## Swagger specification\r\n\r\n    swagger: \"2.0\"\r\n\r\n    info:\r\n      title: Test\r\n      description: Test\r\n      version: \"1.0.0\"\r\n\r\n    paths:\r\n      /test:\r\n        get:\r\n          description: test\r\n          responses:\r\n            200:\r\n              schema:\r\n                type: object\r\n                properties:\r\n                  foo:\r\n                    type: object\r\n                  bar:\r\n                    type: integer\r\n                    format: int64\r\n                  baz:\r\n                    type: integer\r\n                    format: int64\r\n                  quux:\r\n                    type: array\r\n                    items:\r\n                      type: string\r\n                required:\r\n                  - foo\r\n                  - bar\r\n\r\n## Steps to reproduce\r\n\r\nUsing the above spec as `test.yaml`, run\r\n\r\n    swagger generate server -f test.yaml -A test\r\n\r\nand then examine `restapi/operations/get_test.go`. The `GetTestOKBody` struct incorrectly has all members marked as required:-\r\n\r\n    // GetTestOKBody get test o k body\r\n    // swagger:model GetTestOKBody\r\n    type GetTestOKBody struct {\r\n\r\n            // bar\r\n            // Required: true\r\n            Bar *int64 `json:\"bar\"`\r\n\r\n            // baz\r\n            // Required: true\r\n            Baz *int64 `json:\"baz\"`\r\n\r\n            // foo\r\n            // Required: true\r\n            Foo interface{} `json:\"foo\"`\r\n\r\n            // quux\r\n            // Required: true\r\n            Quux []string `json:\"quux\"`\r\n    }\r\n\r\nHere, `Baz` and `Quux` should be optional.\r\n\r\n## Environment\r\nswagger version: 0.8.0\r\ngo version: 1.7.4\r\nOS: Fedora 25\r\n","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/910/timeline","performed_via_github_app":null,"state_reason":"completed"}