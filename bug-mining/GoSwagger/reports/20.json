{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/79","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/79/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/79/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/79/events","html_url":"https://github.com/go-swagger/go-swagger/issues/79","id":113941359,"node_id":"MDU6SXNzdWUxMTM5NDEzNTk=","number":79,"title":"Enum model validation broken","user":{"login":"berndtbrkt","id":11841917,"node_id":"MDQ6VXNlcjExODQxOTE3","avatar_url":"https://avatars.githubusercontent.com/u/11841917?v=4","gravatar_id":"","url":"https://api.github.com/users/berndtbrkt","html_url":"https://github.com/berndtbrkt","followers_url":"https://api.github.com/users/berndtbrkt/followers","following_url":"https://api.github.com/users/berndtbrkt/following{/other_user}","gists_url":"https://api.github.com/users/berndtbrkt/gists{/gist_id}","starred_url":"https://api.github.com/users/berndtbrkt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berndtbrkt/subscriptions","organizations_url":"https://api.github.com/users/berndtbrkt/orgs","repos_url":"https://api.github.com/users/berndtbrkt/repos","events_url":"https://api.github.com/users/berndtbrkt/events{/privacy}","received_events_url":"https://api.github.com/users/berndtbrkt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436504,"node_id":"MDU6TGFiZWwxNDg0MzY1MDQ=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-swagger/go-swagger/milestones/1","html_url":"https://github.com/go-swagger/go-swagger/milestone/1","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/milestones/1/labels","id":1161275,"node_id":"MDk6TWlsZXN0b25lMTE2MTI3NQ==","number":1,"title":"Minimal first release","description":"This first release is focussed on getting a baseline in functionality set.\r\n\r\nIt should however promise API stability to support the entire planned feature set:\r\n\r\nBaseline functionality: \r\n\r\n* validate a spec, including extended validations\r\n* generate a client from a spec\r\n* generate a spec through go code analysis\r\n* generate a server from a spec\r\n\r\nAPI stability:\r\n\r\n* serialization format agnostic\r\n* transport agnostic, this should be a matter of config\r\n* validation for client and server ","creator":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":61,"state":"closed","created_at":"2015-06-12T03:22:12Z","updated_at":"2016-01-04T02:34:41Z","due_on":"2016-01-10T08:00:00Z","closed_at":"2016-01-04T02:34:41Z"},"comments":0,"created_at":"2015-10-28T22:41:41Z","updated_at":"2015-10-29T21:21:14Z","closed_at":"2015-10-29T21:21:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"A little context.  I'm generating only the models, and marshalling json into the models and calling Validate().\n\nI have the following property in my model:\n\n```\n            \"region\": {\n                \"type\": \"string\",\n                \"enum\": [\n                    \"us-west-2\",\n                    \"us-east-1\"\n                ]\n            },\n```\n\nThe resultant validateRegionEnum method fails due to the call to validate.Enum.  Digging deeper it looks like there are a few issues:\n- validate.Enum expects the \"value\" to be a slice, but a string is passed\n- upon early failure (mismatching types) nil is returned, but the method returns a *errors.Validation type.  This causes a nil != nil issue (http://www.coldcode.net/2011/06/golang-interface-is-not-nil-even-if.html) and causes an dereferencing nil error.\n- even if we get past that (hack), the enum comparison fails \"Invalid request validation failure list:\\nregion in body should be one of [117 115 45 119 101 115 116 45 50]\\n\"\n","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/79/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/79/timeline","performed_via_github_app":null,"state_reason":"completed"}