{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1480","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1480/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1480/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1480/events","html_url":"https://github.com/go-swagger/go-swagger/issues/1480","id":314718579,"node_id":"MDU6SXNzdWUzMTQ3MTg1Nzk=","number":1480,"title":"Missing strfmt import","user":{"login":"adamflott","id":23751,"node_id":"MDQ6VXNlcjIzNzUx","avatar_url":"https://avatars.githubusercontent.com/u/23751?v=4","gravatar_id":"","url":"https://api.github.com/users/adamflott","html_url":"https://github.com/adamflott","followers_url":"https://api.github.com/users/adamflott/followers","following_url":"https://api.github.com/users/adamflott/following{/other_user}","gists_url":"https://api.github.com/users/adamflott/gists{/gist_id}","starred_url":"https://api.github.com/users/adamflott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamflott/subscriptions","organizations_url":"https://api.github.com/users/adamflott/orgs","repos_url":"https://api.github.com/users/adamflott/repos","events_url":"https://api.github.com/users/adamflott/events{/privacy}","received_events_url":"https://api.github.com/users/adamflott/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":770927120,"node_id":"MDU6TGFiZWw3NzA5MjcxMjA=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/install%20&%20setup","name":"install & setup","color":"a4fcd4","default":false,"description":null},{"id":770942289,"node_id":"MDU6TGFiZWw3NzA5NDIyODk=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/doc","name":"doc","color":"e299f7","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-04-16T15:58:11Z","updated_at":"2018-06-15T17:40:56Z","closed_at":"2018-05-28T23:45:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem statement\r\n\r\nGenerated responses code has a missing import statement for \r\n\r\n       strfmt \"github.com/go-openapi/strfmt\"\r\n\r\nWhen used in a type like:\r\n\r\n        XRateLimitReset strfmt.DateTime `json:\"X-Rate-Limit-Reset\"`\r\n\r\n## Swagger specification\r\n\r\n    swagger: \"2.0\"\r\n\r\n    consumes:\r\n    - application/json\r\n    produces:\r\n    - application/json\r\n\r\n    info:\r\n      title: importbug\r\n      description: ...\r\n      version: 0.0.1\r\n\r\n    schemes:\r\n    - http\r\n\r\n    parameters:\r\n      requestId:\r\n        name: X-Request-Id\r\n        description: A unique UUID for the request\r\n        in: header\r\n        type: string\r\n        required: false\r\n        minLength: 1\r\n      urlPurgeBody:\r\n        name: body\r\n        in: body\r\n        schema:\r\n          $ref: \"#/definitions/urlPurgeData\"\r\n      tagPurgeBody:\r\n        name: body\r\n        in: body\r\n        schema:\r\n          $ref: \"#/definitions/tagPurgeData\"\r\n      cpcodePurgeBody:\r\n        name: body\r\n        in: body\r\n        schema:\r\n          $ref: \"#/definitions/cpcodePurgeData\"\r\n      purgeType:\r\n        name: purgetype\r\n        description: ...\r\n        in: path\r\n        type: string\r\n        required: true\r\n        minLength: 1\r\n        enum:\r\n          - delete\r\n          - invalidate\r\n      purgeClient:\r\n        name: purgeclient\r\n        description: ...\r\n        in: path\r\n        type: string\r\n        required: true\r\n        minLength: 1\r\n        enum:\r\n          - a\r\n          - b\r\n          - c\r\n          - d\r\n      purgeEnvironment:\r\n        name: purgeenvironment\r\n        description: Enumerate supported Purge environments\r\n        in: path\r\n        type: string\r\n        required: true\r\n        minLength: 1\r\n        enum:\r\n          - staging\r\n          - production\r\n\r\n    paths:\r\n      /{purgeclient}/v3/{purgetype}/url:\r\n        post:\r\n          tags:\r\n            - Purge\r\n          operationId: v3Url\r\n          parameters:\r\n            - $ref: \"#/parameters/requestId\"\r\n            - $ref: \"#/parameters/purgeType\"\r\n            - $ref: \"#/parameters/purgeClient\"\r\n            - $ref: \"#/parameters/urlPurgeBody\"\r\n          responses:\r\n            201:\r\n              $ref: '#/responses/Standard201Response'\r\n            403:\r\n              $ref: '#/responses/Standard403Response'\r\n            429:\r\n              $ref: '#/responses/Standard429Response'\r\n            507:\r\n              $ref: '#/responses/Standard507Response'\r\n            default:\r\n              $ref: '#/responses/StandardErrorResponse'\r\n\r\n      /{purgeclient}/v3/{purgetype}/url/{purgeenvironment}:\r\n        post:\r\n          tags:\r\n            - Purge\r\n          operationId: v3UrlWithEnv\r\n          parameters:\r\n            - $ref: \"#/parameters/requestId\"\r\n            - $ref: \"#/parameters/purgeType\"\r\n            - $ref: \"#/parameters/purgeClient\"\r\n            - $ref: \"#/parameters/urlPurgeBody\"\r\n            - $ref: \"#/parameters/purgeEnvironment\"\r\n          responses:\r\n            201:\r\n              $ref: '#/responses/Standard201Response'\r\n            403:\r\n              $ref: '#/responses/Standard403Response'\r\n            429:\r\n              $ref: '#/responses/Standard429Response'\r\n            507:\r\n              $ref: '#/responses/Standard507Response'\r\n            default:\r\n              $ref: '#/responses/StandardErrorResponse'\r\n\r\n      /{purgeclient}/v3/{purgetype}/tag:\r\n        post:\r\n          tags:\r\n            - Purge\r\n          operationId: v3Tag\r\n          parameters:\r\n            - $ref: \"#/parameters/requestId\"\r\n            - $ref: \"#/parameters/purgeType\"\r\n            - $ref: \"#/parameters/purgeClient\"\r\n            - $ref: \"#/parameters/tagPurgeBody\"\r\n          responses:\r\n            201:\r\n              $ref: '#/responses/Standard201Response'\r\n            403:\r\n              $ref: '#/responses/Standard403Response'\r\n            429:\r\n              $ref: '#/responses/Standard429Response'\r\n            507:\r\n              $ref: '#/responses/Standard507Response'\r\n            default:\r\n              $ref: '#/responses/StandardErrorResponse'\r\n\r\n      /{purgeclient}/v3/{purgetype}/tag/{purgeenvironment}:\r\n        post:\r\n          tags:\r\n            - Purge\r\n          operationId: v3TagWithEnv\r\n          parameters:\r\n            - $ref: \"#/parameters/requestId\"\r\n            - $ref: \"#/parameters/purgeType\"\r\n            - $ref: \"#/parameters/purgeClient\"\r\n            - $ref: \"#/parameters/tagPurgeBody\"\r\n            - $ref: \"#/parameters/purgeEnvironment\"\r\n          responses:\r\n            201:\r\n              $ref: '#/responses/Standard201Response'\r\n            403:\r\n              $ref: '#/responses/Standard403Response'\r\n            429:\r\n              $ref: '#/responses/Standard429Response'\r\n            507:\r\n              $ref: '#/responses/Standard507Response'\r\n            default:\r\n              $ref: '#/responses/StandardErrorResponse'\r\n\r\n      /{purgeclient}/v3/{purgetype}/cpcode:\r\n        post:\r\n          tags:\r\n            - Purge\r\n          operationId: v3CPCode\r\n          parameters:\r\n            - $ref: \"#/parameters/requestId\"\r\n            - $ref: \"#/parameters/purgeType\"\r\n            - $ref: \"#/parameters/purgeClient\"\r\n            - $ref: \"#/parameters/cpcodePurgeBody\"\r\n          responses:\r\n            201:\r\n              $ref: '#/responses/Standard201Response'\r\n            403:\r\n              $ref: '#/responses/Standard403Response'\r\n            429:\r\n              $ref: '#/responses/Standard429Response'\r\n            507:\r\n              $ref: '#/responses/Standard507Response'\r\n            default:\r\n              $ref: '#/responses/StandardErrorResponse'\r\n\r\n      /{purgeclient}/v3/{purgetype}/cpcode/{purgeenvironment}:\r\n        post:\r\n          tags:\r\n            - Purge\r\n          operationId: v3CPCodeWithEnv\r\n          parameters:\r\n            - $ref: \"#/parameters/requestId\"\r\n            - $ref: \"#/parameters/purgeType\"\r\n            - $ref: \"#/parameters/purgeClient\"\r\n            - $ref: \"#/parameters/cpcodePurgeBody\"\r\n            - $ref: \"#/parameters/purgeEnvironment\"\r\n          responses:\r\n            201:\r\n              $ref: '#/responses/Standard201Response'\r\n            403:\r\n              $ref: '#/responses/Standard403Response'\r\n            429:\r\n              $ref: '#/responses/Standard429Response'\r\n            507:\r\n              $ref: '#/responses/Standard507Response'\r\n            default:\r\n              $ref: '#/responses/StandardErrorResponse'\r\n\r\n    definitions:\r\n      error:\r\n        description: |\r\n          ...\r\n        type: object\r\n        required:\r\n          - message\r\n          - code\r\n        properties:\r\n          code:\r\n            type: integer\r\n            format: int64\r\n            description: The error code\r\n          message:\r\n            description: The error message\r\n            type: string\r\n          helpUrl:\r\n            description: ...\r\n            type: string\r\n            format: uri\r\n          cause:\r\n            $ref: '#/definitions/error'\r\n\r\n      urlPurgeData:\r\n        description: |\r\n         ...\r\n        type: object\r\n        required:\r\n          - objects\r\n        properties:\r\n          objects:\r\n            type: array\r\n            items:\r\n              type: string\r\n              minLength: 1\r\n          hostname:\r\n            type: string\r\n            minLength: 1\r\n\r\n      cpcodePurgeData:\r\n        description: |\r\n          ...\r\n        type: object\r\n        required:\r\n          - objects\r\n        properties:\r\n          objects:\r\n            type: array\r\n            items:\r\n              minLength: 1\r\n\r\n      tagPurgeData:\r\n        description: |\r\n          ...\r\n        type: object\r\n        required:\r\n          - objects\r\n        properties:\r\n          objects:\r\n            type: array\r\n            items:\r\n              type: string\r\n              minLength: 1\r\n\r\n      purgeError:\r\n        type: object\r\n        required:\r\n          - message\r\n        properties:\r\n          code:\r\n            type: integer\r\n            format: int64\r\n          message:\r\n            type: string\r\n\r\n      purgeResponse:\r\n        type: object\r\n        required:\r\n          - detail\r\n          - httpStatus\r\n          - supportId\r\n        properties:\r\n          describedBy:\r\n            type: string\r\n            readOnly: true\r\n          detail:\r\n            type: string\r\n            readOnly: true\r\n          estimatedSeconds:\r\n            type: integer\r\n            format: int32\r\n            readOnly: true\r\n          httpStatus:\r\n            type: integer\r\n            format: int32\r\n            readOnly: true\r\n          purgeId:\r\n            type: string\r\n            format: uuid4\r\n            readOnly: true\r\n          supportId:\r\n            type: string\r\n            format: uuid4\r\n            readOnly: true\r\n          title:\r\n            type: string\r\n            readOnly: true\r\n\r\n    responses:\r\n      Standard201Response:\r\n        description: Purge Success\r\n        headers:\r\n          X-Rate-Limit-Remaining:\r\n            type: integer\r\n          X-Rate-Limit-Reset:\r\n            type: string\r\n            format: date-time\r\n          X-Request-Id:\r\n            description: The request id this is a response to\r\n            type: string\r\n          X-Support-Id:\r\n            description: The support id this is a response to\r\n            type: string\r\n        schema:\r\n          $ref: \"#/definitions/purgeResponse\"\r\n      Standard403Response:\r\n        description: Unauthorized\r\n        headers:\r\n          X-Rate-Limit-Remaining:\r\n            type: integer\r\n          X-Rate-Limit-Reset:\r\n            type: string\r\n            format: date-time\r\n          X-Request-Id:\r\n            description: The request id this is a response to\r\n            type: string\r\n          X-Support-Id:\r\n            description: The support id this is a response to\r\n            type: string\r\n        schema:\r\n          $ref: \"#/definitions/purgeResponse\"\r\n      Standard429Response:\r\n        description: Rate Limited\r\n        headers:\r\n          X-Rate-Limit-Remaining:\r\n            type: integer\r\n          X-Rate-Limit-Reset:\r\n            type: string\r\n            format: date-time\r\n          X-Request-Id:\r\n            description: The request id this is a response to\r\n            type: string\r\n          X-Support-Id:\r\n            description: The support id this is a response to\r\n            type: string\r\n        schema:\r\n          $ref: \"#/definitions/purgeResponse\"\r\n      Standard507Response:\r\n        description: Queue Full\r\n        headers:\r\n          X-Rate-Limit-Remaining:\r\n            type: integer\r\n          X-Rate-Limit-Reset:\r\n            type: string\r\n            format: date-time\r\n          X-Request-Id:\r\n            description: The request id this is a response to\r\n            type: string\r\n          X-Support-Id:\r\n            description: The support id this is a response to\r\n            type: string\r\n        schema:\r\n          $ref: \"#/definitions/purgeResponse\"\r\n      StandardErrorResponse:\r\n        description: Error\r\n        headers:\r\n          X-Rate-Limit-Remaining:\r\n            type: integer\r\n          X-Rate-Limit-Reset:\r\n            type: string\r\n            format: date-time\r\n          X-Request-Id:\r\n            description: The request id this is a response to\r\n            type: string\r\n          X-Support-Id:\r\n            description: The support id this is a response to\r\n            type: string\r\n        schema:\r\n          $ref: \"#/definitions/error\"\r\n\r\n\r\n## Steps to reproduce\r\n\r\n    $ export GOPATH=`pwd`\r\n    $ go get -u github.com/go-swagger/go-swagger/cmd/swagger\r\n    $ mkdir -p src/gen\r\n    $ ./bin/swagger generate server -A gopurge --default-scheme=https -t src/gen swagger.yml\r\n    $ # go get deps..\r\n    $ go run src/gen/cmd/gopurge-server/main.go\r\n    # gen/restapi/operations/purge\r\n    src/gen/restapi/operations/purge/v3_c_p_code_responses.go:32:18: undefined: strfmt\r\n\r\n\r\n## Environment\r\nswagger version:  acd311c72\r\ngo version: go version go1.10.1 linux/amd64\r\nOS:   Ubuntu 16.04.4 LTS\r\n","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1480/timeline","performed_via_github_app":null,"state_reason":"completed"}