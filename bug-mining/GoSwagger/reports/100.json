{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/217","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/217/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/217/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/217/events","html_url":"https://github.com/go-swagger/go-swagger/issues/217","id":127595205,"node_id":"MDU6SXNzdWUxMjc1OTUyMDU=","number":217,"title":"Go swagger does not support plain values in bodies.","user":{"login":"cozmo","id":696340,"node_id":"MDQ6VXNlcjY5NjM0MA==","avatar_url":"https://avatars.githubusercontent.com/u/696340?v=4","gravatar_id":"","url":"https://api.github.com/users/cozmo","html_url":"https://github.com/cozmo","followers_url":"https://api.github.com/users/cozmo/followers","following_url":"https://api.github.com/users/cozmo/following{/other_user}","gists_url":"https://api.github.com/users/cozmo/gists{/gist_id}","starred_url":"https://api.github.com/users/cozmo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cozmo/subscriptions","organizations_url":"https://api.github.com/users/cozmo/orgs","repos_url":"https://api.github.com/users/cozmo/repos","events_url":"https://api.github.com/users/cozmo/events{/privacy}","received_events_url":"https://api.github.com/users/cozmo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436504,"node_id":"MDU6TGFiZWwxNDg0MzY1MDQ=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-swagger/go-swagger/milestones/2","html_url":"https://github.com/go-swagger/go-swagger/milestone/2","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/milestones/2/labels","id":1161277,"node_id":"MDk6TWlsZXN0b25lMTE2MTI3Nw==","number":2,"title":"Complete functionality","description":"Complete the rest of the swagger spec implementation.\r\n\r\nShould support the entire swagger specification for:\r\n\r\n* generation of server\r\n* generation of client\r\n* generation of spec\r\n\r\nThe generation of a spec and the generation of a server should be able to be used complementary.","creator":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":9,"closed_issues":29,"state":"open","created_at":"2015-06-12T03:23:47Z","updated_at":"2017-12-22T18:15:36Z","due_on":null,"closed_at":null},"comments":3,"created_at":"2016-01-20T03:14:29Z","updated_at":"2016-01-23T19:07:04Z","closed_at":"2016-01-23T19:07:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The following `swagger.yml` creates invalid server code when using `swagger generate server`. From what I can tell this is a valid spec according to the swagger spec and tested using both the online swagger editor/viewer as well as the provided go-swagger `validate` command. \n\n``` yml\nswagger: '2.0'\ninfo:\n  version: 1.0.0\n  title: 'string-body-api'\npaths:\n  /echo:\n    post:\n      summary: Post a string, get the same string back.\n      parameters:\n        - name: body\n          in: body\n          description: this argument is a string\n          schema:\n            type: string\n      responses:\n        '200':\n          description: this return value is a string\n          schema:\n            type: string\n```\n\nWhen running the generated code (no changes) the following error occurs:\n\n```\n$ go run cmd/string-body-server/*.go\n# ./restapi/operations\nrestapi/operations/post_echo_parameters.go:40: body.Validate undefined (type string has no field or method Validate)\n```\n\nLooking at that file the error becomes apparent\n\n``` go\nvar body string\nif err := route.Consumer.Consume(r.Body, &body); err != nil {\n  res = append(res, errors.NewParseError(\"body\", \"body\", \"\", err))\n} else {\n  if err := body.Validate(route.Formats); err != nil { // <- Calling validate without defining it\n    res = append(res, err)\n  }\n\n  if len(res) == 0 {\n    o.Body = &body\n  }\n}\n```\n\nNot sure what the best fix is here. We could define a custom type and add a Validate method, but that may make it painful to deal with non string types being passed around. Alternatively we could possibly turn off validation for plain types like strings and numbers. \n\n_Note that the above example uses `string`, but `number` and `boolean` have the same issue._\n","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/217/timeline","performed_via_github_app":null,"state_reason":"completed"}