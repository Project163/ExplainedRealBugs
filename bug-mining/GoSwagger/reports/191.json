{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/992","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/992/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/992/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/992/events","html_url":"https://github.com/go-swagger/go-swagger/issues/992","id":219155844,"node_id":"MDU6SXNzdWUyMTkxNTU4NDQ=","number":992,"title":"Missing `gcc` in docker image","user":{"login":"matiasanaya","id":1661017,"node_id":"MDQ6VXNlcjE2NjEwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/1661017?v=4","gravatar_id":"","url":"https://api.github.com/users/matiasanaya","html_url":"https://github.com/matiasanaya","followers_url":"https://api.github.com/users/matiasanaya/followers","following_url":"https://api.github.com/users/matiasanaya/following{/other_user}","gists_url":"https://api.github.com/users/matiasanaya/gists{/gist_id}","starred_url":"https://api.github.com/users/matiasanaya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matiasanaya/subscriptions","organizations_url":"https://api.github.com/users/matiasanaya/orgs","repos_url":"https://api.github.com/users/matiasanaya/repos","events_url":"https://api.github.com/users/matiasanaya/events{/privacy}","received_events_url":"https://api.github.com/users/matiasanaya/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436504,"node_id":"MDU6TGFiZWwxNDg0MzY1MDQ=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-04-04T06:51:50Z","updated_at":"2017-04-22T21:11:58Z","closed_at":"2017-04-22T20:07:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem statement\r\n\r\nWhen trying to generate the spec for a simple app that imports `\"net/http\"` using the docker image fails.\r\n\r\n## Steps to reproduce\r\n\r\n1) `mkdir /tmp/missing-gcc`\r\n\r\n2) `cd /tmp/missing-gcc`\r\n\r\n3) `vim main.go` ->\r\n\r\n```\r\n// Package main\r\n//\r\n// The purpose is to demonstrate swagger docs for a test app.\r\n//\r\n// Schemes: http\r\n// Host: localhost\r\n// Produces:\r\n// - application/text\r\n//\r\n// swagger:meta\r\npackage main\r\n\r\nimport \"net/http\"\r\n\r\nfunc main() {\r\n\thttp.ListenAndServe(\":8080\", nil)\r\n}\r\n```\r\n\r\n4) `docker run --rm -it -v $PWD:/go/src/missing-gcc -w /go/src/missing-gcc quay.io/goswagger/swagger generate spec` \r\n\r\nShould output:\r\n```\r\nexec: \"gcc\": executable file not found in $PATH\r\ncgo failed: [go tool cgo -objdir /tmp/net_C170243402 -- -I /tmp/net_C170243402 cgo_linux.go cgo_resnew.go cgo_socknew.go cgo_unix.go]: exit status 1\r\n/usr/local/go/src/net/lookup_unix.go:58:24: undeclared name: cgoLookupHost\r\n/usr/local/go/src/net/lookup_unix.go:70:24: undeclared name: cgoLookupIP\r\n/usr/local/go/src/net/lookup_unix.go:86:23: undeclared name: cgoLookupPort\r\n/usr/local/go/src/net/lookup_unix.go:95:24: undeclared name: cgoLookupCNAME\r\n/usr/local/go/src/net/lookup_unix.go:162:23: undeclared name: cgoLookupPTR\r\ncouldn't load packages due to errors: net\r\n```\r\n## Environment\r\nswagger version: 0.8.0\r\ncommit: d1a0b6c1007402b2ccde73702eb0e8e43a5e7498\r\n\r\n## Discussion\r\n\r\nAdding `RUN apk --update add alpine-sdk` to `Dockerfile` fixes this issue, though there should be a subset of packages which will result in a smaller image that should fix this as well.","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/992/timeline","performed_via_github_app":null,"state_reason":"completed"}