{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/406","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/406/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/406/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/406/events","html_url":"https://github.com/go-swagger/go-swagger/issues/406","id":140196471,"node_id":"MDU6SXNzdWUxNDAxOTY0NzE=","number":406,"title":"Basic auth doesn't compile","user":{"login":"goller","id":1922921,"node_id":"MDQ6VXNlcjE5MjI5MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1922921?v=4","gravatar_id":"","url":"https://api.github.com/users/goller","html_url":"https://github.com/goller","followers_url":"https://api.github.com/users/goller/followers","following_url":"https://api.github.com/users/goller/following{/other_user}","gists_url":"https://api.github.com/users/goller/gists{/gist_id}","starred_url":"https://api.github.com/users/goller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/goller/subscriptions","organizations_url":"https://api.github.com/users/goller/orgs","repos_url":"https://api.github.com/users/goller/repos","events_url":"https://api.github.com/users/goller/events{/privacy}","received_events_url":"https://api.github.com/users/goller/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436504,"node_id":"MDU6TGFiZWwxNDg0MzY1MDQ=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-03-11T14:27:13Z","updated_at":"2016-03-12T19:11:01Z","closed_at":"2016-03-12T19:11:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem statement\n\nWhen creating an api with just basic auth, the autogenerated code cannot be compiled.\n## Swagger specification\n\n``` yaml\nswagger: '2.0'\ninfo:\n  version: 0.1.0\n  title: Test my basic auth\nschemes:\n  - http\nsecurity:\n - basicAuth: []\nsecurityDefinitions:\n  basicAuth:\n    type: basic\n    description: HTTP Basic Authentication.\npaths:\n  /:\n    get:\n      responses:\n        '200':\n          description: Do\n```\n## Steps to reproduce\n1. `swagger generate server -f swagger.yml --name=howdy`\n2. `go build cmd/howdy-server/main.go`\n\nResults:\n\n```\n    restapi/operations/howdy_api.go:132: scheme declared and not used\n```\n## Code\n\n``` go\n128 // AuthenticatorsFor gets the authenticators for the specified security schemes  \n129 func (o *HowdyAPI) AuthenticatorsFor(schemes map[string]spec.SecurityScheme) map[string]httpkit.Authenticator {\n130                                                                                  \n131     result := make(map[string]httpkit.Authenticator)                             \n132     for name, scheme := range schemes {                                          \n133         switch name {                                                            \n134                                                                                  \n135         case \"basicAuth\":                                                        \n136             result[name] = security.BasicAuth(func(u, p string) (interface{}, error) { return o.BasicAuthAuth(u, p) })\n137                                                                                  \n138         }                                                                        \n139     }                                                                            \n140     return result\n```\n\nIf a api key or oauth is specified then the declared be used.\nLooks like the builder.gotmpl is the issue [here](https://github.com/go-swagger/go-swagger/blob/master/generator/templates/server/builder.gotmpl#L143).\n\nPerhaps a hacky solution would be:\n\n``` go\nfor name, scheme := range schemes {   \n    _ = scheme\n```\n","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/406/timeline","performed_via_github_app":null,"state_reason":"completed"}