{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2018","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2018/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2018/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2018/events","html_url":"https://github.com/go-swagger/go-swagger/issues/2018","id":469852646,"node_id":"MDU6SXNzdWU0Njk4NTI2NDY=","number":2018,"title":"Add `Payload() *models.TheError` to error types","user":{"login":"aeneasr","id":3372410,"node_id":"MDQ6VXNlcjMzNzI0MTA=","avatar_url":"https://avatars.githubusercontent.com/u/3372410?v=4","gravatar_id":"","url":"https://api.github.com/users/aeneasr","html_url":"https://github.com/aeneasr","followers_url":"https://api.github.com/users/aeneasr/followers","following_url":"https://api.github.com/users/aeneasr/following{/other_user}","gists_url":"https://api.github.com/users/aeneasr/gists{/gist_id}","starred_url":"https://api.github.com/users/aeneasr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aeneasr/subscriptions","organizations_url":"https://api.github.com/users/aeneasr/orgs","repos_url":"https://api.github.com/users/aeneasr/repos","events_url":"https://api.github.com/users/aeneasr/events{/privacy}","received_events_url":"https://api.github.com/users/aeneasr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436506,"node_id":"MDU6TGFiZWwxNDg0MzY1MDY=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":770973794,"node_id":"MDU6TGFiZWw3NzA5NzM3OTQ=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/generate%20client","name":"generate client","color":"72e0ad","default":false,"description":null},{"id":917819478,"node_id":"MDU6TGFiZWw5MTc4MTk0Nzg=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/good%20first%20issue","name":"good first issue","color":"d4c5f9","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-07-18T15:55:46Z","updated_at":"2019-07-19T00:18:16Z","closed_at":"2019-07-19T00:18:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem statement\r\n\r\nClient code generated by go-swagger includes structs for transporting error responses like 404, 409, etc:\r\n\r\n```go\r\n// NewCreateOAuth2ClientBadRequest creates a CreateOAuth2ClientBadRequest with default headers values\r\nfunc NewCreateOAuth2ClientBadRequest() *CreateOAuth2ClientBadRequest {\r\n\treturn &CreateOAuth2ClientBadRequest{}\r\n}\r\n\r\n/*CreateOAuth2ClientBadRequest handles this case with default header values.\r\n\r\ngenericError\r\n*/\r\ntype CreateOAuth2ClientBadRequest struct {\r\n\tPayload *models.GenericError\r\n}\r\n\r\nfunc (o *CreateOAuth2ClientBadRequest) Error() string {\r\n\treturn fmt.Sprintf(\"[POST /clients][%d] createOAuth2ClientBadRequest  %+v\", 400, o.Payload)\r\n}\r\n\r\nfunc (o *CreateOAuth2ClientBadRequest) readResponse(response runtime.ClientResponse, consumer runtime.Consumer, formats strfmt.Registry) error {\r\n\r\n\to.Payload = new(models.GenericError)\r\n\r\n\t// response payload\r\n\tif err := consumer.Consume(response.Body(), o.Payload); err != nil && err != io.EOF {\r\n\t\treturn err\r\n\t}\r\n\r\n\treturn nil\r\n}\r\n```\r\n\r\nFor each error code, a new struct is being generated. This makes getting the payload for these errors very cumbersome, as one has to do multiple type assertions.\r\n\r\nInstead, it would be super useful if these errors expose a method `Payload` that simply returns `o.Payload`:\r\n\r\n```go\r\nfunc (o *CreateOAuth2ClientBadRequest) Payload() *ThePayloadType {\r\n\treturn o.Payload\r\n}\r\n```\r\n\r\nThat way, we could simply create an interface and type assert against that, if the inner payload is required!\r\n\r\n## Swagger specification\r\n\r\nNot relevant.\r\n\r\n## Steps to reproduce\r\n\r\nGenerate a client using any swagger definitions that has HTTP Error Response Codes.\r\n\r\n## Environment\r\nswagger version: 0.19.0  \r\ngo version: 11.12.5\r\nOS: irrelevant","closed_by":{"login":"fredbi","id":14262513,"node_id":"MDQ6VXNlcjE0MjYyNTEz","avatar_url":"https://avatars.githubusercontent.com/u/14262513?v=4","gravatar_id":"","url":"https://api.github.com/users/fredbi","html_url":"https://github.com/fredbi","followers_url":"https://api.github.com/users/fredbi/followers","following_url":"https://api.github.com/users/fredbi/following{/other_user}","gists_url":"https://api.github.com/users/fredbi/gists{/gist_id}","starred_url":"https://api.github.com/users/fredbi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fredbi/subscriptions","organizations_url":"https://api.github.com/users/fredbi/orgs","repos_url":"https://api.github.com/users/fredbi/repos","events_url":"https://api.github.com/users/fredbi/events{/privacy}","received_events_url":"https://api.github.com/users/fredbi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2018/timeline","performed_via_github_app":null,"state_reason":"completed"}