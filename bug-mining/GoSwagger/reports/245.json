{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1552","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1552/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1552/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1552/events","html_url":"https://github.com/go-swagger/go-swagger/issues/1552","id":326685698,"node_id":"MDU6SXNzdWUzMjY2ODU2OTg=","number":1552,"title":"Schema rejects default without required properties followup","user":{"login":"johnliu26","id":39390987,"node_id":"MDQ6VXNlcjM5MzkwOTg3","avatar_url":"https://avatars.githubusercontent.com/u/39390987?v=4","gravatar_id":"","url":"https://api.github.com/users/johnliu26","html_url":"https://github.com/johnliu26","followers_url":"https://api.github.com/users/johnliu26/followers","following_url":"https://api.github.com/users/johnliu26/following{/other_user}","gists_url":"https://api.github.com/users/johnliu26/gists{/gist_id}","starred_url":"https://api.github.com/users/johnliu26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnliu26/subscriptions","organizations_url":"https://api.github.com/users/johnliu26/orgs","repos_url":"https://api.github.com/users/johnliu26/repos","events_url":"https://api.github.com/users/johnliu26/events{/privacy}","received_events_url":"https://api.github.com/users/johnliu26/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":148436509,"node_id":"MDU6TGFiZWwxNDg0MzY1MDk=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/question","name":"question","color":"cc317c","default":true,"description":null},{"id":878769621,"node_id":"MDU6TGFiZWw4Nzg3Njk2MjE=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/swagger%20spec","name":"swagger spec","color":"c8f210","default":false,"description":""},{"id":1027494423,"node_id":"MDU6TGFiZWwxMDI3NDk0NDIz","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/faq","name":"faq","color":"6096c9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-25T23:05:15Z","updated_at":"2018-12-22T19:18:41Z","closed_at":"2018-12-22T19:18:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem statement\r\nThe issue related to the issue #1501. If we have the default for the firstName and lastName but we didn't set the username which is required. There will have a error message shown that I have to put the default for the required field \"username\" as well. The “default” section must contain any “required” properties, which is counterintuitive because the “required” properties should always be provided explicitly and shouldn’t have defaults. \r\n\r\n## Swagger specification\r\n```yaml\r\npaths:\r\n  /person/{id}:\r\n    put:\r\n      summary: Put a person\r\n      description: Put a person.\r\n      consumes:\r\n        - application/json\r\n      parameters:\r\n        - name: id\r\n          in: path\r\n          description: ID of person\r\n          required: true\r\n          type: integer\r\n        - in: body\r\n          name: body\r\n          description: Person\r\n          schema:\r\n            type: object\r\n            required:\r\n              - username\r\n            default:\r\n              firstName: John\r\n              lastName: Smith\r\n            properties:\r\n              firstName:\r\n                type: string\r\n              lastName:\r\n                type: string\r\n              username:\r\n                type: string\r\n      responses:\r\n        200:\r\n          description: successful\r\n```\r\n## Steps to reproduce\r\n**swagger generate model -f person.yaml**\r\nI notice that the error message could be prevented if I use **swagger generate model --skip-validation**. But I think the error message should not show even I just use **swagger generate model -f person.yaml** because “required” properties should always be provided explicitly and shouldn’t have defaults. \r\n\r\n## Environment\r\nswagger version: 0.13.0\r\ngo version: go1.10.2\r\nOS: linux/amd64","closed_by":{"login":"casualjim","id":456109,"node_id":"MDQ6VXNlcjQ1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/456109?v=4","gravatar_id":"","url":"https://api.github.com/users/casualjim","html_url":"https://github.com/casualjim","followers_url":"https://api.github.com/users/casualjim/followers","following_url":"https://api.github.com/users/casualjim/following{/other_user}","gists_url":"https://api.github.com/users/casualjim/gists{/gist_id}","starred_url":"https://api.github.com/users/casualjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/casualjim/subscriptions","organizations_url":"https://api.github.com/users/casualjim/orgs","repos_url":"https://api.github.com/users/casualjim/repos","events_url":"https://api.github.com/users/casualjim/events{/privacy}","received_events_url":"https://api.github.com/users/casualjim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/1552/timeline","performed_via_github_app":null,"state_reason":"completed"}