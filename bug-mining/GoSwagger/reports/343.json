{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2878","repository_url":"https://api.github.com/repos/go-swagger/go-swagger","labels_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2878/labels{/name}","comments_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2878/comments","events_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2878/events","html_url":"https://github.com/go-swagger/go-swagger/issues/2878","id":1529149422,"node_id":"I_kwDOAZfQX85bJPfu","number":2878,"title":"UUID regex more liberal than spec","user":{"login":"angaz","id":10219618,"node_id":"MDQ6VXNlcjEwMjE5NjE4","avatar_url":"https://avatars.githubusercontent.com/u/10219618?v=4","gravatar_id":"","url":"https://api.github.com/users/angaz","html_url":"https://github.com/angaz","followers_url":"https://api.github.com/users/angaz/followers","following_url":"https://api.github.com/users/angaz/following{/other_user}","gists_url":"https://api.github.com/users/angaz/gists{/gist_id}","starred_url":"https://api.github.com/users/angaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/angaz/subscriptions","organizations_url":"https://api.github.com/users/angaz/orgs","repos_url":"https://api.github.com/users/angaz/repos","events_url":"https://api.github.com/users/angaz/events{/privacy}","received_events_url":"https://api.github.com/users/angaz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":493024387,"node_id":"MDU6TGFiZWw0OTMwMjQzODc=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/validator","name":"validator","color":"d4c5f9","default":false,"description":"Related to codegen generation of validations"},{"id":975136500,"node_id":"MDU6TGFiZWw5NzUxMzY1MDA=","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/pending%20PR","name":"pending PR","color":"7ff47f","default":false,"description":""},{"id":2724682227,"node_id":"MDU6TGFiZWwyNzI0NjgyMjI3","url":"https://api.github.com/repos/go-swagger/go-swagger/labels/strfmt","name":"strfmt","color":"330244","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-01-11T14:24:31Z","updated_at":"2023-12-30T08:49:26Z","closed_at":"2023-12-30T08:49:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\r\n\r\nThe regexes for validating the UUID strings seem to be more liberal than the specification defines.\r\n\r\nFrom the swagger-generated code:\r\n```\r\nUUIDPattern = `(?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}$`\r\n```\r\n\r\nAnd valid formats in the google UUID package:\r\ngithub.com/google/uuid/uuid.go\r\n```\r\n// Parse decodes s into a UUID or returns an error.  Both the standard UUID\r\n// forms of xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx and\r\n// urn:uuid:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx are decoded as well as the\r\n// Microsoft encoding {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx} and the raw hex\r\n// encoding: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.\r\n```\r\n\r\nAccording to the specification, the dashes are required, but we can see the google UUID package also allows without the dashes. The problem is that in the regex, the dashes are independently optional, so it's possible to leave out any dash, and it will pass the format validation, but not pass the `uuid.Parse` function, meaning that I still have to do validation, and subsequent error handling in my handlers.\r\n\r\nExamples:\r\nValid for generated code and `uuid.Parse`:\r\n```\r\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n```\r\nValid for generated code, but not `uuid.Parse` (first dash removed):\r\n```\r\nxxxxxxxxxxxx-xxxx-xxxx-xxxxxxxxxxxx\r\n```\r\n\r\nI'm not sure if it was the intention, but I would like to define a stricter validation regex. I can't use custom types on parameters, so would it be possible to change the regex for the generated code, or allow me to define my own regex for the UUID validation?\r\n\r\nI can make a PR to change the regex to allow the full 36-character UUID, as well as the 32-character dash-less UUID. But maybe someone is relying on this incorrect validation of the UUID. So I'm not sure if we can/should change it.","closed_by":{"login":"fredbi","id":14262513,"node_id":"MDQ6VXNlcjE0MjYyNTEz","avatar_url":"https://avatars.githubusercontent.com/u/14262513?v=4","gravatar_id":"","url":"https://api.github.com/users/fredbi","html_url":"https://github.com/fredbi","followers_url":"https://api.github.com/users/fredbi/followers","following_url":"https://api.github.com/users/fredbi/following{/other_user}","gists_url":"https://api.github.com/users/fredbi/gists{/gist_id}","starred_url":"https://api.github.com/users/fredbi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fredbi/subscriptions","organizations_url":"https://api.github.com/users/fredbi/orgs","repos_url":"https://api.github.com/users/fredbi/repos","events_url":"https://api.github.com/users/fredbi/events{/privacy}","received_events_url":"https://api.github.com/users/fredbi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-swagger/go-swagger/issues/2878/timeline","performed_via_github_app":null,"state_reason":"completed"}