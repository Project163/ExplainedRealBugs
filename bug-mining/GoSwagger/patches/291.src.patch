diff --git a/docs/use/models/schemas.md b/docs/use/models/schemas.md
index 0fe9dc8f..efcfeaea 100644
--- a/docs/use/models/schemas.md
+++ b/docs/use/models/schemas.md
@@ -98,11 +98,162 @@ It should be equivalent to the original spec but might miss some default values
 Models can be generated independently from other components of your API.
 Internal model structures may thus be safely regenerated if the contract at your endpoints does not change.
 
+##### Reusing previous generations
+
 Previously generated models can be reused when constructing a new API server or client (e.g. using `swagger generate server --model=[my existing package]`).
 
 The generator makes every effort to keep the go code readable, idiomatic and commented: models may thus be manually customized or extended.
 Such customized types may be later on reused in other specs, using the `x-go-type` extension.
 
+##### Using custom types
+
+NOTE: what follows only applies to _schema_ models, not simple types used a query parameters or headers.
+
+You can bind models to external type definitions. The latter may have been generated models or bespoke types.
+
+This is done with the `x-go-type` extension.
+
+Examples:
+
+This example replaces all references to `myModel` by `github.com/example/models/MyCustomModel`
+```yaml
+definitions:
+  myModel:
+    type: object
+    x-go-type:
+      type: MyCustomModel
+      import:
+        package: github.com/example/models
+```
+
+Note that the external model must implement the `github.com/go-openapi/runtime.Validatable` interface: it must know how to validate a schema.
+No model is generated for this definition.
+
+Sometimes, it is impractical to impose this constraint on the external type. You can then use the "embedded" option to create an embedded type
+based on the external model.
+
+Example:
+```yaml
+definitions:
+  Time:
+    type: string
+    format: date-time         # <- documentary only (external types takes over). This has no impact on generation.
+    x-go-type:
+      type: Time
+      import:
+        package: time
+      embedded: true
+```
+
+This example generates a type in the package model with a `Validate` method like this:
+
+```go
+import (
+	"time"
+
+	"github.com/go-openapi/runtime"
+	"github.com/go-openapi/strfmt"
+	"github.com/go-openapi/swag"
+)
+
+// Time time
+//
+// swagger:model Time
+type Time struct {
+	time.Time
+}
+
+func (m Time) Validate(formats strfmt.Registry) error {
+	var f interface{} = m.Time
+	if v, ok := f.(runtime.Validatable); ok {
+		return v.Validate(formats)
+	}
+	return nil
+}
+```
+
+The generated `Validate` method uses any existing `Validate` method or just returns `nil` (i.e. data is valid).
+
+NOTE: at the moment, we do not support the `format` specification over the embedded type. Format will be documentary only in that case.
+
+Other examples:
+```yaml 
+  Raw:
+    x-go-type:
+      type: RawMessage
+      import:
+        package: encoding/json
+      hints:
+        kind: primitive
+      embedded: true
+```
+```go 
+type Raw struct {
+	json.RawMessage
+}
+
+func (m Raw) Validate(formats strfmt.Registry) error {
+	var f interface{} = m.RawMessage
+	if v, ok := f.(runtime.Validatable); ok {
+		return v.Validate(formats)
+	}
+	return nil
+}
+```
+
+You can embed types as pointers just the same.
+
+Example:
+```yaml
+definitions:
+  Time:
+    type: string
+    x-go-type:
+      type: Time
+      import:
+        package: time
+      hints:
+        nullable: true  # <- nullable here refers to the nullability of the embedded external type 
+      embedded: true
+```
+
+```go
+type Time struct {
+	*time.Time
+}
+```
+
+
+Using external types is powerful, but normally you still have to describe your type in the specification. That is expected,
+since this is how you document your API.
+
+If you don't (that is the type referred to doesn't correspond to the type in the spec), then the generator may fail to produce correct code,
+because it simply has no way to infer what _kind_ of object is being referred to.
+
+To solve this kind of problem, you may hint the generator to produce a correct usage of the external types, even though the specification
+doesn't reflect the correct nature of the object.
+
+Example:
+```yaml 
+definitions:
+  Error:
+    type: object
+
+  Hotspot:
+    x-go-type:
+      type: Hotspot
+      import:
+        package: github.com/go-swagger/go-swagger/fixtures/enhancements/2224/external
+      hints:
+        kind: object
+    x-nullable: true
+```
+In this example, the `Hotspot` schema is empty in the specification. The generator therefore can only guess that this is some `interface{}` type.
+Now thanks to the hint `kind: object`, we instruct the generator to expect an object so as to correctly reference this object.
+
+At the moment, valid hints are: ` map|object|array|interface|primitive|tuple|stream`.
+
+
 ### Swagger vs JSONSchema
 
 A Swagger 2.0 schema corresponds by and large to a JSON-schema-draft4. However, there are some substantial differences (see [swagger]):
diff --git a/fixtures/enhancements/2224/fixture-2224-models.yaml b/fixtures/enhancements/2224/fixture-2224-models.yaml
new file mode 100644
index 00000000..b3e1e31d
--- /dev/null
+++ b/fixtures/enhancements/2224/fixture-2224-models.yaml
@@ -0,0 +1,172 @@
+definitions:
+  Time:
+    type: string
+    format: date-time
+    x-go-type:
+      import:
+        package: time
+      embedded: true
+      type: Time
+    x-nullable: true
+
+  TimeAsObject:  # <- time.Time is actually a struct
+    type: string
+    format: date-time
+    x-go-type:
+      import:
+        package: time
+        hints:
+          kind: object
+      embedded: true
+      type: Time
+    x-nullable: true
+
+  Raw:
+    x-go-type:
+      import:
+        package: encoding/json
+      hints:
+        kind: primitive
+      embedded: true
+      type: RawMessage
+
+  Request:
+    x-go-type:
+      import:
+        package: net/http
+      hints:
+        kind: object
+      embedded: true
+      type: Request
+
+  RequestPointer:
+    x-go-type:
+      import:
+        package: net/http
+      hints:
+        kind: object
+        nullable: true
+      embedded: true
+      type: Request
+
+  OldStyleImport:
+    type: object
+    x-go-type:
+      import:
+        package: net/http
+      type: Request
+
+  OldStyleRenamed:
+    type: object
+    x-go-type:
+      import:
+        package: net/http
+      type: Request
+    x-go-name: OldRenamed
+
+  ObjectWithEmbedded:
+    type: object
+    properties:
+      a:
+        $ref: '#/definitions/Time'
+      b:
+        $ref: '#/definitions/Request'
+      c:
+        $ref: '#/definitions/TimeAsObject'
+      d:
+        $ref: '#/definitions/Raw'
+      e:
+        $ref: '#/definitions/JSONObject'
+      f:
+        $ref: '#/definitions/JSONMessage'
+      g:
+        $ref: '#/definitions/JSONObjectWithAlias'
+
+  ObjectWithExternals:
+    type: object
+    properties:
+      a:
+        $ref: '#/definitions/OldStyleImport'
+      b:
+        $ref: '#/definitions/OldStyleRenamed'
+
+  Base:
+    properties: &base
+      id:
+        type: integer
+        format: uint64
+        x-go-custom-tag: 'gorm:"primary_key"'
+      FBID:
+        type: integer
+        format: uint64
+        x-go-custom-tag: 'gorm:"index"'
+      created_at:
+        $ref: "#/definitions/Time"
+      updated_at:
+        $ref: "#/definitions/Time"
+      version:
+        type: integer
+        format: uint64
+
+  HotspotType:
+    type: string
+    enum:
+      - A
+      - B
+      - C
+
+  Hotspot:
+    type: object
+    allOf:
+      - properties: *base
+      - properties:
+          access_points:
+            type: array
+            items:
+              $ref: '#/definitions/AccessPoint'
+          type:
+            $ref: '#/definitions/HotspotType'
+        required:
+          - type
+
+  AccessPoint:
+    type: object
+    allOf:
+      - properties: *base
+      - properties:
+          mac_address:
+            type: string
+            x-go-custom-tag: 'gorm:"index;not null;unique"'
+          hotspot_id:
+            type: integer
+            format: uint64
+          hotspot:
+            $ref: '#/definitions/Hotspot'
+
+  JSONObject:
+    type: object
+    additionalProperties:
+      type: array
+      items:
+        $ref: '#/definitions/Raw'
+
+  JSONObjectWithAlias:
+    type: object
+    additionalProperties:
+      type: object
+      properties:
+        message:
+          $ref: '#/definitions/JSONMessage'
+
+  JSONMessage:
+    $ref: '#/definitions/Raw'
+
+  Incorrect:
+    x-go-type:
+      import:
+        package: net
+        hints:
+          kind: array
+      embedded: true
+      type: Buffers
+    x-nullable: true
diff --git a/fixtures/enhancements/2224/fixture-2224.yaml b/fixtures/enhancements/2224/fixture-2224.yaml
new file mode 100644
index 00000000..2fa4379a
--- /dev/null
+++ b/fixtures/enhancements/2224/fixture-2224.yaml
@@ -0,0 +1,106 @@
+swagger: "2.0"
+info:
+  title: "external types with hints"
+  version: "0.0.1"
+paths:
+  "/":
+    post:
+      tags:
+      - hotspot
+      summary: Create a Hotspot
+      operationId: "CreateHotspot"
+      consumes:
+      - application/json
+      produces:
+      - application/json
+      parameters:
+      - in: body
+        name: Hotspot
+        required: false
+        schema:
+          $ref: '#/definitions/Hotspot'
+      responses:
+        201:
+          description: Hotspot created.
+          schema:
+            $ref: '#/definitions/Hotspot'
+        400:
+          description: Bad request.
+          schema:
+            $ref: '#/definitions/Error'
+        422:
+          description: Unprocessable entity
+          schema:
+            $ref: '#/definitions/Error'
+        500:
+          description: Unexpected error.
+          schema:
+            $ref: '#/definitions/Error'
+  "/embedded":
+    get:
+      tags:
+      - embedded
+      responses:
+        201:
+          description: embedded type
+          schema:
+            $ref: '#/definitions/Embedded'
+
+definitions:
+  Error:
+    type: object
+
+  Hotspot:
+    x-go-type:
+      type: Hotspot
+      import:
+        package: github.com/go-swagger/go-swagger/fixtures/enhancements/2224/external
+      hints:
+        kind: object
+    x-nullable: true
+
+  HotspotNoHint:
+    type: object
+    x-go-type:
+      type: Hotspot
+      import:
+        package: github.com/go-swagger/go-swagger/fixtures/enhancements/2224/external
+    x-nullable: true
+
+  ExternalArray:
+    x-go-type:
+      type: HotArray
+      import:
+        package: github.com/go-swagger/go-swagger/fixtures/enhancements/2224/external
+        hints:
+          kind: array
+    x-nullable: true
+
+  ExternalArrayNoHint:
+    type: array
+    items:
+      type: object
+    x-go-type:
+      type: HotArray
+      import:
+        package: github.com/go-swagger/go-swagger/fixtures/enhancements/2224/external
+    x-nullable: true
+
+  ExternalPrimitive:
+    x-go-type:
+      type: Time
+      import:
+        package: github.com/go-swagger/go-swagger/fixtures/enhancements/2224/external
+        hints:
+          kind: primitive
+    x-nullable: true
+
+  Embedded:
+    x-go-type:
+      type: Hotspot
+      import:
+        package: github.com/go-swagger/go-swagger/fixtures/enhancements/2224/external
+      hints:
+        kind: object
+      embedded: true
+    x-go-name: "externalWithEmbed"
diff --git a/generator/bindata.go b/generator/bindata.go
index 09d0758e..a02b9187 100644
--- a/generator/bindata.go
+++ b/generator/bindata.go
@@ -11,8 +11,9 @@
 // templates/docstring.gotmpl (270B)
 // templates/header.gotmpl (432B)
 // templates/model.gotmpl (700B)
-// templates/schema.gotmpl (5.422kB)
+// templates/schema.gotmpl (5.504kB)
 // templates/schemabody.gotmpl (14.007kB)
+// templates/schemaembedded.gotmpl (551B)
 // templates/schemapolymorphic.gotmpl (2.061kB)
 // templates/schematype.gotmpl (965B)
 // templates/schemavalidator.gotmpl (31.954kB)
@@ -326,7 +327,7 @@ func templatesModelGotmpl() (*asset, error) {
 	return a, nil
 }
 
-var _templatesSchemaGotmpl = []byte("\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\xff\xec\x58\x5d\x6f\xdb\x36\x17\xbe\xcf\xaf\x38\xaf\xdf\x6c\x90\x82\x54\xde\x7a\xb5\x75\xc8\x45\xd2\xac\x6b\x07\xac\x29\xea\xae\x05\xd6\x15\x05\x2d\x1e\x59\x6c\x29\x52\x25\xa9\xb4\x9e\xe0\xff\x3e\xf0\x43\x32\x65\x4b\x4e\x82\x6c\xc0\x30\x2c\x57\x8e\x48\x1e\x3e\xe7\x39\xdf\x6c\xdb\x07\xc0\x0a\x20\x82\x42\xf6\x4c\x5f\x10\x8d\xaf\xd6\x35\xda\xdf\x3f\x7e\xa9\xa5\x32\x48\x21\x11\xd2\xd8\x0f\x8b\xa6\x46\x75\xce\x19\xd1\x29\x6c\x36\x47\x00\xf6\xac\xc1\xaa\xe6\xc4\x20\xcc\x74\x5e\x62\x45\x5e\x48\xbe\xae\xa4\xaa\x4b\x96\xcf\x20\xb3\xfb\xec\x2e\xe4\x1a\xed\x35\x03\x29\x5e\x88\xb1\xd7\xb5\x2d\xd4\x44\xe7\x84\xb3\x3f\x10\xb2\xe7\xa4\x42\xd8\x6c\xec\xd7\xad\x78\xbb\x6f\xe1\xae\xb0\x00\xbd\xec\xb6\x9d\x9f\xc0\x13\xa9\x9c\x10\x0d\x14\x73\x4e\x14\x52\x20\x1a\x8e\x15\x16\x20\x05\x68\x59\x21\x48\x53\xa2\xdf\x74\x0a\x1f\x1a\x6d\xba\x9d\x60\x4a\xf4\x00\x88\x06\x02\x2b\xc9\x89\x58\xc1\x7b\x62\xd1\x21\x7d\x1f\x4e\x60\xb6\xca\xfc\xae\x73\x38\x83\x8b\x0c\x9e\x4b\xa8\xd0\x94\x92\x82\x2e\x09\xe7\xb0\x44\x50\xd8\x5d\x9e\x01\x9c\xcc\x7b\x7a\xbc\xce\x3d\xad\xee\x3b\x0c\x15\x5b\x86\xc5\x05\x2a\xe6\x08\x50\x91\x72\x6f\x4a\x14\x0e\xa5\xc3\xb4\xbd\xc6\xc2\xad\xb7\x54\x07\xa4\x14\x0b\x26\x10\x0a\x92\x1b\xa9\xd6\x01\xa4\x86\xcf\xcc\x94\x60\x4a\xa6\xbd\x94\x2c\x06\x88\x82\x0e\x8c\x14\x23\x97\xca\x82\x7f\x2c\xab\x9a\xe3\x97\xab\xe5\x07\xcc\x9d\x1f\xbc\x6a\x6a\xee\x3c\xe4\x9c\x52\x66\x98\x14\x84\xbf\x50\xb2\x46\x65\x18\xea\x0e\xf8\xab\xab\xcb\xab\xa4\x50\x48\xd3\x47\x50\x12\x41\x39\x42\x4e\x34\x82\x2c\x40\x37\x4b\xc7\x26\x13\x25\x2a\x66\x98\x58\x41\xa1\x64\x05\x96\x08\xcf\xb3\x03\x3c\x26\xfd\x14\x98\xd6\x0d\xc2\xff\x1f\x3e\x7c\xf8\x4d\xa7\x46\x60\xd4\x52\x1d\x3c\xa7\xf3\x29\x56\x40\xf0\xdd\xde\x99\x2d\xbc\x7e\x5f\xdb\x76\x4a\x8f\x3a\xa0\x5d\x16\x34\xfe\x31\xb4\x9c\xf7\xf8\x0b\x49\xd7\xc1\xd5\x3d\x92\x07\xa0\x88\x58\x21\x64\x03\x56\x7a\xa0\x53\x4e\x61\xff\xe6\xf3\x91\x50\xd8\x6c\x60\x85\x46\x3b\x37\x68\x5b\x28\x9b\x8a\x88\x41\x9c\xc8\xc2\x5b\xb7\x27\xd0\x59\xc0\x7a\x66\xbd\x45\xf0\xb9\x64\x79\x09\xd6\xe9\x65\x01\x24\x22\xdb\xee\x21\x2b\xab\x10\x33\x1a\x98\x30\xa8\x0a\x92\x63\xcc\x2e\x40\xd1\x88\x1c\x92\xb6\x85\xe3\xec\x25\xe6\xc8\xae\x51\x05\x68\x27\x03\xc0\xc7\x01\x71\x3a\xaa\x47\x92\x8e\x11\x18\xc5\x73\x7f\x5f\x4f\x14\x7e\x82\xe3\xec\x92\xe9\x5c\xb1\x8a\x09\x62\xa4\x7a\xc2\x90\xd3\x5e\xf9\xe8\x04\x80\x42\xd3\x28\xe1\xae\x56\x4c\x98\x02\x66\x5f\x7d\x9a\xed\x9e\x7f\x4d\x78\xb3\x73\x72\xe8\xfd\x63\xf2\x86\x6a\xc3\x66\x93\xb5\x6d\x4e\x2a\x8c\xb5\x73\xc0\x76\xa5\xfa\xf0\xea\x3e\x6d\x8e\x62\x53\x2f\xd0\x8c\x5a\x5b\xdf\xcd\xda\xf7\x30\xd2\x04\x82\xe4\x9a\xf0\xc3\x96\x4a\x61\xc4\x56\x02\xef\x60\xab\xbb\x90\x0a\x67\x70\x4d\xf8\x4d\xd4\x8e\x2e\x8d\xfc\x6b\xc3\xef\x12\x0b\xd2\x70\xb3\x9f\xad\xe0\x41\x9f\x62\xbe\xfd\xee\xfb\x38\x08\x3a\x76\x0f\x73\xdb\xe9\x9a\xc2\xaf\xa2\x22\xca\x16\x88\x9f\x17\x57\xcf\x93\x25\xbc\x7d\xb7\x5c\x1b\x4c\x01\x95\x92\x2a\xa2\x6f\xba\x00\xfa\x2a\x39\xba\xd4\x9f\xbe\x26\x0a\xcc\x81\xe3\xfd\x46\x1b\x4b\x4a\xc1\xa3\x33\xf8\xa0\xa5\xc8\x7a\x74\x89\xc7\x95\xb4\x6d\x1c\x33\x89\xdd\xd4\xd3\x94\x6e\x36\xe9\x29\x7c\x6d\xd2\x1f\x9c\x8c\xff\x9d\x81\x60\x7c\xe0\x01\x21\x52\x50\xa9\x3d\x83\x1c\xb8\x7a\x79\x0f\xa1\x27\xfb\x96\x38\x1b\xe7\x21\x31\xe9\xd1\x8e\x48\xc1\x3a\x6f\x1a\xf1\x92\xdd\x6c\x70\x9f\x0e\xe5\x68\x44\x36\x2b\x20\x09\xfd\xd6\x0b\x1b\x29\x86\x5d\xfb\x72\xea\xdb\x0e\x57\x73\x1b\x6d\x64\xf5\x44\xaa\x8a\x18\x83\xca\xb7\x60\x89\x36\x8a\x89\xd5\x63\x29\x0c\x61\x42\x43\xf6\x1b\x2a\x09\xb3\xe4\xf7\xd9\x2c\x4d\xd3\xd1\xde\x22\x74\x32\xbb\xad\xc5\x04\x2a\xd7\x9d\x2d\x77\x1a\x95\x50\xcb\xce\x39\xbf\x2a\xe2\x32\x76\xa8\xc8\x4d\x95\xb9\xbf\xa8\xce\x85\x06\x62\x2f\xef\xfd\x57\x9b\xfe\x29\xb5\xe9\xde\x16\xfa\x17\x16\xa6\x91\xc5\xed\x87\xa9\x9e\x79\xb4\xc5\x66\x22\x6a\xdf\xfa\x0a\xb5\x57\xe9\x22\x96\x2a\x52\x5f\xa9\x05\x67\x39\xfe\x84\x36\xa1\x4c\xa5\x81\x3d\x62\xf7\x32\xc7\xce\xcc\xd0\x8f\x8e\x22\xe7\x0d\xc5\xd7\x84\x33\x6a\xf9\x9d\x18\x1a\x43\x63\xea\xf3\x9c\x1f\xda\xb6\x83\x15\x50\xe9\xda\x75\x3b\xe4\xb8\x39\xa6\x9b\x5f\x86\xf3\x94\xbd\xcf\xe7\x43\x3f\x9f\x3c\xeb\x3b\x56\x7b\x9d\x51\x48\xaa\x34\xf5\x8b\x2f\xf1\x53\xc3\xec\x40\x98\x3d\x25\x3a\x60\x63\xd2\xa6\xce\xa7\xa4\x4f\x4c\xe3\x99\xd3\xab\x7f\xdd\xe9\x33\x24\x2c\x4c\xb3\x37\x80\xb0\x07\xe6\x73\x08\xf7\x22\x04\x61\x56\x67\x1b\x23\x63\x01\xe4\xf8\xf1\x11\xe4\xee\x07\x66\x67\xaf\x0a\x45\x08\x3a\xd5\x08\xc3\x2a\xcc\x82\x4c\xb2\xe4\x18\x75\xec\xcb\xc6\x40\x49\x34\x08\xd9\xdd\xe5\x94\x35\x12\xf2\x12\xf3\x8f\x9e\xc7\xa9\x36\xc6\x8f\x4b\x5e\x9b\x7e\xc2\xdb\x9b\xfd\x26\x46\xbe\x93\x78\x54\xf2\x62\x92\x9d\xc9\x2b\x85\x38\x02\xc3\xa0\x08\xc3\xa8\xba\xc3\x48\x96\xf6\xbc\x26\x85\x2b\x93\x1a\xb4\x51\x45\x65\xb2\x97\xb8\x62\xda\xa8\x75\xdc\x69\x45\x65\x7f\xa7\xc2\x3b\xc6\xa3\x91\x10\xa8\x44\xed\x2c\xdb\x53\x7f\x33\xf3\x8f\x40\x48\x59\x4f\x8d\xd5\x83\x68\xc9\xde\x10\x61\xf4\x2f\xbe\x01\xba\x60\x82\xa8\xf5\x48\xf0\x55\xf1\xfa\x4d\x31\x18\xa2\x65\x24\xc8\x83\x7a\x9a\xad\x04\x31\x8d\x42\x28\xa4\x1a\x4f\x29\x36\xa8\xb6\x0b\xcf\x0c\x56\xda\x16\x63\xdb\x7b\x58\x87\xd9\x8d\xc1\x60\xdb\xfd\x77\x0d\xaf\xe3\x53\x32\xe5\x28\x51\xe2\x73\x43\x7e\x76\x78\x5f\xe8\x14\xe2\x67\x26\x2a\x73\xdf\x07\x75\xaf\x24\xf1\x62\x98\x77\xd7\xdb\x58\xbf\x94\xf9\x22\xda\x1e\xe5\xe2\xb1\x4e\x31\x85\x8a\xd4\x6f\xbd\xfc\x77\x07\xeb\xcc\xad\xa7\x8d\x5d\x35\x3d\xb7\xbd\x80\xbf\x47\xbf\x29\xed\xde\xde\x42\xa9\x03\xbd\xf0\x7c\x7e\x8b\x82\xa4\x4b\xd9\x50\x58\x62\x28\x61\xd4\xbf\xb8\x71\xf6\x11\x41\xe1\xaa\xe1\x44\x45\xcf\x12\x7b\x75\x8f\x50\x0a\x45\xc3\x39\xe8\xa6\xb6\x89\x63\xda\x65\xc7\xaa\xa0\x05\x68\x7c\x02\xad\xa4\x8d\xdd\x53\x17\xbc\xc3\xc7\x0e\x4b\x20\x30\x0d\x75\xa3\x4b\xa4\x40\xe5\x67\x61\x73\xa4\xdd\xb8\xed\x5b\xc6\x83\xf8\xcf\x00\x00\x00\xff\xff\x67\xbc\x6f\xc6\x2e\x15\x00\x00")
+var _templatesSchemaGotmpl = []byte("\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\xff\xec\x58\x5f\x6f\xdb\x36\x10\x7f\xcf\xa7\xb8\x79\xd9\x20\x05\xa9\xbc\xf5\x69\xeb\x90\x87\xa4\x69\xd7\x0e\x58\x53\xd4\x5d\x0b\xac\x2b\x0a\x5a\x3c\x59\x6c\x29\x52\x25\xa9\xb4\x9e\xe0\xef\x3e\x50\xa4\x64\xca\xa6\x9c\x06\xd9\x80\x61\x58\x9e\x1c\xf1\x74\xbc\xfb\xdd\xdf\x9f\xda\xf6\x1e\xb0\x02\x88\xa0\x90\x3d\xd5\x17\x44\xe3\xcb\x75\x8d\xf6\xf7\xa3\xcf\xb5\x54\x06\x29\x24\x42\x1a\xfb\x60\xd1\xd4\xa8\xce\x39\x23\x3a\x85\xcd\xe6\x08\xc0\xbe\x6b\xb0\xaa\x39\x31\x08\x33\x9d\x97\x58\x91\xe7\x92\xaf\x2b\xa9\xea\x92\xe5\x33\xc8\xac\x9c\x95\x42\xae\xd1\x5e\x33\xd2\xe2\x94\x18\x7b\x5d\xdb\x42\x4d\x74\x4e\x38\xfb\x13\x21\x7b\x46\x2a\x84\xcd\xc6\x3e\xdd\xaa\xb7\x72\x8b\xee\x0a\x6b\xa0\xd3\xdd\xb6\xf3\x13\x78\x2c\x55\xa7\x44\x03\xc5\x9c\x13\x85\x14\x88\x86\x63\x85\x05\x48\x01\x5a\x56\x08\xd2\x94\xe8\x84\x4e\xe1\x7d\xa3\x4d\x2f\x09\xa6\x44\x67\x00\xd1\x40\x60\x25\x39\x11\x2b\x78\x47\xac\x75\x48\xdf\xf9\x37\x30\x5b\x65\x4e\xea\x1c\xce\xe0\x22\x83\x67\x12\x2a\x34\xa5\xa4\xa0\x4b\xc2\x39\x2c\x11\x14\xf6\x97\x67\x00\x27\xf3\x01\x1e\xe7\xf3\x00\x6b\xf7\x1c\xc6\x8e\x2d\xfd\xe1\x02\x15\xeb\x00\x50\x81\x73\xaf\x4b\x14\x9d\x95\x9d\x4d\xdb\x6b\xac\xb9\xf5\x16\x6a\x6f\x29\xc5\x82\x09\x84\x82\xe4\x46\xaa\xb5\x37\x52\xc3\x27\x66\x4a\x30\x25\xd3\x4e\x4b\x16\x1a\x88\x82\x46\x82\xf4\xa8\x5a\x22\xa5\x48\xa7\xe3\xdc\x4b\xec\x06\x39\xf4\x5c\x2a\xab\xeb\xa1\xac\x6a\x8e\x9f\xaf\x96\xef\x31\xef\xf2\xe8\x65\x53\xf3\x2e\xc3\xce\x29\x65\x86\x49\x41\xf8\x73\x25\x6b\x54\x86\xa1\xee\x1d\x7f\x79\x75\x79\x95\x14\x0a\x69\xfa\x00\x4a\x22\x28\x47\xc8\x89\x46\x90\x05\xe8\x66\xd9\x45\x83\x89\x12\x15\x33\x4c\xac\xa0\x50\xb2\x02\x0b\xa4\x8b\x53\xe7\x70\x4c\xfb\x29\x30\xad\x1b\x84\xaf\xef\xdf\xbf\xff\x5d\x0f\x83\x8f\x88\xf5\xdc\x67\x5e\x9f\x93\xac\x00\x9f\xfb\x43\x31\x58\xf3\x06\xb9\xb6\xed\x9d\x8e\x26\xb0\x3d\x16\x34\xfc\x31\x8e\xbc\x43\xf2\x42\xd2\xb5\x47\xd1\x59\x72\x0f\x14\x11\x2b\x84\x6c\x84\xca\x60\xe8\x54\x52\xd9\xbf\xf9\x3c\x52\x4a\x9b\x0d\xac\xd0\xe8\x2e\x8d\xda\x16\xca\xa6\x22\x62\x54\x67\xb2\x70\xd9\x31\x00\xd8\x45\xc0\x66\x76\xbd\xb5\xe0\x53\xc9\xf2\x12\x6c\xd1\xc8\x02\x48\x00\xb6\x95\x21\x2b\xeb\x10\x33\x1a\x98\x30\xa8\x0a\x92\x63\x88\x2e\x40\xd1\x88\x1c\x92\xb6\x85\xe3\xec\x05\xe6\xc8\xae\x51\x79\xd3\x4e\x46\x06\x1f\x7b\x8b\xd3\xa8\x1f\x49\x1a\x03\x30\xe8\x07\xc3\x7d\x03\x50\xf8\x11\x8e\xb3\x4b\xa6\x73\xc5\x2a\x26\x88\x91\xea\x31\x43\x4e\x07\xe7\x83\x37\x00\x14\x9a\x46\x89\xee\x6a\xc5\x84\x29\x60\xf6\xcd\xc7\xd9\xee\xfb\xaf\x08\x6f\x76\xde\x1c\x67\x7f\x4c\xdf\xd8\x6d\xd8\x6c\xb2\xb6\xcd\x49\x85\xa1\x77\x9d\x61\xbb\x5a\x05\x0d\x95\x6e\x8e\xc2\x50\x2f\xd0\x44\xa3\xad\x6f\x17\xed\x3b\x04\x69\xc2\x82\xe4\x9a\xf0\xc3\x91\x4a\x21\x12\x2b\x81\xb7\x88\xd5\x6d\x40\x85\x33\xb8\x26\xfc\x26\x68\xa3\x47\x91\x7f\x6d\xf9\x5d\x62\x41\x1a\x6e\xf6\xbb\x15\xdc\x1b\x5a\xcc\xf7\x3f\xfc\x18\x16\x41\x8f\xee\x61\x6c\x7b\x5f\x53\xf8\x4d\x54\x44\xd9\x01\xf3\xcb\xe2\xea\x59\xb2\x84\x37\x6f\x97\x6b\x83\x29\xa0\x52\x52\x05\xf0\x4d\x0f\x50\x37\x65\xa3\x47\xc3\xdb\xd7\x44\x81\x39\xf0\xfa\x20\x68\x6b\x49\x29\x78\x70\x06\xef\xb5\x14\xd9\x60\x5d\xe2\xec\x4a\xda\x36\xac\x99\xc4\x0a\x0d\x30\xa5\x9b\x4d\x7a\x0a\xdf\x9a\xf4\xa7\x4e\xc7\x57\x67\x20\x18\x1f\x65\x80\xaf\x14\x54\x6a\x2f\x20\x07\xae\x5e\xde\x41\xe9\xc9\x7e\x24\xce\xe2\x38\x24\x26\x3d\xda\x51\x29\x58\x9f\x4d\x91\x2c\xd9\xed\x06\x77\xd9\x70\x8e\x22\xba\x59\x01\x89\xdf\xd7\x9e\xdb\x4a\x31\xec\xda\x8d\x53\xb7\xb6\x74\x33\xb7\xd1\x46\x56\x8f\xa5\xaa\x88\x31\xa8\xdc\x0a\x97\x68\xa3\x98\x58\x3d\x94\xc2\x10\x26\x34\x64\xbf\xa3\x92\x30\x4b\xfe\x98\xcd\xd2\x34\x8d\xee\x26\x7e\x13\xda\x5d\x4d\x26\xac\xea\xb6\xbb\xe5\xce\xa2\xe3\x67\xd9\x39\xe7\x57\x45\x38\xc6\x0e\x0d\xb9\xa9\x31\xf7\x37\xcd\x39\xbf\x40\xec\xf5\xbd\xff\x67\xd3\xbf\x65\x36\xdd\x39\x42\xff\xc1\xc1\x14\x39\xdc\x3e\x98\xda\x99\xa3\x2b\x36\x13\xc1\xfa\x36\x4c\xa8\xbd\x49\x17\xa0\x54\x91\xfa\x4a\x2d\x38\xcb\xf1\x67\xb4\x0d\x65\xaa\x0d\xec\x01\xbb\xd7\x39\x76\x38\xc7\x40\x3d\x45\xce\x1b\x8a\xaf\x08\x67\xd4\xe2\x1b\x25\x9d\xfd\xb3\x9e\x7b\xa4\xbd\xe3\xbe\x4d\x79\x1a\xb8\xa5\x6a\x40\x65\xb7\xc0\x5b\xda\xd4\x31\xa3\x9e\x11\x8d\x19\x9a\xb5\xc0\x75\x48\xc7\x58\x9e\x0e\x3b\xac\x35\xc0\x28\x24\x55\x9a\xba\xc3\x17\xf8\xb1\x61\x96\x62\x66\x4f\x88\xf6\xd6\x32\x69\x9b\xe9\x13\x32\xb4\xaa\x78\x2f\x75\x80\x5c\xf7\x1e\x8e\x21\xf4\xd4\xeb\x06\x23\xec\x0b\xf3\x39\xf8\x7b\x11\xbc\x32\xeb\xb3\xad\x9a\x58\x49\x75\xf8\xb8\x9a\xea\xee\x07\x66\xd9\x58\x85\xc2\x97\xa1\x6a\x84\x61\x15\x66\x5e\x27\x59\x72\x0c\x76\xf8\x65\x63\xa0\x24\x1a\x84\xec\xef\xea\x9c\x35\x12\xf2\x12\xf3\x0f\x0e\xc7\xa9\xc5\xc6\x11\x28\xe7\xcd\xc0\xf9\xf6\xd8\xe0\x04\x09\x3c\x09\xc9\x93\x53\x93\xec\x70\xb1\x14\xc2\x9a\xf4\xd4\x11\xc6\x75\x76\x0b\x92\x96\x0e\xb8\x26\x45\x37\x38\x35\x68\xa3\x8a\xca\x64\x2f\x70\xc5\xb4\x51\xeb\x70\xf7\x0a\x16\x81\x9d\x99\xdf\x21\x1e\x90\x44\xa0\x12\x75\x17\xd9\x01\xfa\x9b\x91\x7f\x00\x42\xca\x7a\x8a\xa8\x8f\xea\x27\x7b\x4d\x84\xd1\xbf\xba\x95\xe8\x82\x09\xa2\xd6\x91\x72\xac\xc2\xf3\x9b\xaa\xd2\x57\x4b\xa4\xec\xbd\x7b\x9a\xad\x04\x31\x8d\x42\x28\xa4\x8a\x37\x19\x5b\x54\xdb\x83\xa7\x06\x2b\x6d\xc7\xb3\xdd\x46\x6c\xc2\xec\xd6\xa0\x8f\xed\xfe\x97\x12\xe7\xe3\x13\x32\x95\x28\x41\x2b\xec\x68\x7f\x76\x58\xce\xef\x0e\xe1\x07\x0d\x2a\x73\xb7\x19\xf5\xdf\x5d\xc2\x43\xcf\x80\xd7\xdb\x5a\xbf\x94\xf9\x22\x10\x0f\xba\x73\x6c\x77\x4c\xa1\x22\xf5\x1b\xa7\xff\xed\xc1\xc9\xf3\xc5\xfc\x63\xd7\x4d\x87\xed\xa0\xe0\x9f\xf1\x6f\xca\xbb\x37\x5f\xe0\xd4\x81\xed\x78\x3e\xff\x82\x11\xa5\x4b\xd9\x50\x58\xa2\x1f\x6a\xd4\x7d\xc3\xe3\xec\x03\x82\xc2\x55\xc3\x89\x0a\x3e\x54\xec\x4d\x42\x42\x29\x14\x0d\xe7\xa0\x9b\xda\x36\x8e\xe9\x94\x8d\xcd\x45\x6b\xa0\x71\x0d\xb4\x92\xb6\x76\x4f\xbb\xe2\x1d\x7f\xfe\xb0\x00\x02\xd3\x50\x37\xba\x44\x0a\x54\x7e\x12\xb6\x47\x5a\xc1\xed\x26\x13\x2f\xe2\xbf\x02\x00\x00\xff\xff\xde\xd7\x2a\x36\x80\x15\x00\x00")
 
 func templatesSchemaGotmplBytes() ([]byte, error) {
 	return bindataRead(
@@ -341,8 +342,8 @@ func templatesSchemaGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/schema.gotmpl", size: 5422, mode: os.FileMode(0644), modTime: time.Unix(1482416923, 0)}
-	a := &asset{bytes: bytes, info: info, digest: [32]uint8{0x19, 0x87, 0xe5, 0x3b, 0x1c, 0x32, 0x22, 0x7f, 0xc5, 0x68, 0x48, 0xbc, 0xcd, 0x70, 0xf2, 0x40, 0xdd, 0xe7, 0xd2, 0xc, 0x34, 0x73, 0x69, 0x2a, 0x98, 0x4e, 0x4e, 0x57, 0xce, 0xf8, 0x92, 0x9f}}
+	info := bindataFileInfo{name: "templates/schema.gotmpl", size: 5504, mode: os.FileMode(0644), modTime: time.Unix(1482416923, 0)}
+	a := &asset{bytes: bytes, info: info, digest: [32]uint8{0x4d, 0x80, 0x58, 0x1d, 0x87, 0xd8, 0xdb, 0xff, 0xc9, 0x33, 0x69, 0x35, 0x93, 0x22, 0x2, 0xe3, 0x44, 0xb, 0x31, 0x1a, 0xe7, 0x60, 0xc2, 0xe8, 0x97, 0xe8, 0xff, 0x64, 0x99, 0xaf, 0xb2, 0xc5}}
 	return a, nil
 }
 
@@ -366,6 +367,26 @@ func templatesSchemabodyGotmpl() (*asset, error) {
 	return a, nil
 }
 
+var _templatesSchemaembeddedGotmpl = []byte("\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\xff\x6c\x91\xcd\x8e\x1a\x31\x10\x84\xef\x7e\x8a\x12\x27\x26\x4a\xfc\x00\x89\x38\x25\x28\xe2\x42\x22\x84\x72\x37\x9e\x36\xf1\xe2\x9f\x51\xdb\x33\x82\xb5\xfc\xee\x2b\xc3\x20\xb1\xec\x9e\x6c\xb5\x3f\x77\x55\x75\x97\x82\x9e\x8c\x0d\x84\x45\xd2\xff\xc9\xab\xb5\x3f\x50\xdf\x53\xbf\x40\xad\x22\x5f\x06\x42\x29\x18\x54\xd2\xca\xd9\x57\x82\xdc\x2a\x4f\xa8\x15\x29\xf3\xa8\x33\x8a\x40\x03\xac\x81\x5c\x3b\xf2\xfb\xcb\x40\x72\x93\xb6\xa3\x73\xea\xe0\x1a\xf8\xa5\x14\x50\xe8\x51\x6b\x29\x0f\xcc\xef\xd8\x8e\xa6\x51\x85\x30\x63\xd0\x58\x96\x22\x77\xa4\xc9\x4e\xc4\x77\x91\x5b\xe7\xc8\x90\x9b\xb4\x1f\x07\x47\xed\xf2\x33\xfa\xc1\xd1\xf9\xcf\xe1\x85\x74\x7e\x56\x68\x46\x7e\xd9\xa4\xd9\x7a\x1b\x54\xa6\x74\x2b\x6b\xe5\xe9\x9d\xff\xf6\xc7\x25\xba\xf2\x9b\xb4\x3e\x0f\x91\x33\xcd\x3d\x3e\xa6\xbd\xd3\xb7\x10\x0f\xc5\xab\x6c\x87\x7f\xca\xd9\x5e\x65\x5a\x9a\xc8\x5e\xe5\xd4\xa6\x63\x7c\x96\x3b\x3a\xda\x94\xf9\xd2\x81\x98\x23\x5f\xa7\x35\x29\x86\x81\x0d\x99\xd8\x28\x4d\xa5\x62\xd5\x72\x3e\x67\x97\x6d\x33\x1c\x87\xbf\x4a\x9f\xd4\x91\x3e\x1d\x1d\x9a\xfd\xe9\x2b\xe2\x09\xdf\x57\x30\x72\xc9\x63\xc8\xd6\x93\x9c\xfd\xb4\x15\x74\xf8\xd1\xde\x9b\x32\xc0\x94\x47\x0e\x98\xe4\xb3\xe1\x4e\x00\xad\xdf\x0c\x04\xeb\x44\x15\xa5\x7c\x9b\x13\x8a\xb7\x00\x00\x00\xff\xff\x18\x59\xcb\x94\x27\x02\x00\x00")
+
+func templatesSchemaembeddedGotmplBytes() ([]byte, error) {
+	return bindataRead(
+		_templatesSchemaembeddedGotmpl,
+		"templates/schemaembedded.gotmpl",
+	)
+}
+
+func templatesSchemaembeddedGotmpl() (*asset, error) {
+	bytes, err := templatesSchemaembeddedGotmplBytes()
+	if err != nil {
+		return nil, err
+	}
+
+	info := bindataFileInfo{name: "templates/schemaembedded.gotmpl", size: 551, mode: os.FileMode(0644), modTime: time.Unix(1482416923, 0)}
+	a := &asset{bytes: bytes, info: info, digest: [32]uint8{0x20, 0x86, 0x25, 0x7d, 0x64, 0xed, 0xf7, 0x80, 0x5c, 0x4d, 0x25, 0xbc, 0xfd, 0xcd, 0xbe, 0x94, 0x37, 0xa5, 0x11, 0xa9, 0xb7, 0x27, 0xff, 0xa4, 0x49, 0xe, 0xd9, 0x21, 0xff, 0xf7, 0x51, 0x4d}}
+	return a, nil
+}
+
 var _templatesSchemapolymorphicGotmpl = []byte("\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\xff\xbc\x95\x4f\x8f\xdb\x36\x10\xc5\xef\xfe\x14\x0f\xee\x16\xb5\x8c\xad\x0c\xa4\xb7\x00\x3d\xb8\x08\x1a\xf8\x52\x07\xf5\x36\xf7\x89\x34\x5a\xb1\xe5\x1f\x85\xa4\x9c\xba\x84\xbe\x7b\x21\x4a\x96\x68\x57\xdb\x4d\x2f\xd5\x91\x1c\xce\x3c\xfe\xde\x0c\x15\x02\x4a\xae\x84\x66\xac\x5d\x51\xb3\xa2\x0f\x46\x5e\x94\xb1\x4d\x2d\x8a\x35\xba\x6e\x05\xf8\x4b\xc3\x08\x01\x0d\xb9\x82\xa4\xf8\x8b\x91\xff\x42\x8a\xd1\x75\x10\xda\xb3\xad\xa8\x60\x84\x15\x10\xc2\xf7\x10\x15\xb4\xf1\xd8\x18\x8b\xfc\xe0\x0e\xd3\x7e\x7e\x70\x27\x6f\x99\x54\x86\xae\x0b\x61\xb7\x5d\x61\xfc\xf6\xf8\x44\x8e\x87\x2a\xc2\x81\xe4\x17\xba\x38\x7c\x24\x29\x4a\xf2\xf4\x49\x72\x3e\x85\xfe\xa6\x4b\xb6\xd0\xc6\x2a\x92\x28\x8c\x2e\x85\x17\x46\xbb\x47\x7c\x61\x14\xa4\xbf\xf3\xa8\xe9\xcc\xa0\x24\xa3\xe5\xfe\x0c\x97\xa0\x59\x02\xee\xc4\xbd\x85\xaf\x85\x43\x51\x73\xf1\x47\x2f\xe1\xf7\xd6\x79\x54\xc6\xc2\x91\x16\xfe\x32\x6c\x64\xf9\x6a\xd2\x71\xd0\xf0\x35\x0f\xe0\xa2\x04\x98\x2a\xae\x24\x37\xf1\x8e\x65\xf5\x38\x64\x56\x4c\xda\xc1\xd7\xe4\x63\x54\xab\xf9\xcf\xc6\x58\xcf\x25\x9c\xb7\x6d\xe1\x51\x1b\x59\x0a\xfd\x3c\x15\x78\x2d\x7b\x4d\x0e\x74\x65\xc4\x9b\x0c\x55\xab\x8b\x81\xd3\x76\x17\x4d\x1b\x3e\xdb\x6a\x2f\x14\xe7\x09\xcd\xd1\x27\xd6\xe5\xe0\x6e\x08\xb0\xa4\x9f\x19\xf9\x5e\xca\x63\x85\xf1\xf4\xe8\x65\x7e\x70\x7b\x6d\xf4\x45\x99\xd6\x61\x4a\x3c\x9f\xf9\x60\x4d\xc3\xd6\x0b\x4e\x76\xe3\xbe\xa8\xf0\x90\x1f\xdc\x53\xdb\x48\x8e\x8e\xc3\xb3\x6a\x24\x79\xc6\xda\xf7\x8b\x95\x60\x59\x1e\x7a\xfc\x6b\xe4\x43\x04\x4b\x37\xc4\xce\xa1\x03\x9f\xa5\xd8\xab\xfe\xab\xd8\xbb\x85\xa4\x9c\xa2\xe6\x68\x4f\x52\x14\xfc\x9e\xbd\x67\x3b\xe4\x98\x6e\x39\x56\x9d\x4f\xe6\xef\xcd\x53\x0f\x39\x8d\x99\x69\x2d\xa2\xfb\x27\x86\x91\x5f\xca\x60\x49\xdb\x22\x8a\x97\xa5\xbd\x06\xe6\x75\xc1\x5f\x81\xa5\x5b\x25\x43\x5f\x90\xe2\xdb\x99\xbf\x95\x11\xdf\x8c\x9f\x4c\x79\xb9\x3a\xb3\xdb\xa6\xfd\x2d\x54\x23\x59\xb1\xf6\x94\x36\xf2\xfc\x6c\x6c\x9e\x8e\xef\x8e\x9b\xca\x72\x99\xbd\x05\x79\x35\x0e\x8c\x70\xf1\x15\x69\x1d\x97\x8f\x10\xce\xb5\x8c\x6f\xde\xfc\xf0\x26\xbb\x76\x77\x7f\xab\x45\xf4\x11\xc0\x6e\xb7\xf0\x5c\x75\x1d\x9e\xd9\xbb\x58\x3f\x04\xd4\xad\x22\x7d\x73\xaf\xa8\x4d\x38\x34\xf3\x03\x18\x29\xc4\x94\xfd\x7c\x61\x13\x02\x1e\xf2\x5f\xb9\x60\x71\x66\x3b\x26\xdd\xa6\x90\x1e\xc6\x52\xd9\xa2\x80\x4d\xb6\x04\xaf\xef\xb5\x11\x5e\xd2\xce\xa2\x02\x7f\xc6\x43\xfe\x4e\xb8\xc2\x0a\x25\x34\x79\x63\x7f\xee\xed\x9e\x14\xcf\x53\xce\xbe\xb5\x3a\x96\xb4\x42\xfb\x0a\xeb\x6f\x3f\xaf\xef\xcf\x7e\x24\xd9\xf2\xdd\xc8\xdc\xb4\x57\x9a\xe7\xf6\x96\xe8\xba\x3c\x84\xdb\x4e\xe8\xba\x28\x66\x79\x00\x67\x1f\x4e\xec\x17\xad\x70\xff\xa3\x15\x2f\x68\xd8\x9c\x49\xfe\xbb\x1f\x19\xee\x1c\xd1\xfc\x95\x8e\xfc\x17\x84\xf8\x11\x67\x92\x2f\x81\x4c\x97\xe2\x70\xa5\x03\xb3\x2f\x87\x3f\x20\xc9\x64\x0a\xa6\x11\x49\x6e\x96\x80\x3c\xb1\x15\x91\xc3\x75\xe0\x93\x92\x7f\x07\x00\x00\xff\xff\x5c\xdd\xd1\x0d\x0d\x08\x00\x00")
 
 func templatesSchemapolymorphicGotmplBytes() ([]byte, error) {
@@ -970,6 +991,7 @@ var _bindata = map[string]func() (*asset, error){
 	"templates/model.gotmpl":                                      templatesModelGotmpl,
 	"templates/schema.gotmpl":                                     templatesSchemaGotmpl,
 	"templates/schemabody.gotmpl":                                 templatesSchemabodyGotmpl,
+	"templates/schemaembedded.gotmpl":                             templatesSchemaembeddedGotmpl,
 	"templates/schemapolymorphic.gotmpl":                          templatesSchemapolymorphicGotmpl,
 	"templates/schematype.gotmpl":                                 templatesSchematypeGotmpl,
 	"templates/schemavalidator.gotmpl":                            templatesSchemavalidatorGotmpl,
@@ -1065,6 +1087,7 @@ var _bintree = &bintree{nil, map[string]*bintree{
 		"model.gotmpl":             &bintree{templatesModelGotmpl, map[string]*bintree{}},
 		"schema.gotmpl":            &bintree{templatesSchemaGotmpl, map[string]*bintree{}},
 		"schemabody.gotmpl":        &bintree{templatesSchemabodyGotmpl, map[string]*bintree{}},
+		"schemaembedded.gotmpl":    &bintree{templatesSchemaembeddedGotmpl, map[string]*bintree{}},
 		"schemapolymorphic.gotmpl": &bintree{templatesSchemapolymorphicGotmpl, map[string]*bintree{}},
 		"schematype.gotmpl":        &bintree{templatesSchematypeGotmpl, map[string]*bintree{}},
 		"schemavalidator.gotmpl":   &bintree{templatesSchemavalidatorGotmpl, map[string]*bintree{}},
diff --git a/generator/generate_test.go b/generator/generate_test.go
index 2396fbd3..29092e81 100644
--- a/generator/generate_test.go
+++ b/generator/generate_test.go
@@ -244,7 +244,6 @@ func TestGenerateAndTest(t *testing.T) {
 				modelOpts := testGenOpts()
 				modelOpts.AcceptDefinitionsOnly = true
 				modelOpts.Spec = "../fixtures/bugs/1897/model.yaml"
-				modelOpts.Spec = "../fixtures/bugs/1897/model.yaml"
 				modelOpts.Target = "../fixtures/bugs/1897"
 				modelOpts.ModelPackage = "external"
 				err := GenerateModels(nil, modelOpts)
@@ -273,6 +272,68 @@ func TestGenerateAndTest(t *testing.T) {
 					_ = os.Chdir(cwd)
 				}()
 
+				t.Log("building generated server")
+				p, err := exec.Command("go", "build").CombinedOutput()
+				require.NoErrorf(t, err, string(p))
+			},
+		},
+		"external_models_hints": {
+			spec:   "../fixtures/enhancements/2224/fixture-2224.yaml",
+			target: "../fixtures/enhancements/2224/codegen",
+			prepare: func(opts *GenOpts) {
+				modelOpts := testGenOpts()
+				modelOpts.AcceptDefinitionsOnly = true
+				modelOpts.Spec = "../fixtures/enhancements/2224/fixture-2224-models.yaml"
+				modelOpts.Target = "../fixtures/enhancements/2224"
+				modelOpts.ModelPackage = "external"
+				err := GenerateModels(nil, modelOpts)
+				require.NoError(t, err)
+				t.Logf("generated external model")
+				opts.IncludeMain = true
+			},
+			verify: func(t testing.TB, target string) {
+				defer func() {
+					_ = os.RemoveAll(target)
+				}()
+				require.True(t, fileExists(target, filepath.Join("..", "external")))
+				defer func() {
+					_ = os.RemoveAll(filepath.Join(target, "..", "external"))
+				}()
+
+				for _, model := range []string{
+					"access_point.go",
+					"base.go",
+					"hotspot.go",
+					"hotspot_type.go",
+					"incorrect.go",
+					"json_message.go",
+					"json_object.go",
+					"json_object_with_alias.go",
+					"object_with_embedded.go",
+					"object_with_externals.go",
+					"raw.go",
+					"request.go",
+					"request_pointer.go",
+					"time_as_object.go",
+					"time.go",
+				} {
+					require.True(t, fileExists(target, filepath.Join("..", "external", model)))
+				}
+				require.True(t, fileExists(target, filepath.Join("models")))
+				for _, model := range []string{"error.go", "external_with_embed.go"} {
+					require.True(t, fileExists(target, filepath.Join("models", model)))
+				}
+				require.True(t, fileExists(target, filepath.Join("cmd", "external-types-with-hints-server")))
+
+				cwd, err := os.Getwd()
+				require.NoError(t, err)
+
+				err = os.Chdir(filepath.Join(target, "cmd", "external-types-with-hints-server"))
+				require.NoError(t, err)
+				defer func() {
+					_ = os.Chdir(cwd)
+				}()
+
 				t.Log("building generated server")
 				p, err := exec.Command("go", "build").CombinedOutput()
 				require.NoErrorf(t, err, string(p))
diff --git a/generator/model.go b/generator/model.go
index aff2aaf3..c005d028 100644
--- a/generator/model.go
+++ b/generator/model.go
@@ -221,10 +221,13 @@ func shallowValidationLookup(sch GenSchema) bool {
 	return false
 }
 
+func isExternal(schema spec.Schema) bool {
+	extType, ok := hasExternalType(schema.Extensions)
+	return ok && !extType.Embedded
+}
+
 func makeGenDefinitionHierarchy(name, pkg, container string, schema spec.Schema, specDoc *loads.Document, opts *GenOpts) (*GenDefinition, error) {
 	// Check if model is imported from external package using x-go-type
-	_, external := schema.Extensions[xGoType]
-
 	receiver := "m"
 	// models are resolved in the current package
 	resolver := newTypeResolver("", specDoc)
@@ -367,7 +370,7 @@ func makeGenDefinitionHierarchy(name, pkg, container string, schema spec.Schema,
 		DefaultImports: defaultImports,
 		ExtraSchemas:   gatherExtraSchemas(pg.ExtraSchemas),
 		Imports:        findImports(&pg.GenSchema),
-		External:       external,
+		External:       isExternal(schema),
 	}, nil
 }
 
@@ -377,6 +380,11 @@ func findImports(sch *GenSchema) map[string]string {
 	if t.Pkg != "" && t.PkgAlias != "" {
 		imp[t.PkgAlias] = t.Pkg
 	}
+	if t.IsEmbedded && t.ElemType != nil {
+		if t.ElemType.Pkg != "" && t.ElemType.PkgAlias != "" {
+			imp[t.ElemType.PkgAlias] = t.ElemType.Pkg
+		}
+	}
 	if sch.Items != nil {
 		sub := findImports(sch.Items)
 		for k, v := range sub {
@@ -1691,6 +1699,7 @@ func (sg *schemaGenContext) shortCircuitNamedRef() (bool, error) {
 		tpe.IsNullable = tpx.IsNullable // TODO
 		tpe.IsInterface = tpx.IsInterface
 		tpe.IsStream = tpx.IsStream
+		tpe.IsEmbedded = tpx.IsEmbedded
 
 		tpe.SwaggerType = tpx.SwaggerType
 		sch := spec.Schema{}
diff --git a/generator/operation.go b/generator/operation.go
index e9edf619..0beef704 100644
--- a/generator/operation.go
+++ b/generator/operation.go
@@ -636,7 +636,7 @@ func (b *codeGenOpBuilder) MakeHeaderItem(receiver, paramName, indexVar, path, v
 	res.Formatter = stringFormatters[res.GoType]
 	res.IndexVar = indexVar
 	res.HasValidations, res.HasSliceValidations = b.HasValidations(items.CommonValidations, res.resolvedType)
-	res.IsEnumCI = b.GenOpts.AllowEnumCI || hasEnumCI(&items.VendorExtensible)
+	res.IsEnumCI = b.GenOpts.AllowEnumCI || hasEnumCI(items.Extensions)
 
 	if items.Items != nil {
 		// Recursively follows nested arrays
@@ -678,7 +678,7 @@ func (b *codeGenOpBuilder) MakeParameterItem(receiver, paramName, indexVar, path
 	res.IndexVar = indexVar
 
 	res.HasValidations, res.HasSliceValidations = b.HasValidations(items.CommonValidations, res.resolvedType)
-	res.IsEnumCI = b.GenOpts.AllowEnumCI || hasEnumCI(&items.VendorExtensible)
+	res.IsEnumCI = b.GenOpts.AllowEnumCI || hasEnumCI(items.Extensions)
 	res.NeedsIndex = res.HasValidations || res.Converter != "" || (res.IsCustomFormatter && !res.SkipParse)
 
 	if items.Items != nil {
@@ -760,7 +760,7 @@ func (b *codeGenOpBuilder) MakeParameter(receiver string, resolver *typeResolver
 		res.IsNullable = !param.Required && !param.AllowEmptyValue
 		res.HasValidations, res.HasSliceValidations = b.HasValidations(param.CommonValidations, res.resolvedType)
 		res.HasValidations = res.HasValidations || hasChildValidations
-		res.IsEnumCI = b.GenOpts.AllowEnumCI || hasEnumCI(&param.VendorExtensible)
+		res.IsEnumCI = b.GenOpts.AllowEnumCI || hasEnumCI(param.Extensions)
 	}
 
 	// Select codegen strategy for body param validation
diff --git a/generator/template_repo.go b/generator/template_repo.go
index 0224a675..c84951a1 100644
--- a/generator/template_repo.go
+++ b/generator/template_repo.go
@@ -97,6 +97,7 @@ func defaultAssets() map[string][]byte {
 		"structfield.gotmpl":             MustAsset("templates/structfield.gotmpl"),
 		"schemavalidator.gotmpl":         MustAsset("templates/schemavalidator.gotmpl"),
 		"schemapolymorphic.gotmpl":       MustAsset("templates/schemapolymorphic.gotmpl"),
+		"schemaembedded.gotmpl":          MustAsset("templates/schemaembedded.gotmpl"),
 
 		// schema serialization templates
 		"additionalpropertiesserializer.gotmpl": MustAsset("templates/serializers/additionalpropertiesserializer.gotmpl"),
diff --git a/generator/templates/schema.gotmpl b/generator/templates/schema.gotmpl
index 76e83187..21ca38e0 100644
--- a/generator/templates/schema.gotmpl
+++ b/generator/templates/schema.gotmpl
@@ -5,6 +5,8 @@
   {{- if .IsBaseType }}
     {{ template "baseTypeSerializer" . }}{{/* When the alias redeclares a polymorphic type, define factory methods with this alias. */}}
   {{- end }}
+{{- else if .IsEmbedded }}
+  {{- template "schemaEmbedded" . }}
 {{- else }}
   {{- if or .IsComplexObject .IsTuple .IsAdditionalProperties }}{{/* TODO(fred): handle case of subtype inheriting from base type with AdditionalProperties, issue #2220 */}}
       {{ if .Name }}type {{ if not .IsExported }}{{ .Name }}{{ else }}{{ pascalize .Name }}{{ end }}{{ end }} {{ template "schemaBody" . }}
@@ -74,7 +76,7 @@
   {{- end }}
   {{ template "schemaSerializer" . }}
 {{- end }}
-{{- if and .IncludeValidator (not .IsSuperAlias) }}{{/* aliased types type A = B do not redefine methods */}}
+{{- if and .IncludeValidator (not .IsSuperAlias) (not .IsEmbedded) }}{{/* aliased types type A = B do not redefine methods */}}
   {{- if and (not (or .IsInterface .IsStream)) (or .Required .HasValidations .HasBaseType) }}
     {{ template "schemavalidator" . }}
   {{- else if not (or .IsInterface .IsStream) }}
diff --git a/generator/templates/schemaembedded.gotmpl b/generator/templates/schemaembedded.gotmpl
new file mode 100644
index 00000000..02884cf2
--- /dev/null
+++ b/generator/templates/schemaembedded.gotmpl
@@ -0,0 +1,13 @@
+{{ define "schemaEmbedded" }}
+type {{ pascalize .Name }} struct {
+  {{ if .ElemType.IsNullable }}*{{ end }}{{ .ElemType.GoType }}
+}
+
+func ({{.ReceiverName }} {{ if or .IsTuple .IsComplexObject }}*{{ end }}{{ if .Discriminates }}{{ camelize .Name }}{{ else if .IsExported }}{{ pascalize .Name }}{{ else }}{{ .Name }}{{ end }}) Validate(formats strfmt.Registry) error {
+  var f interface{} = {{ .ReceiverName }}.{{ dropPackage .ElemType.GoType }}
+  if v, ok := f.(runtime.Validatable) ; ok {
+    return v.Validate(formats)
+  }
+  return nil
+}
+{{- end }}
diff --git a/generator/types.go b/generator/types.go
index d9b0e6c2..e4d2493a 100644
--- a/generator/types.go
+++ b/generator/types.go
@@ -25,6 +25,7 @@ import (
 	"github.com/go-openapi/spec"
 	"github.com/go-openapi/swag"
 	"github.com/kr/pretty"
+	"github.com/mitchellh/mapstructure"
 )
 
 const (
@@ -140,16 +141,15 @@ func newTypeResolver(pkg string, doc *loads.Document) *typeResolver {
 func knownDefGoType(def string, schema spec.Schema, clear func(string) string) (string, string, string) {
 	debugLog("known def type: %q", def)
 	ext := schema.Extensions
-	if nm, ok := ext.GetString(xGoName); ok {
-		if clear == nil {
-			debugLog("known def type %s no clear: %q", xGoName, nm)
-			return nm, "", ""
-		}
-		debugLog("known def type %s clear: %q -> %q", xGoName, nm, clear(nm))
-		return clear(nm), "", ""
+	nm, hasGoName := ext.GetString(xGoName)
+
+	if hasGoName {
+		debugLog("known def type %s named from %s as %q", def, xGoName, nm)
+		def = nm
 	}
-	v, ok := ext[xGoType]
-	if !ok {
+	extType, isExternalType := hasExternalType(ext)
+
+	if !isExternalType || extType.Embedded {
 		if clear == nil {
 			debugLog("known def type no clear: %q", def)
 			return def, "", ""
@@ -157,25 +157,51 @@ func knownDefGoType(def string, schema spec.Schema, clear func(string) string) (
 		debugLog("known def type clear: %q -> %q", def, clear(def))
 		return clear(def), "", ""
 	}
-	xt := v.(map[string]interface{})
-	t := xt["type"].(string)
-	impIface, ok := xt["import"]
 
+	// external type definition trumps regular type resolution
+	log.Printf("type %s imported as external type %s.%s", def, extType.Import.Package, extType.Type)
+	return extType.Import.Alias + "." + extType.Type, extType.Import.Package, extType.Import.Alias
+}
+
+// x-go-type:
+//   type: mytype
+//   import:
+//     package:
+//     alias:
+//   hints:
+//     kind: map|object|array|interface|primitive|stream|tuple
+//     nullable: true|false
+//  embedded: true
+type externalTypeDefinition struct {
+	Type   string
+	Import struct {
+		Package string
+		Alias   string
+	}
+	Hints struct {
+		Kind     string
+		Nullable bool
+	}
+	Embedded bool
+}
+
+func hasExternalType(ext spec.Extensions) (*externalTypeDefinition, bool) {
+	v, ok := ext[xGoType]
 	if !ok {
-		return t, "", ""
+		return nil, false
 	}
-
-	imp := impIface.(map[string]interface{})
-	pkg := imp["package"].(string)
-	al, ok := imp["alias"]
-	var alias string
-	if ok {
-		alias = al.(string)
-	} else {
-		alias = path.Base(pkg)
+	var extType externalTypeDefinition
+	err := mapstructure.Decode(v, &extType)
+	if err != nil {
+		log.Printf("warning: x-go-type extension could not be decoded (%v). Skipped", v)
+		return nil, false
+	}
+	if extType.Import.Package != "" && extType.Import.Alias == "" {
+		// NOTE(fred): possible name conflict here (TODO(fred): deconflict this default alias)
+		extType.Import.Alias = path.Base(extType.Import.Package)
 	}
-	debugLog("known def type %s no clear: %q: pkg=%s, alias=%s", xGoType, alias+"."+t, pkg, alias)
-	return alias + "." + t, pkg, alias
+	debugLogAsJSON("known def external %s type", xGoType, extType)
+	return &extType, true
 }
 
 type typeResolver struct {
@@ -387,7 +413,7 @@ func (t *typeResolver) resolveArray(schema *spec.Schema, isAnonymous, isRequired
 	result.ElemType = &rt
 	result.SwaggerType = array
 	result.SwaggerFormat = ""
-	result.IsEnumCI = hasEnumCI(&schema.VendorExtensible)
+	result.IsEnumCI = hasEnumCI(schema.Extensions)
 	t.inferAliasing(&result, schema, isAnonymous, isRequired)
 	result.Extensions = schema.Extensions
 
@@ -619,8 +645,8 @@ func boolExtension(ext spec.Extensions, key string) *bool {
 	return nil
 }
 
-func hasEnumCI(ve *spec.VendorExtensible) bool {
-	v, ok := ve.Extensions[xGoEnumCI]
+func hasEnumCI(ve spec.Extensions) bool {
+	v, ok := ve[xGoEnumCI]
 	if !ok {
 		return false
 	}
@@ -630,31 +656,84 @@ func hasEnumCI(ve *spec.VendorExtensible) bool {
 	return ok && isEnumCI
 }
 
+func (t *typeResolver) shortCircuitResolveExternal(tpe, pkg, alias string, extType *externalTypeDefinition, schema *spec.Schema) resolvedType {
+	// short circuit type resolution for external types
+	var result resolvedType
+	result.Extensions = schema.Extensions
+	result.GoType = tpe
+	result.Pkg = pkg
+	result.PkgAlias = alias
+	result.setKind(extType.Hints.Kind)
+	result.IsNullable = t.IsNullable(schema)
+
+	// other extensions
+	if result.IsArray {
+		result.IsEmptyOmitted = false
+		tpe = "array"
+	}
+	result.setExtensions(schema, tpe)
+	return result
+}
+
 func (t *typeResolver) ResolveSchema(schema *spec.Schema, isAnonymous, isRequired bool) (result resolvedType, err error) {
 	debugLog("resolving schema (anon: %t, req: %t) %s", isAnonymous, isRequired, t.ModelName)
+	defer func() {
+		debugLog("returning after resolve schema: %s", pretty.Sprint(result))
+	}()
+
 	if schema == nil {
 		result.IsInterface = true
 		result.GoType = iface
 		return
 	}
 
+	extType, isExternalType := hasExternalType(schema.Extensions)
+	if isExternalType {
+		tpe, pkg, alias := knownDefGoType(t.ModelName, *schema, t.goTypeName)
+		debugLog("found type declared as external, imported from %s as %s. Has type hints? %t, rendered has embedded? %t",
+			pkg, tpe, extType.Hints.Kind != "", extType.Embedded)
+
+		if extType.Hints.Kind != "" && !extType.Embedded {
+			// use hint to qualify type
+			debugLog("short circuits external type resolution with hint for %s", tpe)
+			result = t.shortCircuitResolveExternal(tpe, pkg, alias, extType, schema)
+			return
+		}
+
+		// use spec to qualify type
+		debugLog("marking type %s as external embedded: %t", tpe, extType.Embedded)
+		// mark this type as an embedded external definition if requested
+		defer func() {
+			result.IsEmbedded = extType.Embedded
+			if result.IsEmbedded {
+				result.ElemType = &resolvedType{
+					GoType:     extType.Import.Alias + "." + extType.Type,
+					Pkg:        extType.Import.Package,
+					PkgAlias:   extType.Import.Alias,
+					IsNullable: extType.Hints.Nullable,
+				}
+				result.setKind(extType.Hints.Kind)
+			}
+		}()
+	}
+
 	tpe := t.firstType(schema)
 	var returns bool
 
 	returns, result, err = t.resolveSchemaRef(schema, isRequired)
+
 	if returns {
 		if !isAnonymous {
 			result.IsMap = false
 			result.IsComplexObject = true
 			debugLog("not anonymous ref")
 		}
-		debugLog("returning after ref")
+		debugLog("anonymous after ref")
 		return
 	}
+
 	defer func() {
-		result.setIsEmptyOmitted(schema, tpe)
-		result.setIsJSONString(schema, tpe)
-		result.IsEnumCI = hasEnumCI(&schema.VendorExtensible)
+		result.setExtensions(schema, tpe)
 	}()
 
 	// special case of swagger type "file", rendered as io.ReadCloser interface
@@ -669,7 +748,6 @@ func (t *typeResolver) ResolveSchema(schema *spec.Schema, isAnonymous, isRequire
 
 	returns, result, err = t.resolveFormat(schema, isAnonymous, isRequired)
 	if returns {
-		debugLog("returning after resolve format: %s", pretty.Sprint(result))
 		return
 	}
 
@@ -678,7 +756,6 @@ func (t *typeResolver) ResolveSchema(schema *spec.Schema, isAnonymous, isRequire
 	switch tpe {
 	case array:
 		result, err = t.resolveArray(schema, isAnonymous, false)
-		return
 
 	case file, number, integer, boolean:
 		result.Extensions = schema.Extensions
@@ -697,7 +774,6 @@ func (t *typeResolver) ResolveSchema(schema *spec.Schema, isAnonymous, isRequire
 			result.IsNullable = nullableNumber(schema, isRequired)
 		case file:
 		}
-		return
 
 	case str:
 		result.GoType = str
@@ -711,23 +787,21 @@ func (t *typeResolver) ResolveSchema(schema *spec.Schema, isAnonymous, isRequire
 	case object:
 		result, err = t.resolveObject(schema, isAnonymous)
 		if err != nil {
-			return resolvedType{}, err
+			result = resolvedType{}
+			break
 		}
 		result.HasDiscriminator = schema.Discriminator != ""
-		return
 
 	case "null":
 		result.GoType = iface
 		result.SwaggerType = object
 		result.IsNullable = false
 		result.IsInterface = true
-		return
 
 	default:
 		err = fmt.Errorf("unresolvable: %v (format %q)", schema.Type, schema.Format)
-		return
 	}
-	return result, err
+	return
 }
 
 // resolvedType is a swagger type that has been resolved and analyzed for usage
@@ -776,6 +850,11 @@ type resolvedType struct {
 	// IsSuperAlias indicates that the aliased type is really the same type,
 	// e.g. in golang, this translates to: type A = B
 	IsSuperAlias bool
+
+	// IsEmbedded applies to externally defined types. When embedded, a type
+	// is generated in models that embeds the external type, with the Validate
+	// method.
+	IsEmbedded bool
 }
 
 func (rt *resolvedType) Zero() string {
@@ -810,6 +889,12 @@ func (rt *resolvedType) Zero() string {
 	return ""
 }
 
+func (rt *resolvedType) setExtensions(schema *spec.Schema, origType string) {
+	rt.IsEnumCI = hasEnumCI(schema.Extensions)
+	rt.setIsEmptyOmitted(schema, origType)
+	rt.setIsJSONString(schema, origType)
+}
+
 func (rt *resolvedType) setIsEmptyOmitted(schema *spec.Schema, tpe string) {
 	if v, found := schema.Extensions[xOmitEmpty]; found {
 		omitted, cast := v.(bool)
@@ -828,3 +913,77 @@ func (rt *resolvedType) setIsJSONString(schema *spec.Schema, tpe string) {
 	}
 	rt.IsJSONString = true
 }
+
+func (rt *resolvedType) setKind(kind string) {
+	if kind != "" {
+		debugLog("overriding kind for %s as %s", rt.GoType, kind)
+	}
+	switch kind {
+	case "map":
+		rt.IsMap = true
+		rt.IsArray = false
+		rt.IsComplexObject = false
+		rt.IsInterface = false
+		rt.IsStream = false
+		rt.IsTuple = false
+		rt.IsPrimitive = false
+		rt.SwaggerType = object
+	case "array":
+		rt.IsMap = false
+		rt.IsArray = true
+		rt.IsComplexObject = false
+		rt.IsInterface = false
+		rt.IsStream = false
+		rt.IsTuple = false
+		rt.IsPrimitive = false
+		rt.SwaggerType = array
+	case "object":
+		rt.IsMap = false
+		rt.IsArray = false
+		rt.IsComplexObject = true
+		rt.IsInterface = false
+		rt.IsStream = false
+		rt.IsTuple = false
+		rt.IsPrimitive = false
+		rt.SwaggerType = object
+	case "interface", "null":
+		rt.IsMap = false
+		rt.IsArray = false
+		rt.IsComplexObject = false
+		rt.IsInterface = true
+		rt.IsStream = false
+		rt.IsTuple = false
+		rt.IsPrimitive = false
+		rt.SwaggerType = iface
+	case "stream":
+		rt.IsMap = false
+		rt.IsArray = false
+		rt.IsComplexObject = false
+		rt.IsInterface = false
+		rt.IsStream = true
+		rt.IsTuple = false
+		rt.IsPrimitive = false
+		rt.SwaggerType = file
+	case "tuple":
+		rt.IsMap = false
+		rt.IsArray = false
+		rt.IsComplexObject = false
+		rt.IsInterface = false
+		rt.IsStream = false
+		rt.IsTuple = true
+		rt.IsPrimitive = false
+		rt.SwaggerType = array
+	case "primitive":
+		rt.IsMap = false
+		rt.IsArray = false
+		rt.IsComplexObject = false
+		rt.IsInterface = false
+		rt.IsStream = false
+		rt.IsTuple = false
+		rt.IsPrimitive = true
+	case "":
+		break
+	default:
+		log.Printf("warning: unsupported hint value for external type: %q. Skipped", kind)
+	}
+}
diff --git a/generator/types_test.go b/generator/types_test.go
new file mode 100644
index 00000000..8e0fe0c4
--- /dev/null
+++ b/generator/types_test.go
@@ -0,0 +1,309 @@
+package generator
+
+import (
+	"encoding/json"
+	"io/ioutil"
+	"log"
+	"os"
+	"strconv"
+	"testing"
+
+	"github.com/go-openapi/loads"
+	"github.com/go-openapi/spec"
+	"github.com/stretchr/testify/require"
+)
+
+type externalTypeFixture struct {
+	schema    string
+	expected  *externalTypeDefinition
+	knownDefs struct{ tpe, pkg, alias string }
+	resolved  resolvedType
+}
+
+func makeResolveExternalTypes() []externalTypeFixture {
+	return []externalTypeFixture{
+		{
+			schema: `{
+		"type": "object",
+		"x-go-type": {
+			"type": "Mytype",
+			"import": {
+				"package": "github.com/fredbi/mymodels",
+				"alias": "external"
+			},
+			"hints": {
+			  "kind": "map"
+			},
+			"embedded": false
+		}
+	}`,
+			expected: &externalTypeDefinition{
+				Type: "Mytype",
+				Import: struct {
+					Package string
+					Alias   string
+				}{
+					Package: "github.com/fredbi/mymodels",
+					Alias:   "external",
+				},
+				Hints: struct {
+					Kind     string
+					Nullable bool
+				}{
+					Kind: "map",
+				},
+				Embedded: false,
+			},
+			knownDefs: struct{ tpe, pkg, alias string }{
+				tpe:   "external.Mytype",
+				pkg:   "github.com/fredbi/mymodels",
+				alias: "external",
+			},
+			resolved: resolvedType{
+				GoType:         "external.Mytype",
+				IsMap:          true,
+				SwaggerType:    "object",
+				IsEmptyOmitted: true,
+				Pkg:            "github.com/fredbi/mymodels",
+				PkgAlias:       "external",
+			},
+		},
+		{
+			schema: `{
+		"type": "object",
+		"x-go-type": {
+			"type": "Mytype",
+			"import": {
+				"package": "github.com/fredbi/mymodels",
+				"alias": "external"
+			},
+			"hints": {
+			  "kind": "map"
+			},
+			"embedded": true
+		}
+	}`,
+			expected: &externalTypeDefinition{
+				Type: "Mytype",
+				Import: struct {
+					Package string
+					Alias   string
+				}{
+					Package: "github.com/fredbi/mymodels",
+					Alias:   "external",
+				},
+				Hints: struct {
+					Kind     string
+					Nullable bool
+				}{
+					Kind: "map",
+				},
+				Embedded: true,
+			},
+			knownDefs: struct{ tpe, pkg, alias string }{
+				tpe:   "A",
+				pkg:   "",
+				alias: "",
+			},
+			resolved: resolvedType{
+				GoType:         "A",
+				IsMap:          true,
+				SwaggerType:    "object",
+				IsEmptyOmitted: true,
+			},
+		},
+		{
+			schema: `{
+		"type": "object",
+		"x-go-type": {
+			"type": "Mytype",
+			"import": {
+				"package": "github.com/fredbi/mymodels"
+			},
+			"hints": {
+			  "kind": "array",
+				"nullable": true
+			}
+		}
+	}`,
+			expected: &externalTypeDefinition{
+				Type: "Mytype",
+				Import: struct {
+					Package string
+					Alias   string
+				}{
+					Package: "github.com/fredbi/mymodels",
+					Alias:   "mymodels",
+				},
+				Hints: struct {
+					Kind     string
+					Nullable bool
+				}{
+					Kind:     "array",
+					Nullable: true,
+				},
+				Embedded: false,
+			},
+			knownDefs: struct{ tpe, pkg, alias string }{tpe: "mymodels.Mytype", pkg: "github.com/fredbi/mymodels", alias: "mymodels"},
+			resolved: resolvedType{
+				GoType:         "mymodels.Mytype",
+				IsArray:        true,
+				SwaggerType:    "array",
+				IsEmptyOmitted: false,
+				Pkg:            "github.com/fredbi/mymodels",
+				PkgAlias:       "mymodels",
+			},
+		},
+		{
+			schema: `{
+		"type": "object",
+		"x-go-type": {
+			"type": "Mytype",
+			"import": {
+				"package": "github.com/fredbi/mymodels"
+			},
+			"hints": {
+			  "kind": "map"
+			}
+		}
+	}`,
+			expected: &externalTypeDefinition{
+				Type: "Mytype",
+				Import: struct {
+					Package string
+					Alias   string
+				}{
+					Package: "github.com/fredbi/mymodels",
+					Alias:   "mymodels",
+				},
+				Hints: struct {
+					Kind     string
+					Nullable bool
+				}{
+					Kind: "map",
+				},
+			},
+			knownDefs: struct{ tpe, pkg, alias string }{tpe: "mymodels.Mytype", pkg: "github.com/fredbi/mymodels", alias: "mymodels"},
+			resolved: resolvedType{
+				GoType:         "mymodels.Mytype",
+				IsMap:          true,
+				SwaggerType:    "object",
+				IsEmptyOmitted: true,
+				Pkg:            "github.com/fredbi/mymodels",
+				PkgAlias:       "mymodels",
+			},
+		},
+		{
+			schema: `{
+		"type": "object",
+		"x-go-type": {
+			"type": "Mytype",
+			"import": {
+				"package": "github.com/fredbi/mymodels"
+			},
+			"hints": {
+			  "kind": "tuple"
+			}
+		}
+	}`,
+			expected: &externalTypeDefinition{
+				Type: "Mytype",
+				Import: struct {
+					Package string
+					Alias   string
+				}{
+					Package: "github.com/fredbi/mymodels",
+					Alias:   "mymodels",
+				},
+				Hints: struct {
+					Kind     string
+					Nullable bool
+				}{
+					Kind: "tuple",
+				},
+			},
+			knownDefs: struct{ tpe, pkg, alias string }{tpe: "mymodels.Mytype", pkg: "github.com/fredbi/mymodels", alias: "mymodels"},
+			resolved: resolvedType{
+				GoType:         "mymodels.Mytype",
+				IsTuple:        true,
+				SwaggerType:    "array",
+				IsEmptyOmitted: true,
+				Pkg:            "github.com/fredbi/mymodels",
+				PkgAlias:       "mymodels",
+			},
+		},
+		{
+			schema: `{
+		"type": "number",
+		"x-go-type": {
+			"type": "Mytype",
+			"import": {
+				"package": "github.com/fredbi/mymodels"
+			},
+			"hints": {
+			  "kind": "primitive"
+			}
+		}
+	}`,
+			expected: &externalTypeDefinition{
+				Type: "Mytype",
+				Import: struct {
+					Package string
+					Alias   string
+				}{
+					Package: "github.com/fredbi/mymodels",
+					Alias:   "mymodels",
+				},
+				Hints: struct {
+					Kind     string
+					Nullable bool
+				}{
+					Kind: "primitive",
+				},
+			},
+			knownDefs: struct{ tpe, pkg, alias string }{tpe: "mymodels.Mytype", pkg: "github.com/fredbi/mymodels", alias: "mymodels"},
+			resolved: resolvedType{
+				GoType:         "mymodels.Mytype",
+				IsPrimitive:    true,
+				SwaggerType:    "",
+				IsEmptyOmitted: true,
+				Pkg:            "github.com/fredbi/mymodels",
+				PkgAlias:       "mymodels",
+			},
+		},
+	}
+}
+
+func TestShortCircuitResolveExternal(t *testing.T) {
+	log.SetOutput(ioutil.Discard)
+	defer func() {
+		log.SetOutput(os.Stdout)
+	}()
+
+	for i, toPin := range makeResolveExternalTypes() {
+		fixture := toPin
+		t.Run(strconv.Itoa(i), func(t *testing.T) {
+			jazonDoc := fixture.schema
+			doc, err := loads.Embedded([]byte(jazonDoc), []byte(jazonDoc))
+			require.NoErrorf(t, err, "fixture %d", i)
+
+			r := newTypeResolver("models", doc)
+			var schema spec.Schema
+			err = json.Unmarshal([]byte(jazonDoc), &schema)
+			require.NoErrorf(t, err, "fixture %d", i)
+
+			extType, ok := hasExternalType(schema.Extensions)
+			require.Truef(t, ok, "fixture %d", i)
+
+			require.EqualValuesf(t, fixture.expected, extType, "fixture %d", i)
+
+			tpe, pkg, alias := knownDefGoType("A", schema, r.goTypeName)
+			require.EqualValuesf(t, fixture.knownDefs, struct{ tpe, pkg, alias string }{tpe, pkg, alias}, "fixture %d", i)
+
+			resolved := r.shortCircuitResolveExternal(tpe, pkg, alias, extType, &schema)
+
+			resolved.Extensions = nil // don't assert this
+			require.EqualValuesf(t, fixture.resolved, resolved, "fixture %d", i)
+		})
+	}
+}
diff --git a/go.mod b/go.mod
index b386a1b8..8ffe547e 100644
--- a/go.mod
+++ b/go.mod
@@ -21,6 +21,7 @@ require (
 	github.com/gorilla/handlers v1.4.2
 	github.com/jessevdk/go-flags v1.4.0
 	github.com/kr/pretty v0.2.0
+	github.com/mitchellh/mapstructure v1.3.2
 	github.com/pelletier/go-toml v1.8.0 // indirect
 	github.com/pkg/errors v0.9.1
 	github.com/pquerna/cachecontrol v0.0.0-20180517163645-1555304b9b35 // indirect
