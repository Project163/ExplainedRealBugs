diff --git a/examples/todo-list/cmd/to-do-list-server/doc.go b/examples/todo-list/cmd/to-do-list-server/doc.go
index 9c1bd411..7882d48b 100644
--- a/examples/todo-list/cmd/to-do-list-server/doc.go
+++ b/examples/todo-list/cmd/to-do-list-server/doc.go
@@ -1,10 +1,8 @@
 /*Package main Simple To Do List API
 
     Schemes:
-      http
-
       https
-
+      http
     Version: 0.1.0
 
     Consumes:
diff --git a/fixtures/bugs/123/swagger.yml b/fixtures/bugs/123/swagger.yml
new file mode 100644
index 00000000..8cdd55d8
--- /dev/null
+++ b/fixtures/bugs/123/swagger.yml
@@ -0,0 +1,197 @@
+---
+swagger: '2.0'
+info:
+  version: 0.1.0
+  title: 'AttendList'
+  description: |
+    AttendList service.
+  contact:
+    name: API Support
+    url: http://attendlist.co/support
+    email: contact@evecon.co
+consumes:
+  - application/json
+produces:
+  - application/json
+definitions:
+  Service:
+    description: Service information
+    type: object
+    properties:
+      Name:
+        type: string
+        readOnly: true
+      Build:
+        type: string
+        readOnly: true
+  Versions:
+    description: Representation of Version information
+    type: object
+    properties:
+      Id:
+        type: integer
+        format: int64
+        readOnly: true
+      Version:
+        type: integer
+        format: int64
+        readOnly: true
+      Created:
+        type: integer
+        format: int64
+        readOnly: true
+      Updated:
+        type: integer
+        format: int64
+        readOnly: true
+      Deleted:
+        type: boolean
+        readOnly: true
+  Dates:
+    description: Representation of Date interval
+    type: object
+    properties:
+      StartDate:
+        type: string
+        format: date-time
+      EndDate:
+        type: string
+        format: date-time
+  Location:
+    description: Representation of lat-lon Location
+    type: object
+    properties:
+      Latitude:
+        type: number
+        format: float
+      Longitude:
+        type: number
+        format: float
+  Event:
+    description: Representation of an Event
+    allOf:
+    - $ref: '#/definitions/Versions'
+    - $ref: '#/definitions/Dates'
+    - $ref: '#/definitions/Location'
+    - type: object
+      properties:
+        Name:
+          type: string
+        URL:
+          type: string
+        Notes:
+          type: string
+        Autosearch:
+          type: boolean
+    example:
+      StartDate: "2015-11-01T12:00:00Z"
+      EndDate: "2015-11-05T12:00:00Z"
+      Latitude: 59.842609
+      Longitude: 30.319087
+      Name: "Bikers meeting"
+      URL: "http://attendlist.co"
+      Notes: "Yet another bikers meeting"
+      Autosearch: false
+paths:
+  /services:
+    get:
+      description: Get services information.
+      tags:
+      - services
+      operationId: getServices
+      responses:
+        '200':
+          description: Successful response
+          schema:
+            title: ArrayOfServices
+            type: array
+            items:
+              $ref: '#/definitions/Service'
+        default:
+          description: Generic Error
+  /events:
+    get:
+      description: Get events.
+      tags:
+      - events
+      operationId: getEvents
+      responses:
+        '200':
+          description: Successful response
+          schema:
+            title: ArrayOfEvents
+            type: array
+            items:
+              $ref: '#/definitions/Event'
+        default:
+          description: Generic Error
+    post:
+      description: Create new event.
+      tags:
+      - events
+      operationId: postEvent
+      parameters:
+        - name: Event
+          in: body
+          description: New events
+          required: true
+          schema:
+            $ref: '#/definitions/Event'
+      responses:
+        '201':
+          description: |
+            Successful response.
+          headers:
+            'Location':
+              description: Contains link to the new Event resource
+              type: string
+        default:
+          description: Generic Error
+  /events/{id}:
+    parameters:
+      - name: id
+        in: path
+        description: Existing event id.
+        required: true
+        type: integer
+        format: int64
+    get:
+      description: Get event by id.
+      tags:
+      - events
+      operationId: getEventById
+      responses:
+        '200':
+          description: Successful response
+          schema:
+            title: Newly created event
+            $ref: '#/definitions/Event'
+        default:
+          description: Generic Error
+    put:
+      description: Update existing event.
+      tags:
+      - events
+      operationId: putEventById
+      parameters:
+        - name: Event
+          in: body
+          description: Existing event
+          required: true
+          schema:
+            $ref: '#/definitions/Event'
+      responses:
+        '204':
+          description: Successful response
+        default:
+          description: Generic Error
+    delete:
+      description: Delete event by id.
+      tags:
+      - events
+      operationId: deleteEventById
+      responses:
+        '204':
+          description: Successful response
+        default:
+          description: Generic Error
diff --git a/fixtures/validation/direct-circular-ancestor.json b/fixtures/validation/direct-circular-ancestor.json
index c79a319e..432e304e 100644
--- a/fixtures/validation/direct-circular-ancestor.json
+++ b/fixtures/validation/direct-circular-ancestor.json
@@ -42,29 +42,37 @@
         }
     },
     "definitions": {
-        "Circular2": {
+        "Parent": {
+          "properties": {
+            "id": {
+              "type": "integer",
+              "format": "int64"
+            },
+            "name": {
+              "type": "string"
+            }
+          }
+        },
+        "Circular1": {
           "allOf": [{
-            "$ref": "#/definitions/Circular1"
+            "$ref": "#/definitions/Circular2"
           }, {
             "properties": {
-              "createdAt": {
-                "type": "string",
-                "format": "date-time"
+              "age": {
+                "type": "integer",
+                "format": "int32"
               }
             }
           }]
         },
-        "Parent": {
-          "$ref": "#/definitions/Circular2"
-        },
-        "Circular1": {
+        "Circular2": {
           "allOf": [{
-            "$ref": "#/definitions/Parent"
+            "$ref": "#/definitions/Circular1"
           }, {
             "properties": {
-              "age": {
-                "type": "integer",
-                "format": "int32"
+              "createdAt": {
+                "type": "string",
+                "format": "date-time"
               }
             }
           }]
diff --git a/fixtures/validation/indirect-circular-ancestor.json b/fixtures/validation/indirect-circular-ancestor.json
index 432e304e..c79a319e 100644
--- a/fixtures/validation/indirect-circular-ancestor.json
+++ b/fixtures/validation/indirect-circular-ancestor.json
@@ -42,37 +42,29 @@
         }
     },
     "definitions": {
-        "Parent": {
-          "properties": {
-            "id": {
-              "type": "integer",
-              "format": "int64"
-            },
-            "name": {
-              "type": "string"
-            }
-          }
-        },
-        "Circular1": {
+        "Circular2": {
           "allOf": [{
-            "$ref": "#/definitions/Circular2"
+            "$ref": "#/definitions/Circular1"
           }, {
             "properties": {
-              "age": {
-                "type": "integer",
-                "format": "int32"
+              "createdAt": {
+                "type": "string",
+                "format": "date-time"
               }
             }
           }]
         },
-        "Circular2": {
+        "Parent": {
+          "$ref": "#/definitions/Circular2"
+        },
+        "Circular1": {
           "allOf": [{
-            "$ref": "#/definitions/Circular1"
+            "$ref": "#/definitions/Parent"
           }, {
             "properties": {
-              "createdAt": {
-                "type": "string",
-                "format": "date-time"
+              "age": {
+                "type": "integer",
+                "format": "int32"
               }
             }
           }]
diff --git a/generator/bindata.go b/generator/bindata.go
index 9ebe748b..df93340d 100644
--- a/generator/bindata.go
+++ b/generator/bindata.go
@@ -394,7 +394,7 @@ func templatesServerConfigureapiGotmpl() (*asset, error) {
 	return a, nil
 }
 
-var _templatesServerDocGotmpl = []byte("\x1f\x8b\x08\x00\x00\x09\x6e\x88\x00\xff\x94\x54\xcb\x6e\xea\x30\x10\xdd\xfb\x2b\x66\x8d\x74\xcd\x3e\xba\xea\xa2\x0f\xa9\x95\x68\x41\x85\x76\x6f\x25\x13\xb0\x4a\x1c\x64\x87\xa2\x16\xe5\xdf\x6b\x3b\x13\xc7\x31\xa4\x52\xd9\xe0\x39\x73\x1e\xf6\xd8\x30\x9f\xad\x44\xfe\x21\xb6\x08\x95\x90\x0a\xce\x67\x90\x25\xf0\x27\x55\xd6\x7c\x23\x9b\x3d\x42\xdb\x5a\xec\x02\xc0\xbd\xa1\xd5\xee\x58\x09\x25\xbf\x11\xf8\x8b\xa8\x3a\x0c\x55\xe1\x5b\xc1\xe9\x1e\x4d\xae\xe5\xa1\x91\xb5\xb2\x04\xc6\x82\x63\xd2\x70\xc6\xaa\x80\xb1\x78\x83\xba\x32\xcb\x72\x8d\xfa\x53\xe6\x2e\x80\x79\x04\x96\x25\x10\x96\x45\x8e\x97\xec\xc4\xb4\xd6\xc0\xd7\xf9\x0e\x2b\x34\xc0\x1f\x6b\xd3\x00\xbf\x15\x06\x57\xa2\xd9\x75\x16\xa4\x71\xf9\x3d\xcf\x22\x60\x3f\x54\x66\x6e\x4a\x5a\x28\x3b\xb3\x94\x01\xb6\xc5\x69\x1d\xe7\x8e\x4e\xe5\x43\x89\xe4\xd6\xde\xaf\x47\x53\x72\xd8\x1b\x09\xfa\xba\x13\x45\xdd\x4e\xe8\xbf\x4f\x32\x3a\x0b\xf9\xbc\xa3\x36\x34\x65\x67\x43\x65\xe7\x32\xf4\xd2\xf4\x85\x9d\xa1\xf2\x37\xed\x55\x54\x66\x30\x6e\x0f\x37\x3f\x86\xda\x16\x26\x0c\xf9\xdb\xeb\x22\x11\x04\xe4\xfa\xd0\xee\x6a\xd5\x88\x3c\xcc\x8d\xca\xb0\x13\xaa\xe3\x9d\x5c\x42\xd7\x0c\xf9\x83\x7d\xf7\x7b\x0b\xff\x8f\x35\x3d\x78\x33\xa5\xea\x76\x0b\xb1\xe6\x97\x03\xa4\x16\xe6\x48\x6f\xa6\x3f\x8b\x07\xb2\xe1\x59\xc5\x1c\x47\xf9\xe7\x93\x9e\xb1\x90\x62\xf3\x75\x08\xf7\x31\x99\xb1\xd2\x75\x71\xcc\xa3\x8c\x1e\x88\x32\x62\xce\x9f\x32\x86\x5f\x14\x33\x27\xb1\xdd\xa2\xce\x2a\x6c\x04\x9b\xcd\xd9\x21\xfa\x2f\x61\x8c\xfd\x04\x00\x00\xff\xff\x83\x22\x41\x70\x5d\x04\x00\x00")
+var _templatesServerDocGotmpl = []byte("\x1f\x8b\x08\x00\x00\x09\x6e\x88\x00\xff\x94\x54\xcb\x6e\xea\x30\x10\xdd\xfb\x2b\x66\x8d\x74\xcd\x3e\xba\xea\xa2\x0f\xa9\x95\x68\x41\x85\x76\x6f\x25\x13\xb0\x4a\x1c\x64\x87\xa2\x16\xe5\xdf\xeb\x77\x1c\x43\x2a\x95\x0d\x9e\x33\xe7\x61\x8f\x0d\xf3\xd9\x8a\x95\x1f\x6c\x8b\xd0\x30\x2e\xe0\x7c\x06\x5e\x03\x7d\x12\x75\x4b\x37\xbc\xdb\x23\xf4\xbd\xc6\x2e\x00\xdc\x2b\xbf\xda\x1d\x1b\x26\xf8\x37\x02\x7d\x61\x8d\xc3\x50\x54\xb6\x15\x9d\xee\x51\x95\x92\x1f\x3a\xde\x0a\x4d\x20\x24\x3a\x66\x0d\x63\x2c\x2a\x18\x8b\x37\x28\x1b\xb5\xac\xd7\x28\x3f\x79\x69\x02\x88\x45\x60\x59\x83\xc7\x8a\xc4\xf1\x92\x9d\x99\xb6\x12\xe8\xba\xdc\x61\x83\x0a\xe8\x63\xab\x3a\xa0\xb7\x4c\xe1\x8a\x75\x3b\x67\xe1\x35\x26\x3f\xf0\x34\x02\xfa\xe3\xcb\xc2\x4c\x49\x32\xa1\x67\x96\x33\x40\xb7\xa8\x1b\x50\x88\x1c\x1d\xc8\xe6\x79\xae\x59\x5b\xab\x80\xe6\xe4\xb8\x2d\x2f\x08\xb5\x13\x25\x5d\x27\xb4\xdf\x27\x9e\x1c\xc3\xfb\xbc\xa3\x54\x7e\xc0\xc6\xc6\x97\xce\x65\xe8\xe5\xe9\x0b\x3d\x3e\x61\x2f\xd9\xaa\x7c\x59\xc0\xb8\x3d\x5c\xfa\x18\xea\x7b\x98\x30\xa4\x6f\xaf\x8b\x4c\x10\x91\xeb\x43\xbb\x6b\x45\xc7\xca\x38\x37\x5f\xc6\x9d\xf8\x3a\xdd\xc9\x25\x74\xcd\x90\x3e\xe8\x27\xbf\xd7\xf0\xff\x54\x13\xc0\x9b\x29\x95\xdb\x2d\xa4\x9a\x5f\x0e\x90\x5b\xa8\xa3\x7f\x2e\xe1\x2c\x16\x28\x86\x17\x95\x72\x0c\xe5\x9f\x4d\x7a\xc6\x8a\xb3\xcd\xd7\x21\xde\xc7\x64\xc6\x4a\xb6\xd5\xb1\x4c\x32\x02\x90\x64\xa4\x9c\x3f\x65\x0c\x3f\x26\xa2\x4e\x6c\xbb\x45\x59\x34\xd8\x31\x32\x9b\x93\x43\xf2\x37\x42\x08\xf9\x09\x00\x00\xff\xff\x19\xe0\xb9\xc4\x58\x04\x00\x00")
 
 func templatesServerDocGotmplBytes() ([]byte, error) {
 	return bindataRead(
@@ -409,7 +409,7 @@ func templatesServerDocGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/server/doc.gotmpl", size: 1117, mode: os.FileMode(420), modTime: time.Unix(1448170795, 0)}
+	info := bindataFileInfo{name: "templates/server/doc.gotmpl", size: 1112, mode: os.FileMode(420), modTime: time.Unix(1448171690, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
diff --git a/generator/templates/server/doc.gotmpl b/generator/templates/server/doc.gotmpl
index 448521fa..069ea208 100644
--- a/generator/templates/server/doc.gotmpl
+++ b/generator/templates/server/doc.gotmpl
@@ -8,8 +8,7 @@ Terms Of Service:
 {{ end }}{{ if or .Schemes .Host .BasePath .Info }}
 {{ if .Schemes }}
     Schemes: {{ range .Schemes }}
-      {{.}}
-    {{ end }}{{ end }}{{ if .Host }}
+      {{.}}{{ end }}{{ end }}{{ if .Host }}
     Host: {{ .Host }}{{ end }}{{ if .BasePath }}
     BasePath: {{ .BasePath }}{{ end}}{{ with .Info }}{{ if .Version }}
     Version: {{ .Version }}{{ end }}{{ if .License }}
diff --git a/internal/validate/spec.go b/internal/validate/spec.go
index a0489080..370ca198 100644
--- a/internal/validate/spec.go
+++ b/internal/validate/spec.go
@@ -123,6 +123,7 @@ func (s *SpecValidator) validateDuplicatePropertyNames() *Result {
 			"#/definitions/" + k: struct{}{},
 		}
 
+		fmt.Println("validating circular ancestry for", k)
 		ancs := s.validateCircularAncestry(k, sch, knownanc)
 		if len(ancs) > 0 {
 			res.AddErrors(errors.New(422, "definition %q has circular ancestry: %v", k, ancs))
@@ -148,7 +149,7 @@ func (s *SpecValidator) validateSchemaPropertyNames(nm string, sch spec.Schema,
 
 	schn := nm
 	schc := &sch
-	if sch.Ref.GetURL() != nil {
+	if sch.Ref.String() != "" {
 		// gather property names
 		reso, err := spec.ResolveRef(s.spec.Spec(), &sch.Ref)
 		if err != nil {
@@ -182,28 +183,32 @@ func (s *SpecValidator) validateCircularAncestry(nm string, sch spec.Schema, kno
 
 	schn := nm
 	schc := &sch
-	if sch.Ref.GetURL() != nil {
+	if sch.Ref.String() != "" {
 		reso, err := spec.ResolveRef(s.spec.Spec(), &sch.Ref)
 		if err != nil {
 			panic(err)
 		}
 		schc = reso
-		schn = sch.Ref.String()
-		knowns[schn] = struct{}{}
+		schn = schc.Ref.String()
+		if schn != "" {
+			if _, ok := knowns[schn]; ok {
+				ancs = append(ancs, schn)
+			}
+		}
 	}
 
-	if _, ok := knowns[schn]; ok {
-		ancs = append(ancs, schn)
-	}
 	if len(ancs) > 0 {
 		return ancs
 	}
+	knowns[schn] = struct{}{}
 
 	if len(schc.AllOf) > 0 {
 		for _, chld := range schc.AllOf {
-			ancs = append(ancs, s.validateCircularAncestry(schn, chld, knowns)...)
-			if len(ancs) > 0 {
-				return ancs
+			if chld.Ref.String() != "" || len(chld.AllOf) > 0 {
+				ancs = append(ancs, s.validateCircularAncestry(nm, chld, knowns)...)
+				if len(ancs) > 0 {
+					return ancs
+				}
 			}
 		}
 	}
diff --git a/internal/validate/spec_test.go b/internal/validate/spec_test.go
index 2fcc4755..6050d599 100644
--- a/internal/validate/spec_test.go
+++ b/internal/validate/spec_test.go
@@ -49,16 +49,16 @@ func TestValidateDuplicatePropertyNames(t *testing.T) {
 }
 
 func TestValidateCircularAncestry(t *testing.T) {
-	doc, err := spec.JSONSpec(filepath.Join("..", "..", "fixtures", "validation", "direct-circular-ancestor.json"))
-	if assert.NoError(t, err) {
-		validator := NewSpecValidator(spec.MustLoadSwagger20Schema(), strfmt.Default)
-		validator.spec = doc
-		res := validator.validateDuplicatePropertyNames()
-		assert.NotEmpty(t, res.Errors)
-		assert.Len(t, res.Errors, 1)
-	}
+	//doc, err := spec.JSONSpec(filepath.Join("..", "..", "fixtures", "validation", "direct-circular-ancestor.json"))
+	//if assert.NoError(t, err) {
+	//validator := NewSpecValidator(spec.MustLoadSwagger20Schema(), strfmt.Default)
+	//validator.spec = doc
+	//res := validator.validateDuplicatePropertyNames()
+	//assert.NotEmpty(t, res.Errors)
+	//assert.Len(t, res.Errors, 1)
+	//}
 
-	doc, err = spec.JSONSpec(filepath.Join("..", "..", "fixtures", "validation", "indirect-circular-ancestor.json"))
+	doc, err := spec.JSONSpec(filepath.Join("..", "..", "fixtures", "validation", "indirect-circular-ancestor.json"))
 	if assert.NoError(t, err) {
 		validator := NewSpecValidator(spec.MustLoadSwagger20Schema(), strfmt.Default)
 		validator.spec = doc
@@ -66,6 +66,7 @@ func TestValidateCircularAncestry(t *testing.T) {
 		assert.NotEmpty(t, res.Errors)
 		assert.Len(t, res.Errors, 1)
 	}
+
 }
 
 func TestValidateUniqueSecurityScopes(t *testing.T) {
diff --git a/jsonreference/reference.go b/jsonreference/reference.go
index b8100962..2cf76628 100644
--- a/jsonreference/reference.go
+++ b/jsonreference/reference.go
@@ -148,6 +148,9 @@ func (r *Ref) Inherits(child Ref) (*Ref, error) {
 		return &child, nil
 	}
 
-	ref, _ := New(parentURL.ResolveReference(childURL).String())
+	ref, err := New(parentURL.ResolveReference(childURL).String())
+	if err != nil {
+		return nil, err
+	}
 	return &ref, nil
 }
diff --git a/scan/parameters.go b/scan/parameters.go
index de858d24..53c922b7 100644
--- a/scan/parameters.go
+++ b/scan/parameters.go
@@ -342,7 +342,7 @@ func (pp *paramStructParser) parseStructType(gofile *ast.File, operation *spec.O
 
 				sp := new(sectionedParser)
 				sp.setDescription = func(lines []string) { ps.Description = joinDropLast(lines) }
-				if ps.Ref.GetURL() == nil {
+				if ps.Ref.String() == "" {
 					sp.taggers = []tagParser{
 						newSingleLineTagParser("maximum", &setMaximum{paramValidations{&ps}, rxf(rxMaximumFmt, "")}),
 						newSingleLineTagParser("minimum", &setMinimum{paramValidations{&ps}, rxf(rxMinimumFmt, "")}),
diff --git a/scan/schema.go b/scan/schema.go
index 9e554eed..8b2fd16f 100644
--- a/scan/schema.go
+++ b/scan/schema.go
@@ -402,7 +402,7 @@ func (scp *schemaParser) parseStructType(gofile *ast.File, bschema *spec.Schema,
 
 				sp := new(sectionedParser)
 				sp.setDescription = func(lines []string) { ps.Description = joinDropLast(lines) }
-				if ps.Ref.GetURL() == nil {
+				if ps.Ref.String() == "" {
 					sp.taggers = []tagParser{
 						newSingleLineTagParser("maximum", &setMaximum{schemaValidations{&ps}, rxf(rxMaximumFmt, "")}),
 						newSingleLineTagParser("minimum", &setMinimum{schemaValidations{&ps}, rxf(rxMinimumFmt, "")}),
diff --git a/scan/schema_test.go b/scan/schema_test.go
index 1519f02f..0c223e7c 100644
--- a/scan/schema_test.go
+++ b/scan/schema_test.go
@@ -183,7 +183,7 @@ func TestEmbeddedAllOf(t *testing.T) {
 	assertProperty(t, &asch, "string", "name", "", "Name")
 
 	asch = schema.AllOf[1]
-	assert.Equal(t, "#/definitions/withNotes", asch.Ref.GetURL().String())
+	assert.Equal(t, "#/definitions/withNotes", asch.Ref.String())
 
 	asch = schema.AllOf[2]
 	assertProperty(t, &asch, "string", "createdAt", "date-time", "CreatedAt")
diff --git a/spec/expander.go b/spec/expander.go
index 6a4ef23c..73a1021a 100644
--- a/spec/expander.go
+++ b/spec/expander.go
@@ -326,7 +326,7 @@ func ExpandSchema(schema *Schema, root interface{}, cache ResolutionCache) error
 
 	nrr, _ := NewRef(schema.ID)
 	var rrr *Ref
-	if nrr.GetURL() != nil {
+	if nrr.String() != "" {
 		switch root.(type) {
 		case *Schema:
 			rid, _ := NewRef(root.(*Schema).ID)
diff --git a/spec/ref.go b/spec/ref.go
index 7e1f2edc..eab47b13 100644
--- a/spec/ref.go
+++ b/spec/ref.go
@@ -16,7 +16,6 @@ package spec
 
 import (
 	"encoding/json"
-	"errors"
 
 	"github.com/go-swagger/go-swagger/jsonreference"
 )
@@ -38,38 +37,14 @@ type Ref struct {
 	jsonreference.Ref
 }
 
-// // PointsToRoot returns true when this reference should point to root
-// func (r *Ref) PointsToRoot() bool {
-// 	return r.RawURL == "#"
-// }
-
-// // IsResolved returns true if the reference has been resolved
-// func (r Ref) IsResolved() bool {
-// 	return r.Resolved != nil
-// }
-
-// // NeedsResolving returns true if the reference needs to be resolved
-// func (r Ref) NeedsResolving() bool {
-// 	return r.Ref.GetURL() != nil && r.Resolved == nil
-// }
-
 // Inherits creates a new reference from a parent and a child
 // If the child cannot inherit from the parent, an error is returned
 func (r *Ref) Inherits(child Ref) (*Ref, error) {
-	childURL := child.GetURL()
-	parentURL := r.GetURL()
-	if childURL == nil {
-		return nil, errors.New("child url is nil")
-	}
-	if parentURL == nil {
-		return &child, nil
-	}
-
-	ref, err := NewRef(parentURL.ResolveReference(childURL).String())
+	ref, err := r.Ref.Inherits(child.Ref)
 	if err != nil {
 		return nil, err
 	}
-	return &ref, err
+	return &Ref{Ref: *ref}, nil
 }
 
 // NewRef creates a new instance of a ref object
diff --git a/validate/spec_test.go b/validate/spec_test.go
index b4834010..93ee811d 100644
--- a/validate/spec_test.go
+++ b/validate/spec_test.go
@@ -16,6 +16,7 @@ package validate
 
 import (
 	"encoding/json"
+	"fmt"
 	"io/ioutil"
 	"path/filepath"
 	"testing"
@@ -124,3 +125,17 @@ func TestIssue61_ResolvedRef(t *testing.T) {
 		assert.True(t, res.IsValid())
 	}
 }
+func TestIssue123(t *testing.T) {
+	fp := filepath.Join("..", "fixtures", "bugs", "123", "swagger.yml")
+
+	// as swagger spec
+	doc, err := spec.YAMLSpec(fp)
+	if assert.NoError(t, err) {
+		validator := intvalidate.NewSpecValidator(doc.Schema(), strfmt.Default)
+		res, _ := validator.Validate(doc)
+		for _, e := range res.Errors {
+			fmt.Println(e)
+		}
+		assert.True(t, res.IsValid())
+	}
+}
