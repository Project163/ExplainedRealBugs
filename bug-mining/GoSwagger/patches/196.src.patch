diff --git a/docs/generate/spec.md b/docs/generate/spec.md
index 15e2e68c..712f3c3c 100644
--- a/docs/generate/spec.md
+++ b/docs/generate/spec.md
@@ -102,3 +102,4 @@ x-nullable | makes a property value nullable, for go code that means a pointer
 x-go-name | the go name of a type
 x-go-package | the go package of a type
 x-class | this is used in conjunction with discriminators to give a full type name
+x-omitempty | this is used with arrays to control presence of omitempty tag to be used by JSON Marshaler
diff --git a/fixtures/bugs/774/swagger.yml b/fixtures/bugs/774/swagger.yml
new file mode 100644
index 00000000..253085a6
--- /dev/null
+++ b/fixtures/bugs/774/swagger.yml
@@ -0,0 +1,42 @@
+---
+swagger: '2.0'
+info:
+  version: 0.0.0
+  title: Breaking API as described by christianklotz
+paths:
+  /stores:
+    get:
+      operationId: getFoo
+      responses:
+        200:
+          schema:
+            type: array
+            items:
+              $ref: '#/definitions/Foo'
+definitions:
+  Foo:
+    type: object
+    properties:
+      hasOmitEmptyTrue:
+        type: array
+        x-omitempty: true
+        items:
+          type: string
+          enum:
+          - some
+          - values
+      hasOmitEmptyFalse:
+        type: array
+        x-omitempty: false
+        items:
+          type: string
+          enum:
+          - some
+          - values
+      noOmitEmpty:
+        type: array
+        items:
+          type: string
+          enum:
+          - some
+          - values
diff --git a/generator/bindata.go b/generator/bindata.go
index 53164d8c..1c5d8ede 100644
--- a/generator/bindata.go
+++ b/generator/bindata.go
@@ -536,7 +536,7 @@ func templatesServerUrlbuilderGotmpl() (*asset, error) {
 	return a, nil
 }
 
-var _templatesStructfieldGotmpl = []byte("\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\xff\xcc\x54\x4d\x6b\xe3\x30\x10\xbd\xfb\x57\x0c\x22\x87\x18\xd6\xce\x3d\xb7\xfd\x60\xd9\xc0\x7e\xc0\x26\x2c\x7b\xcc\x20\x8f\x53\x15\x59\x72\x25\xb9\xd4\x15\xfa\xef\x45\x8e\xf3\xe1\xe2\x24\xb4\xa5\xa4\x37\x5b\x33\xcf\xef\xcd\x9b\x67\x79\x0f\x05\x95\x42\x11\x30\xeb\x4c\xc3\x5d\x29\x48\x16\x0c\x42\x48\x00\xbc\xcf\x40\x94\xa0\xb4\x83\x49\xbe\xb0\x5f\xd0\xd2\xaa\xad\x09\xb2\xae\x0a\x30\x9b\x81\xf7\xe0\xa8\xaa\x25\x3a\x02\x56\x68\x6e\x9d\x11\x6a\xc3\x20\x87\xbe\x27\x7e\xe3\xd0\x51\x1b\x5d\x93\x71\xed\x3f\x94\xa2\x40\x27\xb4\xfa\xa6\xf9\x72\x87\xd9\x93\x92\x2a\x42\x48\xbc\x87\x1a\x2d\x47\x29\x1e\x09\xf2\xdf\x58\x51\x08\x43\x42\xcb\x6f\xa8\xc2\xa8\x69\xcb\x08\xeb\x5b\xab\xd5\x9c\x25\xbd\xf2\x49\xfe\x03\x9f\xcb\xce\xba\x22\x49\x4b\x87\x21\xf3\x3f\x46\x6c\x84\x42\x19\x49\x06\xb3\xa3\x2a\x60\x1a\x0d\xc8\xff\xd2\x5d\x23\x0c\x15\x69\xff\xbe\xb0\x9f\x8d\xc1\x36\x85\x10\x3e\xe9\x4a\x44\x51\xae\xf5\x3e\x6a\x87\x4e\x7c\xd6\x3f\xee\xd5\xe4\xff\x7f\xfd\xec\x09\xe0\xa1\x92\x73\xe6\xfd\xf1\x19\x1b\x82\x23\xe0\x6b\x63\x9d\xae\x56\xb8\x81\xed\xe4\x83\x83\x7d\xfb\x3a\x39\x20\x3b\xe8\x6e\xa3\xae\xa9\x25\x5d\x79\xa1\xc3\xa1\x5e\xb9\xcf\x8c\xbd\xd4\x92\x38\x0a\xef\x2a\x60\xc9\x88\x8e\xd3\x9c\xf2\xe9\x28\xf9\x8b\x12\x39\x7d\x80\xf8\xc3\x89\xfc\x4f\xd3\xf3\x8e\x25\x4b\x72\xa3\xb8\xb3\xa8\x74\xb0\xa6\x91\xfc\x5c\xd3\x16\xb8\x9c\xa2\xf7\x77\x65\x90\x97\xda\x88\xfb\xf1\xdb\x92\x63\x45\xc7\x04\xdf\x63\xfd\x82\xb6\x33\x24\xa3\x3f\xf0\xdb\x38\x9e\x02\x00\x00\xff\xff\xfc\xad\x28\x92\xf1\x05\x00\x00")
+var _templatesStructfieldGotmpl = []byte("\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\xff\xcc\x54\x4b\x8b\xdb\x30\x10\xbe\xfb\x57\x0c\x22\x87\x18\x6a\xe7\x9e\x5b\x9f\x34\xd0\x36\xd0\x84\xd2\x63\x84\x3c\x4e\x55\xf4\xaa\x24\x97\xf5\x0a\xfd\xf7\x45\x8e\xf3\xf0\xe2\x24\xec\x2e\x4b\xf6\x26\x34\xf3\xf9\x7b\x8c\xc6\x21\x40\x85\x35\x57\x08\xc4\x79\xdb\x30\x5f\x73\x14\x15\x81\x18\x33\x80\x10\x0a\xe0\x35\x28\xed\x61\x52\x2e\xdc\x07\xea\x70\xdd\x1a\x84\xa2\xab\x02\xcc\x66\x10\x02\x78\x94\x46\x50\x8f\x40\x2a\xcd\x9c\xb7\x5c\x6d\x09\x94\xd0\xf7\xa4\x6f\x1c\x3b\x8c\xd5\x06\xad\x6f\x7f\x51\xc1\x2b\xea\xb9\x56\x9f\x34\x5b\xed\x31\x07\x52\x54\x55\x8c\x59\x08\x60\xa8\x63\x54\xf0\x7b\x84\xf2\x07\x95\x18\xe3\x90\xd0\xb1\x3f\x28\x69\xd2\xb4\x63\x84\xcd\x5f\xa7\xd5\x9c\x64\xbd\xf2\x49\xf9\x95\x3e\x96\x5d\x74\x45\x14\x0e\x8f\x26\xcb\xa5\xe5\x5b\xae\xa8\x48\x24\x03\xef\x54\x55\x30\x4d\x01\x94\x3f\xf1\x5f\xc3\x2d\x56\x39\x4c\xb5\xed\xef\x16\xee\xbd\xb5\xb4\xcd\xd3\xe9\xb3\x34\xbe\x5d\x4a\xee\x7d\xea\x89\xf1\x9d\x96\x3c\x29\xf5\x6d\x08\xc9\x10\x74\x8e\x8a\xfe\x78\x90\x58\xfe\xfe\xfe\xad\x67\x85\x3b\x29\xe6\x24\x84\xd3\x3b\x32\x04\x27\xc0\xc7\xc6\x79\x2d\xd7\x74\x0b\xbb\x38\x06\x17\x87\xf6\x4d\x76\x44\x76\xd0\xfd\x98\x7d\x63\x04\xde\x78\xca\x43\x53\xcf\x1c\x72\x41\x9e\x1a\x49\xb2\xc2\xba\x0a\x38\xb4\xbc\xe3\xb4\xe7\x72\x3a\x59\x87\x45\x4d\x19\xbe\x81\x9d\x80\x33\x4b\x31\xcd\x2f\x27\x96\xad\xd0\x8f\xe2\x2e\xa2\xf2\xc1\x98\x46\xde\xcf\x2d\x63\x81\xeb\xaf\xe8\xf5\x53\x19\xbc\x17\x63\xf9\xff\xf1\x5f\x28\xa3\x12\x4f\x09\xbe\xa4\xfa\x15\x6d\x17\x48\x46\x17\xf8\x65\x1c\x0f\x01\x00\x00\xff\xff\xce\x54\xf7\x99\x06\x06\x00\x00")
 
 func templatesStructfieldGotmplBytes() ([]byte, error) {
 	return bindataRead(
@@ -551,7 +551,7 @@ func templatesStructfieldGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/structfield.gotmpl", size: 1521, mode: os.FileMode(420), modTime: time.Unix(1482416923, 0)}
+	info := bindataFileInfo{name: "templates/structfield.gotmpl", size: 1542, mode: os.FileMode(420), modTime: time.Unix(1482416923, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -729,34 +729,34 @@ func AssetNames() []string {
 // _bindata is a table, holding each asset generator, mapped to its name.
 var _bindata = map[string]func() (*asset, error){
 	"templates/additionalpropertiesserializer.gotmpl": templatesAdditionalpropertiesserializerGotmpl,
-	"templates/client/client.gotmpl": templatesClientClientGotmpl,
-	"templates/client/facade.gotmpl": templatesClientFacadeGotmpl,
-	"templates/client/parameter.gotmpl": templatesClientParameterGotmpl,
-	"templates/client/response.gotmpl": templatesClientResponseGotmpl,
-	"templates/docstring.gotmpl": templatesDocstringGotmpl,
-	"templates/header.gotmpl": templatesHeaderGotmpl,
-	"templates/model.gotmpl": templatesModelGotmpl,
-	"templates/modelvalidator.gotmpl": templatesModelvalidatorGotmpl,
-	"templates/schema.gotmpl": templatesSchemaGotmpl,
-	"templates/schemabody.gotmpl": templatesSchemabodyGotmpl,
-	"templates/schematype.gotmpl": templatesSchematypeGotmpl,
-	"templates/schemavalidator.gotmpl": templatesSchemavalidatorGotmpl,
-	"templates/server/builder.gotmpl": templatesServerBuilderGotmpl,
-	"templates/server/configureapi.gotmpl": templatesServerConfigureapiGotmpl,
-	"templates/server/doc.gotmpl": templatesServerDocGotmpl,
-	"templates/server/main.gotmpl": templatesServerMainGotmpl,
-	"templates/server/operation.gotmpl": templatesServerOperationGotmpl,
-	"templates/server/parameter.gotmpl": templatesServerParameterGotmpl,
-	"templates/server/responses.gotmpl": templatesServerResponsesGotmpl,
-	"templates/server/server.gotmpl": templatesServerServerGotmpl,
-	"templates/server/urlbuilder.gotmpl": templatesServerUrlbuilderGotmpl,
-	"templates/structfield.gotmpl": templatesStructfieldGotmpl,
-	"templates/swagger_json_embed.gotmpl": templatesSwagger_json_embedGotmpl,
-	"templates/tuplefield.gotmpl": templatesTuplefieldGotmpl,
-	"templates/tupleserializer.gotmpl": templatesTupleserializerGotmpl,
-	"templates/validation/customformat.gotmpl": templatesValidationCustomformatGotmpl,
-	"templates/validation/primitive.gotmpl": templatesValidationPrimitiveGotmpl,
-	"templates/validation/structfield.gotmpl": templatesValidationStructfieldGotmpl,
+	"templates/client/client.gotmpl":                  templatesClientClientGotmpl,
+	"templates/client/facade.gotmpl":                  templatesClientFacadeGotmpl,
+	"templates/client/parameter.gotmpl":               templatesClientParameterGotmpl,
+	"templates/client/response.gotmpl":                templatesClientResponseGotmpl,
+	"templates/docstring.gotmpl":                      templatesDocstringGotmpl,
+	"templates/header.gotmpl":                         templatesHeaderGotmpl,
+	"templates/model.gotmpl":                          templatesModelGotmpl,
+	"templates/modelvalidator.gotmpl":                 templatesModelvalidatorGotmpl,
+	"templates/schema.gotmpl":                         templatesSchemaGotmpl,
+	"templates/schemabody.gotmpl":                     templatesSchemabodyGotmpl,
+	"templates/schematype.gotmpl":                     templatesSchematypeGotmpl,
+	"templates/schemavalidator.gotmpl":                templatesSchemavalidatorGotmpl,
+	"templates/server/builder.gotmpl":                 templatesServerBuilderGotmpl,
+	"templates/server/configureapi.gotmpl":            templatesServerConfigureapiGotmpl,
+	"templates/server/doc.gotmpl":                     templatesServerDocGotmpl,
+	"templates/server/main.gotmpl":                    templatesServerMainGotmpl,
+	"templates/server/operation.gotmpl":               templatesServerOperationGotmpl,
+	"templates/server/parameter.gotmpl":               templatesServerParameterGotmpl,
+	"templates/server/responses.gotmpl":               templatesServerResponsesGotmpl,
+	"templates/server/server.gotmpl":                  templatesServerServerGotmpl,
+	"templates/server/urlbuilder.gotmpl":              templatesServerUrlbuilderGotmpl,
+	"templates/structfield.gotmpl":                    templatesStructfieldGotmpl,
+	"templates/swagger_json_embed.gotmpl":             templatesSwagger_json_embedGotmpl,
+	"templates/tuplefield.gotmpl":                     templatesTuplefieldGotmpl,
+	"templates/tupleserializer.gotmpl":                templatesTupleserializerGotmpl,
+	"templates/validation/customformat.gotmpl":        templatesValidationCustomformatGotmpl,
+	"templates/validation/primitive.gotmpl":           templatesValidationPrimitiveGotmpl,
+	"templates/validation/structfield.gotmpl":         templatesValidationStructfieldGotmpl,
 }
 
 // AssetDir returns the file names below a certain
@@ -798,42 +798,43 @@ type bintree struct {
 	Func     func() (*asset, error)
 	Children map[string]*bintree
 }
+
 var _bintree = &bintree{nil, map[string]*bintree{
 	"templates": &bintree{nil, map[string]*bintree{
 		"additionalpropertiesserializer.gotmpl": &bintree{templatesAdditionalpropertiesserializerGotmpl, map[string]*bintree{}},
 		"client": &bintree{nil, map[string]*bintree{
-			"client.gotmpl": &bintree{templatesClientClientGotmpl, map[string]*bintree{}},
-			"facade.gotmpl": &bintree{templatesClientFacadeGotmpl, map[string]*bintree{}},
+			"client.gotmpl":    &bintree{templatesClientClientGotmpl, map[string]*bintree{}},
+			"facade.gotmpl":    &bintree{templatesClientFacadeGotmpl, map[string]*bintree{}},
 			"parameter.gotmpl": &bintree{templatesClientParameterGotmpl, map[string]*bintree{}},
-			"response.gotmpl": &bintree{templatesClientResponseGotmpl, map[string]*bintree{}},
+			"response.gotmpl":  &bintree{templatesClientResponseGotmpl, map[string]*bintree{}},
 		}},
-		"docstring.gotmpl": &bintree{templatesDocstringGotmpl, map[string]*bintree{}},
-		"header.gotmpl": &bintree{templatesHeaderGotmpl, map[string]*bintree{}},
-		"model.gotmpl": &bintree{templatesModelGotmpl, map[string]*bintree{}},
-		"modelvalidator.gotmpl": &bintree{templatesModelvalidatorGotmpl, map[string]*bintree{}},
-		"schema.gotmpl": &bintree{templatesSchemaGotmpl, map[string]*bintree{}},
-		"schemabody.gotmpl": &bintree{templatesSchemabodyGotmpl, map[string]*bintree{}},
-		"schematype.gotmpl": &bintree{templatesSchematypeGotmpl, map[string]*bintree{}},
+		"docstring.gotmpl":       &bintree{templatesDocstringGotmpl, map[string]*bintree{}},
+		"header.gotmpl":          &bintree{templatesHeaderGotmpl, map[string]*bintree{}},
+		"model.gotmpl":           &bintree{templatesModelGotmpl, map[string]*bintree{}},
+		"modelvalidator.gotmpl":  &bintree{templatesModelvalidatorGotmpl, map[string]*bintree{}},
+		"schema.gotmpl":          &bintree{templatesSchemaGotmpl, map[string]*bintree{}},
+		"schemabody.gotmpl":      &bintree{templatesSchemabodyGotmpl, map[string]*bintree{}},
+		"schematype.gotmpl":      &bintree{templatesSchematypeGotmpl, map[string]*bintree{}},
 		"schemavalidator.gotmpl": &bintree{templatesSchemavalidatorGotmpl, map[string]*bintree{}},
 		"server": &bintree{nil, map[string]*bintree{
-			"builder.gotmpl": &bintree{templatesServerBuilderGotmpl, map[string]*bintree{}},
+			"builder.gotmpl":      &bintree{templatesServerBuilderGotmpl, map[string]*bintree{}},
 			"configureapi.gotmpl": &bintree{templatesServerConfigureapiGotmpl, map[string]*bintree{}},
-			"doc.gotmpl": &bintree{templatesServerDocGotmpl, map[string]*bintree{}},
-			"main.gotmpl": &bintree{templatesServerMainGotmpl, map[string]*bintree{}},
-			"operation.gotmpl": &bintree{templatesServerOperationGotmpl, map[string]*bintree{}},
-			"parameter.gotmpl": &bintree{templatesServerParameterGotmpl, map[string]*bintree{}},
-			"responses.gotmpl": &bintree{templatesServerResponsesGotmpl, map[string]*bintree{}},
-			"server.gotmpl": &bintree{templatesServerServerGotmpl, map[string]*bintree{}},
-			"urlbuilder.gotmpl": &bintree{templatesServerUrlbuilderGotmpl, map[string]*bintree{}},
+			"doc.gotmpl":          &bintree{templatesServerDocGotmpl, map[string]*bintree{}},
+			"main.gotmpl":         &bintree{templatesServerMainGotmpl, map[string]*bintree{}},
+			"operation.gotmpl":    &bintree{templatesServerOperationGotmpl, map[string]*bintree{}},
+			"parameter.gotmpl":    &bintree{templatesServerParameterGotmpl, map[string]*bintree{}},
+			"responses.gotmpl":    &bintree{templatesServerResponsesGotmpl, map[string]*bintree{}},
+			"server.gotmpl":       &bintree{templatesServerServerGotmpl, map[string]*bintree{}},
+			"urlbuilder.gotmpl":   &bintree{templatesServerUrlbuilderGotmpl, map[string]*bintree{}},
 		}},
-		"structfield.gotmpl": &bintree{templatesStructfieldGotmpl, map[string]*bintree{}},
+		"structfield.gotmpl":        &bintree{templatesStructfieldGotmpl, map[string]*bintree{}},
 		"swagger_json_embed.gotmpl": &bintree{templatesSwagger_json_embedGotmpl, map[string]*bintree{}},
-		"tuplefield.gotmpl": &bintree{templatesTuplefieldGotmpl, map[string]*bintree{}},
-		"tupleserializer.gotmpl": &bintree{templatesTupleserializerGotmpl, map[string]*bintree{}},
+		"tuplefield.gotmpl":         &bintree{templatesTuplefieldGotmpl, map[string]*bintree{}},
+		"tupleserializer.gotmpl":    &bintree{templatesTupleserializerGotmpl, map[string]*bintree{}},
 		"validation": &bintree{nil, map[string]*bintree{
 			"customformat.gotmpl": &bintree{templatesValidationCustomformatGotmpl, map[string]*bintree{}},
-			"primitive.gotmpl": &bintree{templatesValidationPrimitiveGotmpl, map[string]*bintree{}},
-			"structfield.gotmpl": &bintree{templatesValidationStructfieldGotmpl, map[string]*bintree{}},
+			"primitive.gotmpl":    &bintree{templatesValidationPrimitiveGotmpl, map[string]*bintree{}},
+			"structfield.gotmpl":  &bintree{templatesValidationStructfieldGotmpl, map[string]*bintree{}},
 		}},
 	}},
 }}
@@ -884,4 +885,3 @@ func _filePath(dir, name string) string {
 	cannonicalName := strings.Replace(name, "\\", "/", -1)
 	return filepath.Join(append([]string{dir}, strings.Split(cannonicalName, "/")...)...)
 }
-
diff --git a/generator/model_test.go b/generator/model_test.go
index cf9c5523..49a0a486 100644
--- a/generator/model_test.go
+++ b/generator/model_test.go
@@ -2005,3 +2005,30 @@ func TestGenModel_Issue981(t *testing.T) {
 	}
 
 }
+
+func TestGenModel_Issue774(t *testing.T) {
+	specDoc, err := loads.Spec("../fixtures/bugs/774/swagger.yml")
+	if assert.NoError(t, err) {
+		definitions := specDoc.Spec().Definitions
+		k := "Foo"
+		schema := definitions[k]
+		opts := opts()
+		genModel, err := makeGenDefinition(k, "models", schema, specDoc, opts)
+		if assert.NoError(t, err) {
+			buf := bytes.NewBuffer(nil)
+			err := templates.MustGet("model").Execute(buf, genModel)
+			if assert.NoError(t, err) {
+				ff, err := opts.LanguageOpts.FormatContent("Foo.go", buf.Bytes())
+				if assert.NoError(t, err) {
+					res := string(ff)
+					fmt.Println(res)
+					assertInCode(t, "HasOmitEmptyFalse []string `json:\"hasOmitEmptyFalse\"`", res)
+					assertInCode(t, "HasOmitEmptyTrue []string `json:\"hasOmitEmptyTrue,omitempty\"`", res)
+					assertInCode(t, "NoOmitEmpty []string `json:\"noOmitEmpty\"`", res)
+				} else {
+					fmt.Println(buf.String())
+				}
+			}
+		}
+	}
+}
diff --git a/generator/templates/structfield.gotmpl b/generator/templates/structfield.gotmpl
index 95676f9c..cfe1dc8b 100644
--- a/generator/templates/structfield.gotmpl
+++ b/generator/templates/structfield.gotmpl
@@ -8,7 +8,7 @@
   -
 {{- else }}
   {{- .OriginalName }}
-  {{- if and (not .Required) (not .IsArray) }},omitempty{{ end }}
+  {{- if and (not .Required) (or (not .IsArray) .IsEmptyOmitted) }},omitempty{{ end }}
 {{- end }}"
 {{- if .XMLName }} xml:"{{ .XMLName }}"{{ end }}
 {{- if .CustomTag }} {{ .CustomTag }}{{ end }}`
diff --git a/generator/typeresolver_test.go b/generator/typeresolver_test.go
index e1a1c814..25c50c2a 100644
--- a/generator/typeresolver_test.go
+++ b/generator/typeresolver_test.go
@@ -120,6 +120,23 @@ func TestTypeResolver_BasicTypes(t *testing.T) {
 			rt, err := resolver.ResolveSchema(new(spec.Schema).CollectionOf(sch), true, true)
 			if assert.NoError(t, err) {
 				assert.True(t, rt.IsArray)
+				assert.False(t, rt.IsEmptyOmitted)
+			}
+
+			s := new(spec.Schema).CollectionOf(sch)
+			s.AddExtension(xOmitEmpty, false)
+			rt, err = resolver.ResolveSchema(s, true, true)
+			if assert.NoError(t, err) {
+				assert.True(t, rt.IsArray)
+				assert.False(t, rt.IsEmptyOmitted)
+			}
+
+			s = new(spec.Schema).CollectionOf(sch)
+			s.AddExtension(xOmitEmpty, true)
+			rt, err = resolver.ResolveSchema(s, true, true)
+			if assert.NoError(t, err) {
+				assert.True(t, rt.IsArray)
+				assert.True(t, rt.IsEmptyOmitted)
 			}
 		}
 
diff --git a/generator/types.go b/generator/types.go
index 65cc2756..2450f4d9 100644
--- a/generator/types.go
+++ b/generator/types.go
@@ -39,6 +39,7 @@ const (
 	binary      = "binary"
 	xNullable   = "x-nullable"
 	xIsNullable = "x-isnullable"
+	xOmitEmpty  = "x-omitempty"
 	sHTTP       = "http"
 	body        = "body"
 )
@@ -394,6 +395,12 @@ func (t *typeResolver) isNullable(schema *spec.Schema) bool {
 	return len(schema.Properties) > 0
 }
 
+func (t *typeResolver) IsEmptyOmitted(schema *spec.Schema) bool {
+	v, found := schema.Extensions[xOmitEmpty]
+	omitted, cast := v.(bool)
+	return found && cast && omitted
+}
+
 func (t *typeResolver) firstType(schema *spec.Schema) string {
 	if len(schema.Type) == 0 || schema.Type[0] == "" {
 		return object
@@ -409,6 +416,7 @@ func (t *typeResolver) resolveArray(schema *spec.Schema, isAnonymous, isRequired
 
 	result.IsArray = true
 	result.IsNullable = false
+	result.IsEmptyOmitted = t.IsEmptyOmitted(schema)
 	if schema.AdditionalItems != nil {
 		result.HasAdditionalItems = (schema.AdditionalItems.Allows || schema.AdditionalItems.Schema != nil)
 	}
@@ -706,6 +714,7 @@ type resolvedType struct {
 	IsNullable        bool
 	IsStream          bool
 	HasDiscriminator  bool
+	IsEmptyOmitted    bool
 
 	// A tuple gets rendered as an anonymous struct with P{index} as property name
 	IsTuple            bool
