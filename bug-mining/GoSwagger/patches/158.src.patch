diff --git a/fixtures/codegen/shipyard.yml b/fixtures/codegen/shipyard.yml
new file mode 100644
index 00000000..3eeca1b6
--- /dev/null
+++ b/fixtures/codegen/shipyard.yml
@@ -0,0 +1,184 @@
+swagger: '2.0'
+info:
+  version: 0.0.0
+  title: APIs for building docker images.
+basePath: /beeswax/images/api/v1
+consumes:
+  - application/json
+produces:
+  - application/json
+paths:
+  '/{repository}/applications':
+    get:
+      description: Get all applications for this repository
+      operationId: getAllApplications
+      responses:
+        '200':
+          description: The request was for a repository and applications exist within that repository
+          schema:
+            type: array
+            items:
+              $ref: '#/definitions/Application'
+        '404':
+          description: The request was for a repository that does not exist
+          schema:
+            $ref: '#/definitions/Error'
+    post:
+      description: Create an image of the specified revision
+      operationId: createApplication
+      consumes:
+        - multipart/form-data
+      produces:
+        - application/json
+      responses:
+        '201':
+          description: The request was for a valid repo, application, and image.  The image was created
+          schema:
+            $ref: '#/definitions/Image'
+        '409':
+          description: Application and image already exists
+          schema:
+            $ref: '#/definitions/Error'
+        '404':
+          description: The repository and application does not exist
+          schema:
+            $ref: '#/definitions/Error'
+      parameters:
+        - name: application
+          in: formData
+          description: The Application name
+          required: true
+          type: string
+        - name: revision
+          in: formData
+          description: The Revision of the image
+          required: true
+          type: string
+        - name: file
+          in: formData
+          description: The file data as a multipart
+          required: true
+          type: file
+        #   format: byte
+    parameters:
+      - $ref: '#/parameters/repository'
+  '/{repository}/apps/{application}/images':
+    get:
+      description: Get all built images for the application in the repository
+      operationId: getImageRevisions
+      responses:
+        '200':
+          description: The request was for a valid repository and application
+          schema:
+            type: array
+            items:
+              $ref: '#/definitions/Image'
+        '404':
+          description: The request was for a repository or application that does not exist
+          schema:
+            $ref: '#/definitions/Error'
+    parameters:
+      - $ref: '#/parameters/repository'
+      - $ref: '#/parameters/application'
+  '/{repository}/apps/{application}/images/{revision}':
+    get:
+      description: Get the image for the specfied revision of the application within the repo
+      operationId: getImage
+      responses:
+        '200':
+          description: The request was for a valid repository and application and revision
+          schema:
+            $ref: '#/definitions/Image'
+        '404':
+          description: The request was for a repository or application that does not exist
+          schema:
+            $ref: '#/definitions/Error'
+    parameters:
+      - $ref: '#/parameters/repository'
+      - $ref: '#/parameters/application'
+      - $ref: '#/parameters/revision'
+definitions:
+  Image:
+    description: An image of an application and revision
+    allOf:
+      - $ref: '#/definitions/Links'
+      - type: object
+        properties:
+          created:
+            description: The timestamp the image was created
+            type: string
+            format: date-time
+          size:
+            description: 'The size of the image, in bytes'
+            type: integer
+          imageId:
+            description: The docker image id SHA
+            type: string
+        required:
+          - created
+          - size
+          - imageId
+  Application:
+    description: An application
+    allOf:
+      - $ref: '#/definitions/Links'
+      - type: object
+        properties:
+          name:
+            description: The name of the application
+            type: string
+        required:
+          - name
+  Error:
+    description: Object used for all API errors.
+    type: object
+    properties:
+      message:
+        type: string
+      logs:
+        type: array
+        items:
+          type: string
+    required:
+      - message
+  Links:
+    description: Object used to wrap resource links.
+    type: object
+    properties:
+      _links:
+        description: Container for any number of named resource links.
+        type: object
+        additionalProperties:
+          description: A resource link.
+          type: object
+          properties:
+            href:
+              description: The link to the resource.
+              format: uri
+              type: string
+          required:
+            - href
+    required:
+      - _links
+parameters:
+  repository:
+    name: repository
+    in: path
+    description: The Docker repository name
+    required: true
+    type: string
+  application:
+    name: application
+    in: path
+    description: The Application name
+    required: true
+    type: string
+  revision:
+    name: revision
+    in: path
+    description: The revision of the application
+    required: true
+    type: string
+tags:
+  - name: deploy
+    description: Deploy operation
diff --git a/fixtures/codegen/simplesearch.yml b/fixtures/codegen/simplesearch.yml
new file mode 100644
index 00000000..7c78ff31
--- /dev/null
+++ b/fixtures/codegen/simplesearch.yml
@@ -0,0 +1,174 @@
+swagger: '2.0'
+
+info:
+  version: "1.0.0"
+  title: Simple Search API
+  description: |
+    A very simple api description that makes a x-www-form-urlencoded only API to submit searches.
+
+produces:
+  - application/json
+
+consumes:
+  - application/json
+
+paths:
+  /search:
+    post:
+      operationId: search
+      summary: searches tasks
+      description: searches the task titles and descriptions for a match
+      consumes:
+        - application/x-www-form-urlencoded
+      parameters:
+        - name: q
+          in: formData
+          type: string
+          description: the search string
+          required: true
+  /tasks:
+    get:
+      operationId: getTasks
+      summary: Gets `Task` objects.
+      description: |
+        Optional query param of **size** determines
+        size of returned array
+      tags:
+        - tasks
+      parameters:
+        - name: size
+          in: query
+          description: Size of task list
+          type: integer
+          format: int32
+          default: 20
+        - name: completed
+          in: query
+          description: when true shows completed tasks
+          type: boolean
+
+      responses:
+        default:
+          description: Generic Error
+        200:
+          description: Successful response
+          headers:
+            X-Rate-Limit:
+              type: integer
+              format: int32
+            X-Rate-Limit-Remaining:
+              type: integer
+              format: int32
+              default: 42
+            X-Rate-Limit-Reset:
+              type: integer
+              format: int32
+              default: "1449875311"
+            X-Rate-Limit-Reset-Human:
+              type: string
+              default: 3 days
+            X-Rate-Limit-Reset-Human-Number:
+              type: string
+              default: 3
+            Access-Control-Allow-Origin:
+              type: string
+              default: "*"
+          schema:
+            type: array
+            items:
+              $ref: "#/definitions/Task"
+    post:
+      operationId: createTask
+      summary: Creates a 'Task' object.
+      description: |
+        Validates the content property for length etc.
+      parameters:
+        - name: body
+          in: body
+          schema:
+            $ref: "#/definitions/Task"
+      tags:
+        - tasks
+      responses:
+        default:
+          description: Generic Error
+        201:
+          description: Task Created
+
+  /tasks/{id}:
+    parameters:
+      - name: id
+        in: path
+        type: integer
+        format: int32
+        description: The id of the task
+        required: true
+        minimum: 1
+    put:
+      operationId: updateTask
+      summary: updates a task.
+      description: |
+        Validates the content property for length etc.
+      tags:
+        - tasks
+      parameters:
+        - name: body
+          in: body
+          description: the updated task
+          schema:
+            $ref: "#/definitions/Task"
+      responses:
+        default:
+          description: Generic Error
+        200:
+          description: Task updated
+          schema:
+            $ref: "#/definitions/Task"
+    delete:
+      operationId: deleteTask
+      summary: deletes a task
+      description: |
+        Deleting a task is irrevocable.
+      tags:
+        - tasks
+      responses:
+        default:
+          description: Generic Error
+        204:
+          description: Task Deleted
+
+
+definitions:
+  Task:
+    title: A Task object
+    description: |
+      This describes a task. Tasks require a content property to be set.
+    required:
+      - content
+    type: object
+    properties:
+      id:
+        title: the unique id of the task
+        description: |
+          This id property is autogenerated when a task is created.
+        type: integer
+        format: int64
+        readOnly: true
+      content:
+        title: The content of the task
+        description: |
+          Task content can contain [GFM](https://help.github.com/articles/github-flavored-markdown/).
+        type: string
+        minLength: 5
+      completed:
+        title: when true this task is completed
+        type: boolean
+      creditcard:
+        title: the credit card format usage
+        type: string
+        format: creditcard
+      createdAt:
+        title: task creation time
+        type: string
+        format: date-time
+        readOnly: true
diff --git a/generator/bindata.go b/generator/bindata.go
index e8c2c3ec..ef2d918d 100644
--- a/generator/bindata.go
+++ b/generator/bindata.go
@@ -310,7 +310,7 @@ func templatesSchemabodyGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/schemabody.gotmpl", size: 7624, mode: os.FileMode(420), modTime: time.Unix(1458397471, 0)}
+	info := bindataFileInfo{name: "templates/schemabody.gotmpl", size: 7624, mode: os.FileMode(420), modTime: time.Unix(1459090680, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -350,7 +350,7 @@ func templatesSchemavalidatorGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/schemavalidator.gotmpl", size: 19494, mode: os.FileMode(420), modTime: time.Unix(1458568550, 0)}
+	info := bindataFileInfo{name: "templates/schemavalidator.gotmpl", size: 19494, mode: os.FileMode(420), modTime: time.Unix(1459090670, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -370,12 +370,12 @@ func templatesServerBuilderGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/server/builder.gotmpl", size: 9643, mode: os.FileMode(420), modTime: time.Unix(1458397471, 0)}
+	info := bindataFileInfo{name: "templates/server/builder.gotmpl", size: 9643, mode: os.FileMode(420), modTime: time.Unix(1459090680, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
 
-var _templatesServerConfigureapiGotmpl = []byte("\x1f\x8b\x08\x00\x00\x09\x6e\x88\x00\xff\xc4\x56\x5f\x6f\xdb\x36\x10\x7f\x9e\x3f\xc5\xc1\xc8\x00\xa9\xf0\xe4\xf7\x01\x7d\xe8\xd2\xb5\x0d\xd6\x36\xc6\x1c\xa0\x0f\xc3\x1e\x68\xe9\x2c\x71\xa1\x48\x95\xa4\xe2\x78\x86\xbe\xfb\xee\x28\xca\x52\xfe\xb4\x73\x92\x87\x02\x06\x2c\x51\x77\xc7\xdf\xfd\xee\x6f\x23\xf2\x6b\x51\x22\x1c\x0e\x90\xbd\x59\x5d\xac\xe2\x6b\xd7\xcd\x66\xb2\x6e\x8c\xf5\x90\xcc\x00\xe6\xb9\xdd\x37\xde\x2c\xbd\x72\x73\x7e\xd5\xe8\x97\x95\xf7\xcd\x7c\x46\x6f\x68\xad\xb1\x0e\xe6\xa5\xf4\x55\xbb\xc9\x72\x53\x2f\x4b\xf3\x8b\xdb\x89\xb2\x44\x3b\x7d\xec\x05\xd9\x00\xeb\x5e\x4b\x7f\x82\x4e\x94\x64\xa5\x5a\x16\x85\xc2\x9d\xb0\x78\xba\xde\x72\x54\x0a\xc0\x4b\xa3\x84\x2e\x33\x63\xcb\xe5\xed\x92\xbd\xc8\x8d\xf6\x78\xeb\x83\x23\x87\x83\xa5\x8f\x08\xd9\x5b\xdc\x8a\x56\xf9\x8b\x40\x80\xeb\xba\xc3\xa1\xb1\x52\xfb\x2d\xcc\x7f\xfe\x3a\x87\x8c\xc8\x61\x61\xd4\x45\x7c\xea\xd5\xce\xae\x71\xbf\x80\xb3\x1b\xa1\x5a\x84\x5f\x5f\x43\x36\xd1\xe7\x6f\x5d\xc7\x2c\x4f\x2d\xf5\xb2\x77\xcc\xa5\x33\x92\x39\x1b\xa2\xc2\x56\xa6\x21\x59\x2e\xe1\xaa\x92\x0e\xb6\x52\x21\xd0\xbf\x13\x5b\x04\x6f\x00\x0b\xe9\x33\xb8\xd4\x39\x9d\x7a\xc0\x5b\xe9\xbc\xe3\xa7\x9d\x54\x0a\xb4\xf1\xb0\x41\x30\x37\x68\x77\x56\x7a\x8f\x7a\x36\xdb\xb6\x3a\x07\xf2\x7d\x2b\xcb\xd6\xe2\x3b\x25\x4a\x97\x88\x46\xc2\xab\xc3\x61\xb8\xb0\xeb\x32\x86\x2b\x5c\x2e\x94\xfc\x97\x58\xf9\x2c\x6a\x46\x41\x59\x92\xc2\x81\x20\x13\x18\x52\xc9\xce\x4d\x5d\x0b\x5d\x7c\x94\x1a\x2f\x1b\x2f\x8d\x76\xef\xad\x69\x1b\x07\xaf\xe1\xaf\xbf\x39\x1c\xdf\x92\xa0\x8c\xcb\x32\xe8\x66\xdd\x7d\x38\x74\xc3\x93\xc0\x70\xac\xb3\x0f\x74\x83\x42\x3b\x20\x3b\x1a\x03\x5f\x21\xe3\x84\x0a\x2d\xd2\x37\x86\xbc\x46\x7b\x83\xbf\x73\x36\x12\xc8\x3e\x2b\x27\x67\x7d\x2a\x40\xcc\x85\x73\x82\xdb\xd6\xe8\x80\xc3\x08\x72\x1b\xc2\xaa\xb0\x46\xed\x05\xfb\x42\xe7\x6c\xf2\x51\x74\x51\x97\x6f\xe1\xfa\x7a\xa0\x98\xa4\x7d\xe4\x95\xc3\xd3\xac\xc4\xac\x1e\x40\xd9\x77\xc4\x5b\xc2\xe4\x25\x16\xa4\xc9\xfe\x44\x51\xa0\x5d\x80\x17\xb6\x44\x0f\x94\x68\x68\xb7\x22\xc7\x43\x97\xf6\x6e\x06\x76\x00\x2c\xfa\xd6\xea\xc1\xf3\xcf\xc6\x1f\x91\x61\x91\xcc\x89\x75\xbe\x99\xd2\x35\x1f\x6e\xae\x84\x0b\x69\xb4\x47\x4e\x25\xd4\x20\x47\x85\x39\x3b\xd1\xa5\xd3\x7a\x18\x9f\x06\x16\x57\xd6\x14\x6d\xfe\x3c\x16\xa3\xee\x0b\x59\x9c\x58\x19\x58\x1c\x8e\x46\x16\x77\xcc\xe2\x17\x2a\x12\x66\xb1\x10\x5e\xbc\x9c\xc3\x66\xb8\xf7\xd9\x1c\x46\x0a\xd7\x98\xb7\x84\x6c\x4f\xcd\x49\x6a\x19\xca\x28\x0a\x04\x3a\xdd\x6f\xc2\xc9\xfc\x4d\xeb\xab\x70\xfa\x90\x87\x8b\xb7\x5c\x2f\xf4\x9d\x18\x08\xce\xb6\x8e\x50\x39\x4f\xfd\xa8\x5c\xb0\xa0\x8b\x2f\x29\x24\xc1\x26\x83\x4d\x00\xbf\x72\xf4\xa4\xce\x65\x23\x14\xcc\x27\x7c\xcc\x21\xed\x3a\xaa\x51\x20\xa8\x21\xae\xa3\x5c\xd7\x2d\x7a\x66\xd2\xbb\x6c\x69\xa9\x16\xdf\xa2\x6c\xc3\xf8\x41\x30\x40\x06\x10\x01\xa7\x27\xf0\x36\xf2\x35\x70\x41\x6d\xe1\x0f\xdc\x3f\x85\x0c\x6f\xae\xc9\xf4\x0f\x25\x80\x9b\x14\x8d\x89\x9e\x82\x29\x03\x63\x32\x6d\xad\xa9\xf9\x75\x6d\x5a\x9b\xf3\xc1\x53\xc8\x79\x3c\xad\x2e\x1b\xb4\x22\x66\x53\xcf\x13\x7b\x8e\xe3\xdc\x19\x86\x51\x18\x83\x23\x83\xab\xf1\x34\x52\xff\x48\xd1\x0d\x4d\x99\x2b\xf7\xff\x5a\x79\x94\x1d\x8b\x31\x36\x8a\x2f\x34\xea\xcf\xfb\x29\x4d\x52\xb9\xbf\x85\x38\xb3\xb3\x78\xba\x80\x49\x08\x58\x63\x25\xac\xa8\xc9\x9d\x26\xfc\x9f\x70\x75\xaf\x30\xcd\x21\xc2\x42\xfb\x10\x05\xc2\x58\x12\x2c\x46\x9b\x8b\xbb\xa9\x36\x8a\xd0\x75\xc7\x24\x79\x79\xf6\xc4\x4b\xd2\xc9\xd2\x43\xdd\xdd\x35\x46\x17\x78\xaf\x03\x4d\x24\xee\x67\x94\x19\x62\x0b\xdf\x8d\xea\xc3\x60\x66\x77\x42\x1d\x93\xef\x84\x06\x36\x49\xb1\xe9\xa8\xb5\xeb\xaa\xf5\x85\xd9\xe9\xa1\xda\x28\xa7\x39\x35\x67\x47\x27\x1c\xfd\x35\xef\x95\xd9\x08\xf5\xe9\xe8\x4f\x72\x34\x90\x84\xef\xe3\x17\x97\xa6\xb3\x61\x1d\x42\xb8\xfa\xb8\x3e\xce\xfb\xde\xdd\x0d\x6e\x0d\x8d\xfe\x0f\x57\x57\xab\x35\xd9\x66\x08\x54\xdb\x82\x96\xb1\xec\xde\xae\x41\xba\x09\x6d\xb5\xe7\xe1\x1d\x5e\xd1\x63\xd6\x3f\x1f\x77\x9c\x4f\xe2\x9a\x16\x08\xde\xa3\x90\x06\x98\x13\x76\x0f\x79\xc5\xb5\xe3\x78\xf3\xf2\x8f\xde\xcf\xbb\x46\x36\x41\x38\x59\x5d\xef\x0a\xf2\x2e\x47\x23\x85\xad\x54\xb1\x56\xf0\x96\x1a\xbd\xe7\x06\xc1\xaa\x0e\xa1\x30\x81\x76\xd1\x34\x6a\x3f\x5c\x19\xd7\xdc\xec\x1f\x47\x46\x0a\x93\xb7\x1c\x86\xec\x91\xeb\x7a\x6b\x84\x55\x6c\x29\xf3\x80\xf6\x2e\x4f\x1d\x0e\x36\xad\x1f\x48\xe2\x76\x43\xca\x32\x0f\x88\x16\xb0\x91\xba\x60\x11\x2e\x01\xda\x4f\x65\x11\xce\x7b\xda\xee\x87\x21\x19\x40\x4f\x57\xb0\x07\x0b\xd9\x4f\x31\xc8\x51\xf8\x14\x5e\x2a\xf2\x16\xb5\x3b\x62\xd4\x7b\x5f\x85\x39\xe5\x79\xfd\x9d\xa8\x09\xe5\x4c\xa0\x46\xf6\xf1\xe0\x60\x33\xfa\xef\x93\xb4\x36\xbd\x21\xfa\x09\x28\x8d\x29\xa0\x51\x54\x94\x6c\xa0\x51\x6d\x49\x53\x9f\xce\x1b\xa1\x69\x20\x05\xd0\x6c\x71\xbc\x74\x01\xca\x94\xe5\xc0\x51\x8d\x34\x34\x72\x37\x21\xe8\x41\x1e\x3f\x93\xa5\xff\x02\x00\x00\xff\xff\xba\x8b\x90\x5f\x9c\x0d\x00\x00")
+var _templatesServerConfigureapiGotmpl = []byte("\x1f\x8b\x08\x00\x00\x09\x6e\x88\x00\xff\xc4\x56\x5b\x6f\xdb\x36\x14\x7e\x9e\x7f\xc5\x81\x91\x01\x56\xe1\xc9\xef\x03\xfa\xd0\xa5\x6b\x1b\xac\x6d\x8c\x39\x40\x1f\x86\x3d\xd0\xd2\x91\xc4\x85\x22\x55\x92\x8a\xe3\x19\xfa\xef\x3b\x87\xa2\x2c\xe5\xd2\xce\x49\x1e\x0a\x18\xb0\x44\x9d\xcb\xc7\xef\x5c\x1b\x91\x5d\x8b\x12\xe1\x70\x80\xf4\xcd\xfa\x62\x1d\x5f\xbb\x6e\x36\x93\x75\x63\xac\x87\xc5\x0c\x60\x9e\xd9\x7d\xe3\xcd\xca\x2b\x37\xe7\x57\x8d\x7e\x55\x79\xdf\xcc\x67\xf4\x86\xd6\x1a\xeb\x60\x5e\x4a\x5f\xb5\xdb\x34\x33\xf5\xaa\x34\xbf\xb8\x9d\x28\x4b\xb4\xd3\xc7\x5e\x90\x0d\xb0\xee\xb5\xf4\x27\xe8\x44\x49\x56\xaa\x65\x9e\x2b\xdc\x09\x8b\xa7\xeb\xad\x46\xa5\x00\xbc\x34\x4a\xe8\x32\x35\xb6\x5c\xdd\xae\xf8\x16\x99\xd1\x1e\x6f\x7d\xb8\xc8\xe1\x60\xe9\x23\x42\xfa\x16\x0b\xd1\x2a\x7f\x11\x08\x70\x5d\x77\x38\x34\x56\x6a\x5f\xc0\xfc\xe7\xaf\x73\x48\x89\x1c\x16\x46\x9d\xc7\xa7\x5e\xed\xec\x1a\xf7\x4b\x38\xbb\x11\xaa\x45\xf8\xf5\x35\xa4\x13\x7d\xfe\xd6\x75\xcc\xf2\xd4\x52\x2f\x7b\xc7\x5c\x32\x23\x99\xb3\x21\x2a\x6c\x65\x1a\x92\xd5\x0a\xae\x2a\xe9\xa0\x90\x0a\x81\xfe\x9d\x28\x10\xbc\x01\xcc\xa5\x4f\xe1\x52\x67\x74\xea\x01\x6f\xa5\xf3\x8e\x9f\x76\x52\x29\xd0\xc6\xc3\x16\xc1\xdc\xa0\xdd\x59\xe9\x3d\xea\xd9\xac\x68\x75\x06\x74\xf7\x42\x96\xad\xc5\x77\x4a\x94\x6e\x21\x1a\x09\xaf\x0e\x87\xc1\x61\xd7\xa5\x0c\x57\xb8\x4c\x28\xf9\x2f\xb1\xf2\x59\xd4\x8c\x82\xb2\x24\x81\x03\x41\x26\x30\xa4\x92\x9e\x9b\xba\x16\x3a\xff\x28\x35\x5e\x36\x5e\x1a\xed\xde\x5b\xd3\x36\x0e\x5e\xc3\x5f\x7f\x73\x38\xbe\x25\x41\x19\x97\xa6\xd0\xcd\xba\xfb\x70\xc8\xc3\x93\xc0\x70\xac\xd3\x0f\xe4\x41\xa1\x1d\x90\x1d\x8d\x81\xaf\x90\x71\x42\x85\x16\xe9\x1b\x43\xde\xa0\xbd\xc1\xdf\x39\x1b\x09\x64\x9f\x95\x93\xb3\x3e\x15\x20\xe6\xc2\x39\xc1\x6d\x6b\x74\xc0\x61\x04\x59\x84\xb0\x2a\xac\x51\x7b\xc1\x77\xa1\x73\x36\xf9\x28\xba\xa8\xcb\x5e\xb8\xbe\x1e\x28\xf6\x71\x57\x0e\x4f\xb3\x11\x73\x7a\x80\x64\xdf\x11\x6b\x0b\xa6\x6e\x61\x41\x9a\xf4\x4f\x14\x39\xda\x25\x78\x61\x4b\xf4\x40\x69\x86\xb6\x10\x19\x1e\xba\xa4\xbf\x64\xe0\x06\xc0\xa2\x6f\xad\x1e\xee\xfd\xd9\xf8\x23\x2e\xcc\x17\x73\xe2\x9c\x3d\x53\xb2\x66\x83\xe7\x4a\xb8\x90\x44\x7b\xe4\x44\x42\x0d\x72\x54\x98\x27\x64\xb3\x4b\xa6\xd5\x30\x3e\x0d\x1c\xae\xad\xc9\xdb\xec\x79\x1c\x46\xdd\x17\x71\x38\xb1\x31\x70\x38\x1c\x8d\x1c\xee\x98\xc3\x2f\x54\x20\xcc\x61\x2e\xbc\x78\x39\x83\xcd\xe0\xf7\xd9\x0c\x46\x02\x37\x98\xb5\x84\x6c\x4f\x8d\x49\x6a\x19\x4a\x28\x0a\x04\x32\xdd\x6f\xc2\xc9\xec\x4d\xeb\xab\x70\xfa\x90\x87\x8b\xb7\x5c\x2b\xf4\x9d\x18\x08\x97\x6d\x1d\xa1\x72\x9e\x7a\x51\xb9\x64\x41\x17\x5f\x12\x58\x04\x9b\x0c\x76\x01\xf8\x95\x63\x27\x75\x26\x1b\xa1\x60\x3e\xe1\x63\x0e\x49\xd7\x51\x7d\x02\x41\x0d\x51\x1d\xe5\xba\x6e\xd9\x33\x93\xdc\x65\x4b\x4b\xb5\xfc\x16\x65\x5b\xc6\x0f\x82\x01\x32\x80\x08\x38\x39\x81\xb7\x91\xaf\x81\x0b\x6a\x09\x7f\xe0\xfe\x29\x64\x78\x73\x4d\xa6\x7f\x28\x01\xdc\xa0\x68\x44\xf4\x14\x4c\x19\x18\x93\xa9\xb0\xa6\xe6\xd7\x8d\x69\x6d\xc6\x07\x4f\x21\xe7\xf1\xb4\xba\x6c\xd0\x8a\x98\x4d\x3d\x4f\x7c\x73\x1c\x67\xce\x30\x88\xc2\x08\x1c\x19\x5c\x8f\xa7\x91\xfa\x47\x8a\x6e\x68\xc8\x5c\xb7\xff\xd7\xc6\xa3\xec\x58\x8c\xb1\x4d\x7c\xa1\x31\x7f\xde\x4f\x68\x92\xca\xfc\x2d\xc4\x79\x9d\xc6\xd3\x25\x4c\x42\xc0\x1a\x6b\x61\x45\x4d\xd7\x69\xc2\xff\x09\xae\x7b\x85\x69\x0e\x11\x16\xda\x85\x28\x10\xc6\x92\x60\x3e\xda\x5c\xde\x4d\xb5\x51\x84\xdc\x1d\x93\xe4\xe5\xd9\x13\x9d\x24\x93\x85\x87\x7a\xbb\x6b\x8c\xce\xf1\x5e\x07\x9a\x48\xdc\xcf\x28\x33\xc4\x16\xbe\x1b\xd5\x87\xc1\x4c\xef\x84\x3a\x26\xdf\x09\x0d\x6c\x92\x62\xd3\x31\x6b\x37\x55\xeb\x73\xb3\xd3\x43\xb5\x51\x4e\x73\x6a\xce\x8e\x97\x70\xf4\xd7\xbc\x57\x66\x2b\xd4\xa7\xe3\x7d\x16\x47\x03\x8b\xf0\x7d\xfc\xe2\x92\x64\x36\xac\x42\x08\x57\x1f\x37\xc7\x59\xdf\x5f\x77\x8b\x85\xa1\xb1\xff\xe1\xea\x6a\xbd\x21\xdb\x0c\x81\x6a\x5b\xd0\x22\x96\xde\xdb\x33\x48\x77\x41\x1b\xed\x79\x78\x87\x57\xf4\x98\xf6\xcf\xc7\xfd\xe6\x93\xb8\xa6\xe5\x81\x77\x28\xa4\xf1\xe5\x84\xdd\x43\x56\x71\xed\x38\xde\xba\xfc\xa3\xfe\x79\xcf\x48\x27\x08\x27\x6b\xeb\x5d\x41\xde\xe3\x68\xa4\xb0\x95\x2a\xd6\x0a\xde\x52\xa3\xf7\xdc\x20\x58\xd5\x21\xe4\x26\xd0\x2e\x9a\x46\xed\x07\x97\x71\xc5\x4d\xff\x71\x64\x24\x37\x59\xcb\x61\x48\x1f\x71\xd7\x5b\x23\xac\xa2\xa0\xcc\x03\xda\xb9\x3c\x75\x38\xd8\xb6\x7e\x20\x89\xdb\x0d\x29\xcb\x2c\x20\x5a\xc2\x56\xea\x9c\x45\xb8\x04\x68\x37\x95\x79\x38\xef\x69\xbb\x1f\x86\xc5\x00\x7a\xba\x7e\x3d\x58\xc6\x7e\x8a\x41\x8e\xc2\xa7\xf0\x52\xd1\x6d\x51\xbb\x23\x46\xbd\xf7\x55\x98\x53\x9e\x57\xdf\x89\x9a\x50\xce\x04\x6a\x64\x1f\x0f\x0e\x36\xa3\xff\x3e\x49\x1b\xd3\x1b\xa2\x9f\x80\xd2\x98\x1c\x1a\x45\x45\xc9\x06\x1a\xd5\x96\x34\xf5\xe9\xbc\x11\x9a\x06\x52\x00\xcd\x16\x47\xa7\x4b\x50\xa6\x2c\x07\x8e\x6a\xa4\xa1\x91\xb9\x09\x41\x0f\xf2\xf8\x99\x2c\xfd\x17\x00\x00\xff\xff\xea\x15\x59\x56\x98\x0d\x00\x00")
 
 func templatesServerConfigureapiGotmplBytes() ([]byte, error) {
 	return bindataRead(
@@ -390,7 +390,7 @@ func templatesServerConfigureapiGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/server/configureapi.gotmpl", size: 3484, mode: os.FileMode(420), modTime: time.Unix(1458568552, 0)}
+	info := bindataFileInfo{name: "templates/server/configureapi.gotmpl", size: 3480, mode: os.FileMode(420), modTime: time.Unix(1459094988, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -470,7 +470,7 @@ func templatesServerParameterGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/server/parameter.gotmpl", size: 14226, mode: os.FileMode(420), modTime: time.Unix(1458454635, 0)}
+	info := bindataFileInfo{name: "templates/server/parameter.gotmpl", size: 14226, mode: os.FileMode(420), modTime: time.Unix(1459090680, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -490,7 +490,7 @@ func templatesServerResponsesGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/server/responses.gotmpl", size: 4925, mode: os.FileMode(420), modTime: time.Unix(1458397471, 0)}
+	info := bindataFileInfo{name: "templates/server/responses.gotmpl", size: 4925, mode: os.FileMode(420), modTime: time.Unix(1459090680, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -510,7 +510,7 @@ func templatesServerServerGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/server/server.gotmpl", size: 6648, mode: os.FileMode(420), modTime: time.Unix(1458568552, 0)}
+	info := bindataFileInfo{name: "templates/server/server.gotmpl", size: 6648, mode: os.FileMode(420), modTime: time.Unix(1459090680, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -530,7 +530,7 @@ func templatesStructfieldGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/structfield.gotmpl", size: 1299, mode: os.FileMode(420), modTime: time.Unix(1458397471, 0)}
+	info := bindataFileInfo{name: "templates/structfield.gotmpl", size: 1299, mode: os.FileMode(420), modTime: time.Unix(1459090680, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
@@ -590,7 +590,7 @@ func templatesTupleserializerGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/tupleserializer.gotmpl", size: 6848, mode: os.FileMode(420), modTime: time.Unix(1458397471, 0)}
+	info := bindataFileInfo{name: "templates/tupleserializer.gotmpl", size: 6848, mode: os.FileMode(420), modTime: time.Unix(1459090680, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
diff --git a/generator/client.go b/generator/client.go
index ec54b7f6..593d51f5 100644
--- a/generator/client.go
+++ b/generator/client.go
@@ -23,6 +23,7 @@ import (
 	"path/filepath"
 	"sort"
 
+	"github.com/go-swagger/go-swagger/httpkit"
 	"github.com/go-swagger/go-swagger/swag"
 )
 
@@ -53,9 +54,15 @@ func GenerateClient(name string, modelNames, operationIDs []string, opts GenOpts
 	if defaultScheme == "" {
 		defaultScheme = "http"
 	}
+
+	defaultConsumes := opts.DefaultConsumes
+	if defaultConsumes == "" {
+		defaultConsumes = httpkit.JSONMime
+	}
+
 	defaultProduces := opts.DefaultProduces
 	if defaultProduces == "" {
-		defaultProduces = "application/json"
+		defaultProduces = httpkit.JSONMime
 	}
 
 	generator := appGenerator{
@@ -73,6 +80,7 @@ func GenerateClient(name string, modelNames, operationIDs []string, opts GenOpts
 		Principal:       opts.Principal,
 		DefaultScheme:   defaultScheme,
 		DefaultProduces: defaultProduces,
+		DefaultConsumes: defaultConsumes,
 	}
 	generator.Receiver = "o"
 
diff --git a/generator/operation.go b/generator/operation.go
index 5f370b97..603152b3 100644
--- a/generator/operation.go
+++ b/generator/operation.go
@@ -57,11 +57,11 @@ func GenerateServerOperation(operationNames, tags []string, includeHandler, incl
 		}
 		defaultProduces := opts.DefaultProduces
 		if defaultProduces == "" {
-			defaultProduces = "application/json"
+			defaultProduces = httpkit.JSONMime
 		}
 		defaultConsumes := opts.DefaultConsumes
 		if defaultConsumes == "" {
-			defaultConsumes = "application/json"
+			defaultConsumes = httpkit.JSONMime
 		}
 
 		apiPackage := mangleName(swag.ToFileName(opts.APIPackage), "api")
diff --git a/generator/server_test.go b/generator/server_test.go
new file mode 100644
index 00000000..b1510a3f
--- /dev/null
+++ b/generator/server_test.go
@@ -0,0 +1,113 @@
+package generator
+
+import (
+	"bytes"
+	"errors"
+	"fmt"
+	"testing"
+
+	"github.com/go-swagger/go-swagger/httpkit"
+	"github.com/go-swagger/go-swagger/spec"
+	"github.com/go-swagger/go-swagger/swag"
+	"github.com/stretchr/testify/assert"
+)
+
+func testGenOpts() (g GenOpts) {
+	g.Target = "."
+	g.APIPackage = "operations"
+	g.ModelPackage = "models"
+	g.ServerPackage = "restapi"
+	g.ClientPackage = "client"
+	g.Principal = ""
+	g.DefaultScheme = "http"
+	g.IncludeModel = true
+	g.IncludeValidator = true
+	g.IncludeHandler = true
+	g.IncludeParameters = true
+	g.IncludeResponses = true
+	g.IncludeMain = false
+	g.IncludeSupport = true
+	g.ExcludeSpec = true
+	g.TemplateDir = ""
+	g.WithContext = false
+	g.DumpData = false
+	return
+}
+
+func testAppGenertor(t testing.TB, specPath, name string) (*appGenerator, error) {
+	specDoc, err := spec.Load(specPath)
+	if !assert.NoError(t, err) {
+		return nil, err
+	}
+
+	models, err := gatherModels(specDoc, nil)
+	if !assert.NoError(t, err) {
+		return nil, err
+	}
+
+	operations := gatherOperations(specDoc, nil)
+	if len(operations) == 0 {
+		return nil, errors.New("no operations were selected")
+	}
+
+	opts := testGenOpts()
+	apiPackage := mangleName(swag.ToFileName(opts.APIPackage), "api")
+
+	return &appGenerator{
+		Name:            appNameOrDefault(specDoc, name, "swagger"),
+		Receiver:        "o",
+		SpecDoc:         specDoc,
+		Models:          models,
+		Operations:      operations,
+		Target:          ".",
+		DumpData:        opts.DumpData,
+		Package:         apiPackage,
+		APIPackage:      apiPackage,
+		ModelsPackage:   mangleName(swag.ToFileName(opts.ModelPackage), "definitions"),
+		ServerPackage:   mangleName(swag.ToFileName(opts.ServerPackage), "server"),
+		ClientPackage:   mangleName(swag.ToFileName(opts.ClientPackage), "client"),
+		Principal:       opts.Principal,
+		DefaultScheme:   "http",
+		DefaultProduces: httpkit.JSONMime,
+		DefaultConsumes: httpkit.JSONMime,
+		GenOpts:         &opts,
+	}, nil
+}
+
+func TestServer_UrlEncoded(t *testing.T) {
+	gen, err := testAppGenertor(t, "../fixtures/codegen/simplesearch.yml", "search")
+	if assert.NoError(t, err) {
+		app, err := gen.makeCodegenApp()
+		if assert.NoError(t, err) {
+			buf := bytes.NewBuffer(nil)
+			if assert.NoError(t, configureAPITemplate.Execute(buf, app)) {
+				formatted, err := formatGoFile("configure_search_api.go", buf.Bytes())
+				if assert.NoError(t, err) {
+					res := string(formatted)
+					assertInCode(t, "api.UrlformConsumer = httpkit.DiscardConsumer", res)
+				} else {
+					fmt.Println(buf.String())
+				}
+			}
+		}
+	}
+}
+
+func TestServer_MultipartForm(t *testing.T) {
+	gen, err := testAppGenertor(t, "../fixtures/codegen/shipyard.yml", "search")
+	if assert.NoError(t, err) {
+		app, err := gen.makeCodegenApp()
+		if assert.NoError(t, err) {
+			buf := bytes.NewBuffer(nil)
+			if assert.NoError(t, configureAPITemplate.Execute(buf, app)) {
+				formatted, err := formatGoFile("configure_shipyard_api.go", buf.Bytes())
+				if assert.NoError(t, err) {
+					res := string(formatted)
+					assertInCode(t, "api.MulitpartformConsumer = httpkit.DiscardConsumer", res)
+				} else {
+					fmt.Println(buf.String())
+				}
+			}
+		}
+	}
+}
diff --git a/generator/support.go b/generator/support.go
index 3f5f20bf..a7592830 100644
--- a/generator/support.go
+++ b/generator/support.go
@@ -79,9 +79,15 @@ func newAppGenerator(name string, modelNames, operationIDs []string, opts *GenOp
 	if defaultScheme == "" {
 		defaultScheme = "http"
 	}
+
 	defaultProduces := opts.DefaultProduces
 	if defaultProduces == "" {
-		defaultProduces = "application/json"
+		defaultProduces = httpkit.JSONMime
+	}
+
+	defaultConsumes := opts.DefaultConsumes
+	if defaultConsumes == "" {
+		defaultConsumes = httpkit.JSONMime
 	}
 
 	apiPackage := mangleName(swag.ToFileName(opts.APIPackage), "api")
@@ -102,6 +108,7 @@ func newAppGenerator(name string, modelNames, operationIDs []string, opts *GenOp
 		Principal:       opts.Principal,
 		DefaultScheme:   defaultScheme,
 		DefaultProduces: defaultProduces,
+		DefaultConsumes: defaultConsumes,
 		GenOpts:         opts,
 	}, nil
 }
@@ -122,6 +129,7 @@ type appGenerator struct {
 	DumpData        bool
 	DefaultScheme   string
 	DefaultProduces string
+	DefaultConsumes string
 	GenOpts         *GenOpts
 }
 
@@ -327,40 +335,46 @@ func (a *appGenerator) generateDoc(app *GenApp) error {
 }
 
 var mediaTypeNames = map[*regexp.Regexp]string{
-	regexp.MustCompile("application/.*json"):         "json",
-	regexp.MustCompile("application/.*yaml"):         "yaml",
-	regexp.MustCompile("application/.*protobuf"):     "protobuf",
-	regexp.MustCompile("application/.*capnproto"):    "capnproto",
-	regexp.MustCompile("application/.*thrift"):       "thrift",
-	regexp.MustCompile("(?:application|text)/.*xml"): "xml",
-	regexp.MustCompile("text/.*markdown"):            "markdown",
-	regexp.MustCompile("text/.*html"):                "html",
-	regexp.MustCompile("text/.*csv"):                 "csv",
-	regexp.MustCompile("text/.*tsv"):                 "tsv",
-	regexp.MustCompile("text/.*javascript"):          "js",
-	regexp.MustCompile("text/.*css"):                 "css",
-	regexp.MustCompile("text/.*plain"):               "txt",
-	regexp.MustCompile("application/.*octet-stream"): "bin",
-	regexp.MustCompile("application/.*tar"):          "tar",
-	regexp.MustCompile("application/.*gzip"):         "gzip",
-	regexp.MustCompile("application/.*gz"):           "gzip",
-	regexp.MustCompile("application/.*raw-stream"):   "bin",
+	regexp.MustCompile("application/.*json"):                "json",
+	regexp.MustCompile("application/.*yaml"):                "yaml",
+	regexp.MustCompile("application/.*protobuf"):            "protobuf",
+	regexp.MustCompile("application/.*capnproto"):           "capnproto",
+	regexp.MustCompile("application/.*thrift"):              "thrift",
+	regexp.MustCompile("(?:application|text)/.*xml"):        "xml",
+	regexp.MustCompile("text/.*markdown"):                   "markdown",
+	regexp.MustCompile("text/.*html"):                       "html",
+	regexp.MustCompile("text/.*csv"):                        "csv",
+	regexp.MustCompile("text/.*tsv"):                        "tsv",
+	regexp.MustCompile("text/.*javascript"):                 "js",
+	regexp.MustCompile("text/.*css"):                        "css",
+	regexp.MustCompile("text/.*plain"):                      "txt",
+	regexp.MustCompile("application/.*octet-stream"):        "bin",
+	regexp.MustCompile("application/.*tar"):                 "tar",
+	regexp.MustCompile("application/.*gzip"):                "gzip",
+	regexp.MustCompile("application/.*gz"):                  "gzip",
+	regexp.MustCompile("application/.*raw-stream"):          "bin",
+	regexp.MustCompile("application/x-www-form-urlencoded"): "urlform",
+	regexp.MustCompile("multipart/form-data"):               "mulitpartform",
 }
 
 var knownProducers = map[string]string{
-	"json": "httpkit.JSONProducer",
-	"yaml": "httpkit.YAMLProducer",
-	"xml":  "httpkit.XMLProducer",
-	"txt":  "httpkit.TextProducer",
-	"bin":  "httpkit.ByteStreamProducer",
+	"json":          "httpkit.JSONProducer()",
+	"yaml":          "httpkit.YAMLProducer()",
+	"xml":           "httpkit.XMLProducer()",
+	"txt":           "httpkit.TextProducer()",
+	"bin":           "httpkit.ByteStreamProducer()",
+	"urlform":       "httpkit.DiscardProducer",
+	"mulitpartform": "httpkit.DiscardProducer",
 }
 
 var knownConsumers = map[string]string{
-	"json": "httpkit.JSONConsumer",
-	"yaml": "httpkit.YAMLConsumer",
-	"xml":  "httpkit.XMLConsumer",
-	"txt":  "httpkit.TextConsumer",
-	"bin":  "httpkit.ByteStreamConsumer",
+	"json":          "httpkit.JSONConsumer()",
+	"yaml":          "httpkit.YAMLConsumer()",
+	"xml":           "httpkit.XMLConsumer()",
+	"txt":           "httpkit.TextConsumer()",
+	"bin":           "httpkit.ByteStreamConsumer()",
+	"urlform":       "httpkit.DiscardConsumer",
+	"mulitpartform": "httpkit.DiscardConsumer",
 }
 
 func getSerializer(sers []GenSerGroup, ext string) (*GenSerGroup, bool) {
@@ -642,11 +656,6 @@ func (a *appGenerator) makeCodegenApp() (GenApp, error) {
 	sort.Sort(opGroups)
 
 	log.Println("planning meta data and facades")
-	defaultConsumes := "application/json"
-	rc := a.SpecDoc.RequiredConsumes()
-	if len(rc) > 0 {
-		defaultConsumes = rc[0]
-	}
 
 	var collectedSchemes []string
 	var extraSchemes []string
@@ -678,7 +687,7 @@ func (a *appGenerator) makeCodegenApp() (GenApp, error) {
 		Info:                sw.Info,
 		Consumes:            consumes,
 		Produces:            produces,
-		DefaultConsumes:     defaultConsumes,
+		DefaultConsumes:     a.DefaultConsumes,
 		DefaultProduces:     a.DefaultProduces,
 		DefaultImports:      defaultImports,
 		SecurityDefinitions: security,
diff --git a/generator/templates/server/configureapi.gotmpl b/generator/templates/server/configureapi.gotmpl
index 30e00dc3..8a2c4f63 100644
--- a/generator/templates/server/configureapi.gotmpl
+++ b/generator/templates/server/configureapi.gotmpl
@@ -26,12 +26,12 @@ func configureAPI(api *{{.Package}}.{{ pascalize .Name }}API) http.Handler {
   // configure the api here
   api.ServeError = errors.ServeError
 
-  {{ range .Consumes }}{{ if .Implementation }}api.{{ pascalize .Name }}Consumer = {{ .Implementation }}()
+  {{ range .Consumes }}{{ if .Implementation }}api.{{ pascalize .Name }}Consumer = {{ .Implementation }}
   {{else}}api.{{ pascalize .Name }}Consumer = httpkit.ConsumerFunc(func(r io.Reader, target interface{}) error {
     return errors.NotImplemented("{{.Name}} consumer has not yet been implemented")
   }){{end}}
   {{end}}
-  {{ range .Produces }}{{ if .Implementation }}api.{{ pascalize .Name }}Producer = {{ .Implementation }}()
+  {{ range .Produces }}{{ if .Implementation }}api.{{ pascalize .Name }}Producer = {{ .Implementation }}
   {{else}}api.{{ pascalize .Name }}Producer = httpkit.ProducerFunc(func(w io.Writer, data interface{}) error {
     return errors.NotImplemented("{{.Name}} producer has not yet been implemented")
   }){{end}}
diff --git a/httpkit/client/runtime.go b/httpkit/client/runtime.go
index d79c9830..f54e8205 100644
--- a/httpkit/client/runtime.go
+++ b/httpkit/client/runtime.go
@@ -149,6 +149,7 @@ func (r *Runtime) Submit(operation *client.Operation) (interface{}, error) {
 	if len(operation.ConsumesMediaTypes) > 0 {
 		cmt = operation.ConsumesMediaTypes[0]
 	}
+
 	req, err := request.BuildHTTP(cmt, r.Producers, r.Formats)
 	if err != nil {
 		return nil, err
@@ -191,6 +192,7 @@ func (r *Runtime) Submit(operation *client.Operation) (interface{}, error) {
 		return nil, err
 	}
 	defer res.Body.Close()
+
 	if r.Debug {
 		b, err := httputil.DumpResponse(res, true)
 		if err != nil {
@@ -198,6 +200,7 @@ func (r *Runtime) Submit(operation *client.Operation) (interface{}, error) {
 		}
 		fmt.Println(string(b))
 	}
+
 	ct := res.Header.Get(httpkit.HeaderContentType)
 	if ct == "" { // this should really really never occur
 		ct = r.DefaultMediaType
@@ -207,6 +210,7 @@ func (r *Runtime) Submit(operation *client.Operation) (interface{}, error) {
 	if err != nil {
 		return nil, fmt.Errorf("parse content type: %s", err)
 	}
+
 	cons, ok := r.Consumers[mt]
 	if !ok {
 		// scream about not knowing what to do
diff --git a/httpkit/discard.go b/httpkit/discard.go
new file mode 100644
index 00000000..c2eb8075
--- /dev/null
+++ b/httpkit/discard.go
@@ -0,0 +1,9 @@
+package httpkit
+
+import "io"
+
+// DiscardConsumer does absolutely nothing, it's a black hole.
+var DiscardConsumer = ConsumerFunc(func(_ io.Reader, _ interface{}) error { return nil })
+
+// DiscardProducer does absolutely nothing, it's a black hole.
+var DiscardProducer = ProducerFunc(func(_ io.Writer, _ interface{}) error { return nil })
