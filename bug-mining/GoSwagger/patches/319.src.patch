diff --git a/appveyor.yml b/appveyor.yml
index 4bef91bb..a80c4797 100644
--- a/appveyor.yml
+++ b/appveyor.yml
@@ -23,17 +23,19 @@ matrix:
 
 stack: go 1.15
 
-test_script:
+before_test:
   - go mod download
+
+test_script:
+  # sanity test: basic build on windows works
   - set PATH=%GOPATH%\bin;%PATH%
-  # only sanity test performed
   - go install github.com/go-swagger/go-swagger/cmd/swagger
   - swagger validate fixtures/bugs/2493/fixture-2492.json
   - swagger validate fixtures/bugs/2493/fixture-2493.json
   - swagger validate fixtures/bugs/2493/fixture-2492.yaml
   - swagger validate fixtures/bugs/2493/fixture-2493.yaml
-  - echo "full test suite disabled for now"
-  #- go test -timeout 20m ./...
+  # full test suite
+  - go test -timeout 20m ./...
 
 deploy: off
 
diff --git a/generator/bindata.go b/generator/bindata.go
index 22c332eb..226f0d13 100644
--- a/generator/bindata.go
+++ b/generator/bindata.go
@@ -1195,71 +1195,71 @@ type bintree struct {
 }
 
 var _bintree = &bintree{nil, map[string]*bintree{
-	"templates": {nil, map[string]*bintree{
-		"client": {nil, map[string]*bintree{
-			"client.gotmpl": {templatesClientClientGotmpl, map[string]*bintree{}},
-			"facade.gotmpl": {templatesClientFacadeGotmpl, map[string]*bintree{}},
-			"parameter.gotmpl": {templatesClientParameterGotmpl, map[string]*bintree{}},
-			"response.gotmpl": {templatesClientResponseGotmpl, map[string]*bintree{}},
+	"templates": &bintree{nil, map[string]*bintree{
+		"client": &bintree{nil, map[string]*bintree{
+			"client.gotmpl":    &bintree{templatesClientClientGotmpl, map[string]*bintree{}},
+			"facade.gotmpl":    &bintree{templatesClientFacadeGotmpl, map[string]*bintree{}},
+			"parameter.gotmpl": &bintree{templatesClientParameterGotmpl, map[string]*bintree{}},
+			"response.gotmpl":  &bintree{templatesClientResponseGotmpl, map[string]*bintree{}},
 		}},
-		"contrib": {nil, map[string]*bintree{
-			"stratoscale": {nil, map[string]*bintree{
-				"client": {nil, map[string]*bintree{
-					"client.gotmpl": {templatesContribStratoscaleClientClientGotmpl, map[string]*bintree{}},
-					"facade.gotmpl": {templatesContribStratoscaleClientFacadeGotmpl, map[string]*bintree{}},
+		"contrib": &bintree{nil, map[string]*bintree{
+			"stratoscale": &bintree{nil, map[string]*bintree{
+				"client": &bintree{nil, map[string]*bintree{
+					"client.gotmpl": &bintree{templatesContribStratoscaleClientClientGotmpl, map[string]*bintree{}},
+					"facade.gotmpl": &bintree{templatesContribStratoscaleClientFacadeGotmpl, map[string]*bintree{}},
 				}},
-				"server": {nil, map[string]*bintree{
-					"configureapi.gotmpl": {templatesContribStratoscaleServerConfigureapiGotmpl, map[string]*bintree{}},
-					"server.gotmpl": {templatesContribStratoscaleServerServerGotmpl, map[string]*bintree{}},
+				"server": &bintree{nil, map[string]*bintree{
+					"configureapi.gotmpl": &bintree{templatesContribStratoscaleServerConfigureapiGotmpl, map[string]*bintree{}},
+					"server.gotmpl":       &bintree{templatesContribStratoscaleServerServerGotmpl, map[string]*bintree{}},
 				}},
 			}},
 		}},
-		"docstring.gotmpl": {templatesDocstringGotmpl, map[string]*bintree{}},
-		"header.gotmpl": {templatesHeaderGotmpl, map[string]*bintree{}},
-		"markdown": {nil, map[string]*bintree{
-			"docs.gotmpl": {templatesMarkdownDocsGotmpl, map[string]*bintree{}},
+		"docstring.gotmpl": &bintree{templatesDocstringGotmpl, map[string]*bintree{}},
+		"header.gotmpl":    &bintree{templatesHeaderGotmpl, map[string]*bintree{}},
+		"markdown": &bintree{nil, map[string]*bintree{
+			"docs.gotmpl": &bintree{templatesMarkdownDocsGotmpl, map[string]*bintree{}},
 		}},
-		"model.gotmpl": {templatesModelGotmpl, map[string]*bintree{}},
-		"schema.gotmpl": {templatesSchemaGotmpl, map[string]*bintree{}},
-		"schemabody.gotmpl": {templatesSchemabodyGotmpl, map[string]*bintree{}},
-		"schemaembedded.gotmpl": {templatesSchemaembeddedGotmpl, map[string]*bintree{}},
-		"schemapolymorphic.gotmpl": {templatesSchemapolymorphicGotmpl, map[string]*bintree{}},
-		"schematype.gotmpl": {templatesSchematypeGotmpl, map[string]*bintree{}},
-		"schemavalidator.gotmpl": {templatesSchemavalidatorGotmpl, map[string]*bintree{}},
-		"serializers": {nil, map[string]*bintree{
-			"additionalpropertiesserializer.gotmpl": {templatesSerializersAdditionalpropertiesserializerGotmpl, map[string]*bintree{}},
-			"aliasedserializer.gotmpl": {templatesSerializersAliasedserializerGotmpl, map[string]*bintree{}},
-			"allofserializer.gotmpl": {templatesSerializersAllofserializerGotmpl, map[string]*bintree{}},
-			"basetypeserializer.gotmpl": {templatesSerializersBasetypeserializerGotmpl, map[string]*bintree{}},
-			"marshalbinaryserializer.gotmpl": {templatesSerializersMarshalbinaryserializerGotmpl, map[string]*bintree{}},
-			"schemaserializer.gotmpl": {templatesSerializersSchemaserializerGotmpl, map[string]*bintree{}},
-			"subtypeserializer.gotmpl": {templatesSerializersSubtypeserializerGotmpl, map[string]*bintree{}},
-			"tupleserializer.gotmpl": {templatesSerializersTupleserializerGotmpl, map[string]*bintree{}},
+		"model.gotmpl":             &bintree{templatesModelGotmpl, map[string]*bintree{}},
+		"schema.gotmpl":            &bintree{templatesSchemaGotmpl, map[string]*bintree{}},
+		"schemabody.gotmpl":        &bintree{templatesSchemabodyGotmpl, map[string]*bintree{}},
+		"schemaembedded.gotmpl":    &bintree{templatesSchemaembeddedGotmpl, map[string]*bintree{}},
+		"schemapolymorphic.gotmpl": &bintree{templatesSchemapolymorphicGotmpl, map[string]*bintree{}},
+		"schematype.gotmpl":        &bintree{templatesSchematypeGotmpl, map[string]*bintree{}},
+		"schemavalidator.gotmpl":   &bintree{templatesSchemavalidatorGotmpl, map[string]*bintree{}},
+		"serializers": &bintree{nil, map[string]*bintree{
+			"additionalpropertiesserializer.gotmpl": &bintree{templatesSerializersAdditionalpropertiesserializerGotmpl, map[string]*bintree{}},
+			"aliasedserializer.gotmpl":              &bintree{templatesSerializersAliasedserializerGotmpl, map[string]*bintree{}},
+			"allofserializer.gotmpl":                &bintree{templatesSerializersAllofserializerGotmpl, map[string]*bintree{}},
+			"basetypeserializer.gotmpl":             &bintree{templatesSerializersBasetypeserializerGotmpl, map[string]*bintree{}},
+			"marshalbinaryserializer.gotmpl":        &bintree{templatesSerializersMarshalbinaryserializerGotmpl, map[string]*bintree{}},
+			"schemaserializer.gotmpl":               &bintree{templatesSerializersSchemaserializerGotmpl, map[string]*bintree{}},
+			"subtypeserializer.gotmpl":              &bintree{templatesSerializersSubtypeserializerGotmpl, map[string]*bintree{}},
+			"tupleserializer.gotmpl":                &bintree{templatesSerializersTupleserializerGotmpl, map[string]*bintree{}},
 		}},
-		"server": {nil, map[string]*bintree{
-			"builder.gotmpl": {templatesServerBuilderGotmpl, map[string]*bintree{}},
-			"configureapi.gotmpl": {templatesServerConfigureapiGotmpl, map[string]*bintree{}},
-			"doc.gotmpl": {templatesServerDocGotmpl, map[string]*bintree{}},
-			"main.gotmpl": {templatesServerMainGotmpl, map[string]*bintree{}},
-			"operation.gotmpl": {templatesServerOperationGotmpl, map[string]*bintree{}},
-			"parameter.gotmpl": {templatesServerParameterGotmpl, map[string]*bintree{}},
-			"responses.gotmpl": {templatesServerResponsesGotmpl, map[string]*bintree{}},
-			"server.gotmpl": {templatesServerServerGotmpl, map[string]*bintree{}},
-			"urlbuilder.gotmpl": {templatesServerUrlbuilderGotmpl, map[string]*bintree{}},
+		"server": &bintree{nil, map[string]*bintree{
+			"builder.gotmpl":      &bintree{templatesServerBuilderGotmpl, map[string]*bintree{}},
+			"configureapi.gotmpl": &bintree{templatesServerConfigureapiGotmpl, map[string]*bintree{}},
+			"doc.gotmpl":          &bintree{templatesServerDocGotmpl, map[string]*bintree{}},
+			"main.gotmpl":         &bintree{templatesServerMainGotmpl, map[string]*bintree{}},
+			"operation.gotmpl":    &bintree{templatesServerOperationGotmpl, map[string]*bintree{}},
+			"parameter.gotmpl":    &bintree{templatesServerParameterGotmpl, map[string]*bintree{}},
+			"responses.gotmpl":    &bintree{templatesServerResponsesGotmpl, map[string]*bintree{}},
+			"server.gotmpl":       &bintree{templatesServerServerGotmpl, map[string]*bintree{}},
+			"urlbuilder.gotmpl":   &bintree{templatesServerUrlbuilderGotmpl, map[string]*bintree{}},
 		}},
-		"simpleschema": {nil, map[string]*bintree{
-			"defaultsinit.gotmpl": {templatesSimpleschemaDefaultsinitGotmpl, map[string]*bintree{}},
-			"defaultsvar.gotmpl": {templatesSimpleschemaDefaultsvarGotmpl, map[string]*bintree{}},
+		"simpleschema": &bintree{nil, map[string]*bintree{
+			"defaultsinit.gotmpl": &bintree{templatesSimpleschemaDefaultsinitGotmpl, map[string]*bintree{}},
+			"defaultsvar.gotmpl":  &bintree{templatesSimpleschemaDefaultsvarGotmpl, map[string]*bintree{}},
 		}},
-		"structfield.gotmpl": {templatesStructfieldGotmpl, map[string]*bintree{}},
-		"swagger_json_embed.gotmpl": {templatesSwagger_json_embedGotmpl, map[string]*bintree{}},
-		"validation": {nil, map[string]*bintree{
-			"customformat.gotmpl": {templatesValidationCustomformatGotmpl, map[string]*bintree{}},
-			"maximum.gotmpl": {templatesValidationMaximumGotmpl, map[string]*bintree{}},
-			"minimum.gotmpl": {templatesValidationMinimumGotmpl, map[string]*bintree{}},
-			"multipleOf.gotmpl": {templatesValidationMultipleofGotmpl, map[string]*bintree{}},
-			"primitive.gotmpl": {templatesValidationPrimitiveGotmpl, map[string]*bintree{}},
-			"structfield.gotmpl": {templatesValidationStructfieldGotmpl, map[string]*bintree{}},
+		"structfield.gotmpl":        &bintree{templatesStructfieldGotmpl, map[string]*bintree{}},
+		"swagger_json_embed.gotmpl": &bintree{templatesSwagger_json_embedGotmpl, map[string]*bintree{}},
+		"validation": &bintree{nil, map[string]*bintree{
+			"customformat.gotmpl": &bintree{templatesValidationCustomformatGotmpl, map[string]*bintree{}},
+			"maximum.gotmpl":      &bintree{templatesValidationMaximumGotmpl, map[string]*bintree{}},
+			"minimum.gotmpl":      &bintree{templatesValidationMinimumGotmpl, map[string]*bintree{}},
+			"multipleOf.gotmpl":   &bintree{templatesValidationMultipleofGotmpl, map[string]*bintree{}},
+			"primitive.gotmpl":    &bintree{templatesValidationPrimitiveGotmpl, map[string]*bintree{}},
+			"structfield.gotmpl":  &bintree{templatesValidationStructfieldGotmpl, map[string]*bintree{}},
 		}},
 	}},
 }}
diff --git a/generator/moreschemavalidation_fixtures_test.go b/generator/moreschemavalidation_fixtures_test.go
index a4d00cfc..fb1810ce 100644
--- a/generator/moreschemavalidation_fixtures_test.go
+++ b/generator/moreschemavalidation_fixtures_test.go
@@ -200,9 +200,10 @@ func initFixtureGuardFormats() {
 			`validate.FormatOf(`,
 		},
 		[]string{
-			`warning: validation pattern`,
-			`warning: validation minLength (value: 16) not compatible with type for format "binary". Skipped`,
-			`warning: validation maxLength (value: 20) not compatible with type for format "binary". Skipped`,
+			// disable log assertions (dodgy with parallel tests)
+			// `warning: validation pattern`,
+			// `warning: validation minLength (value: 16) not compatible with type for format "binary". Skipped`,
+			// `warning: validation maxLength (value: 20) not compatible with type for format "binary". Skipped`,
 		}, noLines,
 	)
 
@@ -300,10 +301,11 @@ func initFixtureGuardFormats() {
 		`	if err := validate.Required("p9", "body", AliasedReader(m.P9)); err != nil {`,
 	}, todo,
 		[]string{
+			// disable log assertions (dodgy with parallel tests)
 			// warnings about no validations for binary
-			`warning: validation minLength (value: 12) not compatible with type for format "binary". Skipped`,
-			`warning: validation maxLength (value: 16) not compatible with type for format "binary". Skipped`,
-			`warning: validation pattern`,
+			// `warning: validation minLength (value: 12) not compatible with type for format "binary". Skipped`,
+			// `warning: validation maxLength (value: 16) not compatible with type for format "binary". Skipped`,
+			// `warning: validation pattern`,
 		}, noLines)
 }
 
@@ -2693,8 +2695,10 @@ func initFixtureComplexAllOf() {
 	},
 		// not expected
 		todo,
+		// disable log assertions (dodgy with parallel tests)
 		// output in log
-		warning,
+		// warning,
+		noLines,
 		noLines)
 
 	expandRun.AddExpectations("slice_mix.go", []string{
@@ -6186,7 +6190,8 @@ func initFixtureErrors() {
 		validatable,
 		// output in log
 		// expect warning
-		warning,
+		// warning,
+		noLines,
 		noLines)
 
 	expandRun.AddExpectations("multiple_types.go", flattenRun.ExpectedFor("MultipleTypes").ExpectedLines, validatable, noLines, noLines)
diff --git a/go.mod b/go.mod
index ce672edf..321ed371 100644
--- a/go.mod
+++ b/go.mod
@@ -7,15 +7,15 @@ require (
 	github.com/davecgh/go-spew v1.1.1
 	github.com/dgrijalva/jwt-go v3.2.0+incompatible
 	github.com/fsnotify/fsnotify v1.4.9 // indirect
-	github.com/go-openapi/analysis v0.19.16
-	github.com/go-openapi/errors v0.19.9
+	github.com/go-openapi/analysis v0.20.0
+	github.com/go-openapi/errors v0.20.0
 	github.com/go-openapi/inflect v0.19.0
-	github.com/go-openapi/loads v0.20.1
+	github.com/go-openapi/loads v0.20.2
 	github.com/go-openapi/runtime v0.19.26
-	github.com/go-openapi/spec v0.20.2
+	github.com/go-openapi/spec v0.20.3
 	github.com/go-openapi/strfmt v0.20.0
-	github.com/go-openapi/swag v0.19.13
-	github.com/go-openapi/validate v0.20.1
+	github.com/go-openapi/swag v0.19.14
+	github.com/go-openapi/validate v0.20.2
 	github.com/go-swagger/scan-repo-boundary v0.0.0-20180623220736-973b3573c013
 	github.com/golang/protobuf v1.4.3 // indirect
 	github.com/gorilla/handlers v1.5.1
@@ -31,7 +31,7 @@ require (
 	github.com/spf13/jwalterweatherman v1.1.0 // indirect
 	github.com/spf13/pflag v1.0.5
 	github.com/spf13/viper v1.7.1
-	github.com/stretchr/testify v1.6.1
+	github.com/stretchr/testify v1.7.0
 	github.com/toqueteos/webbrowser v1.2.0
 	golang.org/x/crypto v0.0.0-20201124201722-c8d3bf9c5392 // indirect
 	golang.org/x/net v0.0.0-20210119194325-5f4716e94777
diff --git a/go.sum b/go.sum
index 9fa2ed6e..15ffc2e8 100644
--- a/go.sum
+++ b/go.sum
@@ -113,6 +113,8 @@ github.com/go-openapi/analysis v0.19.5/go.mod h1:hkEAkxagaIvIP7VTn8ygJNkd4kAYON2
 github.com/go-openapi/analysis v0.19.10/go.mod h1:qmhS3VNFxBlquFJ0RGoDtylO9y4pgTAUNE9AEEMdlJQ=
 github.com/go-openapi/analysis v0.19.16 h1:Ub9e++M8sDwtHD+S587TYi+6ANBG1NRYGZDihqk0SaY=
 github.com/go-openapi/analysis v0.19.16/go.mod h1:GLInF007N83Ad3m8a/CbQ5TPzdnGT7workfHwuVjNVk=
+github.com/go-openapi/analysis v0.20.0 h1:UN09o0kNhleunxW7LR+KnltD0YrJ8FF03pSqvAN3Vro=
+github.com/go-openapi/analysis v0.20.0/go.mod h1:BMchjvaHDykmRMsK40iPtvyOfFdMMxlOmQr9FBZk+Og=
 github.com/go-openapi/errors v0.17.0/go.mod h1:LcZQpmvG4wyF5j4IhA73wkLFQg+QJXOQHVjmcZxhka0=
 github.com/go-openapi/errors v0.18.0/go.mod h1:LcZQpmvG4wyF5j4IhA73wkLFQg+QJXOQHVjmcZxhka0=
 github.com/go-openapi/errors v0.19.2/go.mod h1:qX0BLWsyaKfvhluLejVpVNwNRdXZhEbTA4kxxpKBC94=
@@ -122,6 +124,8 @@ github.com/go-openapi/errors v0.19.7/go.mod h1:cM//ZKUKyO06HSwqAelJ5NsEMMcpa6VpX
 github.com/go-openapi/errors v0.19.8/go.mod h1:cM//ZKUKyO06HSwqAelJ5NsEMMcpa6VpXe8DOa1Mi1M=
 github.com/go-openapi/errors v0.19.9 h1:9SnKdGhiPZHF3ttwFMiCBEb8jQ4IDdrK+5+a0oTygA4=
 github.com/go-openapi/errors v0.19.9/go.mod h1:cM//ZKUKyO06HSwqAelJ5NsEMMcpa6VpXe8DOa1Mi1M=
+github.com/go-openapi/errors v0.20.0 h1:Sxpo9PjEHDzhs3FbnGNonvDgWcMW2U7wGTcDDSFSceM=
+github.com/go-openapi/errors v0.20.0/go.mod h1:cM//ZKUKyO06HSwqAelJ5NsEMMcpa6VpXe8DOa1Mi1M=
 github.com/go-openapi/inflect v0.19.0 h1:9jCH9scKIbHeV9m12SmPilScz6krDxKRasNNSNPXu/4=
 github.com/go-openapi/inflect v0.19.0/go.mod h1:lHpZVlpIQqLyKwJ4N+YSc9hchQy/i12fJykb83CRBH4=
 github.com/go-openapi/jsonpointer v0.17.0/go.mod h1:cOnomiV+CVVwFLk0A/MExoFMjwdsUdVpsRhURCKh+3M=
@@ -145,8 +149,8 @@ github.com/go-openapi/loads v0.19.5/go.mod h1:dswLCAdonkRufe/gSUC3gN8nTSaB9uaS2e
 github.com/go-openapi/loads v0.19.6/go.mod h1:brCsvE6j8mnbmGBh103PT/QLHfbyDxA4hsKvYBNEGVc=
 github.com/go-openapi/loads v0.19.7/go.mod h1:brCsvE6j8mnbmGBh103PT/QLHfbyDxA4hsKvYBNEGVc=
 github.com/go-openapi/loads v0.20.0/go.mod h1:2LhKquiE513rN5xC6Aan6lYOSddlL8Mp20AW9kpviM4=
-github.com/go-openapi/loads v0.20.1 h1:LX55ObGRfG+53/1KRKTvCfqC1U2Htf7KgkPBpIVhuUM=
-github.com/go-openapi/loads v0.20.1/go.mod h1:/6LfFL8fDvTSX8ypmYXIq3U9Q7nfniSOStW22m864WM=
+github.com/go-openapi/loads v0.20.2 h1:z5p5Xf5wujMxS1y8aP+vxwW5qYT2zdJBbXKmQUG3lcc=
+github.com/go-openapi/loads v0.20.2/go.mod h1:hTVUotJ+UonAMMZsvakEgmWKgtulweO9vYP2bQYKA/o=
 github.com/go-openapi/runtime v0.0.0-20180920151709-4f900dc2ade9/go.mod h1:6v9a6LTXWQCdL8k1AO3cvqx5OtZY/Y9wKTgaoP6YRfA=
 github.com/go-openapi/runtime v0.19.0/go.mod h1:OwNfisksmmaZse4+gpV3Ne9AyMOlP1lt4sK4FXt0O64=
 github.com/go-openapi/runtime v0.19.4/go.mod h1:X277bwSUBxVlCYR3r7xgZZGKVvBd/29gLDlFGtJ8NL4=
@@ -165,8 +169,8 @@ github.com/go-openapi/spec v0.19.8/go.mod h1:Hm2Jr4jv8G1ciIAo+frC/Ft+rR2kQDh8JHK
 github.com/go-openapi/spec v0.19.15/go.mod h1:+81FIL1JwC5P3/Iuuozq3pPE9dXdIEGxFutcFKaVbmU=
 github.com/go-openapi/spec v0.20.0/go.mod h1:+81FIL1JwC5P3/Iuuozq3pPE9dXdIEGxFutcFKaVbmU=
 github.com/go-openapi/spec v0.20.1/go.mod h1:93x7oh+d+FQsmsieroS4cmR3u0p/ywH649a3qwC9OsQ=
-github.com/go-openapi/spec v0.20.2 h1:pFPUZsiIbZ20kLUcuCGeuQWG735fPMxW7wHF9BWlnQU=
-github.com/go-openapi/spec v0.20.2/go.mod h1:RW6Xcbs6LOyWLU/mXGdzn2Qc+3aj+ASfI7rvSZh1Vls=
+github.com/go-openapi/spec v0.20.3 h1:uH9RQ6vdyPSs2pSy9fL8QPspDF2AMIMPtmK5coSSjtQ=
+github.com/go-openapi/spec v0.20.3/go.mod h1:gG4F8wdEDN+YPBMVnzE85Rbhf+Th2DTvA9nFPQ5AYEg=
 github.com/go-openapi/strfmt v0.17.0/go.mod h1:P82hnJI0CXkErkXi8IKjPbNBM6lV6+5pLP5l494TcyU=
 github.com/go-openapi/strfmt v0.18.0/go.mod h1:P82hnJI0CXkErkXi8IKjPbNBM6lV6+5pLP5l494TcyU=
 github.com/go-openapi/strfmt v0.19.0/go.mod h1:+uW+93UVvGGq2qGaZxdDeJqSAqBqBdl+ZPMF/cC8nDY=
@@ -188,6 +192,8 @@ github.com/go-openapi/swag v0.19.12 h1:Bc0bnY2c3AoF7Gc+IMIAQQsD8fLHjHpc19wXvYuay
 github.com/go-openapi/swag v0.19.12/go.mod h1:eFdyEBkTdoAf/9RXBvj4cr1nH7GD8Kzo5HTt47gr72M=
 github.com/go-openapi/swag v0.19.13 h1:233UVgMy1DlmCYYfOiFpta6e2urloh+sEs5id6lyzog=
 github.com/go-openapi/swag v0.19.13/go.mod h1:QYRuS/SOXUCsnplDa677K7+DxSOj6IPNl/eQntq43wQ=
+github.com/go-openapi/swag v0.19.14 h1:gm3vOOXfiuw5i9p5N9xJvfjvuofpyvLA9Wr6QfK5Fng=
+github.com/go-openapi/swag v0.19.14/go.mod h1:QYRuS/SOXUCsnplDa677K7+DxSOj6IPNl/eQntq43wQ=
 github.com/go-openapi/validate v0.18.0/go.mod h1:Uh4HdOzKt19xGIGm1qHf/ofbX1YQ4Y+MYsct2VUrAJ4=
 github.com/go-openapi/validate v0.19.2/go.mod h1:1tRCw7m3jtI8eNWEEliiAqUIcBztB2KDnRCRMUi7GTA=
 github.com/go-openapi/validate v0.19.3/go.mod h1:90Vh6jjkTn+OT1Eefm0ZixWNFjhtOH7vS9k0lo6zwJo=
@@ -196,6 +202,8 @@ github.com/go-openapi/validate v0.19.12/go.mod h1:Rzou8hA/CBw8donlS6WNEUQupNvUZ0
 github.com/go-openapi/validate v0.19.15/go.mod h1:tbn/fdOwYHgrhPBzidZfJC2MIVvs9GA7monOmWBbeCI=
 github.com/go-openapi/validate v0.20.1 h1:QGQ5CvK74E28t3DkegGweKR+auemUi5IdpMc4x3UW6s=
 github.com/go-openapi/validate v0.20.1/go.mod h1:b60iJT+xNNLfaQJUqLI7946tYiFEOuE9E4k54HpKcJ0=
+github.com/go-openapi/validate v0.20.2 h1:AhqDegYV3J3iQkMPJSXkvzymHKMTw0BST3RK3hTT4ts=
+github.com/go-openapi/validate v0.20.2/go.mod h1:e7OJoKNgd0twXZwIn0A43tHbvIcr/rZIVCbJBpTUoY0=
 github.com/go-sql-driver/mysql v1.5.0/go.mod h1:DCzpHaOWr8IXmIStZouvnhqoel9Qv2LBy8hT2VhHyBg=
 github.com/go-stack/stack v1.8.0 h1:5SgMzNM5HxrEjV0ww2lTmX6E2Izsfxas4+YHWRs3Lsk=
 github.com/go-stack/stack v1.8.0/go.mod h1:v0f6uXyyMGvRgIKkXu+yp6POWl0qKG85gN/melR3HDY=
@@ -369,7 +377,6 @@ github.com/mitchellh/mapstructure v0.0.0-20160808181253-ca63d7c062ee/go.mod h1:F
 github.com/mitchellh/mapstructure v1.1.2/go.mod h1:FVVH3fgwuzCH5S8UJGiWEs2h04kUh9fWfEaFds41c1Y=
 github.com/mitchellh/mapstructure v1.3.2/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo=
 github.com/mitchellh/mapstructure v1.3.3/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo=
-github.com/mitchellh/mapstructure v1.4.0 h1:7ks8ZkOP5/ujthUsT07rNv+nkLXCQWKNHuwzOAesEks=
 github.com/mitchellh/mapstructure v1.4.0/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo=
 github.com/mitchellh/mapstructure v1.4.1 h1:CpVNEelQCZBooIPDn+AR3NpivK/TIKU8bDxdASFVQag=
 github.com/mitchellh/mapstructure v1.4.1/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo=
@@ -443,12 +450,15 @@ github.com/spf13/viper v1.7.1 h1:pM5oEahlgWv/WnHXpgbKz7iLIxRf65tye2Ci+XFK5sk=
 github.com/spf13/viper v1.7.1/go.mod h1:8WkrPz2fc9jxqZNCJI/76HCieCp4Q8HaLFoCha5qpdg=
 github.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=
 github.com/stretchr/objx v0.1.1/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=
+github.com/stretchr/objx v0.2.0 h1:Hbg2NidpLE8veEBkEZTL3CvlkUIVzuU9jDplZO54c48=
 github.com/stretchr/objx v0.2.0/go.mod h1:qt09Ya8vawLte6SNmTgCsAVtYtaKzEcn8ATUoHMkEqE=
 github.com/stretchr/testify v1.2.2/go.mod h1:a8OnRcib4nhh0OaRAV+Yts87kKdq0PP7pXfy6kDkUVs=
 github.com/stretchr/testify v1.3.0/go.mod h1:M5WIy9Dh21IEIfnGCwXGc5bZfKNJtfHm1UVUgZn+9EI=
 github.com/stretchr/testify v1.4.0/go.mod h1:j7eGeouHqKxXV5pUuKE4zz7dFj8WfuZ+81PSLYec5m4=
 github.com/stretchr/testify v1.6.1 h1:hDPOHmpOpP40lSULcqw7IrRb/u7w6RpDC9399XyoNd0=
 github.com/stretchr/testify v1.6.1/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=
+github.com/stretchr/testify v1.7.0 h1:nwc3DEeHmmLAfoZucVR881uASk0Mfjw8xYJ99tb5CcY=
+github.com/stretchr/testify v1.7.0/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=
 github.com/subosito/gotenv v1.2.0 h1:Slr1R9HxAlEKefgq5jn9U+DnETlIUa6HfgEzj0g5d7s=
 github.com/subosito/gotenv v1.2.0/go.mod h1:N0PQaV/YGNqwC0u51sEeR/aUtSLEXKX9iv69rRypqCw=
 github.com/tidwall/pretty v1.0.0 h1:HsD+QiTn7sK6flMKIvNmpqz1qrpP3Ps6jOKIKMooyg4=
@@ -472,8 +482,8 @@ go.mongodb.org/mongo-driver v1.3.4/go.mod h1:MSWZXKOynuguX+JSvwP8i+58jYCXxbia8HS
 go.mongodb.org/mongo-driver v1.4.3 h1:moga+uhicpVshTyaqY9L23E6QqwcHRUv1sqyOsoyOO8=
 go.mongodb.org/mongo-driver v1.4.3/go.mod h1:WcMNYLx/IlOxLe6JRJiv2uXuCz6zBLndR4SoGjYphSc=
 go.mongodb.org/mongo-driver v1.4.4/go.mod h1:WcMNYLx/IlOxLe6JRJiv2uXuCz6zBLndR4SoGjYphSc=
-go.mongodb.org/mongo-driver v1.4.5 h1:TLtO+iD8krabXxvY1F1qpBOHgOxhLWR7XsT7kQeRmMY=
-go.mongodb.org/mongo-driver v1.4.5/go.mod h1:WcMNYLx/IlOxLe6JRJiv2uXuCz6zBLndR4SoGjYphSc=
+go.mongodb.org/mongo-driver v1.4.6 h1:rh7GdYmDrb8AQSkF8yteAus8qYOgOASWDOv1BWqBXkU=
+go.mongodb.org/mongo-driver v1.4.6/go.mod h1:WcMNYLx/IlOxLe6JRJiv2uXuCz6zBLndR4SoGjYphSc=
 go.opencensus.io v0.21.0/go.mod h1:mSImk1erAIZhrmZN+AvHh14ztQfjbGwt4TtuofqLduU=
 go.opencensus.io v0.22.0/go.mod h1:+kGneAE2xo2IficOXnaByMWTGM9T73dGwxeWcUqIpI8=
 go.opencensus.io v0.22.2/go.mod h1:yxeiOL68Rb0Xd1ddK5vPZ/oVn4vY4Ynel7k9FzqtOIw=
@@ -566,7 +576,6 @@ golang.org/x/net v0.0.0-20200822124328-c89045814202/go.mod h1:/O7V0waA8r7cgGh81R
 golang.org/x/net v0.0.0-20201021035429-f5854403a974/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
 golang.org/x/net v0.0.0-20201110031124-69a78807bb2b/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
 golang.org/x/net v0.0.0-20201202161906-c7110b5ffcbb/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
-golang.org/x/net v0.0.0-20201224014010-6772e930b67b h1:iFwSg7t5GZmB/Q5TjiEAsdoLDrdJRC1RiF2WhuV29Qw=
 golang.org/x/net v0.0.0-20201224014010-6772e930b67b/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210119194325-5f4716e94777 h1:003p0dJM77cxMSyCPFphvZf/Y5/NXf5fzg6ufd1/Oew=
 golang.org/x/net v0.0.0-20210119194325-5f4716e94777/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
@@ -636,7 +645,6 @@ golang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=
 golang.org/x/text v0.3.1-0.20180807135948-17ff2d5776d2/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=
 golang.org/x/text v0.3.2/go.mod h1:bEr9sfX3Q8Zfm5fL9x+3itogRgK3+ptLWKqgva+5dAk=
 golang.org/x/text v0.3.3/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=
-golang.org/x/text v0.3.4 h1:0YWbFKbhXG/wIiuHDSKpS0Iy7FSA+u45VtBMfQcFTTc=
 golang.org/x/text v0.3.4/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=
 golang.org/x/text v0.3.5 h1:i6eZZ+zk0SOf0xgBpEpPD18qWcJda6q1sxt3S0kzyUQ=
 golang.org/x/text v0.3.5/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=
@@ -801,6 +809,8 @@ gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c/go.mod h1:K4uyk7z7BCEPqu6E+C
 gopkg.in/yaml.v3 v3.0.0-20200605160147-a5ece683394c/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=
 gopkg.in/yaml.v3 v3.0.0-20200615113413-eeeca48fe776 h1:tQIYjPdBoyREyB9XMu+nnTclpTYkz2zFM+lzLJFO4gQ=
 gopkg.in/yaml.v3 v3.0.0-20200615113413-eeeca48fe776/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=
+gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b h1:h8qDotaEPuJATrMmW04NCwg7v22aHH28wwpauUhK9Oo=
+gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=
 honnef.co/go/tools v0.0.0-20190102054323-c2f93a96b099/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=
 honnef.co/go/tools v0.0.0-20190106161140-3f1c8253044a/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=
 honnef.co/go/tools v0.0.0-20190418001031-e561f6794a2a/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=
diff --git a/hack/canary-fixtures.yaml b/hack/canary-fixtures.yaml
index 8fffe017..7091f513 100644
--- a/hack/canary-fixtures.yaml
+++ b/hack/canary-fixtures.yaml
@@ -25,3 +25,26 @@
 - dir: fixtures/canary/docker-v1.41
   spec: swagger-fixed.yaml
 - dir: fixtures/canary/docker-v19.03.13/swagger.yaml
+- dir: fixtures/codegen
+  spec: bitbucket.json
+  skipped:
+    knownExpandFailure: true
+- dir: fixtures/bugs/2306
+  skipped:
+    skipModel: true
+- dir: fixtures/codegen
+  spec: swagger-gsma.json
+  skipped:
+    knownValidationFailure: true
+# - azure-text-analyis.json: works with --skip-validation.
+#   Invalid specification with duplicate property in allOf construct (provided fixed version for testing)
+- dir: fixtures/codegen
+  spec: azure-text-analyis.json
+  skipped:
+    knownValidationFailure: true
+- dir: fixtures/codegen
+  spec: azure-text-analyis-fixed.json
+- dir: fixtures/bugs/1062
+  spec: eve-online-esi.json
+- dir: fixtures/codegen
+  spec: instagram.yml
diff --git a/hack/codegen-fixtures.yaml b/hack/codegen-fixtures.yaml
old mode 100755
new mode 100644
index 700ae5b8..654bb649
--- a/hack/codegen-fixtures.yaml
+++ b/hack/codegen-fixtures.yaml
@@ -32,12 +32,43 @@
   spec: fixture-1851.yaml
 - dir: fixtures/bugs/2092
   spec: fixture-2092.yaml
+# List all specs in fixtures/codegen explicitly, because some (the longest running)
+# are picked by the "canary" CI job.
 - dir: fixtures/codegen
+  spec: billforward.discriminators.yml
+- dir: fixtures/codegen
+  spec: issue-1066.yaml
+- dir: fixtures/codegen
+  spec: issue-1388.yaml
+- dir: fixtures/codegen
+  spec: keep-spec-order.yml
+- dir: fixtures/codegen
+  spec: shipyard.yml
+- dir: fixtures/codegen
+  spec: simplesearch.yml
+- dir: fixtures/codegen
+  spec: swagger-codegen-tests.json
+- dir: fixtures/codegen
+  spec: tasklist.basic.yml
+- dir: fixtures/codegen
+  spec: todolist.allparams.yml
+- dir: fixtures/codegen
+  spec: todolist.discriminators.yml
+- dir: fixtures/codegen
+  spec: todolist.enums.yml
+- dir: fixtures/codegen
+  spec: todolist.responses.yml
+- dir: fixtures/codegen
+  spec: todolist.simple-fixed.yml
+- dir: fixtures/codegen
+  spec: todolist.simpleform.yml
+- dir: fixtures/codegen
+  spec: todolist.simpleheader.yml
+- dir: fixtures/codegen
+  spec: todolist.simplepath.yml
 - dir: fixtures/bugs/909
 - dir: fixtures/bugs/1437
 - dir: fixtures/bugs/1314
-- dir: fixtures/bugs/1062
-  spec: eve-online-esi.json
 - dir: fixtures/bugs/1392
 - dir: fixtures/bugs/1277
 - dir: fixtures/bugs/1536
@@ -73,7 +104,7 @@
 # - existing-model.yml requires pregeneration (not supported yet by this script)
 # - issue72: model works with --skip-validation. Invalid spec (duplicate operationID)
 # - todolist.simple.yml: invalid default values put on purpose for UT (provided fixed version for testing)
-# - fixture-basetypes.yaml: exhibits some edge case failures with discriminator (e.g. using a base type in tuple...)
+# - fixture-basetypes.yaml: exhibits some known edge case failures with discriminator (e.g. using a base type in tuple...)
 # - fixture-polymorphism.yaml: idem
 - dir: fixtures/codegen
   spec: existing-model.yml
@@ -96,8 +127,6 @@
   skipped:
     knownFailure: true
 # The following ones requires some checks to be skipped:
-# - azure-text-analyis.json: works with --skip-validation. Invalid specification with duplicate property in allOf construct (provided fixed version for testing)
-# - swagger-gsma.json: idem
 - spec: todolist.enums.yml
   skipped:
     knownValidationFailure: true
@@ -110,12 +139,6 @@
 - spec: todolist.schemavalidation.yml
   skipped:
     knownValidationFailure: true
-- spec: azure-text-analyis.json
-  skipped:
-    knownValidationFailure: true
-- spec: swagger-gsma.json
-  skipped:
-    knownValidationFailure: true
 - spec: fixture-844-variations.yaml
   skipped:
     knownValidationFailure: true
@@ -157,10 +180,6 @@
 # known fixtures not supporting expand mode (not including the discriminator case).
 # Normally, this is because of duplicate names constructed during codegen of anonymous structures.
 # This should be solved with proper analysis of names before codegen.
-- spec: bitbucket.json
-  dir: fixtures/codegen
-  skipped:
-    knownExpandFailure: true
 - spec: todolist.enums.flattened.json
   dir: fixtures/codegen
   skipped:
@@ -174,9 +193,6 @@
   skipped:
     knownExpandFailure: true
     knownFlattenMinimalFailure: true
-- dir: fixtures/bugs/2306
-  skipped:
-    skipModel: true
 - dir: fixtures/bugs/2342
   skipped:
     skipModel: true
