diff --git a/fixtures/bugs/103/.gitignore b/fixtures/bugs/103/.gitignore
index 7e034bb5..1377554e 100644
--- a/fixtures/bugs/103/.gitignore
+++ b/fixtures/bugs/103/.gitignore
@@ -1,2 +1 @@
-client
-models
+*.swp
diff --git a/generator/bindata.go b/generator/bindata.go
index 7a4b133d..14dcaf43 100644
--- a/generator/bindata.go
+++ b/generator/bindata.go
@@ -152,7 +152,7 @@ func templatesClientFacadeGotmpl() (*asset, error) {
 	return a, nil
 }
 
-var _templatesClientParameterGotmpl = []byte("\x1f\x8b\x08\x00\x00\x09\x6e\x88\x00\xff\xe4\x57\x51\x8f\xdb\x44\x10\x7e\xcf\xaf\x18\xa2\x22\xd9\xa7\xab\xc3\x33\xe8\x90\xda\x72\x85\xe3\x01\x1d\xe5\x54\x1e\xaa\x0a\x6d\xe3\x89\xbd\x3a\xdb\xeb\xdb\x5d\xa7\x84\x28\xff\x9d\x6f\xd6\x76\x1a\x3b\xe1\xce\xa9\x90\x90\xe8\x53\x9c\xd9\x9d\x6f\xe6\xfb\x66\xd6\x3b\xae\xd5\xf2\x5e\x65\x4c\xdb\x2d\x25\xb7\xdd\xf3\x6e\x37\x9b\x2d\x16\x74\x97\x6b\x47\x2b\x5d\x30\x7d\x54\x8e\x32\xae\xd8\x2a\xcf\x29\x7d\xd8\x90\xcf\x99\xdc\x47\x95\x65\x6c\xc9\x1b\x53\x24\xb2\xff\x3a\xd5\x5e\x57\x19\x16\x7b\xbf\x52\x67\xb9\xa7\xda\x9a\x35\xd3\xaa\xf1\x01\x2a\xe7\x8a\x36\xa6\x21\xcb\xcf\x6d\x53\x0d\x90\xfa\x10\xb4\x34\x65\xa9\xaa\x74\x36\xd3\x65\x6d\xac\xa7\x68\x46\x34\xaf\xd8\x2f\x72\xef\xeb\xb9\xfc\xc9\xb4\xcf\x9b\x0f\x09\x36\x2e\x32\xf3\xbc\x03\x38\x7c\x94\x9d\xf7\xda\x4f\xdb\x2c\xbf\xd3\x76\xb2\xb5\xc6\xba\xb3\x52\x58\xac\x55\xa1\x53\xd0\x9a\xe6\xb5\x2c\x34\x57\xc8\x1b\x9b\x51\x13\xab\x2a\x14\x24\xf9\x81\x57\xaa\x29\xfc\x4d\x90\xc3\xa1\x40\x58\xaa\xad\xae\xfc\x8a\xe6\x5f\x3f\xcc\x29\x41\xc9\xc2\x7e\xae\x52\xea\x9f\x5b\xdf\x67\xf7\xbc\xb9\xa4\x67\x48\xa2\x61\xfa\xf6\x8a\x92\x01\x88\xac\xe2\x89\x46\x78\xdd\xf6\x11\x6a\x8c\xb6\xb8\x98\xc9\x56\xe5\x96\x20\xf5\x17\x32\xfb\x45\x95\xb2\xef\x56\x59\x55\x3a\x14\xae\xf2\x4a\x57\x8e\x54\x51\x84\xd2\xd6\x62\x67\xcf\xd6\xa1\x4f\xc8\x09\x10\x7e\x65\xe5\xc5\xed\x8d\xe0\xd6\x06\x51\x67\x2b\x63\x83\x11\xd8\x79\x83\xd2\x1f\x42\x93\xa9\xa5\x2b\xb4\x41\xb3\x6c\x6a\x8d\xc0\x45\x68\x40\xc7\xa4\x2c\x1a\xca\x6a\xef\xd1\x53\x80\x55\x24\x92\x27\x6f\xf8\xa1\x61\xe7\x67\x17\x8b\x19\x1c\x02\xe8\x3f\x26\xec\xbc\x6d\x96\x9e\xb6\x03\xb5\xbb\x35\x11\x48\xaf\x44\x7c\xb7\xb4\xba\x0e\x19\xec\x76\x50\x20\xec\x1d\x99\x61\xbc\x58\x8c\x0a\x70\x1c\x55\xac\x80\x04\xdb\xe4\xc6\xbd\x34\xe9\x26\x84\xa2\xa8\x32\x9e\x42\xde\xda\x72\x1a\x63\xe3\xc5\x1e\x4a\x42\xfd\x68\xee\x84\xc8\xa8\x1c\xed\x29\xfd\x1d\xfc\xf9\xce\x74\xa4\x83\x1c\xec\x3a\x7d\xea\x96\x48\x90\xa6\x3f\x64\xb6\x53\x67\xd5\x54\x4b\x8a\x04\xfd\x0d\x2f\x59\xaf\xd9\xf6\x39\x5e\x3c\x22\x58\x3c\x8a\x17\x59\x6a\x1b\xb6\x57\xfd\x12\x01\x32\x91\x75\x55\x8a\x2d\xd3\x78\xdc\xc4\x14\xce\x0d\x64\x06\x81\xb5\x92\x24\x1c\xbd\x7b\x1f\x8c\x81\xd2\x40\xf8\x9e\x26\x84\x1a\xe8\x82\x24\x60\x92\x8c\xdf\x4a\x77\x5e\xff\x59\x03\xc6\xb5\xf2\xd3\x57\x57\x54\xe9\xa2\x2f\x24\x14\xea\x50\x7a\x90\x1b\xf7\xc2\x5a\xb5\x09\xef\xb6\x1e\x1d\xc6\x5f\x1b\xb6\x5d\x11\x82\x03\x04\x7d\x10\x53\x2b\x5d\x08\xd6\xf1\xc7\x22\x5c\x90\xb2\x1c\x22\x9b\xfc\xc6\xfe\x93\x6f\x34\x3e\x8e\x9d\xcf\x65\x1f\xe8\xb5\xb1\xa5\x42\x9b\xda\xae\xa0\x87\xff\xa3\xd3\x54\x51\x85\xc0\xe2\x34\xdf\x58\x48\x16\x8e\x5b\xbc\xb3\xdd\xbb\xc5\xf8\xbb\x40\xe8\x40\x3b\x42\x69\x7c\x63\x2b\xb1\xe3\x6f\xdf\x70\x12\xa9\x15\xec\x56\xf9\x7c\xa8\x57\x0d\xcb\x14\xb9\xf6\x9e\x5f\x90\x5a\x3f\xb1\x4a\xd9\x0e\xf5\xca\x83\x6d\x8a\x62\x07\xde\x5f\x90\x66\x92\xf9\x81\x62\xfb\xa3\xfa\x1a\xe3\xc3\x50\x49\xdc\x1a\x65\x3b\x68\x4c\x10\x73\xef\xfe\x94\x94\x67\xca\x74\x0e\xc1\x41\xe2\x53\x72\xee\xa5\xf8\xdf\x97\xff\xd3\xad\x79\xd0\x09\x27\xde\xd8\xaf\x72\x5d\xa4\x03\x76\x72\x9d\x84\x69\xc5\x9d\xbe\x71\xdf\xbd\xc7\x0d\x84\xb1\x14\x18\x32\x65\xfc\x71\x49\xeb\xa0\x6f\xb8\x71\x3e\x87\x5a\x47\x63\x1f\xb3\xbd\xb5\xfa\x70\x57\xa4\xea\x1a\xde\xd1\x23\x39\x85\xaa\x9d\xa0\x12\xad\xe3\xf8\xa8\x63\x1e\xe3\x06\x1e\x9f\xc3\xe0\x78\x54\x7c\xe2\x32\x54\xa1\x10\xff\xd2\x95\x28\x83\x48\xf2\x33\xc6\xbe\x97\x9b\x96\xfc\xe3\x52\xcd\xb7\xdb\xe4\x95\x29\x0a\x5e\xca\xa4\xd5\x7a\xec\x76\xf3\x38\x49\x92\x73\x5f\x2e\xf8\xa4\x38\xf1\x82\xe9\xcf\xe3\x64\x92\x13\x4e\xe5\x7f\xc0\xb1\xad\xe6\x89\x3f\x27\xda\xa3\x3b\x69\xfb\x21\x69\xe0\xd0\xf6\xc2\x7e\x38\xed\x15\x78\x7a\xee\x3a\x12\x6a\x8f\x11\x4d\x7f\x77\x8e\xd8\xb5\xfc\xc6\xf9\xf6\x4f\x88\x57\x70\x15\x01\x31\xa6\xef\xe9\x9b\x23\x79\xf0\xa9\x06\x5d\xf1\xbd\xe3\x30\xb3\xbe\x6d\x3f\xc3\x10\xfa\x5a\x56\xc4\x4b\xf4\xed\xe0\x3b\x27\x24\x82\xb9\xfa\xef\x00\x00\x00\xff\xff\x2d\x67\x0b\x38\x15\x0f\x00\x00")
+var _templatesClientParameterGotmpl = []byte("\x1f\x8b\x08\x00\x00\x09\x6e\x88\x00\xff\xe4\x57\xdf\x6f\xdb\x36\x10\x7e\xf7\x5f\x71\x33\x3a\x40\x0a\x52\x79\xcf\x1b\x32\xa0\xed\xd2\x2d\x7b\x18\xb2\x2e\xe8\x1e\x8a\x62\x60\x2d\x5a\x22\x22\x89\x0a\x49\xb9\xf3\x0c\xff\xef\xfb\x8e\x22\x5d\x4b\xf6\x12\xb9\x18\x30\x60\x7d\x32\x7d\xbc\x5f\xdf\x77\x47\xf2\xd4\x8a\xe5\xbd\x28\x24\x6d\xb7\x94\xdd\x86\xf5\x6e\x37\x9b\x2d\x16\x74\x57\x2a\x4b\x2b\x55\x49\xfa\x28\x2c\x15\xb2\x91\x46\x38\x99\xd3\x87\x0d\xb9\x52\x92\xfd\x28\x8a\x42\x1a\x72\x5a\x57\x19\xeb\x5f\xe7\xca\xa9\xa6\xc0\x66\xb4\xab\x55\x51\x3a\x6a\x8d\x5e\x4b\x5a\x75\xce\xbb\x2a\x65\x43\x1b\xdd\x91\x91\xcf\x4d\xd7\x0c\x3c\xc5\x10\xb4\xd4\x75\x2d\x9a\x7c\x36\x53\x75\xab\x8d\xa3\x64\x46\x34\x6f\xa4\x5b\x94\xce\xb5\x73\xfe\x53\x28\x57\x76\x1f\x32\x28\x2e\x0a\xfd\x3c\x38\x38\x5c\xb2\xe6\xbd\x72\xd3\x94\xf9\x77\x9a\xa6\x34\x46\x1b\x7b\x56\x0a\x8b\xb5\xa8\x54\x0e\x58\xd3\xac\x96\x95\x92\x0d\xf2\x86\x32\x6a\x62\x44\x83\x82\x64\x3f\xc8\x95\xe8\x2a\x77\xe3\xe9\xb0\x28\x10\xb6\x5a\xa3\x1a\xb7\xa2\xf9\xd7\x0f\x73\xca\x50\x32\xaf\x2f\x9b\x9c\xe2\xba\xb7\x7d\x76\x2f\x37\x97\xf4\x0c\x49\x74\x92\xbe\xbd\xa2\x6c\xe0\x84\x77\xb1\xa2\x91\xbf\xa0\x3e\xf2\x9a\xa2\x2d\x2e\x66\xac\x2a\xec\x12\xa0\xfe\x42\x66\xbf\x88\x9a\xf5\x6e\x85\x11\xb5\x45\xe1\x1a\x27\x54\x63\x49\x54\x95\x2f\x6d\xcb\x72\xe9\xa4\xb1\xe8\x13\xb2\xec\x08\xbf\xbc\xf3\xe2\xf6\x86\xfd\xb6\x1a\x51\x67\x2b\x6d\xbc\x10\xbe\xcb\x0e\xa5\x3f\x74\x4d\xba\xe5\xae\x50\x1a\xcd\xb2\x69\x15\x02\x57\xbe\x01\xad\x24\x61\xd0\x50\x46\x39\x87\x9e\x82\x5b\x41\x4c\x79\xf6\x46\x3e\x74\xd2\xba\xd9\xc5\x62\x06\x03\xef\xf4\x1f\x13\xb6\xce\x74\x4b\x47\xdb\x01\xdb\x61\x8f\x09\x52\x2b\x26\xdf\x2e\x8d\x6a\x7d\x06\xbb\x1d\x18\xf0\xba\x23\x31\x84\x17\x8b\x51\x01\x8e\xa3\xb2\x14\x2e\x81\x36\xbb\xb1\x2f\x75\xbe\xf1\xa1\x28\x69\xb4\x23\x9f\xb7\x32\x32\x4f\xa1\x78\xb1\x77\xc5\xa1\x7e\xd4\x77\x0c\x64\x54\x8e\xfe\x94\xfe\x0e\xfc\xf2\x4e\x07\xd0\x9e\x0e\x69\x03\x3f\x6d\x0f\xc4\x53\x13\x0f\x99\x09\xec\xac\xba\x66\x49\x09\x7b\x7f\x23\x97\x52\xad\xa5\x89\x39\x5e\x3c\x42\x58\x3a\x8a\x97\x18\xea\x1b\x36\xb2\x7e\x89\x00\x05\xd3\xba\xaa\x59\x56\x28\x2c\x37\x29\xf9\x73\x03\x9a\x01\x60\x2d\x38\x09\x4b\xef\xde\x7b\xa1\x87\x34\x20\x3e\xc2\x04\x51\x03\x5e\x90\x04\x44\x9c\xf1\x5b\xee\xce\xeb\x3f\x5b\xb8\xb1\x3d\xfd\xf4\xd5\x15\x35\xaa\xa2\x6d\xe0\x27\xf8\x88\x2e\x6e\xec\x0b\x63\xc4\xc6\xdf\x6c\xd1\x37\x84\xbf\x76\xd2\x84\x12\x78\x03\xd0\xf9\xc0\xa2\x9e\x38\x1f\x2a\xa0\xc7\x26\x4c\x90\x30\x1f\x21\x93\xfd\x26\xdd\x27\xdb\x64\x7c\x18\x83\xcd\x65\x0c\xf4\x5a\x9b\x5a\xa0\x49\x4d\x28\xe7\xe1\xff\xe4\x34\x50\xd4\xc0\xa3\x38\x8d\x36\x65\x90\x95\x95\xbd\xbf\xb3\xcd\xc3\x66\xfa\x9d\x07\x14\x99\x03\x44\x42\x61\x5c\x67\x1a\x96\xe3\x6f\x6c\x37\x8e\xd4\x13\x76\x2b\x5c\x39\xe4\xab\x85\x64\x0a\x5d\x7b\xcb\x2f\x88\xad\x9f\xa4\xc8\xa5\x19\xf2\x55\x7a\xd9\x14\xc6\x0e\xac\xbf\x20\xce\x38\xf3\x03\xc6\xf6\x47\xf5\x35\x86\x87\x21\x93\x78\x33\xea\x7e\xcc\x98\x40\xe6\xde\xfc\x29\x2a\xcf\xa4\xe9\x1c\x80\x83\xc4\xa7\xe4\x1c\xa9\xf8\xdf\x97\xff\xd3\x9b\x79\xd0\x09\x27\x6e\xec\x57\xa5\xaa\xf2\x01\x3a\x7e\x4c\xfc\xac\x62\x4f\xbf\xb7\xef\xde\xe3\xfd\xc1\x50\x0a\x1f\x3c\x63\xfc\x71\x49\x6b\xcf\xaf\x7f\x6f\x3e\x07\x5a\x80\xb1\x8f\xd9\xbf\x59\x31\xdc\x15\x89\xb6\x85\x75\xf2\x48\x4e\xbe\x6a\x27\xa0\x24\xeb\x34\x3d\xea\x98\xc7\xb0\x01\xc7\xe7\x20\x38\x1e\x14\x9f\x78\x0c\x85\x2f\xc4\xbf\xf4\x24\xf2\x18\x92\xfd\x8c\xa1\xef\xe5\xa6\x07\xff\x38\x55\xf3\xed\x36\x7b\xa5\xab\x4a\x2e\x79\xce\xea\x2d\x76\xbb\x79\x9a\x65\xd9\xb9\x97\x0b\x3e\x28\x4e\x5c\x30\xf1\x3c\x4e\x06\x39\xe1\x54\xfe\x07\x18\xfb\x6a\x9e\xf8\x73\xa2\x3d\xe2\xf1\x3c\xd6\xee\x1b\x61\x3f\x97\x46\xf8\x4f\x8c\x5c\x3e\xab\x11\x4b\x7b\x1f\xc9\xf4\x8b\x73\x04\xad\x07\x17\xae\x85\x7d\xbe\x71\x85\x78\x95\x6c\x12\x78\x4c\xe9\x7b\xfa\xe6\x88\x1b\x7c\xa5\x81\x54\x7c\xea\x58\x8c\xab\x6f\xfb\x2f\x30\x84\xbe\xe6\x1d\xb6\x62\x72\x83\xfb\x60\x84\x44\x30\x52\xff\x1d\x00\x00\xff\xff\xa1\x2d\x39\xa2\x10\x0f\x00\x00")
 
 func templatesClientParameterGotmplBytes() ([]byte, error) {
 	return bindataRead(
@@ -167,7 +167,7 @@ func templatesClientParameterGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/client/parameter.gotmpl", size: 3861, mode: os.FileMode(420), modTime: time.Unix(1447279485, 0)}
+	info := bindataFileInfo{name: "templates/client/parameter.gotmpl", size: 3856, mode: os.FileMode(420), modTime: time.Unix(1447280407, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
diff --git a/generator/model.go b/generator/model.go
index dca70f0b..5622c5dc 100644
--- a/generator/model.go
+++ b/generator/model.go
@@ -132,8 +132,13 @@ func makeGenDefinition(name, pkg string, schema spec.Schema, specDoc *spec.Docum
 		}
 	}
 	var extras []GenSchema
-	for _, v := range pg.ExtraSchemas {
-		extras = append(extras, v)
+	var extraKeys []string
+	for k := range pg.ExtraSchemas {
+		extraKeys = append(extraKeys, k)
+	}
+	sort.Strings(extraKeys)
+	for _, k := range extraKeys {
+		extras = append(extras, pg.ExtraSchemas[k])
 	}
 
 	return &GenDefinition{
diff --git a/generator/templates/client/parameter.gotmpl b/generator/templates/client/parameter.gotmpl
index 1ed509eb..ac7ad81c 100644
--- a/generator/templates/client/parameter.gotmpl
+++ b/generator/templates/client/parameter.gotmpl
@@ -34,8 +34,7 @@ func ({{ .ReceiverName }} *{{ pascalize .Name }}Params) WriteToRequest(r client.
 
   var res []error
   {{range .Params}}
-  {{ if not .Required }}if {{ .ValueExpression }} != nil {
-  {{ end}}
+  {{ if not .Required }}if {{ .ValueExpression }} != nil { {{ end}}
   {{if not .IsArray }}
 
   {{ if .IsQueryParam }}
@@ -87,8 +86,7 @@ func ({{ .ReceiverName }} *{{ pascalize .Name }}Params) WriteToRequest(r client.
 
   {{ end }}
 
-  {{ if not .Required }}}
-  {{end}}
+  {{ if not .Required }}}{{end}}
   {{ end }}
 
   {{if .IsBodyParam}}
