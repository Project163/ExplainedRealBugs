diff --git a/cmd/swagger/commands/version_number.go b/cmd/swagger/commands/version_number.go
index 0398d097..998b7c8a 100644
--- a/cmd/swagger/commands/version_number.go
+++ b/cmd/swagger/commands/version_number.go
@@ -1,6 +1,6 @@
 package commands
 
 func init() {
-  Version = "0.4.0-97-g3ecf75e"
+  Version = "0.4.0-99-g800b2f9"
 }
 
diff --git a/fixtures/codegen/todolist.responses.yml b/fixtures/codegen/todolist.responses.yml
index 8c3999be..559ea7a2 100644
--- a/fixtures/codegen/todolist.responses.yml
+++ b/fixtures/codegen/todolist.responses.yml
@@ -104,7 +104,7 @@ paths:
             $ref: "#/definitions/Task"
       responses:
         default:
-          description: Generic Error
+          $ref: "#/responses/ErrorResponse"
         200:
           description: Task updated
           headers:
@@ -133,8 +133,38 @@ paths:
       summary: all possible single value query parameters
       description: Used to see if a codegen can render all the possible parameter variations for a query param
 
+responses:
+  ErrorResponse:
+    description: Error response
+    headers:
+      X-Error-Code:
+        type: string
+    schema:
+      $ref: "#/definitions/Error"
 
 definitions:
+  Error:
+    title: Error Structure
+    description: |
+      Contains all the properties any error response from the API will contain.
+      Some properties are optional so might be empty most of the time
+    type: object
+    required:
+      - code
+      - message
+    properties:
+      code:
+        description: the error code, this is not necessarily the http status code
+        type: integer
+        format: int32
+      message:
+        description: a human readable version of the error
+        type: string
+      helpUrl:
+        description: an optional url for getting more help about this error
+        type: string
+        format: uri
+
   Task:
     title: A Task object
     description: |
diff --git a/generator/operation.go b/generator/operation.go
index bf3b368c..5f370b97 100644
--- a/generator/operation.go
+++ b/generator/operation.go
@@ -475,6 +475,18 @@ func (b *codeGenOpBuilder) MakeResponse(receiver, name string, isSuccess bool, r
 	if Debug {
 		log.Printf("[%s %s] making id %q", b.Method, b.Path, b.Operation.ID)
 	}
+
+	if resp.Ref.String() != "" {
+		resp2, err := spec.ResolveResponse(b.Doc.Spec(), resp.Ref)
+		if err != nil {
+			return GenResponse{}, err
+		}
+		if resp2 == nil {
+			return GenResponse{}, fmt.Errorf("could not resolve response ref: %s", resp.Ref.String())
+		}
+		resp = *resp2
+	}
+
 	res := GenResponse{
 		Package:        b.APIPackage,
 		ModelsPackage:  b.ModelsPackage,
@@ -618,6 +630,18 @@ func (b *codeGenOpBuilder) MakeParameter(receiver string, resolver *typeResolver
 	if Debug {
 		log.Printf("[%s %s] making parameter %q", b.Method, b.Path, param.Name)
 	}
+
+	if param.Ref.String() != "" {
+		param2, err := spec.ResolveParameter(b.Doc.Spec(), param.Ref)
+		if err != nil {
+			return GenParameter{}, err
+		}
+		if param2 == nil {
+			return GenParameter{}, fmt.Errorf("could not resolve parameter ref: %s", param.Ref.String())
+		}
+		param = *param2
+	}
+
 	var child *GenItems
 	res := GenParameter{
 		Name:             param.Name,
diff --git a/generator/response_test.go b/generator/response_test.go
index 3121780e..7a2c0892 100644
--- a/generator/response_test.go
+++ b/generator/response_test.go
@@ -15,12 +15,33 @@
 package generator
 
 import (
+	"bytes"
+	"fmt"
 	"testing"
 
 	"github.com/go-swagger/go-swagger/spec"
 	"github.com/stretchr/testify/assert"
 )
 
+func TestSimpleResponseRender(t *testing.T) {
+	b, err := opBuilder("updateTask", "../fixtures/codegen/todolist.responses.yml")
+	if assert.NoError(t, err) {
+		op, err := b.MakeOperation()
+		if assert.NoError(t, err) {
+			var buf bytes.Buffer
+			if assert.NoError(t, responsesTemplate.Execute(&buf, op)) {
+				ff, err := formatGoFile("update_task_responses.go", buf.Bytes())
+				if assert.NoError(t, err) {
+					assertInCode(t, "o.XErrorCode", string(ff))
+					assertInCode(t, "o.Payload", string(ff))
+				} else {
+					fmt.Println(buf.String())
+				}
+			}
+		}
+	}
+}
+
 func TestSimpleResponses(t *testing.T) {
 	b, err := opBuilder("updateTask", "../fixtures/codegen/todolist.responses.yml")
 
diff --git a/spec/expander.go b/spec/expander.go
index 22412c64..300952c4 100644
--- a/spec/expander.go
+++ b/spec/expander.go
@@ -72,6 +72,34 @@ func ResolveRef(root interface{}, ref *Ref) (*Schema, error) {
 	return result, nil
 }
 
+// ResolveParameter resolves a paramter reference against a context root
+func ResolveParameter(root interface{}, ref Ref) (*Parameter, error) {
+	resolver, err := defaultSchemaLoader(root, nil, nil)
+	if err != nil {
+		return nil, err
+	}
+
+	result := new(Parameter)
+	if err := resolver.Resolve(&ref, result); err != nil {
+		return nil, err
+	}
+	return result, nil
+}
+
+// ResolveResponse resolves response a reference against a context root
+func ResolveResponse(root interface{}, ref Ref) (*Response, error) {
+	resolver, err := defaultSchemaLoader(root, nil, nil)
+	if err != nil {
+		return nil, err
+	}
+
+	result := new(Response)
+	if err := resolver.Resolve(&ref, result); err != nil {
+		return nil, err
+	}
+	return result, nil
+}
+
 type schemaLoader struct {
 	loadingRef  *Ref
 	startingRef *Ref
