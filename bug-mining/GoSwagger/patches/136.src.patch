diff --git a/cmd/swagger/commands/version_number.go b/cmd/swagger/commands/version_number.go
index bf6c2d04..daa4a32e 100644
--- a/cmd/swagger/commands/version_number.go
+++ b/cmd/swagger/commands/version_number.go
@@ -1,6 +1,6 @@
 package commands
 
 func init() {
-  Version = "0.4.0-2-g43e1ed6"
+  Version = "0.4.0-4-gff8b625"
 }
 
diff --git a/generator/bindata.go b/generator/bindata.go
index cb723251..17341771 100644
--- a/generator/bindata.go
+++ b/generator/bindata.go
@@ -430,7 +430,7 @@ func templatesServerMainGotmpl() (*asset, error) {
 		return nil, err
 	}
 
-	info := bindataFileInfo{name: "templates/server/main.gotmpl", size: 1981, mode: os.FileMode(420), modTime: time.Unix(1456155852, 0)}
+	info := bindataFileInfo{name: "templates/server/main.gotmpl", size: 1981, mode: os.FileMode(420), modTime: time.Unix(1456442166, 0)}
 	a := &asset{bytes: bytes, info: info}
 	return a, nil
 }
diff --git a/generator/shared.go b/generator/shared.go
index dc78f7a4..fd647ce0 100644
--- a/generator/shared.go
+++ b/generator/shared.go
@@ -157,7 +157,7 @@ func stripTestFromFileName(name string) string {
 func writeToFile(target, name string, content []byte) error {
 	ffn := stripTestFromFileName(name) + ".go"
 
-	res, err := formatGoFile(ffn, content)
+	res, err := formatGoFile(filepath.Join(target, ffn), content)
 	if err != nil {
 		log.Println(err)
 		return writeFile(target, ffn, content)
@@ -173,7 +173,7 @@ func writeToTestFile(target, name string, content []byte) error {
 	}
 	ffn += ".go"
 
-	res, err := formatGoFile(ffn, content)
+	res, err := formatGoFile(filepath.Join(target, ffn), content)
 	if err != nil {
 		log.Println(err)
 		return writeFile(target, ffn, content)
