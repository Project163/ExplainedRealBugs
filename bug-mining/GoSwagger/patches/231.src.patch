diff --git a/fixtures/bugs/1648/fixture-1648.yaml b/fixtures/bugs/1648/fixture-1648.yaml
new file mode 100644
index 00000000..38a0ba84
--- /dev/null
+++ b/fixtures/bugs/1648/fixture-1648.yaml
@@ -0,0 +1,56 @@
+swagger: '2.0'
+info:
+  title: fixture#1648
+  version: '1.0.0'
+host: localhost
+basePath: /
+produces:
+  - application/json
+schemes:
+  - http
+paths:
+  /optional:
+    get:
+      operationId: getOptional
+      parameters:
+      - name: notAnOption1
+        in: query
+        type: string
+        format: date-time
+        required: false
+      - name: notAnOption2
+        in: query
+        type: string
+        format: uuid
+        required: false
+      - name: notAnOption3
+        in: body
+        required: false
+        schema:
+          $ref: '#/definitions/ContainerConfig'
+      responses:
+        200:
+          description: simple type
+          schema:
+            type: string
+            format: date-time
+        201:
+          description: simple type
+          schema:
+            type: string
+            format: uuid
+        default:
+          description: schema type
+          schema:
+            $ref: '#/definitions/ContainerConfig'
+definitions:
+  ContainerConfig:
+    type: object
+    required: [config1]
+    properties:
+      config1:
+        #type: string
+        format: date-time
+      config2:
+        type: string
+        format: uuid
diff --git a/generator/server_test.go b/generator/server_test.go
index 79f637fa..5d30293e 100644
--- a/generator/server_test.go
+++ b/generator/server_test.go
@@ -400,3 +400,13 @@ func TestServer_Issue1557(t *testing.T) {
 		}
 	}
 }
+
+func TestServer_Issue1648(t *testing.T) {
+	log.SetOutput(ioutil.Discard)
+	defer log.SetOutput(os.Stdout)
+	gen, err := testAppGenerator(t, "../fixtures/bugs/1648/fixture-1648.yaml", "generate format with missing type in model")
+	if assert.NoError(t, err) {
+		_, err := gen.makeCodegenApp()
+		assert.NoError(t, err)
+	}
+}
diff --git a/generator/types.go b/generator/types.go
index f7d4a4b0..6857a388 100644
--- a/generator/types.go
+++ b/generator/types.go
@@ -259,11 +259,15 @@ func (t *typeResolver) inferAliasing(result *resolvedType, schema *spec.Schema,
 func (t *typeResolver) resolveFormat(schema *spec.Schema, isAnonymous bool, isRequired bool) (returns bool, result resolvedType, err error) {
 
 	if schema.Format != "" {
-		tn := schema.Type[0]
+		// defaults to string
+		result.SwaggerType = str
+		if len(schema.Type) > 0 {
+			result.SwaggerType = schema.Type[0]
+		}
 
 		debugLog("resolving format (anon: %t, req: %t)", isAnonymous, isRequired)
 		schFmt := strings.Replace(schema.Format, "-", "", -1)
-		if fmm, ok := formatMapping[tn]; ok {
+		if fmm, ok := formatMapping[result.SwaggerType]; ok {
 			if tpe, ok := fmm[schFmt]; ok {
 				returns = true
 				result.GoType = tpe
@@ -276,10 +280,6 @@ func (t *typeResolver) resolveFormat(schema *spec.Schema, isAnonymous bool, isRe
 			_, result.IsCustomFormatter = customFormatters[tpe]
 		}
 
-		result.SwaggerType = str
-		if len(schema.Type) > 0 {
-			result.SwaggerType = schema.Type[0]
-		}
 		result.SwaggerFormat = schema.Format
 		t.inferAliasing(&result, schema, isAnonymous, isRequired)
 		// special case of swagger format "binary", rendered as io.ReadCloser interface and is therefore not a primitive type
