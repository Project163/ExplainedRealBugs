{"url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/3591","repository_url":"https://api.github.com/repos/reduxjs/redux-toolkit","labels_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/3591/labels{/name}","comments_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/3591/comments","events_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/3591/events","html_url":"https://github.com/reduxjs/redux-toolkit/issues/3591","id":1799054542,"node_id":"I_kwDOB2ACAs5rO2TO","number":3591,"title":"[RTK v2.0] createApi (React) exceeds the maximum length the compiler will serialize","user":{"login":"eric-crowell","id":41806292,"node_id":"MDQ6VXNlcjQxODA2Mjky","avatar_url":"https://avatars.githubusercontent.com/u/41806292?v=4","gravatar_id":"","url":"https://api.github.com/users/eric-crowell","html_url":"https://github.com/eric-crowell","followers_url":"https://api.github.com/users/eric-crowell/followers","following_url":"https://api.github.com/users/eric-crowell/following{/other_user}","gists_url":"https://api.github.com/users/eric-crowell/gists{/gist_id}","starred_url":"https://api.github.com/users/eric-crowell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric-crowell/subscriptions","organizations_url":"https://api.github.com/users/eric-crowell/orgs","repos_url":"https://api.github.com/users/eric-crowell/repos","events_url":"https://api.github.com/users/eric-crowell/events{/privacy}","received_events_url":"https://api.github.com/users/eric-crowell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/reduxjs/redux-toolkit/milestones/8","html_url":"https://github.com/reduxjs/redux-toolkit/milestone/8","labels_url":"https://api.github.com/repos/reduxjs/redux-toolkit/milestones/8/labels","id":7357531,"node_id":"MI_kwDOB2ACAs4AcERb","number":8,"title":"2.0","description":null,"creator":{"login":"phryneas","id":4282439,"node_id":"MDQ6VXNlcjQyODI0Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/4282439?v=4","gravatar_id":"","url":"https://api.github.com/users/phryneas","html_url":"https://github.com/phryneas","followers_url":"https://api.github.com/users/phryneas/followers","following_url":"https://api.github.com/users/phryneas/following{/other_user}","gists_url":"https://api.github.com/users/phryneas/gists{/gist_id}","starred_url":"https://api.github.com/users/phryneas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phryneas/subscriptions","organizations_url":"https://api.github.com/users/phryneas/orgs","repos_url":"https://api.github.com/users/phryneas/repos","events_url":"https://api.github.com/users/phryneas/events{/privacy}","received_events_url":"https://api.github.com/users/phryneas/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":77,"state":"closed","created_at":"2021-11-12T13:38:31Z","updated_at":"2024-03-24T15:48:59Z","due_on":null,"closed_at":"2023-12-06T12:50:13Z"},"comments":3,"created_at":"2023-07-11T14:21:15Z","updated_at":"2023-08-26T20:43:02Z","closed_at":"2023-08-26T20:43:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Version: `2.0.0-beta.0`\r\nHello, I'm having an issue inferring types when using `createApi` from `@reduxjs/toolkit/query/react`.\r\n\r\nI get this issue with a very minimal setup.\r\n\r\n[Code Sandbox link](https://codesandbox.io/p/sandbox/rtk-type-portability-j99lyh?file=%2Fsrc%2Frtk%2FmyApiReact.ts%3A6%2C18)\r\n```typescript\r\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\n/**\r\n * `myApiReact` defaults to the `any` type producing the TypeScript error....\r\n * The inferred type of this node exceeds the maximum length the compiler will serialize. An explicit type annotation is needed.ts(7056)\r\n */ \r\nexport const myApiReact = createApi({\r\n  reducerPath: \"myApiReact\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: \"/\",\r\n  }),\r\n  endpoints: (builder) => ({\r\n    getData: builder.query<{}, string>({\r\n      query: (id) => `data/${id}`,\r\n    }),\r\n  }),\r\n});\r\n```\r\n\r\nI can't find the cause of it yet. Seems like there's some type recursion happening somewhere in `enhanceEndpoints` when the react module is used? Maybe someone has a better clue.","closed_by":{"login":"markerikson","id":1128784,"node_id":"MDQ6VXNlcjExMjg3ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1128784?v=4","gravatar_id":"","url":"https://api.github.com/users/markerikson","html_url":"https://github.com/markerikson","followers_url":"https://api.github.com/users/markerikson/followers","following_url":"https://api.github.com/users/markerikson/following{/other_user}","gists_url":"https://api.github.com/users/markerikson/gists{/gist_id}","starred_url":"https://api.github.com/users/markerikson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markerikson/subscriptions","organizations_url":"https://api.github.com/users/markerikson/orgs","repos_url":"https://api.github.com/users/markerikson/repos","events_url":"https://api.github.com/users/markerikson/events{/privacy}","received_events_url":"https://api.github.com/users/markerikson/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/3591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/3591/timeline","performed_via_github_app":null,"state_reason":"completed"}