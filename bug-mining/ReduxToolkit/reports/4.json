{"url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/131","repository_url":"https://api.github.com/repos/reduxjs/redux-toolkit","labels_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/131/labels{/name}","comments_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/131/comments","events_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/131/events","html_url":"https://github.com/reduxjs/redux-toolkit/issues/131","id":430492891,"node_id":"MDU6SXNzdWU0MzA0OTI4OTE=","number":131,"title":"Type errors with createSlice in TypeScript 3.4.1","user":{"login":"pat-son","id":8462638,"node_id":"MDQ6VXNlcjg0NjI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8462638?v=4","gravatar_id":"","url":"https://api.github.com/users/pat-son","html_url":"https://github.com/pat-son","followers_url":"https://api.github.com/users/pat-son/followers","following_url":"https://api.github.com/users/pat-son/following{/other_user}","gists_url":"https://api.github.com/users/pat-son/gists{/gist_id}","starred_url":"https://api.github.com/users/pat-son/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pat-son/subscriptions","organizations_url":"https://api.github.com/users/pat-son/orgs","repos_url":"https://api.github.com/users/pat-son/repos","events_url":"https://api.github.com/users/pat-son/events{/privacy}","received_events_url":"https://api.github.com/users/pat-son/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-04-08T14:45:36Z","updated_at":"2019-04-28T17:59:36Z","closed_at":"2019-04-28T17:59:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When the reducers in a `createSlice` have mixed payload action types, I get weird type errors as of TypeScript 3.4.1 (Maybe 3.4.0 as well, I didn't check).\r\n\r\n![image](https://user-images.githubusercontent.com/8462638/55733116-3ef5e600-59eb-11e9-8824-2f42ca3d3203.png)\r\n\r\nIt's like it's assuming that all `PayloadAction`s it sees should be the same type as the first one.\r\n\r\nCode for reproduction:\r\n\r\n```TypeScript\r\ninterface MyState {\r\n    name: string;\r\n    loading: boolean;\r\n    count: number;\r\n}\r\n\r\nconst INITIAL_STATE: MyState = {\r\n    name: '',\r\n    loading: true,\r\n    count: 0,\r\n}\r\n\r\nconst slice = createSlice({\r\n    slice: 'mySlice',\r\n    initialState: INITIAL_STATE,\r\n    reducers: {\r\n        setCount : (state, action: PayloadAction<number>) => { state.count = action.payload },\r\n        setName: (state, action: PayloadAction<string>) => { state.name = action.payload },\r\n        setLoaded: (state) => { state.loading = false; },\r\n    }\r\n})\r\n```","closed_by":{"login":"markerikson","id":1128784,"node_id":"MDQ6VXNlcjExMjg3ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1128784?v=4","gravatar_id":"","url":"https://api.github.com/users/markerikson","html_url":"https://github.com/markerikson","followers_url":"https://api.github.com/users/markerikson/followers","following_url":"https://api.github.com/users/markerikson/following{/other_user}","gists_url":"https://api.github.com/users/markerikson/gists{/gist_id}","starred_url":"https://api.github.com/users/markerikson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markerikson/subscriptions","organizations_url":"https://api.github.com/users/markerikson/orgs","repos_url":"https://api.github.com/users/markerikson/repos","events_url":"https://api.github.com/users/markerikson/events{/privacy}","received_events_url":"https://api.github.com/users/markerikson/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/131/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/reduxjs/redux-toolkit/issues/131/timeline","performed_via_github_app":null,"state_reason":"completed"}