{"url":"https://api.github.com/repos/vuejs/vue/issues/12625","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/12625/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/12625/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/12625/events","html_url":"https://github.com/vuejs/vue/issues/12625","id":1295889318,"node_id":"I_kwDOALL9ps5NPbOm","number":12625,"title":"[2.7.x] Functional components don't compile properly","user":{"login":"Tofandel","id":6115458,"node_id":"MDQ6VXNlcjYxMTU0NTg=","avatar_url":"https://avatars.githubusercontent.com/u/6115458?v=4","gravatar_id":"","url":"https://api.github.com/users/Tofandel","html_url":"https://github.com/Tofandel","followers_url":"https://api.github.com/users/Tofandel/followers","following_url":"https://api.github.com/users/Tofandel/following{/other_user}","gists_url":"https://api.github.com/users/Tofandel/gists{/gist_id}","starred_url":"https://api.github.com/users/Tofandel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tofandel/subscriptions","organizations_url":"https://api.github.com/users/Tofandel/orgs","repos_url":"https://api.github.com/users/Tofandel/repos","events_url":"https://api.github.com/users/Tofandel/events{/privacy}","received_events_url":"https://api.github.com/users/Tofandel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-07-06T14:01:13Z","updated_at":"2022-07-08T07:03:23Z","closed_at":"2022-07-08T07:03:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\r\n2.7.3\r\n\r\n### Reproduction link\r\n[github.com/Tofandel/vue-bug](https://github.com/Tofandel/vue-bug)\r\n\r\n(That issue cannot be reproduced on codesandbox)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nUse a functional component with both a static part and a dynamic part on vue 2.7.x\r\n\r\nYou can clone the reproduction, run `yarn install` and `yarn serve`\r\nThe page is not rendered, look at the error in the console\r\n\r\n### What is expected?\r\nNo error to be thrown\r\n\r\n### What is actually happening?\r\n[Vue warn]: Error in render: \"TypeError: _c is not a function\"\r\n\r\n\r\n---\r\nI recently upgraded from 2.6.14 to 2.7.3\r\n\r\nIn vue 2.6.14 \r\n\r\n```vue\r\n<template functional>\r\n  <div :class=\"classes\">\r\n    <p>{{str}}</p>\r\n    <span><a>Hi bug</a></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    classes: null,\r\n    str: String\r\n  }\r\n}\r\n</script>\r\n``` \r\nUsed to compile to:\r\n```js\r\nvar render = function (_h, _vm) {\r\n    var _c = _vm._c\r\n    return _c(\"div\", {class: _vm.classes}, [\r\n        _c(\"p\", [_vm._v(_vm._s(_vm.str))]),\r\n        _vm._m(0),\r\n    ])\r\n};\r\nvar staticRenderFns = [\r\n    function (_h, _vm) {\r\n        var _c = _vm._c\r\n        return _c(\"span\", [_c(\"a\", [_vm._v(\"Hi bug\")])])\r\n    }\r\n];\r\n```\r\n\r\nOn vue 2.7.3 it compiles to:\r\n```js\r\nvar render = function render(_c, _vm) {\r\n    return _c(\"div\", {\r\n        class: _vm.classes\r\n    }, [_c(\"p\", [_vm._v(_vm._s(_vm.str))]), _vm._m(0)]);\r\n};\r\nvar staticRenderFns = [function (_c, _vm) {\r\n    return _c(\"span\", [_c(\"a\", [_vm._v(\"Hi bug\")])]);\r\n}];\r\n```\r\n\r\nThe first parameter of [staticRenderFns is always `null` on both version](https://github.com/vuejs/vue/blob/main/src/core/instance/render-helpers/render-static.ts#L21), so it does seem obvious there is an issue in the compilation\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","closed_by":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/12625/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/12625/timeline","performed_via_github_app":null,"state_reason":"completed"}