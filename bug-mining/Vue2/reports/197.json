{"url":"https://api.github.com/repos/vuejs/vue/issues/5346","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/5346/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/5346/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/5346/events","html_url":"https://github.com/vuejs/vue/issues/5346","id":218567926,"node_id":"MDU6SXNzdWUyMTg1Njc5MjY=","number":5346,"title":"Keep-Alive inside of transition not working with include","user":{"login":"cynecx","id":5961244,"node_id":"MDQ6VXNlcjU5NjEyNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5961244?v=4","gravatar_id":"","url":"https://api.github.com/users/cynecx","html_url":"https://github.com/cynecx","followers_url":"https://api.github.com/users/cynecx/followers","following_url":"https://api.github.com/users/cynecx/following{/other_user}","gists_url":"https://api.github.com/users/cynecx/gists{/gist_id}","starred_url":"https://api.github.com/users/cynecx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cynecx/subscriptions","organizations_url":"https://api.github.com/users/cynecx/orgs","repos_url":"https://api.github.com/users/cynecx/repos","events_url":"https://api.github.com/users/cynecx/events{/privacy}","received_events_url":"https://api.github.com/users/cynecx/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":49750488,"node_id":"MDU6TGFiZWw0OTc1MDQ4OA==","url":"https://api.github.com/repos/vuejs/vue/labels/bug","name":"bug","color":"b60205","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-03-31T17:33:32Z","updated_at":"2017-04-03T07:32:32Z","closed_at":"2017-04-03T07:32:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\r\n2.2.6\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/50wL7mdz/24930/](https://jsfiddle.net/50wL7mdz/24930/)\r\n\r\n### Steps to reproduce\r\nClick the \"Switch view\" button.\r\n\r\n### What is expected?\r\nThe \"home\" view's state should have been kept alive when switching to the other signin view.\r\n\r\n### What is actually happening?\r\nInstead the \"home\" view is recreated everytime.\r\n\r\n---\r\nIf I remove the include=\"home\" option from keep-alive, it works as intended or if I remove the mode=\"out-in\" option from the transition node, it also works as intended.\r\nI've debugged this and it seems that when every time it switches the component, the \"include\" watch is somehow triggered with undefined as val parameter and then it's being triggered again with the correct \"home\" value but by then the first trigger has already removed the home node from the cache.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","closed_by":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/5346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/5346/timeline","performed_via_github_app":null,"state_reason":"completed"}