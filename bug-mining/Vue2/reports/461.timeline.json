[{"actor":{"login":"xiaxzp","id":16774502,"node_id":"MDQ6VXNlcjE2Nzc0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/16774502?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaxzp","html_url":"https://github.com/xiaxzp","followers_url":"https://api.github.com/users/xiaxzp/followers","following_url":"https://api.github.com/users/xiaxzp/following{/other_user}","gists_url":"https://api.github.com/users/xiaxzp/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaxzp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaxzp/subscriptions","organizations_url":"https://api.github.com/users/xiaxzp/orgs","repos_url":"https://api.github.com/users/xiaxzp/repos","events_url":"https://api.github.com/users/xiaxzp/events{/privacy}","received_events_url":"https://api.github.com/users/xiaxzp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-21T08:50:44Z","updated_at":"2022-09-21T08:50:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vuejs/vue/issues/12798","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/12798/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/12798/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/12798/events","html_url":"https://github.com/vuejs/vue/pull/12798","id":1380549033,"node_id":"PR_kwDOALL9ps4_VPkR","number":12798,"title":"fix: vue2.7 use readonly on frozen object causeing error","user":{"login":"xiaxzp","id":16774502,"node_id":"MDQ6VXNlcjE2Nzc0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/16774502?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaxzp","html_url":"https://github.com/xiaxzp","followers_url":"https://api.github.com/users/xiaxzp/followers","following_url":"https://api.github.com/users/xiaxzp/following{/other_user}","gists_url":"https://api.github.com/users/xiaxzp/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaxzp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaxzp/subscriptions","organizations_url":"https://api.github.com/users/xiaxzp/orgs","repos_url":"https://api.github.com/users/xiaxzp/repos","events_url":"https://api.github.com/users/xiaxzp/events{/privacy}","received_events_url":"https://api.github.com/users/xiaxzp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-09-21T08:36:10Z","updated_at":"2022-10-11T04:26:39Z","closed_at":"2022-10-11T04:26:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":11730342,"node_id":"MDEwOlJlcG9zaXRvcnkxMTczMDM0Mg==","name":"vue","full_name":"vuejs/vue","private":false,"owner":{"login":"vuejs","id":6128107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxMjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/6128107?v=4","gravatar_id":"","url":"https://api.github.com/users/vuejs","html_url":"https://github.com/vuejs","followers_url":"https://api.github.com/users/vuejs/followers","following_url":"https://api.github.com/users/vuejs/following{/other_user}","gists_url":"https://api.github.com/users/vuejs/gists{/gist_id}","starred_url":"https://api.github.com/users/vuejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vuejs/subscriptions","organizations_url":"https://api.github.com/users/vuejs/orgs","repos_url":"https://api.github.com/users/vuejs/repos","events_url":"https://api.github.com/users/vuejs/events{/privacy}","received_events_url":"https://api.github.com/users/vuejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vuejs/vue","description":"This is the repo for Vue 2. For Vue 3, go to https://github.com/vuejs/core","fork":false,"url":"https://api.github.com/repos/vuejs/vue","forks_url":"https://api.github.com/repos/vuejs/vue/forks","keys_url":"https://api.github.com/repos/vuejs/vue/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vuejs/vue/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vuejs/vue/teams","hooks_url":"https://api.github.com/repos/vuejs/vue/hooks","issue_events_url":"https://api.github.com/repos/vuejs/vue/issues/events{/number}","events_url":"https://api.github.com/repos/vuejs/vue/events","assignees_url":"https://api.github.com/repos/vuejs/vue/assignees{/user}","branches_url":"https://api.github.com/repos/vuejs/vue/branches{/branch}","tags_url":"https://api.github.com/repos/vuejs/vue/tags","blobs_url":"https://api.github.com/repos/vuejs/vue/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vuejs/vue/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vuejs/vue/git/refs{/sha}","trees_url":"https://api.github.com/repos/vuejs/vue/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vuejs/vue/statuses/{sha}","languages_url":"https://api.github.com/repos/vuejs/vue/languages","stargazers_url":"https://api.github.com/repos/vuejs/vue/stargazers","contributors_url":"https://api.github.com/repos/vuejs/vue/contributors","subscribers_url":"https://api.github.com/repos/vuejs/vue/subscribers","subscription_url":"https://api.github.com/repos/vuejs/vue/subscription","commits_url":"https://api.github.com/repos/vuejs/vue/commits{/sha}","git_commits_url":"https://api.github.com/repos/vuejs/vue/git/commits{/sha}","comments_url":"https://api.github.com/repos/vuejs/vue/comments{/number}","issue_comment_url":"https://api.github.com/repos/vuejs/vue/issues/comments{/number}","contents_url":"https://api.github.com/repos/vuejs/vue/contents/{+path}","compare_url":"https://api.github.com/repos/vuejs/vue/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vuejs/vue/merges","archive_url":"https://api.github.com/repos/vuejs/vue/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vuejs/vue/downloads","issues_url":"https://api.github.com/repos/vuejs/vue/issues{/number}","pulls_url":"https://api.github.com/repos/vuejs/vue/pulls{/number}","milestones_url":"https://api.github.com/repos/vuejs/vue/milestones{/number}","notifications_url":"https://api.github.com/repos/vuejs/vue/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vuejs/vue/labels{/name}","releases_url":"https://api.github.com/repos/vuejs/vue/releases{/id}","deployments_url":"https://api.github.com/repos/vuejs/vue/deployments","created_at":"2013-07-29T03:24:51Z","updated_at":"2025-11-09T17:23:38Z","pushed_at":"2024-10-10T07:24:15Z","git_url":"git://github.com/vuejs/vue.git","ssh_url":"git@github.com:vuejs/vue.git","clone_url":"https://github.com/vuejs/vue.git","svn_url":"https://github.com/vuejs/vue","homepage":"http://v2.vuejs.org","size":32152,"stargazers_count":209671,"watchers_count":209671,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33803,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":612,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","frontend","javascript","vue"],"visibility":"public","forks":33803,"open_issues":612,"watchers":209671,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/vuejs/vue/pulls/12798","html_url":"https://github.com/vuejs/vue/pull/12798","diff_url":"https://github.com/vuejs/vue/pull/12798.diff","patch_url":"https://github.com/vuejs/vue/pull/12798.patch","merged_at":null},"body":"**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nfix #12799 \r\n\r\nproblem:\r\n[Vue warn]: Error in setup: \"TypeError: Cannot define property __v_rawToReadonly, object is not extensible\" TypeError: Cannot define property __v_rawToReadonly, object is not extensible\r\n\r\ndemo:\r\nhttps://codesandbox.io/s/vue-2-7-v-rawtoreadonly-demo-10ix10?file=/src/App.vue\r\n\r\nreason:\r\nReadonly function sets new property on object recursively. This may cause this error when meeting frozen variables. Ofcourse this error can also happen when using readonly directly on frozen objects.\r\n\r\nsolvement:\r\nThis fix can simply solve the issue by checking the extensibility of target, and keep the temp proxy at the same time, but leaving existing proxy cache useless. The main reason is the \"isReadonly\" judgement, but it's difficult to change this basic feature, and the frozen target may still contain not frozen things? As this case may happen rarely, this fix is enough now and willing for future improvements.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/12798/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/12798/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/1253412416","html_url":"https://github.com/vuejs/vue/issues/12799#issuecomment-1253412416","issue_url":"https://api.github.com/repos/vuejs/vue/issues/12799","id":1253412416,"node_id":"IC_kwDOALL9ps5KtY5A","user":{"login":"xiaxzp","id":16774502,"node_id":"MDQ6VXNlcjE2Nzc0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/16774502?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaxzp","html_url":"https://github.com/xiaxzp","followers_url":"https://api.github.com/users/xiaxzp/followers","following_url":"https://api.github.com/users/xiaxzp/following{/other_user}","gists_url":"https://api.github.com/users/xiaxzp/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaxzp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaxzp/subscriptions","organizations_url":"https://api.github.com/users/xiaxzp/orgs","repos_url":"https://api.github.com/users/xiaxzp/repos","events_url":"https://api.github.com/users/xiaxzp/events{/privacy}","received_events_url":"https://api.github.com/users/xiaxzp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-21T09:01:15Z","updated_at":"2022-09-21T09:01:15Z","body":"### background\r\nMy team have an inner lib using class & static for enums. When we upgrade fron 2.6 to 2.7, and delete composition api, this bug comes out. I finally find out that we use the Object.freeze in the enums lib, and this causes error with another lib, which is using readonly on it.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/1253412416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiaxzp","id":16774502,"node_id":"MDQ6VXNlcjE2Nzc0NTAy","avatar_url":"https://avatars.githubusercontent.com/u/16774502?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaxzp","html_url":"https://github.com/xiaxzp","followers_url":"https://api.github.com/users/xiaxzp/followers","following_url":"https://api.github.com/users/xiaxzp/following{/other_user}","gists_url":"https://api.github.com/users/xiaxzp/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaxzp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaxzp/subscriptions","organizations_url":"https://api.github.com/users/xiaxzp/orgs","repos_url":"https://api.github.com/users/xiaxzp/repos","events_url":"https://api.github.com/users/xiaxzp/events{/privacy}","received_events_url":"https://api.github.com/users/xiaxzp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7558706870,"node_id":"CE_lADOALL9ps5SSaKTzwAAAAHCiLa2","url":"https://api.github.com/repos/vuejs/vue/issues/events/7558706870","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"4a0d88e46e4180edc7f22e36c25df3f8ac5d60d2","commit_url":"https://api.github.com/repos/vuejs/vue/commits/4a0d88e46e4180edc7f22e36c25df3f8ac5d60d2","created_at":"2022-10-11T04:26:39Z","state_reason":null,"performed_via_github_app":null},{"id":11965301154,"node_id":"REFE_lADOALL9ps5SSaKTzwAAAALJMAGi","url":"https://api.github.com/repos/vuejs/vue/issues/events/11965301154","actor":{"login":"li95426","id":43232288,"node_id":"MDQ6VXNlcjQzMjMyMjg4","avatar_url":"https://avatars.githubusercontent.com/u/43232288?v=4","gravatar_id":"","url":"https://api.github.com/users/li95426","html_url":"https://github.com/li95426","followers_url":"https://api.github.com/users/li95426/followers","following_url":"https://api.github.com/users/li95426/following{/other_user}","gists_url":"https://api.github.com/users/li95426/gists{/gist_id}","starred_url":"https://api.github.com/users/li95426/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li95426/subscriptions","organizations_url":"https://api.github.com/users/li95426/orgs","repos_url":"https://api.github.com/users/li95426/repos","events_url":"https://api.github.com/users/li95426/events{/privacy}","received_events_url":"https://api.github.com/users/li95426/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4a0d88e46e4180edc7f22e36c25df3f8ac5d60d2","commit_url":"https://api.github.com/repos/li95426/vue/commits/4a0d88e46e4180edc7f22e36c25df3f8ac5d60d2","created_at":"2024-02-29T12:28:44Z","performed_via_github_app":null}]