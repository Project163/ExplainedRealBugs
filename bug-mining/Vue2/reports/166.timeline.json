[{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/277875752","html_url":"https://github.com/vuejs/vue/issues/4872#issuecomment-277875752","issue_url":"https://api.github.com/repos/vuejs/vue/issues/4872","id":277875752,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzg3NTc1Mg==","user":{"login":"HerringtonDarkholme","id":2883231,"node_id":"MDQ6VXNlcjI4ODMyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/2883231?v=4","gravatar_id":"","url":"https://api.github.com/users/HerringtonDarkholme","html_url":"https://github.com/HerringtonDarkholme","followers_url":"https://api.github.com/users/HerringtonDarkholme/followers","following_url":"https://api.github.com/users/HerringtonDarkholme/following{/other_user}","gists_url":"https://api.github.com/users/HerringtonDarkholme/gists{/gist_id}","starred_url":"https://api.github.com/users/HerringtonDarkholme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerringtonDarkholme/subscriptions","organizations_url":"https://api.github.com/users/HerringtonDarkholme/orgs","repos_url":"https://api.github.com/users/HerringtonDarkholme/repos","events_url":"https://api.github.com/users/HerringtonDarkholme/events{/privacy}","received_events_url":"https://api.github.com/users/HerringtonDarkholme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-07T01:48:00Z","updated_at":"2017-02-07T02:28:31Z","body":"I cannot reproduce it in jsfiddle. https://jsfiddle.net/ko6pwtLu/\r\n\r\nIs this ssr only issue?\r\n\r\nEdit: Reproducible on server. Seems a ssr only issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/277875752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HerringtonDarkholme","id":2883231,"node_id":"MDQ6VXNlcjI4ODMyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/2883231?v=4","gravatar_id":"","url":"https://api.github.com/users/HerringtonDarkholme","html_url":"https://github.com/HerringtonDarkholme","followers_url":"https://api.github.com/users/HerringtonDarkholme/followers","following_url":"https://api.github.com/users/HerringtonDarkholme/following{/other_user}","gists_url":"https://api.github.com/users/HerringtonDarkholme/gists{/gist_id}","starred_url":"https://api.github.com/users/HerringtonDarkholme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerringtonDarkholme/subscriptions","organizations_url":"https://api.github.com/users/HerringtonDarkholme/orgs","repos_url":"https://api.github.com/users/HerringtonDarkholme/repos","events_url":"https://api.github.com/users/HerringtonDarkholme/events{/privacy}","received_events_url":"https://api.github.com/users/HerringtonDarkholme/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"shentao","id":3737591,"node_id":"MDQ6VXNlcjM3Mzc1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/3737591?v=4","gravatar_id":"","url":"https://api.github.com/users/shentao","html_url":"https://github.com/shentao","followers_url":"https://api.github.com/users/shentao/followers","following_url":"https://api.github.com/users/shentao/following{/other_user}","gists_url":"https://api.github.com/users/shentao/gists{/gist_id}","starred_url":"https://api.github.com/users/shentao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shentao/subscriptions","organizations_url":"https://api.github.com/users/shentao/orgs","repos_url":"https://api.github.com/users/shentao/repos","events_url":"https://api.github.com/users/shentao/events{/privacy}","received_events_url":"https://api.github.com/users/shentao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-07T09:07:40Z","updated_at":"2017-02-07T09:07:40Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/shentao/vue-multiselect/issues/228","repository_url":"https://api.github.com/repos/shentao/vue-multiselect","labels_url":"https://api.github.com/repos/shentao/vue-multiselect/issues/228/labels{/name}","comments_url":"https://api.github.com/repos/shentao/vue-multiselect/issues/228/comments","events_url":"https://api.github.com/repos/shentao/vue-multiselect/issues/228/events","html_url":"https://github.com/shentao/vue-multiselect/issues/228","id":203257473,"node_id":"MDU6SXNzdWUyMDMyNTc0NzM=","number":228,"title":"search-change event does not emit when input cleared","user":{"login":"petecoop","id":1655361,"node_id":"MDQ6VXNlcjE2NTUzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/1655361?v=4","gravatar_id":"","url":"https://api.github.com/users/petecoop","html_url":"https://github.com/petecoop","followers_url":"https://api.github.com/users/petecoop/followers","following_url":"https://api.github.com/users/petecoop/following{/other_user}","gists_url":"https://api.github.com/users/petecoop/gists{/gist_id}","starred_url":"https://api.github.com/users/petecoop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/petecoop/subscriptions","organizations_url":"https://api.github.com/users/petecoop/orgs","repos_url":"https://api.github.com/users/petecoop/repos","events_url":"https://api.github.com/users/petecoop/events{/privacy}","received_events_url":"https://api.github.com/users/petecoop/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":362946234,"node_id":"MDU6TGFiZWwzNjI5NDYyMzQ=","url":"https://api.github.com/repos/shentao/vue-multiselect/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2017-01-25T23:52:06Z","updated_at":"2022-03-15T13:21:23Z","closed_at":"2017-02-25T14:05:45Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":56919458,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkxOTQ1OA==","name":"vue-multiselect","full_name":"shentao/vue-multiselect","private":false,"owner":{"login":"shentao","id":3737591,"node_id":"MDQ6VXNlcjM3Mzc1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/3737591?v=4","gravatar_id":"","url":"https://api.github.com/users/shentao","html_url":"https://github.com/shentao","followers_url":"https://api.github.com/users/shentao/followers","following_url":"https://api.github.com/users/shentao/following{/other_user}","gists_url":"https://api.github.com/users/shentao/gists{/gist_id}","starred_url":"https://api.github.com/users/shentao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shentao/subscriptions","organizations_url":"https://api.github.com/users/shentao/orgs","repos_url":"https://api.github.com/users/shentao/repos","events_url":"https://api.github.com/users/shentao/events{/privacy}","received_events_url":"https://api.github.com/users/shentao/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/shentao/vue-multiselect","description":"Universal select/multiselect/tagging component for Vue.js","fork":false,"url":"https://api.github.com/repos/shentao/vue-multiselect","forks_url":"https://api.github.com/repos/shentao/vue-multiselect/forks","keys_url":"https://api.github.com/repos/shentao/vue-multiselect/keys{/key_id}","collaborators_url":"https://api.github.com/repos/shentao/vue-multiselect/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/shentao/vue-multiselect/teams","hooks_url":"https://api.github.com/repos/shentao/vue-multiselect/hooks","issue_events_url":"https://api.github.com/repos/shentao/vue-multiselect/issues/events{/number}","events_url":"https://api.github.com/repos/shentao/vue-multiselect/events","assignees_url":"https://api.github.com/repos/shentao/vue-multiselect/assignees{/user}","branches_url":"https://api.github.com/repos/shentao/vue-multiselect/branches{/branch}","tags_url":"https://api.github.com/repos/shentao/vue-multiselect/tags","blobs_url":"https://api.github.com/repos/shentao/vue-multiselect/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/shentao/vue-multiselect/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/shentao/vue-multiselect/git/refs{/sha}","trees_url":"https://api.github.com/repos/shentao/vue-multiselect/git/trees{/sha}","statuses_url":"https://api.github.com/repos/shentao/vue-multiselect/statuses/{sha}","languages_url":"https://api.github.com/repos/shentao/vue-multiselect/languages","stargazers_url":"https://api.github.com/repos/shentao/vue-multiselect/stargazers","contributors_url":"https://api.github.com/repos/shentao/vue-multiselect/contributors","subscribers_url":"https://api.github.com/repos/shentao/vue-multiselect/subscribers","subscription_url":"https://api.github.com/repos/shentao/vue-multiselect/subscription","commits_url":"https://api.github.com/repos/shentao/vue-multiselect/commits{/sha}","git_commits_url":"https://api.github.com/repos/shentao/vue-multiselect/git/commits{/sha}","comments_url":"https://api.github.com/repos/shentao/vue-multiselect/comments{/number}","issue_comment_url":"https://api.github.com/repos/shentao/vue-multiselect/issues/comments{/number}","contents_url":"https://api.github.com/repos/shentao/vue-multiselect/contents/{+path}","compare_url":"https://api.github.com/repos/shentao/vue-multiselect/compare/{base}...{head}","merges_url":"https://api.github.com/repos/shentao/vue-multiselect/merges","archive_url":"https://api.github.com/repos/shentao/vue-multiselect/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/shentao/vue-multiselect/downloads","issues_url":"https://api.github.com/repos/shentao/vue-multiselect/issues{/number}","pulls_url":"https://api.github.com/repos/shentao/vue-multiselect/pulls{/number}","milestones_url":"https://api.github.com/repos/shentao/vue-multiselect/milestones{/number}","notifications_url":"https://api.github.com/repos/shentao/vue-multiselect/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/shentao/vue-multiselect/labels{/name}","releases_url":"https://api.github.com/repos/shentao/vue-multiselect/releases{/id}","deployments_url":"https://api.github.com/repos/shentao/vue-multiselect/deployments","created_at":"2016-04-23T13:02:33Z","updated_at":"2025-11-04T19:03:06Z","pushed_at":"2025-10-06T16:14:50Z","git_url":"git://github.com/shentao/vue-multiselect.git","ssh_url":"git@github.com:shentao/vue-multiselect.git","clone_url":"https://github.com/shentao/vue-multiselect.git","svn_url":"https://github.com/shentao/vue-multiselect","homepage":"https://vue-multiselect.js.org/","size":17598,"stargazers_count":6789,"watchers_count":6789,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1000,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":297,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["component","dropdown","javascript","select","vue"],"visibility":"public","forks":1000,"open_issues":297,"watchers":6789,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hey I'm using `2.0.0-beta.13`, with Asynchronous select. An issue I've come to is the `search-change` event is not fired when the input is cleared, ideally it'd send a null or empty string so I can reset my search","reactions":{"url":"https://api.github.com/repos/shentao/vue-multiselect/issues/228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/shentao/vue-multiselect/issues/228/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":952208021,"node_id":"MDEyOkxhYmVsZWRFdmVudDk1MjIwODAyMQ==","url":"https://api.github.com/repos/vuejs/vue/issues/events/952208021","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-02-07T15:05:19Z","label":{"name":"2.x","color":"c2e0c6"},"performed_via_github_app":null},{"id":952208023,"node_id":"MDEyOkxhYmVsZWRFdmVudDk1MjIwODAyMw==","url":"https://api.github.com/repos/vuejs/vue/issues/events/952208023","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-02-07T15:05:19Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/278246328","html_url":"https://github.com/vuejs/vue/issues/4872#issuecomment-278246328","issue_url":"https://api.github.com/repos/vuejs/vue/issues/4872","id":278246328,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODI0NjMyOA==","user":{"login":"HerringtonDarkholme","id":2883231,"node_id":"MDQ6VXNlcjI4ODMyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/2883231?v=4","gravatar_id":"","url":"https://api.github.com/users/HerringtonDarkholme","html_url":"https://github.com/HerringtonDarkholme","followers_url":"https://api.github.com/users/HerringtonDarkholme/followers","following_url":"https://api.github.com/users/HerringtonDarkholme/following{/other_user}","gists_url":"https://api.github.com/users/HerringtonDarkholme/gists{/gist_id}","starred_url":"https://api.github.com/users/HerringtonDarkholme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerringtonDarkholme/subscriptions","organizations_url":"https://api.github.com/users/HerringtonDarkholme/orgs","repos_url":"https://api.github.com/users/HerringtonDarkholme/repos","events_url":"https://api.github.com/users/HerringtonDarkholme/events{/privacy}","received_events_url":"https://api.github.com/users/HerringtonDarkholme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-08T07:05:48Z","updated_at":"2017-02-08T09:17:57Z","body":"Ah, the problem is how we render server bundle. Vue-SSR will render bundle in a new context, so two `Function` constant is different. \r\n\r\nUpdate: `Function` identity is exactly the problem. I have not come up with a good approach to determine whether an object is Function constructor. The solution must be context independent and parsimoniously performant since `getPropDefaultValue` may be called in component instantiation.\r\n\r\nWe may pack Vue into the server bundle so that `Function` in user code and library code refers to the same object. But it might bring significant overhead to SSR because `vm.runInContext` will compile script every time. (I don't have enough knowledge in nodejs internal, correct me if anything wrong).\r\n\r\nOther library code may also encounter such problem in SSR. Components, if they are not bundled into server entry, cannot compare any builtin object to user provided value.\r\n\r\n@yyx990803 what's your opinion?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/278246328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HerringtonDarkholme","id":2883231,"node_id":"MDQ6VXNlcjI4ODMyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/2883231?v=4","gravatar_id":"","url":"https://api.github.com/users/HerringtonDarkholme","html_url":"https://github.com/HerringtonDarkholme","followers_url":"https://api.github.com/users/HerringtonDarkholme/followers","following_url":"https://api.github.com/users/HerringtonDarkholme/following{/other_user}","gists_url":"https://api.github.com/users/HerringtonDarkholme/gists{/gist_id}","starred_url":"https://api.github.com/users/HerringtonDarkholme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerringtonDarkholme/subscriptions","organizations_url":"https://api.github.com/users/HerringtonDarkholme/orgs","repos_url":"https://api.github.com/users/HerringtonDarkholme/repos","events_url":"https://api.github.com/users/HerringtonDarkholme/events{/privacy}","received_events_url":"https://api.github.com/users/HerringtonDarkholme/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":953491675,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50OTUzNDkxNjc1","url":"https://api.github.com/repos/vuejs/vue/issues/events/953491675","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-02-08T09:17:57Z","performed_via_github_app":null},{"id":953491677,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDk1MzQ5MTY3Nw==","url":"https://api.github.com/repos/vuejs/vue/issues/events/953491677","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-02-08T09:17:57Z","performed_via_github_app":null},{"actor":{"login":"HerringtonDarkholme","id":2883231,"node_id":"MDQ6VXNlcjI4ODMyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/2883231?v=4","gravatar_id":"","url":"https://api.github.com/users/HerringtonDarkholme","html_url":"https://github.com/HerringtonDarkholme","followers_url":"https://api.github.com/users/HerringtonDarkholme/followers","following_url":"https://api.github.com/users/HerringtonDarkholme/following{/other_user}","gists_url":"https://api.github.com/users/HerringtonDarkholme/gists{/gist_id}","starred_url":"https://api.github.com/users/HerringtonDarkholme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerringtonDarkholme/subscriptions","organizations_url":"https://api.github.com/users/HerringtonDarkholme/orgs","repos_url":"https://api.github.com/users/HerringtonDarkholme/repos","events_url":"https://api.github.com/users/HerringtonDarkholme/events{/privacy}","received_events_url":"https://api.github.com/users/HerringtonDarkholme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-09T10:19:23Z","updated_at":"2017-02-09T10:19:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vuejs/vue/issues/4892","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/4892/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/4892/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/4892/events","html_url":"https://github.com/vuejs/vue/pull/4892","id":206460904,"node_id":"MDExOlB1bGxSZXF1ZXN0MTA1Mzk2OTY2","number":4892,"title":"use vm.Script to avoid reparse","user":{"login":"HerringtonDarkholme","id":2883231,"node_id":"MDQ6VXNlcjI4ODMyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/2883231?v=4","gravatar_id":"","url":"https://api.github.com/users/HerringtonDarkholme","html_url":"https://github.com/HerringtonDarkholme","followers_url":"https://api.github.com/users/HerringtonDarkholme/followers","following_url":"https://api.github.com/users/HerringtonDarkholme/following{/other_user}","gists_url":"https://api.github.com/users/HerringtonDarkholme/gists{/gist_id}","starred_url":"https://api.github.com/users/HerringtonDarkholme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerringtonDarkholme/subscriptions","organizations_url":"https://api.github.com/users/HerringtonDarkholme/orgs","repos_url":"https://api.github.com/users/HerringtonDarkholme/repos","events_url":"https://api.github.com/users/HerringtonDarkholme/events{/privacy}","received_events_url":"https://api.github.com/users/HerringtonDarkholme/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-02-09T10:19:23Z","updated_at":"2017-02-13T18:31:26Z","closed_at":"2017-02-13T18:31:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":11730342,"node_id":"MDEwOlJlcG9zaXRvcnkxMTczMDM0Mg==","name":"vue","full_name":"vuejs/vue","private":false,"owner":{"login":"vuejs","id":6128107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxMjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/6128107?v=4","gravatar_id":"","url":"https://api.github.com/users/vuejs","html_url":"https://github.com/vuejs","followers_url":"https://api.github.com/users/vuejs/followers","following_url":"https://api.github.com/users/vuejs/following{/other_user}","gists_url":"https://api.github.com/users/vuejs/gists{/gist_id}","starred_url":"https://api.github.com/users/vuejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vuejs/subscriptions","organizations_url":"https://api.github.com/users/vuejs/orgs","repos_url":"https://api.github.com/users/vuejs/repos","events_url":"https://api.github.com/users/vuejs/events{/privacy}","received_events_url":"https://api.github.com/users/vuejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vuejs/vue","description":"This is the repo for Vue 2. For Vue 3, go to https://github.com/vuejs/core","fork":false,"url":"https://api.github.com/repos/vuejs/vue","forks_url":"https://api.github.com/repos/vuejs/vue/forks","keys_url":"https://api.github.com/repos/vuejs/vue/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vuejs/vue/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vuejs/vue/teams","hooks_url":"https://api.github.com/repos/vuejs/vue/hooks","issue_events_url":"https://api.github.com/repos/vuejs/vue/issues/events{/number}","events_url":"https://api.github.com/repos/vuejs/vue/events","assignees_url":"https://api.github.com/repos/vuejs/vue/assignees{/user}","branches_url":"https://api.github.com/repos/vuejs/vue/branches{/branch}","tags_url":"https://api.github.com/repos/vuejs/vue/tags","blobs_url":"https://api.github.com/repos/vuejs/vue/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vuejs/vue/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vuejs/vue/git/refs{/sha}","trees_url":"https://api.github.com/repos/vuejs/vue/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vuejs/vue/statuses/{sha}","languages_url":"https://api.github.com/repos/vuejs/vue/languages","stargazers_url":"https://api.github.com/repos/vuejs/vue/stargazers","contributors_url":"https://api.github.com/repos/vuejs/vue/contributors","subscribers_url":"https://api.github.com/repos/vuejs/vue/subscribers","subscription_url":"https://api.github.com/repos/vuejs/vue/subscription","commits_url":"https://api.github.com/repos/vuejs/vue/commits{/sha}","git_commits_url":"https://api.github.com/repos/vuejs/vue/git/commits{/sha}","comments_url":"https://api.github.com/repos/vuejs/vue/comments{/number}","issue_comment_url":"https://api.github.com/repos/vuejs/vue/issues/comments{/number}","contents_url":"https://api.github.com/repos/vuejs/vue/contents/{+path}","compare_url":"https://api.github.com/repos/vuejs/vue/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vuejs/vue/merges","archive_url":"https://api.github.com/repos/vuejs/vue/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vuejs/vue/downloads","issues_url":"https://api.github.com/repos/vuejs/vue/issues{/number}","pulls_url":"https://api.github.com/repos/vuejs/vue/pulls{/number}","milestones_url":"https://api.github.com/repos/vuejs/vue/milestones{/number}","notifications_url":"https://api.github.com/repos/vuejs/vue/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vuejs/vue/labels{/name}","releases_url":"https://api.github.com/repos/vuejs/vue/releases{/id}","deployments_url":"https://api.github.com/repos/vuejs/vue/deployments","created_at":"2013-07-29T03:24:51Z","updated_at":"2025-11-09T17:23:38Z","pushed_at":"2024-10-10T07:24:15Z","git_url":"git://github.com/vuejs/vue.git","ssh_url":"git@github.com:vuejs/vue.git","clone_url":"https://github.com/vuejs/vue.git","svn_url":"https://github.com/vuejs/vue","homepage":"http://v2.vuejs.org","size":32152,"stargazers_count":209671,"watchers_count":209671,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33803,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":612,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","frontend","javascript","vue"],"visibility":"public","forks":33803,"open_issues":612,"watchers":209671,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/vuejs/vue/pulls/4892","html_url":"https://github.com/vuejs/vue/pull/4892","diff_url":"https://github.com/vuejs/vue/pull/4892.diff","patch_url":"https://github.com/vuejs/vue/pull/4892.patch","merged_at":"2017-02-13T18:31:26Z"},"body":"DISCLAIMER: I don't have enough knowledge in nodejs nor V8. I read most cpp/internal js  is by guessing and cramming on cppreference.com :/  I welcome any correction!\r\n\r\nThis pr tries to alleviate the problem in https://github.com/vuejs/vue/issues/4872. When users include third party library into server bundle, the parsing overhead can be smaller.\r\n\r\nIf user provided global variable is compared with another global variable in library code, they will never be equal because they are executed in different context.\r\n\r\nTo fix this generally, we have to run library code and user code in the same context. This means we need to parse a lot of code in one request. \r\n\r\nWe can skip parsing by creating a `Script` object, and `runInNewContext` is [effectively a shortcut](https://github.com/nodejs/node/blob/5de3cf099cd01c84d1809dab90c041b76aa58d8e/lib/vm.js#L62-L65). Thus it is safe to reuse the `Script` object.\r\n\r\nReusing `Script` should save several C++ call and reduce garbage collection pressure since the underlying C++ object has a [`Persistent`](https://github.com/nodejs/node/blob/5de3cf099cd01c84d1809dab90c041b76aa58d8e/src/node_contextify.cc#L461) which will not be collected until [out of memory](https://github.com/nodejs/node-v0.x-archive/issues/5080) (it is cargo cult to me, though).\r\n\r\nHowever, I **cannot see a performance improvement** in a simple benchmark,  regardless of whether bundling library code into server entry. (I use vue-hackernews as example, tested under `ab -n 1000 -c 100`).\r\nIt seems v8 will [cache compiled code](https://github.com/v8/v8/blob/30224360c10ddd065f46eb81fffa69b88e5378d2/src/compiler.cc#L1571-L1573). So parsing overhead is relatively ignorable in real world.\r\n\r\nBut reusing object is still a good practice, so I submitted this pull request for symbolic value.","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/4892/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/4892/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":960797104,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDk2MDc5NzEwNA==","url":"https://api.github.com/repos/vuejs/vue/issues/events/960797104","actor":{"login":"HerringtonDarkholme","id":2883231,"node_id":"MDQ6VXNlcjI4ODMyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/2883231?v=4","gravatar_id":"","url":"https://api.github.com/users/HerringtonDarkholme","html_url":"https://github.com/HerringtonDarkholme","followers_url":"https://api.github.com/users/HerringtonDarkholme/followers","following_url":"https://api.github.com/users/HerringtonDarkholme/following{/other_user}","gists_url":"https://api.github.com/users/HerringtonDarkholme/gists{/gist_id}","starred_url":"https://api.github.com/users/HerringtonDarkholme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerringtonDarkholme/subscriptions","organizations_url":"https://api.github.com/users/HerringtonDarkholme/orgs","repos_url":"https://api.github.com/users/HerringtonDarkholme/repos","events_url":"https://api.github.com/users/HerringtonDarkholme/events{/privacy}","received_events_url":"https://api.github.com/users/HerringtonDarkholme/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"84d0d7cd11b0e5fe0686a979d09210f2a233230b","commit_url":"https://api.github.com/repos/HerringtonDarkholme/vue/commits/84d0d7cd11b0e5fe0686a979d09210f2a233230b","created_at":"2017-02-14T05:01:03Z","performed_via_github_app":null},{"id":961876962,"node_id":"MDExOkNsb3NlZEV2ZW50OTYxODc2OTYy","url":"https://api.github.com/repos/vuejs/vue/issues/events/961876962","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"01151ce3fa3cb346443d086332ec053c389ee619","commit_url":"https://api.github.com/repos/vuejs/vue/commits/01151ce3fa3cb346443d086332ec053c389ee619","created_at":"2017-02-14T18:40:59Z","state_reason":null,"performed_via_github_app":null}]