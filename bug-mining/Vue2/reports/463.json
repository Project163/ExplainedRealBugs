{"url":"https://api.github.com/repos/vuejs/vue/issues/12758","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/12758/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/12758/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/12758/events","html_url":"https://github.com/vuejs/vue/issues/12758","id":1349060536,"node_id":"I_kwDOALL9ps5QaQe4","number":12758,"title":"[2.7.x] Here is a type error when using ref() on attribute 'ref' in TSX","user":{"login":"shiluo34","id":21286829,"node_id":"MDQ6VXNlcjIxMjg2ODI5","avatar_url":"https://avatars.githubusercontent.com/u/21286829?v=4","gravatar_id":"","url":"https://api.github.com/users/shiluo34","html_url":"https://github.com/shiluo34","followers_url":"https://api.github.com/users/shiluo34/followers","following_url":"https://api.github.com/users/shiluo34/following{/other_user}","gists_url":"https://api.github.com/users/shiluo34/gists{/gist_id}","starred_url":"https://api.github.com/users/shiluo34/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiluo34/subscriptions","organizations_url":"https://api.github.com/users/shiluo34/orgs","repos_url":"https://api.github.com/users/shiluo34/repos","events_url":"https://api.github.com/users/shiluo34/events{/privacy}","received_events_url":"https://api.github.com/users/shiluo34/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-08-24T08:24:13Z","updated_at":"2022-10-11T05:36:55Z","closed_at":"2022-10-11T05:36:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\r\n2.7.10\r\n\r\n### Reproduction link\r\n[codesandbox.io](https://codesandbox.io/s/infallible-cloud-wnish2?file=/src/App.tsx)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nUsing type 'Ref' on ref will notice the error :  `jsx.d.ts(1305, 3): The expected type comes from property 'ref' which is declared here on type 'ElementAttrs<HTMLAttributes>'`. \r\n\r\n![image](https://user-images.githubusercontent.com/21286829/186367241-d1e80834-d06a-46a2-a11c-281b7e771dc6.png)\r\n\r\n\r\nIn the `vue/types/jsx.d.ts`, the type ReservedProps only support type'String' in Vue2.7.xï¼Œbut supporting type 'String'/'Ref'/'Function' in Vue3.x\r\n\r\n- Vue3 - jsx.d.ts\r\n![image](https://user-images.githubusercontent.com/21286829/186367321-fe36171f-3f03-4104-b4cb-5a8c57e9a9d1.png \"Vue3\")\r\n\r\n- Vue2.7.x -jsx.d.ts\r\n![image](https://user-images.githubusercontent.com/21286829/186367413-e0e03b89-57c9-4fc0-836d-c512001c7bf7.png \"Vue2\")\r\n\r\n\r\n\r\n### What is expected?\r\nUsing type 'Ref' on the property 'ref'.\r\n\r\n### What is actually happening?\r\nThe type 'ref' only support 'String | undefined'.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","closed_by":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/12758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/12758/timeline","performed_via_github_app":null,"state_reason":"completed"}