{"url":"https://api.github.com/repos/vuejs/vue/issues/12705","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/12705/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/12705/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/12705/events","html_url":"https://github.com/vuejs/vue/issues/12705","id":1319713067,"node_id":"I_kwDOALL9ps5OqTkr","number":12705,"title":"Computed properties on an instance can get tied to the active scope VM rather than the instance itself","user":{"login":"chearon","id":78187,"node_id":"MDQ6VXNlcjc4MTg3","avatar_url":"https://avatars.githubusercontent.com/u/78187?v=4","gravatar_id":"","url":"https://api.github.com/users/chearon","html_url":"https://github.com/chearon","followers_url":"https://api.github.com/users/chearon/followers","following_url":"https://api.github.com/users/chearon/following{/other_user}","gists_url":"https://api.github.com/users/chearon/gists{/gist_id}","starred_url":"https://api.github.com/users/chearon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chearon/subscriptions","organizations_url":"https://api.github.com/users/chearon/orgs","repos_url":"https://api.github.com/users/chearon/repos","events_url":"https://api.github.com/users/chearon/events{/privacy}","received_events_url":"https://api.github.com/users/chearon/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-07-27T15:13:33Z","updated_at":"2022-08-18T10:15:49Z","closed_at":"2022-08-18T10:15:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\r\n2.7.8\r\n\r\n### Reproduction link\r\n[jsfiddle.net/p0Leh19d/](https://jsfiddle.net/p0Leh19d/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. In the fiddle, hit the \"increase X\" button to see the watcher working.\r\n2. Click \"Use new instance of component\"\r\n3. Hit \"increase X\"\r\n4. The computed doesn't update\r\n\r\nIf you change the URL to Vue 2.6, the example does work.\r\n\r\nIn Vue 2.7.x, computed properties can get destroyed and stop working if their instance is created inside of another component's `created`, but the instance is also used again by another component later.\r\n\r\n### What is expected?\r\nComputed properties should only be torn down by their own instance\r\n\r\n### What is actually happening?\r\nComputed properties are getting torn down by another instance destroying\r\n\r\n---\r\nTo me it looks like the conditional on [this line](https://github.com/vuejs/vue/blob/1d8b892fcd9edcef1feeed74ad586beabb9f6df2/src/core/observer/watcher.ts#L74) should be reversed: shouldn't it be `vm._scope || activeEffectScope`?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","closed_by":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/12705/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/12705/timeline","performed_via_github_app":null,"state_reason":"completed"}