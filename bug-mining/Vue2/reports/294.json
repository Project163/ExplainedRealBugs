{"url":"https://api.github.com/repos/vuejs/vue/issues/7184","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/7184/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/7184/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/7184/events","html_url":"https://github.com/vuejs/vue/issues/7184","id":279305190,"node_id":"MDU6SXNzdWUyNzkzMDUxOTA=","number":7184,"title":"memory leaks on a cached static render functions","user":{"login":"aanation","id":32829122,"node_id":"MDQ6VXNlcjMyODI5MTIy","avatar_url":"https://avatars.githubusercontent.com/u/32829122?v=4","gravatar_id":"","url":"https://api.github.com/users/aanation","html_url":"https://github.com/aanation","followers_url":"https://api.github.com/users/aanation/followers","following_url":"https://api.github.com/users/aanation/following{/other_user}","gists_url":"https://api.github.com/users/aanation/gists{/gist_id}","starred_url":"https://api.github.com/users/aanation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aanation/subscriptions","organizations_url":"https://api.github.com/users/aanation/orgs","repos_url":"https://api.github.com/users/aanation/repos","events_url":"https://api.github.com/users/aanation/events{/privacy}","received_events_url":"https://api.github.com/users/aanation/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-12-05T09:34:48Z","updated_at":"2017-12-05T16:18:01Z","closed_at":"2017-12-05T16:18:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\r\n2.5.9\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/pufjfwm8/2/](https://jsfiddle.net/pufjfwm8/2/)\r\n\r\n### Steps to reproduce\r\n(Chrome  60.0.3112.101)\r\n\r\n1) take the heap memory snapshot in chrome devtool \r\n2) click on \"to big\" link (go to the route with a lot components) \r\n3) click on \"to small\" link (return back to the small component) \r\n4) collect garbage in devtool \r\n5) take the second snapshot \r\n6) compate snapshots\r\n7) heap increase and vue cache div element (\"I am big component!\"). This element have the prop \"context\", \r\n that reference to \"zombie\" component. All zombie-components alive, but route have changed. \r\n\r\nif you will repeat this actions, memory will leak.  \r\nIf you remove \"I am big component!\"-div, memory does'nt leak. \r\n\r\n\r\n\r\n\r\n### What is expected?\r\ncached nodes should not contain references to destroyed components\r\n\r\n### What is actually happening?\r\nWe have memory leak (1-2 GB) with large lists of components like this. \r\n\r\n---\r\nMemory leaks:\r\nhttps://imgur.com/fnaC1vS\r\n\r\nMemory does'nt leak:\r\nhttps://imgur.com/WPiCZ0A\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","closed_by":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/7184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/7184/timeline","performed_via_github_app":null,"state_reason":"completed"}