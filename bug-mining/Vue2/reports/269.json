{"url":"https://api.github.com/repos/vuejs/vue/issues/6805","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/6805/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/6805/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/6805/events","html_url":"https://github.com/vuejs/vue/issues/6805","id":265272802,"node_id":"MDU6SXNzdWUyNjUyNzI4MDI=","number":6805,"title":"input is encapsulated into components, its parent component monitors the change event to trigger the time prematurely, at 2.4.4 will not","user":{"login":"zWingz","id":13031838,"node_id":"MDQ6VXNlcjEzMDMxODM4","avatar_url":"https://avatars.githubusercontent.com/u/13031838?v=4","gravatar_id":"","url":"https://api.github.com/users/zWingz","html_url":"https://github.com/zWingz","followers_url":"https://api.github.com/users/zWingz/followers","following_url":"https://api.github.com/users/zWingz/following{/other_user}","gists_url":"https://api.github.com/users/zWingz/gists{/gist_id}","starred_url":"https://api.github.com/users/zWingz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zWingz/subscriptions","organizations_url":"https://api.github.com/users/zWingz/orgs","repos_url":"https://api.github.com/users/zWingz/repos","events_url":"https://api.github.com/users/zWingz/events{/privacy}","received_events_url":"https://api.github.com/users/zWingz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-10-13T12:31:09Z","updated_at":"2017-10-13T13:59:32Z","closed_at":"2017-10-13T13:59:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\r\n2.5.0\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/50wL7mdz/68600/](https://jsfiddle.net/50wL7mdz/68600/)\r\n\r\n### Steps to reproduce\r\n当checkbox被封装成组件后,并使用'v-on=\"$listeners\"'绑定监听事件时\r\n父组件对其监听'onchange'事件,触发时机早于checkbox的值修改之前,\r\n导致获取不到正确的值,\r\n只能对其监听原生'change'事件,或者使用'nextTick'来获取最新的值\r\n此类情况在v2.4.4 没有出现.\r\n可以修改通过修改vue版本得到重现\r\n来自谷歌翻译\r\n\r\n\r\nWhen the checkbox is encapsulated as a component and uses the 'v-on = \"$ listeners\"' binding when listening events\r\nThe parent component listens to its 'onchange' event, triggers the time before the value of the checkbox is modified,\r\nResulting in the lack of the correct value,\r\nOnly listen to the original 'change' event, or use 'nextTick' to get the latest value\r\nSuch a situation does not appear in v2.4.4.\r\nCan be modified by modifying the vue version to be reproduced\r\nFrom Google Translate\r\n\r\n### What is expected?\r\n父级组件'onchange'应该在value正确得到修改之后触发.\r\n\r\nThe parent component 'onchange' should be triggered after the value has been modified correctly.\r\n\r\n### What is actually happening?\r\n父级组件'onchange'事件在value修改之前就被触发.导致无法拿到正确值,只能通过'nextTick'获取.\r\n\r\nThe parent component 'onchange' event is triggered before the value is modified, resulting in the inability to get the correct value and can only be obtained by 'nextTick'.\r\n\r\n---\r\n这种情况在2.4.4没有出现.\r\n导致两个版本无法兼容\r\n\r\nThis situation did not occur in 2.4.4.\r\nResulting in two versions that are not compatible\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","closed_by":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/6805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/6805/timeline","performed_via_github_app":null,"state_reason":"completed"}