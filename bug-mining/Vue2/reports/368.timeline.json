[{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/346494821","html_url":"https://github.com/vuejs/vue/issues/7109#issuecomment-346494821","issue_url":"https://api.github.com/repos/vuejs/vue/issues/7109","id":346494821,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjQ5NDgyMQ==","user":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-22T22:55:15Z","updated_at":"2017-11-22T22:55:15Z","body":"This is because Mobile browsers only allow programmatic audio play in the same task tick of a user interaction:\r\n\r\n```\r\nFailed to execute 'play' on 'HTMLMediaElement': API can only be initiated by a user gesture.\r\n```\r\n\r\nThe change indeed causes this behavior, but IMO it's somewhat expected because watchers are asynchronous by design.\r\n\r\nInstead of using a watcher to react to url changes, why not just call a method that sets the url and start playing in the same function? I don't really see a point of using a watcher especially when you need the `audio.play()` to be executed in the same event handler tick.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/346494821/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1354988265,"node_id":"MDExOkNsb3NlZEV2ZW50MTM1NDk4ODI2NQ==","url":"https://api.github.com/repos/vuejs/vue/issues/events/1354988265","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2017-11-22T22:55:15Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/346516146","html_url":"https://github.com/vuejs/vue/issues/7109#issuecomment-346516146","issue_url":"https://api.github.com/repos/vuejs/vue/issues/7109","id":346516146,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjUxNjE0Ng==","user":{"login":"ustbhuangyi","id":5359011,"node_id":"MDQ6VXNlcjUzNTkwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5359011?v=4","gravatar_id":"","url":"https://api.github.com/users/ustbhuangyi","html_url":"https://github.com/ustbhuangyi","followers_url":"https://api.github.com/users/ustbhuangyi/followers","following_url":"https://api.github.com/users/ustbhuangyi/following{/other_user}","gists_url":"https://api.github.com/users/ustbhuangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ustbhuangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ustbhuangyi/subscriptions","organizations_url":"https://api.github.com/users/ustbhuangyi/orgs","repos_url":"https://api.github.com/users/ustbhuangyi/repos","events_url":"https://api.github.com/users/ustbhuangyi/events{/privacy}","received_events_url":"https://api.github.com/users/ustbhuangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-23T01:47:38Z","updated_at":"2017-11-23T01:58:53Z","body":"@yyx990803, thanks for your response.\r\n\r\nThis is just a simple demo to show the reason why it can not play in mobile browsers.\r\n\r\nIn our music app, we design it using vuex, set `playlist`、`currentIndex` to vuex state，and `currentSong` is a getter, which calculate by `playlist` and `currentIndex`, like this：\r\n```js \r\n// state.js\r\nconst state = {\r\n  playlist: [],\r\n  currentIndex:0\r\n}\r\n// getters.js\r\nexport const currentSong = (state) => {\r\n  return state.playlist[state.currentIndex] || {}\r\n}\r\n```\r\nBecause `audio` is in `player` component, and we may play the song by clicking some button outside this component(like `playlist` component), so we just commit the mutation to set the `playlist` and `currentIndex`, and watch the `currentSong` in `player` component, and call audio play when the `currentSong` changes.\r\n``` js\r\n// player.vue\r\nwatch : {\r\n   currentSong(newSong,oldSong) {\r\n      if (!newSong.id || !newSong.url || newSong.id === oldSong.id) {\r\n          return\r\n       }\r\n       this.$refs.audio.src = newSong.url\r\n       this.$refs.audio.play()\r\n   }\r\n}\r\n```\r\nYou may say 'why not use sync watcher?'，I have tried this, but it cause another problem, because there is a feature that we can set the `playMode`(sync、random or loop)，when the mode changes from sync to random, I must change the `playlist` and `currentIndex` by  committing mutations. If I use sync watcher here, the `currentSong` handler will be called twice, which is not expected. If I use async watcher(default),  the `currentSong` handler will be called only once in next tick.\r\n\r\nCurrently I fixed this problem by setting the global `MessageChannel` function to a `noop` function before Vue.js init, so macroTask in `nextTick` will use `setTimeout 0`, it works but it's a very hack way, so I wish Vue.js core may consider this kind of situation?\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/346516146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ustbhuangyi","id":5359011,"node_id":"MDQ6VXNlcjUzNTkwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5359011?v=4","gravatar_id":"","url":"https://api.github.com/users/ustbhuangyi","html_url":"https://github.com/ustbhuangyi","followers_url":"https://api.github.com/users/ustbhuangyi/followers","following_url":"https://api.github.com/users/ustbhuangyi/following{/other_user}","gists_url":"https://api.github.com/users/ustbhuangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ustbhuangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ustbhuangyi/subscriptions","organizations_url":"https://api.github.com/users/ustbhuangyi/orgs","repos_url":"https://api.github.com/users/ustbhuangyi/repos","events_url":"https://api.github.com/users/ustbhuangyi/events{/privacy}","received_events_url":"https://api.github.com/users/ustbhuangyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1355111895,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTM1NTExMTg5NQ==","url":"https://api.github.com/repos/vuejs/vue/issues/events/1355111895","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-11-23T01:47:38Z","performed_via_github_app":null},{"id":1355111896,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEzNTUxMTE4OTY=","url":"https://api.github.com/repos/vuejs/vue/issues/events/1355111896","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-11-23T01:47:38Z","performed_via_github_app":null},{"actor":{"login":"ustbhuangyi","id":5359011,"node_id":"MDQ6VXNlcjUzNTkwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5359011?v=4","gravatar_id":"","url":"https://api.github.com/users/ustbhuangyi","html_url":"https://github.com/ustbhuangyi","followers_url":"https://api.github.com/users/ustbhuangyi/followers","following_url":"https://api.github.com/users/ustbhuangyi/following{/other_user}","gists_url":"https://api.github.com/users/ustbhuangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ustbhuangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ustbhuangyi/subscriptions","organizations_url":"https://api.github.com/users/ustbhuangyi/orgs","repos_url":"https://api.github.com/users/ustbhuangyi/repos","events_url":"https://api.github.com/users/ustbhuangyi/events{/privacy}","received_events_url":"https://api.github.com/users/ustbhuangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-27T17:44:11Z","updated_at":"2017-11-27T17:44:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/24","repository_url":"https://api.github.com/repos/DDFE/DDFE-blog","labels_url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/24/labels{/name}","comments_url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/24/comments","events_url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/24/events","html_url":"https://github.com/DDFE/DDFE-blog/issues/24","id":277107874,"node_id":"MDU6SXNzdWUyNzcxMDc4NzQ=","number":24,"title":"Vue.js 升级踩坑小记","user":{"login":"ustbhuangyi","id":5359011,"node_id":"MDQ6VXNlcjUzNTkwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5359011?v=4","gravatar_id":"","url":"https://api.github.com/users/ustbhuangyi","html_url":"https://github.com/ustbhuangyi","followers_url":"https://api.github.com/users/ustbhuangyi/followers","following_url":"https://api.github.com/users/ustbhuangyi/following{/other_user}","gists_url":"https://api.github.com/users/ustbhuangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ustbhuangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ustbhuangyi/subscriptions","organizations_url":"https://api.github.com/users/ustbhuangyi/orgs","repos_url":"https://api.github.com/users/ustbhuangyi/repos","events_url":"https://api.github.com/users/ustbhuangyi/events{/privacy}","received_events_url":"https://api.github.com/users/ustbhuangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-11-27T17:44:11Z","updated_at":"2020-09-28T04:56:10Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":63568049,"node_id":"MDEwOlJlcG9zaXRvcnk2MzU2ODA0OQ==","name":"DDFE-blog","full_name":"DDFE/DDFE-blog","private":false,"owner":{"login":"DDFE","id":13447209,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzNDQ3MjA5","avatar_url":"https://avatars.githubusercontent.com/u/13447209?v=4","gravatar_id":"","url":"https://api.github.com/users/DDFE","html_url":"https://github.com/DDFE","followers_url":"https://api.github.com/users/DDFE/followers","following_url":"https://api.github.com/users/DDFE/following{/other_user}","gists_url":"https://api.github.com/users/DDFE/gists{/gist_id}","starred_url":"https://api.github.com/users/DDFE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DDFE/subscriptions","organizations_url":"https://api.github.com/users/DDFE/orgs","repos_url":"https://api.github.com/users/DDFE/repos","events_url":"https://api.github.com/users/DDFE/events{/privacy}","received_events_url":"https://api.github.com/users/DDFE/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/DDFE/DDFE-blog","description":":clap: welcome to DDFE's blog","fork":false,"url":"https://api.github.com/repos/DDFE/DDFE-blog","forks_url":"https://api.github.com/repos/DDFE/DDFE-blog/forks","keys_url":"https://api.github.com/repos/DDFE/DDFE-blog/keys{/key_id}","collaborators_url":"https://api.github.com/repos/DDFE/DDFE-blog/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/DDFE/DDFE-blog/teams","hooks_url":"https://api.github.com/repos/DDFE/DDFE-blog/hooks","issue_events_url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/events{/number}","events_url":"https://api.github.com/repos/DDFE/DDFE-blog/events","assignees_url":"https://api.github.com/repos/DDFE/DDFE-blog/assignees{/user}","branches_url":"https://api.github.com/repos/DDFE/DDFE-blog/branches{/branch}","tags_url":"https://api.github.com/repos/DDFE/DDFE-blog/tags","blobs_url":"https://api.github.com/repos/DDFE/DDFE-blog/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/DDFE/DDFE-blog/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/DDFE/DDFE-blog/git/refs{/sha}","trees_url":"https://api.github.com/repos/DDFE/DDFE-blog/git/trees{/sha}","statuses_url":"https://api.github.com/repos/DDFE/DDFE-blog/statuses/{sha}","languages_url":"https://api.github.com/repos/DDFE/DDFE-blog/languages","stargazers_url":"https://api.github.com/repos/DDFE/DDFE-blog/stargazers","contributors_url":"https://api.github.com/repos/DDFE/DDFE-blog/contributors","subscribers_url":"https://api.github.com/repos/DDFE/DDFE-blog/subscribers","subscription_url":"https://api.github.com/repos/DDFE/DDFE-blog/subscription","commits_url":"https://api.github.com/repos/DDFE/DDFE-blog/commits{/sha}","git_commits_url":"https://api.github.com/repos/DDFE/DDFE-blog/git/commits{/sha}","comments_url":"https://api.github.com/repos/DDFE/DDFE-blog/comments{/number}","issue_comment_url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/comments{/number}","contents_url":"https://api.github.com/repos/DDFE/DDFE-blog/contents/{+path}","compare_url":"https://api.github.com/repos/DDFE/DDFE-blog/compare/{base}...{head}","merges_url":"https://api.github.com/repos/DDFE/DDFE-blog/merges","archive_url":"https://api.github.com/repos/DDFE/DDFE-blog/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/DDFE/DDFE-blog/downloads","issues_url":"https://api.github.com/repos/DDFE/DDFE-blog/issues{/number}","pulls_url":"https://api.github.com/repos/DDFE/DDFE-blog/pulls{/number}","milestones_url":"https://api.github.com/repos/DDFE/DDFE-blog/milestones{/number}","notifications_url":"https://api.github.com/repos/DDFE/DDFE-blog/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/DDFE/DDFE-blog/labels{/name}","releases_url":"https://api.github.com/repos/DDFE/DDFE-blog/releases{/id}","deployments_url":"https://api.github.com/repos/DDFE/DDFE-blog/deployments","created_at":"2016-07-18T03:41:14Z","updated_at":"2025-10-13T08:28:40Z","pushed_at":"2021-01-19T07:04:57Z","git_url":"git://github.com/DDFE/DDFE-blog.git","ssh_url":"git@github.com:DDFE/DDFE-blog.git","clone_url":"https://github.com/DDFE/DDFE-blog.git","svn_url":"https://github.com/DDFE/DDFE-blog","homepage":"","size":41,"stargazers_count":3964,"watchers_count":3964,"language":null,"has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":471,"open_issues":40,"watchers":3964,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"本文并不是什么高深的技术文章，只是记录我最近遇到一个因为 Vue 升级导致我的一个项目踩坑以及我解决问题的过程。文章虽长但不水，写下来的目的是想和大家分享一下我遇到问题时候一个思考的方法和态度。\r\n\r\n> 背景：去年我在慕课网推出了一门 Vue.js 的入门实战课程——[Vue.js 高仿饿了么外卖 App](http://coding.imooc.com/class/74.html) ，这门课程收到了非常不错的反响，于是今年又在慕课网上继续推出了 Vue.js 的高级进阶实战课程——[Vue.js 音乐 App](http://coding.imooc.com/class/107.html)，同样反馈不错。每天晚上下班回家，我会去问答区看一下学生们的问题，发现近期有不少同学反馈了同样的问题，iOS 微信里点击不能播放歌曲了，PC 可以。通常遇到这种问题我会让学生先去访问我的项目的[线上地址](http://ustbhuangyi.com/music/)，看看我的代码会不会有问题，得到的结论是我的线上代码没问题，但他们自己写就不行，并且说已经完全和我的代码做了对比，这就让我觉得十分诡异。没过多久，有些学生就想出了一个办法，在全局 document 绑定一个同步的 click 事件，在 click 事件的回调函数中同步触发一次 audio 的 play 方法，似乎解决了问题，也得到了一些同学的采纳，但是我看到以后的第一反应是不能用这种太 hack 的方式去解决问题，必须找到问题的本质，于是乎我开始了一段很有意思的找问题的过程。\r\n\r\n## 定位问题\r\n\r\n先看现象：同学们写的代码在 iOS 微信浏览器下不能播放，PC 是可以的；我线上的代码是都可以。了解现象后我开始排查问题：\r\n\r\n- 同学们的代码写的有问题？\r\n虽然会有这种可能性，但从 2 个维度被我否决了：1. 同学们也都对比过我的源码的，而且出问题的同学也不是个别现象；2. 如果是代码问题，那么大多可能性是 PC 和移动端都不能播放。\r\n\r\n- 找不同？\r\n这个问题是最新才出现的，同学们开始学习编写课程代码都也是通过 vue-cli 脚手架先初始化代码。接着我大概看了一下新版的脚手架初始化的代码，果然是大不同，webpack 升级到 3+，配置发生了很大的变化。不过依据我的经验，构建工具的升级是不会影响业务代码的，一定还有别的原因。\r\n\r\n- Vue.js 升级？\r\n除了 webpack 配置的不同，最新脚手架初始化的代码用的 Vue.js 版本是 2.5+，而我线上代码的 Vue.js 版本是 2.3+，难道是 Vue.js 导致的问题吗？带着这个疑问我去翻阅了 Vue.js 的 [release log](https://github.com/vuejs/vue/releases)，发现 Vue.js 大大小小版本发布了十几次。如果每个都仔细查看也会很耗时，于是我采用了一个经典的 2 分法的思路去定位，我先把 Vue.js 升级到 2.4.0，发现竟然安装不了（这是 Vue.js 刚升到 2.4 npm 发布的 bug），于是又升级到 2.4.1，然后拿我的手机试了一下，还是可以播放的。接着我把 Vue.js 升级到 2.5.0，手机一试果然不能播放了，（擦。。）我心里默念一句，总算找到问题所在了。\r\n\r\n## 问题的本质\r\n\r\n以上定位到问题大概花了我半小时时间，但是我并没有找到问题的根本原因，于是我翻阅了 Vue.js 2.5 的 [release log](https://github.com/vuejs/vue/releases/tag/v2.5.0)，由于很长就不列了。Vue.js 每次升级主要分成 2 大类，Features & Improvements 和 Bug Fixes。我从上往下依次扫了一遍，把一些关于它核心的改动都点进去看了一下代码的修改，最终锁定了这一条：\r\n\r\n> use MessageChannel for nextTick 6e41679, closes #6566 #6690\r\n\r\n接着我点进去看了一下[改动](https://github.com/vuejs/vue/commit/6e41679a96582da3e0a60bdbf123c33ba0e86b31)，我滴天，改动很大呀，nextTick 的核心实现变了，MutationObserver 不见了，改成了 MessageChannel 的实现。等等，有些同学看到这里，可能会懵，这都是些啥呀。不急，我先简单解释一下 Vue 的 nextTick。\r\n\r\n### nextTick\r\n\r\n介绍 Vue 的 nextTick 之前，我先简单介绍一下 JS 的运行机制：JS 执行是单线程的，它是基于事件循环的。对于事件循环的理解，阮老师有[一篇文章](http://www.ruanyifeng.com/blog/2014/10/event-loop.html)写的很清楚，大致分为以下几个步骤：\r\n\r\n（1）所有同步任务都在主线程上执行，形成一个执行栈（execution context stack）。\r\n\r\n（2）主线程之外，还存在一个\"任务队列\"（task queue）。只要异步任务有了运行结果，就在\"任务队列\"之中放置一个事件。\r\n\r\n（3）一旦\"执行栈\"中的所有同步任务执行完毕，系统就会读取\"任务队列\"，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。\r\n\r\n（4）主线程不断重复上面的第三步。\r\n\r\n主线程的执行过程就是一个 tick，而所有的异步结果都是通过 “任务队列” 来调度被调度。 消息队列中存放的是一个个的任务（task）。 规范中规定 task 分为两大类，分别是 macro task 和 micro task，并且每个 macro task 结束后，都要清空所有的 micro task。\r\n\r\n关于 macro task 和 micro task 的概念，这里不会细讲，简单通过一段代码演示他们的执行顺序：\r\n\r\n```js\r\nfor (macroTask of macroTaskQueue) {\r\n    // 1. Handle current MACRO-TASK\r\n    handleMacroTask();\r\n      \r\n    // 2. Handle all MICRO-TASK\r\n    for (microTask of microTaskQueue) {\r\n        handleMicroTask(microTask);\r\n    }\r\n}\r\n```\r\n在浏览器环境中，常见的 macro task 有 setTimeout、MessageChannel、postMessage、setImmediate；常见的 micro task 有 MutationObsever 和 Promise.then。对于它们更多的了解，感兴趣的同学可以看[这篇文章](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)。\r\n\r\n回到 Vue 的 nextTick，nextTick 顾名思义，就是下一个 tick，Vue 内部实现了 nextTick，并把它作为一个全局 API 暴露出来，它支持传入一个回调函数，保证回调函数的执行时机是在下一个 tick。官网文档介绍了 Vue.nextTick 的使用场景：\r\n\r\n> Usage: Defer the callback to be executed after the next DOM update cycle. Use it immediately after you’ve changed some data to wait for the DOM update.\r\n使用：在下次 DOM 更新循环结束之后执行延迟回调，在修改数据之后立即使用这个方法，获取更新后的 DOM。\r\n\r\n在 Vue.js 里是数据驱动视图变化，由于 JS 执行是单线程的，在一个 tick 的过程中，它可能会多次修改数据，但 Vue.js 并不会傻到每修改一次数据就去驱动一次视图变化，它会把这些数据的修改全部 push 到一个队列里，然后内部调用 一次 nextTick 去更新视图，所以数据到 DOM 视图的变化是需要在下一个 tick 才能完成。\r\n\r\n接下来，我们来看一下 Vue 的 nextTick 的实现，在 Vue.js 2.5+ 的版本，抽出来一个单独的 [next-tick.js](https://github.com/vuejs/vue/blob/dev/src/core/util/next-tick.js) 文件去实现它，\r\n\r\n``` js\r\n/* @flow */\r\n/* globals MessageChannel */\r\n\r\nimport { noop } from 'shared/util'\r\nimport { handleError } from './error'\r\nimport { isIOS, isNative } from './env'\r\n\r\nconst callbacks = []\r\nlet pending = false\r\n\r\nfunction flushCallbacks () {\r\n  pending = false\r\n  const copies = callbacks.slice(0)\r\n  callbacks.length = 0\r\n  for (let i = 0; i < copies.length; i++) {\r\n    copies[i]()\r\n  }\r\n}\r\n\r\n// Here we have async deferring wrappers using both micro and macro tasks.\r\n// In < 2.4 we used micro tasks everywhere, but there are some scenarios where\r\n// micro tasks have too high a priority and fires in between supposedly\r\n// sequential events (e.g. #4521, #6690) or even between bubbling of the same\r\n// event (#6566). However, using macro tasks everywhere also has subtle problems\r\n// when state is changed right before repaint (e.g. #6813, out-in transitions).\r\n// Here we use micro task by default, but expose a way to force macro task when\r\n// needed (e.g. in event handlers attached by v-on).\r\nlet microTimerFunc\r\nlet macroTimerFunc\r\nlet useMacroTask = false\r\n\r\n// Determine (macro) Task defer implementation.\r\n// Technically setImmediate should be the ideal choice, but it's only available\r\n// in IE. The only polyfill that consistently queues the callback after all DOM\r\n// events triggered in the same loop is by using MessageChannel.\r\n/* istanbul ignore if */\r\nif (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\r\n  macroTimerFunc = () => {\r\n    setImmediate(flushCallbacks)\r\n  }\r\n} else if (typeof MessageChannel !== 'undefined' && (\r\n  isNative(MessageChannel) ||\r\n  // PhantomJS\r\n  MessageChannel.toString() === '[object MessageChannelConstructor]'\r\n)) {\r\n  const channel = new MessageChannel()\r\n  const port = channel.port2\r\n  channel.port1.onmessage = flushCallbacks\r\n  macroTimerFunc = () => {\r\n    port.postMessage(1)\r\n  }\r\n} else {\r\n  /* istanbul ignore next */\r\n  macroTimerFunc = () => {\r\n    setTimeout(flushCallbacks, 0)\r\n  }\r\n}\r\n\r\n// Determine MicroTask defer implementation.\r\n/* istanbul ignore next, $flow-disable-line */\r\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\r\n  const p = Promise.resolve()\r\n  microTimerFunc = () => {\r\n    p.then(flushCallbacks)\r\n    // in problematic UIWebViews, Promise.then doesn't completely break, but\r\n    // it can get stuck in a weird state where callbacks are pushed into the\r\n    // microtask queue but the queue isn't being flushed, until the browser\r\n    // needs to do some other work, e.g. handle a timer. Therefore we can\r\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\r\n    if (isIOS) setTimeout(noop)\r\n  }\r\n} else {\r\n  // fallback to macro\r\n  microTimerFunc = macroTimerFunc\r\n}\r\n\r\n/**\r\n * Wrap a function so that if any code inside triggers state change,\r\n * the changes are queued using a Task instead of a MicroTask.\r\n */\r\nexport function withMacroTask (fn: Function): Function {\r\n  return fn._withTask || (fn._withTask = function () {\r\n    useMacroTask = true\r\n    const res = fn.apply(null, arguments)\r\n    useMacroTask = false\r\n    return res\r\n  })\r\n}\r\n\r\nexport function nextTick (cb?: Function, ctx?: Object) {\r\n  let _resolve\r\n  callbacks.push(() => {\r\n    if (cb) {\r\n      try {\r\n        cb.call(ctx)\r\n      } catch (e) {\r\n        handleError(e, ctx, 'nextTick')\r\n      }\r\n    } else if (_resolve) {\r\n      _resolve(ctx)\r\n    }\r\n  })\r\n  if (!pending) {\r\n    pending = true\r\n    if (useMacroTask) {\r\n      macroTimerFunc()\r\n    } else {\r\n      microTimerFunc()\r\n    }\r\n  }\r\n  // $flow-disable-line\r\n  if (!cb && typeof Promise !== 'undefined') {\r\n    return new Promise(resolve => {\r\n      _resolve = resolve\r\n    })\r\n  }\r\n}\r\n\r\n```\r\n我们在有之前的知识背景，再理解 nextTick 的实现就不难了，这里有一段很关键的注释：在 Vue 2.4 之前的版本，nextTick 几乎都是基于 micro task 实现的，但由于  micro task 的执行优先级非常高，在某些场景下它甚至要比事件冒泡还要快，就会导致一些诡异的问题，如 issue [#4521](https://github.com/vuejs/vue/issues/4521)、[#6690](https://github.com/vuejs/vue/issues/6690)、[#6566](https://github.com/vuejs/vue/issues/6566)；但是如果全部都改成 macro task，对一些有重绘和动画的场景也会有性能影响，如 issue [#6813](https://github.com/vuejs/vue/issues/6813)。所以最终 nextTick 采取的策略是默认走 micro task，对于一些 DOM 交互事件，如 v-on 绑定的事件回调函数的处理，会强制走 macro task。\r\n\r\n这个强制是怎么做的呢，原来在 Vue.js 在绑定 DOM 事件的时候，默认会给回调的 `handler` 函数调用 `withMacroTask` 方法做一层包装，它保证整个回调函数执行过程中，遇到数据状态的改变，这些改变都会被推到 macro task 中。\r\n\r\n对于 macro task 的执行，Vue.js 优先检测是否支持原生 `setImmediate`，这是一个高版本 IE 和 Edge 才支持的特性，不支持的话再去检测是否支持原生的 `MessageChannel`，如果也不支持的话就会降级为 `setTimeout 0`。\r\n\r\n## nextTick 对 audio 播放的影响\r\n\r\n回到我们的问题，iOS 微信浏览器不能播放歌曲和 nextTick 有什么关系呢？先来看一下我们的歌曲播放这个功能的实现方法。\r\n\r\n我们的代码会有一个播放器组件 player.vue，在这个组件中我们会持有一个 html5 的 audio 标签。由于可调用播放的地方很多，比如在歌曲列表组件、榜单组件、搜索结果组件等等，因此我们用 vuex 对播放相关的数据进行管理。我们把正在播放的列表 `playlist` 和当前播放索引 `currentIndex` 用 state 维护，当前播放的歌曲 `currentSong` 通过它们计算而来：\r\n\r\n``` js\r\n// state.js\r\nconst state = {\r\n  playlist: [],\r\n  currentIndex:0\r\n}\r\n// getters.js\r\nexport const currentSong = (state) => {\r\n  return state.playlist[state.currentIndex] || {}\r\n}\r\n```\r\n然后我们在 player.vue 组件里 watch `currentSong` 的变化去播放歌曲：\r\n\r\n``` js\r\n// player.vue\r\nwatch : {\r\n   currentSong(newSong,oldSong) {\r\n      if (!newSong.id || !newSong.url || newSong.id === oldSong.id) {\r\n          return\r\n       }\r\n       this.$refs.audio.src = newSong.url\r\n       this.$refs.audio.play()\r\n   }\r\n}\r\n```\r\n\r\n这样我们就可以在任何组件中提交对 `playlist` 和 `currentIndex` 的修改来达到播放不同歌曲的目的。那么这么写和 nextTick 有什么关系呢？\r\n\r\n因为在 Vue.js 中，watcher 的回调函数执行默认是异步的，当我们提交对 `playlist` 或者 `currenIndex` 的修改，都会触发 `currentSong` 的变化，但是由于是异步，并不会立刻执行 watcher 的回调函数，而会在 nextTick 后执行。所以当我们点击歌曲列表中的歌曲后，在 click 的事件回调函数中会提交对 `playlist` 和 `currentIndex` 的修改， 经过一系列同步的逻辑执行，最终是在 nextTick 后才会执行 wathcer 的回调，也就是调用 audio 的 play。\r\n\r\n所以本质上，就是用户点击到 audio 的 play 并不是在一个 tick 中完成，并且前面提到 Vue.js 中对 v-on 绑定事件执行的 nextTick 过程会强制使用 macro task。那么到底是不是由于 nextTick 影响了 audio 在 iOS 微信浏览器中的播放呢，\r\n我们就来把化繁为简，写一个简单 demo 来验证这个问题，用的 Vue.js 版本是 2.5+ 的。\r\n\r\n```\r\n<template>\r\n\t<div id=\"app\">\r\n\t\t<audio ref=\"audio\"></audio>\r\n\t    <button @click=\"changeUrl\">click me</button>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\tconst musicList = [\r\n    'http://ws.stream.qqmusic.qq.com/108756223.m4a?fromtag=46',\r\n    'http://ws.stream.qqmusic.qq.com/101787871.m4a?fromtag=46',\r\n    'http://ws.stream.qqmusic.qq.com/718475.m4a?fromtag=46'\r\n  ]\r\n\r\n  export default {\r\n    name: 'app',\r\n    data() {\r\n      return {\r\n        index: 0,\r\n        url: ''\r\n      }\r\n    },\r\n    methods: {\r\n      changeUrl() {\r\n        this.index = (this.index + 1) % musicList.length\r\n        this.url = musicList[this.index]\r\n      }\r\n    },\r\n    watch: {\r\n      url(newUrl) {\r\n        this.$refs.audio.src = newUrl\r\n        this.$refs.audio.play()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n```\r\n这段代码的逻辑非常简单，我们会添加一个 watcher 监听 `url` 变化，当点击按钮的时候，会调用 `changeUrl` 方法，修改 `url`，然后 watcher 的回调函数执行，并调用 audio 的 play 方法。这段代码在 PC 浏览器是可以正常播放歌曲的，但是在 iOS 微信浏览器里却不能播放，这就证实了我们之前的猜想——在用户点击事件的回调函数到 audio 的播放如果经历了 nextTick 在 iOS 微信浏览器下不能播放。\r\n\r\n## macro task 的锅？\r\n\r\n有些同学可能会认为，当用户点击了按钮到播放的过程在 iOS 微信浏览器或者是 iOS safari 浏览器应该需要在同一个 tick 才能执行，果真需要这样吗？我们把上述代码做一个简单的修改：\r\n\r\n``` js\r\nchangeUrl() {\r\n  this.index = (this.index + 1) % musicList.length\r\n  this.url = musicList[this.index]\r\n  \r\n  setTimeout(()=>{\r\n    this.$refs.audio.src = this.url\r\n    this.$refs.audio.play()\r\n  }, 0)\r\n}\r\n```\r\n我们现在不利用 Vue.js 的 nextTick 了，直接来模拟 nextTick 的过程，发现使用 `setTimeout 0` 是可以在 iOS 微信浏览器器、包括 iOS safari 下播放的，然而实际上我们只要在 1000ms 内的延时时间播放都是可以的，但是超过 1000ms，比如 `setTimeout 1001` 又不能播放了，感兴趣的同学可以试试，这个现象的理论依据我还没找到，如果知道理论的同学也非常欢迎留言告诉我。\r\n\r\n所以通过上述的实验，我们发现并不一定要在同一个 tick 执行播放，那么为啥 Vue.js 的 nextTick 是不可以的呢？回到 nextTick 的 macro task 的实现，它优先 `setImmediate`、然后 `MessageChannel`，最后才是 `setTimeout 0`。我们知道，除了高版本 IE 和 Edge，`setImmediate` 是没有原生支持的，除非一些工具对它进行了重新改写。而 `MessageChannel` 的浏览器支持程度还是非常高的，那么我把这段 demo 的异步过程改成用 `MessageChannel` 实现。\r\n\r\n``` js\r\nchangeUrl() {\r\n  this.index = (this.index + 1) % musicList.length\r\n  this.url = musicList[this.index]\r\n  \r\n  let channel = new MessageChannel()\r\n  let port = channel.port2\r\n  channel.port1.onmessage = () => {\r\n    this.$refs.audio.src = this.url\r\n    this.$refs.audio.play()\r\n  }\r\n  port.postMessage(1)\r\n}\r\n```\r\n这段代码在 PC 浏览器是可以播放的，而在 iOS 微信浏览器又不能播放了，调试后发现 `this.$refs.audio.play()` 的逻辑也是可以执行到的，但是歌曲并不能播放，应该是浏览器对 audio 播放在使用 MessageChannel 做异步的一种限制。\r\n\r\n前面提到实现 macro task 还有一种方法是利用 postMessage，它的浏览器支持程度也很好，我们来把 demo 改成利用它来实现。\r\n\r\n``` js\r\nchangeUrl() {\r\n  this.index = (this.index + 1) % musicList.length\r\n  this.url = musicList[this.index]\r\n\r\n  addEventListener('message', () => {\r\n    this.$refs.audio.src = this.url\r\n    this.$refs.audio.play()\r\n  }, false);\r\n  postMessage(1, '*')\r\n}\r\n```\r\n这段代码在 PC 浏览器和 iOS 微信浏览器以及 iOS safari 都可以播放的，说明并不是 macro task 的锅，而是 MessageChannel 的锅。其实 macro task 还有很多实现方式，感兴趣的同学可以看看 core-js 中对于 macro task 的几种[实现方式](https://github.com/zloirock/core-js/blob/master/modules/_task.js#L28-L80)。\r\n\r\n## 如何解决？\r\n\r\n现在我们定位到问题的本质是因为 Vue.js 的 nextTick 中优先使用了 MessageChannel，它会影响 iOS 微信浏览器的播放，那么我们如何用最小成本来解决这个问题呢？\r\n\r\n### Vue.js 的版本降级\r\n\r\n如果是真实运行在生产环境中的项目，毫无疑问这肯定是优先解决问题的首选，因为确实也是因为 Vue.js 的升级才造成这个 bug 的。在我们的实际项目中，我们都是锁死某个 Vue.js 的版本的，除非我们想使用某个 Vue.js 新版的 feature 或者是当前版本遇到了一个严重 bug 而新版已经修复的情况，我们才会考虑升级 Vue.js，并且每次升级都需要经过完整的功能测试。\r\n\r\n为何把 Vue.js 降级到 2.4+ 就没问题呢，因为 Vue.js 2.5 之前的 nextTick 都是优先使用 microtask 的，那么 audio 播放的时机实际上还是在当前 tick，所以当然不会有问题。\r\n\r\n说到版本问题，其实这也是 Vue.js 的一点瑕疵吧，升版本的时候有时候改动过于激进了，比如这次关于 nextTick 的升级，它其实是 Vue.js 一个非常核心的功能，但是它只有单元测试，并没有大量的功能测试 case 覆盖，也只能通过社区帮助反馈问题做改进了。\r\n\r\n### 同步的 watcher\r\n\r\nVue.js 的 watcher 默认是异步的，当然它也提供了同步的 watcher，这样 watcher 的回调函数执行就不需要经历了 nextTick，这样确实可以修复这个 bug，但又会引起别的问题。因为我们的音乐播放器有一个 feature 是可以在播放的过程中切换播放模式，我们支持顺序播放、随机播放、单曲循环三种播放模式，当我们从顺序播放切到随机播放模式的时候，实际上是对播放列表 `playlist` 做了修改，同时也修改了 `currentIndex`，这样可以保证我们在切换模式的时候并不会修改当前歌曲。那么问题来了，由于 `currentSong` 是由 `playlist` 和 `currentIndex` 计算而来的，对它们任何一个修改，都会触发 `currentSong` 的变化，由于我们现在改成同步的 watcher，那么 currentSong 的回调会执行 2 次，这样第一次的修改导致计算出来的歌曲就变成了另外一首了，这个显然也不是我们期望的。所以同步 watcher 也是不可行的。\r\n\r\n### 其它方式\r\n\r\n其实还有很多方式都能“修复”这个问题，比如我们不通过 watcher，改成每次点击通过 event bus 去通知；比如仍然使用同步 watcher，但 currentSong 不通过计算，直接用 state 保留；比如每次点击事件不通过  v-on 绑定，我们直接在 mounted 的钩子函数里利用原生的 addEventListener 去绑定 click 事件。\r\n\r\n当然，上述几个方式都是可行的，但是我并不推荐这么去改，因为这样对业务代码的改动实在太大了，如果我们本身的写法如果是合理的，却要强行改成这些方式，就好像是：我知道了框架的某一个坑，我用一些奇技淫巧绕过了这些坑，这样做也是不合理的。\r\n\r\n框架产生的意义是什么：制定一种友好的开发规范，提升开发效率，让开发人员更加专注业务逻辑的开发。所以优秀的框架不应该限制开发人员对于一些场景下功能的实现方式，仅仅是因为这种实现方式虽然本身合理但可能会触发框架某个坑。\r\n\r\n### 临时的 hack 方法\r\n\r\n由于不想动业务代码，所以我就想了一些比较 hack 的办法，因为是 MessageChannel 的锅，所以我就在 Vue.js 的初始化前，引入了一段 hack.js\r\n\r\n``` js \r\n// hack for global nextTick\r\nfunction noop() {\r\n}\r\n\r\nwindow.MessageChannel = noop\r\nwindow.setImmediate = noop\r\n```\r\n这样的话 Vue.js 在初始化 nextTick 的时候，发现全局的 `setImmediate` 和 `MessageChannel` 被改写了，就自动降级为 `setTimeout 0` 的实现，这样就可以规避掉我们的问题了。当然，这种 hack 方式算是没有办法的办法了，我并不推荐。\r\n\r\n### 给 Vue.js 提 issue\r\n\r\n所以这种情况最合理的就是给 Vue.js 提 issue，我确实也是这么做了，去 Github 上提了一个 [issue](https://github.com/vuejs/vue/issues/7109)，第一次给 Vue.js 提 issue，发现 Vue 官方这块做的还是蛮人性化的，直接给一个提 issue 的[链接](https://new-issue.vuejs.org/)，通过填写一些表单来描述这个 issue，并且推荐了一个很好的复现问题的工具 [CodeSandbox](https://codesandbox.io/s/vue) 。这个 issue 当天就收到了尤大的回复，他表示 Vue.js 的 nextTick 确实会造成这个问题，但是我应该在同一个 tick 完成歌曲的播放，而不应该使用 watcher，接着就 close 了 issue。因为我提 issue 为了更直观的演示核心问题，用的就是上面提到的非常简单的 demo，所以在这种场景下，他说的也没问题，确实没有必要使用 watcher，于是我赶紧又回复了 issue，说明了一下我的真实使用场景，并表明希望从 Vue.js 内核去修复这个问题。可惜的是，尤大目前也并没有再回复这个 issue。\r\n\r\n## 总结\r\n\r\n通过记录我这一次发现问题——定位问题——解决问题的过程，我想给同学带来的思考不仅仅是这个问题本身，还有我们遇到问题后的一些态度。发现问题并不难，很多人在写代码中都会发现问题，那么发现问题后你的第一反应是尝试自己解决，还是去求助，我相信前者肯定更好。那么在解决之前需要定位问题，这里我要提到一个词，叫“面向巧合编程”，很多人遇到问题后会不断尝试这种办法，很可能某个办法就从表象上“解决”了这个问题，却不知道为什么，这种解决问题的方式是很不靠谱的，你可能并没有根本上解决问题，又可能解决了这个问题却又引发另一个问题。所以定位问题的本质就非常关键了，其实这是一个能力，一个好的工程师不仅会写代码，也要会查问题，能快速定位到问题的本质，是一个优秀的工程师的必要条件，这一点不容易，需要平时不断地的积累。在定位到问题的本质后，就要解决问题了，一道题往往有多解，但每种解法是否合理，这也是一个需要思考的过程，多和一些比你厉害的人交流，多积攒一些这方面的经验，这也是一个积累的过程。如果以后你再遇到问题，也用这样的态度去面对的问题，那么你也会很快的成长。\r\n\r\n很多同学学习我的音乐课程后，会问：“黄老师，你什么时候再出新视频呀？”，其实我想说这门课程你真的学完了吗？因为它的定位是一门 Vue.js 的进阶课程，不仅仅是因为课程的项目本身比较复杂，而且项目中很多知识点都可以做延伸的学习，另外项目难免会有一些小 bug 和一些由于接口改动引发的功能不可用的情况，遇到这些问题除了给我提 issue，尝试自己去解决然后给我提 pull request 的方式是不是对自己的提升更大呢？所以这门课程还是值得多去挖掘的，如果真正榨干了这门课的价值再来问我也不迟，当然我也会给你们带来更多干货的课程。\r\n\r\n最后也来小小安利我的这门 Vue.js 进阶课程吧（[慕课网地址](http://coding.imooc.com/class/107.html)），感兴趣的同学可以点进去看看课程介绍。课程的项目是托管在我的 Github 私服的，并不开源，所以外面的一切和这个课程相关的代码都是盗版的。这个源码我是一直维护的，包括最近 Vue.js 的脚手架的升级，以及依赖方接口的一些改造造成的功能不可用问题，都已经得到了解决。简单地截几张截图：\r\n\r\n![vue-music-issue](http://webapp.didistatic.com/static/webapp/shield/vue-music-issue.png)\r\n\r\n这一张是对 issue 的处理，我们在课程推出来后解决了几十个 issue，如果有同学在学习过程中遇到问题建议去翻阅 issue 寻找答案。有一些版本的升级的 issue 我不会关，为了让同学们可以更方便的找到。\r\n\r\n![vue-music-contribute](http://webapp.didistatic.com/static/webapp/shield/vue-music-contribute.jpg)\r\n\r\n这一张是代码提交记录，可以看到除了我还是有一些很不错的同学在一起维护这个项目，这其中有一个同学学习非常主动，自驱力很强，常与我探讨技术问题，最近他也加入了滴滴，在我们部门做了很多的产出。\r\n\r\n更直观的感受这个项目，可以扫描下方的二维码，体验一下接近原生 App 的感觉：\r\n\r\n![二维码](http://qr.api.cli.im/qr?data=http%253A%252F%252Fustbhuangyi.com%252Fmusic&level=H&transparent=false&bgcolor=%23ffffff&forecolor=%23000000&blockpixel=12&marginblock=1&logourl=&size=280&kid=cliim&key=ab1f62311bfc4de5bc301283707c0328)\r\n\r\n我们有一个官方的课程交流群，如果购买了这门课程，欢迎与其它同学一起交流学习，也可以加我的 qq 和微信，交流技术问问题都可以，不过我一般白天很忙，晚上才有时间。\r\n\r\n当然，想关注我的一些动态，也欢迎 follow 我的 [Github](https://github.com/ustbhuangyi)。\r\n\r\n希望同学们一起来支持正版，抵制盗版，我会为大家带来更多优质的课程以及其它的一些形式的技术方向的分享。\r\n\r\n本文参考的一些值得延伸学习的文章：\r\n\r\n[JavaScript 运行机制详解：再谈Event Loop](http://www.ruanyifeng.com/blog/2014/10/event-loop.html)\r\n\r\n[Tasks, microtasks, queues and schedules](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)","reactions":{"url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/24/reactions","total_count":15,"+1":15,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/DDFE/DDFE-blog/issues/24/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/351044292","html_url":"https://github.com/vuejs/vue/issues/7109#issuecomment-351044292","issue_url":"https://api.github.com/repos/vuejs/vue/issues/7109","id":351044292,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTA0NDI5Mg==","user":{"login":"whatwg6","id":18499153,"node_id":"MDQ6VXNlcjE4NDk5MTUz","avatar_url":"https://avatars.githubusercontent.com/u/18499153?v=4","gravatar_id":"","url":"https://api.github.com/users/whatwg6","html_url":"https://github.com/whatwg6","followers_url":"https://api.github.com/users/whatwg6/followers","following_url":"https://api.github.com/users/whatwg6/following{/other_user}","gists_url":"https://api.github.com/users/whatwg6/gists{/gist_id}","starred_url":"https://api.github.com/users/whatwg6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatwg6/subscriptions","organizations_url":"https://api.github.com/users/whatwg6/orgs","repos_url":"https://api.github.com/users/whatwg6/repos","events_url":"https://api.github.com/users/whatwg6/events{/privacy}","received_events_url":"https://api.github.com/users/whatwg6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T13:00:07Z","updated_at":"2017-12-12T13:00:07Z","body":"m","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/351044292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"whatwg6","id":18499153,"node_id":"MDQ6VXNlcjE4NDk5MTUz","avatar_url":"https://avatars.githubusercontent.com/u/18499153?v=4","gravatar_id":"","url":"https://api.github.com/users/whatwg6","html_url":"https://github.com/whatwg6","followers_url":"https://api.github.com/users/whatwg6/followers","following_url":"https://api.github.com/users/whatwg6/following{/other_user}","gists_url":"https://api.github.com/users/whatwg6/gists{/gist_id}","starred_url":"https://api.github.com/users/whatwg6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatwg6/subscriptions","organizations_url":"https://api.github.com/users/whatwg6/orgs","repos_url":"https://api.github.com/users/whatwg6/repos","events_url":"https://api.github.com/users/whatwg6/events{/privacy}","received_events_url":"https://api.github.com/users/whatwg6/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"doodlewind","id":7312949,"node_id":"MDQ6VXNlcjczMTI5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/7312949?v=4","gravatar_id":"","url":"https://api.github.com/users/doodlewind","html_url":"https://github.com/doodlewind","followers_url":"https://api.github.com/users/doodlewind/followers","following_url":"https://api.github.com/users/doodlewind/following{/other_user}","gists_url":"https://api.github.com/users/doodlewind/gists{/gist_id}","starred_url":"https://api.github.com/users/doodlewind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doodlewind/subscriptions","organizations_url":"https://api.github.com/users/doodlewind/orgs","repos_url":"https://api.github.com/users/doodlewind/repos","events_url":"https://api.github.com/users/doodlewind/events{/privacy}","received_events_url":"https://api.github.com/users/doodlewind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T09:01:25Z","updated_at":"2018-03-15T09:01:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vuejs/vue/issues/7834","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/7834/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/7834/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/7834/events","html_url":"https://github.com/vuejs/vue/issues/7834","id":305461715,"node_id":"MDU6SXNzdWUzMDU0NjE3MTU=","number":7834,"title":"Unable to simulate click in `$nextTick`","user":{"login":"doodlewind","id":7312949,"node_id":"MDQ6VXNlcjczMTI5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/7312949?v=4","gravatar_id":"","url":"https://api.github.com/users/doodlewind","html_url":"https://github.com/doodlewind","followers_url":"https://api.github.com/users/doodlewind/followers","following_url":"https://api.github.com/users/doodlewind/following{/other_user}","gists_url":"https://api.github.com/users/doodlewind/gists{/gist_id}","starred_url":"https://api.github.com/users/doodlewind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doodlewind/subscriptions","organizations_url":"https://api.github.com/users/doodlewind/orgs","repos_url":"https://api.github.com/users/doodlewind/repos","events_url":"https://api.github.com/users/doodlewind/events{/privacy}","received_events_url":"https://api.github.com/users/doodlewind/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":862911063,"node_id":"MDU6TGFiZWw4NjI5MTEwNjM=","url":"https://api.github.com/repos/vuejs/vue/labels/nextTick%20related","name":"nextTick related","color":"ffc1d7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-15T08:50:13Z","updated_at":"2018-12-19T18:31:34Z","closed_at":"2018-12-19T18:31:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":11730342,"node_id":"MDEwOlJlcG9zaXRvcnkxMTczMDM0Mg==","name":"vue","full_name":"vuejs/vue","private":false,"owner":{"login":"vuejs","id":6128107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxMjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/6128107?v=4","gravatar_id":"","url":"https://api.github.com/users/vuejs","html_url":"https://github.com/vuejs","followers_url":"https://api.github.com/users/vuejs/followers","following_url":"https://api.github.com/users/vuejs/following{/other_user}","gists_url":"https://api.github.com/users/vuejs/gists{/gist_id}","starred_url":"https://api.github.com/users/vuejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vuejs/subscriptions","organizations_url":"https://api.github.com/users/vuejs/orgs","repos_url":"https://api.github.com/users/vuejs/repos","events_url":"https://api.github.com/users/vuejs/events{/privacy}","received_events_url":"https://api.github.com/users/vuejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vuejs/vue","description":"This is the repo for Vue 2. For Vue 3, go to https://github.com/vuejs/core","fork":false,"url":"https://api.github.com/repos/vuejs/vue","forks_url":"https://api.github.com/repos/vuejs/vue/forks","keys_url":"https://api.github.com/repos/vuejs/vue/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vuejs/vue/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vuejs/vue/teams","hooks_url":"https://api.github.com/repos/vuejs/vue/hooks","issue_events_url":"https://api.github.com/repos/vuejs/vue/issues/events{/number}","events_url":"https://api.github.com/repos/vuejs/vue/events","assignees_url":"https://api.github.com/repos/vuejs/vue/assignees{/user}","branches_url":"https://api.github.com/repos/vuejs/vue/branches{/branch}","tags_url":"https://api.github.com/repos/vuejs/vue/tags","blobs_url":"https://api.github.com/repos/vuejs/vue/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vuejs/vue/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vuejs/vue/git/refs{/sha}","trees_url":"https://api.github.com/repos/vuejs/vue/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vuejs/vue/statuses/{sha}","languages_url":"https://api.github.com/repos/vuejs/vue/languages","stargazers_url":"https://api.github.com/repos/vuejs/vue/stargazers","contributors_url":"https://api.github.com/repos/vuejs/vue/contributors","subscribers_url":"https://api.github.com/repos/vuejs/vue/subscribers","subscription_url":"https://api.github.com/repos/vuejs/vue/subscription","commits_url":"https://api.github.com/repos/vuejs/vue/commits{/sha}","git_commits_url":"https://api.github.com/repos/vuejs/vue/git/commits{/sha}","comments_url":"https://api.github.com/repos/vuejs/vue/comments{/number}","issue_comment_url":"https://api.github.com/repos/vuejs/vue/issues/comments{/number}","contents_url":"https://api.github.com/repos/vuejs/vue/contents/{+path}","compare_url":"https://api.github.com/repos/vuejs/vue/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vuejs/vue/merges","archive_url":"https://api.github.com/repos/vuejs/vue/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vuejs/vue/downloads","issues_url":"https://api.github.com/repos/vuejs/vue/issues{/number}","pulls_url":"https://api.github.com/repos/vuejs/vue/pulls{/number}","milestones_url":"https://api.github.com/repos/vuejs/vue/milestones{/number}","notifications_url":"https://api.github.com/repos/vuejs/vue/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vuejs/vue/labels{/name}","releases_url":"https://api.github.com/repos/vuejs/vue/releases{/id}","deployments_url":"https://api.github.com/repos/vuejs/vue/deployments","created_at":"2013-07-29T03:24:51Z","updated_at":"2025-11-09T17:23:38Z","pushed_at":"2024-10-10T07:24:15Z","git_url":"git://github.com/vuejs/vue.git","ssh_url":"git@github.com:vuejs/vue.git","clone_url":"https://github.com/vuejs/vue.git","svn_url":"https://github.com/vuejs/vue","homepage":"http://v2.vuejs.org","size":32152,"stargazers_count":209671,"watchers_count":209671,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33803,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":612,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","frontend","javascript","vue"],"visibility":"public","forks":33803,"open_issues":612,"watchers":209671,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/xnjc03hy/](https://jsfiddle.net/xnjc03hy/)\r\n\r\n### Steps to reproduce\r\n1. Click on `add` in the demo, \r\n2. Comment out `$nextTick` part and uncomment the `setTimeout` part, try again.\r\n\r\n### What is expected?\r\nNative input modal is supposed to be triggered in `$nextTick`.\r\n\r\n### What is actually happening?\r\nModal not triggered in `$nextTick` but triggered by `setTimeout`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/7834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/7834/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"haoqunjiang","id":3277634,"node_id":"MDQ6VXNlcjMyNzc2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3277634?v=4","gravatar_id":"","url":"https://api.github.com/users/haoqunjiang","html_url":"https://github.com/haoqunjiang","followers_url":"https://api.github.com/users/haoqunjiang/followers","following_url":"https://api.github.com/users/haoqunjiang/following{/other_user}","gists_url":"https://api.github.com/users/haoqunjiang/gists{/gist_id}","starred_url":"https://api.github.com/users/haoqunjiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haoqunjiang/subscriptions","organizations_url":"https://api.github.com/users/haoqunjiang/orgs","repos_url":"https://api.github.com/users/haoqunjiang/repos","events_url":"https://api.github.com/users/haoqunjiang/events{/privacy}","received_events_url":"https://api.github.com/users/haoqunjiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T08:52:51Z","updated_at":"2018-06-04T08:52:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vuejs/vue/issues/7951","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/7951/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/7951/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/7951/events","html_url":"https://github.com/vuejs/vue/issues/7951","id":310679948,"node_id":"MDU6SXNzdWUzMTA2Nzk5NDg=","number":7951,"title":" IOS 11.3 WeChat web page video click cannot play","user":{"login":"qiangyuxiao","id":12840051,"node_id":"MDQ6VXNlcjEyODQwMDUx","avatar_url":"https://avatars.githubusercontent.com/u/12840051?v=4","gravatar_id":"","url":"https://api.github.com/users/qiangyuxiao","html_url":"https://github.com/qiangyuxiao","followers_url":"https://api.github.com/users/qiangyuxiao/followers","following_url":"https://api.github.com/users/qiangyuxiao/following{/other_user}","gists_url":"https://api.github.com/users/qiangyuxiao/gists{/gist_id}","starred_url":"https://api.github.com/users/qiangyuxiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qiangyuxiao/subscriptions","organizations_url":"https://api.github.com/users/qiangyuxiao/orgs","repos_url":"https://api.github.com/users/qiangyuxiao/repos","events_url":"https://api.github.com/users/qiangyuxiao/events{/privacy}","received_events_url":"https://api.github.com/users/qiangyuxiao/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-03T03:17:24Z","updated_at":"2018-06-04T08:52:51Z","closed_at":"2018-06-04T08:52:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":11730342,"node_id":"MDEwOlJlcG9zaXRvcnkxMTczMDM0Mg==","name":"vue","full_name":"vuejs/vue","private":false,"owner":{"login":"vuejs","id":6128107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxMjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/6128107?v=4","gravatar_id":"","url":"https://api.github.com/users/vuejs","html_url":"https://github.com/vuejs","followers_url":"https://api.github.com/users/vuejs/followers","following_url":"https://api.github.com/users/vuejs/following{/other_user}","gists_url":"https://api.github.com/users/vuejs/gists{/gist_id}","starred_url":"https://api.github.com/users/vuejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vuejs/subscriptions","organizations_url":"https://api.github.com/users/vuejs/orgs","repos_url":"https://api.github.com/users/vuejs/repos","events_url":"https://api.github.com/users/vuejs/events{/privacy}","received_events_url":"https://api.github.com/users/vuejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vuejs/vue","description":"This is the repo for Vue 2. For Vue 3, go to https://github.com/vuejs/core","fork":false,"url":"https://api.github.com/repos/vuejs/vue","forks_url":"https://api.github.com/repos/vuejs/vue/forks","keys_url":"https://api.github.com/repos/vuejs/vue/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vuejs/vue/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vuejs/vue/teams","hooks_url":"https://api.github.com/repos/vuejs/vue/hooks","issue_events_url":"https://api.github.com/repos/vuejs/vue/issues/events{/number}","events_url":"https://api.github.com/repos/vuejs/vue/events","assignees_url":"https://api.github.com/repos/vuejs/vue/assignees{/user}","branches_url":"https://api.github.com/repos/vuejs/vue/branches{/branch}","tags_url":"https://api.github.com/repos/vuejs/vue/tags","blobs_url":"https://api.github.com/repos/vuejs/vue/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vuejs/vue/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vuejs/vue/git/refs{/sha}","trees_url":"https://api.github.com/repos/vuejs/vue/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vuejs/vue/statuses/{sha}","languages_url":"https://api.github.com/repos/vuejs/vue/languages","stargazers_url":"https://api.github.com/repos/vuejs/vue/stargazers","contributors_url":"https://api.github.com/repos/vuejs/vue/contributors","subscribers_url":"https://api.github.com/repos/vuejs/vue/subscribers","subscription_url":"https://api.github.com/repos/vuejs/vue/subscription","commits_url":"https://api.github.com/repos/vuejs/vue/commits{/sha}","git_commits_url":"https://api.github.com/repos/vuejs/vue/git/commits{/sha}","comments_url":"https://api.github.com/repos/vuejs/vue/comments{/number}","issue_comment_url":"https://api.github.com/repos/vuejs/vue/issues/comments{/number}","contents_url":"https://api.github.com/repos/vuejs/vue/contents/{+path}","compare_url":"https://api.github.com/repos/vuejs/vue/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vuejs/vue/merges","archive_url":"https://api.github.com/repos/vuejs/vue/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vuejs/vue/downloads","issues_url":"https://api.github.com/repos/vuejs/vue/issues{/number}","pulls_url":"https://api.github.com/repos/vuejs/vue/pulls{/number}","milestones_url":"https://api.github.com/repos/vuejs/vue/milestones{/number}","notifications_url":"https://api.github.com/repos/vuejs/vue/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vuejs/vue/labels{/name}","releases_url":"https://api.github.com/repos/vuejs/vue/releases{/id}","deployments_url":"https://api.github.com/repos/vuejs/vue/deployments","created_at":"2013-07-29T03:24:51Z","updated_at":"2025-11-09T17:23:38Z","pushed_at":"2024-10-10T07:24:15Z","git_url":"git://github.com/vuejs/vue.git","ssh_url":"git@github.com:vuejs/vue.git","clone_url":"https://github.com/vuejs/vue.git","svn_url":"https://github.com/vuejs/vue","homepage":"http://v2.vuejs.org","size":32152,"stargazers_count":209671,"watchers_count":209671,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33803,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":612,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","frontend","javascript","vue"],"visibility":"public","forks":33803,"open_issues":612,"watchers":209671,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"# Version\r\n 2.5.2\r\n# Link to minimal reproduction\r\nhttps://mzkr830q3y.codesandbox.io/\r\n# Steps to reproduce\r\n* IOS11.3 system and real machine\r\n* Open web link in WeChat\r\n* Click on the video play button\r\n# Problem code\r\n```\r\ncreated() {\r\n      Bus.$on('playVideo', (item) => {\r\n        this.showVideo = true;\r\n        this.item = item;\r\n        this.handle_play();\r\n      });\r\n    },\r\nmethods: {\r\n      handle_play: function () {\r\n          this.showVideo = true;\r\n           setTimeout(() => {\r\n             const video = this.$refs.video;\r\n             try {\r\n               if (!video.paused) {\r\n                // video.pause();\r\n                this.pause(video);\r\n              } else {\r\n                // video.play();\r\n                if (this.canfullScreen()) {\r\n                  this.play(video, true);\r\n                } else {\r\n                  this.play(video);\r\n                }\r\n              }\r\n            } catch (e) {\r\n              console.log(e);\r\n            }\r\n          }, 0);\r\n      }\r\n}\r\n```\r\n# What is expected?\r\n* IOS11.3 system, normal video playback\r\n# What is actually happening?\r\n* IOS11.3 system, click on the video, has been loaded, can not play\r\n* IOS other versions  and  Android click on video in WeChat, can play normally\r\n# Any additional comments? (optional)\r\n * Previously when upgrading vue2.5.2, encountered a problem with the execution timing of $nextTick, downgraded using setTimeout(function(){}, 0)\r\n* Through the delay time, such as: setTimeout (function () {}, 100), can repair IOS11.3 WeChat web pages can not play the problem\r\n* Suspected timing issue with Vue 2.5.2 on setTimeout(function(){}, 0) in IOS 11.3 systems\r\n","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/7951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/7951/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1715650650,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3MTU2NTA2NTA=","url":"https://api.github.com/repos/vuejs/vue/issues/events/1715650650","actor":{"login":"haoqunjiang","id":3277634,"node_id":"MDQ6VXNlcjMyNzc2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3277634?v=4","gravatar_id":"","url":"https://api.github.com/users/haoqunjiang","html_url":"https://github.com/haoqunjiang","followers_url":"https://api.github.com/users/haoqunjiang/followers","following_url":"https://api.github.com/users/haoqunjiang/following{/other_user}","gists_url":"https://api.github.com/users/haoqunjiang/gists{/gist_id}","starred_url":"https://api.github.com/users/haoqunjiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haoqunjiang/subscriptions","organizations_url":"https://api.github.com/users/haoqunjiang/orgs","repos_url":"https://api.github.com/users/haoqunjiang/repos","events_url":"https://api.github.com/users/haoqunjiang/events{/privacy}","received_events_url":"https://api.github.com/users/haoqunjiang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"acc8cab6c9031e4e43a8a26cbfd78fab13e2b50e","commit_url":"https://api.github.com/repos/haoqunjiang/vue/commits/acc8cab6c9031e4e43a8a26cbfd78fab13e2b50e","created_at":"2018-07-04T07:30:38Z","performed_via_github_app":null},{"actor":{"login":"haoqunjiang","id":3277634,"node_id":"MDQ6VXNlcjMyNzc2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3277634?v=4","gravatar_id":"","url":"https://api.github.com/users/haoqunjiang","html_url":"https://github.com/haoqunjiang","followers_url":"https://api.github.com/users/haoqunjiang/followers","following_url":"https://api.github.com/users/haoqunjiang/following{/other_user}","gists_url":"https://api.github.com/users/haoqunjiang/gists{/gist_id}","starred_url":"https://api.github.com/users/haoqunjiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haoqunjiang/subscriptions","organizations_url":"https://api.github.com/users/haoqunjiang/orgs","repos_url":"https://api.github.com/users/haoqunjiang/repos","events_url":"https://api.github.com/users/haoqunjiang/events{/privacy}","received_events_url":"https://api.github.com/users/haoqunjiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T07:34:43Z","updated_at":"2018-07-04T07:34:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vuejs/vue/issues/8450","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/8450/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/8450/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/8450/events","html_url":"https://github.com/vuejs/vue/pull/8450","id":338161703,"node_id":"MDExOlB1bGxSZXF1ZXN0MTk5MTYyMTYw","number":8450,"title":"fix: always use microtasks for nextTick","user":{"login":"haoqunjiang","id":3277634,"node_id":"MDQ6VXNlcjMyNzc2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3277634?v=4","gravatar_id":"","url":"https://api.github.com/users/haoqunjiang","html_url":"https://github.com/haoqunjiang","followers_url":"https://api.github.com/users/haoqunjiang/followers","following_url":"https://api.github.com/users/haoqunjiang/following{/other_user}","gists_url":"https://api.github.com/users/haoqunjiang/gists{/gist_id}","starred_url":"https://api.github.com/users/haoqunjiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haoqunjiang/subscriptions","organizations_url":"https://api.github.com/users/haoqunjiang/orgs","repos_url":"https://api.github.com/users/haoqunjiang/repos","events_url":"https://api.github.com/users/haoqunjiang/events{/privacy}","received_events_url":"https://api.github.com/users/haoqunjiang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":71449830,"node_id":"MDU6TGFiZWw3MTQ0OTgzMA==","url":"https://api.github.com/repos/vuejs/vue/labels/important","name":"important","color":"5319e7","default":false,"description":null},{"id":777055905,"node_id":"MDU6TGFiZWw3NzcwNTU5MDU=","url":"https://api.github.com/repos/vuejs/vue/labels/semver:minor","name":"semver:minor","color":"ade575","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-07-04T07:34:43Z","updated_at":"2023-06-26T21:03:09Z","closed_at":"2018-12-19T18:29:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":11730342,"node_id":"MDEwOlJlcG9zaXRvcnkxMTczMDM0Mg==","name":"vue","full_name":"vuejs/vue","private":false,"owner":{"login":"vuejs","id":6128107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxMjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/6128107?v=4","gravatar_id":"","url":"https://api.github.com/users/vuejs","html_url":"https://github.com/vuejs","followers_url":"https://api.github.com/users/vuejs/followers","following_url":"https://api.github.com/users/vuejs/following{/other_user}","gists_url":"https://api.github.com/users/vuejs/gists{/gist_id}","starred_url":"https://api.github.com/users/vuejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vuejs/subscriptions","organizations_url":"https://api.github.com/users/vuejs/orgs","repos_url":"https://api.github.com/users/vuejs/repos","events_url":"https://api.github.com/users/vuejs/events{/privacy}","received_events_url":"https://api.github.com/users/vuejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vuejs/vue","description":"This is the repo for Vue 2. For Vue 3, go to https://github.com/vuejs/core","fork":false,"url":"https://api.github.com/repos/vuejs/vue","forks_url":"https://api.github.com/repos/vuejs/vue/forks","keys_url":"https://api.github.com/repos/vuejs/vue/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vuejs/vue/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vuejs/vue/teams","hooks_url":"https://api.github.com/repos/vuejs/vue/hooks","issue_events_url":"https://api.github.com/repos/vuejs/vue/issues/events{/number}","events_url":"https://api.github.com/repos/vuejs/vue/events","assignees_url":"https://api.github.com/repos/vuejs/vue/assignees{/user}","branches_url":"https://api.github.com/repos/vuejs/vue/branches{/branch}","tags_url":"https://api.github.com/repos/vuejs/vue/tags","blobs_url":"https://api.github.com/repos/vuejs/vue/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vuejs/vue/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vuejs/vue/git/refs{/sha}","trees_url":"https://api.github.com/repos/vuejs/vue/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vuejs/vue/statuses/{sha}","languages_url":"https://api.github.com/repos/vuejs/vue/languages","stargazers_url":"https://api.github.com/repos/vuejs/vue/stargazers","contributors_url":"https://api.github.com/repos/vuejs/vue/contributors","subscribers_url":"https://api.github.com/repos/vuejs/vue/subscribers","subscription_url":"https://api.github.com/repos/vuejs/vue/subscription","commits_url":"https://api.github.com/repos/vuejs/vue/commits{/sha}","git_commits_url":"https://api.github.com/repos/vuejs/vue/git/commits{/sha}","comments_url":"https://api.github.com/repos/vuejs/vue/comments{/number}","issue_comment_url":"https://api.github.com/repos/vuejs/vue/issues/comments{/number}","contents_url":"https://api.github.com/repos/vuejs/vue/contents/{+path}","compare_url":"https://api.github.com/repos/vuejs/vue/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vuejs/vue/merges","archive_url":"https://api.github.com/repos/vuejs/vue/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vuejs/vue/downloads","issues_url":"https://api.github.com/repos/vuejs/vue/issues{/number}","pulls_url":"https://api.github.com/repos/vuejs/vue/pulls{/number}","milestones_url":"https://api.github.com/repos/vuejs/vue/milestones{/number}","notifications_url":"https://api.github.com/repos/vuejs/vue/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vuejs/vue/labels{/name}","releases_url":"https://api.github.com/repos/vuejs/vue/releases{/id}","deployments_url":"https://api.github.com/repos/vuejs/vue/deployments","created_at":"2013-07-29T03:24:51Z","updated_at":"2025-11-09T17:23:38Z","pushed_at":"2024-10-10T07:24:15Z","git_url":"git://github.com/vuejs/vue.git","ssh_url":"git@github.com:vuejs/vue.git","clone_url":"https://github.com/vuejs/vue.git","svn_url":"https://github.com/vuejs/vue","homepage":"http://v2.vuejs.org","size":32152,"stargazers_count":209671,"watchers_count":209671,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33803,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":612,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","frontend","javascript","vue"],"visibility":"public","forks":33803,"open_issues":612,"watchers":209671,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/vuejs/vue/pulls/8450","html_url":"https://github.com/vuejs/vue/pull/8450","diff_url":"https://github.com/vuejs/vue/pull/8450.diff","patch_url":"https://github.com/vuejs/vue/pull/8450.patch","merged_at":"2018-12-19T18:29:01Z"},"body":"fix #7109, #7546, #7707, #7834, #8109\r\nreopen #6566\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/8450/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/8450/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2036433346,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIwMzY0MzMzNDY=","url":"https://api.github.com/repos/vuejs/vue/issues/events/2036433346","actor":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"850555d1faa9be7d8306adffd95c7dee5e58717f","commit_url":"https://api.github.com/repos/vuejs/vue/commits/850555d1faa9be7d8306adffd95c7dee5e58717f","created_at":"2018-12-19T18:29:05Z","performed_via_github_app":null},{"id":2096744026,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIwOTY3NDQwMjY=","url":"https://api.github.com/repos/vuejs/vue/issues/events/2096744026","actor":{"login":"f2009","id":28625332,"node_id":"MDQ6VXNlcjI4NjI1MzMy","avatar_url":"https://avatars.githubusercontent.com/u/28625332?v=4","gravatar_id":"","url":"https://api.github.com/users/f2009","html_url":"https://github.com/f2009","followers_url":"https://api.github.com/users/f2009/followers","following_url":"https://api.github.com/users/f2009/following{/other_user}","gists_url":"https://api.github.com/users/f2009/gists{/gist_id}","starred_url":"https://api.github.com/users/f2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f2009/subscriptions","organizations_url":"https://api.github.com/users/f2009/orgs","repos_url":"https://api.github.com/users/f2009/repos","events_url":"https://api.github.com/users/f2009/events{/privacy}","received_events_url":"https://api.github.com/users/f2009/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2e68b3ce70aedd6a9a48cf39e390e3ae937b9b5a","commit_url":"https://api.github.com/repos/f2009/vue/commits/2e68b3ce70aedd6a9a48cf39e390e3ae937b9b5a","created_at":"2019-01-25T09:53:05Z","performed_via_github_app":null},{"id":2189013407,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxODkwMTM0MDc=","url":"https://api.github.com/repos/vuejs/vue/issues/events/2189013407","actor":{"login":"telami","id":25978237,"node_id":"MDQ6VXNlcjI1OTc4MjM3","avatar_url":"https://avatars.githubusercontent.com/u/25978237?v=4","gravatar_id":"","url":"https://api.github.com/users/telami","html_url":"https://github.com/telami","followers_url":"https://api.github.com/users/telami/followers","following_url":"https://api.github.com/users/telami/following{/other_user}","gists_url":"https://api.github.com/users/telami/gists{/gist_id}","starred_url":"https://api.github.com/users/telami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/telami/subscriptions","organizations_url":"https://api.github.com/users/telami/orgs","repos_url":"https://api.github.com/users/telami/repos","events_url":"https://api.github.com/users/telami/events{/privacy}","received_events_url":"https://api.github.com/users/telami/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3344c7ede7c8f3770128ff71643ce52a9f7501ef","commit_url":"https://api.github.com/repos/telami/vue-music/commits/3344c7ede7c8f3770128ff71643ce52a9f7501ef","created_at":"2019-03-08T02:16:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/473213292","html_url":"https://github.com/vuejs/vue/issues/7109#issuecomment-473213292","issue_url":"https://api.github.com/repos/vuejs/vue/issues/7109","id":473213292,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzIxMzI5Mg==","user":{"login":"Rainmen-xia","id":5163662,"node_id":"MDQ6VXNlcjUxNjM2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/5163662?v=4","gravatar_id":"","url":"https://api.github.com/users/Rainmen-xia","html_url":"https://github.com/Rainmen-xia","followers_url":"https://api.github.com/users/Rainmen-xia/followers","following_url":"https://api.github.com/users/Rainmen-xia/following{/other_user}","gists_url":"https://api.github.com/users/Rainmen-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/Rainmen-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rainmen-xia/subscriptions","organizations_url":"https://api.github.com/users/Rainmen-xia/orgs","repos_url":"https://api.github.com/users/Rainmen-xia/repos","events_url":"https://api.github.com/users/Rainmen-xia/events{/privacy}","received_events_url":"https://api.github.com/users/Rainmen-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T09:17:48Z","updated_at":"2019-03-15T09:17:48Z","body":"m","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/comments/473213292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rainmen-xia","id":5163662,"node_id":"MDQ6VXNlcjUxNjM2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/5163662?v=4","gravatar_id":"","url":"https://api.github.com/users/Rainmen-xia","html_url":"https://github.com/Rainmen-xia","followers_url":"https://api.github.com/users/Rainmen-xia/followers","following_url":"https://api.github.com/users/Rainmen-xia/following{/other_user}","gists_url":"https://api.github.com/users/Rainmen-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/Rainmen-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rainmen-xia/subscriptions","organizations_url":"https://api.github.com/users/Rainmen-xia/orgs","repos_url":"https://api.github.com/users/Rainmen-xia/repos","events_url":"https://api.github.com/users/Rainmen-xia/events{/privacy}","received_events_url":"https://api.github.com/users/Rainmen-xia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"wangmeijian","id":9384140,"node_id":"MDQ6VXNlcjkzODQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/9384140?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmeijian","html_url":"https://github.com/wangmeijian","followers_url":"https://api.github.com/users/wangmeijian/followers","following_url":"https://api.github.com/users/wangmeijian/following{/other_user}","gists_url":"https://api.github.com/users/wangmeijian/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmeijian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmeijian/subscriptions","organizations_url":"https://api.github.com/users/wangmeijian/orgs","repos_url":"https://api.github.com/users/wangmeijian/repos","events_url":"https://api.github.com/users/wangmeijian/events{/privacy}","received_events_url":"https://api.github.com/users/wangmeijian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T03:53:26Z","updated_at":"2020-06-29T03:53:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/281","repository_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question","labels_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/281/labels{/name}","comments_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/281/comments","events_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/281/events","html_url":"https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/281","id":494355424,"node_id":"MDU6SXNzdWU0OTQzNTU0MjQ=","number":281,"title":"第 139 题：谈一谈 nextTick 的原理","user":{"login":"yygmind","id":18049290,"node_id":"MDQ6VXNlcjE4MDQ5Mjkw","avatar_url":"https://avatars.githubusercontent.com/u/18049290?v=4","gravatar_id":"","url":"https://api.github.com/users/yygmind","html_url":"https://github.com/yygmind","followers_url":"https://api.github.com/users/yygmind/followers","following_url":"https://api.github.com/users/yygmind/following{/other_user}","gists_url":"https://api.github.com/users/yygmind/gists{/gist_id}","starred_url":"https://api.github.com/users/yygmind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yygmind/subscriptions","organizations_url":"https://api.github.com/users/yygmind/orgs","repos_url":"https://api.github.com/users/yygmind/repos","events_url":"https://api.github.com/users/yygmind/events{/privacy}","received_events_url":"https://api.github.com/users/yygmind/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1736451638,"node_id":"MDU6TGFiZWwxNzM2NDUxNjM4","url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/labels/Vue","name":"Vue","color":"f995db","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2019-09-17T01:38:48Z","updated_at":"2021-03-14T08:58:28Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":166535974,"node_id":"MDEwOlJlcG9zaXRvcnkxNjY1MzU5NzQ=","name":"Daily-Interview-Question","full_name":"Advanced-Frontend/Daily-Interview-Question","private":false,"owner":{"login":"Advanced-Frontend","id":18049346,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE4MDQ5MzQ2","avatar_url":"https://avatars.githubusercontent.com/u/18049346?v=4","gravatar_id":"","url":"https://api.github.com/users/Advanced-Frontend","html_url":"https://github.com/Advanced-Frontend","followers_url":"https://api.github.com/users/Advanced-Frontend/followers","following_url":"https://api.github.com/users/Advanced-Frontend/following{/other_user}","gists_url":"https://api.github.com/users/Advanced-Frontend/gists{/gist_id}","starred_url":"https://api.github.com/users/Advanced-Frontend/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Advanced-Frontend/subscriptions","organizations_url":"https://api.github.com/users/Advanced-Frontend/orgs","repos_url":"https://api.github.com/users/Advanced-Frontend/repos","events_url":"https://api.github.com/users/Advanced-Frontend/events{/privacy}","received_events_url":"https://api.github.com/users/Advanced-Frontend/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Advanced-Frontend/Daily-Interview-Question","description":"我是依扬（木易杨），公众号「高级前端进阶」作者，每天搞定一道前端大厂面试题，祝大家天天进步，一年后会看到不一样的自己。","fork":false,"url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question","forks_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/forks","keys_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/teams","hooks_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/hooks","issue_events_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/events{/number}","events_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/events","assignees_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/assignees{/user}","branches_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/branches{/branch}","tags_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/tags","blobs_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/git/refs{/sha}","trees_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/statuses/{sha}","languages_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/languages","stargazers_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/stargazers","contributors_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/contributors","subscribers_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/subscribers","subscription_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/subscription","commits_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/commits{/sha}","git_commits_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/git/commits{/sha}","comments_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/comments{/number}","issue_comment_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/comments{/number}","contents_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/contents/{+path}","compare_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/merges","archive_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/downloads","issues_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues{/number}","pulls_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/pulls{/number}","milestones_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/milestones{/number}","notifications_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/labels{/name}","releases_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/releases{/id}","deployments_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/deployments","created_at":"2019-01-19T10:49:00Z","updated_at":"2025-11-08T03:15:05Z","pushed_at":"2020-11-09T01:07:00Z","git_url":"git://github.com/Advanced-Frontend/Daily-Interview-Question.git","ssh_url":"git@github.com:Advanced-Frontend/Daily-Interview-Question.git","clone_url":"https://github.com/Advanced-Frontend/Daily-Interview-Question.git","svn_url":"https://github.com/Advanced-Frontend/Daily-Interview-Question","homepage":"https://muyiy.cn/question/","size":199,"stargazers_count":27528,"watchers_count":27528,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3274,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":266,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["css","interview","javascript","react","vue"],"visibility":"public","forks":3274,"open_issues":266,"watchers":27528,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"","reactions":{"url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Advanced-Frontend/Daily-Interview-Question/issues/281/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]