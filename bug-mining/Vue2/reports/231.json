{"url":"https://api.github.com/repos/vuejs/vue/issues/6146","repository_url":"https://api.github.com/repos/vuejs/vue","labels_url":"https://api.github.com/repos/vuejs/vue/issues/6146/labels{/name}","comments_url":"https://api.github.com/repos/vuejs/vue/issues/6146/comments","events_url":"https://api.github.com/repos/vuejs/vue/issues/6146/events","html_url":"https://github.com/vuejs/vue/issues/6146","id":243657457,"node_id":"MDU6SXNzdWUyNDM2NTc0NTc=","number":6146,"title":"vue & vue-template-compiler  has different behavior between 2.4.1 & 2.3.4 when compile contents in pre tag","user":{"login":"clancyz","id":4703150,"node_id":"MDQ6VXNlcjQ3MDMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/4703150?v=4","gravatar_id":"","url":"https://api.github.com/users/clancyz","html_url":"https://github.com/clancyz","followers_url":"https://api.github.com/users/clancyz/followers","following_url":"https://api.github.com/users/clancyz/following{/other_user}","gists_url":"https://api.github.com/users/clancyz/gists{/gist_id}","starred_url":"https://api.github.com/users/clancyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clancyz/subscriptions","organizations_url":"https://api.github.com/users/clancyz/orgs","repos_url":"https://api.github.com/users/clancyz/repos","events_url":"https://api.github.com/users/clancyz/events{/privacy}","received_events_url":"https://api.github.com/users/clancyz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224019885,"node_id":"MDU6TGFiZWwyMjQwMTk4ODU=","url":"https://api.github.com/repos/vuejs/vue/labels/regression","name":"regression","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-07-18T09:40:17Z","updated_at":"2017-07-20T23:32:21Z","closed_at":"2017-07-20T23:32:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\r\n2.4.1\r\n\r\n### Reproduction link\r\n[https://github.com/clancyz/vue-2.4.1-test.git](https://github.com/clancyz/vue-2.4.1-test.git)\r\n\r\n### Steps to reproduce\r\nI was using `prismjs` to highlight some codes in .vue files, which covert normal codes to pairs of `<span>`s.\r\n\r\nBut when upgrade to `Vue&Vue-template-compiler@2.4.1` the code in pre tag has compiled to inline formats.  \r\n\r\nIn `Vue&Vue-template-compiler@2.3.4` it works well.\r\n\r\nIt seems 2.3.4 & 2.4.1 has different behavior in pre tag compilation.\r\n\r\nThe contents in pre tag: (you can also see it in `src/app.vue`)\r\n\r\n```html\r\n<pre>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>x-row</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>x-col</span>&nbsp;<span class=\"token attr-name\">:span</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>x-textarea</span>&nbsp;<span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Please Insert<span class=\"token punctuation\">\"</span></span>&nbsp;<span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>input<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>x-textarea</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>x-col</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>x-row</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n\r\n</pre>\r\n```\r\n\r\nDemos below were tested in `Chrome 59.0.3071.115`\r\n\r\n### Demo  in 2.3.4 \r\n\r\n```bash\r\ngit clone https://github.com/clancyz/vue-2.4.1-test.git\r\n\r\n# install vue2.3.4 and vue-template-compiler 2.3.4\r\nnpm install\r\n\r\nnpm run dev\r\n```\r\n\r\nWhich works well.\r\n\r\n\r\n![2.3.4](https://raw.githubusercontent.com/clancyz/vue-2.4.1-test/master/2.3.4.jpg)\r\n\r\nHere's html contents:\r\n\r\n![2.3.4](https://raw.githubusercontent.com/clancyz/vue-2.4.1-test/master/2.3.4html.png)\r\n\r\n\r\n### Demo in 2.4.1\r\n\r\n```bash\r\n# install vue2.3.4 and vue-template-compiler 2.3.4\r\nnpm i vue@2.4.1 vue-template-compiler@2.4.1\r\n\r\nnpm run dev\r\n```\r\nThe demo code is **inline** now:\r\n\r\n\r\n![2.4.1](https://raw.githubusercontent.com/clancyz/vue-2.4.1-test/master/2.4.1.jpg)\r\n\r\nHere's html contents:\r\n\r\n![2.4.1](https://raw.githubusercontent.com/clancyz/vue-2.4.1-test/master/2.4.1html.png)\r\n\r\n\r\n** By compare two html contents,  it seems `\\n` has removed in 2.4.1. **\r\n\r\n\r\n\r\n\r\n### What is expected?\r\nCodes in pre has correct format\r\n\r\n### What is actually happening?\r\nCodes in pre was inline in 2.4.1\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","closed_by":{"login":"yyx990803","id":499550,"node_id":"MDQ6VXNlcjQ5OTU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/499550?v=4","gravatar_id":"","url":"https://api.github.com/users/yyx990803","html_url":"https://github.com/yyx990803","followers_url":"https://api.github.com/users/yyx990803/followers","following_url":"https://api.github.com/users/yyx990803/following{/other_user}","gists_url":"https://api.github.com/users/yyx990803/gists{/gist_id}","starred_url":"https://api.github.com/users/yyx990803/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyx990803/subscriptions","organizations_url":"https://api.github.com/users/yyx990803/orgs","repos_url":"https://api.github.com/users/yyx990803/repos","events_url":"https://api.github.com/users/yyx990803/events{/privacy}","received_events_url":"https://api.github.com/users/yyx990803/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vuejs/vue/issues/6146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vuejs/vue/issues/6146/timeline","performed_via_github_app":null,"state_reason":"completed"}