diff --git a/flow/vnode.js b/flow/vnode.js
index 644160b7..fbd26891 100644
--- a/flow/vnode.js
+++ b/flow/vnode.js
@@ -46,6 +46,7 @@ declare interface VNodeData {
   on?: ?{ [key: string]: Function | Array<Function> };
   nativeOn?: { [key: string]: Function | Array<Function> };
   transition?: Object;
+  transitionInjected?: boolean;
   inlineTemplate?: {
     render: Function;
     staticRenderFns: Array<Function>;
diff --git a/src/platforms/web/runtime/modules/transition.js b/src/platforms/web/runtime/modules/transition.js
index af038114..d9668fdd 100644
--- a/src/platforms/web/runtime/modules/transition.js
+++ b/src/platforms/web/runtime/modules/transition.js
@@ -94,14 +94,21 @@ export function enter (vnode: VNodeWithData) {
 
   if (!vnode.data.show) {
     // remove pending leave element on enter by injecting an insert hook
-    mergeVNodeHook(vnode.data.hook || (vnode.data.hook = {}), 'insert', () => {
+    const hooks = vnode.data.hook || (vnode.data.hook = {})
+    hooks._transitionInsert = () => {
       const parent = el.parentNode
-      const pendingNode = parent._pending && parent._pending[vnode.key]
+      const pendingNode = parent && parent._pending && parent._pending[vnode.key]
       if (pendingNode && pendingNode.tag === vnode.tag && pendingNode.elm._leaveCb) {
         pendingNode.elm._leaveCb()
       }
       enterHook && enterHook(el, cb)
-    })
+    }
+    if (!vnode.data.transitionInjected) {
+      vnode.data.transitionInjected = true
+      mergeVNodeHook(hooks, 'insert', () => {
+        hooks._transitionInsert()
+      })
+    }
   }
 
   // start enter transition
