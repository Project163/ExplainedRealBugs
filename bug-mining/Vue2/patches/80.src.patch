diff --git a/build/config.js b/build/config.js
index ffbd44fe..a48de6d1 100644
--- a/build/config.js
+++ b/build/config.js
@@ -38,7 +38,7 @@ const builds = {
     env: 'development',
     banner,
     alias: {
-      entities: './entity-decoder'
+      he: './entity-decoder'
     }
   },
   // Runtime+compiler standalone production build.
@@ -49,7 +49,7 @@ const builds = {
     env: 'production',
     banner,
     alias: {
-      entities: './entity-decoder'
+      he: './entity-decoder'
     }
   },
   // Web compiler (CommonJS).
@@ -57,14 +57,14 @@ const builds = {
     entry: path.resolve(__dirname, '../src/entries/web-compiler.js'),
     dest: path.resolve(__dirname, '../packages/vue-template-compiler/build.js'),
     format: 'cjs',
-    external: ['entities', 'de-indent']
+    external: ['he', 'de-indent']
   },
   // Web server renderer (CommonJS).
   'web-server-renderer': {
     entry: path.resolve(__dirname, '../src/entries/web-server-renderer.js'),
     dest: path.resolve(__dirname, '../packages/vue-server-renderer/build.js'),
     format: 'cjs',
-    external: ['stream', 'module', 'vm', 'entities', 'de-indent']
+    external: ['stream', 'module', 'vm', 'he', 'de-indent']
   }
 }
 
diff --git a/flow/modules.js b/flow/modules.js
index 829c7715..5ea7f71a 100644
--- a/flow/modules.js
+++ b/flow/modules.js
@@ -1,6 +1,6 @@
-declare module 'entities' {
-  declare function encodeHTML(html: string): string;
-  declare function decodeHTML(html: string): string;
+declare module 'he' {
+  declare function escape(html: string): string;
+  declare function decode(html: string): string;
 }
 
 declare module 'source-map' {
diff --git a/package.json b/package.json
index 323f6778..6bb003fb 100644
--- a/package.json
+++ b/package.json
@@ -61,7 +61,6 @@
     "codecov.io": "^0.1.6",
     "cross-spawn": "^4.0.0",
     "de-indent": "^1.0.2",
-    "entities": "^1.1.1",
     "es6-promise": "^3.2.1",
     "eslint": "^3.4.0",
     "eslint-config-vue": "^1.1.0",
@@ -69,6 +68,7 @@
     "eslint-plugin-flowtype": "^2.16.0",
     "eslint-plugin-html": "^1.5.2",
     "flow-bin": "^0.32.0",
+    "he": "^1.1.0",
     "http-server": "^0.9.0",
     "jasmine": "2.4.x",
     "jasmine-core": "2.4.x",
diff --git a/packages/vue-server-renderer/package.json b/packages/vue-server-renderer/package.json
index 2e381b55..1c7b0a51 100644
--- a/packages/vue-server-renderer/package.json
+++ b/packages/vue-server-renderer/package.json
@@ -18,7 +18,7 @@
     "url": "https://github.com/vuejs/vue/issues"
   },
   "dependencies": {
-    "entities": "^1.1.1",
+    "he": "^1.1.0",
     "de-indent": "^1.0.2"
   },
   "homepage": "https://github.com/vuejs/vue#readme"
diff --git a/packages/vue-template-compiler/package.json b/packages/vue-template-compiler/package.json
index a44f6a78..78664584 100644
--- a/packages/vue-template-compiler/package.json
+++ b/packages/vue-template-compiler/package.json
@@ -18,7 +18,7 @@
   },
   "homepage": "https://github.com/vuejs/vue#readme",
   "dependencies": {
-    "de-indent": "^1.0.2",
-    "entities": "^1.1.1"
+    "he": "^1.1.0",
+    "de-indent": "^1.0.2"
   }
 }
diff --git a/src/compiler/parser/entity-decoder.js b/src/compiler/parser/entity-decoder.js
index 387cc6ee..66b27f6a 100644
--- a/src/compiler/parser/entity-decoder.js
+++ b/src/compiler/parser/entity-decoder.js
@@ -2,7 +2,7 @@
 
 const decoder = document.createElement('div')
 
-export function decodeHTML (html: string): string {
+export function decode (html: string): string {
   decoder.innerHTML = html
   return decoder.textContent
 }
diff --git a/src/compiler/parser/html-parser.js b/src/compiler/parser/html-parser.js
index f50c89e9..dcedab9f 100644
--- a/src/compiler/parser/html-parser.js
+++ b/src/compiler/parser/html-parser.js
@@ -54,21 +54,21 @@ const nlRE = /&#10;/g
 const ampRE = /&amp;/g
 const quoteRE = /&quot;/g
 
-function decodeAttr (value, shouldDecodeTags, shouldDecodeNewlines) {
-  if (shouldDecodeTags) {
-    value = value.replace(ltRE, '<').replace(gtRE, '>')
-  }
+function decodeAttr (value, shouldDecodeNewlines) {
   if (shouldDecodeNewlines) {
     value = value.replace(nlRE, '\n')
   }
-  return value.replace(ampRE, '&').replace(quoteRE, '"')
+  return value
+    .replace(ltRE, '<')
+    .replace(gtRE, '>')
+    .replace(ampRE, '&')
+    .replace(quoteRE, '"')
 }
 
 export function parseHTML (html, options) {
   const stack = []
   const expectHTML = options.expectHTML
   const isUnaryTag = options.isUnaryTag || no
-  const isFromDOM = options.isFromDOM
   let index = 0
   let last, lastTag
   while (html) {
@@ -218,11 +218,10 @@ export function parseHTML (html, options) {
       const value = args[3] || args[4] || args[5] || ''
       attrs[i] = {
         name: args[1],
-        value: isFromDOM ? decodeAttr(
+        value: decodeAttr(
           value,
-          options.shouldDecodeTags,
           options.shouldDecodeNewlines
-        ) : value
+        )
       }
     }
 
diff --git a/src/compiler/parser/index.js b/src/compiler/parser/index.js
index de9d348d..4b51151c 100644
--- a/src/compiler/parser/index.js
+++ b/src/compiler/parser/index.js
@@ -1,6 +1,6 @@
 /* @flow */
 
-import { decodeHTML } from 'entities'
+import { decode } from 'he'
 import { parseHTML } from './html-parser'
 import { parseText } from './text-parser'
 import { cached, no, camelize } from 'shared/util'
@@ -24,7 +24,7 @@ const argRE = /:(.*)$/
 const modifierRE = /\.[^\.]+/g
 const specialNewlineRE = /\u2028|\u2029/g
 
-const decodeHTMLCached = cached(decodeHTML)
+const decodeHTMLCached = cached(decode)
 
 // configurable state
 let warn
@@ -61,8 +61,6 @@ export function parse (
   parseHTML(template, {
     expectHTML: options.expectHTML,
     isUnaryTag: options.isUnaryTag,
-    isFromDOM: options.isFromDOM,
-    shouldDecodeTags: options.shouldDecodeTags,
     shouldDecodeNewlines: options.shouldDecodeNewlines,
     start (tag, attrs, unary) {
       // check namespace.
diff --git a/src/entries/web-runtime-with-compiler.js b/src/entries/web-runtime-with-compiler.js
index cf8eb69d..55e28c2e 100644
--- a/src/entries/web-runtime-with-compiler.js
+++ b/src/entries/web-runtime-with-compiler.js
@@ -3,7 +3,7 @@
 import Vue from './web-runtime'
 import { warn, cached } from 'core/util/index'
 import { query } from 'web/util/index'
-import { shouldDecodeTags, shouldDecodeNewlines } from 'web/util/compat'
+import { shouldDecodeNewlines } from 'web/util/compat'
 import { compileToFunctions } from 'web/compiler/index'
 
 const idToTemplate = cached(id => {
@@ -30,15 +30,12 @@ Vue.prototype.$mount = function (
   // resolve template/el and convert to render function
   if (!options.render) {
     let template = options.template
-    let isFromDOM = false
     if (template) {
       if (typeof template === 'string') {
         if (template.charAt(0) === '#') {
-          isFromDOM = true
           template = idToTemplate(template)
         }
       } else if (template.nodeType) {
-        isFromDOM = true
         template = template.innerHTML
       } else {
         if (process.env.NODE_ENV !== 'production') {
@@ -47,14 +44,11 @@ Vue.prototype.$mount = function (
         return this
       }
     } else if (el) {
-      isFromDOM = true
       template = getOuterHTML(el)
     }
     if (template) {
       const { render, staticRenderFns } = compileToFunctions(template, {
         warn,
-        isFromDOM,
-        shouldDecodeTags,
         shouldDecodeNewlines,
         delimiters: options.delimiters
       }, this)
diff --git a/src/platforms/web/util/compat.js b/src/platforms/web/util/compat.js
index 1978a892..3ee0019e 100644
--- a/src/platforms/web/util/compat.js
+++ b/src/platforms/web/util/compat.js
@@ -9,13 +9,6 @@ function shouldDecode (content: string, encoded: string): boolean {
   return div.innerHTML.indexOf(encoded) > 0
 }
 
-// According to
-// https://w3c.github.io/DOM-Parsing/#dfn-serializing-an-attribute-value
-// when serializing innerHTML, <, >, ", & should be encoded as entities.
-// However, only some browsers, e.g. PhantomJS, encodes < and >.
-// this causes problems with the in-browser parser.
-export const shouldDecodeTags = inBrowser ? shouldDecode('>', '&gt;') : false
-
 // #3663
 // IE encodes newlines inside attribute values while other browsers don't
 export const shouldDecodeNewlines = inBrowser ? shouldDecode('\n', '&#10;') : false
diff --git a/src/server/render.js b/src/server/render.js
index 660b9779..8b755da0 100644
--- a/src/server/render.js
+++ b/src/server/render.js
@@ -1,6 +1,6 @@
 /* @flow */
 
-import { encodeHTML } from 'entities'
+import { escape } from 'he'
 import { compileToFunctions } from 'web/compiler/index'
 import { createComponentInstanceForVnode } from 'core/vdom/create-component'
 
@@ -112,7 +112,7 @@ export function createRenderFunction (
       } else if (node.isComment) {
         write(`<!--${node.text}-->`, next)
       } else {
-        write(node.raw ? node.text : encodeHTML(String(node.text)), next)
+        write(node.raw ? node.text : escape(String(node.text)), next)
       }
     }
   }
diff --git a/test/ssr/ssr-bundle-render.spec.js b/test/ssr/ssr-bundle-render.spec.js
index f35ca790..c28ce636 100644
--- a/test/ssr/ssr-bundle-render.spec.js
+++ b/test/ssr/ssr-bundle-render.spec.js
@@ -37,7 +37,7 @@ describe('SSR: bundle renderer', () => {
       const context = { url: '/test' }
       renderer.renderToString(context, (err, res) => {
         expect(err).toBeNull()
-        expect(res).toBe('<div server-rendered="true">&sol;test</div>')
+        expect(res).toBe('<div server-rendered="true">/test</div>')
         expect(context.msg).toBe('hello')
         done()
       })
@@ -53,7 +53,7 @@ describe('SSR: bundle renderer', () => {
         res += chunk.toString()
       })
       stream.on('end', () => {
-        expect(res).toBe('<div server-rendered="true">&sol;test</div>')
+        expect(res).toBe('<div server-rendered="true">/test</div>')
         expect(context.msg).toBe('hello')
         done()
       })
@@ -99,7 +99,7 @@ describe('SSR: bundle renderer', () => {
       }
     }
     createRenderer('cache.js', renderer => {
-      const expected = '<div server-rendered="true">&sol;test</div>'
+      const expected = '<div server-rendered="true">/test</div>'
       const key = 'app::1'
       renderer.renderToString((err, res) => {
         expect(err).toBeNull()
@@ -142,7 +142,7 @@ describe('SSR: bundle renderer', () => {
       }
     }
     createRenderer('cache.js', renderer => {
-      const expected = '<div server-rendered="true">&sol;test</div>'
+      const expected = '<div server-rendered="true">/test</div>'
       const key = 'app::1'
       renderer.renderToString((err, res) => {
         expect(err).toBeNull()
diff --git a/test/ssr/ssr-string.spec.js b/test/ssr/ssr-string.spec.js
index cee8ee38..c9d7965f 100644
--- a/test/ssr/ssr-string.spec.js
+++ b/test/ssr/ssr-string.spec.js
@@ -94,7 +94,7 @@ describe('SSR: renderToString', () => {
         bar: '<span>rendering</span>'
       }
     }, result => {
-      expect(result).toContain('<div server-rendered="true">server side &lt;span&gt;rendering&lt;&sol;span&gt;</div>')
+      expect(result).toContain('<div server-rendered="true">server side &lt;span&gt;rendering&lt;/span&gt;</div>')
       done()
     })
   })
@@ -118,7 +118,7 @@ describe('SSR: renderToString', () => {
         text: '<span>foo</span>'
       }
     }, result => {
-      expect(result).toContain('<div server-rendered="true">&lt;span&gt;foo&lt;&sol;span&gt;</div>')
+      expect(result).toContain('<div server-rendered="true">&lt;span&gt;foo&lt;/span&gt;</div>')
       done()
     })
   })
