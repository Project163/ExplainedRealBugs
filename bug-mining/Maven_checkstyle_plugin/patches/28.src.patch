diff --git a/src/it/multi-modules/invoker.properties b/src/it/multi-modules/invoker.properties
index 410bcfd..221ad8f 100644
--- a/src/it/multi-modules/invoker.properties
+++ b/src/it/multi-modules/invoker.properties
@@ -1 +1 @@
-invoker.goals=clean checkstyle:checkstyle
+invoker.goals=clean checkstyle:checkstyle checkstyle:check
diff --git a/src/it/multi-modules/multi-modules-child/src/main/java/org/apache/maven/plugins/checkstyle/its/App.java b/src/it/multi-modules/multi-modules-child/src/main/java/org/apache/maven/plugins/checkstyle/its/App.java
index 08afde3..701a6e3 100644
--- a/src/it/multi-modules/multi-modules-child/src/main/java/org/apache/maven/plugins/checkstyle/its/App.java
+++ b/src/it/multi-modules/multi-modules-child/src/main/java/org/apache/maven/plugins/checkstyle/its/App.java
@@ -1,5 +1,24 @@
 package org.apache.maven.plugins.checkstyle.its;
 
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
 /**
  * Hello world!
  *
diff --git a/src/it/multi-modules/pom.xml b/src/it/multi-modules/pom.xml
index d6b34fe..55aa51d 100644
--- a/src/it/multi-modules/pom.xml
+++ b/src/it/multi-modules/pom.xml
@@ -38,6 +38,10 @@
           <groupId>org.apache.maven.plugins</groupId>
           <artifactId>maven-checkstyle-plugin</artifactId>
           <version>@pom.version@</version>
+          <configuration>
+            <configLocation>http://svn.apache.org/repos/asf/maven/plugins/tags/maven-checkstyle-plugin-2.5/src/main/resources/config/maven_checks.xml</configLocation>
+            <headerLocation>http://svn.apache.org/repos/asf/maven/plugins/tags/maven-checkstyle-plugin-2.5/src/main/resources/config/maven-header.txt</headerLocation>
+          </configuration>            
         </plugin>      
       </plugins>
     </pluginManagement>
@@ -61,6 +65,9 @@
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-checkstyle-plugin</artifactId>
         <version>@pom.version@</version>
+        <configuration>
+          <configLocation>http://svn.apache.org/repos/asf/maven/plugins/tags/maven-checkstyle-plugin-2.5/src/main/resources/config/maven_checks.xml</configLocation>
+        </configuration>        
       </plugin>
     </plugins>
   </reporting>
diff --git a/src/it/multimoduleproject/invoker.properties b/src/it/multimoduleproject/invoker.properties
index 410bcfd..221ad8f 100644
--- a/src/it/multimoduleproject/invoker.properties
+++ b/src/it/multimoduleproject/invoker.properties
@@ -1 +1 @@
-invoker.goals=clean checkstyle:checkstyle
+invoker.goals=clean checkstyle:checkstyle checkstyle:check
diff --git a/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java b/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java
index d3baf7e..3b8c928 100644
--- a/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java
+++ b/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java
@@ -404,6 +404,11 @@ public class DefaultCheckstyleExecutor
             excludesStr.append( defaultExcludes[i] );
         }
 
+        if (request.getSourceDirectory() == null || !request.getSourceDirectory().exists())
+        {
+            return EMPTY_FILE_ARRAY;
+        }
+        
         List files = FileUtils.getFiles( request.getSourceDirectory(), request.getIncludes(), excludesStr.toString() );
         if ( request.isIncludeTestSourceDirectory() && ( request.getTestSourceDirectory() != null )
             && ( request.getTestSourceDirectory().exists() ) && ( request.getTestSourceDirectory().isDirectory() ) )
