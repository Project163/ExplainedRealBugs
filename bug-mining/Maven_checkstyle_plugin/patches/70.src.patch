diff --git a/pom.xml b/pom.xml
index 257bee5..e359708 100644
--- a/pom.xml
+++ b/pom.xml
@@ -82,6 +82,11 @@ under the License.
       <artifactId>maven-artifact</artifactId>
       <version>${mavenVersion}</version>
     </dependency>
+    <dependency>
+      <groupId>org.apache.maven</groupId>
+      <artifactId>maven-core</artifactId>
+      <version>${mavenVersion}</version>
+    </dependency>
     <dependency>
       <groupId>org.apache.maven</groupId>
       <artifactId>maven-model</artifactId>
diff --git a/src/main/java/org/apache/maven/plugin/checkstyle/CheckstyleViolationCheckMojo.java b/src/main/java/org/apache/maven/plugin/checkstyle/CheckstyleViolationCheckMojo.java
index d608a2b..777b21b 100644
--- a/src/main/java/org/apache/maven/plugin/checkstyle/CheckstyleViolationCheckMojo.java
+++ b/src/main/java/org/apache/maven/plugin/checkstyle/CheckstyleViolationCheckMojo.java
@@ -29,6 +29,7 @@ import org.apache.maven.model.Dependency;
 import org.apache.maven.model.Plugin;
 import org.apache.maven.model.Resource;
 import org.apache.maven.plugin.AbstractMojo;
+import org.apache.maven.plugin.MojoExecution;
 import org.apache.maven.plugin.MojoExecutionException;
 import org.apache.maven.plugin.MojoFailureException;
 import org.apache.maven.plugin.descriptor.PluginDescriptor;
@@ -313,6 +314,10 @@ public class CheckstyleViolationCheckMojo
     @Parameter( defaultValue= "${plugin}" )
     private PluginDescriptor plugin;
 
+    // remove when requiring Maven 3.x, just use #plugin 
+    @Parameter( defaultValue= "${mojoExecution}" )
+    private MojoExecution mojoExecution;
+
     /**
      * If <code>null</code>, the Checkstyle plugin will display violations on stdout.
      * Otherwise, a text file will be created with the violations.
@@ -696,6 +701,12 @@ public class CheckstyleViolationCheckMojo
     
     private List<Artifact> collectArtifacts( String hint )
     {
+        if ( plugin == null || plugin.getGroupId() == null )
+        {
+            // Maven 2.x workaround
+            plugin = mojoExecution.getMojoDescriptor().getPluginDescriptor();
+        }
+        
         List<Artifact> artifacts = new ArrayList<Artifact>();
 
         Plugin checkstylePlugin =
