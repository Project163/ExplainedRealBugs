<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:30:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MCHECKSTYLE-207] file handle leak - leading to failed builds</title>
                <link>https://issues.apache.org/jira/browse/MCHECKSTYLE-207</link>
                <project id="12317223" key="MCHECKSTYLE">Maven Checkstyle Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;The plugin sets the classpath to load as a URLClassloader populated with all the URLs to the projects dependencies (jars) and output folders.&lt;/p&gt;

&lt;p&gt;However the URLClassloader is never closed (only available in JDK1.7+) and for a large multi-module project with a large number of dependencies this leak can seriously add up (which if gc doesn&apos;t kick in at the right moment) will lead to random failures due to java.io.IOException: error=24, Too many open files.&lt;/p&gt;

&lt;p&gt;see &lt;a href=&quot;http://svn.apache.org/viewvc/maven/plugins/tags/maven-checkstyle-plugin-2.11/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java?revision=1540890&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/maven/plugins/tags/maven-checkstyle-plugin-2.11/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java?revision=1540890&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Line 162 where the URLClassloader is created - but never cleaned up.&lt;/p&gt;

&lt;p&gt;The fix is relatively trivial if it is only to be fixed for 1.7+ JVMs (and use reflection if need to be compatable with &amp;lt; 1.7).&lt;/p&gt;

&lt;p&gt;Otherwise a custom classloader will be needed.&lt;/p&gt;</description>
                <environment>Linux</environment>
        <key id="12800138">MCHECKSTYLE-207</key>
            <summary>file handle leak - leading to failed builds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dennisl@apache.org">Dennis Lundberg</assignee>
                                    <reporter username="teilo">James Nord</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 10:50:50 +0000</created>
                <updated>Fri, 13 Jun 2025 10:20:39 +0000</updated>
                            <resolved>Sun, 2 Mar 2014 13:53:44 +0000</resolved>
                                                    <fixVersion>2.12</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14427753" author="teilo" created="Wed, 19 Feb 2014 10:02:38 +0000"  >&lt;p&gt;Patch to resolve the issue on JDK 1.7+&lt;/p&gt;</comment>
                            <comment id="14428095" author="dennisl@apache.org" created="Fri, 21 Feb 2014 17:51:10 +0000"  >&lt;p&gt;Hi James,&lt;/p&gt;

&lt;p&gt;Thanks for the patch. I&apos;ve had a look at it, and have a question about the logged message in the catch clause. When would that happen?&lt;br/&gt;
Would it be on Java 7, if and only if the class loader for some reason didn&apos;t close correctly?&lt;/p&gt;

&lt;p&gt;Also, which code is that has a bug in it? The message is a bit confusing to me...&lt;/p&gt;</comment>
                            <comment id="14427764" author="teilo" created="Sun, 23 Feb 2014 02:27:07 +0000"  >&lt;p&gt;Hi Dennis,&lt;/p&gt;

&lt;p&gt;It&apos;s hard to say when it may happen - with the Sun JDK and URLClassloader it shouldn&apos;t happen - but I was reluctant to just swallow the exception with no logging (which is what some other areas of the core maven code code)&lt;/p&gt;

&lt;p&gt;There is nothing (I guess) stopping someone else&apos;s classloader being used that could implement Closeable pre jdk7 and so it could happen on JDK5+ with a custom classloader implementation.&lt;/p&gt;

&lt;p&gt;That said I am not really expecting this message to ever be printed.&lt;/p&gt;
</comment>
                            <comment id="14427786" author="struberg" created="Fri, 28 Feb 2014 09:15:44 +0000"  >&lt;p&gt;Any update on this, Dennis?&lt;br/&gt;
Would like to include this for the next release.&lt;/p&gt;</comment>
                            <comment id="14428106" author="dennisl@apache.org" created="Sun, 2 Mar 2014 13:53:44 +0000"  >&lt;p&gt;Patch applied in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1573348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1573348&lt;/a&gt;. Thank you!&lt;/p&gt;</comment>
                            <comment id="17971775" author="githubbot" created="Fri, 13 Jun 2025 09:58:55 +0000"  >&lt;p&gt;jira-importer opened a new issue, #526:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/526&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/526&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;James Nord&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teilo)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teilo)**&lt;/a&gt; opened **&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-207&quot; title=&quot;file handle leak - leading to failed builds&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-207&quot;&gt;&lt;del&gt;MCHECKSTYLE-207&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-207?redirect=false)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MCHECKSTYLE-207?redirect=false)**&lt;/a&gt; and commented&lt;/p&gt;

&lt;p&gt;   The plugin sets the classpath to load as a URLClassloader populated with all the URLs to the projects dependencies (jars) and output folders.&lt;/p&gt;

&lt;p&gt;   However the URLClassloader is never closed (only available in JDK1.7+) and for a large multi-module project with a large number of dependencies this leak can seriously add up (which if gc doesn&apos;t kick in at the right moment) will lead to random failures due to java.io.IOException: error=24, Too many open files.&lt;/p&gt;

&lt;p&gt;   see &lt;a href=&quot;http://svn.apache.org/viewvc/maven/plugins/tags/maven-checkstyle-plugin-2.11/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java?revision=1540890&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/maven/plugins/tags/maven-checkstyle-plugin-2.11/src/main/java/org/apache/maven/plugin/checkstyle/DefaultCheckstyleExecutor.java?revision=1540890&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Line 162 where the URLClassloader is created - but never cleaned up.&lt;/p&gt;

&lt;p&gt;   The fix is relatively trivial if it is only to be fixed for 1.7+ JVMs (and use reflection if need to be compatable with &amp;lt; 1.7).&lt;/p&gt;

&lt;p&gt;   Otherwise a custom classloader will be needed.&lt;/p&gt;


&lt;p&gt;   &amp;#8212;&lt;/p&gt;

&lt;p&gt;   *&lt;b&gt;Attachments:&lt;/b&gt;*&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;MCHECKSTYLE-207_PATCH_V1 (1).txt&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12714681/MCHECKSTYLE-207_PATCH_V1+%281%29.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12714681/MCHECKSTYLE-207_PATCH_V1+%281%29.txt&lt;/a&gt;) (&lt;em&gt;1.21 kB&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="17971776" author="githubbot" created="Fri, 13 Jun 2025 09:58:55 +0000"  >&lt;p&gt;jira-importer commented on issue #526:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790442&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790442&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;James Nord&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teilo)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teilo)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   Patch to resolve the issue on JDK 1.7+&lt;/p&gt;


</comment>
                            <comment id="17971777" author="githubbot" created="Fri, 13 Jun 2025 09:58:56 +0000"  >&lt;p&gt;jira-importer commented on issue #526:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790445&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790445&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Dennis Lundberg&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dennisl@apache.org)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dennisl@apache.org)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   Hi James,&lt;/p&gt;

&lt;p&gt;   Thanks for the patch. I&apos;ve had a look at it, and have a question about the logged message in the catch clause. When would that happen?&lt;br/&gt;
   Would it be on Java 7, if and only if the class loader for some reason didn&apos;t close correctly?&lt;/p&gt;

&lt;p&gt;   Also, which code is that has a bug in it? The message is a bit confusing to me...&lt;/p&gt;


</comment>
                            <comment id="17971778" author="githubbot" created="Fri, 13 Jun 2025 09:58:57 +0000"  >&lt;p&gt;jira-importer commented on issue #526:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790446&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790446&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;James Nord&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teilo)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teilo)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   Hi Dennis,&lt;/p&gt;

&lt;p&gt;   It&apos;s hard to say when it may happen - with the Sun JDK and URLClassloader it shouldn&apos;t happen - but I was reluctant to just swallow the exception with no logging (which is what some other areas of the core maven code code)&lt;/p&gt;

&lt;p&gt;   There is nothing (I guess) stopping someone else&apos;s classloader being used that could implement Closeable pre jdk7 and so it could happen on JDK5+ with a custom classloader implementation.&lt;/p&gt;

&lt;p&gt;   That said I am not really expecting this message to ever be printed.&lt;/p&gt;



</comment>
                            <comment id="17971779" author="githubbot" created="Fri, 13 Jun 2025 09:58:58 +0000"  >&lt;p&gt;jira-importer commented on issue #526:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790461&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Dennis Lundberg&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dennisl@apache.org)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dennisl@apache.org)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   Patch applied in &lt;span class=&quot;error&quot;&gt;&amp;#91;r1573348&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1573348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1573348&lt;/a&gt;). Thank you!&lt;/p&gt;


</comment>
                            <comment id="17971780" author="githubbot" created="Fri, 13 Jun 2025 09:58:59 +0000"  >&lt;p&gt;jira-importer commented on issue #526:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790453&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/526#issuecomment-2969790453&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Mark Struberg&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=struberg)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=struberg)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   Any update on this, Dennis?&lt;br/&gt;
   Would like to include this for the next release.&lt;/p&gt;


</comment>
                            <comment id="17972669" author="sparsick" created="Fri, 13 Jun 2025 10:20:39 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/526&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-checkstyle-plugin#526&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12714681" name="MCHECKSTYLE-207_PATCH_V1 (1).txt" size="1237" author="teilo" created="Wed, 19 Feb 2014 10:02:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29rvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>