<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:31:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MCHECKSTYLE-244] LicenseResourceManager component is not thread safe and causes parallel build failures</title>
                <link>https://issues.apache.org/jira/browse/MCHECKSTYLE-244</link>
                <project id="12317223" key="MCHECKSTYLE">Maven Checkstyle Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;&lt;tt&gt;LicenseResouceManager&lt;/tt&gt; component does not specify instantiation strategy. By default plexus uses singleton strategey which leads to &lt;tt&gt;ConcurrentModificationException&lt;/tt&gt; in parallel maven builds.&lt;/p&gt;

&lt;p&gt;Example: when two &lt;tt&gt;DefaultCheckstyleExecutors&lt;/tt&gt; try to use one licence manager: one calls &lt;tt&gt;addSearchPath&lt;/tt&gt; on &lt;tt&gt;FileResourceLoader&lt;/tt&gt; while the other one iterating over paths in &lt;tt&gt;getResource&lt;/tt&gt; on the same &lt;tt&gt;FileResourceLoader&lt;/tt&gt; .&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-238&quot; title=&quot;ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-238&quot;&gt;&lt;del&gt;MCHECKSTYLE-238&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; title=&quot;ConcurrentModificationException in FileResourceLoader.getResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-230&quot;&gt;&lt;del&gt;MCHECKSTYLE-230&lt;/del&gt;&lt;/a&gt; are exactly about this situation. Right now the plugin for some reason is marked as thread safe although it definetly produces exceptions in parallel multimodule builds.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;DefaultCheckstyleRssGenerator&lt;/tt&gt; is a point of attention because it is also singleton instantiated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12800118">MCHECKSTYLE-244</key>
            <summary>LicenseResourceManager component is not thread safe and causes parallel build failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hboutemy">Herv&#233; Boutemy</assignee>
                                    <reporter username="kpokrovsky">Konstantin Pokrovsky</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jul 2014 17:36:00 +0000</created>
                <updated>Fri, 13 Jun 2025 10:20:42 +0000</updated>
                            <resolved>Mon, 18 Aug 2014 07:52:48 +0000</resolved>
                                    <version>2.12</version>
                    <version>2.12.1</version>
                                    <fixVersion>2.13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14427803" author="hboutemy" created="Fri, 1 Aug 2014 03:03:32 +0000"  >&lt;p&gt;I&apos;m ok with the problem on LicenseResourceManager being not threadsafe: this part is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; title=&quot;ConcurrentModificationException in FileResourceLoader.getResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-230&quot;&gt;&lt;del&gt;MCHECKSTYLE-230&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;for DefaultCheckstyleRssGenerator, AFAIK, it only uses VelocityCompoennt, which is threadsafe: so I don&apos;t see any issue&lt;br/&gt;
can you confirm?&lt;/p&gt;</comment>
                            <comment id="14427865" author="kpokrovsky" created="Fri, 1 Aug 2014 14:53:34 +0000"  >&lt;p&gt;Actually the purpose of report is not to show that code is not thread safe. The code is fine. But the component instantiation strategy is wrong. I&apos;ve just changed component annotation to instantiate &quot;per-lookup&quot; and the new plugin build successfully passed 100 paralleled builds without any exceptions. The same is about DefaultCheckstyleRssGenerator: even if the code is thread safe do you really need to instantiate it as a singleton? Does it give any significant advantage?&lt;/p&gt;</comment>
                            <comment id="14427849" author="rfscholte" created="Fri, 1 Aug 2014 15:27:50 +0000"  >&lt;p&gt;I haven&apos;t seen your patch, though. What surprises me, is that according to the exception the &lt;tt&gt;LicenseResouceManager&lt;/tt&gt; is not the real issue, but the &lt;tt&gt;FileResourceLoader&lt;/tt&gt; being a singleton is.&lt;/p&gt;</comment>
                            <comment id="14427769" author="kpokrovsky" created="Fri, 1 Aug 2014 16:44:52 +0000"  >&lt;p&gt;I&apos;ve attached the patch. &lt;em&gt;LicenseResouceManager&lt;/em&gt; extends &lt;em&gt;DefaultResourceManager&lt;/em&gt; component from &lt;em&gt;plexus-resources&lt;/em&gt;. Parent class is defined as a per-lookup component. &lt;em&gt;LicenseResouceManager&lt;/em&gt; on the other hand is defined as a singleton component. &lt;em&gt;FileResourceLoader&lt;/em&gt; is not instantiated as a singleton, but is used inside of &lt;em&gt;LicenseResouceManager&lt;/em&gt; singleton.&lt;/p&gt;</comment>
                            <comment id="14427866" author="hboutemy" created="Mon, 18 Aug 2014 07:20:48 +0000"  >&lt;p&gt;I see that a lot of classes extending AbstractResourceLoader are effectively marked as instantiation-strategy=&quot;per-lookup&quot; (like FileResourceLoader, JarResourceLoader, ...)&lt;/p&gt;

&lt;p&gt;and since we didn&apos;t mark LicenseResourceManager as per-lookup, only a single instance is used, with its Map&amp;lt;String, ResourceLoader&amp;gt; resourceLoaders containing a FileResourceLoader: so in theory, I now see how this can lead to the actual problem in FileResourceLoader as used by LicenseResourceManager, and how simply marking LicenseResourceManager as per-lookup will fix the issue&lt;/p&gt;

&lt;p&gt;now I only have one problem: how to reproduce the issue and check that it is fixed by the change?&lt;br/&gt;
do you have a sample project to reproduce the issue?&lt;/p&gt;</comment>
                            <comment id="14427850" author="kpokrovsky" created="Mon, 18 Aug 2014 07:36:31 +0000"  >&lt;p&gt;I&apos;ve reproduced the issue on internal maven project with 20-30 modules: ~1-2 failures per 10-20 checkstyle-only builds before the fix. After the fix I&apos;ve stopped testing on 100 consecutive successful builds.&lt;/p&gt;</comment>
                            <comment id="14427770" author="hboutemy" created="Mon, 18 Aug 2014 07:52:48 +0000"  >&lt;p&gt;ok, I could reproduce the issue 1 time each 5 runs with jclouds as shown in &lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; title=&quot;ConcurrentModificationException in FileResourceLoader.getResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-230&quot;&gt;&lt;del&gt;MCHECKSTYLE-230&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;then I checked with more than 15 builds without failure that this simple modification removes the failure&lt;/p&gt;

&lt;p&gt;so it is fixed in &lt;a href=&quot;http://svn.apache.org/r1618594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1618594&lt;/a&gt;&lt;br/&gt;
thank you for your help&lt;/p&gt;</comment>
                            <comment id="17971884" author="githubbot" created="Fri, 13 Jun 2025 10:00:32 +0000"  >&lt;p&gt;jira-importer commented on issue #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793347&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793347&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Herv&#233; Boutemy&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hboutemy)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hboutemy)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   I&apos;m ok with the problem on LicenseResourceManager being not threadsafe: this part is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; title=&quot;ConcurrentModificationException in FileResourceLoader.getResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-230&quot;&gt;&lt;del&gt;MCHECKSTYLE-230&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   for DefaultCheckstyleRssGenerator, AFAIK, it only uses VelocityCompoennt, which is threadsafe: so I don&apos;t see any issue&lt;br/&gt;
   can you confirm?&lt;/p&gt;


</comment>
                            <comment id="17971885" author="githubbot" created="Fri, 13 Jun 2025 10:00:32 +0000"  >&lt;p&gt;jira-importer opened a new issue, #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Konstantin Pokrovsky&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&lt;/a&gt; opened **&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-244&quot; title=&quot;LicenseResourceManager component is not thread safe and causes parallel build failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-244&quot;&gt;&lt;del&gt;MCHECKSTYLE-244&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-244?redirect=false)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MCHECKSTYLE-244?redirect=false)**&lt;/a&gt; and commented&lt;/p&gt;

&lt;p&gt;   `LicenseResouceManager` component does not specify instantiation strategy. By default plexus uses singleton strategey which leads to `ConcurrentModificationException` in parallel maven builds.&lt;/p&gt;

&lt;p&gt;   Example: when two `DefaultCheckstyleExecutors` try to use one licence manager: one calls `addSearchPath` on `FileResourceLoader` while the other one iterating over paths in `getResource` on the same `FileResourceLoader` .&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-238&quot; title=&quot;ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-238&quot;&gt;&lt;del&gt;MCHECKSTYLE-238&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; title=&quot;ConcurrentModificationException in FileResourceLoader.getResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-230&quot;&gt;&lt;del&gt;MCHECKSTYLE-230&lt;/del&gt;&lt;/a&gt; are exactly about this situation. Right now the plugin for some reason is marked as thread safe although it definetly produces exceptions in parallel multimodule builds.&lt;/p&gt;

&lt;p&gt;   `DefaultCheckstyleRssGenerator` is a point of attention because it is also singleton instantiated.&lt;/p&gt;


&lt;p&gt;   &amp;#8212;&lt;/p&gt;

&lt;p&gt;   *&lt;b&gt;Affects:&lt;/b&gt;* 2.12, 2.12.1&lt;/p&gt;

&lt;p&gt;   *&lt;b&gt;Attachments:&lt;/b&gt;*&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;MCHECKSTYLE-244.patch&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12714743/MCHECKSTYLE-244.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12714743/MCHECKSTYLE-244.patch&lt;/a&gt;) (&lt;em&gt;1.66 kB&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   *&lt;b&gt;Issue Links:&lt;/b&gt;*&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; title=&quot;ConcurrentModificationException in FileResourceLoader.getResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-230&quot;&gt;&lt;del&gt;MCHECKSTYLE-230&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&lt;/a&gt;) ConcurrentModificationException in FileResourceLoader.getResource&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-238&quot; title=&quot;ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-238&quot;&gt;&lt;del&gt;MCHECKSTYLE-238&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-238&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MCHECKSTYLE-238&lt;/a&gt;) ConcurrentModificationException&lt;/li&gt;
&lt;/ul&gt;




</comment>
                            <comment id="17971886" author="githubbot" created="Fri, 13 Jun 2025 10:00:33 +0000"  >&lt;p&gt;jira-importer commented on issue #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793358&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793358&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Robert Scholte&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   I haven&apos;t seen your patch, though. What surprises me, is that according to the exception the `LicenseResouceManager` is not the real issue, but the `FileResourceLoader` being a singleton is.&lt;/p&gt;


</comment>
                            <comment id="17971887" author="githubbot" created="Fri, 13 Jun 2025 10:00:34 +0000"  >&lt;p&gt;jira-importer commented on issue #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793364&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793364&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Konstantin Pokrovsky&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   I&apos;ve attached the patch. &lt;em&gt;LicenseResouceManager&lt;/em&gt; extends &lt;em&gt;DefaultResourceManager&lt;/em&gt; component from &lt;em&gt;plexus-resources&lt;/em&gt;. Parent class is defined as a per-lookup component. &lt;em&gt;LicenseResouceManager&lt;/em&gt; on the other hand is defined as a singleton component. &lt;em&gt;FileResourceLoader&lt;/em&gt; is not instantiated as a singleton, but is used inside of &lt;em&gt;LicenseResouceManager&lt;/em&gt; singleton.&lt;/p&gt;


</comment>
                            <comment id="17971888" author="githubbot" created="Fri, 13 Jun 2025 10:00:35 +0000"  >&lt;p&gt;jira-importer commented on issue #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793376&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Herv&#233; Boutemy&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hboutemy)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hboutemy)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   I see that a lot of classes extending AbstractResourceLoader are effectively marked as instantiation-strategy=&quot;per-lookup&quot; (like FileResourceLoader, JarResourceLoader, ...)&lt;/p&gt;

&lt;p&gt;   and since we didn&apos;t mark LicenseResourceManager as per-lookup, only a single instance is used, with its Map&amp;lt;String, ResourceLoader&amp;gt; resourceLoaders containing a FileResourceLoader: so in theory, I now see how this can lead to the actual problem in FileResourceLoader as used by LicenseResourceManager, and how simply marking LicenseResourceManager as per-lookup will fix the issue&lt;/p&gt;

&lt;p&gt;   now I only have one problem: how to reproduce the issue and check that it is fixed by the change?&lt;br/&gt;
   do you have a sample project to reproduce the issue?&lt;/p&gt;


</comment>
                            <comment id="17971889" author="githubbot" created="Fri, 13 Jun 2025 10:00:36 +0000"  >&lt;p&gt;jira-importer commented on issue #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793387&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793387&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Herv&#233; Boutemy&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hboutemy)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hboutemy)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   ok, I could reproduce the issue 1 time each 5 runs with jclouds as shown in &lt;a href=&quot;https://issues.apache.org/jira/browse/MCHECKSTYLE-230&quot; title=&quot;ConcurrentModificationException in FileResourceLoader.getResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCHECKSTYLE-230&quot;&gt;&lt;del&gt;MCHECKSTYLE-230&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   then I checked with more than 15 builds without failure that this simple modification removes the failure&lt;/p&gt;

&lt;p&gt;   so it is fixed in &lt;span class=&quot;error&quot;&gt;&amp;#91;r1618594&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://svn.apache.org/r1618594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1618594&lt;/a&gt;)&lt;br/&gt;
   thank you for your help&lt;/p&gt;


</comment>
                            <comment id="17971890" author="githubbot" created="Fri, 13 Jun 2025 10:00:37 +0000"  >&lt;p&gt;jira-importer commented on issue #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793354&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Konstantin Pokrovsky&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   Actually the purpose of report is not to show that code is not thread safe. The code is fine. But the component instantiation strategy is wrong. I&apos;ve just changed component annotation to instantiate &quot;per-lookup&quot; and the new plugin build successfully passed 100 paralleled builds without any exceptions. The same is about DefaultCheckstyleRssGenerator: even if the code is thread safe do you really need to instantiate it as a singleton? Does it give any significant advantage?&lt;/p&gt;


</comment>
                            <comment id="17971891" author="githubbot" created="Fri, 13 Jun 2025 10:00:38 +0000"  >&lt;p&gt;jira-importer commented on issue #556:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-checkstyle-plugin/issues/556#issuecomment-2969793381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   **&lt;span class=&quot;error&quot;&gt;&amp;#91;Konstantin Pokrovsky&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpokrovsky)**&lt;/a&gt; commented&lt;/p&gt;

&lt;p&gt;   I&apos;ve reproduced the issue on internal maven project with 20-30 modules: ~1-2 failures per 10-20 checkstyle-only builds before the fix. After the fix I&apos;ve stopped testing on 100 consecutive successful builds.&lt;/p&gt;


</comment>
                            <comment id="17972687" author="sparsick" created="Fri, 13 Jun 2025 10:20:42 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-checkstyle-plugin/issues/556&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-checkstyle-plugin#556&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12800242">MCHECKSTYLE-230</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12800020">MCHECKSTYLE-238</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12714743" name="MCHECKSTYLE-244.patch" size="1694" author="kpokrovsky" created="Fri, 1 Aug 2014 16:40:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29riv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>