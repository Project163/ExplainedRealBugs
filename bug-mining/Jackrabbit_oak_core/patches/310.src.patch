diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/JsopDiff.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/JsopDiff.java
index bf8c1a43c7..dc96de9fd0 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/JsopDiff.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/JsopDiff.java
@@ -28,6 +28,7 @@ import javax.jcr.PropertyType;
 import org.apache.jackrabbit.mk.json.JsopBuilder;
 import org.apache.jackrabbit.oak.api.Blob;
 import org.apache.jackrabbit.oak.api.PropertyState;
+import org.apache.jackrabbit.oak.api.Type;
 import org.apache.jackrabbit.oak.commons.PathUtils;
 import org.apache.jackrabbit.oak.spi.state.ChildNodeEntry;
 import org.apache.jackrabbit.oak.spi.state.NodeState;
@@ -134,9 +135,15 @@ class JsopDiff implements NodeStateDiff {
 
     private void toJson(PropertyState propertyState, JsopBuilder jsop) {
         if (propertyState.isArray()) {
-            jsop.array();
-            toJsonValue(propertyState, jsop);
-            jsop.endArray();
+            Type<?> type = propertyState.getType();
+            if (type == STRINGS || propertyState.count() > 0) {
+                jsop.array();
+                toJsonValue(propertyState, jsop);
+                jsop.endArray();
+            } else {
+                jsop.value(TypeCodes.EMPTY_ARRAY
+                        + PropertyType.nameFromValue(type.tag()));
+            }
         } else {
             toJsonValue(propertyState, jsop);
         }
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeState.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeState.java
index 5f077bc2da..52fc0f4e85 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeState.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeState.java
@@ -19,6 +19,7 @@
 package org.apache.jackrabbit.oak.kernel;
 
 import static com.google.common.base.Preconditions.checkNotNull;
+import static java.util.Collections.emptyList;
 import static org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState.EMPTY_NODE;
 import static org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState.MISSING_NODE;
 import static org.apache.jackrabbit.oak.plugins.memory.PropertyStates.createProperty;
@@ -55,6 +56,7 @@ import org.apache.jackrabbit.oak.plugins.memory.BinaryPropertyState;
 import org.apache.jackrabbit.oak.plugins.memory.BooleanPropertyState;
 import org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState;
 import org.apache.jackrabbit.oak.plugins.memory.MemoryNodeBuilder;
+import org.apache.jackrabbit.oak.plugins.memory.PropertyStates;
 import org.apache.jackrabbit.oak.plugins.memory.StringPropertyState;
 import org.apache.jackrabbit.oak.plugins.value.Conversions;
 import org.apache.jackrabbit.oak.spi.state.AbstractChildNodeEntry;
@@ -627,6 +629,12 @@ public final class KernelNodeState extends AbstractNodeState {
             return BooleanPropertyState.booleanProperty(name, false);
         } else if (reader.matches(JsopReader.STRING)) {
             String jsonString = reader.getToken();
+            if (jsonString.startsWith(TypeCodes.EMPTY_ARRAY)) {
+                int type = PropertyType.valueFromName(
+                        jsonString.substring(TypeCodes.EMPTY_ARRAY.length()));
+                return PropertyStates.createProperty(
+                        name, emptyList(), Type.fromTag(type, true));
+            }
             int split = TypeCodes.split(jsonString);
             if (split != -1) {
                 int type = TypeCodes.decodeType(split, jsonString);
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/TypeCodes.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/TypeCodes.java
index 50af730fed..28c7199877 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/TypeCodes.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/TypeCodes.java
@@ -29,6 +29,9 @@ import javax.jcr.PropertyType;
  * its json serialisation.
  */
 public final class TypeCodes {
+
+    public static final String EMPTY_ARRAY = "[0]:";
+
     private static final Map<Integer, String> TYPE2CODE = new HashMap<Integer, String>();
     private static final Map<String, Integer> CODE2TYPE = new HashMap<String, Integer>();
 
