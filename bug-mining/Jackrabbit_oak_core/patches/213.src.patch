diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java
index da1e1180db..167bf35225 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java
@@ -211,8 +211,8 @@ public class MemoryNodeBuilder implements NodeBuilder {
             // ... same for the write state
             writeState = parent.getWriteState(name);
 
-            checkState(baseState != null || writeState != null, "This node is disconnected");
             revision = root.revision;
+            checkState(baseState != null || writeState != null, "This node is disconnected");
         }
 
         assert classInvariants();
