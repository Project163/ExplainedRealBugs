diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ContentRepositoryImpl.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ContentRepositoryImpl.java
index ac01a1236b..2c1060b85e 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ContentRepositoryImpl.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ContentRepositoryImpl.java
@@ -16,8 +16,7 @@
  */
 package org.apache.jackrabbit.oak.core;
 
-import java.util.ArrayList;
-import java.util.List;
+import java.util.Collections;
 
 import javax.annotation.Nonnull;
 import javax.jcr.Credentials;
@@ -32,18 +31,11 @@ import org.apache.jackrabbit.oak.api.ContentRepository;
 import org.apache.jackrabbit.oak.api.ContentSession;
 import org.apache.jackrabbit.oak.api.QueryEngine;
 import org.apache.jackrabbit.oak.kernel.KernelNodeStore;
-import org.apache.jackrabbit.oak.plugins.lucene.LuceneEditor;
-import org.apache.jackrabbit.oak.plugins.name.NameValidatorProvider;
-import org.apache.jackrabbit.oak.plugins.name.NamespaceValidatorProvider;
-import org.apache.jackrabbit.oak.plugins.type.DefaultTypeEditor;
-import org.apache.jackrabbit.oak.plugins.type.TypeValidatorProvider;
-import org.apache.jackrabbit.oak.plugins.value.ConflictValidatorProvider;
 import org.apache.jackrabbit.oak.query.QueryEngineImpl;
 import org.apache.jackrabbit.oak.security.authentication.LoginContextProviderImpl;
 import org.apache.jackrabbit.oak.security.authorization.AccessControlContextImpl;
 import org.apache.jackrabbit.oak.spi.QueryIndexProvider;
 import org.apache.jackrabbit.oak.spi.commit.CommitEditor;
-import org.apache.jackrabbit.oak.spi.commit.CompositeEditor;
 import org.apache.jackrabbit.oak.spi.commit.CompositeValidatorProvider;
 import org.apache.jackrabbit.oak.spi.commit.ValidatingEditor;
 import org.apache.jackrabbit.oak.spi.commit.ValidatorProvider;
@@ -75,33 +67,47 @@ public class ContentRepositoryImpl implements ContentRepository {
      * test cases only.
      */
     public ContentRepositoryImpl() {
-        this(new MicroKernelImpl(), null, createDefaultValidatorProvider());
+        this(new MicroKernelImpl(), null, new ValidatingEditor(
+                new CompositeValidatorProvider(
+                        Collections.<ValidatorProvider> emptyList())));
         // this(new IndexWrapper(new MicroKernelImpl()), null, null);
     }
 
+    /**
+     * Utility constructor, intended to be used within test cases only.
+     * 
+     * Creates an Oak repository instance based on the given, already
+     * initialized components.
+     * 
+     * @param microKernel
+     *            underlying kernel instance
+     * @param indexProvider
+     *            index provider
+     * @param validatorProvider
+     *            the validation provider
+     */
+    public ContentRepositoryImpl(MicroKernel microKernel,
+            QueryIndexProvider indexProvider,
+            ValidatorProvider validatorProvider) {
+        this(microKernel, indexProvider, new ValidatingEditor(
+                validatorProvider != null ? validatorProvider
+                        : new CompositeValidatorProvider(
+                                Collections.<ValidatorProvider> emptyList())));
+    }
+
     /**
      * Creates an Oak repository instance based on the given, already
      * initialized components.
      *
      * @param microKernel underlying kernel instance
      * @param indexProvider index provider
-     * @param validatorProvider the validation provider
+     * @param commitEditor the commit editor
      */
     public ContentRepositoryImpl(MicroKernel microKernel, QueryIndexProvider indexProvider,
-            ValidatorProvider validatorProvider) {
-
-        if (validatorProvider == null) {
-            validatorProvider = createDefaultValidatorProvider();
-        }
-
+            CommitEditor commitEditor) {
 
         nodeStore = new KernelNodeStore(microKernel);
- 
-        List<CommitEditor> editors = new ArrayList<CommitEditor>();
-        editors.add(new DefaultTypeEditor());
-        editors.add(new ValidatingEditor(validatorProvider));
-        editors.add(new LuceneEditor());
-        nodeStore.setEditor(new CompositeEditor(editors));
+        nodeStore.setEditor(commitEditor);
 
         QueryIndexProvider qip = (indexProvider == null) ? getDefaultIndexProvider(microKernel) : indexProvider;
         queryEngine = new QueryEngineImpl(nodeStore, microKernel, qip);
@@ -118,15 +124,6 @@ public class ContentRepositoryImpl implements ContentRepository {
                 null, null);
     }
 
-    private static ValidatorProvider createDefaultValidatorProvider() {
-        List<ValidatorProvider> providers = new ArrayList<ValidatorProvider>();
-        providers.add(new NameValidatorProvider());
-        providers.add(new NamespaceValidatorProvider());
-        providers.add(new TypeValidatorProvider());
-        providers.add(new ConflictValidatorProvider());
-        return new CompositeValidatorProvider(providers);
-    }
-
     private static QueryIndexProvider getDefaultIndexProvider(MicroKernel mk) {
         return Indexer.getInstance(mk);
     }
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/lucene/AbstractLuceneQueryTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/lucene/AbstractLuceneQueryTest.java
index f6c2d5cc2f..f14ec58ede 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/lucene/AbstractLuceneQueryTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/lucene/AbstractLuceneQueryTest.java
@@ -21,6 +21,8 @@ import static org.apache.jackrabbit.oak.plugins.lucene.LuceneIndexUtils.DEFAULT_
 import static org.apache.jackrabbit.oak.plugins.lucene.LuceneIndexUtils.createIndexNode;
 
 import java.text.ParseException;
+import java.util.ArrayList;
+import java.util.List;
 
 import javax.jcr.GuestCredentials;
 
@@ -34,6 +36,16 @@ import org.apache.jackrabbit.oak.api.Root;
 import org.apache.jackrabbit.oak.api.Tree;
 import org.apache.jackrabbit.oak.core.ContentRepositoryImpl;
 import org.apache.jackrabbit.oak.core.DefaultConflictHandler;
+import org.apache.jackrabbit.oak.plugins.name.NameValidatorProvider;
+import org.apache.jackrabbit.oak.plugins.name.NamespaceValidatorProvider;
+import org.apache.jackrabbit.oak.plugins.type.DefaultTypeEditor;
+import org.apache.jackrabbit.oak.plugins.type.TypeValidatorProvider;
+import org.apache.jackrabbit.oak.plugins.value.ConflictValidatorProvider;
+import org.apache.jackrabbit.oak.spi.commit.CommitEditor;
+import org.apache.jackrabbit.oak.spi.commit.CompositeEditor;
+import org.apache.jackrabbit.oak.spi.commit.CompositeValidatorProvider;
+import org.apache.jackrabbit.oak.spi.commit.ValidatingEditor;
+import org.apache.jackrabbit.oak.spi.commit.ValidatorProvider;
 import org.junit.Before;
 
 /**
@@ -54,7 +66,8 @@ public abstract class AbstractLuceneQueryTest {
     @Before
     public void before() throws Exception {
         repository = new ContentRepositoryImpl(new MicroKernelImpl(),
-                new LuceneIndexProvider(DEFAULT_INDEX_HOME), null);
+                new LuceneIndexProvider(DEFAULT_INDEX_HOME),
+                buildDefaultCommitEditor());
         session = repository.login(new GuestCredentials(), null);
         cleanupIndexNode();
 
@@ -63,6 +76,23 @@ public abstract class AbstractLuceneQueryTest {
 
     }
 
+    private static CommitEditor buildDefaultCommitEditor() {
+        List<CommitEditor> editors = new ArrayList<CommitEditor>();
+        editors.add(new DefaultTypeEditor());
+        editors.add(new ValidatingEditor(createDefaultValidatorProvider()));
+        editors.add(new LuceneEditor());
+        return new CompositeEditor(editors);
+    }
+
+    private static ValidatorProvider createDefaultValidatorProvider() {
+        List<ValidatorProvider> providers = new ArrayList<ValidatorProvider>();
+        providers.add(new NameValidatorProvider());
+        providers.add(new NamespaceValidatorProvider());
+        providers.add(new TypeValidatorProvider());
+        providers.add(new ConflictValidatorProvider());
+        return new CompositeValidatorProvider(providers);
+    }
+
     /**
      * Recreates an empty index node, ready to be used in tests
      * 
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
index 65f38b2925..d94e4b5a96 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
@@ -22,6 +22,9 @@ import org.apache.jackrabbit.oak.api.ContentSession;
 import org.apache.jackrabbit.oak.api.CoreValueFactory;
 import org.apache.jackrabbit.oak.api.QueryEngine;
 import org.apache.jackrabbit.oak.core.ContentRepositoryImpl;
+import org.apache.jackrabbit.oak.plugins.lucene.LuceneIndexProvider;
+import org.apache.jackrabbit.oak.plugins.lucene.LuceneIndexUtils;
+import org.apache.jackrabbit.oak.spi.commit.ValidatorProvider;
 
 import javax.jcr.GuestCredentials;
 
@@ -38,7 +41,7 @@ public abstract class AbstractQueryTest {
 
     {
         mk = new IndexWrapper(new MicroKernelImpl());
-        rep = new ContentRepositoryImpl(mk, null, null);
+        rep = new ContentRepositoryImpl(mk, null, (ValidatorProvider) null);
         try {
             session = rep.login(new GuestCredentials(), "default");
             vf = session.getCoreValueFactory();
