diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/OrderedPropertyIndexLookup.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/OrderedPropertyIndexLookup.java
index a7dfa7c69e..4d20241be8 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/OrderedPropertyIndexLookup.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/OrderedPropertyIndexLookup.java
@@ -29,6 +29,8 @@ import static org.apache.jackrabbit.oak.spi.query.QueryIndex.OrderEntry.Order;
 import java.util.List;
 import java.util.Set;
 
+import javax.annotation.CheckForNull;
+import javax.annotation.Nonnull;
 import javax.annotation.Nullable;
 
 import org.apache.jackrabbit.oak.api.PropertyState;
@@ -141,8 +143,9 @@ public class OrderedPropertyIndexLookup {
         return fallback;
     }
 
-    private static Set<String> getSuperTypes(Filter filter) {
-        if (filter != null && !filter.matchesAllTypes()) {
+    @CheckForNull
+    private static Set<String> getSuperTypes(@Nonnull Filter filter) {
+        if (!filter.matchesAllTypes()) {
             return filter.getSupertypes();
         }
         return null;
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexLookup.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexLookup.java
index 4cb91a89d1..684a597fab 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexLookup.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexLookup.java
@@ -27,6 +27,7 @@ import static org.apache.jackrabbit.oak.plugins.index.property.PropertyIndex.enc
 
 import java.util.Set;
 
+import javax.annotation.CheckForNull;
 import javax.annotation.Nullable;
 
 import org.apache.jackrabbit.oak.api.PropertyState;
@@ -191,6 +192,7 @@ public class PropertyIndexLookup {
         return TYPE;
     }
 
+    @CheckForNull
     private static Set<String> getSuperTypes(Filter filter) {
         if (filter != null && !filter.matchesAllTypes()) {
             return filter.getSupertypes();
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java
index a756eeb83e..6c3fce0b62 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java
@@ -20,6 +20,7 @@ package org.apache.jackrabbit.oak.query.index;
 
 import java.util.ArrayList;
 import java.util.Collection;
+import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map.Entry;
@@ -229,17 +230,17 @@ public class FilterImpl implements Filter {
 
     @Override @Nonnull
     public Set<String> getSupertypes() {
-        return selector == null ? null : selector.getSupertypes();
+        return selector == null ? Collections.EMPTY_SET : selector.getSupertypes();
     }
 
     @Override @Nonnull
     public Set<String> getPrimaryTypes() {
-        return selector == null ? null : selector.getPrimaryTypes();
+        return selector == null ? Collections.EMPTY_SET : selector.getPrimaryTypes();
     }
 
     @Override @Nonnull
     public Set<String> getMixinTypes() {
-        return selector == null ? null : selector.getMixinTypes();
+        return selector == null ? Collections.EMPTY_SET : selector.getMixinTypes();
     }
 
     @Override
