diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/AbstractSecurityTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/AbstractSecurityTest.java
index 5a96c2ede5..cfeabe15c5 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/AbstractSecurityTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/AbstractSecurityTest.java
@@ -80,7 +80,6 @@ public abstract class AbstractSecurityTest {
     private User testUser;
 
     protected NamePathMapper namePathMapper = NamePathMapper.DEFAULT;
-    protected PartialValueFactory valueFactory = new PartialValueFactory(namePathMapper);
     protected SecurityProvider securityProvider;
     protected ContentSession adminSession;
     protected Root root;
@@ -185,10 +184,6 @@ public abstract class AbstractSecurityTest {
         return namePathMapper;
     }
 
-    protected PartialValueFactory getPartialValueFactory() {
-        return valueFactory;
-    }
-
     protected UserConfiguration getUserConfiguration() {
         return getConfig(UserConfiguration.class);
     }
@@ -242,6 +237,10 @@ public abstract class AbstractSecurityTest {
         return new ValueFactoryImpl(root, getNamePathMapper());
     }
 
+    protected PartialValueFactory getPartialValueFactory() {
+        return new PartialValueFactory(getNamePathMapper());
+    }
+
     protected long waitForSystemTimeIncrement(long old) {
         while (old == System.currentTimeMillis()) {
             // wait for system timer to move
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/ACLTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/ACLTest.java
index 5657a0ea34..29d1f636a7 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/ACLTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/ACLTest.java
@@ -843,7 +843,7 @@ public class ACLTest extends AbstractAccessControlTest implements PrivilegeConst
         RestrictionProvider rp = new TestRestrictionProvider("mandatory", Type.NAME, true);
 
         JackrabbitAccessControlList acl = createACL(TEST_PATH, new ArrayList(), namePathMapper, rp);
-        acl.addEntry(testPrincipal, testPrivileges, false, Collections.singletonMap("mandatory", valueFactory.createValue("name", PropertyType.NAME)), Collections.emptyMap());
+        acl.addEntry(testPrincipal, testPrivileges, false, Collections.singletonMap("mandatory", getValueFactory(root).createValue("name", PropertyType.NAME)), Collections.emptyMap());
     }
 
     @Test(expected = AccessControlException.class)
@@ -851,7 +851,7 @@ public class ACLTest extends AbstractAccessControlTest implements PrivilegeConst
         RestrictionProvider rp = new TestRestrictionProvider("mandatory", Type.NAME, true);
 
         JackrabbitAccessControlList acl = createACL(TEST_PATH, new ArrayList(), namePathMapper, rp);
-        acl.addEntry(testPrincipal, testPrivileges, false, Collections.emptyMap(), Collections.singletonMap("mandatory", new Value[] {valueFactory.createValue("name", PropertyType.NAME)}));
+        acl.addEntry(testPrincipal, testPrivileges, false, Collections.emptyMap(), Collections.singletonMap("mandatory", new Value[] {getValueFactory(root).createValue("name", PropertyType.NAME)}));
     }
 
     @Test(expected = AccessControlException.class)
@@ -867,7 +867,7 @@ public class ACLTest extends AbstractAccessControlTest implements PrivilegeConst
         RestrictionProvider rp = new TestRestrictionProvider("mandatory", Type.NAMES, true);
 
         JackrabbitAccessControlList acl = createACL(TEST_PATH, new ArrayList(), namePathMapper, rp);
-        acl.addEntry(testPrincipal, testPrivileges, false, Collections.singletonMap("mandatory", valueFactory.createValue("name", PropertyType.NAME)), Collections.emptyMap());
+        acl.addEntry(testPrincipal, testPrivileges, false, Collections.singletonMap("mandatory", getValueFactory(root).createValue("name", PropertyType.NAME)), Collections.emptyMap());
     }
 
     @Test
@@ -875,7 +875,7 @@ public class ACLTest extends AbstractAccessControlTest implements PrivilegeConst
         RestrictionProvider rp = new TestRestrictionProvider("mandatory", Type.NAMES, true);
 
         JackrabbitAccessControlList acl = createACL(TEST_PATH, new ArrayList(), namePathMapper, rp);
-        acl.addEntry(testPrincipal, testPrivileges, false, Collections.emptyMap(), Collections.singletonMap("mandatory", new Value[] {valueFactory.createValue("name", PropertyType.NAME)}));
+        acl.addEntry(testPrincipal, testPrivileges, false, Collections.emptyMap(), Collections.singletonMap("mandatory", new Value[] {getValueFactory(root).createValue("name", PropertyType.NAME)}));
     }
 
     //--------------------------------------------------------------------------
