diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java
index d54ec5e7d4..5b6962d7bd 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java
@@ -313,6 +313,11 @@ class Branch {
         public void track(String path) {
             modifications.add(path);
         }
+
+        @Override
+        public String toString() {
+            return "B (" + modifications.size() + ")";
+        }
     }
 
     static class RebaseCommit extends BranchCommit {
@@ -360,6 +365,11 @@ class Branch {
         public void track(String path) {
             throw new UnsupportedOperationException("RebaseCommit is read-only");
         }
+
+        @Override
+        public String toString() {
+            return "R (" + previous.size() + ")";
+        }
     }
 
     final static class BranchReference extends WeakReference<Object> {
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java
index f4c0cdfea7..78acb48e62 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java
@@ -35,6 +35,7 @@ import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Collections;
 import java.util.Comparator;
+import java.util.Date;
 import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
@@ -72,6 +73,7 @@ import org.apache.jackrabbit.oak.spi.state.NodeState;
 import org.apache.jackrabbit.oak.spi.state.NodeStore;
 import org.apache.jackrabbit.oak.stats.Clock;
 import org.junit.After;
+import org.junit.Ignore;
 import org.junit.Test;
 
 public class DocumentNodeStoreTest {
@@ -1074,6 +1076,62 @@ public class DocumentNodeStoreTest {
         store.dispose();
     }
 
+    @Ignore("OAK-2513")
+    @Test
+    public void slowRebase() throws Exception {
+        final int NUM_NODES = DocumentRootBuilder.UPDATE_LIMIT / 2;
+        final int NUM_PROPS = 10;
+        final int REBASE_COUNT = 5;
+        final DocumentNodeStore ns = new DocumentMK.Builder().getNodeStore();
+
+        NodeBuilder builder = ns.getRoot().builder();
+        for (int i = 0; i < NUM_NODES / 2; i++) {
+            NodeBuilder c = deepTree(builder.child("n" + i), 5);
+            for (int j = 0; j < NUM_PROPS; j++) {
+                c.setProperty("p" + j, "value");
+            }
+        }
+
+        //1. Prepare a large tree
+        merge(ns, builder);
+
+        builder = ns.getRoot().builder();
+        int[] rebaseCounts = {2,3,1,8,3};
+        for (int r = 0; r < REBASE_COUNT; r++){
+            for (int i = 0; i < NUM_NODES / 2; i++) {
+                NodeBuilder c = deepTree(builder.child("n" + i), 5);
+                for (int j = 0; j < NUM_PROPS; j++) {
+                    c.setProperty("q"+ r + "" + j, "value");
+                }
+            }
+
+            //Do multiple rebase for each round of branch commit phase
+            for (int k = 0; k < rebaseCounts[r]; k++){
+                doSomeChange(ns);
+                ns.rebase(builder);
+            }
+        }
+
+        System.out.println("Starting the final merge "+ new Date());
+        merge(ns, builder);
+
+        ns.dispose();
+    }
+
+    private void doSomeChange(NodeStore ns) throws CommitFailedException {
+        NodeBuilder b = ns.getRoot().builder();
+        b.setProperty("count", System.currentTimeMillis());
+        merge(ns, b);
+    }
+
+    private NodeBuilder deepTree(NodeBuilder parent, int depth){
+        NodeBuilder nb = parent;
+        for (int i = depth ; i >= 0; i--){
+            nb = nb.child("c"+i);
+        }
+        return nb;
+    }
+
     private static void assertNoPreviousDocs(Set<String> ids) {
         for (String id : ids) {
             assertFalse("must not read previous document: " +
