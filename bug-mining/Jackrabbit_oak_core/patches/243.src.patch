diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/AccessControlImporter.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/AccessControlImporter.java
index 3e5e68b8aa..34d2217753 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/AccessControlImporter.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/AccessControlImporter.java
@@ -243,18 +243,15 @@ class AccessControlImporter implements ProtectedNodeImporter, AccessControlConst
         private void setPrivilegeNames(TextValue[] txtValues) throws RepositoryException {
             privileges = new ArrayList<Privilege>();
             for (TextValue value : txtValues) {
-                // FIXME: proper namespace handling (in case of local remapping)
-                Value privilegeName = value.getValue(PropertyType.NAME, namePathMapper);
+                Value privilegeName = value.getValue(PropertyType.NAME);
                 privileges.add(acMgr.privilegeFromName(privilegeName.getString()));
             }
         }
 
         private void addRestriction(PropInfo propInfo) throws RepositoryException {
-            // FIXME: proper namespace handling (in case of local remapping)
             String restrictionName = propInfo.getName();
             int targetType = acl.getRestrictionType(restrictionName);
-            // FIXME: proper namespace handling (in case of local remapping)
-            restrictions.put(propInfo.getName(), propInfo.getValue(targetType, namePathMapper));
+            restrictions.put(propInfo.getName(), propInfo.getValue(targetType));
         }
 
         private void addRestrictions(List<PropInfo> propInfos) throws RepositoryException {
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java
index 5245b79a77..14dcb73b40 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java
@@ -364,7 +364,7 @@ public class UserImporter implements ProtectedPropertyImporter, ProtectedNodeImp
                 }
             }
         } else {
-            log.warn("{} is not of type {}", childInfo.getString(), NT_REP_MEMBERS);
+            log.warn("{} is not of type {}", childInfo.getName(), NT_REP_MEMBERS);
         }
     }
 
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/NodeInfo.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/NodeInfo.java
index 45bb3210cf..3bbbaaccec 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/NodeInfo.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/NodeInfo.java
@@ -68,7 +68,7 @@ public class NodeInfo {
      *
      * @return node name
      */
-    public String getString() {
+    public String getName() {
         return name;
     }
 
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/PropInfo.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/PropInfo.java
index 800c5be75a..8bacf7fc9a 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/PropInfo.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/PropInfo.java
@@ -21,7 +21,7 @@ import javax.jcr.RepositoryException;
 import javax.jcr.Value;
 import javax.jcr.nodetype.PropertyDefinition;
 
-import org.apache.jackrabbit.oak.namepath.NamePathMapper;
+import org.apache.jackrabbit.oak.plugins.nodetype.EffectiveNodeType;
 
 /**
  * Information about a property being imported. This class is used
@@ -125,18 +125,47 @@ public class PropInfo {
         return values;
     }
 
-    public Value getValue(int targetType, NamePathMapper namePathMapper) throws RepositoryException {
+    public Value getValue(int targetType) throws RepositoryException {
         if (multipleStatus == MultipleStatus.MULTIPLE) {
             throw new RepositoryException("TODO");
         }
-        return values[0].getValue(targetType, namePathMapper);
+        return values[0].getValue(targetType);
     }
 
-    public Value[] getValues(int targetType, NamePathMapper namePathMapper) throws RepositoryException {
+    public Value[] getValues(int targetType) throws RepositoryException {
         Value[] va = new Value[values.length];
         for (int i = 0; i < values.length; i++) {
-            va[i] = values[i].getValue(targetType, namePathMapper);
+            va[i] = values[i].getValue(targetType);
         }
         return va;
     }
+
+    //TODO check multivalue handling
+    public PropertyDefinition getPropertyDef(EffectiveNodeType ent) {
+        Iterable<PropertyDefinition> definitions = ent.getNamedPropertyDefinitions(getName());
+        int knownType = getType();
+        for (PropertyDefinition def : definitions) {
+            int requiredType = def.getRequiredType();
+            if ((requiredType == PropertyType.UNDEFINED || knownType == PropertyType.UNDEFINED || requiredType == knownType)
+                    && (def.isMultiple() || multipleStatus == MultipleStatus.UNKNOWN)) {
+                return def;
+            }
+        }
+        definitions = ent.getResidualPropertyDefinitions();
+        for (PropertyDefinition def : definitions) {
+            int requiredType = def.getRequiredType();
+            if ((requiredType == PropertyType.UNDEFINED || knownType == PropertyType.UNDEFINED || requiredType == knownType)
+                    && !def.isMultiple() && multipleStatus == MultipleStatus.UNKNOWN) {
+                return def;
+            }
+        }
+        for (PropertyDefinition def : definitions) {
+            int requiredType = def.getRequiredType();
+            if ((requiredType == PropertyType.UNDEFINED || knownType == PropertyType.UNDEFINED || requiredType == knownType)
+                    && def.isMultiple()) {
+                return def;
+            }
+        }
+        return null;
+    }
 }
\ No newline at end of file
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/TextValue.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/TextValue.java
index 846ddaedb9..5388abbea9 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/TextValue.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/spi/xml/TextValue.java
@@ -20,8 +20,6 @@ import javax.jcr.RepositoryException;
 import javax.jcr.Value;
 import javax.jcr.ValueFormatException;
 
-import org.apache.jackrabbit.oak.namepath.NamePathMapper;
-
 /**
  * {@code TextValue} represents a serialized property value read
  * from a System or Document View XML document.
@@ -30,8 +28,7 @@ public interface TextValue {
 
     String getString();
 
-    // TODO: review again
-    Value getValue(int targetType, NamePathMapper namePathMapper) throws ValueFormatException, RepositoryException;
+    Value getValue(int targetType) throws ValueFormatException, RepositoryException;
 
     /**
      * Dispose this value, i.e. free all bound resources. Once a value has
