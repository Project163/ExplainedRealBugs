diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeProcessor.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeProcessor.java
index de83d49b09..498171da24 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeProcessor.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeProcessor.java
@@ -181,8 +181,8 @@ class ChangeProcessor implements Runnable {
             while (!stopping && changes != null) {
                 EventFilter filter = filterRef.get();
                 if (!(filter.excludeLocal() && changes.isLocal(observationManager.getContentSession()))) {
-                    EventGeneratingNodeStateDiff diff = new EventGeneratingNodeStateDiff(changes);
                     String path = namePathMapper.getOakPath(filter.getPath());
+                    EventGeneratingNodeStateDiff diff = new EventGeneratingNodeStateDiff(changes, path);
                     changes.diff(VisibleDiff.wrap(diff), path);
                     if (!stopping) {
                         diff.sendEvents();
@@ -229,9 +229,9 @@ class ChangeProcessor implements Runnable {
             this.name = name;
         }
 
-        public EventGeneratingNodeStateDiff(ChangeSet changes) {
+        public EventGeneratingNodeStateDiff(ChangeSet changes, String path) {
             // michid parent nodes should be the root here
-            this(changes, filterRef.get().getPath(), new ArrayList<Iterator<Event>>(PURGE_LIMIT), null, null, null, "");
+            this(changes, path, new ArrayList<Iterator<Event>>(PURGE_LIMIT), null, null, null, "");
         }
 
         public void sendEvents() {
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/EventFilter.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/EventFilter.java
index 10e21b443b..ceb1cf0f84 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/EventFilter.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/EventFilter.java
@@ -139,13 +139,14 @@ class EventFilter {
     }
 
     private boolean include(String path) {
-        boolean equalPaths = this.path.equals(path);
+        String thisOakPath = namePathMapper.getOakPath(this.path);
+        String thatOakPath = namePathMapper.getOakPath(path);
+
+        boolean equalPaths = thisOakPath.equals(thatOakPath);
         if (!deep && !equalPaths) {
             return false;
         }
 
-        String thisOakPath = namePathMapper.getOakPath(this.path);
-        String thatOakPath = namePathMapper.getOakPath(path);
         if (deep && !(PathUtils.isAncestor(thisOakPath, thatOakPath) || equalPaths)) {
             return false;
         }
