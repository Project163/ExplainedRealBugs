diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/old/PrefixContentIndex.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/old/PrefixContentIndex.java
index 18436490c8..6c8d502ea9 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/old/PrefixContentIndex.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/old/PrefixContentIndex.java
@@ -134,5 +134,10 @@ public class PrefixContentIndex implements QueryIndex {
             return false;
         }
     }
+    
+    @Override
+    public String toString() {
+        return index.toString();
+    }
 
 }
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndex.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndex.java
index 27de2056b7..942f760fe5 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndex.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndex.java
@@ -138,7 +138,7 @@ public class PropertyIndex implements QueryIndex {
         if (paths != null) {
             return new PathCursor(paths);
         } else {
-            return new TraversingCursor(filter, root);
+            return new TraversingCursor("?", filter, root);
         }
     }
 
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/Query.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/Query.java
index 43f6d954b1..c78eb0640a 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/Query.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/Query.java
@@ -77,6 +77,7 @@ public class Query {
     private static final Logger LOG = LoggerFactory.getLogger(QueryEngineImpl.class);
 
     final SourceImpl source;
+    final String statement;
     final ConstraintImpl constraint;
     final HashMap<String, PropertyValue> bindVariableMap = new HashMap<String, PropertyValue>();
     final HashMap<String, Integer> selectorIndexes = new HashMap<String, Integer>();
@@ -93,8 +94,9 @@ public class Query {
     private Root root;
     private NamePathMapper namePathMapper;
 
-    Query(SourceImpl source, ConstraintImpl constraint, OrderingImpl[] orderings,
+    Query(String statement, SourceImpl source, ConstraintImpl constraint, OrderingImpl[] orderings,
           ColumnImpl[] columns) {
+        this.statement = statement;
         this.source = source;
         this.constraint = constraint;
         this.orderings = orderings;
@@ -566,7 +568,7 @@ public class Query {
     }
 
     public QueryIndex getBestIndex(Filter filter) {
-        return queryEngine.getBestIndex(filter);
+        return queryEngine.getBestIndex(this, filter);
     }
 
     public void setRoot(Root root) {
@@ -617,4 +619,8 @@ public class Query {
         return size;
     }
 
+    public String getStatement() {
+        return statement;
+    }
+
 }
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java
index 600f9b098d..3b0ed61068 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java
@@ -119,14 +119,14 @@ public class QueryEngineImpl {
         return q.executeQuery(this.root);
     }
 
-    public QueryIndex getBestIndex(Filter filter) {
+    public QueryIndex getBestIndex(Query query, Filter filter) {
         QueryIndex best = null;
         double bestCost = Double.MAX_VALUE;
         for (QueryIndex index : getIndexes()) {
             double cost = index.getCost(filter, root);
             if (LOG.isDebugEnabled()) {
                 LOG.debug("cost for " + index + " is " + cost);
-            }            
+            }
             if (cost < bestCost) {
                 bestCost = cost;
                 best = index;
@@ -136,7 +136,7 @@ public class QueryEngineImpl {
             if (LOG.isDebugEnabled()) {
                 LOG.debug("no indexes found - using TraversingIndex; indexProvider: " + indexProvider);
             }
-            best = new TraversingIndex();
+            best = new TraversingIndex(query.getStatement());
         }
         return best;
     }
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java
index ef7737e54e..5edbbd46af 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java
@@ -134,7 +134,7 @@ public class SQL2Parser {
         if (!currentToken.isEmpty()) {
             throw getSyntaxError("<end>");
         }
-        Query q = new Query(source, constraint, orderings, columnArray);
+        Query q = new Query(statement, source, constraint, orderings, columnArray);
         q.setExplain(explain);
         q.setMeasure(measure);
         try {
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingCursor.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingCursor.java
index 573bd80880..d14ebce5fe 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingCursor.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingCursor.java
@@ -26,6 +26,9 @@ import org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction;
 import org.apache.jackrabbit.oak.spi.state.ChildNodeEntry;
 import org.apache.jackrabbit.oak.spi.state.NodeState;
 import org.apache.jackrabbit.oak.spi.state.NodeStateUtils;
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
+
 import com.google.common.collect.Iterators;
 import com.google.common.collect.Queues;
 
@@ -34,6 +37,10 @@ import com.google.common.collect.Queues;
  */
 public class TraversingCursor implements Cursor {
 
+    private static final Logger LOG = LoggerFactory.getLogger(TraversingIndex.class);
+
+    private final String statement;
+    
     private final Filter filter;
 
     private final Deque<Iterator<? extends ChildNodeEntry>> nodeIterators =
@@ -42,8 +49,11 @@ public class TraversingCursor implements Cursor {
     private String parentPath;
 
     private String currentPath;
+    
+    private long readCount;
 
-    public TraversingCursor(Filter filter, NodeState root) {
+    public TraversingCursor(String statement, Filter filter, NodeState root) {
+        this.statement = statement;
         this.filter = filter;
 
         String path = filter.getPath();
@@ -100,6 +110,12 @@ public class TraversingCursor implements Cursor {
             Iterator<? extends ChildNodeEntry> iterator = nodeIterators.getLast();
             if (iterator.hasNext()) {
                 ChildNodeEntry entry = iterator.next();
+                
+                readCount++;
+                if (readCount % 100 == 0) {
+                    LOG.warn("Traversed " + readCount + " nodes with filter " + filter + " for query " + statement + "; consider creating an index or changing the query");
+                }
+                
                 NodeState node = entry.getNodeState();
 
                 String name = entry.getName();
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java
index 0fbd1ab79d..9daf086bec 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java
@@ -28,10 +28,16 @@ import org.apache.jackrabbit.oak.spi.state.NodeState;
  * An index that traverses over a given subtree.
  */
 public class TraversingIndex implements QueryIndex {
+    
+    private final String statement;
+    
+    public TraversingIndex(String statement) {
+        this.statement = statement;
+    }
 
     @Override
     public Cursor query(Filter filter, NodeState root) {
-        return new TraversingCursor(filter, root);
+        return new TraversingCursor(statement, filter, root);
     }
 
     @Override
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java
index 4f69ebc165..aed237ccc2 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java
@@ -64,7 +64,7 @@ public class TraversingIndexTest {
 
     @Test
     public void traverse() throws Exception {
-        TraversingIndex t = new TraversingIndex();
+        TraversingIndex t = new TraversingIndex("?");
 
         String head = mk.getHeadRevision();
         head = mk.commit("/", "+ \"parents\": { \"p0\": {\"id\": \"0\"}, \"p1\": {\"id\": \"1\"}, \"p2\": {\"id\": \"2\"}}", head, "");
