diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java
index bbdec4baa5..19181a1838 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java
@@ -19,6 +19,7 @@
 
 package org.apache.jackrabbit.oak.plugins.document;
 
+import java.util.Collections;
 import java.util.Map;
 
 import javax.annotation.Nonnull;
@@ -123,6 +124,9 @@ public class LocalDiffCache implements DiffCache {
         }
 
         public static ConsolidatedDiff fromString(String value){
+            if (value.isEmpty()){
+                return new ConsolidatedDiff(Collections.<String, String>emptyMap(), 0);
+            }
             return new ConsolidatedDiff(splitter.split(value), 0);
         }
 
@@ -151,6 +155,7 @@ public class LocalDiffCache implements DiffCache {
             return changes.get(path);
         }
 
+        @SuppressWarnings("RedundantIfStatement")
         @Override
         public boolean equals(Object o) {
             if (this == o) return true;
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCacheTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCacheTest.java
index 476a17b850..96469bf8ca 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCacheTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCacheTest.java
@@ -19,6 +19,7 @@
 
 package org.apache.jackrabbit.oak.plugins.document;
 
+import java.util.HashMap;
 import java.util.Map;
 import java.util.Set;
 
@@ -84,6 +85,15 @@ public class LocalDiffCacheTest {
         store.dispose();
     }
 
+    @Test
+    public void emptyDiff() throws Exception{
+        Map<String, String> changes = new HashMap<String, String>();
+        ConsolidatedDiff diff = new ConsolidatedDiff(changes, 100);
+        String asString = diff.asString();
+        ConsolidatedDiff diff2 = ConsolidatedDiff.fromString(asString);
+        assertEquals(diff, diff2);
+    }
+
     private LocalDiffCache getLocalDiffCache(){
         return (LocalDiffCache) store.getLocalDiffCache();
     }
