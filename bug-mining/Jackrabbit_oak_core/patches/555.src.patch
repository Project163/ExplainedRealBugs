diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java
index b94198511a..26fd1d7b97 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java
@@ -539,6 +539,10 @@ class VersionableState {
 
     private int getOPV(NodeBuilder parent, NodeBuilder child, String childName)
             throws RepositoryException {
+        // ignore hidden tree
+        if (childName.startsWith(":")) {
+            return IGNORE;
+        }
         ImmutableTree parentTree = new ImmutableTree(parent.getNodeState());
         NodeState childState;
         if (NT_FROZENNODE.equals(child.getName(JCR_PRIMARYTYPE))) {
