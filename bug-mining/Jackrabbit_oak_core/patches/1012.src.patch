diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/Segment.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/Segment.java
index 07e4676cb5..e4fee74bbe 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/Segment.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/Segment.java
@@ -470,12 +470,12 @@ public class Segment {
                 writer.format("reference %02x: %s%n", refid, getRefId(refid));
             }
             int rootcount = data.getShort(ROOT_COUNT_OFFSET) & 0xffff;
-            int pos = refcount * 16;
+            int pos = data.position() + refcount * 16;
             for (int rootid = 0; rootid < rootcount; rootid++) {
                 writer.format(
-                        "root %d: %s at %04x%n", rootid,
+                            "root %d: %s at %04x%n", rootid,
                         RecordType.values()[data.get(pos + rootid * 3) & 0xff],
-                        data.getShort(pos + rootid * 3 + 1) & 0xffff);
+                            data.getShort(pos + rootid * 3 + 1) & 0xffff);
             }
             int blobrefcount = data.getShort(BLOBREF_COUNT_OFFSET) & 0xffff;
             pos += rootcount * 3;
