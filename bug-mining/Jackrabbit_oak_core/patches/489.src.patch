diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMK.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMK.java
index 5b261a09c9..d6906d7394 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMK.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMK.java
@@ -254,13 +254,13 @@ public class MongoMK implements MicroKernel {
         }
         // also consider nodes with not yet stored modifications (OAK-1107)
         Revision minRev = new Revision(minTimestamp, 0, nodeStore.getClusterId());
-        for (String p : nodeStore.getPendingModifications().getPaths(minRev)) {
-            if (PathUtils.denotesRoot(p)) {
-                continue;
-            }
-            String parent = PathUtils.getParentPath(p);
-            if (path.equals(parent)) {
-                paths.add(p);
+        addPathsForDiff(path, paths, nodeStore.getPendingModifications(), minRev);
+        for (Revision r : new Revision[]{fromRev, toRev}) {
+            if (r.isBranch()) {
+                Branch b = nodeStore.getBranches().getBranch(fromRev);
+                if (b != null) {
+                    addPathsForDiff(path, paths, b.getModifications(r), r);
+                }
             }
         }
         for (String p : paths) {
@@ -290,6 +290,21 @@ public class MongoMK implements MicroKernel {
             }
         }
     }
+
+    private void addPathsForDiff(String path,
+                                 Set<String> paths,
+                                 UnsavedModifications pending,
+                                 Revision minRev) {
+        for (String p : pending.getPaths(minRev)) {
+            if (PathUtils.denotesRoot(p)) {
+                continue;
+            }
+            String parent = PathUtils.getParentPath(p);
+            if (path.equals(parent)) {
+                paths.add(p);
+            }
+        }
+    }
     
     private void diffFewChildren(JsopWriter w, Children fromChildren, Revision fromRev, Children toChildren, Revision toRev) {
         Set<String> childrenSet = new HashSet<String>(toChildren.children);
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMKDiffTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMKDiffTest.java
index 4f58473241..b338556e6e 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMKDiffTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/mongomk/MongoMKDiffTest.java
@@ -255,15 +255,24 @@ public class MongoMKDiffTest extends AbstractMongoConnectionTest {
         for (int i = 0; i < MongoMK.MANY_CHILDREN_THRESHOLD * 2; i++) {
             sb.append("+\"node-").append(i).append("\":{}");
         }
+        String branchRev = mk.branch(null);
         mk.commit("/", sb.toString(), null, null);
+        branchRev = mk.commit("/", "+\"branch\":{}", branchRev, null);
+        branchRev = mk.commit("/branch", sb.toString(), branchRev, null);
         // wait a while, _modified has 5 seconds resolution
         Thread.sleep(TimeUnit.SECONDS.toMillis(6));
-        // create a base commit for the diff
+        // create a base commits for the diffs
         String base = mk.commit("/", "+\"foo\":{}", null, null);
-        // this is the commit we want to get the diff for
+        branchRev = mk.commit("/branch", "+\"foo\":{}", branchRev, null);
+        String branchBase = branchRev;
+        // these are the commits we want to get the diffs for
         String rev = mk.commit("/node-0", "+\"foo\":{}", null, null);
+        branchRev = mk.commit("/branch/node-0", "+\"foo\":{}", branchRev, null);
+        // perform diffs
         String diff = mk.diff(base, rev, "/", 0);
         assertTrue(diff, diff.contains("^\"/node-0\""));
+        diff = mk.diff(branchBase, branchRev, "/branch", 0);
+        assertTrue(diff, diff.contains("^\"/branch/node-0\""));
     }
 
     @Test
