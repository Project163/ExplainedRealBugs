diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ReadOnlyTree.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ReadOnlyTree.java
index fc0e72fa84..00ba65e5fa 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ReadOnlyTree.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/core/ReadOnlyTree.java
@@ -51,7 +51,7 @@ public class ReadOnlyTree implements Tree {
      */
     private final NodeState state;
 
-    public ReadOnlyTree(NodeState rootState) {
+    public ReadOnlyTree(@Nonnull NodeState rootState) {
         this(null, "", rootState);
     }
 
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeFilter.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeFilter.java
index 01f1448eaf..970793f249 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeFilter.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/ChangeFilter.java
@@ -61,10 +61,11 @@ class ChangeFilter {
         this.noLocal = noLocal;
     }
 
-    public boolean include(int eventType, String path, NodeState associatedParentNode) {
+    public boolean include(int eventType, String path, @Nullable NodeState associatedParentNode) {
         return include(eventType)
                 && include(path)
-                && includeByType(new ReadOnlyTree(associatedParentNode));
+                && (associatedParentNode == null
+                    || includeByType(new ReadOnlyTree(associatedParentNode)));
     }
 
     public boolean includeChildren(String path) {
