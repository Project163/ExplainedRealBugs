diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/DefaultTypeEditor.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/DefaultTypeEditor.java
index 59461ef682..e8fdb717c6 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/DefaultTypeEditor.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/DefaultTypeEditor.java
@@ -17,6 +17,7 @@
 package org.apache.jackrabbit.oak.plugins.nodetype;
 
 import org.apache.jackrabbit.oak.api.CommitFailedException;
+import org.apache.jackrabbit.oak.api.Type;
 import org.apache.jackrabbit.oak.spi.commit.CommitHook;
 import org.apache.jackrabbit.oak.spi.state.ChildNodeEntry;
 import org.apache.jackrabbit.oak.spi.state.DefaultNodeStateDiff;
@@ -55,7 +56,7 @@ public class DefaultTypeEditor implements CommitHook {
             if (!NodeStateUtils.isHidden(name)) {
                 NodeBuilder childBuilder = builder.child(name);
                 if (after.getProperty("jcr:primaryType") == null) {
-                    childBuilder.setProperty("jcr:primaryType", defaultType);
+                    childBuilder.setProperty("jcr:primaryType", defaultType, Type.NAME);
                 }
                 DefaultTypeDiff childDiff =
                         new DefaultTypeDiff(childBuilder, defaultType);
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionHook.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionHook.java
index 644302c60c..db4ab5d554 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionHook.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionHook.java
@@ -95,7 +95,7 @@ public class PermissionHook implements PostValidationHook, AccessControlConstant
         NodeBuilder permissionRoot;
         if (!permissionStore.hasChildNode(workspaceName)) {
             permissionRoot = permissionStore.child(workspaceName)
-                    .setProperty(JcrConstants.JCR_PRIMARYTYPE, NT_REP_PERMISSION_STORE);
+                    .setProperty(JcrConstants.JCR_PRIMARYTYPE, NT_REP_PERMISSION_STORE, Type.NAME);
         } else {
             permissionRoot = permissionStore.child(workspaceName);
         }
