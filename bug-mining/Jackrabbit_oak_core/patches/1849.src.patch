diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java
index 00a7f3f7a3..cad4f4d847 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java
@@ -28,6 +28,8 @@ import org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction;
 import org.apache.jackrabbit.oak.spi.query.QueryIndex;
 import org.apache.jackrabbit.oak.spi.state.NodeState;
 
+import static org.apache.jackrabbit.oak.spi.query.QueryConstants.REP_FACET;
+
 /**
  * An index that traverses over a given subtree.
  */
@@ -79,6 +81,11 @@ public class TraversingIndex implements QueryIndex {
             // not an appropriate index for native search
             return Double.POSITIVE_INFINITY;
         }
+        Filter.PropertyRestriction facetRestriction = filter.getPropertyRestriction(REP_FACET);
+        if (facetRestriction != null) {
+            // not an appropriate index for facets
+            return Double.POSITIVE_INFINITY;
+        }
         if (filter.isAlwaysFalse()) {
             return 0;
         }
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java
index d791793a92..49a116fdd6 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/index/TraversingIndexTest.java
@@ -19,8 +19,11 @@
 package org.apache.jackrabbit.oak.query.index;
 
 import static org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState.EMPTY_NODE;
+import static org.apache.jackrabbit.oak.spi.query.QueryConstants.REP_FACET;
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertFalse;
+import static org.mockito.Mockito.mock;
+import static org.mockito.Mockito.when;
 
 import java.util.ArrayList;
 import java.util.Arrays;
@@ -28,8 +31,10 @@ import java.util.Collections;
 import java.util.List;
 
 import org.apache.jackrabbit.oak.spi.query.Cursor;
+import org.apache.jackrabbit.oak.spi.query.Filter;
 import org.apache.jackrabbit.oak.spi.state.NodeBuilder;
 import org.apache.jackrabbit.oak.spi.state.NodeState;
+import org.junit.Assert;
 import org.junit.Test;
 
 /**
@@ -79,4 +84,12 @@ public class TraversingIndexTest {
         assertFalse(c.hasNext());
     }
 
+    @Test
+    public void testFacets() {
+        TraversingIndex traversingIndex = new TraversingIndex();
+        Filter mockFilter = mock(Filter.class);
+        when(mockFilter.getPropertyRestriction(REP_FACET)).thenReturn(mock(Filter.PropertyRestriction.class));
+        Assert.assertEquals(traversingIndex.getCost(mockFilter, null), Double.POSITIVE_INFINITY, 0.001);
+    }
+
 }
