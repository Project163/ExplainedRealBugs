diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/XPathToSQL2Converter.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/XPathToSQL2Converter.java
index c22f9ac860..3a11e3cea5 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/XPathToSQL2Converter.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/XPathToSQL2Converter.java
@@ -17,6 +17,7 @@
 package org.apache.jackrabbit.oak.query;
 
 import org.apache.jackrabbit.oak.commons.PathUtils;
+import org.apache.jackrabbit.util.ISO9075;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
@@ -176,10 +177,9 @@ public class XPathToSQL2Converter {
                         // any
                         pathPattern += "%";
                     } else {
-                        currentSelector.isChild = false;
-                        String name = readIdentifier();
+                        String name = readPathSegment();
                         pathPattern += name;
-                        currentSelector.path = PathUtils.concat(currentSelector.path, name);
+                        appendNodeName(name);
                     }
                     if (readIf(",")) {
                         currentSelector.nodeType = readIdentifier();
@@ -210,24 +210,9 @@ public class XPathToSQL2Converter {
                 read(")");
             } else if (currentTokenType == IDENTIFIER) {
                 // path restriction
-                String name = readIdentifier();
+                String name = readPathSegment();
                 pathPattern += name;
-                if (!currentSelector.isChild) {
-                    currentSelector.nodeName = name;
-                } else {
-                    if (selectors.size() > 0) {
-                        // no explicit path restriction - so it's a node name restriction
-                        currentSelector.isChild = true;
-                        currentSelector.nodeName = name;
-                    } else {
-                        if (currentSelector.isChild) {
-                            currentSelector.isChild = false;
-                            String oldPath = currentSelector.path;
-                            // further extending the path
-                            currentSelector.path = PathUtils.concat(oldPath, name);
-                        }
-                    }
-                }
+                appendNodeName(name);
             } else if (readIf(".")) {
                 // just "." this is simply ignored, so that
                 // "a/./b" is the same as "a/b"
@@ -366,6 +351,23 @@ public class XPathToSQL2Converter {
         return buff.toString();
     }
     
+    private void appendNodeName(String name) {
+        if (!currentSelector.isChild) {
+            currentSelector.nodeName = name;
+        } else {
+            if (selectors.size() > 0) {
+                // no explicit path restriction - so it's a node name restriction
+                currentSelector.isChild = true;
+                currentSelector.nodeName = name;
+            } else {
+                currentSelector.isChild = false;
+                String oldPath = currentSelector.path;
+                // further extending the path
+                currentSelector.path = PathUtils.concat(oldPath, name);
+            }
+        }
+    }
+    
     /**
      * Switch back to the old selector when reading a property. This occurs
      * after reading a "/", but then reading a property or a list of properties.
@@ -725,6 +727,11 @@ public class XPathToSQL2Converter {
         }
     }
 
+    private String readPathSegment() throws ParseException {
+        String raw = readIdentifier();
+        return ISO9075.decode(raw);
+    }
+
     private String readIdentifier() throws ParseException {
         if (currentTokenType != IDENTIFIER) {
             throw getSyntaxError("identifier");
diff --git a/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt b/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt
index a6bea09e92..06262f6790 100644
--- a/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt
+++ b/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt
@@ -97,6 +97,9 @@ select [jcr:path], [jcr:score], * from [nt:base] as a where issamenode(a, '/') /
 xpath2sql //*
 select [jcr:path], [jcr:score], * from [nt:base] as a /* xpath: //* */
 
+xpath2sql //element(hello, nt:base)
+select [jcr:path], [jcr:score], * from [nt:base] as a where name(a) = 'hello' /* xpath: //element(hello, nt:base) */
+
 xpath2sql test/*
 select [jcr:path], [jcr:score], * from [nt:base] as a where ischildnode(a, '/test') /* xpath: test/* */
 
