diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
index 29a363e47c..17c2e18818 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
@@ -1538,8 +1538,9 @@ public final class DocumentNodeStore
                 // or
                 // - the revision is within the time frame we remember revisions
                 if (last != null
-                        || r.getTimestamp() > revisionPurgeMillis())
-                externalChanges.put(r, otherSeen);
+                        || r.getTimestamp() > revisionPurgeMillis()) {
+                    externalChanges.put(r, otherSeen);
+                }
             }
         }
 
