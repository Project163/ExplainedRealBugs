diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchImpl.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchImpl.java
index c3d66abeee..2e0505fc96 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchImpl.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchImpl.java
@@ -277,8 +277,8 @@ public class FullTextSearchImpl extends ConstraintImpl {
             if (f.getSelector().equals(selector)) {
                 String p = propertyName;
                 if (relativePath != null) {
-                    p = PathUtils.concat(p, relativePath);
-                }                
+                    p = PathUtils.concat(relativePath, p);
+                }
                 p = normalizePropertyName(p);
                 restrictPropertyOnFilter(p, f);
             }
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/FilterTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/FilterTest.java
index fb4194745e..467a767d7f 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/FilterTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/FilterTest.java
@@ -51,6 +51,25 @@ public class FilterTest {
         return q.createFilter(true);
     }
     
+    @Test
+    @Ignore
+    public void oak4170() throws ParseException {
+        String sql2 = "select * from [nt:unstructured] where CONTAINS([jcr:content/metadata/comment], 'december')";
+        Filter f = createFilterSQL(sql2);
+        String plan = f.toString();
+        // with the "property is not null" restriction, it would be:
+        // assertEquals("Filter(query=select * from [nt:unstructured] " + 
+        //         "where CONTAINS([jcr:content/metadata/comment], 'december') " + 
+        //         "fullText=jcr:content/metadata/comment:\"december\", " + 
+        //         "path=*, property=[jcr:content/metadata/comment=[is not null]])", plan);
+        assertEquals("Filter(query=select * from [nt:unstructured] " + 
+                "where CONTAINS([jcr:content/metadata/comment], 'december') " + 
+                "fullText=jcr:content/metadata/comment:\"december\", " + 
+                "path=*)", plan);
+        assertEquals(f.getPropertyRestrictions().toString(), 0, f.getPropertyRestrictions().size());
+        f.getPropertyRestriction("jcr:content/metadata/comment");
+    }
+    
     @Test
     public void localName() throws Exception {
         Filter f = createFilterSQL("select * from [nt:base] where localname() = 'resource'");
