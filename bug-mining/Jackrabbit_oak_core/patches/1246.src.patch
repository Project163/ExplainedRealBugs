diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java
index 6eb74dcc3c..26e44e70d1 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java
@@ -409,8 +409,8 @@ public class CacheLIRS<K, V> implements LoadingCache<K, V> {
      * @param maxMemory the maximum size (1 or larger)
      */
     public void setMaxMemory(long maxMemory) {
-        if (maxMemory <= 0) {
-            throw new IllegalArgumentException("Max memory must be larger than 0");
+        if (maxMemory < 0) {
+            throw new IllegalArgumentException("Max memory must not be negative");
         }
         this.maxMemory = maxMemory;
         if (segments != null) {
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/cache/CacheTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/cache/CacheTest.java
index bd2fa442b1..a4cc15108d 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/cache/CacheTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/cache/CacheTest.java
@@ -90,7 +90,7 @@ public class CacheTest {
             // expected
         }
         try {
-            test.setMaxMemory(0);
+            test.setMaxMemory(-1);
             fail();
         } catch (IllegalArgumentException e) {
             // expected
@@ -628,6 +628,15 @@ public class CacheTest {
         assertTrue(map.isEmpty());
     }
     
+    @Test
+    public void testZeroSizeCache() {
+        CacheLIRS<Integer, String> cache = createCache(0, 100);
+        cache.put(1, "Hello", 100);
+        cache.put(2, "World", 100);
+        cache.put(3, "!", 100);
+        assertFalse(cache.containsKey(1));
+    }
+    
     @Test
     public void testRefresh() throws ExecutionException {
         CacheLIRS<Integer, String> cache = new CacheLIRS.Builder().
