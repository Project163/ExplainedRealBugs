diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NotFullTextSearchImpl.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NotFullTextSearchImpl.java
index a89e7b31d3..37709e20fd 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NotFullTextSearchImpl.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NotFullTextSearchImpl.java
@@ -49,7 +49,7 @@ public class NotFullTextSearchImpl extends FullTextSearchImpl {
     @Override
     String getRawText(PropertyValue v) {
         Iterable<String> terms = SPACE_SPLITTER.split(super.getRawText(v));
-        StringBuffer raw = new StringBuffer();
+        StringBuilder raw = new StringBuilder();
         for (String term : terms) {
             if (isKeyword(term)) {
                 raw.append(String.format("%s ", term));
@@ -63,7 +63,7 @@ public class NotFullTextSearchImpl extends FullTextSearchImpl {
     private static boolean isKeyword(@NotNull String term) {
         return KEYWORDS.contains(checkNotNull(term).toLowerCase());
     }
-    
+
     @Override
     void restrictPropertyOnFilter(String propertyName, FilterImpl f) {
         // Intentionally left empty. A NOT CONTAINS() can be valid if the property is actually not
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
index cef425d335..9f8cb21721 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
@@ -25,6 +25,7 @@ import java.io.LineNumberReader;
 import java.io.OutputStreamWriter;
 import java.io.PrintWriter;
 import java.io.RandomAccessFile;
+import java.nio.charset.StandardCharsets;
 import java.text.ParseException;
 import java.util.ArrayList;
 import java.util.Collections;
@@ -240,7 +241,7 @@ public abstract class AbstractQueryTest {
                     + " don't match expected "
                     + "results in " + input.getPath()
                     + "; compare the files for details; got=\n" +
-                    new String(data, "UTF-8"));
+                    new String(data, StandardCharsets.UTF_8));
         }
     }
 
