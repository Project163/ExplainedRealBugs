diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/osgi/Activator.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/osgi/Activator.java
index 93a7eeb878..55a5d2ef12 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/osgi/Activator.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/osgi/Activator.java
@@ -16,9 +16,19 @@
  */
 package org.apache.jackrabbit.oak.osgi;
 
+import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+import java.util.Properties;
+
 import org.apache.jackrabbit.mk.api.MicroKernel;
 import org.apache.jackrabbit.oak.api.ContentRepository;
 import org.apache.jackrabbit.oak.core.ContentRepositoryImpl;
+import org.apache.jackrabbit.oak.plugins.type.DefaultTypeEditor;
+import org.apache.jackrabbit.oak.spi.commit.CommitEditor;
+import org.apache.jackrabbit.oak.spi.commit.CompositeEditor;
+import org.apache.jackrabbit.oak.spi.commit.ValidatingEditor;
 import org.osgi.framework.BundleActivator;
 import org.osgi.framework.BundleContext;
 import org.osgi.framework.ServiceReference;
@@ -26,10 +36,6 @@ import org.osgi.framework.ServiceRegistration;
 import org.osgi.util.tracker.ServiceTracker;
 import org.osgi.util.tracker.ServiceTrackerCustomizer;
 
-import java.util.HashMap;
-import java.util.Map;
-import java.util.Properties;
-
 public class Activator implements BundleActivator, ServiceTrackerCustomizer {
 
     private BundleContext context;
@@ -71,10 +77,16 @@ public class Activator implements BundleActivator, ServiceTrackerCustomizer {
     public Object addingService(ServiceReference reference) {
         Object service = context.getService(reference);
         if (service instanceof MicroKernel) {
+            List<CommitEditor> editors = new ArrayList<CommitEditor>();
+            editors.add(new DefaultTypeEditor());
+            editors.add(new ValidatingEditor(validatorProvider));
+            // editors.add(new LuceneEditor());
+
             MicroKernel kernel = (MicroKernel) service;
             services.put(reference, context.registerService(
                     ContentRepository.class.getName(),
-                    new ContentRepositoryImpl(kernel, indexProvider, validatorProvider),
+                    new ContentRepositoryImpl(
+                            kernel, indexProvider, new CompositeEditor(editors)),
                     new Properties()));
             return service;
         } else {
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/type/TypeValidatorProvider.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/type/TypeValidatorProvider.java
index 2dd8358ceb..8f9dbcd33d 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/type/TypeValidatorProvider.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/type/TypeValidatorProvider.java
@@ -19,11 +19,15 @@ package org.apache.jackrabbit.oak.plugins.type;
 import java.util.HashSet;
 import java.util.Set;
 
+import org.apache.felix.scr.annotations.Component;
+import org.apache.felix.scr.annotations.Service;
 import org.apache.jackrabbit.oak.spi.commit.Validator;
 import org.apache.jackrabbit.oak.spi.commit.ValidatorProvider;
 import org.apache.jackrabbit.oak.spi.state.ChildNodeEntry;
 import org.apache.jackrabbit.oak.spi.state.NodeState;
 
+@Component
+@Service(ValidatorProvider.class)
 public class TypeValidatorProvider implements ValidatorProvider {
 
     @Override
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/value/ConflictValidatorProvider.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/value/ConflictValidatorProvider.java
index dde627555c..5598b3275a 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/value/ConflictValidatorProvider.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/value/ConflictValidatorProvider.java
@@ -16,11 +16,16 @@
  */
 package org.apache.jackrabbit.oak.plugins.value;
 
+import org.apache.felix.scr.annotations.Component;
+import org.apache.felix.scr.annotations.Service;
 import org.apache.jackrabbit.oak.spi.commit.Validator;
 import org.apache.jackrabbit.oak.spi.commit.ValidatorProvider;
 import org.apache.jackrabbit.oak.spi.state.NodeState;
 
+@Component
+@Service(ValidatorProvider.class)
 public class ConflictValidatorProvider implements ValidatorProvider {
+
     @Override
     public Validator getRootValidator(NodeState before, NodeState after) {
         return new ConflictValidator();
