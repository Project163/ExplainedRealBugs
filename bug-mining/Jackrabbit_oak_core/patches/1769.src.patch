diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java
index f7b11750a7..37c88b1bbf 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java
@@ -301,7 +301,13 @@ public class Statement {
                 // no change
                 return this;
             }
-            return new UnionStatement(s1b, s2b);
+            UnionStatement union = new UnionStatement(s1b, s2b);
+            union.explain = explain;
+            union.measure = measure;
+            union.orderList = orderList;
+            union.queryOptions = queryOptions;
+            union.xpathQuery = xpathQuery;
+            return union;
         }
         
         @Override
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
index 14235e9a71..f78411f3b2 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/query/AbstractQueryTest.java
@@ -523,10 +523,22 @@ public abstract class AbstractQueryTest {
     }
     
     static String formatSQL(String sql) {
+        int start = 0;
+        while (true) {
+            int index = sql.indexOf("/* ", start);
+            if (index < 0) {
+                break;
+            }
+            int end = sql.indexOf(" */", index);
+            sql = sql.substring(0, index).trim() + "\n  /* xpath ... " + sql.substring(end).trim();
+            sql = sql.trim();
+            start = index + 7;
+        }
+        
         // the "(?s)" is enabling the "dot all" flag
         // keep /* xpath ... */ to ensure the xpath comment
         // is really there (and at the right position)
-        sql = sql.replaceAll("(?s) /\\* .* \\*/", "\n  /* xpath ... */").trim();
+//        sql = sql.replaceAll("(?s) /\\* [^\\*]* \\*/", "\n  /* xpath ... */").trim();
         sql = sql.replaceAll(" union select ", "\n  union select ");
         sql = sql.replaceAll(" from ", "\n  from ");
         sql = sql.replaceAll(" where ", "\n  where ");
diff --git a/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt b/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt
index fba0f3831b..e3bdbe60e1 100644
--- a/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt
+++ b/oak-core/src/test/resources/org/apache/jackrabbit/oak/query/xpath.txt
@@ -24,6 +24,58 @@
 # * new tests are typically be added on top, after the syntax docs
 # * use ascii character only
 
+#Â OAK-7131
+
+xpath2sql /jcr:root/content[@a=1 or @b=2] order by @foo option(traversal ok)
+select [jcr:path], [jcr:score], *
+  from [nt:base] as a
+  where issamenode(a, '/content')
+  and [a] = 1
+  union select [jcr:path], [jcr:score], *
+  from [nt:base] as a
+  where issamenode(a, '/content')
+  and [b] = 2
+  order by [foo] option(traversal OK)
+  /* xpath ... */
+
+xpath2sql /jcr:root/(content | dam)[@a=1 or @b=2] order by @foo
+select [jcr:path], [jcr:score], *
+  from [nt:base] as a
+  where issamenode(a, '/content')
+  and [a] = 1
+  union select [jcr:path], [jcr:score], *
+  from [nt:base] as a
+  where issamenode(a, '/content')
+  and [b] = 2
+  /* xpath ... */
+  union select [jcr:path], [jcr:score], *
+  from [nt:base] as a
+  where issamenode(a, '/dam')
+  and [a] = 1
+  union select [jcr:path], [jcr:score], *
+  from [nt:base] as a
+  where issamenode(a, '/dam')
+  and [b] = 2
+  /* xpath ... */
+  order by [foo]
+
+xpath2sql //(element(*, type1) | element(*, type2))[@a='b' or @c='d'] order by @foo option(traversal OK)
+select [jcr:path], [jcr:score], *
+  from [type1] as a
+  where [a] = 'b'
+  union select [jcr:path], [jcr:score], *
+  from [type1] as a
+  where [c] = 'd'
+  /* xpath ... */
+  union select [jcr:path], [jcr:score], *
+  from [type2] as a
+  where [a] = 'b'
+  union select [jcr:path], [jcr:score], *
+  from [type2] as a
+  where [c] = 'd'
+  /* xpath ... */
+  order by [foo] option(traversal OK)
+
 # OAK-6792
 
 xpath2sql /jcr:root//*/(rep:facet(jcr:data/jcr:createdBy))
@@ -46,12 +98,20 @@ explain select [jcr:path], [jcr:score], *
   from [acme:Asset] as a
   where isdescendantnode(a, '/content/activities')
   /* xpath ... */
- 
+  union select [jcr:path], [jcr:score], *
+  from [acme:Asset] as a
+  where isdescendantnode(a, '/content/people')
+  /* xpath ... */
+
 xpath2sql explain measure /jcr:root/content/(activities|people)//element(*, acme:Asset)
 explain measure select [jcr:path], [jcr:score], *
   from [acme:Asset] as a
   where isdescendantnode(a, '/content/activities')
   /* xpath ... */
+  union select [jcr:path], [jcr:score], *
+  from [acme:Asset] as a
+  where isdescendantnode(a, '/content/people')
+  /* xpath ... */
 
 # OAK-937
 
