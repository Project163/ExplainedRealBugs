diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
index a46af36d9f..c93221c1cb 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
@@ -1383,7 +1383,12 @@ public final class DocumentNodeStore
     @CheckForNull
     @Override
     public NodeState retrieve(@Nonnull String checkpoint) {
-        return getRoot(Revision.fromString(checkpoint));
+        Revision r = Revision.fromString(checkpoint);
+        if (checkpoints.getCheckpoints().containsKey(r)) {
+            return getRoot(r);
+        } else {
+            return null;
+        }
     }
 
     @Override
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/kernel/CheckpointTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/kernel/CheckpointTest.java
index c0bf4765ca..8759d3715a 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/kernel/CheckpointTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/kernel/CheckpointTest.java
@@ -49,7 +49,6 @@ public class CheckpointTest {
     @Parameters
     public static Collection<Object[]> fixtures() {
         Object[][] fixtures = new Object[][] {
-                {NodeStoreFixture.MONGO_MK},
                 {NodeStoreFixture.MONGO_NS},
                 {NodeStoreFixture.SEGMENT_MK},
                 {NodeStoreFixture.MEMORY_NS},
@@ -98,16 +97,13 @@ public class CheckpointTest {
         assertEquals(root, store.retrieve(cp));
 
         assertTrue(store.release(cp));
-        // FIXME See OAK-2311
-        if (fixture != NodeStoreFixture.MONGO_MK && fixture != NodeStoreFixture.MONGO_NS) {
-            assertNull(store.retrieve(cp));
-        }
+        assertNull(store.retrieve(cp));
     }
 
     @Test
     public void checkpointInfo() throws CommitFailedException {
         // FIXME implement. See OAK-2291
-        assumeTrue(fixture != NodeStoreFixture.MONGO_MK && fixture != NodeStoreFixture.MONGO_NS);
+        assumeTrue(fixture != NodeStoreFixture.MONGO_NS);
         ImmutableMap<String, String> props = ImmutableMap.of(
                 "one", "1", "two", "2", "three", "2");
         String cp = store.checkpoint(Long.MAX_VALUE, props);
