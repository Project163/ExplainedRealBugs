diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java
index 55f0af5c4f..24c4fbb804 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java
@@ -213,6 +213,7 @@ public class ContentMirrorStoreStrategy implements IndexStoreStrategy {
                 // (entryCount could be Long.MAX_VALUE)
                 // the cost is not multiplied by the size, 
                 // otherwise the traversing index might be used
+                keyCount = Math.max(1, keyCount);
                 return (long) ((double) entryCount / keyCount) + size;
             }
             max = Math.max(10, max / size);
