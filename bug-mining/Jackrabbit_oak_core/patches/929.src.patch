diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexConstants.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexConstants.java
index 5c96550f52..24ffdbe8c5 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexConstants.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexConstants.java
@@ -39,6 +39,8 @@ public interface IndexConstants {
 
     String ENTRY_COUNT_PROPERTY_NAME = "entryCount";
 
+    String KEY_COUNT_PROPERTY_NAME = "keyCount";
+
     /**
      * Marks a unique property index.
      */
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java
index 29f3f4e54b..2152f1ff51 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java
@@ -19,6 +19,7 @@ package org.apache.jackrabbit.oak.plugins.index.property.strategy;
 import static com.google.common.collect.Queues.newArrayDeque;
 import static org.apache.jackrabbit.oak.plugins.index.IndexConstants.INDEX_CONTENT_NODE_NAME;
 import static org.apache.jackrabbit.oak.plugins.index.IndexConstants.ENTRY_COUNT_PROPERTY_NAME;
+import static org.apache.jackrabbit.oak.plugins.index.IndexConstants.KEY_COUNT_PROPERTY_NAME;
 
 import java.util.Deque;
 import java.util.Iterator;
@@ -177,6 +178,20 @@ public class ContentMirrorStoreStrategy implements IndexStoreStrategy {
             if (size == 0) {
                 return 0;
             }
+            PropertyState ec = indexMeta.getProperty(ENTRY_COUNT_PROPERTY_NAME);       
+            if (ec != null) {
+                long entryCount = ec.getValue(Type.LONG);
+                long keyCount = entryCount / 10000;
+                ec = indexMeta.getProperty(KEY_COUNT_PROPERTY_NAME);
+                if (ec != null) {
+                    keyCount = ec.getValue(Type.LONG);
+                }
+                // cast to double to avoid overflow 
+                // (entryCount could be Long.MAX_VALUE)
+                // the cost is not multiplied by the size, 
+                // otherwise the traversing index might be used
+                return (long) ((double) entryCount / keyCount) + size;
+            }
             max = Math.max(10, max / size);
             int i = 0;
             for (String p : values) {
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/index/nodetype/NodeTypeIndexTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/index/nodetype/NodeTypeIndexTest.java
index 751590ab4f..de34294985 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/index/nodetype/NodeTypeIndexTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/index/nodetype/NodeTypeIndexTest.java
@@ -72,6 +72,9 @@ public class NodeTypeIndexTest {
 
         // remove "rep:security" as it interferes with tests
         root.getChildNode("rep:security").remove();
+        
+        // remove "entryCount", so the node type index cost is not fixed
+        root.getChildNode("oak:index").getChildNode("nodetype").removeProperty("entryCount");
 
         addFolder(root, "folder-1");
         addFolder(root, "folder-2");
