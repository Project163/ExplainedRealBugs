diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentRootBuilder.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentRootBuilder.java
index 124801f39d..58b8f8a2e1 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentRootBuilder.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentRootBuilder.java
@@ -104,8 +104,12 @@ class DocumentRootBuilder extends MemoryNodeBuilder {
     @Nonnull
     @Override
     public NodeState getNodeState() {
-        purge();
-        return branch.getHead();
+        if (DocumentNodeStoreBranch.getCurrentBranch() != null) {
+            purge();
+            return branch.getHead();
+        } else {
+            return super.getNodeState();
+        }
     }
 
     @Override
