diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/lucene/LuceneIndex.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/lucene/LuceneIndex.java
index 15828e8159..2698c8c571 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/lucene/LuceneIndex.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/lucene/LuceneIndex.java
@@ -165,7 +165,8 @@ public class LuceneIndex implements QueryIndex {
                 last = pr.last.getString();
             }
 
-            if (first.equals(last) && pr.firstIncluding && pr.lastIncluding) {
+            if (first != null && first.equals(last) && pr.firstIncluding
+                    && pr.lastIncluding) {
                 qs.add(new TermQuery(new Term(name, first)));
             } else {
                 qs.add(TermRangeQuery.newStringRange(name, first, last,
