diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java
index 68a8be5b28..d52c43090d 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java
@@ -236,9 +236,12 @@ public class AsyncIndexUpdate implements Runnable {
                     name, checkpoint);
             store.release(checkpoint);
         } else {
-            log.debug("The {} index update succeeded; releasing the previous checkpoint {}",
-                    name, refCheckpoint);
-            store.release(refCheckpoint);
+            if (refCheckpoint != null) {
+                log.debug(
+                        "The {} index update succeeded; releasing the previous checkpoint {}",
+                        name, refCheckpoint);
+                store.release(refCheckpoint);
+            }
         }
 
         if (exception != null) {
