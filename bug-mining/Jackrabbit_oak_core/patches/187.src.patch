diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/api/QueryEngine.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/api/QueryEngine.java
index c43f58e92c..96b3ef82c8 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/api/QueryEngine.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/api/QueryEngine.java
@@ -52,8 +52,8 @@ public interface QueryEngine {
      *
      * @param statement the query statement
      * @param language the language
-     * @param limit the maximum result set size
-     * @param offset the number of rows to skip
+     * @param limit the maximum result set size (may not be negative)
+     * @param offset the number of rows to skip (may not be negative)
      * @param bindings the bind variable value bindings
      * @param namePathMapper the name and path mapper to use
      * @return the result
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java
index 4dcb86b704..e5d4adb954 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java
@@ -138,6 +138,12 @@ public abstract class QueryEngineImpl implements QueryEngine {
     public Result executeQuery(String statement, String language, long limit,
             long offset, Map<String, ? extends PropertyValue> bindings,
             NamePathMapper namePathMapper) throws ParseException {
+        if (limit < 0) {
+            throw new IllegalArgumentException("Limit may not be negative, is: " + limit);
+        }
+        if (offset < 0) {
+            throw new IllegalArgumentException("Offset may not be negative, is: " + offset);
+        }
         Query q = parseQuery(statement, language);
         q.setRootTree(getRootTree());
         q.setRootState(getRootState());
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/XPathQueryBuilder.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/XPathQueryBuilder.java
index 893738bf0a..d1dd992d5f 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/XPathQueryBuilder.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/XPathQueryBuilder.java
@@ -35,7 +35,7 @@ public class XPathQueryBuilder implements QueryBuilder<Condition> {
     private boolean sortIgnoreCase;
     private Value bound;
     private long offset;
-    private long maxCount = -1;
+    private long maxCount = Long.MAX_VALUE;
 
     //-------------------------------------------------------< QueryBuilder >---
     @Override
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImplTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImplTest.java
index aa3cd24bd6..3f530ab9f3 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImplTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImplTest.java
@@ -16,6 +16,11 @@
  */
 package org.apache.jackrabbit.oak.security.principal;
 
+import static org.junit.Assert.assertEquals;
+import static org.junit.Assert.assertFalse;
+import static org.junit.Assert.assertNotNull;
+import static org.junit.Assert.assertTrue;
+
 import java.security.Principal;
 import java.util.ArrayList;
 import java.util.HashMap;
@@ -36,14 +41,8 @@ import org.apache.jackrabbit.oak.spi.security.principal.AdminPrincipal;
 import org.apache.jackrabbit.oak.spi.security.principal.EveryonePrincipal;
 import org.apache.jackrabbit.oak.spi.security.principal.PrincipalProvider;
 import org.apache.jackrabbit.oak.spi.security.user.UserConfiguration;
-import org.junit.Ignore;
 import org.junit.Test;
 
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertFalse;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertTrue;
-
 /**
  * PrincipalProviderImplTest...
  */
@@ -102,7 +101,6 @@ public class PrincipalProviderImplTest extends AbstractSecurityTest {
         }
     }
 
-    @Ignore("OAK-545") // TODO: OAK-545
     @Test
     public void testFindUserPrincipal() throws Exception {
         User testUser = null;
@@ -131,7 +129,6 @@ public class PrincipalProviderImplTest extends AbstractSecurityTest {
         }
     }
 
-    @Ignore("OAK-545") // TODO: OAK-545
     @Test
     public void testFindGroupPrincipal() throws Exception {
         Group testGroup = null;
@@ -199,7 +196,6 @@ public class PrincipalProviderImplTest extends AbstractSecurityTest {
         assertResult(principalProvider, nameHints, EveryonePrincipal.NAME, PrincipalManager.SEARCH_TYPE_NOT_GROUP, false);
     }
 
-    @Ignore("OAK-545") // TODO: OAK-545
     @Test
     public void testFindWithoutHint() throws Exception {
         User testUser = null;
