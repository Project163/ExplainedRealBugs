diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
index ab8a758429..1edf848b34 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java
@@ -1602,7 +1602,9 @@ public final class DocumentNodeStore
     }
 
     private void diffManyChildren(JsopWriter w, String path, Revision fromRev, Revision toRev) {
-        long minTimestamp = Math.min(fromRev.getTimestamp(), toRev.getTimestamp());
+        long minTimestamp = Math.min(
+                revisionComparator.getMinimumTimestamp(fromRev),
+                revisionComparator.getMinimumTimestamp(toRev));
         long minValue = NodeDocument.getModifiedInSecs(minTimestamp);
         String fromKey = Utils.getKeyLowerLimit(path);
         String toKey = Utils.getKeyUpperLimit(path);
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java
index 35ca29585c..d2075308d2 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java
@@ -23,6 +23,8 @@ import java.util.TreeSet;
 import java.util.concurrent.ConcurrentHashMap;
 import java.util.concurrent.ConcurrentMap;
 
+import javax.annotation.Nonnull;
+
 import org.apache.jackrabbit.oak.plugins.document.util.Utils;
 import org.apache.jackrabbit.oak.stats.Clock;
 
@@ -534,6 +536,35 @@ public class Revision {
             }
         }
 
+        /**
+         * Returns the minimum timestamp of the most recent revisions from all
+         * cluster nodes as seen from the given {@code revision}.
+         *
+         * @param revision a revision.
+         * @return the minimum timestamp.
+         */
+        public long getMinimumTimestamp(@Nonnull Revision revision) {
+            long timestamp = checkNotNull(revision).getTimestamp();
+            Revision seenAt = getRevisionSeen(revision);
+            if (seenAt == null) {
+                // already purged
+                return timestamp;
+            }
+            // go through all known cluster nodes
+            for (List<RevisionRange> list : map.values()) {
+                RevisionRange range;
+                for (int i = list.size() - 1; i >= 0; i--) {
+                    range = list.get(i);
+                    if (range.seenAt.compareRevisionTimeThenClusterId(seenAt) <= 0) {
+                        // found newest range older or equal the given seenAt
+                        timestamp = Math.min(timestamp, range.revision.getTimestamp());
+                        break;
+                    }
+                }
+            }
+            return timestamp;
+        }
+
         @Override
         public int compare(Revision o1, Revision o2) {
             if (o1.getClusterId() == o2.getClusterId()) {
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java
index 26bea893a9..49f07cffaf 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreTest.java
@@ -549,6 +549,73 @@ public class DocumentNodeStoreTest {
         assertEquals("value", state.getProperty("prop").getValue(Type.STRING));
     }
 
+    // OAK-2232
+    @Test
+    public void diffExternalChanges() throws Exception {
+        long modifiedResMillis = SECONDS.toMillis(MODIFIED_IN_SECS_RESOLUTION);
+        Clock clock = new Clock.Virtual();
+        clock.waitUntil(System.currentTimeMillis());
+        Revision.setClock(clock);
+
+        DocumentStore docStore = new MemoryDocumentStore();
+        DocumentNodeStore ns1 = new DocumentMK.Builder().setAsyncDelay(0)
+                .clock(clock).setDocumentStore(docStore).setClusterId(1)
+                .getNodeStore();
+        DocumentNodeStore ns2 = new DocumentMK.Builder().setAsyncDelay(0)
+                .clock(clock).setDocumentStore(docStore).setClusterId(2)
+                .getNodeStore();
+
+        NodeBuilder builder = ns1.getRoot().builder();
+        NodeBuilder test = builder.child("test");
+        for (int i = 0; i < DocumentMK.MANY_CHILDREN_THRESHOLD * 2; i++) {
+            test.child("node-" + i);
+        }
+        ns1.merge(builder, EmptyHook.INSTANCE, CommitInfo.EMPTY);
+
+        ns1.runBackgroundOperations();
+        ns2.runBackgroundOperations();
+
+        // make sure next change has a different _modified value
+        clock.waitUntil(clock.getTime() + modifiedResMillis * 2);
+
+        builder = ns2.getRoot().builder();
+        builder.child("test").child("foo");
+        ns2.merge(builder, EmptyHook.INSTANCE, CommitInfo.EMPTY);
+
+        // 'wait' again for a different _modified value
+        clock.waitUntil(clock.getTime() + modifiedResMillis * 2);
+
+        builder = ns1.getRoot().builder();
+        builder.child("test").child("bar");
+        ns1.merge(builder, EmptyHook.INSTANCE, CommitInfo.EMPTY);
+
+        // remember current root for diff
+        NodeState r1 = ns1.getRoot();
+
+        ns2.runBackgroundOperations();
+        ns1.runBackgroundOperations();
+
+        NodeState r2 = ns1.getRoot();
+
+        // are we able to see foo?
+        boolean found = false;
+        for (ChildNodeEntry entry : r2.getChildNode("test").getChildNodeEntries()) {
+            if (entry.getName().equals("foo")) {
+                found = true;
+                break;
+            }
+        }
+        assertTrue(found);
+
+        // diff must report '/test' modified and '/test/foo' added
+        ClusterTest.TrackingDiff diff = new ClusterTest.TrackingDiff();
+        r2.compareAgainstBaseState(r1, diff);
+        assertEquals(1, diff.modified.size());
+        assertTrue(diff.modified.contains("/test"));
+        assertEquals(1, diff.added.size());
+        assertTrue(diff.added.contains("/test/foo"));
+    }
+
     private static class TestHook extends EditorHook {
 
         TestHook(final String prefix) {
diff --git a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/RevisionTest.java b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/RevisionTest.java
index c18d755149..fc88f14c26 100644
--- a/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/RevisionTest.java
+++ b/oak-core/src/test/java/org/apache/jackrabbit/oak/plugins/document/RevisionTest.java
@@ -455,4 +455,34 @@ public class RevisionTest {
         assertTrue(String.format("Duplicate rev seen %s %n Seen %s", duplicates, seenRevs), duplicates.isEmpty());
     }
 
+    @Test
+    public void getMinimumTimestamp() {
+        RevisionComparator comp = new RevisionComparator(1);
+
+        Revision r11 = new Revision(1, 0, 1);
+        comp.add(r11, new Revision(1, 0, 0));
+
+        assertEquals(1, comp.getMinimumTimestamp(r11));
+
+        Revision r21 = new Revision(1, 0, 2);
+        comp.add(r21, new Revision(2, 0, 0));
+
+        assertEquals(1, comp.getMinimumTimestamp(r21));
+
+        Revision r13 = new Revision(3, 0, 1);
+        comp.add(r13, new Revision(3, 0, 0));
+
+        assertEquals(1, comp.getMinimumTimestamp(r13));
+
+        Revision r24 = new Revision(4, 0, 2);
+        comp.add(r24, new Revision(4, 0, 0));
+
+        assertEquals(3, comp.getMinimumTimestamp(r24));
+
+        Revision r15 = new Revision(5, 0, 1);
+        comp.add(r15, new Revision(5, 0, 0));
+
+        assertEquals(4, comp.getMinimumTimestamp(r15));
+    }
+
 }
