diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/SegmentTracker.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/SegmentTracker.java
index 10a6a6eb6d..bba52970ff 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/SegmentTracker.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/SegmentTracker.java
@@ -130,7 +130,9 @@ public class SegmentTracker {
             .evictionCallback(new EvictionCallback<SegmentId, Segment>() {
                 @Override
                 public void evicted(SegmentId segmentId, Segment segment) {
-                    segmentId.setSegment(null);
+                    if (segment != null) {
+                        segmentId.setSegment(null);
+                    }
                 }
             })
             .build();
