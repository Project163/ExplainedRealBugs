<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:35:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-197] oak-api ConflictHandler defines method using oak.spi.state.NodeState</title>
                <link>https://issues.apache.org/jira/browse/OAK-197</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;similar issue than was reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-191&quot; title=&quot;ChangeExtractor uses interfaces from oak.spi.state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-191&quot;&gt;&lt;del&gt;OAK-191&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;IMO the current ConflictHandler interface defined in the oak-api mixes &lt;br/&gt;
different levels of abstraction by defining methods that refer both &lt;br/&gt;
to Tree and NodeState. in particular because the latter is defined&lt;br/&gt;
in the oak.spi.state package which IMO should not be exposed on the&lt;br/&gt;
oak-api level.&lt;/p&gt;

&lt;p&gt;the methods i am referring to are:&lt;/p&gt;

&lt;p&gt;    Resolution addExistingNode(Tree parent, String name, NodeState ours, NodeState theirs);&lt;br/&gt;
    Resolution changeDeletedNode(Tree parent, String name, NodeState ours);&lt;br/&gt;
    Resolution deleteChangedNode(Tree parent, String name, NodeState theirs);&lt;br/&gt;
    Resolution deleteDeletedNode(Tree parent, String name);&lt;/p&gt;

&lt;p&gt;wouldn&apos;t it be better to use Tree instead of NodeState?&lt;br/&gt;
if that&apos;s not feasible i would either argue that the inteface doesn&apos;t belong &lt;br/&gt;
to the oak-api or that the distinction between Tree and NodeState is artificial&lt;br/&gt;
and we should try to get rid of it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599474">OAK-197</key>
            <summary>oak-api ConflictHandler defines method using oak.spi.state.NodeState</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jul 2012 14:55:59 +0000</created>
                <updated>Mon, 6 May 2013 15:49:23 +0000</updated>
                            <resolved>Wed, 26 Sep 2012 14:46:41 +0000</resolved>
                                                    <fixVersion>0.6</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13421369" author="mduerig" created="Tue, 24 Jul 2012 12:55:21 +0000"  >&lt;p&gt;Since {{Tree}}s are mutable data structures I think its wrong to have them as arguments to those methods in place of the currently used {{NodeState}}s. &lt;/p&gt;

&lt;p&gt;Instead of changing the signatures of the methods in &lt;tt&gt;ConflictHandler&lt;/tt&gt; I think we should rather remove &lt;tt&gt;ConflictHandler&lt;/tt&gt; from the Oak API and make it a plugin somewhere in the SPI space. &lt;/p&gt;</comment>
                            <comment id="13463862" author="mduerig" created="Wed, 26 Sep 2012 14:46:41 +0000"  >&lt;p&gt;Fixed at revision 1390525&lt;br/&gt;
Moved the &lt;tt&gt;ConflictHandler&lt;/tt&gt; from method parameter to plugin as proposed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>294674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0yhkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>199315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>