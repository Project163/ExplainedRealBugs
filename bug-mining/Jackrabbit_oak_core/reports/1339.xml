<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:49:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-3420] DocumentNodeStoreService fails to restart DocumentNodeStore</title>
                <link>https://issues.apache.org/jira/browse/OAK-3420</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Scenario (test case will follow):&lt;/p&gt;

&lt;p&gt;1) service configured for RDBDocumentStore with DataSources&lt;/p&gt;

&lt;p&gt;2) gets started&lt;/p&gt;

&lt;p&gt;3) DataSource unregisters, DocumentNodeStore gets shut down&lt;/p&gt;

&lt;p&gt;4) DataSource is registered again&lt;/p&gt;

&lt;p&gt;5) restart of DocumentNodeStore fails with NPE because at least one required component (executor?) now is null&lt;/p&gt;

&lt;p&gt;We need to decide whether this is a scenario that should be supported or not. If yes, we need to fix it. If no, we need to make the code more robust and improve diagnostics.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12875802">OAK-3420</key>
            <summary>DocumentNodeStoreService fails to restart DocumentNodeStore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                            <label>resilience</label>
                    </labels>
                <created>Fri, 18 Sep 2015 08:16:43 +0000</created>
                <updated>Wed, 2 Mar 2016 14:23:12 +0000</updated>
                            <resolved>Thu, 24 Sep 2015 14:29:56 +0000</resolved>
                                    <version>1.0.21</version>
                    <version>1.2.6</version>
                    <version>1.3.6</version>
                                    <fixVersion>1.0.22</fixVersion>
                    <fixVersion>1.2.7</fixVersion>
                    <fixVersion>1.3.7</fixVersion>
                    <fixVersion>1.4</fixVersion>
                                    <component>core</component>
                    <component>mongomk</component>
                    <component>rdbmk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14805345" author="reschke" created="Fri, 18 Sep 2015 10:15:42 +0000"  >&lt;p&gt;modified test class showing the problem&lt;/p&gt;</comment>
                            <comment id="14904490" author="reschke" created="Wed, 23 Sep 2015 13:19:15 +0000"  >&lt;p&gt;After discussion with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt; it&apos;s not clear that there is a use case for a restart. Thus we should focus that the DocumentNodeStoreService does not even attempt the restart.&lt;/p&gt;</comment>
                            <comment id="14906341" author="reschke" created="Thu, 24 Sep 2015 13:26:19 +0000"  >&lt;p&gt;for now applying a simple fix that just avoids any attempts of restarting; this at least avoids the NPE we&apos;ve had before (which may indicate an attempt to start a DocumentNodeStore that may not get disposed again)&lt;/p&gt;</comment>
                            <comment id="14906410" author="reschke" created="Thu, 24 Sep 2015 14:29:56 +0000"  >&lt;p&gt;trunk: &lt;a href=&quot;http://svn.apache.org/r1705055&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1705055&lt;/a&gt;&lt;br/&gt;
1.2: &lt;a href=&quot;http://svn.apache.org/r1705065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1705065&lt;/a&gt;&lt;br/&gt;
1.0: &lt;a href=&quot;http://svn.apache.org/r1705069&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1705069&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14939256" author="amitjain" created="Thu, 1 Oct 2015 03:35:16 +0000"  >&lt;p&gt;Bulk close for 1.3.7&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12757256" name="DocumentNodeStoreConfigTest.groovy" size="5464" author="reschke" created="Fri, 18 Sep 2015 10:15:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2kdn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>