<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:41:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1311] Permission Cache causes non-deterministic access control test failures</title>
                <link>https://issues.apache.org/jira/browse/OAK-1311</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description></description>
                <environment></environment>
        <key id="12687916">OAK-1311</key>
            <summary>Permission Cache causes non-deterministic access control test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tripod">Tobias Bocanegra</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jan 2014 19:00:35 +0000</created>
                <updated>Mon, 27 Jan 2014 09:38:37 +0000</updated>
                            <resolved>Fri, 10 Jan 2014 00:43:15 +0000</resolved>
                                                    <fixVersion>0.15</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13865758" author="jukkaz" created="Wed, 8 Jan 2014 19:06:04 +0000"  >&lt;p&gt;Why a separate issue when we already have &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1247&quot; title=&quot;Non-deterministic access control test failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1247&quot;&gt;&lt;del&gt;OAK-1247&lt;/del&gt;&lt;/a&gt; for this problem?&lt;/p&gt;</comment>
                            <comment id="13866338" author="tripod" created="Thu, 9 Jan 2014 05:38:12 +0000"  >&lt;p&gt;disabled caching of the entries in r1556724&lt;/p&gt;</comment>
                            <comment id="13867176" author="tripod" created="Thu, 9 Jan 2014 22:24:26 +0000"  >&lt;p&gt;the reason for the cache failure is the refresh strategy that relies on timestamps (driven by System.currentTimeMillis). It was falsely assumed that the milliseconds would suffice to indicate stale content. but the granularity of System.currentTimeMillis() varies significantly between OS/VMs. see &lt;a href=&quot;https://code.google.com/p/javasimon/wiki/SystemTimersGranularity&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://code.google.com/p/javasimon/wiki/SystemTimersGranularity&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A quick test on a Windows 7 VM, running on a MBP shows:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;timertest-windows7&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;msChanges: 373 during 5819 ms
deltaCount = {15=149, 16=224}
nsChanges: 9665621 during 5818090777 ns
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where as the same on the MBP shows:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;timertest-osx&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;msChanges: 788 during 788 ms
deltaCount = {1=788}
nsChanges: 778177 during 788618000 ns
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The proper fix is to use a mod-count instead of a system timer.&lt;/p&gt;</comment>
                            <comment id="13867350" author="tripod" created="Fri, 10 Jan 2014 00:43:15 +0000"  >&lt;p&gt;replaced timestamp with mod counter in r1556998&lt;/p&gt;</comment>
                            <comment id="13882686" author="alex.parvulescu" created="Mon, 27 Jan 2014 09:38:37 +0000"  >&lt;p&gt;bulk close for the 0.15 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682130">OAK-1247</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r8x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>