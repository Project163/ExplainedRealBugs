<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:34:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-78] waitForCommit() test failure for MK remoting</title>
                <link>https://issues.apache.org/jira/browse/OAK-78</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;The .mk.client.Client class is synchronized, which makes it fail the new waitForCommit() integration test.&lt;/p&gt;

&lt;p&gt;There doesn&apos;t seem to be any need for synchronization in Client (the server should in any case be thread-safe), so I think we should just unsynchronize the Client method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12553254">OAK-78</key>
            <summary>waitForCommit() test failure for MK remoting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Apr 2012 17:19:46 +0000</created>
                <updated>Fri, 4 May 2012 09:33:07 +0000</updated>
                            <resolved>Sat, 28 Apr 2012 21:48:07 +0000</resolved>
                                                    <fixVersion>0.2.1</fixVersion>
                                    <component>mk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13264410" author="jukkaz" created="Sat, 28 Apr 2012 21:48:07 +0000"  >&lt;p&gt;Fixed in revision 1331832.&lt;/p&gt;</comment>
                            <comment id="13264728" author="dpfister" created="Mon, 30 Apr 2012 08:30:59 +0000"  >&lt;p&gt;&amp;gt; There doesn&apos;t seem to be any need for synchronization in Client (the server&lt;br/&gt;
&amp;gt; should in any case be thread-safe), so I think we should just unsynchronize&lt;br/&gt;
&amp;gt; the Client method.&lt;/p&gt;

&lt;p&gt;Wrong, the javadoc for the Client class clearly says:&lt;/p&gt;

&lt;p&gt;  &quot;All public methods inside this class are completely synchronized because&quot;&lt;br/&gt;
  &quot;HttpExecutor is not thread-safe.&quot;&lt;/p&gt;</comment>
                            <comment id="13264736" author="jukkaz" created="Mon, 30 Apr 2012 08:44:37 +0000"  >&lt;p&gt;&amp;gt; Wrong, the javadoc for the Client class clearly says&lt;/p&gt;

&lt;p&gt;That&apos;s what I was referring to. There&apos;s no need for us to use just a single HttpExecutor instance and thus require synchronization of all methods. In revision 1331832 I modified the code so that a new HttpExecutor instance is created for each method call. That adds some overhead due to the extra socket connections, but avoids the concurrency bottleneck.&lt;/p&gt;

&lt;p&gt;To avoid the connection overhead, I&apos;d recommend using the &lt;a href=&quot;http://hc.apache.org/httpcomponents-client-ga/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HttpClient&lt;/a&gt; library that contains a thread-safe and standards-compliant implementation of reusable connections. But that&apos;s best handled in a separate issue, assuming we want to further develop this RPC-based remoting mechanism.&lt;/p&gt;</comment>
                            <comment id="13264745" author="dpfister" created="Mon, 30 Apr 2012 09:13:08 +0000"  >&lt;p&gt;OK, but I&apos;d expect that a change in a class&apos;s behavior will also update the associated javadoc.&lt;/p&gt;

&lt;p&gt;Removed obsolete description in revision 1332128.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>237357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ynhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200274</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>