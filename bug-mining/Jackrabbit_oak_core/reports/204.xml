<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:36:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-598] TreeLocation#NULL allows to reveal the existence of items that are not accessible</title>
                <link>https://issues.apache.org/jira/browse/OAK-598</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;the javadoc of TreeLocation#NULL states:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {@code TreeLocation}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; refers to an invalid location in a tree. That is&lt;br/&gt;
to a location where no item resides.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;while api consumers are not allowed to access items they are not allowed&lt;br/&gt;
to read, the NULL location allows to determine if a given item does really&lt;br/&gt;
not exist or was simply not accessible to the editing content session.&lt;/p&gt;

&lt;p&gt;IMO this should be fixed by not exposing the NULL implementation and&lt;br/&gt;
making sure oak-jcr doesn&apos;t need it. maybe adding a shortcut method to&lt;br/&gt;
test the underlying item is not null (e.g. exists()).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629957">OAK-598</key>
            <summary>TreeLocation#NULL allows to reveal the existence of items that are not accessible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jan 2013 18:37:17 +0000</created>
                <updated>Tue, 21 May 2013 11:26:36 +0000</updated>
                            <resolved>Fri, 1 Feb 2013 15:14:06 +0000</resolved>
                                                    <fixVersion>0.7</fixVersion>
                                    <component>core</component>
                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13567492" author="mduerig" created="Thu, 31 Jan 2013 09:56:37 +0000"  >&lt;p&gt;Ack. Let&apos;s remove &lt;tt&gt;TreeLocation.NULL&lt;/tt&gt; from the API and make it an internal implementation class only and let&apos;s add a method &lt;tt&gt;exists()&lt;/tt&gt; to &lt;tt&gt;TreeLocation&lt;/tt&gt;, which can be used to test whether an item at that location exists/is accessible. &lt;/p&gt;</comment>
                            <comment id="13567535" author="anchela" created="Thu, 31 Jan 2013 10:57:01 +0000"  >&lt;p&gt;fine with me... i didn&apos;t think of this issue when we moved it to the API as i had&lt;br/&gt;
my focus on oak-jcr making usage of the internal NULL implementation... if all&lt;br/&gt;
usages in oak-jcr can be covered with exists() then this was for sure better.&lt;br/&gt;
i had a quick look at it seemed feasible... but having a second look was for &lt;br/&gt;
sure needed.&lt;/p&gt;</comment>
                            <comment id="13567593" author="mduerig" created="Thu, 31 Jan 2013 12:39:59 +0000"  >&lt;p&gt;Fixed at revision 1440930&lt;/p&gt;</comment>
                            <comment id="13568780" author="anchela" created="Fri, 1 Feb 2013 15:05:16 +0000"  >&lt;p&gt;as commented on the mailing this, the problem IMO still exists&lt;br/&gt;
due to the fact that the NULL tree location returns null upon&lt;br/&gt;
TreeLocation#getPath() and the null location upon getParent().&lt;/p&gt;</comment>
                            <comment id="13568788" author="mduerig" created="Fri, 1 Feb 2013 15:11:53 +0000"  >&lt;p&gt;That&apos;s a different problem as &lt;tt&gt;NodeLocation.getPath()&lt;/tt&gt; and &lt;tt&gt;PropertyLocation.getPath()&lt;/tt&gt; should simply return &lt;tt&gt;null&lt;/tt&gt; when the underlying item is not accessible. &lt;/p&gt;

&lt;p&gt;I&apos;ll create an issue. &lt;/p&gt;
</comment>
                            <comment id="13568793" author="mduerig" created="Fri, 1 Feb 2013 15:14:07 +0000"  >&lt;p&gt;Resolving as fixed. The new issue is tracked by &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-604&quot; title=&quot;TreeLocation.getPath() should return null if underlying item is not accessible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-604&quot;&gt;&lt;del&gt;OAK-604&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13568797" author="anchela" created="Fri, 1 Feb 2013 15:16:29 +0000"  >&lt;p&gt;well... i don&apos;t think this is a wise move... if you have a given location at hand that you knew the path&lt;br/&gt;
before it&apos;s pretty odd that you can&apos;t obtain that path any more nor go back to the last parent that&lt;br/&gt;
was accessible. in other words: you just loose one of the purposes of the treelocation that was to&lt;br/&gt;
access a given item with a call/path without having to access every single intermediate tree/location.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hktj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>