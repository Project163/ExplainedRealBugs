<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:43:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1586] Implement checkpoint support in DocumentNodeStore</title>
                <link>https://issues.apache.org/jira/browse/OAK-1586</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;DocumentNodeStore currently does not make any record of checkpoint request. With Revision GC &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1341&quot; title=&quot;DocumentNodeStore: Implement revision garbage collection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1341&quot;&gt;&lt;del&gt;OAK-1341&lt;/del&gt;&lt;/a&gt; being implemented this needs to be implemented&lt;/p&gt;</description>
                <environment></environment>
        <key id="12702657">OAK-1586</key>
            <summary>Implement checkpoint support in DocumentNodeStore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Mar 2014 15:22:22 +0000</created>
                <updated>Tue, 8 Oct 2019 15:21:24 +0000</updated>
                            <resolved>Wed, 26 Mar 2014 09:35:28 +0000</resolved>
                                                    <fixVersion>0.20</fixVersion>
                                    <component>mongomk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13944776" author="chetanm" created="Mon, 24 Mar 2014 06:23:16 +0000"  >&lt;p&gt;Added initial implementation in &lt;a href=&quot;http://svn.apache.org/r1580769&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1580769&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Currently I am storing the checkpoint data under a node document &quot;/checkpoint&quot; and utilize the support for NodeDocument. I haved a non std ide (i.e. like &quot;1:/checkpoint&quot;) so as to keep this node separate from std node which represent JCR node i.e. its a private node to DocumentNodeStore. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mreutegg&quot; class=&quot;user-hover&quot; rel=&quot;mreutegg&quot;&gt;mreutegg&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt; Can you review the commit and see if above usage pattern is fine. or should I use a separate Collection to maintain this information&lt;/p&gt;</comment>
                            <comment id="13944900" author="mreutegg" created="Mon, 24 Mar 2014 10:32:51 +0000"  >&lt;p&gt;I was wondering if the document may interfere with other code querying the nodes collection, like the data store garbage collection. Other than that, I think the current approach is fine. One alternative that came to my mind: use a regular oak node and use a hidden name like &lt;tt&gt;:checkpoint&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="13944940" author="chetanm" created="Mon, 24 Mar 2014 11:33:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;One alternative that came to my mind: use a regular oak node and use a hidden name like :checkpoint?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As discussed offline using a regular id with name like {{:checkpoint }} would make the checkpoint node document avialable to normal Oak related queries and that is not desirable. Using a name like &apos;/checkpoint&apos; keep this node isolated. if it proves to be a problem later we can implement checkpoint support as a regular NodeDocument. For now it serves the prupose&lt;/p&gt;</comment>
                            <comment id="13946106" author="jukkaz" created="Tue, 25 Mar 2014 03:31:51 +0000"  >&lt;p&gt;The simulated clock in the test case looked pretty useful, so I promoted it from the test case to the a &lt;tt&gt;Clock.Virtual&lt;/tt&gt; class.&lt;/p&gt;</comment>
                            <comment id="13946388" author="chetanm" created="Tue, 25 Mar 2014 11:26:01 +0000"  >&lt;p&gt;Thomas suggested to use a dedicated collection say &apos;settings&apos; to store such data as it might interfere with the logic used for path in NodeDocument&lt;/p&gt;

&lt;p&gt;So reopening the bug to use a dedicated collection&lt;/p&gt;</comment>
                            <comment id="13946435" author="chetanm" created="Tue, 25 Mar 2014 12:03:57 +0000"  >&lt;p&gt;Updated the logic to use separate &lt;tt&gt;settings&lt;/tt&gt; collection in &lt;a href=&quot;http://svn.apache.org/r1581297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1581297&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=julian.reschke%40gmx.de&quot; class=&quot;user-hover&quot; rel=&quot;julian.reschke@gmx.de&quot;&gt;julian.reschke@gmx.de&lt;/a&gt; Can you have a look at changes required in RDBDocumentStore (new tables?) to support this&lt;/p&gt;</comment>
                            <comment id="13947729" author="chetanm" created="Wed, 26 Mar 2014 09:35:28 +0000"  >&lt;p&gt;Support for RDB was added in &lt;a href=&quot;http://svn.apache.org/r1581306&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1581306&lt;/a&gt;. All required work done&lt;/p&gt;</comment>
                            <comment id="13962921" author="alex.parvulescu" created="Tue, 8 Apr 2014 12:47:33 +0000"  >&lt;p&gt;bulk close for the 0.20.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12689979">OAK-1341</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tn5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>