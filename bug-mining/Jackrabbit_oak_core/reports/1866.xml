<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:54:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-9591] Implement hashcode() and equals() method in ItemDefinitionImpl</title>
                <link>https://issues.apache.org/jira/browse/OAK-9591</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;This is useful in the context of FileVault for this algorithm:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;get the&#160;&lt;tt&gt;NodeDefinition&lt;/tt&gt;&#160;of the child node that is to be deleted.&lt;/li&gt;
	&lt;li&gt;loop through all child nodes and count the ones that have the same nodedef.&#160;&lt;font color=&quot;#00875a&quot;&gt;To compare that the nodedef is same, it was recommended to add an equals method in ItemDefinitionImpl as per the conversation done on PR&#160;&lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/pull/163#discussion_r711728698&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/pull/163#discussion_r711728698&lt;/a&gt;&#160;&lt;/font&gt;&lt;/li&gt;
	&lt;li&gt;if the nodedef is mandatory and there are more than 1 nodes with this nodedef, we can delete it.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13404824">OAK-9591</key>
            <summary>Implement hashcode() and equals() method in ItemDefinitionImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="ankitaagar">Ankita Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Oct 2021 16:57:17 +0000</created>
                <updated>Mon, 8 Nov 2021 03:57:47 +0000</updated>
                            <resolved>Tue, 5 Oct 2021 13:02:50 +0000</resolved>
                                    <version>1.40.0</version>
                                    <fixVersion>1.8.25</fixVersion>
                    <fixVersion>1.42.0</fixVersion>
                    <fixVersion>1.22.10</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17424079" author="ankitaagar" created="Mon, 4 Oct 2021 18:04:30 +0000"  >&lt;p&gt;I will provide the patch&lt;/p&gt;</comment>
                            <comment id="17424101" author="ankitaagar" created="Mon, 4 Oct 2021 18:32:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt; Could you please review the PR -&amp;gt; &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/pull/382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/pull/382&lt;/a&gt;, raised as per comments on &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/pull/163&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/pull/163&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17424346" author="tmueller" created="Tue, 5 Oct 2021 08:01:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ankitaagar&quot; class=&quot;user-hover&quot; rel=&quot;ankitaagar&quot;&gt;ankitaagar&lt;/a&gt; The PR looks good, but I don&apos;t understand how this issue is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-549&quot; title=&quot;node cannot be deleted if it&amp;#39;s a residual mandatory child node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-549&quot;&gt;&lt;del&gt;JCRVLT-549&lt;/del&gt;&lt;/a&gt; : there is no issue description here, and I don&apos;t see an explanation in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-549&quot; title=&quot;node cannot be deleted if it&amp;#39;s a residual mandatory child node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-549&quot;&gt;&lt;del&gt;JCRVLT-549&lt;/del&gt;&lt;/a&gt; why ItemDefinitionImpl needs hashCode + equals... Could you add this info please?&lt;/p&gt;</comment>
                            <comment id="17424348" author="ankitaagar" created="Tue, 5 Oct 2021 08:12:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;The idea is:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;get the&#160;&lt;tt&gt;NodeDefinition&lt;/tt&gt;&#160;of the child node that is to be deleted.&lt;/li&gt;
	&lt;li&gt;loop through all child nodes and count the ones that have the same nodedef. &lt;font color=&quot;#00875a&quot;&gt;To compare that the nodedef is same, it was recommended to add an equals method in ItemDefinitionImpl as per the conversation done on PR &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/pull/163#discussion_r711728698&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/pull/163#discussion_r711728698&lt;/a&gt;&#160;&lt;/font&gt;&lt;/li&gt;
	&lt;li&gt;if the nodedef is mandatory and there are more than 1 nodes with this nodedef, we can delete it.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17424369" author="tmueller" created="Tue, 5 Oct 2021 08:47:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ankitaagar&quot; class=&quot;user-hover&quot; rel=&quot;ankitaagar&quot;&gt;ankitaagar&lt;/a&gt; thanks a lot, that makes sense! (For a possible optimization, see my comment in the &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/pull/163#discussion_r722008858&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/pull/163#discussion_r722008858&lt;/a&gt; - but it might not actually help all that much in reality)&lt;/p&gt;</comment>
                            <comment id="17424405" author="ankitaagar" created="Tue, 5 Oct 2021 10:15:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt;/ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, Could you please merge the PR, so that I can backport it to 1.8?&lt;/p&gt;</comment>
                            <comment id="17424406" author="kwin" created="Tue, 5 Oct 2021 10:18:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ankitaagar&quot; class=&quot;user-hover&quot; rel=&quot;ankitaagar&quot;&gt;ankitaagar&lt;/a&gt; The description of this issue is highly confusing. IMHO this is only about adding equals() and hashCode(). The algorithm you describe is related to FileVault but has nothing to do with this issue.&lt;/p&gt;</comment>
                            <comment id="17424407" author="ankitaagar" created="Tue, 5 Oct 2021 10:21:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;I had just added it for the understanding purpose -&amp;gt; why do we need implementation of&#160;equals() and hashCode().&lt;/p&gt;</comment>
                            <comment id="17424464" author="kwin" created="Tue, 5 Oct 2021 13:02:50 +0000"  >&lt;p&gt;Fixed in &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/commit/1235d9f24dc26a404b447aef9d6354b45651182c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/commit/1235d9f24dc26a404b447aef9d6354b45651182c&lt;/a&gt; (trunk, 1.42)&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/commit/826f322f23da4eb3bc15e6fc2c56b7b5f9019ad0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/commit/826f322f23da4eb3bc15e6fc2c56b7b5f9019ad0&lt;/a&gt; (1.22)&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/commit/957b8370e561b15591bfdebdcfdc50a052c19919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/commit/957b8370e561b15591bfdebdcfdc50a052c19919&lt;/a&gt; (1.8)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ankitaagar&quot; class=&quot;user-hover&quot; rel=&quot;ankitaagar&quot;&gt;ankitaagar&lt;/a&gt; Thanks for the contribution.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13394579">JCRVLT-549</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0vjr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>