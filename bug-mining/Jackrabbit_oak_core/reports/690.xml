<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:42:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1462] Aggregate Index isn&apos;t usable in an osgi environment</title>
                <link>https://issues.apache.org/jira/browse/OAK-1462</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;There are a few issues with the Aggregate Index in an osgi env.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;First the cost is the same as the wrapped index. This is not really about osgi, but the fact that in an osgi enabled environment there will be 2 indices returning the same cost (ex. lucene and aggregate lucene) so some full-text queries may fail randomly.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Second, there are no osgi annotations on the Aggregate Index so it is not automatically enabled. I&apos;m not sure how to enable that yet.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12696870">OAK-1462</key>
            <summary>Aggregate Index isn&apos;t usable in an osgi environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2014 09:18:45 +0000</created>
                <updated>Wed, 1 Oct 2014 13:11:20 +0000</updated>
                            <resolved>Thu, 12 Jun 2014 11:23:42 +0000</resolved>
                                                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>core</component>
                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13910131" author="alex.parvulescu" created="Mon, 24 Feb 2014 09:22:13 +0000"  >&lt;p&gt;I&apos;ve tweaked the cost output to make sure this index is picked to fix the first problem while I look at adding some proper osgi annotations. (rev 1571195)&lt;/p&gt;</comment>
                            <comment id="13972374" author="chetanm" created="Thu, 17 Apr 2014 07:52:38 +0000"  >&lt;p&gt;Disabled the default LuceneIndexProvider form being registered as OSGi service by default in &lt;a href=&quot;http://svn.apache.org/r1588154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1588154&lt;/a&gt; (required for 1.0)&lt;/p&gt;

&lt;p&gt;Would fix later in trunk by having a separate factory component which would register the LuceneIndexProvider depending on if NodeAggregator is available or not&lt;/p&gt;</comment>
                            <comment id="13973341" author="jukkaz" created="Thu, 17 Apr 2014 20:11:44 +0000"  >&lt;p&gt;Do we need the aggregate index to be a separate service from the plain Lucene index? It seems like a simpler approach would be to just merge the functionality into the Lucene index.&lt;/p&gt;</comment>
                            <comment id="14027631" author="chetanm" created="Wed, 11 Jun 2014 11:17:26 +0000"  >&lt;p&gt;Done the OSGi integration as part of &lt;a href=&quot;http://svn.apache.org/r1601853&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1601853&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Tracks NodeAggrgator and Analyze and registers them with LuceneIndexProvider&lt;/li&gt;
	&lt;li&gt;Analyze though cannot be substituted currently as we do not export Lucene packages&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alex.parvulescu&quot; class=&quot;user-hover&quot; rel=&quot;alex.parvulescu&quot;&gt;alex.parvulescu&lt;/a&gt; Can you check the LuceneSupportTest added as part &lt;a href=&quot;http://svn.apache.org/r1601854&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1601854&lt;/a&gt;. I wanted to assert that NodeAggrgator gets picked up and used but was not able to come up with the query.&lt;/p&gt;</comment>
                            <comment id="14029034" author="chetanm" created="Thu, 12 Jun 2014 11:23:42 +0000"  >&lt;p&gt;Testcase updated to check for Aggregation also.&lt;/p&gt;

&lt;p&gt;We would need a way to express the aggregation rule via content in NodeStore and have a NodeAggregator registered using that. Would follow up for that in a new issue. For this part required work is done&lt;/p&gt;</comment>
                            <comment id="14038693" author="chetanm" created="Fri, 20 Jun 2014 11:23:40 +0000"  >&lt;p&gt;Integrated the changes done to 1.0 with &lt;a href=&quot;http://svn.apache.org/r1604139&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1604139&lt;/a&gt;. For now only integrated the changes done as part of &lt;a href=&quot;http://svn.apache.org/r1601853&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1601853&lt;/a&gt;. Other changes done were mostly for adding testcase and dependent on other changes done in oak-pojosr. So ignored them for now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1soif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>