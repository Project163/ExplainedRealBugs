<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:35:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-178] Query: index definition documentation and tooling</title>
                <link>https://issues.apache.org/jira/browse/OAK-178</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Unlike Jackrabbit 2.x, indexes in the Oak query engine are user defined, that means data is only indexed if there is a matching index. Those indexes are then automatically used for the appropriate queries. The current plan is to define indexes as nodes within a repository. An index is created if an index metadata node is created, and the index is removed if the index metadata node is removed. The index content is automatically updated if the content changes (either synchronously or asynchronously).&lt;/p&gt;

&lt;p&gt;The location and structure of the index metadata needs to be defined and documented.&lt;/p&gt;

&lt;p&gt;Also, to simplify defining and managing indexes, it may make sense to write a utility (helper class) for managing indexes. Internally, this utility uses the regular JCR API and accesses the documented index metadata nodes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598374">OAK-178</key>
            <summary>Query: index definition documentation and tooling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stillalex">Alex Deparvu</assignee>
                                    <reporter username="thomasm">Thomas Mueller</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 13:47:14 +0000</created>
                <updated>Tue, 21 May 2013 11:26:32 +0000</updated>
                            <resolved>Wed, 13 Feb 2013 13:21:23 +0000</resolved>
                                                    <fixVersion>0.7</fixVersion>
                                    <component>core</component>
                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                                                            <comments>
                            <comment id="13411573" author="tmueller" created="Wed, 11 Jul 2012 14:35:04 +0000"  >&lt;p&gt;I suggest the index metadata should be stored at&lt;/p&gt;

&lt;p&gt;    /jcr:system/indexes&lt;/p&gt;</comment>
                            <comment id="13411583" author="reschke" created="Wed, 11 Jul 2012 14:43:39 +0000"  >&lt;p&gt;Or:&lt;/p&gt;

&lt;p&gt;  /jcr:system/oak:indexes&lt;/p&gt;

&lt;p&gt;and define an Oak namespace (we&apos;ll need that for new node types etc anyway).&lt;/p&gt;</comment>
                            <comment id="13412591" author="tmueller" created="Thu, 12 Jul 2012 07:46:44 +0000"  >&lt;p&gt;&amp;gt; and define an Oak namespace&lt;/p&gt;

&lt;p&gt;Sure! How would I do that?&lt;/p&gt;</comment>
                            <comment id="13412594" author="tmueller" created="Thu, 12 Jul 2012 07:53:47 +0000"  >&lt;p&gt;Like this?&lt;/p&gt;

&lt;p&gt;#P oak-jcr&lt;br/&gt;
Index: src/main/resources/org/apache/jackrabbit/oak/jcr/nodetype/builtin_nodetypes.cnd&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/resources/org/apache/jackrabbit/oak/jcr/nodetype/builtin_nodetypes.cnd	(revision 1360166)&lt;br/&gt;
+++ src/main/resources/org/apache/jackrabbit/oak/jcr/nodetype/builtin_nodetypes.cnd	(working copy)&lt;br/&gt;
@@ -19,6 +19,7 @@&lt;br/&gt;
 &amp;lt;jcr=&apos;http://www.jcp.org/jcr/1.0&apos;&amp;gt;&lt;br/&gt;
 &amp;lt;nt=&apos;http://www.jcp.org/jcr/nt/1.0&apos;&amp;gt;&lt;br/&gt;
 &amp;lt;mix=&apos;http://www.jcp.org/jcr/mix/1.0&apos;&amp;gt;&lt;br/&gt;
+&amp;lt;oak=&apos;http://jackrabbit.apache.org/oak/1.0&apos;&amp;gt;&lt;/p&gt;

&lt;p&gt; //------------------------------------------------------------------------------&lt;br/&gt;
 // B A S E  T Y P E&lt;/p&gt;</comment>
                            <comment id="13412609" author="tmueller" created="Thu, 12 Jul 2012 08:33:11 +0000"  >&lt;p&gt;I saw the following change is also needed:&lt;/p&gt;

&lt;p&gt;#P oak-jcr&lt;br/&gt;
Index: src/main/java/org/apache/jackrabbit/oak/jcr/nodetype/NodeTypeManagerDelegate.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/jackrabbit/oak/jcr/nodetype/NodeTypeManagerDelegate.java	(revision 1360577)&lt;br/&gt;
+++ src/main/java/org/apache/jackrabbit/oak/jcr/nodetype/NodeTypeManagerDelegate.java	(working copy)&lt;br/&gt;
@@ -47,6 +47,7 @@&lt;br/&gt;
         tmp.put(&quot;nt&quot;,  &quot;http://www.jcp.org/jcr/nt/1.0&quot;);&lt;br/&gt;
         tmp.put(&quot;mix&quot;, &quot;http://www.jcp.org/jcr/mix/1.0&quot;);&lt;br/&gt;
         tmp.put(&quot;xml&quot;, &quot;http://www.w3.org/XML/1998/namespace&quot;);&lt;br/&gt;
+        tmp.put(&quot;oak&quot;,  &quot;http://jackrabbit.apache.org/oak/1.0&quot;);&lt;br/&gt;
         nsdefaults = Collections.unmodifiableMap(tmp);&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;With those two changes, the tests seem to work&lt;/p&gt;</comment>
                            <comment id="13412620" author="tmueller" created="Thu, 12 Jul 2012 09:09:04 +0000"  >&lt;p&gt;Some of the tests fail if there is a jcr:system node; I created &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-179&quot; title=&quot;Tests should not fail if there is a jcr:system node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-179&quot;&gt;&lt;del&gt;OAK-179&lt;/del&gt;&lt;/a&gt; for this.&lt;/p&gt;</comment>
                            <comment id="13421398" author="tmueller" created="Tue, 24 Jul 2012 13:35:08 +0000"  >&lt;p&gt;Request for feedback:&lt;/p&gt;

&lt;p&gt;Currently the index configuration is stored under /jcr:system/indexes.&lt;br/&gt;
Should it be /jcr:system/oak:indexes instead? &lt;/p&gt;

&lt;p&gt;If yes, is the patch above the correct way (to your knowledge) to register the &quot;oak&quot; namespace?&lt;/p&gt;

&lt;p&gt;Unless somebody objects, I will try to use jcr:system/oak:indexes.&lt;/p&gt;</comment>
                            <comment id="13421427" author="reschke" created="Tue, 24 Jul 2012 14:02:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Should it be /jcr:system/oak:indexes instead? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If yes, is the patch above the correct way (to your knowledge) to register the &quot;oak&quot; namespace?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I believe so; we may want to lose the trailing &quot;1.0&quot;, though...&lt;/p&gt;
</comment>
                            <comment id="13577544" author="alex.parvulescu" created="Wed, 13 Feb 2013 13:21:23 +0000"  >&lt;p&gt;I think we&apos;ve covered all the important parts.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12604338">OAK-269</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12610215">OAK-362</subtask>
                            <subtask id="12610334">OAK-365</subtask>
                            <subtask id="12610564">OAK-368</subtask>
                            <subtask id="12613299">OAK-394</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00yjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3528</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>