<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:45:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1998] Accessible tree below a non-accessible parent are HiddenTree</title>
                <link>https://issues.apache.org/jira/browse/OAK-1998</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1441&quot; title=&quot;o.a.j.o.api.Tree/Root allows access to hidden nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1441&quot;&gt;&lt;del&gt;OAK-1441&lt;/del&gt;&lt;/a&gt; introduced a regression with respect to trees that are accessible though one of their parent nodes isn&apos;t. The problem is that the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1441&quot; title=&quot;o.a.j.o.api.Tree/Root allows access to hidden nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1441&quot;&gt;&lt;del&gt;OAK-1441&lt;/del&gt;&lt;/a&gt; doesn&apos;t distinguish between &apos;hidden&apos; trees and trees that are not accessible.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Hidden Trees: the complete subtree defined by the tree starting with &quot;:&quot; must be hidden irrespective of the access control setup. example: Index.&lt;/li&gt;
	&lt;li&gt;Non-Accessible Tree: This is a matter of access control setup and it might be that a child node is readable again. Example: the version store is not accessible by default but the individual version histories (and versions) are accessible if the corresponding versionable node is.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The second use case is broken due to the missing distinction and the fact the a HiddenTree always makes a child node hidden.&lt;/p&gt;

&lt;p&gt;Proposed solution: I think we have to make a clear separation between hidden trees and trees that are not accessible and which are not hidden.&lt;br/&gt;
the former defines a complete tree that is hidden (current approach is correct) but for the latter we need proper permission evaluation upon access... these nodes must not be &quot;HiddenTree&quot;s.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730424">OAK-1998</key>
            <summary>Accessible tree below a non-accessible parent are HiddenTree</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Jul 2014 07:33:52 +0000</created>
                <updated>Wed, 1 Oct 2014 13:07:57 +0000</updated>
                            <resolved>Wed, 30 Jul 2014 08:37:10 +0000</resolved>
                                    <version>1.0</version>
                    <version>1.0.1</version>
                    <version>1.0.2</version>
                    <version>1.0.3</version>
                                    <fixVersion>1.0.4</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14077483" author="anchela" created="Tue, 29 Jul 2014 07:41:04 +0000"  >&lt;p&gt;version related tests that illustrate the issue (NOTE: needs up to date version of jackrabbit-jcr-commons)&lt;/p&gt;</comment>
                            <comment id="14077657" author="anchela" created="Tue, 29 Jul 2014 12:23:42 +0000"  >&lt;p&gt;raising severity as requested by vlad petcu who run into this issue due to broken version related features. Note however, that the problem is not limited to version related code but affects all cases where a subtree is readable while the parent isn&apos;t.&lt;/p&gt;</comment>
                            <comment id="14077891" author="mduerig" created="Tue, 29 Jul 2014 16:06:59 +0000"  >&lt;p&gt;Committed a fix at &lt;a href=&quot;http://svn.apache.org/r1614397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1614397&lt;/a&gt;. Angela, assigning to you for cross checking.&lt;/p&gt;</comment>
                            <comment id="14079031" author="anchela" created="Wed, 30 Jul 2014 07:38:55 +0000"  >&lt;p&gt;rev. 1614574: added some additional tests, also verifying that the non-readable intermediate paths on the version store are not accessible from the session or versionhistory.&lt;/p&gt;</comment>
                            <comment id="14079033" author="anchela" created="Wed, 30 Jul 2014 07:43:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mduerig&quot; class=&quot;user-hover&quot; rel=&quot;mduerig&quot;&gt;mduerig&lt;/a&gt;, anything left from your side? merging into 1.0 branch? otherwise i think we are good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14079071" author="mduerig" created="Wed, 30 Jul 2014 08:37:00 +0000"  >&lt;p&gt;Merged into the 1.0 branch at &lt;a href=&quot;http://svn.apache.org/r1614579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1614579&lt;/a&gt; and &lt;a href=&quot;http://svn.apache.org/r1614580&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1614580&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12658375" name="OAK-1998_(tests).patch" size="12654" author="angela" created="Tue, 29 Jul 2014 07:41:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408497</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yadz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>