<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:45:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-203] Basic same name sibling support</title>
                <link>https://issues.apache.org/jira/browse/OAK-203</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;There are some cases where clients or even the JCR spec expect same name siblings to be supported. We should have some mechanism to allow such cases to work with no or minimal required changes. Such a mechanism doesn&apos;t need be fully compliant with the SNS feature as specified by JCR, just good enough to to cover the most common use cases.&lt;/p&gt;

&lt;p&gt;My initial thinking on this is that, whichever way we end up implementing this, it would be nice if the underlying oak-core and microkernel -level SNS nodes simply used the &quot;name&lt;span class=&quot;error&quot;&gt;&amp;#91;index&amp;#93;&lt;/span&gt;&quot; naming pattern with no extra semantics associated with it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599863">OAK-203</key>
            <summary>Basic same name sibling support</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jul 2012 16:05:17 +0000</created>
                <updated>Fri, 4 Jul 2025 09:44:58 +0000</updated>
                            <resolved>Mon, 8 Sep 2014 07:27:44 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13421317" author="mduerig" created="Tue, 24 Jul 2012 10:37:43 +0000"  >&lt;p&gt;See also &lt;a href=&quot;http://markmail.org/message/tb3usrvmjr7xy4h6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/tb3usrvmjr7xy4h6&lt;/a&gt; for the respective discussion on SNS support&lt;/p&gt;</comment>
                            <comment id="13454852" author="mduerig" created="Thu, 13 Sep 2012 12:30:37 +0000"  >&lt;p&gt;This approach somewhat interferes with validation of jcr constraints (&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-66&quot; title=&quot;JCR Node Type Management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-66&quot;&gt;&lt;del&gt;OAK-66&lt;/del&gt;&lt;/a&gt;): how should a child node definition be matched against a same name sibling with an index on it? Currently it does &lt;tt&gt;childNodeName.startsWith(nodeDefinition.getName())&lt;/tt&gt; which however can result in bogus matches.&lt;/p&gt;</comment>
                            <comment id="14119673" author="mduerig" created="Wed, 3 Sep 2014 09:11:44 +0000"  >&lt;p&gt;There has been some recent discussions about &quot;basic SNS&quot; in Oak not being usable [1], [2]. &lt;/p&gt;

&lt;p&gt;Oak currently creates nodes with an index expression while upgrading from Jackrabbit and internally to expose the node type definitions as content. In both cases there is nothing that could be done to such nodes through the JCR API as even retrieving them will throw a &lt;tt&gt;PathNotFoundException: sibling[42]&lt;/tt&gt; or some variant thereof.&lt;/p&gt;

&lt;p&gt;The attached patch addresses this by allowing index expressions on the path for read access. This way users can work with such nodes as with any other nodes but can&apos;t create new &quot;SNS&quot; nodes themselves. &lt;/p&gt;

&lt;p&gt;[1] &lt;a href=&quot;http://markmail.org/message/qge5nnyev3hzzipx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/qge5nnyev3hzzipx&lt;/a&gt;&lt;br/&gt;
[2] &lt;a href=&quot;http://markmail.org/message/7qczhkpicvq7q5ea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/7qczhkpicvq7q5ea&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14125268" author="mduerig" created="Mon, 8 Sep 2014 07:23:33 +0000"  >&lt;p&gt;Applied patch at &lt;a href=&quot;http://svn.apache.org/r1623310&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1623310&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14125273" author="mduerig" created="Mon, 8 Sep 2014 07:27:44 +0000"  >&lt;p&gt;I think this pretty much covers the initial intention behind this issue as it allows the system to create nodes that pretty much look like SNSs but prevents the user from creating such nodes. For further refinements re. name clashes there is  &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-129&quot; title=&quot;Add support for auto creating node names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-129&quot;&gt;&lt;del&gt;OAK-129&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14159894" author="amitjain" created="Mon, 6 Oct 2014 04:09:10 +0000"  >&lt;p&gt;Bulk close for 1.1.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12608417">OAK-322</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13555836">OAK-10523</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12559375">OAK-129</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13622531">JCRVLT-806</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12546385">OAK-14</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12666200" name="OAK-203.patch" size="38867" author="mduerig" created="Wed, 3 Sep 2014 10:00:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1d3rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>284573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>