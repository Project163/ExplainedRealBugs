<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:48:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-3032] LDAP test failures</title>
                <link>https://issues.apache.org/jira/browse/OAK-3032</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;There are various test failures in the oak-auth-ldap module:&lt;/p&gt;

&lt;p&gt;Failed tests:   testPrincipalsFromAuthInfo(org.apache.jackrabbit.oak.security.authentication.ldap.DefaultLdapLoginModuleTest): expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.jackrabbit.oak.security.user.UserPrincipalProvider$GroupPrincipal:cn=foobargroup,ou=groups,ou=system, org.apache.jackrabbit.oak.security.user.TreeBasedPrincipal:cn=Foo Bar,ou=users,ou=system, everyone principal&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;[]&amp;gt;&lt;br/&gt;
  testPrincipalsFromAuthInfo(org.apache.jackrabbit.oak.security.authentication.ldap.GuestTokenDefaultLdapLoginModuleTest): expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.jackrabbit.oak.security.user.UserPrincipalProvider$GroupPrincipal:cn=foobargroup,ou=groups,ou=system, org.apache.jackrabbit.oak.security.user.TreeBasedPrincipal:cn=Foo Bar,ou=users,ou=system, everyone principal&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;[]&amp;gt;&lt;br/&gt;
  testPrincipalsFromAuthInfo(org.apache.jackrabbit.oak.security.authentication.ldap.TokenDefaultLdapLoginModuleTest): expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.jackrabbit.oak.security.user.UserPrincipalProvider$GroupPrincipal:cn=foobargroup,ou=groups,ou=system, org.apache.jackrabbit.oak.security.user.TreeBasedPrincipal:cn=Foo Bar,ou=users,ou=system, everyone principal&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;[]&amp;gt;&lt;/p&gt;

&lt;p&gt;The tests also fail on travis. E.g.: &lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/68124560/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/68124560/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12840151">OAK-3032</key>
            <summary>LDAP test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tripod">Tobias Bocanegra</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jun 2015 09:50:53 +0000</created>
                <updated>Wed, 2 Mar 2016 11:57:28 +0000</updated>
                            <resolved>Wed, 8 Jul 2015 18:45:50 +0000</resolved>
                                                    <fixVersion>1.3.3</fixVersion>
                    <fixVersion>1.4</fixVersion>
                                    <component>auth-ldap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14599191" author="mreutegg" created="Wed, 24 Jun 2015 09:51:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt;, can you look into these?&lt;/p&gt;</comment>
                            <comment id="14599888" author="tripod" created="Wed, 24 Jun 2015 18:20:01 +0000"  >&lt;p&gt;I try to find time asap....&lt;/p&gt;</comment>
                            <comment id="14605370" author="mreutegg" created="Mon, 29 Jun 2015 10:02:14 +0000"  >&lt;p&gt;Set the failing test to ignore for now: &lt;a href=&quot;http://svn.apache.org/r1688173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1688173&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14610125" author="edivad" created="Wed, 1 Jul 2015 13:05:14 +0000"  >&lt;p&gt;Bulk move to 1.3.3.&lt;/p&gt;</comment>
                            <comment id="14617632" author="tripod" created="Tue, 7 Jul 2015 23:18:07 +0000"  >&lt;p&gt;something changed how the principal provider is updated.&lt;br/&gt;
the new external user is synchronized with the IDP during the login() call, but is then later not visible to the principal provider during the commit() call when the auth info is generated.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; do you know if something changed here?&lt;/p&gt;</comment>
                            <comment id="14618227" author="anchela" created="Wed, 8 Jul 2015 08:40:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt;, though i made some improvements to the authentication (&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-3006&quot; title=&quot;Remove workaround added for OAK-1404&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-3006&quot;&gt;&lt;del&gt;OAK-3006&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2998&quot; title=&quot;Postpone calculation of effective principals to LoginModule.commit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2998&quot;&gt;&lt;del&gt;OAK-2998&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2978&quot; title=&quot;ContentSession: Populate AuthInfo from Subject &quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2978&quot;&gt;&lt;del&gt;OAK-2978&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2690&quot; title=&quot;Add optional UserConfiguration#getUserPrincipalProvider()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2690&quot;&gt;&lt;del&gt;OAK-2690&lt;/del&gt;&lt;/a&gt;) those changes were committed already some time ago (before june 20th) and i am quite sure i run all tests... but i could take a closer look...&lt;/p&gt;</comment>
                            <comment id="14619091" author="tripod" created="Wed, 8 Jul 2015 18:17:18 +0000"  >&lt;p&gt;the error was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2998&quot; title=&quot;Postpone calculation of effective principals to LoginModule.commit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2998&quot;&gt;&lt;del&gt;OAK-2998&lt;/del&gt;&lt;/a&gt;. the revision before still works. I&apos;ll have a look.&lt;/p&gt;

&lt;p&gt;btw, git bisect is cool:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ git bisect log
git bisect start
# bad: [7e5185ea3d5f6df5eda12f4917b3ab59a77d66fb] OAK-3041: Baseline plugin suggests version increase for unmodified class
git bisect bad 7e5185ea3d5f6df5eda12f4917b3ab59a77d66fb
# bad: [07fdfd21df4ce3e86abd22bcd9e3f0eb6076c522] OAK-2924: DocumentNodeStore background update thread handling of persistence exceptions
git bisect bad 07fdfd21df4ce3e86abd22bcd9e3f0eb6076c522
# good: [bce34e173aea8ece5921150f803fc349235d8e92] OAK-2995: RDB*Store: check transaction isolation level
git bisect good bce34e173aea8ece5921150f803fc349235d8e92
# bad: [39092552f1d733a3eacb4b8125bccab5bdeb027d] OAK-2998 : Postpone calculation of effective principals to LoginModule.commit
git bisect bad 39092552f1d733a3eacb4b8125bccab5bdeb027d
# first bad commit: [39092552f1d733a3eacb4b8125bccab5bdeb027d] OAK-2998 : Postpone calculation of effective principals to LoginModule.commit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14619148" author="tripod" created="Wed, 8 Jul 2015 18:45:50 +0000"  >&lt;p&gt;fixed in r1689932&lt;/p&gt;</comment>
                            <comment id="14638867" author="edivad" created="Thu, 23 Jul 2015 14:08:47 +0000"  >&lt;p&gt;Bulk closing for 1.3.3.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gfcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>