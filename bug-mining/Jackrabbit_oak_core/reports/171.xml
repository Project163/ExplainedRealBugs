<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:36:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-497] No LoginModules configured error on Java 7</title>
                <link>https://issues.apache.org/jira/browse/OAK-497</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;The AuthenticationConfigurationImpl uses Configuration.getConfiguration() to get JAAS configuration when available, and falls back to the default OakConfiguration when not.&lt;/p&gt;

&lt;p&gt;That fallback is currently triggered by a SecurityException thrown from getConfiguration(), which seems to &lt;b&gt;not&lt;/b&gt; happen on Java 7 where instead just an empty Configuration is returned.&lt;/p&gt;

&lt;p&gt;A better approach might be to check if the returned configuration (if any) contains entries for the specified appName, and to fall back to default configuration if not.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.7.0_04&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_04-b20)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 23.0-b21, mixed mode)&lt;/p&gt;</environment>
        <key id="12622889">OAK-497</key>
            <summary>No LoginModules configured error on Java 7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Dec 2012 10:25:01 +0000</created>
                <updated>Mon, 6 May 2013 15:48:59 +0000</updated>
                            <resolved>Fri, 7 Dec 2012 10:42:17 +0000</resolved>
                                                    <fixVersion>0.6</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13526293" author="mduerig" created="Fri, 7 Dec 2012 10:32:44 +0000"  >&lt;p&gt;This is a sequel of &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-379&quot; title=&quot;Query test failures on buildbot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-379&quot;&gt;&lt;del&gt;OAK-379&lt;/del&gt;&lt;/a&gt; where we had a similar issue with the Oracle JVM.&lt;/p&gt;</comment>
                            <comment id="13526300" author="jukkaz" created="Fri, 7 Dec 2012 10:42:17 +0000"  >&lt;p&gt;Fixed as suggested in revision 1418265.&lt;/p&gt;</comment>
                            <comment id="13526312" author="mduerig" created="Fri, 7 Dec 2012 10:57:16 +0000"  >&lt;p&gt;Sorry for being PITA but this is exactly the same fix I did for &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-379&quot; title=&quot;Query test failures on buildbot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-379&quot;&gt;&lt;del&gt;OAK-379&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, and which was reverted &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. I wonder what changed in the mean while to admit this.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://fisheye6.atlassian.com/viewrep/jackrabbit/oak/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/security/SecurityProviderImpl.java?r1=1398877&amp;amp;r2=1399192&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye6.atlassian.com/viewrep/jackrabbit/oak/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/security/SecurityProviderImpl.java?r1=1398877&amp;amp;r2=1399192&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://fisheye6.atlassian.com/changelog/jackrabbit?cs=1399273&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye6.atlassian.com/changelog/jackrabbit?cs=1399273&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13526317" author="jukkaz" created="Fri, 7 Dec 2012 11:03:21 +0000"  >&lt;p&gt;Not sure, I guess Angela interpreted your earlier change as a workaround to get the query tests working (&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-379&quot; title=&quot;Query test failures on buildbot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-379&quot;&gt;&lt;del&gt;OAK-379&lt;/del&gt;&lt;/a&gt; or your commit didn&apos;t give much context about the broader issue). Angela?&lt;/p&gt;</comment>
                            <comment id="13532264" author="anchela" created="Fri, 14 Dec 2012 12:18:21 +0000"  >&lt;p&gt;exactly... and still don&apos;t like as it will not properly deal with an incomplete configuration&lt;br/&gt;
(where login should rather fail than use a default) it but i didn&apos;t see jukka&apos;s commit in the &lt;br/&gt;
first place. i will add a fixme comment as reminder that we should review it again (done rev. 1421811)&lt;/p&gt;</comment>
                            <comment id="13532274" author="jukkaz" created="Fri, 14 Dec 2012 12:34:46 +0000"  >&lt;p&gt;Thinking a bit deeper about this, I think the core problem here is that we&apos;re trying to overlay the JAAS configuration with a custom Oak authentication settings. Once we address the &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-17&quot; title=&quot;Modularisation and configuration concept&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-17&quot;&gt;&lt;del&gt;OAK-17&lt;/del&gt;&lt;/a&gt; TODO in &lt;tt&gt;OakConfiguration&lt;/tt&gt; and get rid of that class there will be no need for the extra logic to detect whether a JAAS configuration is present or not.&lt;/p&gt;</comment>
                            <comment id="13532279" author="mduerig" created="Fri, 14 Dec 2012 12:40:52 +0000"  >&lt;p&gt;The version as fixed by Jukka (revision 1418265) is at least consistent across different JDKs: it always falls back to &lt;tt&gt;OakConfiguration&lt;/tt&gt; if no JAAS configuration is available. Whereas previously the fall back would only occur when &lt;tt&gt;Configuration.getConfiguration()&lt;/tt&gt; throws an exception, which seems to be the case for Java 6 but not for Java 7 and OpenJDK. &lt;/p&gt;</comment>
                            <comment id="13532312" author="anchela" created="Fri, 14 Dec 2012 14:10:47 +0000"  >&lt;p&gt;&amp;gt; Once we address the &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-17&quot; title=&quot;Modularisation and configuration concept&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-17&quot;&gt;&lt;del&gt;OAK-17&lt;/del&gt;&lt;/a&gt; TODO in OakConfiguration and get rid of that class there will &lt;br/&gt;
&amp;gt; be no need for the extra logic to detect whether a JAAS configuration is present or not.&lt;/p&gt;

&lt;p&gt;right... for the time being i just added a commented to the code explaining why it&lt;br/&gt;
does the extra check for the missing config.&lt;/p&gt;</comment>
                            <comment id="13557216" author="jukkaz" created="Fri, 18 Jan 2013 14:00:12 +0000"  >&lt;p&gt;In revision 1435139 I decreased the log level from warn to info, as the messages simply state that in the absense of explicit JAAS configuration the built-in default configuration is used instead.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12612185">OAK-379</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>296466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i149l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>