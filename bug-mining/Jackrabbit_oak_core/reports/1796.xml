<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:53:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-8023] AccessControlManagerImpl can not handle repository level when editing policies by principal</title>
                <link>https://issues.apache.org/jira/browse/OAK-8023</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, it seems that editing access control by principal in the default implementation doesn&apos;t allow for applying entries to the &apos;null&apos; path.&lt;/p&gt;

&lt;p&gt;initially i thought that we can use an empty string value instead for the &lt;tt&gt;rep:nodePath&lt;/tt&gt;, but that doesn&apos;t work as it gets converted to &quot;.&quot; for some reason. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13213866">OAK-8023</key>
            <summary>AccessControlManagerImpl can not handle repository level when editing policies by principal</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Feb 2019 10:41:17 +0000</created>
                <updated>Thu, 21 Oct 2021 07:23:43 +0000</updated>
                            <resolved>Tue, 12 Feb 2019 14:56:16 +0000</resolved>
                                                    <fixVersion>1.12.0</fixVersion>
                    <fixVersion>1.10.1</fixVersion>
                                    <component>core</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16760787" author="anchela" created="Tue, 5 Feb 2019 13:14:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, proposed patch attached. let me know if you have a better value for the repository-path-marker constant.... i did try empty string to keep it the same as before but that doesn&apos;t work for the odd conversion (see above).&lt;/p&gt;</comment>
                            <comment id="16761662" author="anchela" created="Wed, 6 Feb 2019 10:52:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, having thought about it again, i found an alternative approach that would not require to introduce an odd marker-path: if we the rep:nodePath restriction is defined to be of type STRING no conversion will be made and empty string would still work. The downside was that the conversion from jcr to oak path (and vice versa) is no longer performed. so, usage of expanded names and namespace re-mappings would no longer work (&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-8023&quot; title=&quot;AccessControlManagerImpl can not handle repository level when editing policies by principal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-8023&quot;&gt;&lt;del&gt;OAK-8023&lt;/del&gt;&lt;/a&gt;-2.patch)&lt;/p&gt;

&lt;p&gt;Side note: the issue with the namespace remapping could be worked around but it gets quite ugly... essentially making the restriction of type PATH unless it&apos;s an empty string in which case the type will be STRING (&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-8023&quot; title=&quot;AccessControlManagerImpl can not handle repository level when editing policies by principal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-8023&quot;&gt;&lt;del&gt;OAK-8023&lt;/del&gt;&lt;/a&gt;-3.patch, including some additional tests for namespace remapping)&lt;/p&gt;</comment>
                            <comment id="16766050" author="alex.parvulescu" created="Tue, 12 Feb 2019 14:02:24 +0000"  >&lt;p&gt;looks good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16766104" author="anchela" created="Tue, 12 Feb 2019 14:56:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, committed revision 1853441.&lt;/p&gt;</comment>
                            <comment id="16773174" author="alex.parvulescu" created="Wed, 20 Feb 2019 16:37:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; can we backport this to 1.10?&lt;/p&gt;</comment>
                            <comment id="16773223" author="anchela" created="Wed, 20 Feb 2019 17:28:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, fine with me. i will send a mail to oak dev and take of it tomorrow.&lt;/p&gt;</comment>
                            <comment id="16773965" author="anchela" created="Thu, 21 Feb 2019 11:01:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, merged fix into 1.10 branch at revision 1854036.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12957744" name="OAK-8023-2.patch" size="7806" author="angela" created="Wed, 6 Feb 2019 10:48:37 +0000"/>
                            <attachment id="12957872" name="OAK-8023-3.patch" size="11919" author="angela" created="Thu, 7 Feb 2019 09:41:57 +0000"/>
                            <attachment id="12957641" name="OAK-8023.patch" size="6978" author="angela" created="Tue, 5 Feb 2019 13:13:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0nuw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>