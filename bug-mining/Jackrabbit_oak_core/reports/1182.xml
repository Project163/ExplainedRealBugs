<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:47:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-2655] Test failure: OrderableNodesTest.testAddNode</title>
                <link>https://issues.apache.org/jira/browse/OAK-2655</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;&lt;tt&gt;org.apache.jackrabbit.oak.jcr.OrderableNodesTest.testAddNode&lt;/tt&gt; fails on Jenkins when running the &lt;tt&gt;DOCUMENT_RDB&lt;/tt&gt; fixture. &lt;/p&gt;

&lt;p&gt;Failure seen at builds: 30, 44, 57, 58, 69, 78, 115, 121, 130, 132, 142, 152&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/Apache%20Jackrabbit%20Oak%20matrix/30/jdk=jdk-1.6u45,label=Ubuntu,nsfixtures=DOCUMENT_RDB,profile=unittesting/testReport/junit/org.apache.jackrabbit.oak.jcr/OrderableNodesTest/testAddNode_0_/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Apache%20Jackrabbit%20Oak%20matrix/30/jdk=jdk-1.6u45,label=Ubuntu,nsfixtures=DOCUMENT_RDB,profile=unittesting/testReport/junit/org.apache.jackrabbit.oak.jcr/OrderableNodesTest/testAddNode_0_/&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Jenkins, Ubuntu: &lt;a href=&quot;https://builds.apache.org/job/Apache%20Jackrabbit%20Oak%20matrix/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Apache%20Jackrabbit%20Oak%20matrix/&lt;/a&gt;&lt;/p&gt;</environment>
        <key id="12783588">OAK-2655</key>
            <summary>Test failure: OrderableNodesTest.testAddNode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                            <label>CI</label>
                            <label>Jenkins</label>
                    </labels>
                <created>Fri, 20 Mar 2015 12:37:35 +0000</created>
                <updated>Fri, 7 Sep 2018 14:25:13 +0000</updated>
                            <resolved>Fri, 27 Nov 2015 17:17:04 +0000</resolved>
                                    <version>1.0.30</version>
                    <version>1.2</version>
                                    <fixVersion>1.0.31</fixVersion>
                    <fixVersion>1.3.12</fixVersion>
                    <fixVersion>1.4</fixVersion>
                                    <component>rdbmk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14371295" author="reschke" created="Fri, 20 Mar 2015 13:48:51 +0000"  >&lt;p&gt;Likely a race condition with a bg thread; an update operation finds the document, updates it in memory and tries to write it back to the db where it is gone in the meantime; should fall back to creating it.&lt;/p&gt;</comment>
                            <comment id="14384097" author="reschke" created="Fri, 27 Mar 2015 16:29:39 +0000"  >&lt;p&gt;test case; fails with RDB persistence due to the fact that we do not do an atomic UPSERT. Needs further discussion of impact; current behavior to throw an exception appears to be handled by caller (DocumentStore) well.&lt;/p&gt;</comment>
                            <comment id="14495710" author="reschke" created="Wed, 15 Apr 2015 06:07:54 +0000"  >&lt;p&gt;Still investigating...&lt;/p&gt;

&lt;p&gt;1) Seems to be caused by a race condition between main thread and DS background thread&lt;/p&gt;

&lt;p&gt;2) Update fails because row to be updated appears to disappear&lt;/p&gt;

&lt;p&gt;3) There doesn&apos;t seem to be any remove()  operation involved.&lt;/p&gt;

&lt;p&gt;Next step: find out whether this happens with DBs other than H2DB (on local files) as well.&lt;/p&gt;</comment>
                            <comment id="14560560" author="mduerig" created="Wed, 27 May 2015 07:30:08 +0000"  >&lt;p&gt;Ignored the test at &lt;a href=&quot;http://svn.apache.org/r1681922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1681922&lt;/a&gt; as it kept failing the build&lt;/p&gt;</comment>
                            <comment id="14560576" author="reschke" created="Wed, 27 May 2015 07:43:11 +0000"  >&lt;p&gt;As far as I can tell, this is not helpful. My current understanding is that it only fails for H2, thus disabling it completely reduces the test coverage. What we really need to do is find out how to use a different DB on Jenkins, such as Postgres.&lt;/p&gt;</comment>
                            <comment id="14560579" author="mduerig" created="Wed, 27 May 2015 07:45:47 +0000"  >&lt;p&gt;I only disabled it for the DOCUMENT_RDB. Having the CI failing is more futile IMO. &lt;/p&gt;</comment>
                            <comment id="14560591" author="reschke" created="Wed, 27 May 2015 07:56:23 +0000"  >&lt;p&gt;Disabling tests that only fail occasionally is the best recipe for them to never get fixed.&lt;/p&gt;

&lt;p&gt;If you really think that the test failures are an issue then maybe we can only disable the test for the case where H2 is used?&lt;/p&gt;</comment>
                            <comment id="14560613" author="mduerig" created="Wed, 27 May 2015 08:17:51 +0000"  >&lt;p&gt;Having tests failing OTOH is the best receipt for making CI builds worthless. This issue here is the reminder for ensuring to fix this, not the CI. If we fail to address open issue then the problem is somewhere else, not in the code.&lt;/p&gt;

&lt;p&gt;If you can figure out how to make the test exclusion more specific please go ahead. &lt;/p&gt;
</comment>
                            <comment id="14562460" author="mduerig" created="Thu, 28 May 2015 08:03:12 +0000"  >&lt;p&gt;The assumption mechanism doesn&apos;t seem to work on Jenkins for whatever reason and the build keeps failing because of this anyhow: &lt;a href=&quot;https://builds.apache.org/job/Apache%20Jackrabbit%20Oak%20matrix/152/jdk=jdk1.8.0_11,label=Ubuntu,nsfixtures=DOCUMENT_RDB,profile=unittesting/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Apache%20Jackrabbit%20Oak%20matrix/152/jdk=jdk1.8.0_11,label=Ubuntu,nsfixtures=DOCUMENT_RDB,profile=unittesting/console&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="14562652" author="mduerig" created="Thu, 28 May 2015 10:38:05 +0000"  >&lt;p&gt;Never mind. This happened on the 1.2 branch. I didn&apos;t realise that we have the build matrix for branches already. &lt;/p&gt;</comment>
                            <comment id="14576883" author="edivad" created="Mon, 8 Jun 2015 09:47:51 +0000"  >&lt;p&gt;Bulk move to 1.3.1&lt;/p&gt;</comment>
                            <comment id="15030067" author="reschke" created="Fri, 27 Nov 2015 17:17:04 +0000"  >&lt;p&gt;Removing the test exclusion for now. I currently can not reproduce the issue, and there have been quite a few changes that may have fixed this.&lt;/p&gt;

&lt;p&gt;trunk: &lt;a href=&quot;http://svn.apache.org/r1716901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1716901&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15052435" author="edivad" created="Fri, 11 Dec 2015 08:46:20 +0000"  >&lt;p&gt;Bulk close for 1.3.12&lt;/p&gt;</comment>
                            <comment id="15299956" author="reschke" created="Wed, 25 May 2016 12:12:29 +0000"  >&lt;p&gt;trunk: &lt;a href=&quot;http://svn.apache.org/r1716901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1716901&lt;/a&gt; &lt;a href=&quot;http://svn.apache.org/r1681922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1681922&lt;/a&gt; &lt;a href=&quot;http://svn.apache.org/r1668658&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1668658&lt;/a&gt;&lt;br/&gt;
1.0: &lt;a href=&quot;http://svn.apache.org/r1745477&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1745477&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16607170" author="reschke" created="Fri, 7 Sep 2018 14:25:13 +0000"  >&lt;p&gt;Updated test: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12938830/12938830_OAK-2655.diff&quot; title=&quot;OAK-2655.diff attached to OAK-2655&quot;&gt;OAK-2655.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; - this fails with RDBDS, but passed with Mongo and Memory. Need to figure out whether RDB&apos;s behavior is ok or needs to be fixed...&#160; (cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mreutegg&quot; class=&quot;user-hover&quot; rel=&quot;mreutegg&quot;&gt;mreutegg&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12707796" name="2655.diff" size="3025" author="reschke" created="Fri, 27 Mar 2015 16:29:39 +0000"/>
                            <attachment id="12938830" name="OAK-2655.diff" size="3011" author="reschke" created="Fri, 7 Sep 2018 14:23:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311120" key="com.pyxis.greenhopper.jira:gh-epic-link">
                        <customfieldname>Epic Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>OAK-2714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i271dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>