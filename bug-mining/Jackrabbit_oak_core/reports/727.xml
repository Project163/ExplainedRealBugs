<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:42:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1524] NPE in TarMK flush thread</title>
                <link>https://issues.apache.org/jira/browse/OAK-1524</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Following exception is seen at times with SegmentStore&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;unning org.apache.jackrabbit.oak.jcr.tck.NodetypeIT
Exception in thread &quot;TarMK flush thread: target/tar.1303694685400657&quot; java.lang.NullPointerException
        at org.apache.jackrabbit.oak.plugins.segment.file.FileStore.flush(FileStore.java:237)
        at org.apache.jackrabbit.oak.plugins.segment.file.FileStore$1.run(FileStore.java:196)
        at java.lang.Thread.run(Thread.java:662)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looking at FileStore#L237 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;tt&gt;segments&lt;/tt&gt; might be null when memoryMapped mode is used (default). Possibly a null check is required there&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/file/FileStore.java#L237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/file/FileStore.java#L237&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12700647">OAK-1524</key>
            <summary>NPE in TarMK flush thread</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Mar 2014 07:18:56 +0000</created>
                <updated>Mon, 24 Mar 2014 13:36:42 +0000</updated>
                            <resolved>Tue, 11 Mar 2014 18:22:41 +0000</resolved>
                                                    <fixVersion>0.19</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13930196" author="mreutegg" created="Tue, 11 Mar 2014 10:33:41 +0000"  >&lt;p&gt;I saw this as well when running the ReadPropertyTest benchmark:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Apache Jackrabbit Oak 0.19-SNAPSHOT
# ReadPropertyTest                 C     min     10%     50%     90%     max       N
Exception in thread &quot;TarMK flush thread: target/Oak-Tar-1394524803521&quot; java.lang.NullPointerException
	at org.apache.jackrabbit.oak.plugins.segment.file.FileStore.flush(FileStore.java:237)
	at org.apache.jackrabbit.oak.plugins.segment.file.FileStore$1.run(FileStore.java:196)
	at java.lang.Thread.run(Thread.java:744)
Oak-Tar                            1       4       4       4       5      15   13647
java.lang.NullPointerException
	at org.apache.jackrabbit.oak.plugins.segment.file.FileStore.flush(FileStore.java:237)
	at org.apache.jackrabbit.oak.plugins.segment.file.FileStore.close(FileStore.java:296)
	at org.apache.jackrabbit.oak.fixture.OakRepositoryFixture$4.tearDownCluster(OakRepositoryFixture.java:222)
	at org.apache.jackrabbit.oak.benchmark.AbstractTest.run(AbstractTest.java:140)
	at org.apache.jackrabbit.oak.benchmark.ReadPropertyTest.run(ReadPropertyTest.java:27)
	at org.apache.jackrabbit.oak.benchmark.BenchmarkRunner.main(BenchmarkRunner.java:215)
	at org.apache.jackrabbit.oak.run.Main.main(Main.java:84)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13930706" author="jukkaz" created="Tue, 11 Mar 2014 18:22:41 +0000"  >&lt;p&gt;Fixed as suggested in revision 1576452.&lt;/p&gt;</comment>
                            <comment id="13945076" author="alex.parvulescu" created="Mon, 24 Mar 2014 13:36:42 +0000"  >&lt;p&gt;Bulk close for the 0.19 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t72f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>