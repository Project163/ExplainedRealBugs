<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:54:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-8045] Allow for ranking being specified with UserAuthenticatonFactory implementations</title>
                <link>https://issues.apache.org/jira/browse/OAK-8045</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Currently the &lt;tt&gt;SecurityProviderRegistration&lt;/tt&gt; lists &lt;tt&gt;UserAuthenticationFactory&lt;/tt&gt; implementions according to the order they are bound. While other parts of the security setup (e.g. AuthorizationConfiguration) allow for an explicit ranking to be specified this option is missing with &lt;tt&gt;UserAuthenticationFactory&lt;/tt&gt; as reported in the following thread on jackrabbit-users: &lt;a href=&quot;https://markmail.org/message/hieqxfdvsadi3lyr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://markmail.org/message/hieqxfdvsadi3lyr&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, wdyt?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13215446">OAK-8045</key>
            <summary>Allow for ranking being specified with UserAuthenticatonFactory implementations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Feb 2019 08:21:36 +0000</created>
                <updated>Mon, 15 Apr 2019 09:19:54 +0000</updated>
                            <resolved>Thu, 4 Apr 2019 15:16:45 +0000</resolved>
                                                    <fixVersion>1.12.0</fixVersion>
                                    <component>core</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16767012" author="alex.parvulescu" created="Wed, 13 Feb 2019 10:07:06 +0000"  >&lt;p&gt;sounds good to me.&lt;br/&gt;
Alternatively we could work on &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-7419&quot; title=&quot;SecurityProviderRegistration should only bind configurations defined as required&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-7419&quot;&gt;&lt;del&gt;OAK-7419&lt;/del&gt;&lt;/a&gt; as a more generic solution. I&apos;m not sure if the usecase is to support having 2 (or more) &lt;em&gt;UserAuthenticationFactory&lt;/em&gt; services or to just only have the one you need active.&lt;/p&gt;</comment>
                            <comment id="16767139" author="anchela" created="Wed, 13 Feb 2019 12:41:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, if i remember correctly we intentionally added the ability to have multiple &lt;tt&gt;UserAuthenticationFactory&lt;/tt&gt; implementations. but we might use a more generic issue and review for all parts of the security setup if we should add the ability to specify a ranking.&lt;/p&gt;</comment>
                            <comment id="16767321" author="alex.parvulescu" created="Wed, 13 Feb 2019 15:43:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;we intentionally added the ability to have multiple UserAuthenticationFactory implementations. but we might use a more generic issue and review for all parts of the security setup if we should add the ability to specify a ranking.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;right, then this instance is a good one to fix via this issue, and we could create followup issues for other components, as needed&lt;/p&gt;</comment>
                            <comment id="16807585" author="anchela" created="Tue, 2 Apr 2019 09:28:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, i had a chat with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; this morning and he suggested to use &lt;tt&gt;ServiceReference&lt;/tt&gt; as the second parameter in the bind method and subsequently use it as key in the sorted map as it implements &lt;tt&gt;Comparable&lt;/tt&gt; respecting service ranking and service id.&lt;br/&gt;
will attach an initial proposal for a patch and also try to come up with a test... once have an approach we feel comfortable with I would suggest we create a separate issue to address the same problem with the other lists kept in &lt;tt&gt;SecurityProviderRegistration&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16807781" author="anchela" created="Tue, 2 Apr 2019 14:01:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, proposed fix and a test-case attached and i would appreciate if you had time to review it. i reordered the parameters for bind/unbind putting the &lt;tt&gt;ServiceReference&lt;/tt&gt; first for the simple reason that the sling-osgi-testing bundle expects this order. according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; that will also work in a real world setup, where no specific order is mandated by the specification.&lt;/p&gt;</comment>
                            <comment id="16808711" author="alex.parvulescu" created="Wed, 3 Apr 2019 13:17:59 +0000"  >&lt;p&gt;I haven&apos;t tested this in an OSGi env, but the patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="16808770" author="anchela" created="Wed, 3 Apr 2019 14:19:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, do you think it is needed to create additional tests at &lt;tt&gt;org.apache.jackrabbit.oak.run.osgi.SecurityProviderRegistrationTest&lt;/tt&gt;? i could take a look tomorrow.... &lt;/p&gt;</comment>
                            <comment id="16809963" author="anchela" created="Thu, 4 Apr 2019 15:16:45 +0000"  >&lt;p&gt;Committed revision 1856940.&lt;/p&gt;</comment>
                            <comment id="16817758" author="edivad" created="Mon, 15 Apr 2019 09:19:54 +0000"  >&lt;p&gt;bulk close 1.12.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13225522">OAK-8187</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12964571" name="OAK-8045.patch" size="24884" author="angela" created="Tue, 2 Apr 2019 13:57:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0xkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>