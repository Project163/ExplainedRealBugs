<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:41:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1362] Add package-info.java files instead of using the project version for the package exports</title>
                <link>https://issues.apache.org/jira/browse/OAK-1362</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;the current code lacks of package-info.java with BND information for the exported java packages. the default bundle plugin builds therefor bundles with package exports that use the project version, which is not best practice.&lt;/p&gt;

&lt;p&gt;we should add package-info.java with bnd information for all exported packages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691706">OAK-1362</key>
            <summary>Add package-info.java files instead of using the project version for the package exports</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tripod">Tobias Bocanegra</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 19:23:37 +0000</created>
                <updated>Mon, 10 Feb 2014 13:51:27 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 22:30:02 +0000</resolved>
                                                    <fixVersion>0.16</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13884474" author="tripod" created="Tue, 28 Jan 2014 19:32:27 +0000"  >&lt;p&gt;the suggested initial package version is 1.0.0 as reasoned by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2. Untill we have  a 1.0 release we can set the package version to 1.0.0 and not change it if even if any API changes considering that pre 1.0 builds are to be considered as unstable wrt API&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13884489" author="jukkaz" created="Tue, 28 Jan 2014 19:38:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;On a related note, can we set up some tooling to check and/or update the package versions semi-automatically? Otherwise I fear they&apos;ll quickly get out of sync with reality.&lt;/p&gt;</comment>
                            <comment id="13884518" author="tripod" created="Tue, 28 Jan 2014 19:52:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;On a related note, can we set up some tooling to check and/or update the package versions semi-automatically?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;why would you want that? that is exactly the idea behind the semantic versioning. the developer that changes the API of a class of an exported package, updates the package version. if nothing changes, the version remains the same.&lt;/p&gt;</comment>
                            <comment id="13884523" author="jukkaz" created="Tue, 28 Jan 2014 19:56:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;the developer that changes the API of a class of an exported package, updates the package version.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right, but maintaining the package version is extra work that&apos;s easy to forget. All I&apos;m asking for is some tooling that makes it easier to do this, and harder to &lt;b&gt;not&lt;/b&gt; do this.&lt;/p&gt;</comment>
                            <comment id="13885150" author="fmeschbe" created="Wed, 29 Jan 2014 08:57:01 +0000"  >&lt;p&gt;+1 to using package-info.java. The additional benefit actually is that you can put package level JavaDoc into this file instead of having to maintain package.html file in the resources.&lt;/p&gt;

&lt;p&gt;As for versions: Starting with 1.0 for new packages is bets. For existing packages which have so far been exported with the library/bundle version, we should start from the last version. And yes, using the library/bundle version for the exported version is wrong since it increases the version on each release, regardless of any changes.&lt;/p&gt;

&lt;p&gt;As for checking: I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jukkaz&quot; class=&quot;user-hover&quot; rel=&quot;jukkaz&quot;&gt;jukkaz&lt;/a&gt; that tooling support would be helpful: The BND library has some version support built in, but this is not exposed in any Maven plugin yet. But the Aries project has a version check plugin which can be leveraged and which breaks the build if semantic versioning is not obeyed.&lt;/p&gt;</comment>
                            <comment id="13885216" author="jsedding" created="Wed, 29 Jan 2014 10:48:22 +0000"  >&lt;p&gt;With regards to tooling, &lt;a href=&quot;http://blog.osgi.org/2013/09/baselining-semantic-versioning-made-easy.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;baselining&lt;/a&gt; might be helpful.&lt;/p&gt;
</comment>
                            <comment id="13885434" author="tripod" created="Wed, 29 Jan 2014 15:41:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;For existing packages which have so far been exported with the library/bundle version, we should start from the last version.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;why not start with a clean scheme and set them to 1.0, too?&lt;/p&gt;</comment>
                            <comment id="13885919" author="tripod" created="Wed, 29 Jan 2014 22:30:02 +0000"  >&lt;p&gt;added package-info.java for all exported packages with version 0.16 in r1562613&lt;/p&gt;</comment>
                            <comment id="13886470" author="fmeschbe" created="Thu, 30 Jan 2014 10:23:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;why not start with a clean scheme and set them to 1.0, too?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It may not be an issue for Oak, but for example in Jackrabbit consider the Jackrabbit API bundle: A consumer might be built against v 2.3.0 and thus may import (2.3.0,3]. Now you think that you want to fix this package-version-equals-bundle-version problem and set the export version to 1.0. This causes the consumer bundle to not resolve any longer because the export version 1.0 is outside the range (2.3.0,3] required by the consumer bundle.&lt;/p&gt;</comment>
                            <comment id="13886827" author="tripod" created="Thu, 30 Jan 2014 17:58:37 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;. for now we keep it at 0.16 and we should probably bump it to 1.0 before we release oak-1.0. &lt;/p&gt;</comment>
                            <comment id="13896547" author="alex.parvulescu" created="Mon, 10 Feb 2014 13:51:27 +0000"  >&lt;p&gt;bulk close for the 0.16 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rukn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>