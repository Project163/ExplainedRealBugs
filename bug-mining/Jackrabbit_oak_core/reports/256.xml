<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:37:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-744] Invalid base node states in TreeImpl after commit/refresh/rebase</title>
                <link>https://issues.apache.org/jira/browse/OAK-744</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;&lt;tt&gt;TreeImpl.baseState&lt;/tt&gt; in &lt;tt&gt;TreeImpl&lt;/tt&gt; is not properly updated after calling &lt;tt&gt;commit&lt;/tt&gt;, &lt;tt&gt;refresh&lt;/tt&gt; or &lt;tt&gt;rebase&lt;/tt&gt; on &lt;tt&gt;Root&lt;/tt&gt;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12640540">OAK-744</key>
            <summary>Invalid base node states in TreeImpl after commit/refresh/rebase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Apr 2013 16:13:11 +0000</created>
                <updated>Tue, 21 May 2013 11:18:32 +0000</updated>
                            <resolved>Wed, 3 Apr 2013 17:22:56 +0000</resolved>
                                                    <fixVersion>0.7</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13621021" author="mduerig" created="Wed, 3 Apr 2013 16:17:55 +0000"  >&lt;p&gt;Revision 1464088 removes the &lt;tt&gt;baseState&lt;/tt&gt; field entirely and rather recalculates the base node state when necessary. If this turns out to be a performance bottleneck, we can add a similar mechanism like the one used in &lt;tt&gt;MemoryNodeBuilder&lt;/tt&gt; where a the base state is memoised and refreshed when necessary (i.e. when the node&apos;s revision doesn&apos;t match the root&apos;s revision anymore).&lt;/p&gt;

&lt;p&gt;As &lt;a href=&quot;http://markmail.org/message/xutq7czpi6xlso67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;discussed&lt;/a&gt;, a cleaner approach would be to use the base state of the associated node builders instead of tracking the base state for each tree again. However for this to work we need to first move the purge logic down below the &lt;tt&gt;NodeBuilder&lt;/tt&gt; level. See also &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-659&quot; title=&quot;Move purge logic for transient changes below the NodeBuilder interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-659&quot;&gt;&lt;del&gt;OAK-659&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13621078" author="mduerig" created="Wed, 3 Apr 2013 17:22:56 +0000"  >&lt;p&gt;Fixed at revision 1464088&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jdvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321341</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>