<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:47:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-2465] Long overflow in PermissionEntryProviderImpl</title>
                <link>https://issues.apache.org/jira/browse/OAK-2465</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;PermissionEntryProviderImpl#init can end up in a Long overflow if the underlying implementation does not know the exact value of the number children, and the child node count is higher than maxSize.&lt;/p&gt;

&lt;p&gt;I will attach a patch with a test case&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770997">OAK-2465</key>
            <summary>Long overflow in PermissionEntryProviderImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jan 2015 12:23:57 +0000</created>
                <updated>Mon, 9 Feb 2015 09:43:21 +0000</updated>
                            <resolved>Fri, 30 Jan 2015 15:39:05 +0000</resolved>
                                                    <fixVersion>1.1.6</fixVersion>
                                    <component>core</component>
                    <component>mongomk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14296767" author="asanso" created="Thu, 29 Jan 2015 12:27:28 +0000"  >&lt;p&gt;attach test case and proposed patch&lt;/p&gt;</comment>
                            <comment id="14298431" author="anchela" created="Fri, 30 Jan 2015 10:06:11 +0000"  >&lt;p&gt;adding mongomk as component as this bug so far only showed up in a mongo nodestore installations which return Long.MAX_VALUE as children count (which is according to the contract but the permission evaluation didn&apos;t cope with it). &lt;/p&gt;</comment>
                            <comment id="14298516" author="anchela" created="Fri, 30 Jan 2015 11:34:29 +0000"  >&lt;p&gt;updated patch incorporating the fix provided by antonio but still building the &apos;existingNames&apos; set properly in case of the number returned by the store is Long.MAX_VALUE (without that the permission evaluation will most probably be wrong).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;, i would be glad if you could review my patch as well and check if it still fixes the problem you spotted. in the mean time i will run the whole build.&lt;/p&gt;</comment>
                            <comment id="14298689" author="asanso" created="Fri, 30 Jan 2015 14:31:38 +0000"  >&lt;p&gt;ooops thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; for spotting,&lt;br/&gt;
To minor nitpicks to your patch (adding a new patch v3):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;In some edge cases  it can still overflow so I added 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LongMath.checkedAdd &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;In order to keep the test case a bit tighter with the code I added some reflection for the private field check&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14298770" author="anchela" created="Fri, 30 Jan 2015 15:38:56 +0000"  >&lt;p&gt;cool, thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; for identifying the issue, that patches and the review. i committed the result of the joint effort (patch 3) at rev. 1656035 adding yet another test-case and slightly improving the structure of the init method. &lt;/p&gt;</comment>
                            <comment id="14312031" author="edivad" created="Mon, 9 Feb 2015 09:43:21 +0000"  >&lt;p&gt;Bulk close for 1.1.6&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12695532" name="OAK-2465-patch-3.txt" size="12430" author="asanso" created="Fri, 30 Jan 2015 14:31:38 +0000"/>
                            <attachment id="12695259" name="OAK-2465-patch.txt" size="4617" author="asanso" created="Thu, 29 Jan 2015 12:27:28 +0000"/>
                            <attachment id="12695509" name="OAK-2465_2.patch" size="11166" author="angela" created="Fri, 30 Jan 2015 11:34:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24yaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>