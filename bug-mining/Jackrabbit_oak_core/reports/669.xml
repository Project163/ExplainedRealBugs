<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:42:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1420] ConcurrentAddIT fails on buildbot</title>
                <link>https://issues.apache.org/jira/browse/OAK-1420</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;&lt;tt&gt;org.apache.jackrabbit.oak.jcr.ConcurrentAddIT#addNodesSameParent&lt;/tt&gt; currently fails consistently on buildbot for the document NS fixture: &lt;a href=&quot;https://ci.apache.org/builders/oak-trunk/builds/4375&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.apache.org/builders/oak-trunk/builds/4375&lt;/a&gt;. It does not fail locally for me though. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12694944">OAK-1420</key>
            <summary>ConcurrentAddIT fails on buildbot</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2014 09:20:56 +0000</created>
                <updated>Thu, 27 Feb 2014 09:28:52 +0000</updated>
                            <resolved>Thu, 13 Feb 2014 15:15:47 +0000</resolved>
                                                    <fixVersion>0.17</fixVersion>
                                    <component>mongomk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13900242" author="mduerig" created="Thu, 13 Feb 2014 11:35:47 +0000"  >&lt;p&gt;With this patch I was able to reproduce the problem locally. Increase &lt;tt&gt;org.apache.jackrabbit.oak.jcr.ConcurrentAddIT#NODES_PER_WORKER&lt;/tt&gt; if needed. &lt;/p&gt;

&lt;p&gt;The patch also dumps the name of the missing nodes as well as all merges from &lt;tt&gt;org.apache.jackrabbit.oak.plugins.commit.ChildOrderConflictHandler#merge&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;In one case I observed the test to fail with &lt;tt&gt;worker-20-node-0&lt;/tt&gt; and &lt;tt&gt;worker-20-node-1&lt;/tt&gt; missing. Looking this up in the merges I found:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ours: worker-20-node-0, worker-20-node-1, 
theirs: worker-17-node-0, 
merged: worker-17-node-0, worker-20-node-0, worker-20-node-1, 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So there was a conflict, which was successfully and correctly merged. However it seems that the result of this merge gets somehow overwritten later on as neither &lt;tt&gt;worker-20-node-0&lt;/tt&gt; nor &lt;tt&gt;worker-20-node-1&lt;/tt&gt; appear in any of the many later merges. &lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1420&quot; title=&quot;ConcurrentAddIT fails on buildbot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1420&quot;&gt;&lt;del&gt;OAK-1420&lt;/del&gt;&lt;/a&gt;.log for the full console dump of this run.&lt;/p&gt;</comment>
                            <comment id="13900407" author="mreutegg" created="Thu, 13 Feb 2014 15:05:05 +0000"  >&lt;p&gt;Committed a potential fix in &lt;a href=&quot;http://svn.apache.org/r1567943&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1567943&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13900419" author="mreutegg" created="Thu, 13 Feb 2014 15:15:47 +0000"  >&lt;p&gt;With Michaels changes to the test I was also able to reproduce the failure. Now with above fix included, the test succeed on my machine.&lt;/p&gt;

&lt;p&gt;Enabled test for DocumentNS fixture again in &lt;a href=&quot;http://svn.apache.org/r1567950&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1567950&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13914289" author="alex.parvulescu" created="Thu, 27 Feb 2014 09:28:52 +0000"  >&lt;p&gt;bulk close for the 0.17.1 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628727" name="OAK-1420.log" size="863350" author="mduerig" created="Thu, 13 Feb 2014 11:35:47 +0000"/>
                            <attachment id="12628726" name="OAK-1420.patch" size="7088" author="mduerig" created="Thu, 13 Feb 2014 11:35:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1scvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>