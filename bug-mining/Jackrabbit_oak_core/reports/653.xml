<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:41:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1382] Tests in oak-core and oak-jcr may run out of memory</title>
                <link>https://issues.apache.org/jira/browse/OAK-1382</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;My oak-core build just ran out of memory. Quite a lot of memory is referenced from unused DocumentNodeStore instances, but are not garbage collected because the background thread associated with each store is still running. A test needs to dispose the store, which is missing in some of the tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692885">OAK-1382</key>
            <summary>Tests in oak-core and oak-jcr may run out of memory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mreutegg">Marcel Reutegger</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Feb 2014 15:43:14 +0000</created>
                <updated>Mon, 10 Feb 2014 13:51:25 +0000</updated>
                            <resolved>Tue, 4 Feb 2014 09:25:52 +0000</resolved>
                                                    <fixVersion>0.16</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13890463" author="mreutegg" created="Tue, 4 Feb 2014 07:31:00 +0000"  >&lt;p&gt;Hmm, there is actually code in place to deal with DocumentNodeStore instances that are not disposed. The background thread only keeps a weak reference to the DocumentNodeStore. After a closer look at the dump it turns out the majority of memory is kept by DocumentMKConcurrentAddTest. The test creates a cluster with 16 DocumentMKs. Each instance has a default cache size of 256MB. The CacheLIRS eagerly initializes the internal data structures to avoid growing the hash tables later. This results in a quite high memory usage even if the caches are not full.&lt;/p&gt;

&lt;p&gt;I&apos;ll reduce the cache sizes for the test.&lt;/p&gt;</comment>
                            <comment id="13890472" author="mreutegg" created="Tue, 4 Feb 2014 07:44:51 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1564224&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1564224&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13890485" author="mreutegg" created="Tue, 4 Feb 2014 08:11:23 +0000"  >&lt;p&gt;There&apos;s a similar problem with oak-jcr tests. &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-941&quot; title=&quot;MBean to track sessions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-941&quot;&gt;&lt;del&gt;OAK-941&lt;/del&gt;&lt;/a&gt; introduced a scheduled executor in RepositoryImpl, which needs to be shut down. It looks like some tests don&apos;t call shutdown when using DocumentNodeStore/MK.&lt;/p&gt;</comment>
                            <comment id="13890518" author="mreutegg" created="Tue, 4 Feb 2014 09:25:52 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1564234&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1564234&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13896537" author="alex.parvulescu" created="Mon, 10 Feb 2014 13:51:25 +0000"  >&lt;p&gt;bulk close for the 0.16 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s0qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>