<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:44:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1898] Query: Incorrect cost calculation for traversal</title>
                <link>https://issues.apache.org/jira/browse/OAK-1898</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;For queries of the following type, the estimated cost of traversal is very low if the number of path elements is high:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/jcr:root/path/with/many/elements/in/it//*
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12721678">OAK-1898</key>
            <summary>Query: Incorrect cost calculation for traversal</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thomasm">Thomas Mueller</assignee>
                                    <reporter username="thomasm">Thomas Mueller</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2014 13:29:52 +0000</created>
                <updated>Wed, 1 Apr 2015 14:28:01 +0000</updated>
                            <resolved>Mon, 23 Jun 2014 11:18:07 +0000</resolved>
                                    <version>1.0</version>
                    <version>1.0.1</version>
                                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14036861" author="mzaric" created="Thu, 19 Jun 2014 02:24:38 +0000"  >&lt;p&gt;Additional details in the attached PDF&lt;/p&gt;</comment>
                            <comment id="14037208" author="tmueller" created="Thu, 19 Jun 2014 10:24:11 +0000"  >&lt;p&gt;It would be great if we had a very rough estimate on the number of child nodes below a given path. One idea is: when adding a node, if Math.random() &amp;lt; 0.00001, add a hidden, randomly named property (for example called &quot;:count-xyz&quot; where xyz is a uuid, value 100&apos;000) to the parents of that node, so that we know there are probably more than 100&apos;000 nodes below a given path. When removing a node, with the same algorithm add a hidden property (&quot;:count-xyz&quot;, value -100&apos;000). That should result in a slowdown of less than 0.01%, but should allow us much better cost estimates. Those properties could be consolidated asynchronously if needed.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-894&quot; title=&quot;Query: better cost estimates for indexes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-894&quot;&gt;&lt;del&gt;OAK-894&lt;/del&gt;&lt;/a&gt;, where a mechanism is described to track descendent node counts.&lt;/p&gt;</comment>
                            <comment id="14040566" author="tmueller" created="Mon, 23 Jun 2014 09:33:12 +0000"  >&lt;p&gt;Revision 1604721 (trunk)&lt;/p&gt;</comment>
                            <comment id="14040573" author="tmueller" created="Mon, 23 Jun 2014 09:41:05 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1898&quot; title=&quot;Query: Incorrect cost calculation for traversal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1898&quot;&gt;&lt;del&gt;OAK-1898&lt;/del&gt;&lt;/a&gt;, just the bug is fixed. &lt;/p&gt;

&lt;p&gt;Better cost estimate is moved to &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1907&quot; title=&quot;Better cost estimates for traversal, property, and ordered indexes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1907&quot;&gt;&lt;del&gt;OAK-1907&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="14040635" author="tmueller" created="Mon, 23 Jun 2014 11:18:07 +0000"  >&lt;p&gt;Revision 1604728 (1.0 branch)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12723090">OAK-1907</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12657061">OAK-894</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12651349" name="[OAK][TraversingIndex] Incorrect cost calculation_.pdf" size="49781" author="mzaric" created="Thu, 19 Jun 2014 02:25:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wu5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>