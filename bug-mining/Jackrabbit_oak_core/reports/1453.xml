<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:50:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-3949] Deadlock with bulk acquire of TreeLocks</title>
                <link>https://issues.apache.org/jira/browse/OAK-3949</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;As reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-3724&quot; title=&quot;Use the bulk createOrUpdate in Commit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-3724&quot;&gt;&lt;del&gt;OAK-3724&lt;/del&gt;&lt;/a&gt;, the new bulk lock acquire method in TreeNodeDocumentLocks may lead to a deadlock. The feature was introduce with &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-3833&quot; title=&quot;Allow to acquire multiple locks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-3833&quot;&gt;&lt;del&gt;OAK-3833&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12934836">OAK-3949</key>
            <summary>Deadlock with bulk acquire of TreeLocks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mreutegg">Marcel Reutegger</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2016 15:43:06 +0000</created>
                <updated>Wed, 2 Mar 2016 15:22:23 +0000</updated>
                            <resolved>Mon, 1 Feb 2016 12:48:41 +0000</resolved>
                                                    <fixVersion>1.3.15</fixVersion>
                    <fixVersion>1.4</fixVersion>
                                    <component>core</component>
                    <component>documentmk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15122229" author="mreutegg" created="Thu, 28 Jan 2016 19:59:18 +0000"  >&lt;p&gt;Your patch seems to avoid the deadlock. Do you mind creating a unit test to verify?&lt;/p&gt;</comment>
                            <comment id="15122351" author="tomek.rekawek" created="Thu, 28 Jan 2016 21:40:28 +0000"  >&lt;p&gt;Sure, I was planning to prepare an unit test first thing tomorrow morning.&lt;/p&gt;</comment>
                            <comment id="15123268" author="tomek.rekawek" created="Fri, 29 Jan 2016 09:45:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mreutegg&quot; class=&quot;user-hover&quot; rel=&quot;mreutegg&quot;&gt;mreutegg&lt;/a&gt;, the patch have been enhanced with a test (failing on the trunk, passing on the patched version).&lt;/p&gt;</comment>
                            <comment id="15126200" author="mreutegg" created="Mon, 1 Feb 2016 12:48:41 +0000"  >&lt;p&gt;Applied the patch to trunk: &lt;a href=&quot;http://svn.apache.org/r1727929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1727929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks Tomek for your help!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12918002">OAK-3724</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12927215">OAK-3833</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12785138" name="OAK-3949.patch" size="8974" author="tomek.rekawek" created="Fri, 29 Jan 2016 09:44:43 +0000"/>
                            <attachment id="12784953" name="deadlock.txt" size="11758" author="mreutegg" created="Thu, 28 Jan 2016 15:43:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s3lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>