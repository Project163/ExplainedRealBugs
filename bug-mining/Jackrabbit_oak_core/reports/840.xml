<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:43:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1697] Unresolved conflicts in TokenProviderImpl#createToken()</title>
                <link>https://issues.apache.org/jira/browse/OAK-1697</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;In certain situations (e.g. heavy load) &lt;tt&gt;TokenProviderImpl#createToken()&lt;/tt&gt; might create some unresolved conflicts.&lt;/p&gt;

&lt;p&gt;e.g. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.jackrabbit.oak.api.CommitFailedException: OakState0001: Unresolved conflicts in /home/users/..../..../.tokens/2014-04-07T11.55.58.167+02.00
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;01.04.2014 17:52:41.216 *WARN* [qtp218544742-286] org.apache.jackrabbit.oak.security.authentication.token.TokenProviderImpl Failed to create login token.
01.04.2014 17:52:41.218 *WARN* [qtp218544742-300] org.eclipse.jetty.servlet.ServletHandler /projects.html
java.lang.IllegalArgumentException: Invalid token &apos;&apos;
    at org.apache.jackrabbit.api.security.authentication.token.TokenCredentials.&amp;lt;init&amp;gt;(TokenCredentials.java:42)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12707133">OAK-1697</key>
            <summary>Unresolved conflicts in TokenProviderImpl#createToken()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Apr 2014 08:27:14 +0000</created>
                <updated>Mon, 6 Oct 2014 04:09:16 +0000</updated>
                            <resolved>Tue, 8 Apr 2014 15:44:25 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13962748" author="anchela" created="Tue, 8 Apr 2014 10:04:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;, do you have a test-case?&lt;/p&gt;</comment>
                            <comment id="13962811" author="asanso" created="Tue, 8 Apr 2014 12:23:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; thanks for the patch.&lt;/p&gt;

&lt;p&gt;I m going to share the test case soon. But as an early feedback the attached patch doesn&apos;t seem to solve the issue. &lt;/p&gt;</comment>
                            <comment id="13962826" author="anchela" created="Tue, 8 Apr 2014 12:45:13 +0000"  >&lt;p&gt;alternative patch&lt;/p&gt;</comment>
                            <comment id="13962968" author="asanso" created="Tue, 8 Apr 2014 13:33:01 +0000"  >&lt;p&gt;attaching test patch&lt;/p&gt;</comment>
                            <comment id="13962969" author="asanso" created="Tue, 8 Apr 2014 13:34:13 +0000"  >&lt;p&gt;I have tried the alternative patch with the attached test and it seems that works&lt;/p&gt;</comment>
                            <comment id="13963028" author="asanso" created="Tue, 8 Apr 2014 14:26:12 +0000"  >&lt;p&gt;attached updated patch &lt;/p&gt;</comment>
                            <comment id="13963094" author="anchela" created="Tue, 8 Apr 2014 15:44:25 +0000"  >&lt;p&gt;rev. 1585763&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; thanks very much for the test case!&lt;/p&gt;</comment>
                            <comment id="14119976" author="avalers" created="Wed, 3 Sep 2014 15:38:27 +0000"  >&lt;p&gt;I already have this issue:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: Invalid token &apos;&apos;&lt;br/&gt;
	at org.apache.jackrabbit.api.security.authentication.token.TokenCredentials.&amp;lt;init&amp;gt;(TokenCredentials.java:42)&lt;/p&gt;

&lt;p&gt;in &lt;/p&gt;

&lt;p&gt; credentials = new SimpleCredentials(extractedUserId, extractedPassword.toCharArray());&lt;br/&gt;
            credentials.setAttribute(&quot;.token&quot;, &quot;&quot;);&lt;br/&gt;
        	credentials.setAttribute(trustCredentials, &quot;this value is inconsequential&quot;);&lt;br/&gt;
        	TokenCredentials tc = new TokenCredentials((String)credentials.getAttribute(&quot;.token&quot;));&lt;br/&gt;
        	AuthenticationInfo authInfo = new AuthenticationInfo(&quot;TOKEN&quot;, credentials.getUserID());&lt;/p&gt;</comment>
                            <comment id="14159914" author="amitjain" created="Mon, 6 Oct 2014 04:09:16 +0000"  >&lt;p&gt;Bulk close for 1.1.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12639196" name="OAK-1697-test-updated.patch" size="4042" author="asanso" created="Tue, 8 Apr 2014 14:26:12 +0000"/>
                            <attachment id="12639188" name="OAK-1697-test.patch" size="3812" author="asanso" created="Tue, 8 Apr 2014 13:33:01 +0000"/>
                            <attachment id="12639168" name="OAK-1697.patch" size="2573" author="angela" created="Tue, 8 Apr 2014 10:03:24 +0000"/>
                            <attachment id="12639181" name="OAK-1697_2.patch" size="2750" author="angela" created="Tue, 8 Apr 2014 12:45:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uejr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>