<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:34:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-16] Proper ValueFactory implementation and Value handling</title>
                <link>https://issues.apache.org/jira/browse/OAK-16</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;the GlobalContext contains the following code:&lt;/p&gt;

&lt;p&gt;        put(ValueFactory.class, new SimpleValueFactory());&lt;/p&gt;

&lt;p&gt;that doesn&apos;t work as the ValueFactory needs to be bound to each session instance&lt;br/&gt;
in order to be able to deal with namespace mappings, paths, names etc....&lt;/p&gt;

&lt;p&gt;michi, just told me that in addition the ValueConverted needs some focus as well.&lt;/p&gt;

&lt;p&gt;and yesterday, i saw that Property#getType implementation in the jackrabbit-mikrokernel&lt;br/&gt;
was not correct... &lt;/p&gt;

&lt;p&gt;just to mention a few issues....&lt;/p&gt;</description>
                <environment></environment>
        <key id="12546597">OAK-16</key>
            <summary>Proper ValueFactory implementation and Value handling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Mar 2012 15:15:26 +0000</created>
                <updated>Thu, 2 May 2013 02:29:52 +0000</updated>
                            <resolved>Thu, 31 May 2012 12:48:56 +0000</resolved>
                                                    <fixVersion>0.3</fixVersion>
                                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13263564" author="anchela" created="Fri, 27 Apr 2012 10:42:20 +0000"  >&lt;p&gt;the refactoring is almost completed. nevertheless i would like to keep the issue until we &lt;br/&gt;
have the reference values implemented (and properly validated) as well.&lt;/p&gt;

&lt;p&gt;in addition there are still some value related tck test failing. some of those &lt;br/&gt;
may be caused by missing validation either on oak-jcr or on oak-core... i need to take&lt;br/&gt;
a closer look at this again.&lt;/p&gt;</comment>
                            <comment id="13290153" author="reschke" created="Wed, 6 Jun 2012 13:43:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;in addition there are still some value related tck test failing. some of those&lt;br/&gt;
may be caused by missing validation either on oak-jcr or on oak-core... i need to take&lt;br/&gt;
a closer look at this again.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Indeed; &lt;tt&gt;SetValueFormatExceptionTest&lt;/tt&gt; has many failures because nobody checks the type when overwriting the value. The test case asks for an immediate failure, so I don&apos;t think it&apos;s sufficient to handle that in a commit hook; where should the check happen? oak-jcr or oak-core?&lt;/p&gt;</comment>
                            <comment id="13290160" author="jukkaz" created="Wed, 6 Jun 2012 13:57:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;where should the check happen? oak-jcr or oak-core?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The check already exists in &lt;tt&gt;ValueHelper.convert()&lt;/tt&gt;, it&apos;s just not effective since the relevant &lt;tt&gt;PropertyDefinition.getRequiredType()&lt;/tt&gt; call currently returns &lt;tt&gt;PropertyType.UNDEFINED&lt;/tt&gt; for all properties.&lt;/p&gt;</comment>
                            <comment id="13290162" author="anchela" created="Wed, 6 Jun 2012 14:00:11 +0000"  >&lt;p&gt;isn&apos;t it rather a node type related issue in this case?&lt;/p&gt;</comment>
                            <comment id="13290168" author="reschke" created="Wed, 6 Jun 2012 14:04:54 +0000"  >&lt;p&gt;It is. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12546764">OAK-22</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12547353">OAK-33</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ykuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>199848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>