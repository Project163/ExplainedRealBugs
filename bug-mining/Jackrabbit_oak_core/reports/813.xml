<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:43:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1174] Inconsistent handling of invalid names/paths</title>
                <link>https://issues.apache.org/jira/browse/OAK-1174</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Passing an invalid name to a JCR method might or might not throw a &lt;tt&gt;RepositoryException&lt;/tt&gt; depending on whether name re-mappings exist or not:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;session.itemExists(&lt;span class=&quot;code-quote&quot;&gt;&quot;/jcr:cont]ent&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;returns &lt;tt&gt;false&lt;/tt&gt; if no name re-mappings exist but throws a &lt;tt&gt;RepositoryException&lt;/tt&gt; otherwise. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12678968">OAK-1174</key>
            <summary>Inconsistent handling of invalid names/paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Nov 2013 08:49:14 +0000</created>
                <updated>Thu, 17 Sep 2015 04:34:50 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 16:31:18 +0000</resolved>
                                                    <fixVersion>0.20</fixVersion>
                                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13821078" author="mduerig" created="Wed, 13 Nov 2013 08:56:23 +0000"  >&lt;p&gt;Test case at &lt;a href=&quot;http://svn.apache.org/r1541426&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1541426&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13946577" author="mduerig" created="Tue, 25 Mar 2014 14:07:22 +0000"  >&lt;p&gt;Just from quickly looking at it, the patch looks good. Please also check for performance regressions. This part of the code is very sensitive to that respect. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jukkaz&quot; class=&quot;user-hover&quot; rel=&quot;jukkaz&quot;&gt;jukkaz&lt;/a&gt;, could you also have a quick look at this?&lt;/p&gt;

&lt;p&gt;PS: this was meant to got to  &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1168&quot; title=&quot;Invalid JCR paths not caught&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1168&quot;&gt;&lt;del&gt;OAK-1168&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13946594" author="anchela" created="Tue, 25 Mar 2014 14:23:52 +0000"  >&lt;p&gt;yes please... patch is attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1168&quot; title=&quot;Invalid JCR paths not caught&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1168&quot;&gt;&lt;del&gt;OAK-1168&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13946703" author="anchela" created="Tue, 25 Mar 2014 15:50:01 +0000"  >&lt;p&gt;resolved along with &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1168&quot; title=&quot;Invalid JCR paths not caught&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1168&quot;&gt;&lt;del&gt;OAK-1168&lt;/del&gt;&lt;/a&gt; (with an additional test case for jcr names)&lt;/p&gt;</comment>
                            <comment id="13950494" author="anchela" created="Fri, 28 Mar 2014 08:36:22 +0000"  >&lt;p&gt;there are still some inconsistencies in the name validation depending on whether namespace mappings are present or not.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jukkaz&quot; class=&quot;user-hover&quot; rel=&quot;jukkaz&quot;&gt;jukkaz&lt;/a&gt;, since you are the author of this it&apos;s probably best if you take this over to make sure this is consistent.&lt;/p&gt;</comment>
                            <comment id="13950496" author="anchela" created="Fri, 28 Mar 2014 08:37:11 +0000"  >&lt;p&gt;see also &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1624&quot; title=&quot;Item names with trailing spaces should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1624&quot;&gt;&lt;del&gt;OAK-1624&lt;/del&gt;&lt;/a&gt; for an additional inconsistency and extensions of the test cases that compare the behavior depending on namespace mapping being present or not.&lt;/p&gt;</comment>
                            <comment id="13950533" author="mduerig" created="Fri, 28 Mar 2014 09:29:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt;, could you clarify? I couldn&apos;t figure out what is still missing here. In the quick test I did the behaviour was consistent now for both illegal characters (e.g. |) and disallowed characters (e.g. whitespaces). Presence or absence of namespace remappings didn&apos;t have an impact. &lt;/p&gt;</comment>
                            <comment id="13950540" author="anchela" created="Fri, 28 Mar 2014 09:43:30 +0000"  >&lt;p&gt;from what i saw yesterday there seemed to be an inconsistency wrt non-space whitespace which is not cached by NamePathParserImpl#needsFullMapping but disallowed by JcrPathParser and also with leading/trailing white space in the name.f&lt;/p&gt;</comment>
                            <comment id="13950544" author="mduerig" created="Fri, 28 Mar 2014 09:51:36 +0000"  >&lt;p&gt;A test case would be good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13950913" author="anchela" created="Fri, 28 Mar 2014 15:44:29 +0000"  >&lt;p&gt;i moved the tests to a separate class (NamePathTest) at rev. 1582779 and marked the failing tests with @Ignore (there are even more that i didn&apos;t see before). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jukkaz&quot; class=&quot;user-hover&quot; rel=&quot;jukkaz&quot;&gt;jukkaz&lt;/a&gt;, it would be good if you could take a quick look. thanks.&lt;/p&gt;</comment>
                            <comment id="13950948" author="mduerig" created="Fri, 28 Mar 2014 16:08:12 +0000"  >&lt;p&gt;I think the test expectations are wrong, which causes most of the tests to fail. See my attempt to fix this at &lt;a href=&quot;http://svn.apache.org/r1582788&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1582788&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This leaves us with &lt;tt&gt;NamePathTest#testWhitespaceInName&lt;/tt&gt; failing for &lt;tt&gt;&quot;jcr:content &quot;&lt;/tt&gt;, which is accepted when no remappings are in place but rejected with a &lt;tt&gt;PathNotFoundException&lt;/tt&gt; otherwise. &lt;/p&gt;</comment>
                            <comment id="13950984" author="jukkaz" created="Fri, 28 Mar 2014 16:31:18 +0000"  >&lt;p&gt;The problem here is actually that the &lt;tt&gt;JcrPathParser&lt;/tt&gt; and &lt;tt&gt;JcrNameParser&lt;/tt&gt; classes go beyond the JCR spec in considering whitespace characters invalid. The spec allows a repository to reject such names during writes, but they should still be considered valid when reading content.&lt;/p&gt;

&lt;p&gt;Fixed in revision 1582804 by moving the whitespace checks from the name/path parser classes to &lt;tt&gt;NameValidator&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13962877" author="alex.parvulescu" created="Tue, 8 Apr 2014 12:47:24 +0000"  >&lt;p&gt;bulk close for the 0.20.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12678763">OAK-1168</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12863770">OAK-3395</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12721131">OAK-1891</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12703832">OAK-1624</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12873176">OAK-3412</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12679046">OAK-1179</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1prt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>