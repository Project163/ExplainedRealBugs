<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:40:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1090] Event-listener not notified on Node.orderBefore </title>
                <link>https://issues.apache.org/jira/browse/OAK-1090</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;An eventlistener that registered on modificaitons in a branch, doesn&apos;t get notified if a Noder.orderBefore happend.&lt;/p&gt;

&lt;p&gt;This is irespective of the Event types or filteres that are applied upon event-listener registration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673211">OAK-1090</key>
            <summary>Event-listener not notified on Node.orderBefore </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="chkeller">Christan Keller</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Oct 2013 12:16:58 +0000</created>
                <updated>Thu, 21 Nov 2013 10:30:37 +0000</updated>
                            <resolved>Tue, 5 Nov 2013 16:30:13 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.11</fixVersion>
                                    <component>core</component>
                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13795051" author="mduerig" created="Tue, 15 Oct 2013 10:36:16 +0000"  >&lt;p&gt;&lt;tt&gt;NODE_MOVED&lt;/tt&gt; events are not supported by Oak. Such events are generally reported as add / delete combo but in the case of a reorder &quot;cancel&quot; each other out. I don&apos;t think we will be able to support this due to the way things are done in Oak. See &lt;a href=&quot;http://markmail.org/message/panl3wxfekvmcfyw&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this discussion &lt;/a&gt; for more background. &lt;/p&gt;
</comment>
                            <comment id="13795085" author="mreutegg" created="Tue, 15 Oct 2013 11:16:55 +0000"  >&lt;p&gt;Why can&apos;t we transform a modification of :childOrder into appropriate JCR events?&lt;/p&gt;</comment>
                            <comment id="13795097" author="mduerig" created="Tue, 15 Oct 2013 11:39:12 +0000"  >&lt;p&gt;We can&apos;t e.g. distinguish between removing and adding a node with the same name from reordering a node with that name. &lt;/p&gt;</comment>
                            <comment id="13795098" author="mreutegg" created="Tue, 15 Oct 2013 11:48:47 +0000"  >&lt;p&gt;I&apos;d say if this doesn&apos;t have an effect on the ordering and the re-added node looks exactly as before, then that&apos;s considered a NOP and fine.&lt;/p&gt;</comment>
                            <comment id="13795102" author="mduerig" created="Tue, 15 Oct 2013 11:56:35 +0000"  >&lt;p&gt;What I meant is, given&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; { a:{}, b:{}, c:{} }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;there is no way to distinguish first removing &lt;tt&gt;b&lt;/tt&gt; and then adding a new &lt;tt&gt;b&lt;/tt&gt; from reordering &lt;tt&gt;b&lt;/tt&gt; to the end of the child node list. &lt;/p&gt;</comment>
                            <comment id="13814018" author="mduerig" created="Tue, 5 Nov 2013 16:29:02 +0000"  >&lt;p&gt;At &lt;a href=&quot;http://svn.apache.org/r1539044&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539044&lt;/a&gt; I added an initial implementation and a basic test case for this: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;tt&gt;Node.orderBefore()&lt;/tt&gt; will result in &lt;tt&gt;NODE_MOVED&lt;/tt&gt; events.&lt;/li&gt;
	&lt;li&gt;Removing a node and adding a node with the same name will also be reported as a &lt;tt&gt;NODE_MOVED&lt;/tt&gt; event as if it where caused by &lt;tt&gt;Node.orderBefore()&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;The exact sequence of &lt;tt&gt;Node.orderBefore()&lt;/tt&gt; will not be reflected through the events. Given two child nodes &lt;tt&gt;a&lt;/tt&gt; and &lt;tt&gt;b&lt;/tt&gt;, ordering &lt;tt&gt;a&lt;/tt&gt; after &lt;tt&gt;b&lt;/tt&gt; may be reported as ordering &lt;tt&gt;b&lt;/tt&gt; before &lt;tt&gt;a&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13828747" author="alex.parvulescu" created="Thu, 21 Nov 2013 10:30:37 +0000"  >&lt;p&gt;bulk close for the 0.11 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12546385">OAK-14</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12607789" name="Issue.java" size="1856" author="chkeller" created="Thu, 10 Oct 2013 12:18:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1otyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>