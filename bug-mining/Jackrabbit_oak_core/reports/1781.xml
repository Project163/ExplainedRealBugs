<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:53:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-7779] Ignore copying of namespace index node in InitialContentMigrator</title>
                <link>https://issues.apache.org/jira/browse/OAK-7779</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;The namespace index node &lt;tt&gt;/jcr:system/rep:namespaces/rep:nsdata&lt;/tt&gt; copied from a seed repository for CompositeNodeStore leads to error in the NamespaceEditor.&lt;/p&gt;

&lt;p&gt;This should be ignored as the rep:nsdata should be regenerated.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
java.lang.RuntimeException: org.apache.jackrabbit.oak.api.CommitFailedException: OakNamespace0005: Namespace modification not allowed: rep:nsdata
 at org.apache.jackrabbit.oak.OakInitializer.initialize(OakInitializer.java:50) [org.apache.jackrabbit.oak-core:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.Oak.initialContent(Oak.java:672) [org.apache.jackrabbit.oak-core:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.Oak.createNewContentRepository(Oak.java:715) [org.apache.jackrabbit.oak-core:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.Oak.createContentRepository(Oak.java:660) [org.apache.jackrabbit.oak-core:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.jcr.Jcr.createContentRepository(Jcr.java:376) [org.apache.jackrabbit.oak-jcr:1.10.0.SNAPSHOT]

.....

org.apache.sling.jcr.base.AbstractSlingRepositoryManager.initializeAndRegisterRepositoryService(AbstractSlingRepositoryManager.java:471) [org.apache.sling.jcr.base:3.0.4]
 at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.access$300(AbstractSlingRepositoryManager.java:85) [org.apache.sling.jcr.base:3.0.4]
 at org.apache.sling.jcr.base.AbstractSlingRepositoryManager$4.run(AbstractSlingRepositoryManager.java:455) [org.apache.sling.jcr.base:3.0.4]
Caused by: org.apache.jackrabbit.oak.api.CommitFailedException: OakNamespace0005: Namespace modification not allowed: rep:nsdata
 at org.apache.jackrabbit.oak.plugins.name.NamespaceEditor.modificationNotAllowed(NamespaceEditor.java:122) [org.apache.jackrabbit.oak-core:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.name.NamespaceEditor.childNodeChanged(NamespaceEditor.java:140) [org.apache.jackrabbit.oak-core:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.spi.commit.CompositeEditor.childNodeChanged(CompositeEditor.java:121) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.spi.commit.EditorDiff.childNodeChanged(EditorDiff.java:142) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.memory.ModifiedNodeState.compareAgainstBaseState(ModifiedNodeState.java:416) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.spi.commit.EditorDiff.childNodeChanged(EditorDiff.java:147) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CompositeNodeState$WrappingDiff.childNodeChanged(CompositeNodeState.java:309) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CompositeNodeState$ChildrenDiffFilter.childNodeChanged(CompositeNodeState.java:256) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.memory.ModifiedNodeState.compareAgainstBaseState(ModifiedNodeState.java:416) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CompositeNodeState.compareAgainstBaseState(CompositeNodeState.java:163) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.spi.commit.EditorDiff.childNodeChanged(EditorDiff.java:147) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CompositeNodeState$WrappingDiff.childNodeChanged(CompositeNodeState.java:309) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CompositeNodeState$ChildrenDiffFilter.childNodeChanged(CompositeNodeState.java:256) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.memory.ModifiedNodeState.compareAgainstBaseState(ModifiedNodeState.java:416) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.document.ModifiedDocumentNodeState.compareAgainstBaseState(ModifiedDocumentNodeState.java:135) [org.apache.jackrabbit.oak-store-document:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CompositeNodeState.compareAgainstBaseState(CompositeNodeState.java:163) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.spi.commit.EditorDiff.process(EditorDiff.java:51) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.spi.commit.EditorHook.processCommit(EditorHook.java:54) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.spi.commit.CompositeHook.processCommit(CompositeHook.java:60) [org.apache.jackrabbit.oak-store-spi:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CommitHookEnhancer.processCommit(CommitHookEnhancer.java:67) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreBranch$InMemory.merge(DocumentNodeStoreBranch.java:526) [org.apache.jackrabbit.oak-store-document:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreBranch.merge0(DocumentNodeStoreBranch.java:194) [org.apache.jackrabbit.oak-store-document:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreBranch.merge(DocumentNodeStoreBranch.java:119) [org.apache.jackrabbit.oak-store-document:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.document.DocumentRootBuilder.merge(DocumentRootBuilder.java:170) [org.apache.jackrabbit.oak-store-document:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.plugins.document.DocumentNodeStore.merge(DocumentNodeStore.java:1830) [org.apache.jackrabbit.oak-store-document:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.composite.CompositeNodeStore.merge(CompositeNodeStore.java:155) [org.apache.jackrabbit.oak-store-composite:1.10.0.SNAPSHOT]
 at org.apache.jackrabbit.oak.OakInitializer.initialize(OakInitializer.java:48) [org.apache.jackrabbit.oak-core:1.10.0.SNAPSHOT]
 ... 9 common frames omitted

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13187506">OAK-7779</key>
            <summary>Ignore copying of namespace index node in InitialContentMigrator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10005">Workaround</resolution>
                                        <assignee username="amitjain">Amit Jain</assignee>
                                    <reporter username="amitjain">Amit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Sep 2018 06:01:35 +0000</created>
                <updated>Thu, 4 Oct 2018 07:46:45 +0000</updated>
                            <resolved>Thu, 4 Oct 2018 04:44:20 +0000</resolved>
                                                                    <component>core</component>
                    <component>store-composite</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16628312" author="amitjain" created="Wed, 26 Sep 2018 06:48:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt; The patch which ignores the path &lt;tt&gt;/jcr:system/rep:namespaces/rep:nsdata&lt;/tt&gt;. Ignoring just the &lt;tt&gt;jcr:system/rep:namespaces&lt;/tt&gt; does not work likely because of the condition &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. The alternative is to move&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; out of the if block and then ignore&#160;&lt;tt&gt;jcr:system/rep:namespaces&lt;/tt&gt; should work (But I have not tested that).&lt;/p&gt;

&lt;p&gt;Since, you know the code better would you like to take over?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java#L75&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java#L75&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java#L86&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java#L86&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16628593" author="amitjain" created="Wed, 26 Sep 2018 11:02:18 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12941375/12941375_OAK-7779-v3.patch&quot; title=&quot;OAK-7779-v3.patch attached to OAK-7779&quot;&gt;OAK-7779-v3.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&#160;which ignores the &lt;tt&gt;/jcr:system/rep:namespaces&lt;/tt&gt; in the InitialContentMigrator and a test which reproduces the original problem.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt; Thanks for providing inputs offline, now the test does somewhat accurately describes the condition.&lt;/p&gt;</comment>
                            <comment id="16628626" author="alex.parvulescu" created="Wed, 26 Sep 2018 11:36:55 +0000"  >&lt;p&gt;good stuff Amit! +1&lt;/p&gt;

&lt;p&gt;One minor suggestion:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java
index 9a460402c0..55a598136e 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java
@@ -82,12 +82,12 @@ public class InitialContent implements RepositoryInitializer, NodeTypeConstants
                     .setProperty(JCR_PRIMARYTYPE, NT_REP_NODE_TYPES, Type.NAME);
             system.child(VersionConstants.JCR_ACTIVITIES)
                     .setProperty(JCR_PRIMARYTYPE, VersionConstants.REP_ACTIVITIES, Type.NAME);
-
-            Namespaces.setupNamespaces(system);
         }
 
-        NodeBuilder versionStorage = builder.child(JCR_SYSTEM)
-                .child(JCR_VERSIONSTORAGE);
+        NodeBuilder system = builder.getChildNode(JCR_SYSTEM);
+        Namespaces.setupNamespaces(system);
+
+        NodeBuilder versionStorage = system.child(JCR_VERSIONSTORAGE);
         if (prePopulateVS &amp;amp;&amp;amp; !isInitialized(versionStorage)) {
             createIntermediateNodes(versionStorage);
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16629758" author="amitjain" created="Thu, 27 Sep 2018 04:49:15 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Committed the changes incorporating the above with&#160;&#160;&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1842069&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1842069&amp;amp;view=rev&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16637174" author="tomek.rekawek" created="Wed, 3 Oct 2018 16:42:37 +0000"  >&lt;p&gt;I&apos;m not sure about this approach. It seems that not all the namespaces are regenerated. As a result, there are nodes with node types having invalid namespaces.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;03.10.2018 03:21:58.550 *ERROR* [qtp162975365-1555] org.apache.jackrabbit.vault.packaging.impl.ZipVaultPackage Error during install.
javax.jcr.NamespaceException: internal error: failed to resolve namespace prefix
        at org.apache.jackrabbit.spi.commons.namespace.SessionNamespaceResolver.getURI(SessionNamespaceResolver.java:62) [org.apache.jackrabbit.jackrabbit-spi-commons:2.17.5]
        at org.apache.jackrabbit.spi.commons.conversion.NameParser.parse(NameParser.java:187) [org.apache.jackrabbit.jackrabbit-spi-commons:2.17.5]
        at org.apache.jackrabbit.spi.commons.conversion.ParsingNameResolver.getQName(ParsingNameResolver.java:64) [org.apache.jackrabbit.jackrabbit-spi-commons:2.17.5]
        at org.apache.jackrabbit.spi.commons.conversion.DefaultNamePathResolver.getQName(DefaultNamePathResolver.java:74) [org.apache.jackrabbit.jackrabbit-spi-commons:2.17.5]
        at org.apache.jackrabbit.vault.fs.spi.impl.jcr20.JcrNodeTypeInstaller.install(JcrNodeTypeInstaller.java:83) [org.apache.jackrabbit.vault:3.2.1.R1840174]
        at org.apache.jackrabbit.vault.fs.io.Importer.installNodeTypes(Importer.java:518) [org.apache.jackrabbit.vault:3.2.1.R1840174]
        at org.apache.jackrabbit.vault.fs.io.Importer.run(Importer.java:416) [org.apache.jackrabbit.vault:3.2.1.R1840174]
        at org.apache.jackrabbit.vault.packaging.impl.ZipVaultPackage.extract(ZipVaultPackage.java:233) [org.apache.jackrabbit.vault:3.2.1.R1840174]
        at org.apache.jackrabbit.vault.packaging.impl.JcrPackageImpl.extract(JcrPackageImpl.java:400) [org.apache.jackrabbit.vault:3.2.1.R1840174]
        at org.apache.jackrabbit.vault.packaging.impl.JcrPackageImpl.extract(JcrPackageImpl.java:359) [org.apache.jackrabbit.vault:3.2.1.R1840174]
        at org.apache.jackrabbit.vault.packaging.impl.JcrPackageImpl.install(JcrPackageImpl.java:353) [org.apache.jackrabbit.vault:3.2.1.R1840174]
        at com.day.crx.packmgr.impl.servlets.ServiceServlet.doInstall(ServiceServlet.java:437) [com.adobe.granite.crx-packagemgr:1.2.68]
        at com.day.crx.packmgr.impl.servlets.ServiceServlet.install(ServiceServlet.java:395) [com.adobe.granite.crx-packagemgr:1.2.68]
        at com.day.crx.packmgr.impl.servlets.ServiceServlet.doService(ServiceServlet.java:159) [com.adobe.granite.crx-packagemgr:1.2.68]
        at com.day.crx.packmgr.impl.AbstractServlet.service(AbstractServlet.java:54) [com.adobe.granite.crx-packagemgr:1.2.68]
...
Caused by: javax.jcr.NamespaceException: Unknown namespace prefix: oauth
        at org.apache.jackrabbit.oak.jcr.session.SessionNamespaces.getNamespaceURI(SessionNamespaces.java:132) [org.apache.jackrabbit.oak-jcr:1.9.8.R1842422]
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl.getNamespaceURI(SessionImpl.java:747) [org.apache.jackrabbit.oak-jcr:1.9.8.R1842422]
        at org.apache.jackrabbit.spi.commons.namespace.SessionNamespaceResolver.getURI(SessionNamespaceResolver.java:59) [org.apache.jackrabbit.jackrabbit-spi-commons:2.17.5]
        ... 69 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The other problem which seems to be related to this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;03.10.2018 03:21:43.328 *INFO* [qtp162975365-73] com.day.cq.replication.impl.ReplicatorImpl Setting up replication with options: ReplicationOptions{synchronous=false, revision=&apos;null&apos;, suppressStatusUpdate=false, suppressVersions=false, filter=null, aggregateHandler=null}
03.10.2018 03:21:43.329 *ERROR* [qtp162975365-73] com.day.cq.replication.impl.ReplicatorImpl Error while evaluating user privileges.
javax.jcr.security.AccessControlException: Cannot resolve privilege name {http://www.day.com/crx/1.0}replicate
    at org.apache.jackrabbit.oak.security.privilege.PrivilegeManagerImpl.getOakName(PrivilegeManagerImpl.java:121) [org.apache.jackrabbit.oak-core:1.9.8.R1842422]
    at org.apache.jackrabbit.oak.security.privilege.PrivilegeManagerImpl.getPrivilege(PrivilegeManagerImpl.java:67) [org.apache.jackrabbit.oak-core:1.9.8.R1842422]
    at org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol.AbstractAccessControlManager.privilegeFromName(AbstractAccessControlManager.java:84) [org.apache.jackrabbit.oak-security-spi:1.9.8.R1842422]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Both problems goes away after reverting this patch. It seems that &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-7786&quot; title=&quot;Make the NamespaceEditor less strict when enforcing changes to rep:nsdata node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-7786&quot;&gt;&lt;del&gt;OAK-7786&lt;/del&gt;&lt;/a&gt; fixed the original issue described here (&lt;b&gt;Namespace modification not allowed&lt;/b&gt;).&lt;/p&gt;

&lt;p&gt;I think we should revert this commit and investigate how to make the &quot;strict&quot; NamespaceEditor work with the Composite Node Store.&lt;/p&gt;</comment>
                            <comment id="16637774" author="amitjain" created="Thu, 4 Oct 2018 03:44:05 +0000"  >&lt;p&gt;I have reverted the changes with &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1842770&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1842770&amp;amp;view=rev&lt;/a&gt;. Yes we don&apos;t require this after &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-7786&quot; title=&quot;Make the NamespaceEditor less strict when enforcing changes to rep:nsdata node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-7786&quot;&gt;&lt;del&gt;OAK-7786&lt;/del&gt;&lt;/a&gt;. Regarding strict NamespaceEditor, I think the issue can come up with upgrades on a normal setup as well and not just Composite NodeStore.&lt;/p&gt;</comment>
                            <comment id="16637814" author="amitjain" created="Thu, 4 Oct 2018 04:44:20 +0000"  >&lt;p&gt;Solved with &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-7786&quot; title=&quot;Make the NamespaceEditor less strict when enforcing changes to rep:nsdata node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-7786&quot;&gt;&lt;del&gt;OAK-7786&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16637847" author="reschke" created="Thu, 4 Oct 2018 06:20:52 +0000"  >&lt;p&gt;trunk: &lt;a href=&quot;http://svn.apache.org/r1842770&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1842770&lt;/a&gt; &lt;a href=&quot;http://svn.apache.org/r1842069&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1842069&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16637902" author="tomek.rekawek" created="Thu, 4 Oct 2018 07:46:45 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amitjain&quot; class=&quot;user-hover&quot; rel=&quot;amitjain&quot;&gt;amitjain&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13162018">OAK-7510</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12941375" name="OAK-7779-v3.patch" size="6698" author="amitjain" created="Wed, 26 Sep 2018 10:58:57 +0000"/>
                            <attachment id="12941337" name="OAK-7779.patch" size="3918" author="amitjain" created="Wed, 26 Sep 2018 06:42:46 +0000"/>
                            <attachment id="12941358" name="OAK-7779_v2.patch" size="5955" author="amitjain" created="Wed, 26 Sep 2018 09:19:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3yi3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>