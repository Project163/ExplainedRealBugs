<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:54:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-8803] AbstractLoginModule and subclasses: successful commit must not clear state information required for successful logout</title>
                <link>https://issues.apache.org/jira/browse/OAK-8803</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;while working &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-8710&quot; title=&quot;AbstractLoginModule#logout() must not remove &amp;#39;foreign&amp;#39; principals/credentials &quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-8710&quot;&gt;&lt;del&gt;OAK-8710&lt;/del&gt;&lt;/a&gt; in noticed that the main reason for the initial patch not work was the fact that subclasses of {&lt;tt&gt;AbstractLoginModule&lt;/tt&gt; call &lt;tt&gt;clearState&lt;/tt&gt; upon successful &lt;tt&gt;commit&lt;/tt&gt;. this essentially clears all state information that is needed for a successful logout later on.... on the other hand it is crucial that subclasses of &lt;tt&gt;AbstractLoginModule&lt;/tt&gt; close the system-session that was used for looking up principals during the commit phase. &lt;/p&gt;

&lt;p&gt;proposed fix: add protected &lt;tt&gt;closeSystemSession&lt;/tt&gt; method that can be used instead of &lt;tt&gt;clearState&lt;/tt&gt; upon successful &lt;tt&gt;commit&lt;/tt&gt;, leaving the &lt;tt&gt;clearState&lt;/tt&gt; only for those cases where &lt;tt&gt;commit&lt;/tt&gt; fails or &lt;tt&gt;abort&lt;/tt&gt; is called, which require the complete state the be wiped out.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270910">OAK-8803</key>
            <summary>AbstractLoginModule and subclasses: successful commit must not clear state information required for successful logout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Nov 2019 08:18:21 +0000</created>
                <updated>Thu, 16 Jan 2020 12:38:32 +0000</updated>
                            <resolved>Thu, 28 Nov 2019 07:45:50 +0000</resolved>
                                                    <fixVersion>1.22.0</fixVersion>
                                    <component>auth-external</component>
                    <component>core</component>
                    <component>security</component>
                    <component>security-spi</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16983271" author="anchela" created="Wed, 27 Nov 2019 08:19:16 +0000"  >&lt;p&gt;linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-8710&quot; title=&quot;AbstractLoginModule#logout() must not remove &amp;#39;foreign&amp;#39; principals/credentials &quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-8710&quot;&gt;&lt;del&gt;OAK-8710&lt;/del&gt;&lt;/a&gt;. i will fix that issue independently in order to keep the fix for the logout as limited as possible.&lt;/p&gt;</comment>
                            <comment id="16984207" author="anchela" created="Thu, 28 Nov 2019 07:45:50 +0000"  >&lt;p&gt;Committed revision 1870535.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13263801">OAK-8710</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0922o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>