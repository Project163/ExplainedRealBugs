<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:44:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-1829] IllegalStateException when using &quot;lowerCase&quot;/&quot;lower&quot; on a array property</title>
                <link>https://issues.apache.org/jira/browse/OAK-1829</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;if query contain lowerCase on array property then QueryResult.getRows() throwing  IllegalStateException.&lt;/p&gt;

&lt;p&gt;Query which causing issue&lt;/p&gt;

&lt;p&gt; select &lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt;.* from &lt;span class=&quot;error&quot;&gt;&amp;#91;nt:unstructured&amp;#93;&lt;/span&gt; AS &lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt; where ((&lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;lcc:className&amp;#93;&lt;/span&gt; = &apos;com.adobe.icc.dbforms.obj.ConditionalDataModule&apos;)) AND (LOWER(&lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;dataDictionaryRefs&amp;#93;&lt;/span&gt;) = &apos;employeedd&apos;)&lt;/p&gt;

&lt;p&gt;If we remove LOWER function then it is working &lt;/p&gt;

&lt;p&gt; select &lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt;.* from &lt;span class=&quot;error&quot;&gt;&amp;#91;nt:unstructured&amp;#93;&lt;/span&gt; AS &lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt; where ((&lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;lcc:className&amp;#93;&lt;/span&gt; = &apos;com.adobe.icc.dbforms.obj.ConditionalDataModule&apos;)) AND (&lt;span class=&quot;error&quot;&gt;&amp;#91;selector_1&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;dataDictionaryRefs&amp;#93;&lt;/span&gt; = &apos;EmployeeDD&apos;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12714719">OAK-1829</key>
            <summary>IllegalStateException when using &quot;lowerCase&quot;/&quot;lower&quot; on a array property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stillalex">Alex Deparvu</assignee>
                                    <reporter username="jalagari">Vijay Kumar j</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 May 2014 07:54:47 +0000</created>
                <updated>Tue, 8 Oct 2019 15:21:11 +0000</updated>
                            <resolved>Mon, 26 May 2014 12:06:14 +0000</resolved>
                                    <version>0.20</version>
                                    <fixVersion>1.0.1</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>query</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14007155" author="empire29" created="Fri, 23 May 2014 13:27:27 +0000"  >&lt;p&gt;Ran into this as well..&lt;/p&gt;

&lt;p&gt;jcr:like(fn:lower-case(./@multiValueField), &apos;%somevalue%&#8217;) throws IllegalStateException&lt;/p&gt;

&lt;p&gt;whereas&lt;/p&gt;

&lt;p&gt;jcr:like(./@multiValueField, &apos;%somevalue%&#8217;)&lt;/p&gt;

&lt;p&gt;does not. &lt;/p&gt;
</comment>
                            <comment id="14008719" author="mmarth" created="Mon, 26 May 2014 10:32:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt;, IMO we should consider backporting this (one fixed) to 1.0 branch. AFAICT this looks like a regression from JR2 which affects applications. WDYT&lt;/p&gt;</comment>
                            <comment id="14008778" author="alex.parvulescu" created="Mon, 26 May 2014 11:50:36 +0000"  >&lt;p&gt;fixed on trunk with rev &lt;a href=&quot;http://svn.apache.org/r1597569&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1597569&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14008788" author="alex.parvulescu" created="Mon, 26 May 2014 12:06:14 +0000"  >&lt;p&gt;merged to branch 1.0 with rev &lt;a href=&quot;http://svn.apache.org/r1597571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1597571&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>393032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1voif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>393199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>