<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:48:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-3366] Property indexes reindex flag getting reset to true at startup</title>
                <link>https://issues.apache.org/jira/browse/OAK-3366</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;At times it is seen that &lt;tt&gt;reindex&lt;/tt&gt; flag for property indexes is getting reset to true. As per analysis by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alex.parvulescu&quot; class=&quot;user-hover&quot; rel=&quot;alex.parvulescu&quot;&gt;alex.parvulescu&lt;/a&gt; it happens due to the order in which repository gets started and PropertyIndexEditorProvider gets registered. &lt;/p&gt;

&lt;p&gt;If the editor is registered after repository got started then &lt;em&gt;missing index provider&lt;/em&gt; for the &apos;property&apos; type will silently set &lt;b&gt;all&lt;/b&gt; the existing property index definitions reindex flags to true.&lt;/p&gt;

&lt;p&gt;After some offline discussion it was decided that proper fix here would be to ensure that repository is only started &lt;b&gt;after&lt;/b&gt; property index editor gets registered. This would ensure that the whiteboard tracker would be opened in that activate itself after the provider is registered and it is ensured that if a tracker is opened it gets access to already registered services without any delay. This would avoid any scenario where commit happens without any property index editor being present&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12862302">OAK-3366</key>
            <summary>Property indexes reindex flag getting reset to true at startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Sep 2015 04:20:16 +0000</created>
                <updated>Thu, 31 Mar 2016 11:14:14 +0000</updated>
                            <resolved>Tue, 8 Sep 2015 14:31:35 +0000</resolved>
                                                    <fixVersion>1.3.6</fixVersion>
                    <fixVersion>1.4</fixVersion>
                                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14734259" author="chetanm" created="Tue, 8 Sep 2015 05:23:25 +0000"  >&lt;p&gt;Added a disabled test case in &lt;a href=&quot;http://svn.apache.org/r1701725&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1701725&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Attached the &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12754571/12754571_OAK-3366.patch&quot; title=&quot;OAK-3366.patch attached to OAK-3366&quot;&gt;patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; for the fix&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexparvulescu&quot; class=&quot;user-hover&quot; rel=&quot;alexparvulescu&quot;&gt;alexparvulescu&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=frm&quot; class=&quot;user-hover&quot; rel=&quot;frm&quot;&gt;frm&lt;/a&gt; Can you review the scenario in the testcase and also the proposed fix&lt;/p&gt;</comment>
                            <comment id="14734545" author="frm" created="Tue, 8 Sep 2015 09:57:02 +0000"  >&lt;p&gt;The patch looks good to me, but you forgot to update the &lt;tt&gt;@Version&lt;/tt&gt; in &lt;tt&gt;package-info.java&lt;/tt&gt;. &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12754610/12754610_OAK-3366-01.patch&quot; title=&quot;OAK-3366-01.patch attached to OAK-3366&quot;&gt;OAK-3366-01.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; adds this fix to your original patch.&lt;/p&gt;</comment>
                            <comment id="14734888" author="chetanm" created="Tue, 8 Sep 2015 14:31:35 +0000"  >&lt;p&gt;Thanks for the review. Patch applied in &lt;a href=&quot;http://svn.apache.org/r1701807&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1701807&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14743168" author="elemer" created="Mon, 14 Sep 2015 08:44:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt; is this issue not fixed for the 1.0.x ?&lt;/p&gt;</comment>
                            <comment id="14743180" author="chetanm" created="Mon, 14 Sep 2015 08:55:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elemer&quot; class=&quot;user-hover&quot; rel=&quot;elemer&quot;&gt;elemer&lt;/a&gt; The fix here need not be backported. I believe your query is related to same issue affecting Adobe AEM then the fix for that is done in a different way in an Adobe internal component&lt;/p&gt;</comment>
                            <comment id="14743185" author="elemer" created="Mon, 14 Sep 2015 08:58:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt; Yepp, thank you for clarifying.&lt;/p&gt;</comment>
                            <comment id="14902111" author="mreutegg" created="Tue, 22 Sep 2015 07:19:41 +0000"  >&lt;p&gt;Bulk close for Oak 1.3.6 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12860997">OAK-3325</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12904482">OAK-3513</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12904194">OAK-3505</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12954925">OAK-4160</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12754610" name="OAK-3366-01.patch" size="6791" author="frm" created="Tue, 8 Sep 2015 09:57:02 +0000"/>
                            <attachment id="12754571" name="OAK-3366.patch" size="6708" author="chetanm" created="Tue, 8 Sep 2015 05:23:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jvbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>