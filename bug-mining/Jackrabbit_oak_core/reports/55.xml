<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:35:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-23] Deal with non-standard JCR path passed to the API calls</title>
                <link>https://issues.apache.org/jira/browse/OAK-23</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;this issue corresponds to &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-21&quot; title=&quot;Respect expanded JCR names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-21&quot;&gt;&lt;del&gt;OAK-21&lt;/del&gt;&lt;/a&gt; for path.&lt;/p&gt;

&lt;p&gt;in addition to dealing with expanded names, paths can also be &apos;identifier&apos; paths.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12546766">OAK-23</key>
            <summary>Deal with non-standard JCR path passed to the API calls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Mar 2012 11:33:47 +0000</created>
                <updated>Mon, 6 May 2013 15:49:18 +0000</updated>
                            <resolved>Mon, 20 Aug 2012 11:35:59 +0000</resolved>
                                                    <fixVersion>0.6</fixVersion>
                                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13266612" author="reschke" created="Wed, 2 May 2012 14:56:47 +0000"  >&lt;p&gt;Note that identifier paths can also occur in PATH-typed property values, in which case we need to be able to roundtrip them through OAK. Thus our assumption that they never occur on Oak paths is wrong.&lt;/p&gt;

&lt;p&gt;See PathTest#testCreatePathValue&lt;/p&gt;</comment>
                            <comment id="13266643" author="jukkaz" created="Wed, 2 May 2012 15:34:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;Thus our assumption that they never occur on Oak paths is wrong.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Depends on the scope of the assumption. Such a PATH value would never be a valid argument to a Root.getTree() call or be returned by a Tree.getPath() call.&lt;/p&gt;

&lt;p&gt;As far as oak-core is concerned, such a value is just an opaque string tagged with PropertyType.PATH in a CoreValue instance, &lt;b&gt;not&lt;/b&gt; an Oak path that identifies some particular node or property. Any mapping of such values should happen entirely on the oak-jcr level.&lt;/p&gt;</comment>
                            <comment id="13274681" author="reschke" created="Mon, 14 May 2012 15:30:04 +0000"  >&lt;p&gt;Applied the following WIP changes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;SessionImpl.getItem(identifier) delegates to getNodeByIdentifier &amp;#8211; we may want to move this to AbstractSession instead&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;move identifier handling from *Impl to *Delegate&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sepcial-case identifier paths in PropertyImpl/ValueImpl/ValueFactoryImpl - maybe this should happen in a special variant of the path mappers instead&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(Reminder: for now a node&apos;s identifier is it&apos;s Oak path; we do not handle mix:referenceable at all)&lt;/p&gt;</comment>
                            <comment id="13436776" author="reschke" created="Fri, 17 Aug 2012 15:14:27 +0000"  >&lt;p&gt;The notes in the source with respect to this ticket imply that identifier paths should be handled in the path mapper. However, that would imply that the path mapper can do identifier resolution &amp;#8211; is this really a good idea?&lt;/p&gt;</comment>
                            <comment id="13436789" author="anchela" created="Fri, 17 Aug 2012 15:24:40 +0000"  >&lt;p&gt;IMO that felt quite natural... if we do it else where we have to adjust all JCR&lt;br/&gt;
api method calls that take a path string and make sure identifier paths are&lt;br/&gt;
properly handled.&lt;/p&gt;

&lt;p&gt;now that identifier handling has been refactored to a separate class i think&lt;br/&gt;
it should be feasible to use that in a jcr-level path mapper to properly convert&lt;br/&gt;
jcrPaths to oakPaths.&lt;/p&gt;</comment>
                            <comment id="13436799" author="reschke" created="Fri, 17 Aug 2012 15:34:12 +0000"  >&lt;p&gt;Moving it into the mapper is attractive because we then do not need to touch anything else (hopefully). It might be unattractive because we make something that was supposed to be simple a bit more complex.&lt;/p&gt;

&lt;p&gt;FWIW, the check for identifier paths is for starts-with-[ and ends-with-], right?&lt;/p&gt;</comment>
                            <comment id="13436801" author="mduerig" created="Fri, 17 Aug 2012 15:37:21 +0000"  >&lt;p&gt;I&apos;d say we put it into the mapper and factor it out later on if this turns out to be required.&lt;/p&gt;</comment>
                            <comment id="13436805" author="anchela" created="Fri, 17 Aug 2012 15:43:07 +0000"  >&lt;p&gt;i&apos;d say &quot;charAt(0) is [&quot; should be sufficient as the square brackets are otherwise&lt;br/&gt;
reserved for indexes and are not allowed in the start of a name... if it then&lt;br/&gt;
doesn&apos;t terminate with ] the path was illegal anyway (IMO).&lt;/p&gt;</comment>
                            <comment id="13436840" author="reschke" created="Fri, 17 Aug 2012 16:29:23 +0000"  >&lt;p&gt;proposed patch; work in progress&lt;/p&gt;</comment>
                            <comment id="13436847" author="mduerig" created="Fri, 17 Aug 2012 16:41:19 +0000"  >&lt;p&gt;The patch looks good to me&lt;/p&gt;</comment>
                            <comment id="13437562" author="reschke" created="Sun, 19 Aug 2012 18:18:14 +0000"  >&lt;p&gt;Proposed patch; there&apos;s one TODO left wrt &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-23&quot; title=&quot;Deal with non-standard JCR path passed to the API calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-23&quot;&gt;&lt;del&gt;OAK-23&lt;/del&gt;&lt;/a&gt; we need to check (identifier path in path-typed property value)&lt;/p&gt;</comment>
                            <comment id="13437796" author="reschke" created="Mon, 20 Aug 2012 11:35:59 +0000"  >&lt;p&gt;r1374976&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12550552">OAK-61</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12541533" name="OAK-23.patch" size="8381" author="reschke" created="Sun, 19 Aug 2012 18:18:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ygtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>199194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>