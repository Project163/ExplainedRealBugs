<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:35:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-379] Query test failures on buildbot</title>
                <link>https://issues.apache.org/jira/browse/OAK-379</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Since revision 1398915 various query tests fail on &lt;a href=&quot;http://ci.apache.org/builders/oak-trunk/builds/784&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;buildbot&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sql1(org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
sql2(org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
xpath(org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
bindVariableTest(org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
sql1(org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
sql2(org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
xpath(org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
bindVariableTest(org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
sql2Explain(org.apache.jackrabbit.oak.plugins.index.old.QueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
sql1(org.apache.jackrabbit.oak.plugins.index.old.QueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
xpath(org.apache.jackrabbit.oak.plugins.index.old.QueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
bindVariableTest(org.apache.jackrabbit.oak.plugins.index.old.QueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
sql1(org.apache.jackrabbit.oak.query.index.TraversingIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
sql2(org.apache.jackrabbit.oak.query.index.TraversingIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
xpath(org.apache.jackrabbit.oak.query.index.TraversingIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
bindVariableTest(org.apache.jackrabbit.oak.query.index.TraversingIndexQueryTest): No LoginModules configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jackrabbit.oak
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12612185">OAK-379</key>
            <summary>Query test failures on buildbot</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2012 10:01:54 +0000</created>
                <updated>Mon, 6 May 2013 15:49:02 +0000</updated>
                            <resolved>Wed, 17 Oct 2012 12:12:34 +0000</resolved>
                                                    <fixVersion>0.6</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13477780" author="mduerig" created="Wed, 17 Oct 2012 10:55:16 +0000"  >&lt;p&gt;At revision 1399172 I switched the query tests from above to use &lt;tt&gt;OpenSecurityProvider&lt;/tt&gt; which causes these tests to pass. However now virtually all jcr tests fail with a &lt;tt&gt;No LoginModules configured for jackrabbit.oak&lt;/tt&gt;. See &lt;a href=&quot;http://ci.apache.org/builders/oak-trunk/builds/785&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ci.apache.org/builders/oak-trunk/builds/785&lt;/a&gt;. &lt;/p&gt;
</comment>
                            <comment id="13477804" author="mduerig" created="Wed, 17 Oct 2012 12:12:12 +0000"  >&lt;p&gt;In revision 1399192 I reverted the changes from above.&lt;br/&gt;
I also implemented a fall back to the default configuration when the provided configuration does not contain a configuration for the jackrabbit.oak app name.&lt;/p&gt;</comment>
                            <comment id="13477806" author="mduerig" created="Wed, 17 Oct 2012 12:12:34 +0000"  >&lt;p&gt;Fixed at revision 1399192&lt;/p&gt;</comment>
                            <comment id="13477903" author="anchela" created="Wed, 17 Oct 2012 14:03:04 +0000"  >&lt;p&gt;&amp;gt; I also implemented a fall back to the default configuration when the &lt;br/&gt;
&amp;gt; provided configuration does not contain a configuration for the jackrabbit.oak app name.&lt;/p&gt;

&lt;p&gt;i am not convinced that this is the right thing to do.&lt;br/&gt;
a regular setup should go along with a proper configuration and fallback to some&lt;br/&gt;
implementation specific default should only occur if there is no configuration&lt;br/&gt;
present at all.&lt;/p&gt;

&lt;p&gt;in addition i didn&apos;t experience any failing tests during integrationTesting.&lt;br/&gt;
so, i would like to know what configuration was present with the query tests&lt;br/&gt;
that caused the failure.&lt;/p&gt;</comment>
                            <comment id="13477904" author="jukkaz" created="Wed, 17 Oct 2012 14:09:19 +0000"  >&lt;p&gt;FWIW, the query tests shouldn&apos;t IMO have any security configuration. As long as we&apos;re not testing authentication or authorization the repository used by those tests shouldn&apos;t touch that code at all.&lt;/p&gt;</comment>
                            <comment id="13477910" author="mduerig" created="Wed, 17 Oct 2012 14:18:23 +0000"  >&lt;p&gt;The problem is with the &lt;tt&gt;Configuration.getConfiguration()&lt;/tt&gt; call in &lt;tt&gt;SecurityProviderImpl.getLoginContextProvider()&lt;/tt&gt;: The Oracle JVM seems to throw a &lt;tt&gt;SecurityException&lt;/tt&gt; when the configuration cannot be located even though the Javadoc states that a default configuration would be returned in that case. Other JVMs seem to behave differently here. &lt;/p&gt;</comment>
                            <comment id="13477913" author="jukkaz" created="Wed, 17 Oct 2012 14:24:04 +0000"  >&lt;p&gt;My point here is that the query tests should never hit the &lt;tt&gt;getConfiguration()&lt;/tt&gt; call, so a better fix here would be to change the way the repository used by the query tests is set up (i.e. not include any security components).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12622889">OAK-497</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249250</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a6db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>