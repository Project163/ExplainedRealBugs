<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:53:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-6527] CompositeNodeStore permission evaluation fails for open setups</title>
                <link>https://issues.apache.org/jira/browse/OAK-6527</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;It seems the current setup of OR-ing the composite nodestore permission setups breaks down when the root node has an allow all reads. This seems a fundamental flaw in the way it works now, so I&apos;m considering going back to the drawing board and working on the solution proposed by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt; as a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-3777&quot; title=&quot;Multiplexing support in default PermissionStore implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-3777&quot;&gt;&lt;del&gt;OAK-3777&lt;/del&gt;&lt;/a&gt;, effectively making &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-6356&quot; title=&quot;Allow CompositePermissionProvider to OR entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-6356&quot;&gt;&lt;del&gt;OAK-6356&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-6469&quot; title=&quot;CompositePermissionProvider should implement AggregatedPermissionProvider&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-6469&quot;&gt;&lt;del&gt;OAK-6469&lt;/del&gt;&lt;/a&gt; obsolete.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13092811">OAK-6527</key>
            <summary>CompositeNodeStore permission evaluation fails for open setups</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stillalex">Alex Deparvu</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Aug 2017 08:24:07 +0000</created>
                <updated>Mon, 8 Jan 2018 13:36:30 +0000</updated>
                            <resolved>Wed, 9 Aug 2017 12:37:08 +0000</resolved>
                                    <version>1.7.3</version>
                    <version>1.7.4</version>
                    <version>1.7.5</version>
                                    <fixVersion>1.7.6</fixVersion>
                    <fixVersion>1.8.0</fixVersion>
                                    <component>composite</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16116253" author="alex.parvulescu" created="Mon, 7 Aug 2017 08:28:49 +0000"  >&lt;p&gt;proposed solution based on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt;&apos;s original patch: &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/compare/trunk...stillalex:multiplex-revert&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/compare/trunk...stillalex:multiplex-revert&lt;/a&gt;&lt;br/&gt;
I took special care to reduce the impact of running the composite nodestore setup on the default setup (should be virtually no impact due to the way the wiring is done). This only contains the actual fix but it no longer uses the code introduced via the listed issues above, second step is to revert all those changes.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; feedback appreciated!&lt;/p&gt;</comment>
                            <comment id="16118275" author="anchela" created="Tue, 8 Aug 2017 12:39:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;, the patch looks good in general. just one question i had when looking at the diff but maybe i just got confused by the diff:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;why is &lt;tt&gt;AbstractPermissionStore&lt;/tt&gt; needed?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16118283" author="alex.parvulescu" created="Tue, 8 Aug 2017 12:46:51 +0000"  >&lt;p&gt;thanks for the review!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;why is AbstractPermissionStore needed?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Because the &lt;tt&gt;CompiledPermissionImpl&lt;/tt&gt; needs a way to call &lt;tt&gt;flush&lt;/tt&gt; on the permission store, be it a classic &lt;tt&gt;PermissionStoreImpl&lt;/tt&gt; or a composite &lt;tt&gt;MountPermissionStore&lt;/tt&gt; which would delegate the flush call to it&apos;s components. If here&apos;s a better way to expose the &lt;tt&gt;flush&lt;/tt&gt; I&apos;m open to alternatives.&lt;/p&gt;</comment>
                            <comment id="16119819" author="alex.parvulescu" created="Wed, 9 Aug 2017 12:37:08 +0000"  >&lt;p&gt;fixed with &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1804509&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1804509&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;following &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt;&apos;s feedback I moved the flush method and dropped the AbstractPermissionStore.&lt;/p&gt;</comment>
                            <comment id="16141151" author="amitjain" created="Fri, 25 Aug 2017 04:29:50 +0000"  >&lt;p&gt;Bulk close for 1.7.6&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13090437">OAK-6499</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12921619">OAK-3777</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13080108">OAK-6356</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13087992">OAK-6469</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ih9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>