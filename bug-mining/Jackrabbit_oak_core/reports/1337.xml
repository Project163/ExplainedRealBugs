<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:49:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-3412] Node name having non space whitspace chars should not be allowed</title>
                <link>https://issues.apache.org/jira/browse/OAK-3412</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Due to the changes done in &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1174&quot; title=&quot;Inconsistent handling of invalid names/paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1174&quot;&gt;&lt;del&gt;OAK-1174&lt;/del&gt;&lt;/a&gt; node with non space whitespace chars like &apos;\n&apos;, &apos;\r&apos; etc can be created. This is not desirable and also JR2 does not allow such node to be created so check must be added to prevent such a name from getting created.&lt;/p&gt;

&lt;p&gt;As discussed in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; this is regression due to usage of incorrect utility method as part of &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; the fix can be simply using a &lt;tt&gt;Character#isWhitespace&lt;/tt&gt; instead of &lt;tt&gt;Character#isSpaceChar&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/jackrabbit-oak-dev/201509.mbox/%3CCAHCW-mkkGtxkn%2B9xfXuvMTfgykewjMPsLwrVH%2B00%2BXaBQjA0sg%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/jackrabbit-oak-dev/201509.mbox/%3CCAHCW-mkkGtxkn%2B9xfXuvMTfgykewjMPsLwrVH%2B00%2BXaBQjA0sg%40mail.gmail.com%3E&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/commit/342809f7f04221782ca6bbfbde9392ec4ff441c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/commit/342809f7f04221782ca6bbfbde9392ec4ff441c2&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12873176">OAK-3412</key>
            <summary>Node name having non space whitspace chars should not be allowed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Sep 2015 04:34:13 +0000</created>
                <updated>Thu, 31 Mar 2016 05:03:28 +0000</updated>
                            <resolved>Mon, 28 Sep 2015 04:12:26 +0000</resolved>
                                                    <fixVersion>1.0.22</fixVersion>
                    <fixVersion>1.2.7</fixVersion>
                    <fixVersion>1.3.7</fixVersion>
                    <fixVersion>1.4</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14904386" author="chetanm" created="Wed, 23 Sep 2015 11:55:12 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12761877/12761877_OAK-3412.patch&quot; title=&quot;OAK-3412.patch attached to OAK-3412&quot;&gt;patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; for the fix &lt;/p&gt;

&lt;p&gt;Most of the changes are there to support compatibility flag to revert back to old behaviour (for just in case requirement!)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; Kindly review the patch&lt;/p&gt;</comment>
                            <comment id="14904396" author="reschke" created="Wed, 23 Sep 2015 12:04:57 +0000"  >&lt;p&gt;The patch looks good to me, although I&apos;d prefer if we could avoid the configuration part.&lt;/p&gt;</comment>
                            <comment id="14905883" author="chetanm" created="Thu, 24 Sep 2015 06:16:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;although I&apos;d prefer if we could avoid the configuration part.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just to be clear by default node name with non space whitespace would not be allowed. Config is just to enable old behaviour if this change causes problem for some setup. Would that be ok ... or should I just provide a system property to revert to old behaviour&lt;/p&gt;</comment>
                            <comment id="14905902" author="reschke" created="Thu, 24 Sep 2015 06:46:55 +0000"  >&lt;p&gt;In a perfect world, we wouldn&apos;t need this to be configurable. And I&apos;m still not convinced it&apos;s needed.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;If&lt;/b&gt; it is needed, the additional code should be minimal, and the way it&apos;s configured shouldn&apos;t suggest that this is somehow a supported configuration. Thus a system property seems to be better.&lt;/p&gt;</comment>
                            <comment id="14905903" author="chetanm" created="Thu, 24 Sep 2015 06:47:57 +0000"  >&lt;p&gt;Fine would rework to use a system property&lt;/p&gt;</comment>
                            <comment id="14910013" author="chetanm" created="Mon, 28 Sep 2015 04:12:26 +0000"  >&lt;p&gt;Done &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk - 1705005&lt;/li&gt;
	&lt;li&gt;1.0 - 1705601&lt;/li&gt;
	&lt;li&gt;1.2 - 1705602&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14939242" author="amitjain" created="Thu, 1 Oct 2015 03:35:13 +0000"  >&lt;p&gt;Bulk close for 1.3.7&lt;/p&gt;</comment>
                            <comment id="14991336" author="mevinay" created="Thu, 5 Nov 2015 08:41:51 +0000"  >&lt;p&gt;There are characters like &lt;a href=&quot;https://codepoints.net/U+3000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;U+3000&lt;/a&gt; which are whitespace but not &lt;a href=&quot;https://codepoints.net/U+0020&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SP&lt;/a&gt;. This particular character is part of &lt;a href=&quot;https://codepoints.net/cjk_symbols_and_punctuation&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CJK Symbols &amp;amp; Punctuation&lt;/a&gt; which is used in Chinese, Japanese and Korean scripts. Not allowing these characters has lot of impact, as they need to be avoided specifically.&lt;/p&gt;

&lt;p&gt;These characters are well supported in products like Dropbox &amp;amp; Google Drive. I think we should reconsider adding this support with the consideration of multiple scripts used in different parts of the world.&lt;/p&gt;</comment>
                            <comment id="15219033" author="alexander.klimetschek" created="Wed, 30 Mar 2016 23:05:51 +0000"  >&lt;p&gt;The JCR specification allows newline characters in node names:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://www.day.com/specs/jcr/2.0/3_Repository_Model.html#3.2%20Names&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;local name is specified&lt;/a&gt; as &lt;tt&gt;ValidChar ::= XmlChar &#8211; InvalidChar&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;with &lt;tt&gt;XmlChar&lt;/tt&gt; pointing to the &lt;a href=&quot;http://www.w3.org/TR/xml/#NT-Char&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;XML spec&apos;s NT-Char&lt;/a&gt; which allows newlines (#xA = carriage return, #xD = new line):
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Char ::= #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]	/* any Unicode character, excluding the surrogate blocks, FFFE, and FFFF. */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Is there a reason to not be spec compliant here?&lt;/p&gt;

&lt;p&gt;Believe it or not, but you can have newlines in unix/mac filesystems, and uploading such files into the JCR with the current Oak then does not work without special, jcr implementation-specific escaping (that otherwise is not needed).&lt;/p&gt;</comment>
                            <comment id="15219351" author="chetanm" created="Thu, 31 Mar 2016 05:03:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there a reason to not be spec compliant here?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Per Spec &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; this seems to be fine and is consistent with what we had in JR2. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;This definition of JCR name represents the least restrictive set of constraints permitted for the naming of items and other entities. &lt;b&gt;A repository may further restrict the names of entities to a subset of JCR names and in most cases is encouraged to do so.&lt;/b&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Also see discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3582&quot; title=&quot;Unable to create nodes with whitespace chars != ASCII SP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-3582&quot;&gt;&lt;del&gt;JCR-3582&lt;/del&gt;&lt;/a&gt; around this &lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.day.com/specs/jcr/2.0/3_Repository_Model.html#3.2.4%20Naming%20Restrictions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.day.com/specs/jcr/2.0/3_Repository_Model.html#3.2.4%20Naming%20Restrictions&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12678968">OAK-1174</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12863770">OAK-3395</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12761877" name="OAK-3412.patch" size="9546" author="chetanm" created="Wed, 23 Sep 2015 11:55:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ka7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>