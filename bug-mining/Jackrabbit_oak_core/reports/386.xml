<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:38:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-947] New node becomes existing after Session.refresh(true)</title>
                <link>https://issues.apache.org/jira/browse/OAK-947</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;After a session refresh(true) a new node changes it status to existing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662418">OAK-947</key>
            <summary>New node becomes existing after Session.refresh(true)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Aug 2013 16:09:39 +0000</created>
                <updated>Wed, 13 Nov 2013 13:54:08 +0000</updated>
                            <resolved>Tue, 13 Aug 2013 08:42:53 +0000</resolved>
                                    <version>0.8</version>
                                    <fixVersion>0.9</fixVersion>
                                    <component>jcr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13732120" author="mreutegg" created="Wed, 7 Aug 2013 16:11:23 +0000"  >&lt;p&gt;The attached patch illustrates the issue with additional checks in an existing test.&lt;/p&gt;</comment>
                            <comment id="13733304" author="mreutegg" created="Thu, 8 Aug 2013 09:23:27 +0000"  >&lt;p&gt;The test VersionableTest#testCheckoutWithPendingChanges() in oak-jcr is currently disabled because of this issue.&lt;/p&gt;</comment>
                            <comment id="13734814" author="mduerig" created="Fri, 9 Aug 2013 14:08:45 +0000"  >&lt;p&gt;As the test case in revision 1512310 shows this is a side effect of having the purge logic for transient changes on the &lt;tt&gt;Tree&lt;/tt&gt; level instead of the &lt;tt&gt;NodeBuilder&lt;/tt&gt; level: purging the changes to the underlying branch resets the node builder to the new head revision of that branch causing its status to get out of sync with that of the tree. &lt;/p&gt;</comment>
                            <comment id="13737974" author="mduerig" created="Tue, 13 Aug 2013 08:29:50 +0000"  >&lt;p&gt;Since I &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-659?focusedCommentId=13737366&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13737366&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hit a wall &lt;/a&gt; trying to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-659&quot; title=&quot;Move purge logic for transient changes below the NodeBuilder interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-659&quot;&gt;&lt;del&gt;OAK-659&lt;/del&gt;&lt;/a&gt;, I fixed this directly in the &lt;tt&gt;Tree&lt;/tt&gt; implementations at revision 1513388. This will probably introduce some performance regressions especially in the area where many child nodes are involved. &lt;/p&gt;</comment>
                            <comment id="13737982" author="mduerig" created="Tue, 13 Aug 2013 08:42:53 +0000"  >&lt;p&gt;Resolving as fixed at revision 1513388. We can address the potential performance issue together with &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-659&quot; title=&quot;Move purge logic for transient changes below the NodeBuilder interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-659&quot;&gt;&lt;del&gt;OAK-659&lt;/del&gt;&lt;/a&gt; by moving the new and modified logic back to the node builder.&lt;/p&gt;</comment>
                            <comment id="13772748" author="alex.parvulescu" created="Fri, 20 Sep 2013 07:01:34 +0000"  >&lt;p&gt;Bulk close for the 0.9 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12634602">OAK-659</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12679002">OAK-1177</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12679016">OAK-1178</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12596647" name="OAK-947.patch" size="901" author="mreutegg" created="Wed, 7 Aug 2013 16:11:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n1y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>