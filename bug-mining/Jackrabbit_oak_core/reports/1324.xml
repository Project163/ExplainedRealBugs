<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:49:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-3411] Inconsistent read on DocumentNodeStore startup</title>
                <link>https://issues.apache.org/jira/browse/OAK-3411</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;This is a regression introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2929&quot; title=&quot;Parent of unseen children must not be removable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2929&quot;&gt;&lt;del&gt;OAK-2929&lt;/del&gt;&lt;/a&gt;. On DocumentNodeStore startup the RevisionComparator of the local instance is initialized with the current _lastRev entries from the other cluster nodes. The external _lastRev entries are &apos;seenAt&apos; the same revision, which means for those revisions the RevisionComparator will use the clusterId to compare them. This is also described in &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-3388&quot; title=&quot;Inconsistent read in cluster with clock differences&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-3388&quot;&gt;&lt;del&gt;OAK-3388&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2929&quot; title=&quot;Parent of unseen children must not be removable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2929&quot;&gt;&lt;del&gt;OAK-2929&lt;/del&gt;&lt;/a&gt; changed the sequence of revisions to check for conflicts from StableRevisionComparator to RevisionComparator. This makes the conflict check susceptible to the RevisionComparison behaviour described in &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-3388&quot; title=&quot;Inconsistent read in cluster with clock differences&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-3388&quot;&gt;&lt;del&gt;OAK-3388&lt;/del&gt;&lt;/a&gt;. Commits may be rejected with a conflict, when there isn&apos;t really a conflict.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12869387">OAK-3411</key>
            <summary>Inconsistent read on DocumentNodeStore startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mreutegg">Marcel Reutegger</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Sep 2015 14:56:13 +0000</created>
                <updated>Wed, 2 Mar 2016 14:26:21 +0000</updated>
                            <resolved>Thu, 17 Sep 2015 07:23:01 +0000</resolved>
                                    <version>1.3.6</version>
                                    <fixVersion>1.0.21</fixVersion>
                    <fixVersion>1.2.6</fixVersion>
                    <fixVersion>1.3.7</fixVersion>
                    <fixVersion>1.4</fixVersion>
                                    <component>core</component>
                    <component>mongomk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14790513" author="mreutegg" created="Wed, 16 Sep 2015 15:03:43 +0000"  >&lt;p&gt;Attached a patch with tests to reproduce the regression.&lt;/p&gt;</comment>
                            <comment id="14790576" author="mreutegg" created="Wed, 16 Sep 2015 15:45:09 +0000"  >&lt;p&gt;I reverted the &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2929&quot; title=&quot;Parent of unseen children must not be removable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2929&quot;&gt;&lt;del&gt;OAK-2929&lt;/del&gt;&lt;/a&gt; fix in trunk but kept the ignored tests: &lt;a href=&quot;http://svn.apache.org/r1703428&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1703428&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14790591" author="mreutegg" created="Wed, 16 Sep 2015 15:54:09 +0000"  >&lt;p&gt;Applied patch with tests, which now succeed: &lt;a href=&quot;http://svn.apache.org/r1703430&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1703430&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14791697" author="mreutegg" created="Thu, 17 Sep 2015 07:11:15 +0000"  >&lt;p&gt;Merged into 1.2 branch with revisions &lt;a href=&quot;http://svn.apache.org/r1703434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1703434&lt;/a&gt; and &lt;a href=&quot;http://svn.apache.org/r1703435&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1703435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Merged into 1.0 branch with revisions &lt;a href=&quot;http://svn.apache.org/r1703500&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1703500&lt;/a&gt; and &lt;a href=&quot;http://svn.apache.org/r1703501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1703501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14791706" author="mreutegg" created="Thu, 17 Sep 2015 07:22:14 +0000"  >&lt;p&gt;Removed 1.0.20 and 1.2.5 from affected versions. Those releases have been canceled.&lt;/p&gt;</comment>
                            <comment id="14791720" author="mreutegg" created="Thu, 17 Sep 2015 07:36:02 +0000"  >&lt;p&gt;Change fix versions to 1.0.21 and 1.2.6 (the next upcoming releases).&lt;/p&gt;</comment>
                            <comment id="14902140" author="mreutegg" created="Tue, 22 Sep 2015 07:22:13 +0000"  >&lt;p&gt;Bulk close for 1.0.21 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12863035">OAK-3388</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12833670">OAK-2929</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12756276" name="OAK-3411-test.patch" size="3033" author="mreutegg" created="Wed, 16 Sep 2015 15:03:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2k953:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>