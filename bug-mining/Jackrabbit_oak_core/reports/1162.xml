<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:47:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-2588] MultiDocumentStoreTest.testInvalidateCache failing for Mongo</title>
                <link>https://issues.apache.org/jira/browse/OAK-2588</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;&lt;tt&gt;MultiDocumentStoreTest.testInvalidateCache&lt;/tt&gt; failing for Mongo&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 6, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.255 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
testInvalidateCache[0](org.apache.jackrabbit.oak.plugins.document.MultiDocumentStoreTest)  Time elapsed: 0.343 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: modcount should have incremented again expected:&amp;lt;3&amp;gt; but was:&amp;lt;2&amp;gt;
        at org.junit.Assert.fail(Assert.java:93)
        at org.junit.Assert.failNotEquals(Assert.java:647)
        at org.junit.Assert.assertEquals(Assert.java:128)
        at org.junit.Assert.assertEquals(Assert.java:472)
        at org.apache.jackrabbit.oak.plugins.document.MultiDocumentStoreTest.testInvalidateCache(MultiDocumentStoreTest.java:184)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12780303">OAK-2588</key>
            <summary>MultiDocumentStoreTest.testInvalidateCache failing for Mongo</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Mar 2015 04:27:01 +0000</created>
                <updated>Tue, 7 Apr 2015 09:09:43 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 16:00:49 +0000</resolved>
                                                    <fixVersion>1.1.8</fixVersion>
                                    <component>mongomk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14351911" author="chetanm" created="Sun, 8 Mar 2015 05:40:44 +0000"  >&lt;p&gt;Ignored the failing test case with &lt;a href=&quot;http://svn.apache.org/r1664947&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1664947&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; Can you have a look?&lt;/p&gt;</comment>
                            <comment id="14352037" author="reschke" created="Sun, 8 Mar 2015 13:27:11 +0000"  >&lt;p&gt;That looks like an actual Mongo persistence bug to me. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mreutegg&quot; class=&quot;user-hover&quot; rel=&quot;mreutegg&quot;&gt;mreutegg&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14352812" author="reschke" created="Mon, 9 Mar 2015 11:07:45 +0000"  >&lt;p&gt;The test case used a document ID that didn&apos;t conform to the &quot;n:/...&quot; pattern; that apparently confused the hierarchical cache invalidation. I have now fixed this, but we really should clarify unstated assumptions in the DocumentStore API like these.&lt;/p&gt;</comment>
                            <comment id="14354480" author="mreutegg" created="Tue, 10 Mar 2015 07:46:49 +0000"  >&lt;p&gt;Ideally, we should separate those concerns and implement &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1328&quot; title=&quot;refactor DocumentMK caching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1328&quot;&gt;&lt;del&gt;OAK-1328&lt;/del&gt;&lt;/a&gt;. With this, we&apos;d have a DocumentStore layer only responsible for reading and writing. On top, the caching layer could have additional hierarchy aware operations and caches.&lt;/p&gt;</comment>
                            <comment id="14482853" author="edivad" created="Tue, 7 Apr 2015 09:09:43 +0000"  >&lt;p&gt;Bulk closing for 1.1.8&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26hkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>