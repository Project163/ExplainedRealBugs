<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:46:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OAK-2271] Compaction estimation time should not depend on number of checkpoints</title>
                <link>https://issues.apache.org/jira/browse/OAK-2271</link>
                <project id="12313221" key="OAK">Jackrabbit Oak</project>
                    <description>&lt;p&gt;Checkpoints can be seen as unix symlinks. The compaction estimation will blindly follow those links when computing the set of bulk segments that are in-use. &lt;br/&gt;
For example, when there are 1.9k checkpoints, the estimator will have to traverse the same repo 1.9k times to determine this set, even though it falls onto already traversed paths. &lt;br/&gt;
This is also misleading for debugging, it all looks like it&apos;s loading segments while estimating.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12755383">OAK-2271</key>
            <summary>Compaction estimation time should not depend on number of checkpoints</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stillalex">Alex Deparvu</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                            <label>compaction</label>
                            <label>gc</label>
                    </labels>
                <created>Fri, 14 Nov 2014 15:06:39 +0000</created>
                <updated>Fri, 12 Dec 2014 16:06:26 +0000</updated>
                            <resolved>Mon, 24 Nov 2014 10:39:41 +0000</resolved>
                                                    <fixVersion>1.0.9</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>core</component>
                    <component>segmentmk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14212345" author="alex.parvulescu" created="Fri, 14 Nov 2014 15:09:18 +0000"  >&lt;p&gt;proposed patch&lt;/p&gt;</comment>
                            <comment id="14222803" author="mduerig" created="Mon, 24 Nov 2014 09:04:30 +0000"  >&lt;p&gt;Patch looks good in general. I&apos;m unsure about the memory impact of the &lt;tt&gt;visited&lt;/tt&gt; set though. Doesn&apos;t his hold onto all referenced segments while the estimator is running? Wouldn&apos;t it be safer to keep a &quot;shallow&quot; set of UUID - offset pairs?&lt;/p&gt;</comment>
                            <comment id="14222838" author="alex.parvulescu" created="Mon, 24 Nov 2014 09:56:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;Doesn&apos;t his hold onto all referenced segments while the estimator is running?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ah yes, I missed that part. I only had in mind the segmentid class. makes perfect sense, I&apos;ll update the patch then.&lt;/p&gt;</comment>
                            <comment id="14222851" author="alex.parvulescu" created="Mon, 24 Nov 2014 10:13:32 +0000"  >&lt;p&gt;fixed in trunk with &lt;a href=&quot;http://svn.apache.org/r1641352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1641352&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14222865" author="alex.parvulescu" created="Mon, 24 Nov 2014 10:39:41 +0000"  >&lt;p&gt;merged to 1.0 with r1641358&lt;/p&gt;</comment>
                            <comment id="14244367" author="edivad" created="Fri, 12 Dec 2014 16:06:26 +0000"  >&lt;p&gt;Bulk close for 1.1.3&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12748055">OAK-2192</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12681551" name="OAK-2271.patch" size="2882" author="stillalex" created="Fri, 14 Nov 2014 15:09:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22dvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>