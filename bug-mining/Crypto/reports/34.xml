<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:41:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CRYPTO-90] Utils loads system properties during class loading</title>
                <link>https://issues.apache.org/jira/browse/CRYPTO-90</link>
                <project id="12320024" key="CRYPTO">Commons Crypto</project>
                    <description>&lt;p&gt;The Utils class reads properties from a properties file if it exists, and adds them to the set of System properties.&lt;/p&gt;

&lt;p&gt;There are several problems with this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;there&apos;s no way of knowing exactly when the properties will be processed, because it depends when the Utils class is first used&lt;/li&gt;
	&lt;li&gt;generally it&apos;s a bad idea to update System properties.&lt;/li&gt;
	&lt;li&gt;updates to System properties require additional privileges, so the behaviour of the code will depend on the environment in which it is run.&lt;/li&gt;
	&lt;li&gt;the code catches Throwable, which is not allowed.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If there is a use case for supporting a properties file, it should be processed at a predictable stage in the code, should be done before command-line parameters are processed, and should not require updating System properties.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12982708">CRYPTO-90</key>
            <summary>Utils loads system properties during class loading</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dapengsun">Dapeng Sun</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jun 2016 14:38:39 +0000</created>
                <updated>Wed, 6 Jul 2016 05:56:33 +0000</updated>
                            <resolved>Wed, 29 Jun 2016 22:53:43 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15352891" author="sebb@apache.org" created="Tue, 28 Jun 2016 12:12:31 +0000"  >&lt;p&gt;An alternative approach would be to add a method to return a local Properties instance.&lt;/p&gt;

&lt;p&gt;For example (pseudocode):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Properties getDefaultProperties() {
    Properties props = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Properties(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperties()); &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; to system
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (prop in ConfigurationKeys.SYSTEM_PROPERTIES_FILE) { &lt;span class=&quot;code-comment&quot;&gt;// pseudo-code
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(prop.name()) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) { &lt;span class=&quot;code-comment&quot;&gt;// add local prop &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not defined by system
&lt;/span&gt;            props.addProperty(prop);
        }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; props;
}
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; getProperties() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Properties(getDefaultProperties()); &lt;span class=&quot;code-comment&quot;&gt;// protect the defaults against change
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This would allow arbitrary properties to be defined in the Properties instance without needing to change any SystemProperties.&lt;/p&gt;

&lt;p&gt;Note: the defaults processing could be done once by using the IODH idiom&lt;/p&gt;</comment>
                            <comment id="15354992" author="dapengsun" created="Wed, 29 Jun 2016 10:22:14 +0000"  >&lt;p&gt;Thank Sebb, &lt;a href=&quot;https://github.com/apache/commons-crypto/pull/65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-crypto/pull/65&lt;/a&gt; is created for this issue.&lt;/p&gt;</comment>
                            <comment id="15355937" author="sebb@apache.org" created="Wed, 29 Jun 2016 22:53:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CRYPTO-90&quot; title=&quot;Utils loads system properties during class loading&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CRYPTO-90&quot;&gt;&lt;del&gt;CRYPTO-90&lt;/del&gt;&lt;/a&gt;: Utils loads system properties during class loading&lt;/p&gt;

&lt;p&gt;Adapted from PR65&lt;br/&gt;
Fixes #65&lt;/p&gt;

&lt;p&gt;Project: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/repo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/repo&lt;/a&gt;&lt;br/&gt;
Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/commit/7c544f69&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/commit/7c544f69&lt;/a&gt;&lt;br/&gt;
Tree: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/tree/7c544f69&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/tree/7c544f69&lt;/a&gt;&lt;br/&gt;
Diff: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/diff/7c544f69&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/diff/7c544f69&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15362298" author="sebb@apache.org" created="Tue, 5 Jul 2016 09:50:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CRYPTO-90&quot; title=&quot;Utils loads system properties during class loading&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CRYPTO-90&quot;&gt;&lt;del&gt;CRYPTO-90&lt;/del&gt;&lt;/a&gt; Utils loads system properties during class loading&lt;/p&gt;

&lt;p&gt;Fix up NativeCodeLoader so it still sees properties from the local file.&lt;br/&gt;
These are no longer copied into the System props, so need to use the&lt;br/&gt;
defaultProperties from Utils&lt;/p&gt;

&lt;p&gt;Project: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/repo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/repo&lt;/a&gt;&lt;br/&gt;
Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/commit/7274287f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/commit/7274287f&lt;/a&gt;&lt;br/&gt;
Tree: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/tree/7274287f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/tree/7274287f&lt;/a&gt;&lt;br/&gt;
Diff: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/diff/7274287f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/diff/7274287f&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12984326">CRYPTO-92</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i301db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>