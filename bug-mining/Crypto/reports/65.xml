<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:42:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CRYPTO-125] CryptoOutputStream does not call write in a loop when underlying channel works in non-block mode.</title>
                <link>https://issues.apache.org/jira/browse/CRYPTO-125</link>
                <project id="12320024" key="CRYPTO">Commons Crypto</project>
                    <description>&lt;p&gt;The encrypt function call output.write without loop which lead to data loss when creating the output encryption stream with a SocketChannel and works in non-block mode.&lt;/p&gt;

&lt;p&gt;As suggested, it should be call as following way:&lt;br/&gt;
while(buf.hasRemaining()) {&lt;br/&gt;
    channel.write(buf);&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="13012752">CRYPTO-125</key>
            <summary>CryptoOutputStream does not call write in a loop when underlying channel works in non-block mode.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="junjie">Junjie Chen</assignee>
                                    <reporter username="junjie">Junjie Chen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Oct 2016 03:32:17 +0000</created>
                <updated>Wed, 15 Feb 2017 19:48:25 +0000</updated>
                            <resolved>Wed, 26 Oct 2016 08:05:18 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Stream</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15607810" author="dapengsun" created="Wed, 26 Oct 2016 08:05:18 +0000"  >&lt;p&gt;Thank Junjie for the contribution.&lt;/p&gt;

&lt;p&gt;Repository: commons-crypto&lt;br/&gt;
Updated Branches:&lt;br/&gt;
  refs/heads/master 77af2da3d -&amp;gt; 3adc20723&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CRYPTO-125&quot; title=&quot;CryptoOutputStream does not call write in a loop when underlying channel works in non-block mode.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CRYPTO-125&quot;&gt;&lt;del&gt;CRYPTO-125&lt;/del&gt;&lt;/a&gt;: CryptoOutputStream does not call write in a loop when underlying channel works in non-block mode. (Reviewed by Sun, Dapeng and Ke, Xianda)&lt;/p&gt;

&lt;p&gt;Closes #71 from cjjnjust:master&lt;/p&gt;


&lt;p&gt;Project: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/repo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/repo&lt;/a&gt;&lt;br/&gt;
Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/commit/3adc2072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/commit/3adc2072&lt;/a&gt;&lt;br/&gt;
Tree: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/tree/3adc2072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/tree/3adc2072&lt;/a&gt;&lt;br/&gt;
Diff: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-crypto/diff/3adc2072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-crypto/diff/3adc2072&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Branch: refs/heads/master&lt;br/&gt;
Commit: 3adc20723b823bad58a39f7952300538450d3b7c&lt;br/&gt;
Parents: 77af2da&lt;br/&gt;
Author: Junjie Chen &amp;lt;junjie.j.chen@intel.com&amp;gt;&lt;br/&gt;
Authored: Mon Oct 24 10:11:29 2016 +0800&lt;br/&gt;
Committer: Sun Dapeng &amp;lt;sdp@apache.org&amp;gt;&lt;br/&gt;
Committed: Mon Oct 24 10:12:29 2016 +0800&lt;/p&gt;</comment>
                            <comment id="15864349" author="vanzin" created="Mon, 13 Feb 2017 20:18:34 +0000"  >&lt;p&gt;Hi there,&lt;/p&gt;

&lt;p&gt;I don&apos;t think this fix is correct. The issue here is that &lt;tt&gt;CryptoOutputStream&lt;/tt&gt; is not really following the API defined by &lt;tt&gt;WritableByteChannel&lt;/tt&gt;. That API allows the channel to write less data than available in the input buffer (and the calling code needs to be able to handle that situation). That&apos;s required for non-blocking I/O.&lt;/p&gt;

&lt;p&gt;This change will cause really high CPU usage if the underlying channel is non-blocking and is not ready for write, and will undesirably block I/O threads in that situation (e.g., instead of giving control back to the application so it can write to other channels that are ready, it will go into a busy loop until this one output channel becomes ready).&lt;/p&gt;</comment>
                            <comment id="15868465" author="vanzin" created="Wed, 15 Feb 2017 19:48:25 +0000"  >&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/CRYPTO-135&quot; title=&quot;CryptoOutputStream is always blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CRYPTO-135&quot;&gt;&lt;del&gt;CRYPTO-135&lt;/del&gt;&lt;/a&gt; to track fixing that issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34yo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>