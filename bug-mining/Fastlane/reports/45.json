{"url":"https://api.github.com/repos/fastlane/fastlane/issues/28995","repository_url":"https://api.github.com/repos/fastlane/fastlane","labels_url":"https://api.github.com/repos/fastlane/fastlane/issues/28995/labels{/name}","comments_url":"https://api.github.com/repos/fastlane/fastlane/issues/28995/comments","events_url":"https://api.github.com/repos/fastlane/fastlane/issues/28995/events","html_url":"https://github.com/fastlane/fastlane/issues/28995","id":2732449962,"node_id":"I_kwDOAaK_F86i3eCq","number":28995,"title":"Fastlane Error on Rollout command : Google Api Error: Invalid request - Only one completed release is allowed.","user":{"login":"Noorrama","id":11205702,"node_id":"MDQ6VXNlcjExMjA1NzAy","avatar_url":"https://avatars.githubusercontent.com/u/11205702?v=4","gravatar_id":"","url":"https://api.github.com/users/Noorrama","html_url":"https://github.com/Noorrama","followers_url":"https://api.github.com/users/Noorrama/followers","following_url":"https://api.github.com/users/Noorrama/following{/other_user}","gists_url":"https://api.github.com/users/Noorrama/gists{/gist_id}","starred_url":"https://api.github.com/users/Noorrama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Noorrama/subscriptions","organizations_url":"https://api.github.com/users/Noorrama/orgs","repos_url":"https://api.github.com/users/Noorrama/repos","events_url":"https://api.github.com/users/Noorrama/events{/privacy}","received_events_url":"https://api.github.com/users/Noorrama/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"AliSoftware","id":216089,"node_id":"MDQ6VXNlcjIxNjA4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/216089?v=4","gravatar_id":"","url":"https://api.github.com/users/AliSoftware","html_url":"https://github.com/AliSoftware","followers_url":"https://api.github.com/users/AliSoftware/followers","following_url":"https://api.github.com/users/AliSoftware/following{/other_user}","gists_url":"https://api.github.com/users/AliSoftware/gists{/gist_id}","starred_url":"https://api.github.com/users/AliSoftware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliSoftware/subscriptions","organizations_url":"https://api.github.com/users/AliSoftware/orgs","repos_url":"https://api.github.com/users/AliSoftware/repos","events_url":"https://api.github.com/users/AliSoftware/events{/privacy}","received_events_url":"https://api.github.com/users/AliSoftware/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"AliSoftware","id":216089,"node_id":"MDQ6VXNlcjIxNjA4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/216089?v=4","gravatar_id":"","url":"https://api.github.com/users/AliSoftware","html_url":"https://github.com/AliSoftware","followers_url":"https://api.github.com/users/AliSoftware/followers","following_url":"https://api.github.com/users/AliSoftware/following{/other_user}","gists_url":"https://api.github.com/users/AliSoftware/gists{/gist_id}","starred_url":"https://api.github.com/users/AliSoftware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliSoftware/subscriptions","organizations_url":"https://api.github.com/users/AliSoftware/orgs","repos_url":"https://api.github.com/users/AliSoftware/repos","events_url":"https://api.github.com/users/AliSoftware/events{/privacy}","received_events_url":"https://api.github.com/users/AliSoftware/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":10,"created_at":"2024-12-11T10:07:05Z","updated_at":"2025-04-10T09:45:59Z","closed_at":"2025-03-12T08:38:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- Thanks for helping fastlane! Before you submit your issue, please make sure you followed our checklist and check the appropriate boxes by putting an x in the [ ]: [x] -->\r\n\r\n### New Issue Checklist\r\n\r\n- [✅ ] Updated fastlane to the latest version\r\n- [✅ ] I read the [Contribution Guidelines](https://github.com/fastlane/fastlane/blob/master/CONTRIBUTING.md)\r\n- [✅ ] I read [docs.fastlane.tools](https://docs.fastlane.tools)\r\n- [✅ ] I searched for [existing GitHub issues](https://github.com/fastlane/fastlane/issues)\r\n\r\n### Issue Description\r\nI have updated by today (Dec, 11th 2024) the Fastlane version to 2.26.0, my script for rolling out my apps was not changes since a year ago, but after updating it was return this error :\r\n\r\n```\r\nfastlane finished with errors\r\n[!] Google Api Error: Invalid request - Only one completed release is allowed.\r\n[08:07:25]: WARNING: fastlane requires your locale to be set to UTF-8. To learn more go to https://docs.fastlane.tools/getting-started/ios/setup/#set-up-environment-variables\r\n```\r\n\r\nMy app was not on Fully rollout/released yet (still staged at 30p) \r\nsomehow it pointed out the error on fastfile as per image below, but i have not any code changes since a year ago, the script is also still working yesterday.\r\n<img width=\"1344\" alt=\"Screenshot 2024-12-11 at 16 50 23\" src=\"https://github.com/user-attachments/assets/bb433b54-e087-41a4-88e7-5deddff203d1\">\r\n\r\nso then, after debugging by couple of hours, i tried revert back / downgrade to Fastlane 2.25.0, and my script was working normally!\r\n\r\n<img width=\"1166\" alt=\"Screenshot 2024-12-11 at 16 56 16\" src=\"https://github.com/user-attachments/assets/7013957a-4ceb-47d6-bd90-d5b4fea2e131\">\r\n\r\n\r\n##### Command executed\r\n\r\nhere is the command that i execute : \r\n`$ bundle exec --gemfile=$CI_PROJECT_DIR/fastlane/Gemfile fastlane prod_rollout rollout:\"0.60\"`\r\n\r\n##### Complete output when running fastlane, including the stack trace and command used\r\nAs mentioned above\r\n`$ bundle exec --gemfile=$CI_PROJECT_DIR/fastlane/Gemfile fastlane prod_rollout rollout:\"0.60\"`\r\n\r\n```[07:57:41]: Called from Fastfile at line 25\r\n[07:57:41]: \r\n[07:57:41]:     23:\t  lane :prod_rollout do |options|\r\n[07:57:41]:     24:\t    rollout = options[:rollout].to_s\r\n[07:57:41]:  => 25:\t    supply(track: 'production', rollout: rollout, skip_upload_aab: 'true',  skip_upload_apk: 'true')\r\n[07:57:41]:     26:\t  end\r\n[07:57:41]:     27:\t\r\n[07:57:41]: \r\n[07:57:41]: Google Api Error: Invalid request - Only one completed release is allowed.\r\n```\r\n\r\n[!] Google Api Error: Invalid request - Only one completed release is allowed.\r\n[08:07:25]: WARNING: fastlane requires your locale to be set to UTF-8. To learn more go to https://docs.fastlane.tools/getting-started/ios/setup/#set-up-environment-variables`\r\n\r\n### Environment\r\n\r\n<!-- \r\nPlease run `fastlane env` and copy the output below. This will help us help you.\r\nIf you used the `--capture_output` option, please remove this block as it is already included there. \r\n-->\r\n<details><summary>✅ fastlane environment ✅</summary>\r\n\r\n### Stack\r\n\r\n| Key                         | Value                                       |\r\n| --------------------------- | ------------------------------------------- |\r\n| OS                          | 15.1.1                                      |\r\n| Ruby                        | 3.1.2                                       |\r\n| Bundler?                    | false                                       |\r\n| Git                         | git version 2.39.5 (Apple Git-154)          |\r\n| Installation Source         | ~/.rbenv/versions/3.1.2/bin/fastlane        |\r\n| Host                        | macOS 15.1.1 (24B91)                        |\r\n| Ruby Lib Dir                | ~/.rbenv/versions/3.1.2/lib                 |\r\n| OpenSSL Version             | OpenSSL 3.2.0 23 Nov 2023                   |\r\n| Is contained                | false                                       |\r\n| Is homebrew                 | false                                       |\r\n| Is installed via Fabric.app | false                                       |\r\n| Xcode Path                  | /Applications/Xcode.app/Contents/Developer/ |\r\n| Xcode Version               | 16.1                                        |\r\n| Swift Version               | 6.0.2                                       |\r\n\r\n\r\n### System Locale\r\n\r\n| Variable | Value       |   |\r\n| -------- | ----------- | - |\r\n| LANG     | en_US.UTF-8 | ✅ |\r\n| LC_ALL   | en_US.UTF-8 | ✅ |\r\n| LANGUAGE |             |   |\r\n\r\n\r\n### fastlane files:\r\n\r\n<details><summary>`./fastlane/Fastfile`</summary>\r\n\r\n```ruby\r\n# This file contains the fastlane.tools configuration\r\n# You can find the documentation at https://docs.fastlane.tools\r\n#\r\n# For a list of all available actions, check out\r\n#\r\n#     https://docs.fastlane.tools/actions\r\n#\r\n# For a list of all available plugins, check out\r\n#\r\n#     https://docs.fastlane.tools/plugins/available-plugins\r\n#\r\n\r\n# Uncomment the line if you want fastlane to automatically update itself\r\n# update_fastlane\r\n\r\ndefault_platform(:android)\r\n\r\nplatform :android do\r\n\r\n  desc \"Version Production\"\r\n  lane :version_prod do\r\n    google_play_track_release_names(track: 'production')\r\n  end\r\n\r\n  desc \"Update Beta rollout\"\r\n  lane :prod_rollout do |options|\r\n    rollout = options[:rollout].to_s\r\n    supply(track: 'production', rollout: rollout, skip_upload_aab: 'true',  skip_upload_apk: 'true')\r\n  end\r\n\r\n\r\nend\r\n\r\n```\r\n</details>\r\n\r\n<details><summary>`./fastlane/Appfile`</summary>\r\n\r\n```ruby\r\n# app_identifier(\"[[APP_IDENTIFIER]]\") # The bundle identifier of your app\r\n# apple_id(\"[[APPLE_ID]]\") # Your Apple Developer Portal username\r\n\r\n\r\n# For more information about the Appfile, see:\r\n#     https://docs.fastlane.tools/advanced/#appfile\r\n\r\njson_key_file(\"fastlane/credentials.json\")\r\npackage_name(\"com.gojek.resto\")\r\n```\r\n</details>\r\n\r\n### fastlane gems\r\n\r\n| Gem      | Version | Update-Status |\r\n| -------- | ------- | ------------- |\r\n| fastlane | 2.226.0 | ✅ Up-To-Date  |\r\n\r\n\r\n### Loaded fastlane plugins:\r\n\r\n**No plugins Loaded**\r\n\r\n\r\n<details><summary><b>Loaded gems</b></summary>\r\n\r\n| Gem                             | Version      |\r\n| ------------------------------- | ------------ |\r\n| error_highlight                 | 0.3.0        |\r\n| did_you_mean                    | 1.6.1        |\r\n| babosa                          | 1.0.4        |\r\n| colored                         | 1.2          |\r\n| highline                        | 2.0.3        |\r\n| commander                       | 4.6.0        |\r\n| dotenv                          | 2.8.1        |\r\n| emoji_regex                     | 3.2.3        |\r\n| faraday-cookie_jar              | 0.0.7        |\r\n| sysrandom                       | 1.0.5        |\r\n| fastlane-sirp                   | 1.0.0        |\r\n| gh_inspector                    | 1.1.3        |\r\n| uber                            | 0.1.0        |\r\n| declarative                     | 0.0.20       |\r\n| trailblazer-option              | 0.1.2        |\r\n| representable                   | 3.2.0        |\r\n| retriable                       | 3.1.2        |\r\n| mini_mime                       | 1.1.5        |\r\n| multi_json                      | 1.15.0       |\r\n| os                              | 1.1.4        |\r\n| googleauth                      | 1.8.1        |\r\n| httpclient                      | 2.8.3        |\r\n| google-apis-core                | 0.11.3       |\r\n| google-apis-androidpublisher_v3 | 0.54.0       |\r\n| google-apis-playcustomapp_v1    | 0.13.0       |\r\n| google-cloud-env                | 1.6.0        |\r\n| google-apis-iamcredentials_v1   | 0.17.0       |\r\n| google-apis-storage_v1          | 0.31.0       |\r\n| digest-crc                      | 0.6.5        |\r\n| google-cloud-storage            | 1.47.0       |\r\n| naturally                       | 2.2.1        |\r\n| rubyzip                         | 2.3.2        |\r\n| security                        | 0.1.5        |\r\n| simctl                          | 1.6.10       |\r\n| terminal-notifier               | 2.0.0        |\r\n| terminal-table                  | 3.0.2        |\r\n| tty-screen                      | 0.8.2        |\r\n| tty-cursor                      | 0.7.1        |\r\n| tty-spinner                     | 0.9.3        |\r\n| word_wrap                       | 1.0.0        |\r\n| xcpretty-travis-formatter       | 1.0.1        |\r\n| rouge                           | 3.28.0       |\r\n| xcpretty                        | 0.4.0        |\r\n| set                             | 1.0.2        |\r\n| public_suffix                   | 6.0.1        |\r\n| addressable                     | 2.8.7        |\r\n| artifactory                     | 3.0.17       |\r\n| aws-eventstream                 | 1.3.0        |\r\n| aws-sigv4                       | 1.10.1       |\r\n| aws-partitions                  | 1.1000.0     |\r\n| jmespath                        | 1.6.2        |\r\n| aws-sdk-core                    | 3.211.0      |\r\n| aws-sdk-kms                     | 1.95.0       |\r\n| aws-sdk-s3                      | 1.169.0      |\r\n| bundler                         | 2.3.7        |\r\n| base64                          | 0.2.0        |\r\n| nkf                             | 0.2.0        |\r\n| rexml                           | 3.3.9        |\r\n| CFPropertyList                  | 3.0.7        |\r\n| excon                           | 0.112.0      |\r\n| ruby2_keywords                  | 0.0.5        |\r\n| faraday-retry                   | 1.0.3        |\r\n| faraday-rack                    | 1.0.0        |\r\n| faraday-patron                  | 1.0.0        |\r\n| faraday-net_http_persistent     | 1.2.0        |\r\n| faraday-net_http                | 1.0.2        |\r\n| multipart-post                  | 2.4.1        |\r\n| faraday-multipart               | 1.0.4        |\r\n| faraday-httpclient              | 1.0.1        |\r\n| faraday-excon                   | 1.1.0        |\r\n| faraday-em_synchrony            | 1.0.0        |\r\n| faraday-em_http                 | 1.0.0        |\r\n| faraday                         | 1.10.4       |\r\n| faraday_middleware              | 1.2.1        |\r\n| domain_name                     | 0.6.20240107 |\r\n| http-cookie                     | 1.0.7        |\r\n| fastimage                       | 2.3.1        |\r\n| jwt                             | 2.9.3        |\r\n| signet                          | 0.19.0       |\r\n| google-cloud-errors             | 1.4.0        |\r\n| google-cloud-core               | 1.7.1        |\r\n| rake                            | 13.2.1       |\r\n| json                            | 2.7.5        |\r\n| mini_magick                     | 4.13.2       |\r\n| optparse                        | 0.5.0        |\r\n| plist                           | 3.7.1        |\r\n| unicode-display_width           | 2.6.0        |\r\n| nanaimo                         | 0.4.0        |\r\n| colored2                        | 3.1.2        |\r\n| claide                          | 1.1.0        |\r\n| atomos                          | 0.1.3        |\r\n| xcodeproj                       | 1.27.0       |\r\n| forwardable                     | 1.3.2        |\r\n| logger                          | 1.6.2        |\r\n| pathname                        | 0.2.0        |\r\n| shellwords                      | 0.1.0        |\r\n| cgi                             | 0.3.1        |\r\n| date                            | 3.4.1        |\r\n| timeout                         | 0.2.0        |\r\n| stringio                        | 3.1.2        |\r\n| securerandom                    | 0.1.1        |\r\n| uri                             | 0.11.0       |\r\n| ipaddr                          | 1.2.4        |\r\n| io-wait                         | 0.2.1        |\r\n| openssl                         | 3.0.0        |\r\n| digest                          | 3.1.0        |\r\n| io-nonblock                     | 0.1.0        |\r\n| zlib                            | 2.1.1        |\r\n| resolv                          | 0.2.1        |\r\n| time                            | 0.2.0        |\r\n| open-uri                        | 0.2.0        |\r\n| mutex_m                         | 0.1.1        |\r\n| net-protocol                    | 0.1.2        |\r\n| net-http                        | 0.2.0        |\r\n| english                         | 0.7.1        |\r\n| erb                             | 2.2.3        |\r\n| strscan                         | 3.0.1        |\r\n| abbrev                          | 0.1.0        |\r\n| io-console                      | 0.8.0        |\r\n| tempfile                        | 0.1.2        |\r\n| delegate                        | 0.2.0        |\r\n| fileutils                       | 1.6.0        |\r\n| tmpdir                          | 0.1.2        |\r\n| singleton                       | 0.1.1        |\r\n| open3                           | 0.1.1        |\r\n| prettyprint                     | 0.1.1        |\r\n| pp                              | 0.3.0        |\r\n| find                            | 0.1.1        |\r\n| ostruct                         | 0.5.2        |\r\n| yaml                            | 0.2.0        |\r\n| psych                           | 5.2.1        |\r\n</details>\r\n\r\n\r\n*generated on:* **2024-12-12**\r\n</details>","closed_by":{"login":"AliSoftware","id":216089,"node_id":"MDQ6VXNlcjIxNjA4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/216089?v=4","gravatar_id":"","url":"https://api.github.com/users/AliSoftware","html_url":"https://github.com/AliSoftware","followers_url":"https://api.github.com/users/AliSoftware/followers","following_url":"https://api.github.com/users/AliSoftware/following{/other_user}","gists_url":"https://api.github.com/users/AliSoftware/gists{/gist_id}","starred_url":"https://api.github.com/users/AliSoftware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliSoftware/subscriptions","organizations_url":"https://api.github.com/users/AliSoftware/orgs","repos_url":"https://api.github.com/users/AliSoftware/repos","events_url":"https://api.github.com/users/AliSoftware/events{/privacy}","received_events_url":"https://api.github.com/users/AliSoftware/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/fastlane/fastlane/issues/28995/reactions","total_count":6,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/fastlane/fastlane/issues/28995/timeline","performed_via_github_app":null,"state_reason":"completed"}