{"url":"https://api.github.com/repos/fastlane/fastlane/issues/11614","repository_url":"https://api.github.com/repos/fastlane/fastlane","labels_url":"https://api.github.com/repos/fastlane/fastlane/issues/11614/labels{/name}","comments_url":"https://api.github.com/repos/fastlane/fastlane/issues/11614/comments","events_url":"https://api.github.com/repos/fastlane/fastlane/issues/11614/events","html_url":"https://github.com/fastlane/fastlane/issues/11614","id":289741127,"node_id":"MDU6SXNzdWUyODk3NDExMjc=","number":11614,"title":"Error running Fastlane swift","user":{"login":"acegreen","id":10794609,"node_id":"MDQ6VXNlcjEwNzk0NjA5","avatar_url":"https://avatars.githubusercontent.com/u/10794609?v=4","gravatar_id":"","url":"https://api.github.com/users/acegreen","html_url":"https://github.com/acegreen","followers_url":"https://api.github.com/users/acegreen/followers","following_url":"https://api.github.com/users/acegreen/following{/other_user}","gists_url":"https://api.github.com/users/acegreen/gists{/gist_id}","starred_url":"https://api.github.com/users/acegreen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acegreen/subscriptions","organizations_url":"https://api.github.com/users/acegreen/orgs","repos_url":"https://api.github.com/users/acegreen/repos","events_url":"https://api.github.com/users/acegreen/events{/privacy}","received_events_url":"https://api.github.com/users/acegreen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2018-01-18T19:04:30Z","updated_at":"2018-03-25T17:33:03Z","closed_at":"2018-01-19T20:55:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Issue Description\r\n\r\nError while executing one of the lanes\r\n\r\n![screen shot 2018-01-18 at 2 03 43 pm](https://user-images.githubusercontent.com/10794609/35116169-6fb5e142-fc58-11e7-811d-579d9fafecf1.png)\r\n\r\n\r\n### Environment\r\n\r\n<details><summary>ðŸš« fastlane environment ðŸš«</summary>\r\n\r\n### Stack\r\n\r\n| Key                         | Value                                           |\r\n| --------------------------- | ----------------------------------------------- |\r\n| OS                          | 10.12.6                                         |\r\n| Ruby                        | 2.2.4                                           |\r\n| Bundler?                    | false                                           |\r\n| Git                         | git version 2.14.3 (Apple Git-98)               |\r\n| Installation Source         | /usr/local/lib/fastlane_lib/bundle/bin/fastlane |\r\n| Host                        | Mac OS X 10.12.6 (16G1114)                      |\r\n| Ruby Lib Dir                | /usr/local/lib/fastlane_lib/bundle/lib          |\r\n| OpenSSL Version             | OpenSSL 1.0.2g  1 Mar 2016                      |\r\n| Is contained                | false                                           |\r\n| Is homebrew                 | false                                           |\r\n| Is installed via Fabric.app | true                                            |\r\n| Xcode Path                  | /Applications/Xcode.app/Contents/Developer/     |\r\n| Xcode Version               | 9.2                                             |\r\n\r\n\r\n### System Locale\r\n\r\n| Variable | Value       |   |\r\n| -------- | ----------- | - |\r\n| LANG     | en_US.UTF-8 | âœ… |\r\n| LC_ALL   | en_US.UTF-8 | âœ… |\r\n| LANGUAGE | en_US.UTF-8 | âœ… |\r\n\r\n\r\n### fastlane files:\r\n\r\n<details><summary>`./fastlane/Fastfile.swift`</summary>\r\n\r\n```ruby\r\n// Customize this file, documentation can be found here:\r\n// https://docs.fastlane.tools/\r\n// All available actions: https://docs.fastlane.tools/actions\r\n// can also be listed using the `fastlane actions` command\r\n\r\n// Change the syntax highlighting to Swift\r\n// All lines starting with // are ignored when running `fastlane`\r\n\r\n// If you want to automatically update fastlane if a new version is available:\r\n// updateFastlane()\r\n\r\nimport Foundation\r\n\r\nclass Fastfile: LaneFile {\r\n    // This is the minimum version number required.\r\n    // Update this, if you use features of a newer version\r\n    var fastlaneVersion: String { return \"2.76.0\" }\r\n    var xcodeproj: String { return \"OMRecordApp/OMRecordApp.xcodeproj\" }\r\n\r\n    func beforeAll() {\r\n        // environmentVariables[\"SLACK_URL\"] = \"https://hooks.slack.com/services/...\"\r\n        // cocoapods()\r\n        // carthage()\r\n    }\r\n\r\n    func testLane() {\r\n        desc(\"Runs all the tests\")\r\n        runTests()\r\n    }\r\n\r\n    func betaLane() {\r\n        desc(\"Submit a new Beta Build to Apple TestFlight. This will also make sure the profile is up to date\")\r\n\r\n        // syncCodeSigning(gitUrl: \"gitUrl\", appIdentifier: [appIdentifier], username: appleID)\r\n        buildApp(scheme: \"Alamofire\") // more options available\r\n        uploadToTestflight(username: appleID)\r\n        // You can also use other beta testing services here (run `fastlane actions`)\r\n    }\r\n\r\n    func releaseLane() {\r\n        desc(\"Deploy a new version to the App Store\")\r\n\r\n        // syncCodeSigning(gitUrl: \"gitUrl\", type: \"appstore\", appIdentifier: [appIdentifier], username: appleID)\r\n        captureScreenshots()\r\n        buildApp(scheme: \"Alamofire\") // more options available\r\n        uploadToAppStore(username: appleID, app: appIdentifier, force: true)\r\n        // frameScreenshots()\r\n    }\r\n    \r\n    func prepareNextVersionLane() {\r\n        desc(\"Prepare next version\")\r\n        \r\n        let currentVersion = getVersionNumber(xcodeproj: xcodeproj)\r\n        let nextVersion = prompt(text: \"version now: \\(currentVersion), next version? (like '2.4.0' not 'v2.4.0'))\")\r\n        \r\n        let nextSnapshotVersion = nextVersion + \"-SNAPSHOT\"\r\n        incrementVersionNumber(bumpType: \"nextVersion\", versionNumber: nextSnapshotVersion, xcodeproj: xcodeproj)\r\n        incrementBuildNumber(buildNumber: \"1\", xcodeproj: xcodeproj)\r\n        \r\n        commitVersionBump(message: \"[fastlane][prepare-next-version] Version set to #{next_snapshot_version} with build number set to 1\", xcodeproj: xcodeproj)\r\n        pushToGitRemote()\r\n    }\r\n    \r\n    func bumpBuildNumberLane() {\r\n        desc(\"Bump build number\")\r\n        \r\n        incrementBuildNumber(buildNumber: nil, xcodeproj: xcodeproj)\r\n        commitVersionBump(message: \"[fastlane][bump-build-number] Build number set to \\(getBuildNumber())\", xcodeproj: xcodeproj)\r\n        pushToGitRemote()\r\n    }\r\n    \r\n    func tagCurrentVersionLane() {\r\n        desc(\"Tag version current version (will be removing '-SNAPSHOT'\")\r\n        \r\n        let currentVersion = getVersionNumber(xcodeproj: xcodeproj)\r\n        let versionToTag = String(describing: currentVersion.split(separator: \"-\").first)\r\n        incrementVersionNumber(bumpType: \"tagVersion\", versionNumber: versionToTag, xcodeproj: xcodeproj)\r\n        \r\n        commitVersionBump(message: \"[fastlane][tag-version] Version set to \\(versionToTag) for upcoming release\", xcodeproj: xcodeproj)\r\n        addGitTag(tag: \"v\\(versionToTag)\", buildNumber: getBuildNumber())\r\n        \r\n//        pushToGitRemote()\r\n//        pushGitTags()\r\n    }\r\n    \r\n    func bumpAndTagLane() {\r\n        desc(\"Bump and Tag\")\r\n        \r\n        let currentVersion = getVersionNumber()\r\n        let nextVersion = prompt(text: \"version now: \\(currentVersion), next version? (like '2.4.0' not 'v2.4.0'))\")\r\n        \r\n        incrementVersionNumber(bumpType: \"nextVersion\", versionNumber: nextVersion, xcodeproj: xcodeproj)\r\n        incrementBuildNumber(buildNumber: nil, xcodeproj: xcodeproj)\r\n        \r\n        commitVersionBump(message: \"Version bump with Fastlane to \\(nextVersion)\", xcodeproj: xcodeproj)\r\n        addGitTag(tag: \"v\\(nextVersion)\", buildNumber: getBuildNumber())\r\n    }\r\n    \r\n    func buildAndDeployToFabricLane() {\r\n        desc(\"Build & Deploy to Fabric\")\r\n        \r\n        let notes = prompt(text: \"release notes?\")\r\n        \r\n        bumpBuildNumberLane()\r\n        \r\n        let projectVersion = getVersionNumber(xcodeproj: xcodeproj)\r\n        let qaVersion = \"\\(projectVersion)-qa\"\r\n        \r\n        incrementVersionNumber(bumpType: \"qa\", versionNumber: qaVersion, xcodeproj: xcodeproj)\r\n        \r\n        buildApp(scheme: \"WomensHealthProjectApp\", configuration: \"QA\")\r\n        crashlytics(apiToken: \"c25b0e87f2722bcf99aabfe96ebee2ff7fead4a0\",\r\n                    buildSecret: \"3a8061ebe748faceeb8818267dd5f0a079e0769831d96dcbc4e373c6f7f715a5\",\r\n                    notes: notes)\r\n        \r\n        uploadSymbolsToCrashlytics()\r\n        \r\n        cleanBuildArtifacts()\r\n    }\r\n    \r\n    func bumpPodspecVersionLane() {\r\n        bumpAndTagLane()\r\n        bumpPodspecVersionLane()\r\n        \r\n        podLibLint()\r\n        podPush(repo: \"https://github.com/CocoaPods/Specs.git,https://github.com/OMsignal/CocoaPodsSpecs.git\", allowWarnings: \"true\")\r\n    }\r\n\r\n    // You can define as many lanes as you want\r\n\r\n    func afterAll(currentLane: String) {\r\n        // This block is called, only if the executed lane was successful\r\n        // slack(\r\n        //     message: \"Successfully deployed new App Update.\",\r\n        //     slackUrl: \"slackURL\"\r\n        // )\r\n    }\r\n\r\n    func onError(currentLane: String, errorInfo: String) {\r\n        // slack(\r\n        //     message: errorInfo,\r\n        //     slackUrl: \"slackUrl\",\r\n        //     success: false\r\n        // )\r\n    }\r\n\r\n    // All available actions: https://docs.fastlane.tools/actions\r\n\r\n    // fastlane reports which actions are used. No personal data is recorded.\r\n    // Learn more at https://github.com/fastlane/fastlane/#metrics\r\n}\r\n\r\n```\r\n</details>\r\n\r\n**No Appfile found**\r\n\r\n\r\n### fastlane gems\r\n\r\n| Gem      | Version | Update-Status      |\r\n| -------- | ------- | ------------------ |\r\n| fastlane | 2.76.0  | ðŸš« Update available |\r\n\r\n\r\n### Loaded fastlane plugins:\r\n\r\n**No plugins Loaded**\r\n\r\n\r\n<details><summary><b>Loaded gems</b></summary>\r\n\r\n| Gem                       | Version      |\r\n| ------------------------- | ------------ |\r\n| slack-notifier            | 2.3.2        |\r\n| CFPropertyList            | 2.3.6        |\r\n| claide                    | 1.0.2        |\r\n| colored2                  | 3.1.2        |\r\n| nanaimo                   | 0.2.3        |\r\n| xcodeproj                 | 1.5.4        |\r\n| rouge                     | 2.0.7        |\r\n| xcpretty                  | 0.2.8        |\r\n| terminal-notifier         | 1.8.0        |\r\n| unicode-display_width     | 1.3.0        |\r\n| terminal-table            | 1.8.0        |\r\n| plist                     | 3.4.0        |\r\n| public_suffix             | 2.0.5        |\r\n| addressable               | 2.5.2        |\r\n| multipart-post            | 2.0.0        |\r\n| word_wrap                 | 1.0.0        |\r\n| tty-screen                | 0.6.4        |\r\n| tty-cursor                | 0.5.0        |\r\n| tty-spinner               | 0.8.0        |\r\n| babosa                    | 1.0.2        |\r\n| colored                   | 1.2          |\r\n| highline                  | 1.7.10       |\r\n| commander-fastlane        | 4.4.5        |\r\n| excon                     | 0.60.0       |\r\n| faraday                   | 0.13.1       |\r\n| unf_ext                   | 0.0.7.4      |\r\n| unf                       | 0.1.4        |\r\n| domain_name               | 0.5.20170404 |\r\n| http-cookie               | 1.0.3        |\r\n| faraday-cookie_jar        | 0.0.6        |\r\n| fastimage                 | 2.1.1        |\r\n| gh_inspector              | 1.0.3        |\r\n| json                      | 1.8.1        |\r\n| mini_magick               | 4.5.1        |\r\n| multi_json                | 1.13.1       |\r\n| multi_xml                 | 0.6.0        |\r\n| rubyzip                   | 1.2.1        |\r\n| security                  | 0.1.3        |\r\n| xcpretty-travis-formatter | 1.0.0        |\r\n| dotenv                    | 2.2.1        |\r\n| bundler                   | 1.16.1       |\r\n| faraday_middleware        | 0.12.2       |\r\n| uber                      | 0.1.0        |\r\n| declarative               | 0.0.10       |\r\n| declarative-option        | 0.1.0        |\r\n| representable             | 3.0.4        |\r\n| retriable                 | 3.1.1        |\r\n| mime-types-data           | 3.2016.0521  |\r\n| mime-types                | 3.1          |\r\n| little-plugger            | 1.1.4        |\r\n| logging                   | 2.2.2        |\r\n| jwt                       | 2.1.0        |\r\n| memoist                   | 0.16.0       |\r\n| os                        | 0.9.6        |\r\n| signet                    | 0.8.1        |\r\n| googleauth                | 0.6.2        |\r\n| httpclient                | 2.8.3        |\r\n| google-api-client         | 0.13.6       |\r\n| libxml-ruby               | 3.0.0        |\r\n</details>\r\n\r\n\r\n*generated on:* **2018-01-18**\r\n</details>","closed_by":{"login":"acegreen","id":10794609,"node_id":"MDQ6VXNlcjEwNzk0NjA5","avatar_url":"https://avatars.githubusercontent.com/u/10794609?v=4","gravatar_id":"","url":"https://api.github.com/users/acegreen","html_url":"https://github.com/acegreen","followers_url":"https://api.github.com/users/acegreen/followers","following_url":"https://api.github.com/users/acegreen/following{/other_user}","gists_url":"https://api.github.com/users/acegreen/gists{/gist_id}","starred_url":"https://api.github.com/users/acegreen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acegreen/subscriptions","organizations_url":"https://api.github.com/users/acegreen/orgs","repos_url":"https://api.github.com/users/acegreen/repos","events_url":"https://api.github.com/users/acegreen/events{/privacy}","received_events_url":"https://api.github.com/users/acegreen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/fastlane/fastlane/issues/11614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fastlane/fastlane/issues/11614/timeline","performed_via_github_app":null,"state_reason":"completed"}