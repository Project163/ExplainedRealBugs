{"url":"https://api.github.com/repos/jmoiron/sqlx/issues/688","repository_url":"https://api.github.com/repos/jmoiron/sqlx","labels_url":"https://api.github.com/repos/jmoiron/sqlx/issues/688/labels{/name}","comments_url":"https://api.github.com/repos/jmoiron/sqlx/issues/688/comments","events_url":"https://api.github.com/repos/jmoiron/sqlx/issues/688/events","html_url":"https://github.com/jmoiron/sqlx/issues/688","id":793013937,"node_id":"MDU6SXNzdWU3OTMwMTM5Mzc=","number":688,"title":"Changes for v1.3.0 sqlx.In","user":{"login":"johejo","id":25817501,"node_id":"MDQ6VXNlcjI1ODE3NTAx","avatar_url":"https://avatars.githubusercontent.com/u/25817501?v=4","gravatar_id":"","url":"https://api.github.com/users/johejo","html_url":"https://github.com/johejo","followers_url":"https://api.github.com/users/johejo/followers","following_url":"https://api.github.com/users/johejo/following{/other_user}","gists_url":"https://api.github.com/users/johejo/gists{/gist_id}","starred_url":"https://api.github.com/users/johejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johejo/subscriptions","organizations_url":"https://api.github.com/users/johejo/orgs","repos_url":"https://api.github.com/users/johejo/repos","events_url":"https://api.github.com/users/johejo/events{/privacy}","received_events_url":"https://api.github.com/users/johejo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-25T04:29:34Z","updated_at":"2021-01-26T06:52:20Z","closed_at":"2021-01-25T23:22:58Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In v1.3.0, sqlx.In returns slice of pointer.\r\n\r\n```go\r\npackage sqlx_test\r\n\r\nimport (\r\n\t\"testing\"\r\n\r\n\t\"github.com/jmoiron/sqlx\"\r\n)\r\n\r\nfunc TestIn_130(t *testing.T) {\r\n\tt.Run(\"[]interface{}{}\", func(t *testing.T) {\r\n\t\tq, args, err := sqlx.In(\"SELECT * FROM people WHERE name IN (?)\", []interface{}{[]string{\"gopher\"}}...)\r\n\t\tif err != nil {\r\n\t\t\tt.Fatal(err)\r\n\t\t}\r\n\t\tif q != \"SELECT * FROM people WHERE name IN (?)\" {\r\n\t\t\tt.Errorf(\"got=%v\", q)\r\n\t\t}\r\n\t\tt.Log(args)\r\n\t\tfor _, a := range args {\r\n\t\t\tswitch a.(type) {\r\n\t\t\tcase string:\r\n\t\t\t\tt.Log(\"ok: string\", a)\r\n\t\t\tcase *string:\r\n\t\t\t\tt.Error(\"ng: string pointer\", a, *a.(*string))\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tt.Run(\"[]string{}\", func(t *testing.T) {\r\n\t\tq, args, err := sqlx.In(\"SELECT * FROM people WHERE name IN (?)\", []string{\"gopher\"})\r\n\t\tif err != nil {\r\n\t\t\tt.Fatal(err)\r\n\t\t}\r\n\t\tif q != \"SELECT * FROM people WHERE name IN (?)\" {\r\n\t\t\tt.Errorf(\"got=%v\", q)\r\n\t\t}\r\n\t\tt.Log(args)\r\n\t\tfor _, a := range args {\r\n\t\t\tswitch a.(type) {\r\n\t\t\tcase string:\r\n\t\t\t\tt.Log(\"ok: string\", a)\r\n\t\t\tcase *string:\r\n\t\t\t\tt.Error(\"ng: string pointer\", a, *a.(*string))\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n```\r\n\r\nThis test passes in v1.2.0 but fails in v1.3.0.\r\n\r\nrelated https://github.com/jmoiron/sqlx/pull/635","closed_by":{"login":"jmoiron","id":218132,"node_id":"MDQ6VXNlcjIxODEzMg==","avatar_url":"https://avatars.githubusercontent.com/u/218132?v=4","gravatar_id":"","url":"https://api.github.com/users/jmoiron","html_url":"https://github.com/jmoiron","followers_url":"https://api.github.com/users/jmoiron/followers","following_url":"https://api.github.com/users/jmoiron/following{/other_user}","gists_url":"https://api.github.com/users/jmoiron/gists{/gist_id}","starred_url":"https://api.github.com/users/jmoiron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmoiron/subscriptions","organizations_url":"https://api.github.com/users/jmoiron/orgs","repos_url":"https://api.github.com/users/jmoiron/repos","events_url":"https://api.github.com/users/jmoiron/events{/privacy}","received_events_url":"https://api.github.com/users/jmoiron/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/jmoiron/sqlx/issues/688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jmoiron/sqlx/issues/688/timeline","performed_via_github_app":null,"state_reason":"completed"}