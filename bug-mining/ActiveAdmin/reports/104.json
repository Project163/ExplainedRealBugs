{"url":"https://api.github.com/repos/activeadmin/activeadmin/issues/3592","repository_url":"https://api.github.com/repos/activeadmin/activeadmin","labels_url":"https://api.github.com/repos/activeadmin/activeadmin/issues/3592/labels{/name}","comments_url":"https://api.github.com/repos/activeadmin/activeadmin/issues/3592/comments","events_url":"https://api.github.com/repos/activeadmin/activeadmin/issues/3592/events","html_url":"https://github.com/activeadmin/activeadmin/issues/3592","id":47987007,"node_id":"MDU6SXNzdWU0Nzk4NzAwNw==","number":3592,"title":"Safari not treating CSV exports as downloadable attachments","user":{"login":"johnmaxwell","id":13686,"node_id":"MDQ6VXNlcjEzNjg2","avatar_url":"https://avatars.githubusercontent.com/u/13686?v=4","gravatar_id":"","url":"https://api.github.com/users/johnmaxwell","html_url":"https://github.com/johnmaxwell","followers_url":"https://api.github.com/users/johnmaxwell/followers","following_url":"https://api.github.com/users/johnmaxwell/following{/other_user}","gists_url":"https://api.github.com/users/johnmaxwell/gists{/gist_id}","starred_url":"https://api.github.com/users/johnmaxwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnmaxwell/subscriptions","organizations_url":"https://api.github.com/users/johnmaxwell/orgs","repos_url":"https://api.github.com/users/johnmaxwell/repos","events_url":"https://api.github.com/users/johnmaxwell/events{/privacy}","received_events_url":"https://api.github.com/users/johnmaxwell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-11-06T17:03:29Z","updated_at":"2014-11-07T16:11:05Z","closed_at":"2014-11-07T16:11:05Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This sort of thing isn't my area of expertise, so forgive me if I get some details wrong.\n\nThe ActiveAdmin::ResourceController::Streaming module no longer sends a \"Content-Disposition\" header along with the response.  In < 1.0.0.pre CSV responses did the following:\n\n```\n  headers['Content-Disposition'] = %{attachment; filename=\"#{csv_filename}\"}\n  ....\n  def csv_filename\n    \"#{resource_collection_name.to_s.gsub('_', '-')}-#{Time.now.strftime(\"%Y-%m-%d\")}.csv\"\n  end\n```\n\nWhile Chrome will prompt the user to save the file without the header, Safari just displays the CSV content in the browser pane.  Restoring this header will cause Safari to save the file like you'd expect.  Plus, sending this header prepopulates the file save with a nicer filename.  Restoring this is pretty easy.\n\nDo you want me to send a pull request?\n","closed_by":{"login":"timoschilling","id":165599,"node_id":"MDQ6VXNlcjE2NTU5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/165599?v=4","gravatar_id":"","url":"https://api.github.com/users/timoschilling","html_url":"https://github.com/timoschilling","followers_url":"https://api.github.com/users/timoschilling/followers","following_url":"https://api.github.com/users/timoschilling/following{/other_user}","gists_url":"https://api.github.com/users/timoschilling/gists{/gist_id}","starred_url":"https://api.github.com/users/timoschilling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timoschilling/subscriptions","organizations_url":"https://api.github.com/users/timoschilling/orgs","repos_url":"https://api.github.com/users/timoschilling/repos","events_url":"https://api.github.com/users/timoschilling/events{/privacy}","received_events_url":"https://api.github.com/users/timoschilling/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/activeadmin/activeadmin/issues/3592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/activeadmin/activeadmin/issues/3592/timeline","performed_via_github_app":null,"state_reason":"completed"}