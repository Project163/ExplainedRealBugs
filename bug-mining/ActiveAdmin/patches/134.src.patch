diff --git a/lib/active_admin/filters/active_filter.rb b/lib/active_admin/filters/active_filter.rb
index 53136acf..5d4a2c1e 100644
--- a/lib/active_admin/filters/active_filter.rb
+++ b/lib/active_admin/filters/active_filter.rb
@@ -19,7 +19,7 @@ module ActiveAdmin
       def values
         condition_values = condition.values.map(&:value)
         if related_class
-          related_class.where(related_class.primary_key => condition_values)
+          related_class.where(related_primary_key => condition_values)
         else
           condition_values
         end
@@ -89,17 +89,35 @@ module ActiveAdmin
       def find_class
         if condition_attribute.klass != resource_class && condition_attribute.klass.primary_key == name.to_s
           condition_attribute.klass
-        else
-          assoc = condition_attribute.klass.reflect_on_all_associations.
-            reject { |r| r.options[:polymorphic] }. #skip polymorphic
-            detect { |r| r.foreign_key.to_s == name.to_s }
-          assoc.class_name.constantize if assoc
+        elsif predicate_association
+          predicate_association.class_name.constantize
         end
       end
 
       def filter
         resource.filters[name.to_sym]
       end
+
+      def related_primary_key
+        if predicate_association
+          predicate_association.active_record_primary_key
+        elsif related_class
+          related_class.primary_key
+        end
+      end
+
+      def predicate_association
+        @predicate_association = find_predicate_association unless defined?(@predicate_association)
+        @predicate_association
+      end
+
+      private
+
+      def find_predicate_association
+        condition_attribute.klass.reflect_on_all_associations.
+          reject { |r| r.options[:polymorphic] }. #skip polymorphic
+          detect { |r| r.foreign_key.to_s == name.to_s }
+      end
     end
   end
 end
diff --git a/spec/unit/filters/active_filter_spec.rb b/spec/unit/filters/active_filter_spec.rb
index 95fa06b8..cf9d09eb 100644
--- a/spec/unit/filters/active_filter_spec.rb
+++ b/spec/unit/filters/active_filter_spec.rb
@@ -153,4 +153,37 @@ RSpec.describe ActiveAdmin::Filters::ActiveFilter do
     end
   end
 
+  context "the association uses a different primary_key than the related class' primary_key" do
+    let (:resource_klass) {
+      Class.new(Post) do
+        belongs_to :kategory, class_name: "Category", primary_key: :name, foreign_key: :title
+
+        def self.name
+          "SuperPost"
+        end
+      end
+    }
+
+    let(:resource) do
+      namespace.register(resource_klass)
+    end
+
+    let(:user){ User.create! first_name: "John", last_name: "Doe" }
+    let!(:category){ Category.create! name: "Category" }
+
+    let(:post){ resource_klass.create! title: "Category", author: user }
+
+    let(:search) do
+      resource_klass.ransack(title_equals: post.title)
+    end
+
+    it "should use the association's primary key to find the associated record" do
+      allow(ActiveSupport::Dependencies).to receive(:constantize).with("::SuperPost").and_return(resource_klass)
+
+      resource.add_filter(:kategory)
+
+      expect(subject.values.first).to eq category
+    end
+  end
+
 end
