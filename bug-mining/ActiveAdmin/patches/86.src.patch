diff --git a/lib/active_admin/form_builder.rb b/lib/active_admin/form_builder.rb
index cc843b8b..7ac0269c 100644
--- a/lib/active_admin/form_builder.rb
+++ b/lib/active_admin/form_builder.rb
@@ -97,6 +97,7 @@ module ActiveAdmin
         inputs options, &form_block
 
         form_buffers.last << js_for_has_many(assoc, form_block, template, builder_options[:new_record]) if builder_options[:new_record]
+        form_buffers.last
       end
 
       form_buffers.last << if @already_in_an_inputs_block
diff --git a/spec/unit/form_builder_spec.rb b/spec/unit/form_builder_spec.rb
index d222e203..779524b5 100644
--- a/spec/unit/form_builder_spec.rb
+++ b/spec/unit/form_builder_spec.rb
@@ -359,6 +359,9 @@ describe ActiveAdmin::FormBuilder do
         body.should_not have_tag('a', 'Add New Post')
       end
 
+      it "should render the nested form" do
+        body.should have_tag("input", :attributes => {:name => "category[posts_attributes][0][title]"})
+      end
     end
 
     describe "with custom heading" do
