<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:13:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VALIDATOR-419] Invalid IPv6 addresses that are IPv4-mapped pass InetAddressValidator validation</title>
                <link>https://issues.apache.org/jira/browse/VALIDATOR-419</link>
                <project id="12310494" key="VALIDATOR">Commons Validator</project>
                    <description>&lt;p&gt;1) &lt;tt&gt;InetAddressValidator.getInstance().isValidInet6Address(String inet6Address)&lt;/tt&gt; returns &lt;tt&gt;true&lt;/tt&gt; for value &lt;tt&gt;0::ffff:192.168.1.1:192.168.1.1&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I believe this is due to wrong comparison operand in line #166 of InetAddressValidator: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (index &amp;gt; octets.length - 1 || index &amp;gt; 6) {  &lt;span class=&quot;code-comment&quot;&gt;// CHECKSTYLE IGNORE MagicNumber
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// IPV4 occupies last two octets
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;&lt;tt&gt;index &amp;gt; octets.length - 1&lt;/tt&gt; expression will never be true inside cycle &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index = 0; index &amp;lt; octets.length; index++)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) According to &lt;a href=&quot;https://tools.ietf.org/html/rfc4291&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc4291&lt;/a&gt; IPv6 address that is IPv4-mapped must start with five zero octets followed by one &lt;tt&gt;ffff&lt;/tt&gt; octet. Current implementation of InetAddressValidator does not check this. E.g. &lt;tt&gt;1::2:192.168.1.1&lt;/tt&gt; is considered valid.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13042954">VALIDATOR-419</key>
            <summary>Invalid IPv6 addresses that are IPv4-mapped pass InetAddressValidator validation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Denis Iskhakov">Denis Iskhakov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Feb 2017 14:18:29 +0000</created>
                <updated>Wed, 22 Feb 2017 16:36:26 +0000</updated>
                            <resolved>Tue, 14 Feb 2017 21:28:37 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Routines</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15866472" author="sebb@apache.org" created="Tue, 14 Feb 2017 19:37:13 +0000"  >&lt;p&gt;Agreed, the code allows IPV4 syntax other than in the last chunk.&lt;/p&gt;</comment>
                            <comment id="15866674" author="sebb@apache.org" created="Tue, 14 Feb 2017 21:06:57 +0000"  >&lt;p&gt;Regarding description point 2):&lt;/p&gt;

&lt;p&gt;InetAddress.getByName() permits IPv4 with various leading prefixes.&lt;/p&gt;

&lt;p&gt;Also note that RFC 6052 includes examples &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; such as&lt;/p&gt;

&lt;p&gt;64:ff9b::192.0.2.33 &lt;br/&gt;
2001:db8:122:344::192.0.2.33  &lt;/p&gt;

&lt;p&gt;Therefore Validator should not reject such addresses.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://tools.ietf.org/html/rfc6052#section-2.4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc6052#section-2.4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15866723" author="sebb@apache.org" created="Tue, 14 Feb 2017 21:28:37 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1783032&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1783032&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-419&quot; title=&quot;Invalid IPv6 addresses that are IPv4-mapped pass InetAddressValidator validation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-419&quot;&gt;&lt;del&gt;VALIDATOR-419&lt;/del&gt;&lt;/a&gt; Invalid IPv6 addresses that are IPv4-mapped pass InetAddressValidator validation&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/validator/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/InetAddressValidator.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/InetAddressValidatorTest.java&lt;/p&gt;</comment>
                            <comment id="15867590" author="denis iskhakov" created="Wed, 15 Feb 2017 10:18:59 +0000"  >&lt;p&gt;Thank you for the fix.&lt;/p&gt;

&lt;p&gt;You are right about various prefixes. Description point 2) is not valid.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a27r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>