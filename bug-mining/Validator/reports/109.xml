<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:13:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VALIDATOR-302] EMailValidator: Addresses with leading spaces must not be accepted</title>
                <link>https://issues.apache.org/jira/browse/VALIDATOR-302</link>
                <project id="12310494" key="VALIDATOR">Commons Validator</project>
                    <description>&lt;p&gt;    @Test&lt;br/&gt;
    public void testEmailValidatorBug() {&lt;br/&gt;
        // The commons validator class accepts an address with an leading whitespace which seams to be a bug.&lt;br/&gt;
        boolean shouldBe = false;&lt;br/&gt;
        boolean isActual = true;&lt;br/&gt;
        String eMail = &quot; user@foo.com&quot;;&lt;br/&gt;
        logger.debug(&quot;{} is {}&quot;, eMail, validator.isValid(eMail) ? &quot;valid&quot; : &quot;invalid&quot;);&lt;br/&gt;
        assertThat(&quot;Check failed for &quot; + eMail, validator.isValid(eMail), is(isActual));&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12536489">VALIDATOR-302</key>
            <summary>EMailValidator: Addresses with leading spaces must not be accepted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mehrcurry">Guido Zockoll</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Dec 2011 10:36:24 +0000</created>
                <updated>Sat, 8 Aug 2020 11:55:41 +0000</updated>
                            <resolved>Sat, 20 Jun 2020 19:53:31 +0000</resolved>
                                                    <fixVersion>1.7</fixVersion>
                                    <component>Routines</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13254505" author="kinow" created="Mon, 16 Apr 2012 04:23:56 +0000"  >&lt;p&gt;Hi there, &lt;/p&gt;

&lt;p&gt;I have started using Apache Commons Validator in a new project, and I&apos;m reading the code and issues. I read the code base and some specs to check if there was anything mentioning leading spaces. Here&apos;s what I found so far: &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;EmailValidatorTest tests &apos;new ResultPair(&quot; abigail@example.com&quot;, true),&apos; and mentions RFC 822.&lt;/li&gt;
	&lt;li&gt;I couldn&apos;t find in RFC822 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; whether this is legal or illegal&lt;/li&gt;
	&lt;li&gt;RFC 5322, appendix 5 &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; says it&apos;s fine to have spaces: &quot;The above example is aesthetically displeasing, but perfectly legal. (...) , and the folding white space before and after &quot;joe@example.org,&quot;&quot;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It&apos;s not permitted to have leading spaces between @, and it&apos;s being validated correctly in the current API&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;RFC 5322, section 3.4.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;: Comments and folding white space SHOULD NOT be used around the &quot;@&quot; in the addr-spec.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If this behavior is changed, tests would have to be updated as well. The current behavior is the same as Perl&apos;s Email::Valid module &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I would go with letting the called code decide whether to trim the address or not. This way the Validator API would say that the address is fine, and then the mailer-tool would have to extract the mailbox name from the e-mail address. I believe most tools would execute a trim in the e-mail given before inserting the e-mail address in a database or so. &lt;/p&gt;

&lt;p&gt;Just my 0.02 cents &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.ietf.org/rfc/rfc0822.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc0822.txt&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://tools.ietf.org/html/rfc5322#appendix-A.5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tools.ietf.org/html/rfc5322#appendix-A.5&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://tools.ietf.org/html/rfc5322#section-3.4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tools.ietf.org/html/rfc5322#section-3.4.1&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://search.cpan.org/search?mode=module&amp;amp;query=Email%3A%3AValid&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.cpan.org/search?mode=module&amp;amp;query=Email%3A%3AValid&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14264124" author="sebb@apache.org" created="Mon, 5 Jan 2015 01:18:50 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; above is referring to spaces between tokens in fields. It does not say spaces are part of the fields.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; above says&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;addr-spec       =   local-part &quot;@&quot; domain&lt;br/&gt;
local-part      =   dot-atom / quoted-string / obs-local-part&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;None of the local-part options allow a space.&lt;/p&gt;

&lt;p&gt;So I am inclined to agree that a space is not allowed in an email address (unless the local-part is a quoted string).&lt;br/&gt;
In any case, leading spaces are not allowed.&lt;/p&gt;</comment>
                            <comment id="17141181" author="sebb@apache.org" created="Sat, 20 Jun 2020 19:53:32 +0000"  >&lt;p&gt;Fixed by &lt;font color=&quot;#222222&quot;&gt;a3c5da2&#160; &lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-302&quot; title=&quot;EMailValidator: Addresses with leading spaces must not be accepted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-302&quot;&gt;&lt;del&gt;VALIDATOR-302&lt;/del&gt;&lt;/a&gt;/449 Email leading &amp;amp; trailing spaces&lt;/font&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13200119">VALIDATOR-449</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>222172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0spiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>