<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:13:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VALIDATOR-330] IbanCheckDigit.isValid() returns True for some invalid IBANs</title>
                <link>https://issues.apache.org/jira/browse/VALIDATOR-330</link>
                <project id="12310494" key="VALIDATOR">Commons Validator</project>
                    <description>&lt;p&gt;For example, isValid() returns True for both of these IBANs; &quot;IE01AIBK93118702569045&quot; and &quot;IE98AIBK93118702569045&quot;.  The &quot;IE98&quot; version is the correct one (confirmed with online checkers, which also fail the &quot;IE01&quot; version).&lt;/p&gt;

&lt;p&gt;calculate() correctly returns &quot;98&quot;.  As a workaround I&apos;m calling calculate() and comparing the result with the checksum in the original IBAN.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691998">VALIDATOR-330</key>
            <summary>IbanCheckDigit.isValid() returns True for some invalid IBANs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pshawe">Peter Shawe</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 10:37:51 +0000</created>
                <updated>Mon, 23 Nov 2015 23:24:35 +0000</updated>
                            <resolved>Tue, 10 Nov 2015 01:01:47 +0000</resolved>
                                    <version>1.4.0 Release</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Routines</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13885309" author="sebb@apache.org" created="Wed, 29 Jan 2014 12:55:23 +0000"  >&lt;p&gt;I can confirm there&apos;s something rather odd happening here.&lt;br/&gt;
It should not be possible for both 01 and 98 to be correct, yet both return true from isValid.&lt;/p&gt;</comment>
                            <comment id="13885351" author="sebb@apache.org" created="Wed, 29 Jan 2014 13:52:05 +0000"  >&lt;p&gt;Doh! &lt;br/&gt;
Of course 98 and 01 are return the same remainder - they differ by the modulus which is 97.&lt;br/&gt;
There would be the same problem with 97 and 00.&lt;/p&gt;

&lt;p&gt;However, the check digit is supposed to be the number modulus 97 subtracted from 98.&lt;br/&gt;
Since mod 97 is in the range 0-96, the check digits must be in the range 98,97...02.&lt;br/&gt;
i.e. 01 and 02 are not valid as check digits.&lt;/p&gt;

&lt;p&gt;The code does not check this currently. &lt;br/&gt;
Nor does it check the length or format of the IBAN.&lt;/p&gt;</comment>
                            <comment id="13885444" author="sebb@apache.org" created="Wed, 29 Jan 2014 15:48:42 +0000"  >&lt;p&gt;In theory it is quite easy to check for invalid check digits (must be numeric, and in range 02-98)&lt;/p&gt;

&lt;p&gt;Some countries use fixed numbers for the check digits (e.g. because their national code already includes a similar check digit scheme).&lt;br/&gt;
Unfortunately it appears that Jordan has decided to use 99 as the fixed numbers - this would require special treatment.&lt;/p&gt;

&lt;p&gt;Further research is needed to determine whether there are any other anomalies (e.g. non-numeric check digits?).&lt;/p&gt;

&lt;p&gt;Also, should the validation method treat &quot;impossible&quot; check digits as merely incorrect, or should they be treated as invalid characters, in which case an Exception is thrown?&lt;/p&gt;</comment>
                            <comment id="13885509" author="sebb@apache.org" created="Wed, 29 Jan 2014 16:46:46 +0000"  >&lt;p&gt;Further research shows that the JO99 examples are not actually valid &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; examples.&lt;/p&gt;

&lt;p&gt;It appears that 01,02, and 99 are not specifically excluded by the standard as check digits &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;But assuming that implementations all follow the spirit of the standard it would be possible to check the digits.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.swift.com/dsp/resources/documents/IBAN_Registry.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.swift.com/dsp/resources/documents/IBAN_Registry.pdf&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://en.wikipedia.org/wiki/International_Bank_Account_Number#Generating_IBAN_check_digits&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/International_Bank_Account_Number#Generating_IBAN_check_digits&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13885531" author="pshawe" created="Wed, 29 Jan 2014 17:07:28 +0000"  >&lt;p&gt;My understanding is that any implementation that doesn&apos;t follow the relevant ISO standards (covered in the linked IBAN_Registry.pdf above) should be considered invalid.  SWIFT maintain the registry and as such they are the official &quot;gatekeepers&quot; of standards compliance. &lt;/p&gt;</comment>
                            <comment id="13885555" author="sebb@apache.org" created="Wed, 29 Jan 2014 17:21:58 +0000"  >&lt;p&gt;I have not seen the ISO standard (it is not available for free), but the Wikipedia article states that it does not specifcally exclude the use of 00,01 and 99 as check digits.&lt;/p&gt;

&lt;p&gt;The SWIFT document does not say much about how the check digits are calculated.&lt;/p&gt;

&lt;p&gt;So it may be that using 00 instead of 97 would not contradict the standard.&lt;br/&gt;
I just don&apos;t know for sure.&lt;/p&gt;

&lt;p&gt;The SWIFT document does imply that the check digits must be numeric.&lt;/p&gt;</comment>
                            <comment id="14997755" author="sebb@apache.org" created="Tue, 10 Nov 2015 00:46:55 +0000"  >&lt;p&gt;The European Payments Council provide a document &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; which says:&lt;/p&gt;

&lt;p&gt;&quot;Calculate the modulo 97 and subtract the remainder from 98&quot;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.europeanpaymentscouncil.eu/documents/ECBS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.europeanpaymentscouncil.eu/documents/ECBS&lt;/a&gt; IBAN standard EBS204_V3.2.pdf&lt;/p&gt;</comment>
                            <comment id="14997763" author="sebb@apache.org" created="Tue, 10 Nov 2015 01:01:47 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1713572&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1713572&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-330&quot; title=&quot;IbanCheckDigit.isValid() returns True for some invalid IBANs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-330&quot;&gt;&lt;del&gt;VALIDATOR-330&lt;/del&gt;&lt;/a&gt; IBANCheckDigit.isValid() returns True for some invalid IBANs&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/checkdigit/IBANCheckDigit.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/checkdigit/IBANCheckDigitTest.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rvdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>