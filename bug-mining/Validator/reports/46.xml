<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:13:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VALIDATOR-334] UrlValidator: isValidAuthority() returning true when supplied authority validator fails</title>
                <link>https://issues.apache.org/jira/browse/VALIDATOR-334</link>
                <project id="12310494" key="VALIDATOR">Commons Validator</project>
                    <description>&lt;p&gt;When UrlValidator is supplied an authority validator, if the authority fails the authority validator, but is an otherwise valid authority, the UrlValidator reports the URL is valid. Here is a test case:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testUrlValidator() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; regex = &lt;span class=&quot;code-quote&quot;&gt;&quot;.*amazon\\.com&quot;&lt;/span&gt;;
        RegexValidator authorityValidator = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RegexValidator(regex);
        UrlValidator validator = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UrlValidator(authorityValidator, UrlValidator.ALLOW_ALL_SCHEMES);

        assertThat(&lt;span class=&quot;code-quote&quot;&gt;&quot;amazon.com&quot;&lt;/span&gt;, Pattern.matches(regex, &lt;span class=&quot;code-quote&quot;&gt;&quot;amazon.com&quot;&lt;/span&gt;), is(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;));
        assertThat(&lt;span class=&quot;code-quote&quot;&gt;&quot;google.com&quot;&lt;/span&gt;, Pattern.matches(regex, &lt;span class=&quot;code-quote&quot;&gt;&quot;google.com&quot;&lt;/span&gt;), is(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;));

        assertThat(&lt;span class=&quot;code-quote&quot;&gt;&quot;amazon.com&quot;&lt;/span&gt;, authorityValidator.isValid(&lt;span class=&quot;code-quote&quot;&gt;&quot;amazon.com&quot;&lt;/span&gt;), is(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;));
        assertThat(&lt;span class=&quot;code-quote&quot;&gt;&quot;google.com&quot;&lt;/span&gt;, authorityValidator.isValid(&lt;span class=&quot;code-quote&quot;&gt;&quot;google.com&quot;&lt;/span&gt;), is(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;));

        assertThat(&lt;span class=&quot;code-quote&quot;&gt;&quot;amazon.com&quot;&lt;/span&gt;, validator.isValid(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//amazon.com/somepath&quot;&lt;/span&gt;), is(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;));
&lt;/span&gt;        assertThat(&lt;span class=&quot;code-quote&quot;&gt;&quot;google.com&quot;&lt;/span&gt;, validator.isValid(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//google.com/somepath&quot;&lt;/span&gt;), is(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;));   // fails
&lt;/span&gt;    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It appears that UrlAuthority.isValidAuthority() will return true if the URL passes the authorityValidator (line 365). But if the URL fails the authorityValidator, it can still pass the other validation checks. Shouldn&apos;t the validation fail if the URL fails the authorityValidator, regardless if it is an otherwise valid authority?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703659">VALIDATOR-334</key>
            <summary>UrlValidator: isValidAuthority() returning true when supplied authority validator fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fransonsr">Scott Franson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 05:51:27 +0000</created>
                <updated>Tue, 13 Jan 2015 20:02:29 +0000</updated>
                            <resolved>Sat, 3 Jan 2015 10:50:03 +0000</resolved>
                                    <version>1.4.0 Release</version>
                                    <fixVersion>1.4.1 Release</fixVersion>
                                    <component>Routines</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14263386" author="sebb@apache.org" created="Sat, 3 Jan 2015 02:26:38 +0000"  >&lt;p&gt;The code was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-248&quot; title=&quot;Add an option to allow &amp;#39;localhost&amp;#39; as a valid hostname part in the URL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-248&quot;&gt;&lt;del&gt;VALIDATOR-248&lt;/del&gt;&lt;/a&gt; as a way to allow authority overrides.&lt;/p&gt;

&lt;p&gt;So I think it is behaving correctly, but I agree the Javadoc does not make it clear what the function of the regex is&lt;/p&gt;</comment>
                            <comment id="14263491" author="sebb@apache.org" created="Sat, 3 Jan 2015 10:50:04 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649186&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-334&quot; title=&quot;UrlValidator: isValidAuthority() returning true when supplied authority validator fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-334&quot;&gt;&lt;del&gt;VALIDATOR-334&lt;/del&gt;&lt;/a&gt; - UrlValidator: isValidAuthority() returning true when supplied authority validator fails&lt;br/&gt;
Clarified documentation: validator is intended as an override&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/validator/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/UrlValidator.java&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12381947">VALIDATOR-248</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tt9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>