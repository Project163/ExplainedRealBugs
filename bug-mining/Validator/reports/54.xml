<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:13:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VALIDATOR-306] DomainValidator accepts labels longer than 63 chars and domain name lengths exceeding 255 chars</title>
                <link>https://issues.apache.org/jira/browse/VALIDATOR-306</link>
                <project id="12310494" key="VALIDATOR">Commons Validator</project>
                    <description>&lt;p&gt;DomainValidator accepts labels longer than 63 chars and domain lengths that exceed 255 characters.&lt;/p&gt;

&lt;p&gt;Field max lengths are specified in &lt;a href=&quot;http://www.ietf.org/rfc/rfc1034.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1034.txt&lt;/a&gt; section 3.&lt;/p&gt;

&lt;p&gt;Example string: &lt;/p&gt;

&lt;p&gt;ssdfsdfsdsdfssdsdfsdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfssdfsdfsdsdfssdsdfss.com&lt;/p&gt;

&lt;p&gt;1.3.1 crashes at least when called form EmailValidator&lt;br/&gt;
current 1.4.1-SNAPSHOT thinks it&apos;s ok&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545809">VALIDATOR-306</key>
            <summary>DomainValidator accepts labels longer than 63 chars and domain name lengths exceeding 255 chars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jtimonen">Jukka Timonen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Mar 2012 11:14:14 +0000</created>
                <updated>Tue, 13 Jan 2015 20:02:27 +0000</updated>
                            <resolved>Mon, 5 Jan 2015 00:12:59 +0000</resolved>
                                    <version>1.4.0 Release</version>
                                    <fixVersion>1.4.1 Release</fixVersion>
                                    <component>Routines</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13226023" author="simone.tripodi" created="Fri, 9 Mar 2012 11:25:11 +0000"  >&lt;p&gt;did you try to test it against 1.4.0, that is the lates released?&lt;br/&gt;
TIA&lt;/p&gt;</comment>
                            <comment id="13226027" author="jtimonen" created="Fri, 9 Mar 2012 11:36:59 +0000"  >&lt;p&gt;yep, tested also with 1.4.0&lt;/p&gt;</comment>
                            <comment id="13226033" author="simone.tripodi" created="Fri, 9 Mar 2012 11:45:58 +0000"  >&lt;p&gt;OK, ack - can you provide a testcase with a fix proposal please? TIA!&lt;/p&gt;</comment>
                            <comment id="14261528" author="sebb@apache.org" created="Tue, 30 Dec 2014 21:37:56 +0000"  >&lt;p&gt;RFC1034 says:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Each node has a label, which is zero to 63 octets in length.&lt;br/&gt;
...&lt;br/&gt;
Internally, programs that manipulate domain names should represent them&lt;br/&gt;
as sequences of labels, where each label is a length octet followed by&lt;br/&gt;
an octet string.  Because all domain names end at the root, which has a&lt;br/&gt;
null string for a label, these internal representations can use a length&lt;br/&gt;
byte of zero to terminate a domain name.&lt;br/&gt;
...&lt;br/&gt;
To simplify implementations, the total number of octets that represent a&lt;br/&gt;
domain name (i.e., the sum of all label octets and label lengths) is&lt;br/&gt;
limited to 255.&lt;/p&gt;&lt;/blockquote&gt; 

&lt;p&gt;The code does not currently limit the length of labels, nor does it limit the overall length.&lt;/p&gt;

&lt;p&gt;The above quote does not express the limit in terms of names expressed as a sequence of dot-separated labels, which is what the validator operates on.&lt;/p&gt;

&lt;p&gt;I think the max length of a dotted address is less than 255 in order to allow representation within 255 octets.&lt;br/&gt;
Consider the dotted name string a.b.c&lt;br/&gt;
This is of length 5.&lt;br/&gt;
However, in terms of RFC1034, it has 3 labels + 3 length octets + 1 null byte terminator, i.e. a total of 7 octets.&lt;/p&gt;

&lt;p&gt;So I think the maximum allowed dotted string length is actually 253.&lt;/p&gt;

&lt;p&gt;This agrees with Wikipedia&lt;br/&gt;
&lt;a href=&quot;http://en.wikipedia.org/wiki/Hostname&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/Hostname&lt;/a&gt;&lt;br/&gt;
which links to&lt;br/&gt;
&lt;a href=&quot;http://blogs.msdn.com/b/oldnewthing/archive/2012/04/12/10292868.aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blogs.msdn.com/b/oldnewthing/archive/2012/04/12/10292868.aspx&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14264110" author="sebb@apache.org" created="Mon, 5 Jan 2015 00:12:59 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649446&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649446&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-306&quot; title=&quot;DomainValidator accepts labels longer than 63 chars and domain name lengths exceeding 255 chars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-306&quot;&gt;&lt;del&gt;VALIDATOR-306&lt;/del&gt;&lt;/a&gt; - DomainValidator accepts labels longer than 63 chars and domain name lengths exceeding 255 chars&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/validator/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/DomainValidator.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/DomainValidatorTest.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/UrlValidatorTest.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sphz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>