<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:12:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VALIDATOR-276] isValidURL call returns false for file scheme/protocol when URL is correct</title>
                <link>https://issues.apache.org/jira/browse/VALIDATOR-276</link>
                <project id="12310494" key="VALIDATOR">Commons Validator</project>
                    <description>&lt;p&gt;Validate a URL using the file scheme/protocol for a file on a local Linux filesystem returns false. An extensive set of tests can be found here: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12410671/12410671_URLTest.java&quot; title=&quot;URLTest.java attached to VALIDATOR-276&quot;&gt;URLTest.java&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The following code snippet is a quick proof-of-concept:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;import org.apache.commons.validator.UrlValidator;

class URLTest {

	public static void main(String[] args) {
		String url = &quot;file:///etc/hosts&quot;;
		UrlValidator urlValidator = new UrlValidator(new String[] {&quot;http&quot;, &quot;https&quot;, &quot;ftp&quot;, &quot;gopher&quot;, &quot;file&quot;});
		boolean result = urlValidator.isValid(url);
		System.out.println(String.format(&quot;URL &apos;%s&apos; is valid: %s&quot;, url, result));
	}

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This issue occurs whether the scheme String[] constructor or the ALLOW_ALL_SCHEMES equivalent is used.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux prometheus 2.6.26-1-amd64 #1 SMP Fri Mar 13 17:46:45 UTC 2009 x86_64 GNU/Linux, Debian sid&lt;/p&gt;</environment>
        <key id="12427833">VALIDATOR-276</key>
            <summary>isValidURL call returns false for file scheme/protocol when URL is correct</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="atc">atc</reporter>
                        <labels>
                    </labels>
                <created>Sun, 14 Jun 2009 13:43:50 +0000</created>
                <updated>Thu, 30 Jan 2014 13:53:48 +0000</updated>
                            <resolved>Fri, 27 May 2011 20:31:25 +0000</resolved>
                                    <version>1.3.1 Release</version>
                                    <fixVersion>1.4.0 Release</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12719274" author="atc" created="Sun, 14 Jun 2009 15:06:11 +0000"  >&lt;p&gt;JDK version: 1.6.0_14&lt;/p&gt;</comment>
                            <comment id="12719562" author="atc" created="Mon, 15 Jun 2009 13:58:15 +0000"  >&lt;p&gt;This small app (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12410671/12410671_URLTest.java&quot; title=&quot;URLTest.java attached to VALIDATOR-276&quot;&gt;URLTest.java&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;) runs numerous tests, all of which should yield true but don&apos;t. I ran these with the following JARs:&lt;br/&gt;
commons-validator-1.3.1.jar&lt;br/&gt;
jakarta-oro-2.0.8.jar&lt;/p&gt;</comment>
                            <comment id="12998936" author="apache_bugzilla@zwiers.ca" created="Thu, 24 Feb 2011 17:04:51 +0000"  >&lt;p&gt;Even creating the UrlValidator as new UrlValidator( new String[]&lt;/p&gt;
{&quot;file&quot;}
&lt;p&gt;, UrlValidator.ALLOW_2_SLASHES) does not allow URI using the file scheme to be validated property.&lt;/p&gt;

&lt;p&gt;Generally, the above test cases fail on the Authority.  &lt;/p&gt;

&lt;p&gt;The validator requires an Authority (which it considers the start of the path name in at least some of the cases, empty in others) whereas RFC-2396 states that it&apos;s optional for some schemes (of which &quot;file&quot; would be one).&lt;/p&gt;</comment>
                            <comment id="13040418" author="gagravarr" created="Fri, 27 May 2011 20:31:25 +0000"  >&lt;p&gt;Should be fixed in r1128446.&lt;/p&gt;

&lt;p&gt;If you create your validator as:&lt;br/&gt;
   validator = new UrlValidator(new String[] &lt;/p&gt;
{&quot;http&quot;,&quot;file&quot;}
&lt;p&gt;, UrlValidator.ALLOW_LOCAL_URLS);&lt;/p&gt;

&lt;p&gt;You can then correctly validate things like &lt;a href=&quot;file:///etc/hosts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///etc/hosts&lt;/a&gt; and &lt;a href=&quot;file:///c:/windows/hosts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///c:/windows/hosts&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410671" name="URLTest.java" size="1622" author="atc" created="Mon, 15 Jun 2009 13:58:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0spnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>