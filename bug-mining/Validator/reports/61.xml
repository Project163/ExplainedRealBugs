<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:13:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VALIDATOR-235] UrlValidator rejects url with Unicode characters in domain label or TLD</title>
                <link>https://issues.apache.org/jira/browse/VALIDATOR-235</link>
                <project id="12310494" key="VALIDATOR">Commons Validator</project>
                    <description>&lt;p&gt;e.g. &lt;a href=&quot;http://www.d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.d&lt;/a&gt;&#252;sseldorf.de/&lt;/p&gt;</description>
                <environment></environment>
        <key id="12376069">VALIDATOR-235</key>
            <summary>UrlValidator rejects url with Unicode characters in domain label or TLD</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brianpreuss@gmx.de">Brian Preu&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Aug 2007 16:23:54 +0000</created>
                <updated>Tue, 13 Jan 2015 20:02:24 +0000</updated>
                            <resolved>Tue, 6 Jan 2015 02:42:02 +0000</resolved>
                                    <version>1.3.1 Release</version>
                                    <fixVersion>1.4.1 Release</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12522089" author="bayard" created="Thu, 23 Aug 2007 10:28:24 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://nic.switch.ch/reg/ocView.action;jsessionid=C9792D1DD1EEC514FED06EA802FEF76B?activeNode=ab385e6b-1260-11db-84af-2d71486d3aa8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nic.switch.ch/reg/ocView.action;jsessionid=C9792D1DD1EEC514FED06EA802FEF76B?activeNode=ab385e6b-1260-11db-84af-2d71486d3aa8&lt;/a&gt; for info on umlauts and other characters now being allowed in domain names.&lt;/p&gt;</comment>
                            <comment id="12970094" author="arytov" created="Fri, 10 Dec 2010 07:24:33 +0000"  >&lt;p&gt;Umlauts parsed as punycode, so you must use UrlValidation.isValid(java.net.IDN.toASCII(host));&lt;/p&gt;</comment>
                            <comment id="13158329" author="ebagdemir" created="Mon, 28 Nov 2011 10:13:30 +0000"  >&lt;p&gt;java.net.IDN is since 1.6. &lt;br/&gt;
&lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1.3.1 requires Java 1.4+ not 1.6+. &lt;br/&gt;
A compatibility upgrade of commons-validator is required. &lt;/p&gt;</comment>
                            <comment id="14263505" author="sebb@apache.org" created="Sat, 3 Jan 2015 11:48:46 +0000"  >&lt;p&gt;AFAICT it&apos;s not actually necessary to convert umlauts to Punycode in order to validate them.&lt;br/&gt;
It should be enough to check that any non-ASCII characters are valid&lt;/p&gt;</comment>
                            <comment id="14264062" author="sebb@apache.org" created="Sun, 4 Jan 2015 22:17:38 +0000"  >&lt;p&gt;There are two parts to this.&lt;/p&gt;

&lt;p&gt;1) Syntax validation.&lt;br/&gt;
At present the Regex does not allow Unicode characters, because they are not permitted by RFC3986&lt;/p&gt;

&lt;p&gt;2) Domain validation&lt;br/&gt;
At present the Unicode versions of TLDs are not included in the DomainValidator tables, and the code does not convert Unicode domains to punycode in order to check against the punycode entries.&lt;br/&gt;
There is no point doing either of these until the Regex issues are sorted.&lt;/p&gt;

&lt;p&gt;Presumably the intention is to extend RFC3986 so that Alpha characters can now include Unicode characters.&lt;br/&gt;
Similarly for Alphanumerics. But there may be some exceptions. Need the relevant RFCs.&lt;/p&gt;</comment>
                            <comment id="14264601" author="sebb@apache.org" created="Mon, 5 Jan 2015 14:00:51 +0000"  >&lt;p&gt;Two possible approaches to implementing this:&lt;/p&gt;

&lt;p&gt;1) Use java.net.IDN.toAscii() to convert the input to ASCII.&lt;br/&gt;
The advantage is that the existing REs and TLDs will then work with no further change&lt;br/&gt;
However that requires Java 1.6 at run time, and at compile time unless reflection is used.&lt;/p&gt;

&lt;p&gt;2) Update the Regexes to allow Unicode alphabetic and numeric characters where appropriate, and include the set of Unicode TLDs in the list.&lt;br/&gt;
This will work with Java 1.4 (compile and run).&lt;br/&gt;
The disadvantage is that it requires more data storage, and it&apos;s possible that the REs won&apos;t exactly match the allowable range of Unicode characters.&lt;/p&gt;</comment>
                            <comment id="14265590" author="sebb@apache.org" created="Tue, 6 Jan 2015 02:42:02 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649698&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649698&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-235&quot; title=&quot;UrlValidator rejects url with Unicode characters in domain label or TLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-235&quot;&gt;&lt;del&gt;VALIDATOR-235&lt;/del&gt;&lt;/a&gt; UrlValidator rejects url with Unicode characters in domain label or TLD&lt;br/&gt;
Initial implementation; needs tidying up&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/DomainValidator.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/DomainValidatorTest.java&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649703&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649703&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
Tidy up&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/DomainValidator.java&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649721&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649721&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-235&quot; title=&quot;UrlValidator rejects url with Unicode characters in domain label or TLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-235&quot;&gt;&lt;del&gt;VALIDATOR-235&lt;/del&gt;&lt;/a&gt; UrlValidator rejects url with Unicode characters in domain label or TLD&lt;br/&gt;
Add URL test and fix up domain so it works&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/DomainValidator.java&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/UrlValidator.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/UrlValidatorTest.java&lt;/p&gt;


&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649722&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649722&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-235&quot; title=&quot;UrlValidator rejects url with Unicode characters in domain label or TLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-235&quot;&gt;&lt;del&gt;VALIDATOR-235&lt;/del&gt;&lt;/a&gt; UrlValidator rejects url with Unicode characters in domain label or TLD&lt;br/&gt;
Seems to be OK now, update changes&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/validator/trunk/src/changes/changes.xml&lt;/p&gt;
</comment>
                            <comment id="14265973" author="sebb@apache.org" created="Tue, 6 Jan 2015 11:32:44 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649783&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649783&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-235&quot; title=&quot;UrlValidator rejects url with Unicode characters in domain label or TLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-235&quot;&gt;&lt;del&gt;VALIDATOR-235&lt;/del&gt;&lt;/a&gt; UrlValidator rejects url with Unicode characters in domain label or TLD&lt;br/&gt;
Check total length after conversion - URLs must be equally reachable in punycode and Unicode&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/DomainValidator.java&lt;/p&gt;</comment>
                            <comment id="14266690" author="sebb@apache.org" created="Tue, 6 Jan 2015 20:20:15 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649927&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-235&quot; title=&quot;UrlValidator rejects url with Unicode characters in domain label or TLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-235&quot;&gt;&lt;del&gt;VALIDATOR-235&lt;/del&gt;&lt;/a&gt; UrlValidator rejects url with Unicode characters in domain label or TLD&lt;br/&gt;
Allow IDN domains for EmailValidator&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/EmailValidator.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/EmailValidatorTest.java&lt;/p&gt;


&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1649932&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649932&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VALIDATOR-235&quot; title=&quot;UrlValidator rejects url with Unicode characters in domain label or TLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VALIDATOR-235&quot;&gt;&lt;del&gt;VALIDATOR-235&lt;/del&gt;&lt;/a&gt; UrlValidator rejects url with Unicode characters in domain label or TLD&lt;br/&gt;
Allow IDN domains for all schemes&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/validator/trunk/src/main/java/org/apache/commons/validator/routines/UrlValidator.java&lt;br/&gt;
    commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/routines/UrlValidatorTest.java&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12492729">VALIDATOR-290</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>198717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0spvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>