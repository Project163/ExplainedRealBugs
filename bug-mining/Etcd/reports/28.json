{"url":"https://api.github.com/repos/etcd-io/etcd/issues/13015","repository_url":"https://api.github.com/repos/etcd-io/etcd","labels_url":"https://api.github.com/repos/etcd-io/etcd/issues/13015/labels{/name}","comments_url":"https://api.github.com/repos/etcd-io/etcd/issues/13015/comments","events_url":"https://api.github.com/repos/etcd-io/etcd/issues/13015/events","html_url":"https://github.com/etcd-io/etcd/issues/13015","id":896713513,"node_id":"MDU6SXNzdWU4OTY3MTM1MTM=","number":13015,"title":"Replace internal testutil AssertEqual function in favour of github.com/stretchr/testify/assert.Equals","user":{"login":"lilic","id":6232346,"node_id":"MDQ6VXNlcjYyMzIzNDY=","avatar_url":"https://avatars.githubusercontent.com/u/6232346?v=4","gravatar_id":"","url":"https://api.github.com/users/lilic","html_url":"https://github.com/lilic","followers_url":"https://api.github.com/users/lilic/followers","following_url":"https://api.github.com/users/lilic/following{/other_user}","gists_url":"https://api.github.com/users/lilic/gists{/gist_id}","starred_url":"https://api.github.com/users/lilic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lilic/subscriptions","organizations_url":"https://api.github.com/users/lilic/orgs","repos_url":"https://api.github.com/users/lilic/repos","events_url":"https://api.github.com/users/lilic/events{/privacy}","received_events_url":"https://api.github.com/users/lilic/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":159103993,"node_id":"MDU6TGFiZWwxNTkxMDM5OTM=","url":"https://api.github.com/repos/etcd-io/etcd/labels/help%20wanted","name":"help wanted","color":"d3f49c","default":true,"description":""},{"id":1096800490,"node_id":"MDU6TGFiZWwxMDk2ODAwNDkw","url":"https://api.github.com/repos/etcd-io/etcd/labels/good%20first%20issue","name":"good first issue","color":"ededed","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-20T11:57:33Z","updated_at":"2021-05-21T09:30:08Z","closed_at":"2021-05-21T09:30:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"etcd in tests to assert equality uses mixed https://github.com/stretchr/testify/assert and etcd' own `testutil.AssertEqual` function. This issue suggests using `github.com/stretchr/testify/assert.Equals` everywhere and removing `testutil.AssertEqual` function.\r\n\r\nExample of what we want everywhere: https://github.com/etcd-io/etcd/blob/e2d67f2e3bfa6f72178e26557bb22cc1482c418c/server/datadir/datadir_test.go#L12\r\n\r\nThe goal is that testutil package to remove is https://github.com/etcd-io/etcd/blob/e299264cf3d93c88c69421adf6b994dafac5ec24/client/pkg/testutil/assert.go#L23 and replace with `assert.Equals` where it is called.\r\n\r\nSee the background for this in https://github.com/etcd-io/etcd/pull/13011#discussion_r635865695. ","closed_by":{"login":"ptabor","id":11505763,"node_id":"MDQ6VXNlcjExNTA1NzYz","avatar_url":"https://avatars.githubusercontent.com/u/11505763?v=4","gravatar_id":"","url":"https://api.github.com/users/ptabor","html_url":"https://github.com/ptabor","followers_url":"https://api.github.com/users/ptabor/followers","following_url":"https://api.github.com/users/ptabor/following{/other_user}","gists_url":"https://api.github.com/users/ptabor/gists{/gist_id}","starred_url":"https://api.github.com/users/ptabor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptabor/subscriptions","organizations_url":"https://api.github.com/users/ptabor/orgs","repos_url":"https://api.github.com/users/ptabor/repos","events_url":"https://api.github.com/users/ptabor/events{/privacy}","received_events_url":"https://api.github.com/users/ptabor/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/etcd-io/etcd/issues/13015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/etcd-io/etcd/issues/13015/timeline","performed_via_github_app":null,"state_reason":"completed"}