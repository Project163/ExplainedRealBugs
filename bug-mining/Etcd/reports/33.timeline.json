[{"id":4997656643,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ5OTc2NTY2NDM=","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/4997656643","actor":{"login":"yishuT","id":1139565,"node_id":"MDQ6VXNlcjExMzk1NjU=","avatar_url":"https://avatars.githubusercontent.com/u/1139565?v=4","gravatar_id":"","url":"https://api.github.com/users/yishuT","html_url":"https://github.com/yishuT","followers_url":"https://api.github.com/users/yishuT/followers","following_url":"https://api.github.com/users/yishuT/following{/other_user}","gists_url":"https://api.github.com/users/yishuT/gists{/gist_id}","starred_url":"https://api.github.com/users/yishuT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yishuT/subscriptions","organizations_url":"https://api.github.com/users/yishuT/orgs","repos_url":"https://api.github.com/users/yishuT/repos","events_url":"https://api.github.com/users/yishuT/events{/privacy}","received_events_url":"https://api.github.com/users/yishuT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"30d678db16652450c1bc4e67fad1b8977a3d32d8","commit_url":"https://api.github.com/repos/yishuT/etcd/commits/30d678db16652450c1bc4e67fad1b8977a3d32d8","created_at":"2021-07-08T23:50:48Z","performed_via_github_app":null},{"actor":{"login":"yishuT","id":1139565,"node_id":"MDQ6VXNlcjExMzk1NjU=","avatar_url":"https://avatars.githubusercontent.com/u/1139565?v=4","gravatar_id":"","url":"https://api.github.com/users/yishuT","html_url":"https://github.com/yishuT","followers_url":"https://api.github.com/users/yishuT/followers","following_url":"https://api.github.com/users/yishuT/following{/other_user}","gists_url":"https://api.github.com/users/yishuT/gists{/gist_id}","starred_url":"https://api.github.com/users/yishuT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yishuT/subscriptions","organizations_url":"https://api.github.com/users/yishuT/orgs","repos_url":"https://api.github.com/users/yishuT/repos","events_url":"https://api.github.com/users/yishuT/events{/privacy}","received_events_url":"https://api.github.com/users/yishuT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T03:13:42Z","updated_at":"2021-07-09T03:13:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/etcd-io/etcd/issues/13203","repository_url":"https://api.github.com/repos/etcd-io/etcd","labels_url":"https://api.github.com/repos/etcd-io/etcd/issues/13203/labels{/name}","comments_url":"https://api.github.com/repos/etcd-io/etcd/issues/13203/comments","events_url":"https://api.github.com/repos/etcd-io/etcd/issues/13203/events","html_url":"https://github.com/etcd-io/etcd/pull/13203","id":940375907,"node_id":"MDExOlB1bGxSZXF1ZXN0Njg2NDU2NTM4","number":13203,"title":"client: call .Endpoints() in dial() in client/v3/client.go instead of accessing cfg.Endpoints directly","user":{"login":"yishuT","id":1139565,"node_id":"MDQ6VXNlcjExMzk1NjU=","avatar_url":"https://avatars.githubusercontent.com/u/1139565?v=4","gravatar_id":"","url":"https://api.github.com/users/yishuT","html_url":"https://github.com/yishuT","followers_url":"https://api.github.com/users/yishuT/followers","following_url":"https://api.github.com/users/yishuT/following{/other_user}","gists_url":"https://api.github.com/users/yishuT/gists{/gist_id}","starred_url":"https://api.github.com/users/yishuT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yishuT/subscriptions","organizations_url":"https://api.github.com/users/yishuT/orgs","repos_url":"https://api.github.com/users/yishuT/repos","events_url":"https://api.github.com/users/yishuT/events{/privacy}","received_events_url":"https://api.github.com/users/yishuT/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-07-09T03:13:42Z","updated_at":"2025-10-15T10:58:22Z","closed_at":"2021-07-29T04:06:58Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":11225014,"node_id":"MDEwOlJlcG9zaXRvcnkxMTIyNTAxNA==","name":"etcd","full_name":"etcd-io/etcd","private":false,"owner":{"login":"etcd-io","id":41972792,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQxOTcyNzky","avatar_url":"https://avatars.githubusercontent.com/u/41972792?v=4","gravatar_id":"","url":"https://api.github.com/users/etcd-io","html_url":"https://github.com/etcd-io","followers_url":"https://api.github.com/users/etcd-io/followers","following_url":"https://api.github.com/users/etcd-io/following{/other_user}","gists_url":"https://api.github.com/users/etcd-io/gists{/gist_id}","starred_url":"https://api.github.com/users/etcd-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/etcd-io/subscriptions","organizations_url":"https://api.github.com/users/etcd-io/orgs","repos_url":"https://api.github.com/users/etcd-io/repos","events_url":"https://api.github.com/users/etcd-io/events{/privacy}","received_events_url":"https://api.github.com/users/etcd-io/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/etcd-io/etcd","description":"Distributed reliable key-value store for the most critical data of a distributed system","fork":false,"url":"https://api.github.com/repos/etcd-io/etcd","forks_url":"https://api.github.com/repos/etcd-io/etcd/forks","keys_url":"https://api.github.com/repos/etcd-io/etcd/keys{/key_id}","collaborators_url":"https://api.github.com/repos/etcd-io/etcd/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/etcd-io/etcd/teams","hooks_url":"https://api.github.com/repos/etcd-io/etcd/hooks","issue_events_url":"https://api.github.com/repos/etcd-io/etcd/issues/events{/number}","events_url":"https://api.github.com/repos/etcd-io/etcd/events","assignees_url":"https://api.github.com/repos/etcd-io/etcd/assignees{/user}","branches_url":"https://api.github.com/repos/etcd-io/etcd/branches{/branch}","tags_url":"https://api.github.com/repos/etcd-io/etcd/tags","blobs_url":"https://api.github.com/repos/etcd-io/etcd/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/etcd-io/etcd/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/etcd-io/etcd/git/refs{/sha}","trees_url":"https://api.github.com/repos/etcd-io/etcd/git/trees{/sha}","statuses_url":"https://api.github.com/repos/etcd-io/etcd/statuses/{sha}","languages_url":"https://api.github.com/repos/etcd-io/etcd/languages","stargazers_url":"https://api.github.com/repos/etcd-io/etcd/stargazers","contributors_url":"https://api.github.com/repos/etcd-io/etcd/contributors","subscribers_url":"https://api.github.com/repos/etcd-io/etcd/subscribers","subscription_url":"https://api.github.com/repos/etcd-io/etcd/subscription","commits_url":"https://api.github.com/repos/etcd-io/etcd/commits{/sha}","git_commits_url":"https://api.github.com/repos/etcd-io/etcd/git/commits{/sha}","comments_url":"https://api.github.com/repos/etcd-io/etcd/comments{/number}","issue_comment_url":"https://api.github.com/repos/etcd-io/etcd/issues/comments{/number}","contents_url":"https://api.github.com/repos/etcd-io/etcd/contents/{+path}","compare_url":"https://api.github.com/repos/etcd-io/etcd/compare/{base}...{head}","merges_url":"https://api.github.com/repos/etcd-io/etcd/merges","archive_url":"https://api.github.com/repos/etcd-io/etcd/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/etcd-io/etcd/downloads","issues_url":"https://api.github.com/repos/etcd-io/etcd/issues{/number}","pulls_url":"https://api.github.com/repos/etcd-io/etcd/pulls{/number}","milestones_url":"https://api.github.com/repos/etcd-io/etcd/milestones{/number}","notifications_url":"https://api.github.com/repos/etcd-io/etcd/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/etcd-io/etcd/labels{/name}","releases_url":"https://api.github.com/repos/etcd-io/etcd/releases{/id}","deployments_url":"https://api.github.com/repos/etcd-io/etcd/deployments","created_at":"2013-07-06T21:57:21Z","updated_at":"2025-11-09T18:54:09Z","pushed_at":"2025-11-09T18:54:04Z","git_url":"git://github.com/etcd-io/etcd.git","ssh_url":"git@github.com:etcd-io/etcd.git","clone_url":"https://github.com/etcd-io/etcd.git","svn_url":"https://github.com/etcd-io/etcd","homepage":"https://etcd.io","size":93104,"stargazers_count":50733,"watchers_count":50733,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":10207,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":225,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cncf","consensus","database","distributed-database","distributed-systems","etcd","go","key-value","kubernetes","raft"],"visibility":"public","forks":10207,"open_issues":225,"watchers":50733,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/etcd-io/etcd/pulls/13203","html_url":"https://github.com/etcd-io/etcd/pull/13203","diff_url":"https://github.com/etcd-io/etcd/pull/13203.diff","patch_url":"https://github.com/etcd-io/etcd/pull/13203.patch","merged_at":"2021-07-29T04:06:58Z"},"body":"https://github.com/etcd-io/etcd/blob/0cdd558361c6bdbbd9e4023558e2f6ece71c18ad/client/v3/client.go#L299 accesses\r\nendpoints without acquiring lock. Fix it to call Endpoints()\r\n\r\nFix #13201\r\n","reactions":{"url":"https://api.github.com/repos/etcd-io/etcd/issues/13203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/etcd-io/etcd/issues/13203/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":5077053836,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNzcwNTM4MzY=","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/5077053836","actor":{"login":"yishuT","id":1139565,"node_id":"MDQ6VXNlcjExMzk1NjU=","avatar_url":"https://avatars.githubusercontent.com/u/1139565?v=4","gravatar_id":"","url":"https://api.github.com/users/yishuT","html_url":"https://github.com/yishuT","followers_url":"https://api.github.com/users/yishuT/followers","following_url":"https://api.github.com/users/yishuT/following{/other_user}","gists_url":"https://api.github.com/users/yishuT/gists{/gist_id}","starred_url":"https://api.github.com/users/yishuT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yishuT/subscriptions","organizations_url":"https://api.github.com/users/yishuT/orgs","repos_url":"https://api.github.com/users/yishuT/repos","events_url":"https://api.github.com/users/yishuT/events{/privacy}","received_events_url":"https://api.github.com/users/yishuT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"77a5072b696f62826b42b6c508d07ae47cf40ff6","commit_url":"https://api.github.com/repos/yishuT/etcd/commits/77a5072b696f62826b42b6c508d07ae47cf40ff6","created_at":"2021-07-27T22:56:46Z","performed_via_github_app":null},{"id":5083662851,"node_id":"MDExOkNsb3NlZEV2ZW50NTA4MzY2Mjg1MQ==","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/5083662851","actor":{"login":"spzala","id":6462877,"node_id":"MDQ6VXNlcjY0NjI4Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/6462877?v=4","gravatar_id":"","url":"https://api.github.com/users/spzala","html_url":"https://github.com/spzala","followers_url":"https://api.github.com/users/spzala/followers","following_url":"https://api.github.com/users/spzala/following{/other_user}","gists_url":"https://api.github.com/users/spzala/gists{/gist_id}","starred_url":"https://api.github.com/users/spzala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spzala/subscriptions","organizations_url":"https://api.github.com/users/spzala/orgs","repos_url":"https://api.github.com/users/spzala/repos","events_url":"https://api.github.com/users/spzala/events{/privacy}","received_events_url":"https://api.github.com/users/spzala/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-07-29T04:06:58Z","state_reason":null,"performed_via_github_app":null},{"id":5283523627,"node_id":"REFE_lADOAKtHts44C9F3zwAAAAE67Cwr","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/5283523627","actor":{"login":"LeoYang90","id":16485583,"node_id":"MDQ6VXNlcjE2NDg1NTgz","avatar_url":"https://avatars.githubusercontent.com/u/16485583?v=4","gravatar_id":"","url":"https://api.github.com/users/LeoYang90","html_url":"https://github.com/LeoYang90","followers_url":"https://api.github.com/users/LeoYang90/followers","following_url":"https://api.github.com/users/LeoYang90/following{/other_user}","gists_url":"https://api.github.com/users/LeoYang90/gists{/gist_id}","starred_url":"https://api.github.com/users/LeoYang90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeoYang90/subscriptions","organizations_url":"https://api.github.com/users/LeoYang90/orgs","repos_url":"https://api.github.com/users/LeoYang90/repos","events_url":"https://api.github.com/users/LeoYang90/events{/privacy}","received_events_url":"https://api.github.com/users/LeoYang90/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"111cf6e0dcbed8a637b202e276d946a2e0d82c23","commit_url":"https://api.github.com/repos/LeoYang90/etcd/commits/111cf6e0dcbed8a637b202e276d946a2e0d82c23","created_at":"2021-09-10T09:52:27Z","performed_via_github_app":null},{"id":5542838931,"node_id":"REFE_lADOAKtHts44C9F3zwAAAAFKYQKT","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/5542838931","actor":{"login":"wilsonwang371","id":3913185,"node_id":"MDQ6VXNlcjM5MTMxODU=","avatar_url":"https://avatars.githubusercontent.com/u/3913185?v=4","gravatar_id":"","url":"https://api.github.com/users/wilsonwang371","html_url":"https://github.com/wilsonwang371","followers_url":"https://api.github.com/users/wilsonwang371/followers","following_url":"https://api.github.com/users/wilsonwang371/following{/other_user}","gists_url":"https://api.github.com/users/wilsonwang371/gists{/gist_id}","starred_url":"https://api.github.com/users/wilsonwang371/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilsonwang371/subscriptions","organizations_url":"https://api.github.com/users/wilsonwang371/orgs","repos_url":"https://api.github.com/users/wilsonwang371/repos","events_url":"https://api.github.com/users/wilsonwang371/events{/privacy}","received_events_url":"https://api.github.com/users/wilsonwang371/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0cc313bba1a1632f4eba1c036728c7d497863dc7","commit_url":"https://api.github.com/repos/wilsonwang371/etcd/commits/0cc313bba1a1632f4eba1c036728c7d497863dc7","created_at":"2021-10-29T21:16:34Z","performed_via_github_app":null},{"id":5563863123,"node_id":"REFE_lADOAKtHts44C9F3zwAAAAFLodBT","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/5563863123","actor":{"login":"wilsonwang371","id":3913185,"node_id":"MDQ6VXNlcjM5MTMxODU=","avatar_url":"https://avatars.githubusercontent.com/u/3913185?v=4","gravatar_id":"","url":"https://api.github.com/users/wilsonwang371","html_url":"https://github.com/wilsonwang371","followers_url":"https://api.github.com/users/wilsonwang371/followers","following_url":"https://api.github.com/users/wilsonwang371/following{/other_user}","gists_url":"https://api.github.com/users/wilsonwang371/gists{/gist_id}","starred_url":"https://api.github.com/users/wilsonwang371/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilsonwang371/subscriptions","organizations_url":"https://api.github.com/users/wilsonwang371/orgs","repos_url":"https://api.github.com/users/wilsonwang371/repos","events_url":"https://api.github.com/users/wilsonwang371/events{/privacy}","received_events_url":"https://api.github.com/users/wilsonwang371/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"667bafa5b385e358a1ba51c63f6ede079616f73a","commit_url":"https://api.github.com/repos/wilsonwang371/etcd/commits/667bafa5b385e358a1ba51c63f6ede079616f73a","created_at":"2021-11-03T18:03:14Z","performed_via_github_app":null},{"actor":{"login":"okJiang","id":23556834,"node_id":"MDQ6VXNlcjIzNTU2ODM0","avatar_url":"https://avatars.githubusercontent.com/u/23556834?v=4","gravatar_id":"","url":"https://api.github.com/users/okJiang","html_url":"https://github.com/okJiang","followers_url":"https://api.github.com/users/okJiang/followers","following_url":"https://api.github.com/users/okJiang/following{/other_user}","gists_url":"https://api.github.com/users/okJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/okJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/okJiang/subscriptions","organizations_url":"https://api.github.com/users/okJiang/orgs","repos_url":"https://api.github.com/users/okJiang/repos","events_url":"https://api.github.com/users/okJiang/events{/privacy}","received_events_url":"https://api.github.com/users/okJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T06:16:39Z","updated_at":"2021-12-10T06:16:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pingcap/tiflow/issues/3800","repository_url":"https://api.github.com/repos/pingcap/tiflow","labels_url":"https://api.github.com/repos/pingcap/tiflow/issues/3800/labels{/name}","comments_url":"https://api.github.com/repos/pingcap/tiflow/issues/3800/comments","events_url":"https://api.github.com/repos/pingcap/tiflow/issues/3800/events","html_url":"https://github.com/pingcap/tiflow/pull/3800","id":1074999029,"node_id":"PR_kwDODAH3lM4vlXRy","number":3800,"title":"test(dm): fix testServer.TestServer data race","user":{"login":"Ehco1996","id":24697284,"node_id":"MDQ6VXNlcjI0Njk3Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/24697284?v=4","gravatar_id":"","url":"https://api.github.com/users/Ehco1996","html_url":"https://github.com/Ehco1996","followers_url":"https://api.github.com/users/Ehco1996/followers","following_url":"https://api.github.com/users/Ehco1996/following{/other_user}","gists_url":"https://api.github.com/users/Ehco1996/gists{/gist_id}","starred_url":"https://api.github.com/users/Ehco1996/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ehco1996/subscriptions","organizations_url":"https://api.github.com/users/Ehco1996/orgs","repos_url":"https://api.github.com/users/Ehco1996/repos","events_url":"https://api.github.com/users/Ehco1996/events{/privacy}","received_events_url":"https://api.github.com/users/Ehco1996/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2199736802,"node_id":"MDU6TGFiZWwyMTk5NzM2ODAy","url":"https://api.github.com/repos/pingcap/tiflow/labels/status/LGT2","name":"status/LGT2","color":"00ff00","default":false,"description":"Indicates that a PR has LGTM 2."},{"id":2199739952,"node_id":"MDU6TGFiZWwyMTk5NzM5OTUy","url":"https://api.github.com/repos/pingcap/tiflow/labels/status/can-merge","name":"status/can-merge","color":"0ffa16","default":false,"description":"Indicates a PR has been approved by a committer."},{"id":2865409876,"node_id":"MDU6TGFiZWwyODY1NDA5ODc2","url":"https://api.github.com/repos/pingcap/tiflow/labels/size/M","name":"size/M","color":"eebb00","default":false,"description":"Denotes a PR that changes 30-99 lines, ignoring generated files."},{"id":3206603026,"node_id":"MDU6TGFiZWwzMjA2NjAzMDI2","url":"https://api.github.com/repos/pingcap/tiflow/labels/release-note-none","name":"release-note-none","color":"c2e0c6","default":false,"description":"Denotes a PR that doesn't merit a release note."},{"id":3498276405,"node_id":"LA_kwDODAH3lM7Qg3Y1","url":"https://api.github.com/repos/pingcap/tiflow/labels/area/dm","name":"area/dm","color":"d1fad7","default":false,"description":"Issues or PRs related to DM."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":21,"created_at":"2021-12-09T01:15:05Z","updated_at":"2021-12-20T01:13:25Z","closed_at":"2021-12-14T00:06:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":201455508,"node_id":"MDEwOlJlcG9zaXRvcnkyMDE0NTU1MDg=","name":"tiflow","full_name":"pingcap/tiflow","private":false,"owner":{"login":"pingcap","id":11855343,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExODU1MzQz","avatar_url":"https://avatars.githubusercontent.com/u/11855343?v=4","gravatar_id":"","url":"https://api.github.com/users/pingcap","html_url":"https://github.com/pingcap","followers_url":"https://api.github.com/users/pingcap/followers","following_url":"https://api.github.com/users/pingcap/following{/other_user}","gists_url":"https://api.github.com/users/pingcap/gists{/gist_id}","starred_url":"https://api.github.com/users/pingcap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pingcap/subscriptions","organizations_url":"https://api.github.com/users/pingcap/orgs","repos_url":"https://api.github.com/users/pingcap/repos","events_url":"https://api.github.com/users/pingcap/events{/privacy}","received_events_url":"https://api.github.com/users/pingcap/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pingcap/tiflow","description":"This repo maintains DM (a data migration platform) and TiCDC (change data capture for TiDB)","fork":false,"url":"https://api.github.com/repos/pingcap/tiflow","forks_url":"https://api.github.com/repos/pingcap/tiflow/forks","keys_url":"https://api.github.com/repos/pingcap/tiflow/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pingcap/tiflow/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pingcap/tiflow/teams","hooks_url":"https://api.github.com/repos/pingcap/tiflow/hooks","issue_events_url":"https://api.github.com/repos/pingcap/tiflow/issues/events{/number}","events_url":"https://api.github.com/repos/pingcap/tiflow/events","assignees_url":"https://api.github.com/repos/pingcap/tiflow/assignees{/user}","branches_url":"https://api.github.com/repos/pingcap/tiflow/branches{/branch}","tags_url":"https://api.github.com/repos/pingcap/tiflow/tags","blobs_url":"https://api.github.com/repos/pingcap/tiflow/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pingcap/tiflow/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pingcap/tiflow/git/refs{/sha}","trees_url":"https://api.github.com/repos/pingcap/tiflow/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pingcap/tiflow/statuses/{sha}","languages_url":"https://api.github.com/repos/pingcap/tiflow/languages","stargazers_url":"https://api.github.com/repos/pingcap/tiflow/stargazers","contributors_url":"https://api.github.com/repos/pingcap/tiflow/contributors","subscribers_url":"https://api.github.com/repos/pingcap/tiflow/subscribers","subscription_url":"https://api.github.com/repos/pingcap/tiflow/subscription","commits_url":"https://api.github.com/repos/pingcap/tiflow/commits{/sha}","git_commits_url":"https://api.github.com/repos/pingcap/tiflow/git/commits{/sha}","comments_url":"https://api.github.com/repos/pingcap/tiflow/comments{/number}","issue_comment_url":"https://api.github.com/repos/pingcap/tiflow/issues/comments{/number}","contents_url":"https://api.github.com/repos/pingcap/tiflow/contents/{+path}","compare_url":"https://api.github.com/repos/pingcap/tiflow/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pingcap/tiflow/merges","archive_url":"https://api.github.com/repos/pingcap/tiflow/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pingcap/tiflow/downloads","issues_url":"https://api.github.com/repos/pingcap/tiflow/issues{/number}","pulls_url":"https://api.github.com/repos/pingcap/tiflow/pulls{/number}","milestones_url":"https://api.github.com/repos/pingcap/tiflow/milestones{/number}","notifications_url":"https://api.github.com/repos/pingcap/tiflow/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pingcap/tiflow/labels{/name}","releases_url":"https://api.github.com/repos/pingcap/tiflow/releases{/id}","deployments_url":"https://api.github.com/repos/pingcap/tiflow/deployments","created_at":"2019-08-09T11:34:44Z","updated_at":"2025-10-31T06:00:57Z","pushed_at":"2025-10-31T06:00:54Z","git_url":"git://github.com/pingcap/tiflow.git","ssh_url":"git@github.com:pingcap/tiflow.git","clone_url":"https://github.com/pingcap/tiflow.git","svn_url":"https://github.com/pingcap/tiflow","homepage":"","size":162200,"stargazers_count":447,"watchers_count":447,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":292,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":857,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cdc","dm","kafka","mysql","ticdc","tidb"],"visibility":"public","forks":292,"open_issues":857,"watchers":447,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pingcap/tiflow/pulls/3800","html_url":"https://github.com/pingcap/tiflow/pull/3800","diff_url":"https://github.com/pingcap/tiflow/pull/3800.diff","patch_url":"https://github.com/pingcap/tiflow/pull/3800.patch","merged_at":"2021-12-14T00:06:35Z"},"body":"<!--\r\nThank you for contributing to TiDB-CDC! Please read MD's [CONTRIBUTING](https://github.com/pingcap/tidb-cdc/blob/master/CONTRIBUTING.md) document **BEFORE** filing this PR.\r\n-->\r\n\r\n### What problem does this PR solve? <!--add issue link with summary if exists-->\r\nclose https://github.com/pingcap/ticdc/issues/3791\r\n\r\n### What is changed and how it works?\r\n\r\n`syncMasterEndpoints` use `SetEndpoints` to update master endpoints and this cause data-race with `ha.keepalive` which call `clientv3.(*Client).Endpoints()`\r\n\r\ndatarace line `clientURLs = append(clientURLs, m.GetClientURLs()...)` is not protected by client's mutex\r\n\r\nso use `clientv3.(*Client).autoSync()` to update endpoints\r\n\r\n### Check List <!--REMOVE the items that are not applicable-->\r\n\r\nTests <!-- At least one of them must be included. -->\r\n\r\n - Unit test\r\n\r\n\r\nCode changes\r\n\r\n\r\nSide effects\r\n\r\n\r\nRelated changes\r\n\r\n\r\n### Release note <!-- bugfixes or new feature need a release note -->\r\n\r\n```release-note\r\n`None`.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/pingcap/tiflow/issues/3800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pingcap/tiflow/issues/3800/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":10823410631,"node_id":"REFE_lADOAKtHts44C9F3zwAAAAKFICPH","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/10823410631","actor":{"login":"chaochn47","id":54131596,"node_id":"MDQ6VXNlcjU0MTMxNTk2","avatar_url":"https://avatars.githubusercontent.com/u/54131596?v=4","gravatar_id":"","url":"https://api.github.com/users/chaochn47","html_url":"https://github.com/chaochn47","followers_url":"https://api.github.com/users/chaochn47/followers","following_url":"https://api.github.com/users/chaochn47/following{/other_user}","gists_url":"https://api.github.com/users/chaochn47/gists{/gist_id}","starred_url":"https://api.github.com/users/chaochn47/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaochn47/subscriptions","organizations_url":"https://api.github.com/users/chaochn47/orgs","repos_url":"https://api.github.com/users/chaochn47/repos","events_url":"https://api.github.com/users/chaochn47/events{/privacy}","received_events_url":"https://api.github.com/users/chaochn47/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"de5cc666a9a34f097f226012060c846811a9491c","commit_url":"https://api.github.com/repos/chaochn47/etcd/commits/de5cc666a9a34f097f226012060c846811a9491c","created_at":"2023-10-31T16:36:34Z","performed_via_github_app":null},{"id":10823443091,"node_id":"REFE_lADOAKtHts44C9F3zwAAAAKFIKKT","url":"https://api.github.com/repos/etcd-io/etcd/issues/events/10823443091","actor":{"login":"chaochn47","id":54131596,"node_id":"MDQ6VXNlcjU0MTMxNTk2","avatar_url":"https://avatars.githubusercontent.com/u/54131596?v=4","gravatar_id":"","url":"https://api.github.com/users/chaochn47","html_url":"https://github.com/chaochn47","followers_url":"https://api.github.com/users/chaochn47/followers","following_url":"https://api.github.com/users/chaochn47/following{/other_user}","gists_url":"https://api.github.com/users/chaochn47/gists{/gist_id}","starred_url":"https://api.github.com/users/chaochn47/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaochn47/subscriptions","organizations_url":"https://api.github.com/users/chaochn47/orgs","repos_url":"https://api.github.com/users/chaochn47/repos","events_url":"https://api.github.com/users/chaochn47/events{/privacy}","received_events_url":"https://api.github.com/users/chaochn47/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"055b6d7b19944fed615f317f3b901e7698c941a5","commit_url":"https://api.github.com/repos/chaochn47/etcd/commits/055b6d7b19944fed615f317f3b901e7698c941a5","created_at":"2023-10-31T16:39:28Z","performed_via_github_app":null}]