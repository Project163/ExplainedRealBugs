{"url":"https://api.github.com/repos/zaproxy/zaproxy/issues/6265","repository_url":"https://api.github.com/repos/zaproxy/zaproxy","labels_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/6265/labels{/name}","comments_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/6265/comments","events_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/6265/events","html_url":"https://github.com/zaproxy/zaproxy/issues/6265","id":731510500,"node_id":"MDU6SXNzdWU3MzE1MTA1MDA=","number":6265,"title":"Exception while loading session in weeklies","user":{"login":"hnestorova","id":30794708,"node_id":"MDQ6VXNlcjMwNzk0NzA4","avatar_url":"https://avatars.githubusercontent.com/u/30794708?v=4","gravatar_id":"","url":"https://api.github.com/users/hnestorova","html_url":"https://github.com/hnestorova","followers_url":"https://api.github.com/users/hnestorova/followers","following_url":"https://api.github.com/users/hnestorova/following{/other_user}","gists_url":"https://api.github.com/users/hnestorova/gists{/gist_id}","starred_url":"https://api.github.com/users/hnestorova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hnestorova/subscriptions","organizations_url":"https://api.github.com/users/hnestorova/orgs","repos_url":"https://api.github.com/users/hnestorova/repos","events_url":"https://api.github.com/users/hnestorova/events{/privacy}","received_events_url":"https://api.github.com/users/hnestorova/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":220063774,"node_id":"MDU6TGFiZWwyMjAwNjM3NzQ=","url":"https://api.github.com/repos/zaproxy/zaproxy/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":268967616,"node_id":"MDU6TGFiZWwyNjg5Njc2MTY=","url":"https://api.github.com/repos/zaproxy/zaproxy/labels/weekly","name":"weekly","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":true,"assignee":{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":9,"created_at":"2020-10-28T14:45:44Z","updated_at":"2021-07-12T09:06:07Z","closed_at":"2020-11-03T09:32:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nWe run our recorded clean sessions using Jenkins and get the error below . This is not the case before we upgraded \r\n\r\n**To Reproduce**\r\nFrom the Jenkins console:\r\n```\r\n16:31:31 65740 [ZAP-ProxyThread-2] ERROR org.parosproxy.paros.model.SiteMap - null\r\n16:31:31 java.lang.NullPointerException: null\r\n16:31:31 \tat org.parosproxy.paros.network.HttpRequestHeader.setMethod(HttpRequestHeader.java:325) ~[zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.model.Session.getLeafName(Session.java:1733) ~[zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.model.SiteMap.findNode(SiteMap.java:279) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.model.SiteMap.findNode(SiteMap.java:248) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.checkNode(Context.java:634) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.restructureSiteTreeEventHandler(Context.java:608) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.model.Context.restructureSiteTree(Context.java:588) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.model.Session.open(Session.java:535) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.model.Model.openSession(Model.java:143) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.control.Control.runCommandLineOpenSession(Control.java:430) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.extension.api.CoreAPI.handleApiAction(CoreAPI.java:586) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.zaproxy.zap.extension.api.API.handleApiRequest(API.java:506) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.core.proxy.ProxyThread.processHttp(ProxyThread.java:499) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat org.parosproxy.paros.core.proxy.ProxyThread.run(ProxyThread.java:335) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n16:31:31 \tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n```\r\n\r\n**Expected behavior**\r\nNo such errors\r\n\r\n**Software versions**\r\nOfficial OWASP ZAP Jenkins Plugin - 1.1.0\r\nZAP D-2020-10-20\r\nBrowser: Chrome\r\n\r\n**Errors from the zap.log file**\r\n```\r\n2020-10-28 16:30:34,054 [ZAP-daemon] INFO  ExtensionCallback - Started callback server on 0.0.0.0:49443\r\n2020-10-28 16:30:34,407 [ZAP-daemon] INFO  DaemonBootstrap - ZAP is now listening on 127.0.0.1:8090\r\n2020-10-28 16:30:34,946 [ZAP-ProxyThread-2] INFO  ENGINE - dataFileCache commit start\r\n2020-10-28 16:30:34,947 [ZAP-ProxyThread-2] INFO  ENGINE - dataFileCache commit end\r\n2020-10-28 16:30:34,953 [ZAP-ProxyThread-2] INFO  ENGINE - Database closed\r\n2020-10-28 16:30:35,142 [ZAP-ProxyThread-2] INFO  ENGINE - dataFileCache open start\r\n2020-10-28 16:30:35,146 [ZAP-ProxyThread-2] INFO  ENGINE - dataFileCache open end\r\n2020-10-28 16:31:11,061 [ZAP-ProxyThread-2] ERROR SiteMap - null\r\njava.lang.NullPointerException: null\r\n\tat org.parosproxy.paros.network.HttpRequestHeader.setMethod(HttpRequestHeader.java:325) ~[zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.model.Session.getLeafName(Session.java:1733) ~[zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.model.SiteMap.findNode(SiteMap.java:279) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.model.SiteMap.findNode(SiteMap.java:248) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.model.Context.checkNode(Context.java:634) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.model.Context.checkNode(Context.java:618) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.model.Context.restructureSiteTreeEventHandler(Context.java:608) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.model.Context.restructureSiteTree(Context.java:588) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.model.Session.open(Session.java:535) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.model.Model.openSession(Model.java:143) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.control.Control.runCommandLineOpenSession(Control.java:430) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.extension.api.CoreAPI.handleApiAction(CoreAPI.java:586) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.zaproxy.zap.extension.api.API.handleApiRequest(API.java:506) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.core.proxy.ProxyThread.processHttp(ProxyThread.java:499) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat org.parosproxy.paros.core.proxy.ProxyThread.run(ProxyThread.java:335) [zap-D-2020-10-20.jar:D-2020-10-20]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n2020-10-28 16:31:11,158 [ZAP-ProxyThread-2] ERROR SiteMap - null\r\njava.lang.NullPointerException: null\r\n\tat org.parosproxy.paros.network.HttpRequestHeader.setMethod(HttpRequestHeader.java:325) ~[zap-D-2020-10-20.jar:D-2020-10-20]\r\n```\r\n\r\n**Would you like to help fix this issue?**\r\nJust say if you'd like to try and help fix this issue. We'll provide any advice and guidance you need.","closed_by":{"login":"psiinon","id":1081115,"node_id":"MDQ6VXNlcjEwODExMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1081115?v=4","gravatar_id":"","url":"https://api.github.com/users/psiinon","html_url":"https://github.com/psiinon","followers_url":"https://api.github.com/users/psiinon/followers","following_url":"https://api.github.com/users/psiinon/following{/other_user}","gists_url":"https://api.github.com/users/psiinon/gists{/gist_id}","starred_url":"https://api.github.com/users/psiinon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psiinon/subscriptions","organizations_url":"https://api.github.com/users/psiinon/orgs","repos_url":"https://api.github.com/users/psiinon/repos","events_url":"https://api.github.com/users/psiinon/events{/privacy}","received_events_url":"https://api.github.com/users/psiinon/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/zaproxy/zaproxy/issues/6265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/6265/timeline","performed_via_github_app":null,"state_reason":"completed"}