{"url":"https://api.github.com/repos/zaproxy/zaproxy/issues/8533","repository_url":"https://api.github.com/repos/zaproxy/zaproxy","labels_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/8533/labels{/name}","comments_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/8533/comments","events_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/8533/events","html_url":"https://github.com/zaproxy/zaproxy/issues/8533","id":2376041201,"node_id":"I_kwDOAjHKnc6Nn4Lx","number":8533,"title":"Issue re-loading passive scan rules on add-on upgrade","user":{"login":"kingthorin","id":7570458,"node_id":"MDQ6VXNlcjc1NzA0NTg=","avatar_url":"https://avatars.githubusercontent.com/u/7570458?v=4","gravatar_id":"","url":"https://api.github.com/users/kingthorin","html_url":"https://github.com/kingthorin","followers_url":"https://api.github.com/users/kingthorin/followers","following_url":"https://api.github.com/users/kingthorin/following{/other_user}","gists_url":"https://api.github.com/users/kingthorin/gists{/gist_id}","starred_url":"https://api.github.com/users/kingthorin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingthorin/subscriptions","organizations_url":"https://api.github.com/users/kingthorin/orgs","repos_url":"https://api.github.com/users/kingthorin/repos","events_url":"https://api.github.com/users/kingthorin/events{/privacy}","received_events_url":"https://api.github.com/users/kingthorin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":220063774,"node_id":"MDU6TGFiZWwyMjAwNjM3NzQ=","url":"https://api.github.com/repos/zaproxy/zaproxy/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":true,"assignee":{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/zaproxy/zaproxy/milestones/12","html_url":"https://github.com/zaproxy/zaproxy/milestone/12","labels_url":"https://api.github.com/repos/zaproxy/zaproxy/milestones/12/labels","id":10780624,"node_id":"MI_kwDOAjHKnc4ApH_Q","number":12,"title":"2.16.0","description":"","creator":{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":38,"state":"closed","created_at":"2024-04-05T13:57:53Z","updated_at":"2025-01-21T15:18:42Z","due_on":null,"closed_at":"2025-01-21T15:18:42Z"},"comments":1,"created_at":"2024-06-26T18:45:09Z","updated_at":"2024-09-26T01:31:59Z","closed_at":"2024-06-27T09:46:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\n<details>\r\n<summary>Relevant stack trace from zap.log</summary>\r\n\r\n    2024-06-26 12:51:30,663 [ZAP-cfu] INFO  ExtensionAutoUpdate - There is/are 2 newer addons\r\n    2024-06-26 12:51:36,464 [ZAP-DownloadInstaller] INFO  ExtensionAutoUpdate - Installing new addon webdriverlinux v93.0.0\r\n    2024-06-26 12:51:36,886 [ZAP-DownloadInstaller] INFO  ExtensionAutoUpdate - Finished installing new addon webdriverlinux v93.0.0\r\n    2024-06-26 12:51:37,094 [ZAP-DownloadInstaller] INFO  ExtensionAutoUpdate - Installing new addon selenium v15.26.0\r\n    2024-06-26 12:51:37,569 [ZAP-DownloadInstaller] WARN  PassiveScannerList - A scan rule with the name \"Authentication Request Identified\" already exists. The rule \"org.zaproxy.addon.authhelper.AuthenticationDetectionScanRule\" will not be loaded.\r\n    2024-06-26 12:51:37,570 [ZAP-DownloadInstaller] ERROR ExtensionPassiveScan - Failed to install pscanrule: org.zaproxy.addon.authhelper.AuthenticationDetectionScanRule\r\n    2024-06-26 12:51:37,570 [ZAP-DownloadInstaller] WARN  PassiveScannerList - A scan rule with the name \"Session Management Response Identified\" already exists. The rule \"org.zaproxy.addon.authhelper.SessionDetectionScanRule\" will not be loaded.\r\n    2024-06-26 12:51:37,570 [ZAP-DownloadInstaller] ERROR ExtensionPassiveScan - Failed to install pscanrule: org.zaproxy.addon.authhelper.SessionDetectionScanRule\r\n    2024-06-26 12:51:37,570 [ZAP-DownloadInstaller] WARN  PassiveScannerList - A scan rule with the name \"Verification Request Identified\" already exists. The rule \"org.zaproxy.addon.authhelper.VerificationDetectionScanRule\" will not be loaded.\r\n    2024-06-26 12:51:37,570 [ZAP-DownloadInstaller] ERROR ExtensionPassiveScan - Failed to install pscanrule: org.zaproxy.addon.authhelper.VerificationDetectionScanRule\r\n    2024-06-26 12:51:37,648 [ZAP-DownloadInstaller] INFO  ExtensionAutoUpdate - Finished installing new addon selenium v15.26.0\r\n    2024-06-26 12:52:39,570 [AWT-EventQueue-0] ERROR UncaughtExceptionLogger - Exception in thread \"AWT-EventQueue-0\"\r\n    java.lang.NoClassDefFoundError: org/zaproxy/addon/authhelper/AuthenticationRequestDetails\r\n    \tat org.zaproxy.addon.authhelper.AuthenticationDetectionScanRule.getExampleAlerts(AuthenticationDetectionScanRule.java:207) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.internal.ScanRulesInfo.addAlertRefs(ScanRulesInfo.java:103) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.internal.ScanRulesInfo.addEntry(ScanRulesInfo.java:75) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.internal.ScanRulesInfo.<init>(ScanRulesInfo.java:61) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.ExtensionAlertFilters.getScanRulesInfo(ExtensionAlertFilters.java:145) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.internal.ui.AlertSelectionPanel.<init>(AlertSelectionPanel.java:38) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.DialogAddAlertFilter.getAlertSelectionPanel(DialogAddAlertFilter.java:541) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.DialogAddAlertFilter.getFieldsPanel(DialogAddAlertFilter.java:310) ~[?:?]\r\n    \tat org.zaproxy.zap.view.AbstractFormDialog.initView(AbstractFormDialog.java:131) ~[zap-2.15.0.jar:2.15.0]\r\n    \tat org.zaproxy.zap.view.AbstractFormDialog.initialise(AbstractFormDialog.java:100) ~[zap-2.15.0.jar:2.15.0]\r\n    \tat org.zaproxy.zap.view.AbstractFormDialog.<init>(AbstractFormDialog.java:84) ~[zap-2.15.0.jar:2.15.0]\r\n    \tat org.zaproxy.zap.view.AbstractFormDialog.<init>(AbstractFormDialog.java:79) ~[zap-2.15.0.jar:2.15.0]\r\n    \tat org.zaproxy.zap.extension.alertFilters.DialogAddAlertFilter.<init>(DialogAddAlertFilter.java:109) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.DialogAddAlertFilter.<init>(DialogAddAlertFilter.java:99) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.ExtensionAlertFilters.showAddDialog(ExtensionAlertFilters.java:202) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alertFilters.ExtensionAlertFilters$1.performAction(ExtensionAlertFilters.java:178) ~[?:?]\r\n    \tat org.zaproxy.zap.extension.alert.PopupMenuItemAlert.performActions(PopupMenuItemAlert.java:120) ~[zap-2.15.0.jar:2.15.0]\r\n    \tat org.zaproxy.zap.extension.alert.PopupMenuItemAlert$PerformActionsActionListener.actionPerformed(PopupMenuItemAlert.java:222) ~[zap-2.15.0.jar:2.15.0]\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972) ~[?:?]\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313) ~[?:?]\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405) ~[?:?]\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262) ~[?:?]\r\n    \tat javax.swing.AbstractButton.doClick(AbstractButton.java:374) ~[?:?]\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:1028) ~[?:?]\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:1072) ~[?:?]\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6626) ~[?:?]\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3389) ~[?:?]\r\n    \tat java.awt.Component.processEvent(Component.java:6391) ~[?:?]\r\n    \tat java.awt.Container.processEvent(Container.java:2266) ~[?:?]\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:5001) ~[?:?]\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2324) ~[?:?]\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4833) ~[?:?]\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948) ~[?:?]\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575) ~[?:?]\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516) ~[?:?]\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2310) ~[?:?]\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2780) ~[?:?]\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4833) ~[?:?]\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775) ~[?:?]\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:720) ~[?:?]\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:714) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[?:?]\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97) ~[?:?]\r\n    \tat java.awt.EventQueue$5.run(EventQueue.java:747) ~[?:?]\r\n    \tat java.awt.EventQueue$5.run(EventQueue.java:745) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[?:?]\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:744) ~[?:?]\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) [?:?]\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:90) [?:?]\r\n    Caused by: java.lang.ClassNotFoundException\r\n    \tat org.zaproxy.zap.control.AddOnClassLoader.findClass(AddOnClassLoader.java:330) ~[zap-2.15.0.jar:2.15.0]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:592) ~[?:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[?:?]\r\n    \t... 55 more\r\n\r\n</details>\n\n### Steps to reproduce the behavior\n\nThis occurred with ZAP on Kali at startup there were updates to install. I installed them, then when trying to create an Alert Filter the dialog would not display.\r\n\r\nThis was discussed on slack and the Alert Filter issue is secondary to the scan rule re-loading issue.\n\n### Expected behavior\n\nThe scan rules should successfully unload/reload.\n\n### Software versions\n\nZAP 2.15\r\nAlert Filters 0.13.0\n\n### Screenshots\n\nN/A\n\n### Errors from the zap.log file\n\nSee above.\n\n### Additional context\n\nN/A\n\n### Would you like to help fix this issue?\n\n- [ ] Yes","closed_by":{"login":"kingthorin","id":7570458,"node_id":"MDQ6VXNlcjc1NzA0NTg=","avatar_url":"https://avatars.githubusercontent.com/u/7570458?v=4","gravatar_id":"","url":"https://api.github.com/users/kingthorin","html_url":"https://github.com/kingthorin","followers_url":"https://api.github.com/users/kingthorin/followers","following_url":"https://api.github.com/users/kingthorin/following{/other_user}","gists_url":"https://api.github.com/users/kingthorin/gists{/gist_id}","starred_url":"https://api.github.com/users/kingthorin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingthorin/subscriptions","organizations_url":"https://api.github.com/users/kingthorin/orgs","repos_url":"https://api.github.com/users/kingthorin/repos","events_url":"https://api.github.com/users/kingthorin/events{/privacy}","received_events_url":"https://api.github.com/users/kingthorin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/zaproxy/zaproxy/issues/8533/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/8533/timeline","performed_via_github_app":null,"state_reason":"completed"}