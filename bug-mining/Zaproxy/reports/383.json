{"url":"https://api.github.com/repos/zaproxy/zaproxy/issues/7590","repository_url":"https://api.github.com/repos/zaproxy/zaproxy","labels_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/7590/labels{/name}","comments_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/7590/comments","events_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/7590/events","html_url":"https://github.com/zaproxy/zaproxy/issues/7590","id":1440913679,"node_id":"I_kwDOAjHKnc5V4pkP","number":7590,"title":"Add-ons being updated might be marked as blocked","user":{"login":"jusschwa-ibm","id":107272626,"node_id":"U_kgDOBmTZsg","avatar_url":"https://avatars.githubusercontent.com/u/107272626?v=4","gravatar_id":"","url":"https://api.github.com/users/jusschwa-ibm","html_url":"https://github.com/jusschwa-ibm","followers_url":"https://api.github.com/users/jusschwa-ibm/followers","following_url":"https://api.github.com/users/jusschwa-ibm/following{/other_user}","gists_url":"https://api.github.com/users/jusschwa-ibm/gists{/gist_id}","starred_url":"https://api.github.com/users/jusschwa-ibm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jusschwa-ibm/subscriptions","organizations_url":"https://api.github.com/users/jusschwa-ibm/orgs","repos_url":"https://api.github.com/users/jusschwa-ibm/repos","events_url":"https://api.github.com/users/jusschwa-ibm/events{/privacy}","received_events_url":"https://api.github.com/users/jusschwa-ibm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":220063774,"node_id":"MDU6TGFiZWwyMjAwNjM3NzQ=","url":"https://api.github.com/repos/zaproxy/zaproxy/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":true,"assignee":{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/zaproxy/zaproxy/milestones/9","html_url":"https://github.com/zaproxy/zaproxy/milestone/9","labels_url":"https://api.github.com/repos/zaproxy/zaproxy/milestones/9/labels","id":8296255,"node_id":"MI_kwDOAjHKnc4Afpc_","number":9,"title":"2.13.0","description":"","creator":{"login":"thc202","id":4639210,"node_id":"MDQ6VXNlcjQ2MzkyMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4639210?v=4","gravatar_id":"","url":"https://api.github.com/users/thc202","html_url":"https://github.com/thc202","followers_url":"https://api.github.com/users/thc202/followers","following_url":"https://api.github.com/users/thc202/following{/other_user}","gists_url":"https://api.github.com/users/thc202/gists{/gist_id}","starred_url":"https://api.github.com/users/thc202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thc202/subscriptions","organizations_url":"https://api.github.com/users/thc202/orgs","repos_url":"https://api.github.com/users/thc202/repos","events_url":"https://api.github.com/users/thc202/events{/privacy}","received_events_url":"https://api.github.com/users/thc202/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":46,"state":"closed","created_at":"2022-08-12T14:43:14Z","updated_at":"2023-07-14T13:30:52Z","due_on":null,"closed_at":"2023-07-14T13:30:52Z"},"comments":7,"created_at":"2022-11-08T21:14:57Z","updated_at":"2023-02-24T01:31:52Z","closed_at":"2022-11-25T10:08:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nWhen I start the zap proxy from the command line for the first time after installing, it will start fine. If I shut it down, then try to start it up again, it fails to start, citing that the mandatory \"network\" plugin is missing. This plugin is shown as being installed during the first run:\r\n`43232 [ZAP-daemon] INFO  org.parosproxy.paros.CommandLine - Add-on downloaded to: /home/gary/.ZAP/plugin/network-beta-0.4.0.zap`\r\n\r\nNOTE: this apparently doesn't happen when I run as the root user. Only as non-root.\r\n\r\n### Steps to reproduce the behavior\r\n\r\n1. Start the ZAP proxy:\r\n`/usr/share/owasp-zap/zap.sh -version -daemon -host 127.0.0.1 -port 52090 -config api.key=dynamic-scan`\r\n\r\n2. Shut down the proxy via the API:\r\n`curl -H \"X-ZAP-API-KEY: dynamic-scan\" http://127.0.0.1:52090/JSON/core/action/shutdown/`\r\n3. Try to start the proxy again in the same way, with the same command\r\n\r\n### Expected behavior\r\n\r\nThe proxy should start up and enter the ready state, same as before.\r\n\r\n### Software versions\r\n\r\nZAP 2.12.0\r\nInstalled from: https://download.opensuse.org/repositories/home:/cabelo/xUbuntu_20.04/amd64/owasp-zap_2.12.0-1_amd64.deb\r\n\r\n### Screenshots\r\n\r\n_No response_\r\n\r\n### Errors from the zap.log file\r\n\r\nFound Java version 11.0.16\r\nAvailable memory: 7851 MB\r\nUsing JVM args: -Xmx1962m\r\n4841 [main] INFO  org.zaproxy.zap.DaemonBootstrap - OWASP ZAP 2.12.0 started 08/11/2022, 21:03:40 with home /home/gary/.ZAP/\r\n5025 [main] INFO  org.parosproxy.paros.common.AbstractParam - Setting config api.key = dynamic-scan was dynamic-scan\r\n9797 [ZAP-daemon] INFO  org.zaproxy.zap.control.ExtensionFactory - Installed add-ons: [[id=alertFilters, version=14.0.0], [id=automation, version=0.19.0], [id=bruteforce, version=12.0.0], [id=callhome, version=0.5.0], [id=commonlib, version=1.11.0], [id=database, version=0.1.0], [id=diff, version=12.0.0], [id=directorylistv1, version=5.0.0], [id=encoder, version=0.7.0], [id=exim, version=0.3.0], [id=formhandler, version=6.1.0], [id=fuzz, version=13.8.0], [id=gettingStarted, version=14.0.0], [id=graaljs, version=0.3.0], [id=graphql, version=0.11.0], [id=help, version=15.0.0], [id=invoke, version=12.0.0], [id=onlineMenu, version=10.0.0], [id=openapi, version=29.0.0], [id=pscanrules, version=44.0.0], [id=replacer, version=11.0.0], [id=reports, version=0.16.0], [id=requester, version=7.0.0], [id=retest, version=0.4.0], [id=retire, version=0.16.0], [id=reveal, version=5.0.0], [id=scripts, version=33.0.0], [id=soap, version=15.0.0], [id=tips, version=10.0.0], [id=webdriverlinux, version=46.0.0], [id=websocket, version=27.0.0]]\r\n9809 [ZAP-daemon] ERROR org.parosproxy.paros.control.Control - The mandatory add-on was not found: network\r\nRefer to https://www.zaproxy.org/docs/developer/ if you are building ZAP from source.\r\nFailed to start ZAP. The mandatory add-on was not found: network\r\nRefer to https://www.zaproxy.org/docs/developer/ if you are building ZAP from source.\r\n\r\n### Additional context\r\n\r\nFor the test I am running in the official ubuntu container: `ubuntu:latest` (Currently 22.04)\r\n\r\nHere is the dockerfile I am using, in case it's relevant:\r\n```\r\nFROM ubuntu:latest\r\n\r\nADD https://download.opensuse.org/repositories/home:/cabelo/xUbuntu_20.04/amd64/owasp-zap_2.12.0-1_amd64.deb /tmp/owasp.deb\r\nRUN apt-get -y update\r\nRUN apt-get -y install curl openjdk-11-jre\r\nRUN dpkg -i /tmp/owasp.deb\r\n\r\nRUN useradd -ms /bin/bash gary\r\nUSER gary\r\nWORKDIR /home/gary\r\n\r\nCMD [\"/bin/bash\"]\r\n```\r\n\r\n### Would you like to help fix this issue?\r\n\r\n- [ ] Yes","closed_by":{"login":"psiinon","id":1081115,"node_id":"MDQ6VXNlcjEwODExMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1081115?v=4","gravatar_id":"","url":"https://api.github.com/users/psiinon","html_url":"https://github.com/psiinon","followers_url":"https://api.github.com/users/psiinon/followers","following_url":"https://api.github.com/users/psiinon/following{/other_user}","gists_url":"https://api.github.com/users/psiinon/gists{/gist_id}","starred_url":"https://api.github.com/users/psiinon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psiinon/subscriptions","organizations_url":"https://api.github.com/users/psiinon/orgs","repos_url":"https://api.github.com/users/psiinon/repos","events_url":"https://api.github.com/users/psiinon/events{/privacy}","received_events_url":"https://api.github.com/users/psiinon/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/zaproxy/zaproxy/issues/7590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zaproxy/zaproxy/issues/7590/timeline","performed_via_github_app":null,"state_reason":"completed"}