diff --git a/build/build.xml b/build/build.xml
index 208bf18f3..01cf88a54 100644
--- a/build/build.xml
+++ b/build/build.xml
@@ -18,7 +18,7 @@
 	<property name="zap.extensions.beta.dir" location="../../zap-extensions_beta/" />
 	<property name="zap.extensions.trunk.dir" location="../../zap-extensions/" />
 	<property name="zap.test.trunk.dir" location="../../zaproxy-test/" />
-	<property name="zap.java.api.version" value="8" />
+	<property name="zap.java.api.version" value="9" />
 	<property name="package" value="zaproxy" />
 
 	<!-- mac specific properties -->
diff --git a/python/api/setup.py b/python/api/setup.py
index 47c05b155..5e9c918b9 100644
--- a/python/api/setup.py
+++ b/python/api/setup.py
@@ -15,7 +15,7 @@ except ImportError:
 
 setup(
     name="python-owasp-zap-v2.4",
-    version="0.0.6",
+    version="0.0.7",
     description="OWASP ZAP 2.4 API client",
     long_description="OWASP Zed Attack Proxy 2.4 API python client",
     author="ZAP development team",
diff --git a/python/api/src/zapv2/ascan.py b/python/api/src/zapv2/ascan.py
index 027138ad2..84ac0b3b8 100644
--- a/python/api/src/zapv2/ascan.py
+++ b/python/api/src/zapv2/ascan.py
@@ -24,11 +24,17 @@ class ascan(object):
     def __init__(self, zap):
         self.zap = zap
 
-    def status(self, scanid=''):
-        return next(self.zap._request(self.zap.base + 'ascan/view/status/', {'scanId' : scanid}).itervalues())
-
-    def scan_progress(self, scanid=''):
-        return next(self.zap._request(self.zap.base + 'ascan/view/scanProgress/', {'scanId' : scanid}).itervalues())
+    def status(self, scanid=None):
+        params = {}
+        if scanid is not None:
+            params['scanId'] = scanid
+        return next(self.zap._request(self.zap.base + 'ascan/view/status/', params).itervalues())
+
+    def scan_progress(self, scanid=None):
+        params = {}
+        if scanid is not None:
+            params['scanId'] = scanid
+        return next(self.zap._request(self.zap.base + 'ascan/view/scanProgress/', params).itervalues())
 
     def messages_ids(self, scanid):
         return next(self.zap._request(self.zap.base + 'ascan/view/messagesIds/', {'scanId' : scanid}).itervalues())
@@ -48,11 +54,21 @@ class ascan(object):
     def excluded_from_scan(self):
         return next(self.zap._request(self.zap.base + 'ascan/view/excludedFromScan/').itervalues())
 
-    def scanners(self, scanpolicyname='', policyid=''):
-        return next(self.zap._request(self.zap.base + 'ascan/view/scanners/', {'scanPolicyName' : scanpolicyname, 'policyId' : policyid}).itervalues())
-
-    def policies(self, scanpolicyname='', policyid=''):
-        return next(self.zap._request(self.zap.base + 'ascan/view/policies/', {'scanPolicyName' : scanpolicyname, 'policyId' : policyid}).itervalues())
+    def scanners(self, scanpolicyname=None, policyid=None):
+        params = {}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        if policyid is not None:
+            params['policyId'] = policyid
+        return next(self.zap._request(self.zap.base + 'ascan/view/scanners/', params).itervalues())
+
+    def policies(self, scanpolicyname=None, policyid=None):
+        params = {}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        if policyid is not None:
+            params['policyId'] = policyid
+        return next(self.zap._request(self.zap.base + 'ascan/view/policies/', params).itervalues())
 
     @property
     def attack_mode_queue(self):
@@ -130,14 +146,34 @@ class ascan(object):
     def option_show_advanced_dialog(self):
         return next(self.zap._request(self.zap.base + 'ascan/view/optionShowAdvancedDialog/').itervalues())
 
-    def scan(self, url, recurse='', inscopeonly='', scanpolicyname='', method='', postdata='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'ascan/action/scan/', {'url' : url, 'recurse' : recurse, 'inScopeOnly' : inscopeonly, 'scanPolicyName' : scanpolicyname, 'method' : method, 'postData' : postdata, 'apikey' : apikey}).itervalues())
-
-    def scan_as_user(self, url, contextid, userid, recurse='', scanpolicyname='', method='', postdata='', apikey=''):
+    def scan(self, url, recurse=None, inscopeonly=None, scanpolicyname=None, method=None, postdata=None, apikey=''):
+        params = {'url' : url, 'apikey' : apikey}
+        if recurse is not None:
+            params['recurse'] = recurse
+        if inscopeonly is not None:
+            params['inScopeOnly'] = inscopeonly
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        if method is not None:
+            params['method'] = method
+        if postdata is not None:
+            params['postData'] = postdata
+        return next(self.zap._request(self.zap.base + 'ascan/action/scan/', params).itervalues())
+
+    def scan_as_user(self, url, contextid, userid, recurse=None, scanpolicyname=None, method=None, postdata=None, apikey=''):
         """
         Active Scans from the perspective of a User, obtained using the given Context ID and User ID. See 'scan' action for more details.
         """
-        return next(self.zap._request(self.zap.base + 'ascan/action/scanAsUser/', {'url' : url, 'contextId' : contextid, 'userId' : userid, 'recurse' : recurse, 'scanPolicyName' : scanpolicyname, 'method' : method, 'postData' : postdata, 'apikey' : apikey}).itervalues())
+        params = {'url' : url, 'contextId' : contextid, 'userId' : userid, 'apikey' : apikey}
+        if recurse is not None:
+            params['recurse'] = recurse
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        if method is not None:
+            params['method'] = method
+        if postdata is not None:
+            params['postData'] = postdata
+        return next(self.zap._request(self.zap.base + 'ascan/action/scanAsUser/', params).itervalues())
 
     def pause(self, scanid, apikey=''):
         return next(self.zap._request(self.zap.base + 'ascan/action/pause/', {'scanId' : scanid, 'apikey' : apikey}).itervalues())
@@ -169,11 +205,17 @@ class ascan(object):
     def exclude_from_scan(self, regex, apikey=''):
         return next(self.zap._request(self.zap.base + 'ascan/action/excludeFromScan/', {'regex' : regex, 'apikey' : apikey}).itervalues())
 
-    def enable_all_scanners(self, scanpolicyname='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'ascan/action/enableAllScanners/', {'scanPolicyName' : scanpolicyname, 'apikey' : apikey}).itervalues())
+    def enable_all_scanners(self, scanpolicyname=None, apikey=''):
+        params = {'apikey' : apikey}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        return next(self.zap._request(self.zap.base + 'ascan/action/enableAllScanners/', params).itervalues())
 
-    def disable_all_scanners(self, scanpolicyname='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'ascan/action/disableAllScanners/', {'scanPolicyName' : scanpolicyname, 'apikey' : apikey}).itervalues())
+    def disable_all_scanners(self, scanpolicyname=None, apikey=''):
+        params = {'apikey' : apikey}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        return next(self.zap._request(self.zap.base + 'ascan/action/disableAllScanners/', params).itervalues())
 
     def enable_scanners(self, ids, apikey=''):
         return next(self.zap._request(self.zap.base + 'ascan/action/enableScanners/', {'ids' : ids, 'apikey' : apikey}).itervalues())
@@ -184,17 +226,29 @@ class ascan(object):
     def set_enabled_policies(self, ids, apikey=''):
         return next(self.zap._request(self.zap.base + 'ascan/action/setEnabledPolicies/', {'ids' : ids, 'apikey' : apikey}).itervalues())
 
-    def set_policy_attack_strength(self, id, attackstrength, scanpolicyname='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'ascan/action/setPolicyAttackStrength/', {'id' : id, 'attackStrength' : attackstrength, 'scanPolicyName' : scanpolicyname, 'apikey' : apikey}).itervalues())
-
-    def set_policy_alert_threshold(self, id, alertthreshold, scanpolicyname='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'ascan/action/setPolicyAlertThreshold/', {'id' : id, 'alertThreshold' : alertthreshold, 'scanPolicyName' : scanpolicyname, 'apikey' : apikey}).itervalues())
-
-    def set_scanner_attack_strength(self, id, attackstrength, scanpolicyname='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'ascan/action/setScannerAttackStrength/', {'id' : id, 'attackStrength' : attackstrength, 'scanPolicyName' : scanpolicyname, 'apikey' : apikey}).itervalues())
-
-    def set_scanner_alert_threshold(self, id, alertthreshold, scanpolicyname='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'ascan/action/setScannerAlertThreshold/', {'id' : id, 'alertThreshold' : alertthreshold, 'scanPolicyName' : scanpolicyname, 'apikey' : apikey}).itervalues())
+    def set_policy_attack_strength(self, id, attackstrength, scanpolicyname=None, apikey=''):
+        params = {'id' : id, 'attackStrength' : attackstrength, 'apikey' : apikey}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        return next(self.zap._request(self.zap.base + 'ascan/action/setPolicyAttackStrength/', params).itervalues())
+
+    def set_policy_alert_threshold(self, id, alertthreshold, scanpolicyname=None, apikey=''):
+        params = {'id' : id, 'alertThreshold' : alertthreshold, 'apikey' : apikey}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        return next(self.zap._request(self.zap.base + 'ascan/action/setPolicyAlertThreshold/', params).itervalues())
+
+    def set_scanner_attack_strength(self, id, attackstrength, scanpolicyname=None, apikey=''):
+        params = {'id' : id, 'attackStrength' : attackstrength, 'apikey' : apikey}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        return next(self.zap._request(self.zap.base + 'ascan/action/setScannerAttackStrength/', params).itervalues())
+
+    def set_scanner_alert_threshold(self, id, alertthreshold, scanpolicyname=None, apikey=''):
+        params = {'id' : id, 'alertThreshold' : alertthreshold, 'apikey' : apikey}
+        if scanpolicyname is not None:
+            params['scanPolicyName'] = scanpolicyname
+        return next(self.zap._request(self.zap.base + 'ascan/action/setScannerAlertThreshold/', params).itervalues())
 
     def add_scan_policy(self, scanpolicyname, apikey=''):
         return next(self.zap._request(self.zap.base + 'ascan/action/addScanPolicy/', {'scanPolicyName' : scanpolicyname, 'apikey' : apikey}).itervalues())
diff --git a/python/api/src/zapv2/authentication.py b/python/api/src/zapv2/authentication.py
index 4e24ca588..e2898e6a8 100644
--- a/python/api/src/zapv2/authentication.py
+++ b/python/api/src/zapv2/authentication.py
@@ -40,8 +40,11 @@ class authentication(object):
     def get_logged_out_indicator(self, contextid):
         return next(self.zap._request(self.zap.base + 'authentication/view/getLoggedOutIndicator/', {'contextId' : contextid}).itervalues())
 
-    def set_authentication_method(self, contextid, authmethodname, authmethodconfigparams='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'authentication/action/setAuthenticationMethod/', {'contextId' : contextid, 'authMethodName' : authmethodname, 'authMethodConfigParams' : authmethodconfigparams, 'apikey' : apikey}).itervalues())
+    def set_authentication_method(self, contextid, authmethodname, authmethodconfigparams=None, apikey=''):
+        params = {'contextId' : contextid, 'authMethodName' : authmethodname, 'apikey' : apikey}
+        if authmethodconfigparams is not None:
+            params['authMethodConfigParams'] = authmethodconfigparams
+        return next(self.zap._request(self.zap.base + 'authentication/action/setAuthenticationMethod/', params).itervalues())
 
     def set_logged_in_indicator(self, contextid, loggedinindicatorregex, apikey=''):
         return next(self.zap._request(self.zap.base + 'authentication/action/setLoggedInIndicator/', {'contextId' : contextid, 'loggedInIndicatorRegex' : loggedinindicatorregex, 'apikey' : apikey}).itervalues())
diff --git a/python/api/src/zapv2/core.py b/python/api/src/zapv2/core.py
index 1dc20e0f7..c0960713e 100644
--- a/python/api/src/zapv2/core.py
+++ b/python/api/src/zapv2/core.py
@@ -30,17 +30,27 @@ class core(object):
         """
         return next(self.zap._request(self.zap.base + 'core/view/alert/', {'id' : id}).itervalues())
 
-    def alerts(self, baseurl='', start='', count=''):
+    def alerts(self, baseurl=None, start=None, count=None):
         """
         Gets the alerts raised by ZAP, optionally filtering by URL and paginating with 'start' position and 'count' of alerts
         """
-        return next(self.zap._request(self.zap.base + 'core/view/alerts/', {'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
+        params = {}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'core/view/alerts/', params).itervalues())
 
-    def number_of_alerts(self, baseurl=''):
+    def number_of_alerts(self, baseurl=None):
         """
         Gets the number of alerts, optionally filtering by URL
         """
-        return next(self.zap._request(self.zap.base + 'core/view/numberOfAlerts/', {'baseurl' : baseurl}).itervalues())
+        params = {}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        return next(self.zap._request(self.zap.base + 'core/view/numberOfAlerts/', params).itervalues())
 
     @property
     def hosts(self):
@@ -69,17 +79,27 @@ class core(object):
         """
         return next(self.zap._request(self.zap.base + 'core/view/message/', {'id' : id}).itervalues())
 
-    def messages(self, baseurl='', start='', count=''):
+    def messages(self, baseurl=None, start=None, count=None):
         """
         Gets the HTTP messages sent by ZAP, request and response, optionally filtered by URL and paginated with 'start' position and 'count' of messages
         """
-        return next(self.zap._request(self.zap.base + 'core/view/messages/', {'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
+        params = {}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'core/view/messages/', params).itervalues())
 
-    def number_of_messages(self, baseurl=''):
+    def number_of_messages(self, baseurl=None):
         """
         Gets the number of messages, optionally filtering by URL
         """
-        return next(self.zap._request(self.zap.base + 'core/view/numberOfMessages/', {'baseurl' : baseurl}).itervalues())
+        params = {}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        return next(self.zap._request(self.zap.base + 'core/view/numberOfMessages/', params).itervalues())
 
     @property
     def version(self):
@@ -99,8 +119,11 @@ class core(object):
     def home_directory(self):
         return next(self.zap._request(self.zap.base + 'core/view/homeDirectory/').itervalues())
 
-    def stats(self, keyprefix=''):
-        return next(self.zap._request(self.zap.base + 'core/view/stats/', {'keyPrefix' : keyprefix}).itervalues())
+    def stats(self, keyprefix=None):
+        params = {}
+        if keyprefix is not None:
+            params['keyPrefix'] = keyprefix
+        return next(self.zap._request(self.zap.base + 'core/view/stats/', params).itervalues())
 
     @property
     def option_default_user_agent(self):
@@ -172,11 +195,16 @@ class core(object):
         """
         return next(self.zap._request(self.zap.base + 'core/action/shutdown/', {'apikey' : apikey}).itervalues())
 
-    def new_session(self, name='', overwrite='', apikey=''):
+    def new_session(self, name=None, overwrite=None, apikey=''):
         """
         Creates a new session, optionally overwriting existing files. If a relative path is specified it will be resolved against the "session" directory in ZAP "home" dir.
         """
-        return next(self.zap._request(self.zap.base + 'core/action/newSession/', {'name' : name, 'overwrite' : overwrite, 'apikey' : apikey}).itervalues())
+        params = {'apikey' : apikey}
+        if name is not None:
+            params['name'] = name
+        if overwrite is not None:
+            params['overwrite'] = overwrite
+        return next(self.zap._request(self.zap.base + 'core/action/newSession/', params).itervalues())
 
     def load_session(self, name, apikey=''):
         """
@@ -184,11 +212,14 @@ class core(object):
         """
         return next(self.zap._request(self.zap.base + 'core/action/loadSession/', {'name' : name, 'apikey' : apikey}).itervalues())
 
-    def save_session(self, name, overwrite='', apikey=''):
+    def save_session(self, name, overwrite=None, apikey=''):
         """
         Saves the session with the name supplied, optionally overwriting existing files. If a relative path is specified it will be resolved against the "session" directory in ZAP "home" dir.
         """
-        return next(self.zap._request(self.zap.base + 'core/action/saveSession/', {'name' : name, 'overwrite' : overwrite, 'apikey' : apikey}).itervalues())
+        params = {'name' : name, 'apikey' : apikey}
+        if overwrite is not None:
+            params['overwrite'] = overwrite
+        return next(self.zap._request(self.zap.base + 'core/action/saveSession/', params).itervalues())
 
     def snapshot_session(self, apikey=''):
         return next(self.zap._request(self.zap.base + 'core/action/snapshotSession/', {'apikey' : apikey}).itervalues())
@@ -205,11 +236,14 @@ class core(object):
     def generate_root_ca(self, apikey=''):
         return next(self.zap._request(self.zap.base + 'core/action/generateRootCA/', {'apikey' : apikey}).itervalues())
 
-    def send_request(self, request, followredirects='', apikey=''):
+    def send_request(self, request, followredirects=None, apikey=''):
         """
         Sends the HTTP request, optionally following redirections. Returns the request sent and response received and followed redirections, if any.
         """
-        return next(self.zap._request(self.zap.base + 'core/action/sendRequest/', {'request' : request, 'followRedirects' : followredirects, 'apikey' : apikey}).itervalues())
+        params = {'request' : request, 'apikey' : apikey}
+        if followredirects is not None:
+            params['followRedirects'] = followredirects
+        return next(self.zap._request(self.zap.base + 'core/action/sendRequest/', params).itervalues())
 
     def delete_all_alerts(self, apikey=''):
         return next(self.zap._request(self.zap.base + 'core/action/deleteAllAlerts/', {'apikey' : apikey}).itervalues())
@@ -286,16 +320,26 @@ class core(object):
         """
         return (self.zap._request_other(self.zap.base_other + 'core/other/messageHar/', {'id' : id, 'apikey' : apikey}))
 
-    def messages_har(self, baseurl='', start='', count='', apikey=''):
+    def messages_har(self, baseurl=None, start=None, count=None, apikey=''):
         """
         Gets the HTTP messages sent through/by ZAP, in HAR format, optionally filtered by URL and paginated with 'start' position and 'count' of messages
         """
-        return (self.zap._request_other(self.zap.base_other + 'core/other/messagesHar/', {'baseurl' : baseurl, 'start' : start, 'count' : count, 'apikey' : apikey}))
+        params = {'apikey' : apikey}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return (self.zap._request_other(self.zap.base_other + 'core/other/messagesHar/', params))
 
-    def send_har_request(self, request, followredirects='', apikey=''):
+    def send_har_request(self, request, followredirects=None, apikey=''):
         """
         Sends the first HAR request entry, optionally following redirections. Returns, in HAR format, the request sent and response received and followed redirections, if any.
         """
-        return (self.zap._request_other(self.zap.base_other + 'core/other/sendHarRequest/', {'request' : request, 'followRedirects' : followredirects, 'apikey' : apikey}))
+        params = {'request' : request, 'apikey' : apikey}
+        if followredirects is not None:
+            params['followRedirects'] = followredirects
+        return (self.zap._request_other(self.zap.base_other + 'core/other/sendHarRequest/', params))
 
 
diff --git a/python/api/src/zapv2/httpSessions.py b/python/api/src/zapv2/httpSessions.py
index 84c77127b..9160390ea 100644
--- a/python/api/src/zapv2/httpSessions.py
+++ b/python/api/src/zapv2/httpSessions.py
@@ -24,11 +24,14 @@ class httpSessions(object):
     def __init__(self, zap):
         self.zap = zap
 
-    def sessions(self, site, session=''):
+    def sessions(self, site, session=None):
         """
         Gets the sessions of the given site. Optionally returning just the session with the given name.
         """
-        return next(self.zap._request(self.zap.base + 'httpSessions/view/sessions/', {'site' : site, 'session' : session}).itervalues())
+        params = {'site' : site}
+        if session is not None:
+            params['session'] = session
+        return next(self.zap._request(self.zap.base + 'httpSessions/view/sessions/', params).itervalues())
 
     def active_session(self, site):
         """
@@ -42,11 +45,14 @@ class httpSessions(object):
         """
         return next(self.zap._request(self.zap.base + 'httpSessions/view/sessionTokens/', {'site' : site}).itervalues())
 
-    def create_empty_session(self, site, session='', apikey=''):
+    def create_empty_session(self, site, session=None, apikey=''):
         """
         Creates an empty session for the given site. Optionally with the given name.
         """
-        return next(self.zap._request(self.zap.base + 'httpSessions/action/createEmptySession/', {'site' : site, 'session' : session, 'apikey' : apikey}).itervalues())
+        params = {'site' : site, 'apikey' : apikey}
+        if session is not None:
+            params['session'] = session
+        return next(self.zap._request(self.zap.base + 'httpSessions/action/createEmptySession/', params).itervalues())
 
     def remove_session(self, site, session, apikey=''):
         """
diff --git a/python/api/src/zapv2/params.py b/python/api/src/zapv2/params.py
index 4a6880a77..834697b25 100644
--- a/python/api/src/zapv2/params.py
+++ b/python/api/src/zapv2/params.py
@@ -24,10 +24,13 @@ class params(object):
     def __init__(self, zap):
         self.zap = zap
 
-    def params(self, site=''):
+    def params(self, site=None):
         """
         Shows the parameters for the specified site, or for all sites if the site is not specified
         """
-        return next(self.zap._request(self.zap.base + 'params/view/params/', {'site' : site}).itervalues())
+        params = {}
+        if site is not None:
+            params['site'] = site
+        return next(self.zap._request(self.zap.base + 'params/view/params/', params).itervalues())
 
 
diff --git a/python/api/src/zapv2/script.py b/python/api/src/zapv2/script.py
index d43424775..8f962c6c5 100644
--- a/python/api/src/zapv2/script.py
+++ b/python/api/src/zapv2/script.py
@@ -50,11 +50,14 @@ class script(object):
         """
         return next(self.zap._request(self.zap.base + 'script/action/disable/', {'scriptName' : scriptname, 'apikey' : apikey}).itervalues())
 
-    def load(self, scriptname, scripttype, scriptengine, filename, scriptdescription='', apikey=''):
+    def load(self, scriptname, scripttype, scriptengine, filename, scriptdescription=None, apikey=''):
         """
         Loads a script into ZAP from the given local file, with the given name, type and engine, optionally with a description
         """
-        return next(self.zap._request(self.zap.base + 'script/action/load/', {'scriptName' : scriptname, 'scriptType' : scripttype, 'scriptEngine' : scriptengine, 'fileName' : filename, 'scriptDescription' : scriptdescription, 'apikey' : apikey}).itervalues())
+        params = {'scriptName' : scriptname, 'scriptType' : scripttype, 'scriptEngine' : scriptengine, 'fileName' : filename, 'apikey' : apikey}
+        if scriptdescription is not None:
+            params['scriptDescription'] = scriptdescription
+        return next(self.zap._request(self.zap.base + 'script/action/load/', params).itervalues())
 
     def remove(self, scriptname, apikey=''):
         """
diff --git a/python/api/src/zapv2/search.py b/python/api/src/zapv2/search.py
index 7dff0875f..5cb87bc31 100644
--- a/python/api/src/zapv2/search.py
+++ b/python/api/src/zapv2/search.py
@@ -24,40 +24,124 @@ class search(object):
     def __init__(self, zap):
         self.zap = zap
 
-    def urls_by_url_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/urlsByUrlRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def urls_by_request_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/urlsByRequestRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def urls_by_response_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/urlsByResponseRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def urls_by_header_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/urlsByHeaderRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def messages_by_url_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/messagesByUrlRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def messages_by_request_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/messagesByRequestRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def messages_by_response_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/messagesByResponseRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def messages_by_header_regex(self, regex, baseurl='', start='', count=''):
-        return next(self.zap._request(self.zap.base + 'search/view/messagesByHeaderRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count}).itervalues())
-
-    def har_by_url_regex(self, regex, baseurl='', start='', count='', apikey=''):
-        return (self.zap._request_other(self.zap.base_other + 'search/other/harByUrlRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count, 'apikey' : apikey}))
-
-    def har_by_request_regex(self, regex, baseurl='', start='', count='', apikey=''):
-        return (self.zap._request_other(self.zap.base_other + 'search/other/harByRequestRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count, 'apikey' : apikey}))
-
-    def har_by_response_regex(self, regex, baseurl='', start='', count='', apikey=''):
-        return (self.zap._request_other(self.zap.base_other + 'search/other/harByResponseRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count, 'apikey' : apikey}))
-
-    def har_by_header_regex(self, regex, baseurl='', start='', count='', apikey=''):
-        return (self.zap._request_other(self.zap.base_other + 'search/other/harByHeaderRegex/', {'regex' : regex, 'baseurl' : baseurl, 'start' : start, 'count' : count, 'apikey' : apikey}))
+    def urls_by_url_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/urlsByUrlRegex/', params).itervalues())
+
+    def urls_by_request_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/urlsByRequestRegex/', params).itervalues())
+
+    def urls_by_response_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/urlsByResponseRegex/', params).itervalues())
+
+    def urls_by_header_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/urlsByHeaderRegex/', params).itervalues())
+
+    def messages_by_url_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/messagesByUrlRegex/', params).itervalues())
+
+    def messages_by_request_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/messagesByRequestRegex/', params).itervalues())
+
+    def messages_by_response_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/messagesByResponseRegex/', params).itervalues())
+
+    def messages_by_header_regex(self, regex, baseurl=None, start=None, count=None):
+        params = {'regex' : regex}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return next(self.zap._request(self.zap.base + 'search/view/messagesByHeaderRegex/', params).itervalues())
+
+    def har_by_url_regex(self, regex, baseurl=None, start=None, count=None, apikey=''):
+        params = {'regex' : regex, 'apikey' : apikey}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return (self.zap._request_other(self.zap.base_other + 'search/other/harByUrlRegex/', params))
+
+    def har_by_request_regex(self, regex, baseurl=None, start=None, count=None, apikey=''):
+        params = {'regex' : regex, 'apikey' : apikey}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return (self.zap._request_other(self.zap.base_other + 'search/other/harByRequestRegex/', params))
+
+    def har_by_response_regex(self, regex, baseurl=None, start=None, count=None, apikey=''):
+        params = {'regex' : regex, 'apikey' : apikey}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return (self.zap._request_other(self.zap.base_other + 'search/other/harByResponseRegex/', params))
+
+    def har_by_header_regex(self, regex, baseurl=None, start=None, count=None, apikey=''):
+        params = {'regex' : regex, 'apikey' : apikey}
+        if baseurl is not None:
+            params['baseurl'] = baseurl
+        if start is not None:
+            params['start'] = start
+        if count is not None:
+            params['count'] = count
+        return (self.zap._request_other(self.zap.base_other + 'search/other/harByHeaderRegex/', params))
 
 
diff --git a/python/api/src/zapv2/sessionManagement.py b/python/api/src/zapv2/sessionManagement.py
index 0dd50f8cb..34b9ef41c 100644
--- a/python/api/src/zapv2/sessionManagement.py
+++ b/python/api/src/zapv2/sessionManagement.py
@@ -34,7 +34,10 @@ class sessionManagement(object):
     def get_session_management_method(self, contextid):
         return next(self.zap._request(self.zap.base + 'sessionManagement/view/getSessionManagementMethod/', {'contextId' : contextid}).itervalues())
 
-    def set_session_management_method(self, contextid, methodname, methodconfigparams='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'sessionManagement/action/setSessionManagementMethod/', {'contextId' : contextid, 'methodName' : methodname, 'methodConfigParams' : methodconfigparams, 'apikey' : apikey}).itervalues())
+    def set_session_management_method(self, contextid, methodname, methodconfigparams=None, apikey=''):
+        params = {'contextId' : contextid, 'methodName' : methodname, 'apikey' : apikey}
+        if methodconfigparams is not None:
+            params['methodConfigParams'] = methodconfigparams
+        return next(self.zap._request(self.zap.base + 'sessionManagement/action/setSessionManagementMethod/', params).itervalues())
 
 
diff --git a/python/api/src/zapv2/spider.py b/python/api/src/zapv2/spider.py
index d4f66cb9d..ee61ccaa4 100644
--- a/python/api/src/zapv2/spider.py
+++ b/python/api/src/zapv2/spider.py
@@ -24,11 +24,17 @@ class spider(object):
     def __init__(self, zap):
         self.zap = zap
 
-    def status(self, scanid=''):
-        return next(self.zap._request(self.zap.base + 'spider/view/status/', {'scanId' : scanid}).itervalues())
-
-    def results(self, scanid=''):
-        return next(self.zap._request(self.zap.base + 'spider/view/results/', {'scanId' : scanid}).itervalues())
+    def status(self, scanid=None):
+        params = {}
+        if scanid is not None:
+            params['scanId'] = scanid
+        return next(self.zap._request(self.zap.base + 'spider/view/status/', params).itervalues())
+
+    def results(self, scanid=None):
+        params = {}
+        if scanid is not None:
+            params['scanId'] = scanid
+        return next(self.zap._request(self.zap.base + 'spider/view/results/', params).itervalues())
 
     def full_results(self, scanid):
         return next(self.zap._request(self.zap.base + 'spider/view/fullResults/', {'scanId' : scanid}).itervalues())
@@ -128,17 +134,29 @@ class spider(object):
     def option_show_advanced_dialog(self):
         return next(self.zap._request(self.zap.base + 'spider/view/optionShowAdvancedDialog/').itervalues())
 
-    def scan(self, url, maxchildren='', recurse='', contextname='', apikey=''):
+    def scan(self, url, maxchildren=None, recurse=None, contextname=None, apikey=''):
         """
         Runs the spider against the given URL. Optionally, the 'maxChildren' parameter can be set to limit the number of children scanned, the 'recurse' parameter can be used to prevent the spider from seeding recursively and the parameter 'contextName' can be used to constrain the scan to a Context.
         """
-        return next(self.zap._request(self.zap.base + 'spider/action/scan/', {'url' : url, 'maxChildren' : maxchildren, 'recurse' : recurse, 'contextName' : contextname, 'apikey' : apikey}).itervalues())
-
-    def scan_as_user(self, url, contextid, userid, maxchildren='', recurse='', apikey=''):
+        params = {'url' : url, 'apikey' : apikey}
+        if maxchildren is not None:
+            params['maxChildren'] = maxchildren
+        if recurse is not None:
+            params['recurse'] = recurse
+        if contextname is not None:
+            params['contextName'] = contextname
+        return next(self.zap._request(self.zap.base + 'spider/action/scan/', params).itervalues())
+
+    def scan_as_user(self, url, contextid, userid, maxchildren=None, recurse=None, apikey=''):
         """
         Runs the spider from the perspective of a User, obtained using the given Context ID and User ID. See 'scan' action for more details.
         """
-        return next(self.zap._request(self.zap.base + 'spider/action/scanAsUser/', {'url' : url, 'contextId' : contextid, 'userId' : userid, 'maxChildren' : maxchildren, 'recurse' : recurse, 'apikey' : apikey}).itervalues())
+        params = {'url' : url, 'contextId' : contextid, 'userId' : userid, 'apikey' : apikey}
+        if maxchildren is not None:
+            params['maxChildren'] = maxchildren
+        if recurse is not None:
+            params['recurse'] = recurse
+        return next(self.zap._request(self.zap.base + 'spider/action/scanAsUser/', params).itervalues())
 
     def pause(self, scanid, apikey=''):
         return next(self.zap._request(self.zap.base + 'spider/action/pause/', {'scanId' : scanid, 'apikey' : apikey}).itervalues())
@@ -146,8 +164,11 @@ class spider(object):
     def resume(self, scanid, apikey=''):
         return next(self.zap._request(self.zap.base + 'spider/action/resume/', {'scanId' : scanid, 'apikey' : apikey}).itervalues())
 
-    def stop(self, scanid='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'spider/action/stop/', {'scanId' : scanid, 'apikey' : apikey}).itervalues())
+    def stop(self, scanid=None, apikey=''):
+        params = {'apikey' : apikey}
+        if scanid is not None:
+            params['scanId'] = scanid
+        return next(self.zap._request(self.zap.base + 'spider/action/stop/', params).itervalues())
 
     def remove_scan(self, scanid, apikey=''):
         return next(self.zap._request(self.zap.base + 'spider/action/removeScan/', {'scanId' : scanid, 'apikey' : apikey}).itervalues())
diff --git a/python/api/src/zapv2/users.py b/python/api/src/zapv2/users.py
index aad79db83..2d27b936f 100644
--- a/python/api/src/zapv2/users.py
+++ b/python/api/src/zapv2/users.py
@@ -24,11 +24,19 @@ class users(object):
     def __init__(self, zap):
         self.zap = zap
 
-    def users_list(self, contextid=''):
-        return next(self.zap._request(self.zap.base + 'users/view/usersList/', {'contextId' : contextid}).itervalues())
+    def users_list(self, contextid=None):
+        params = {}
+        if contextid is not None:
+            params['contextId'] = contextid
+        return next(self.zap._request(self.zap.base + 'users/view/usersList/', params).itervalues())
 
-    def get_user_by_id(self, contextid='', userid=''):
-        return next(self.zap._request(self.zap.base + 'users/view/getUserById/', {'contextId' : contextid, 'userId' : userid}).itervalues())
+    def get_user_by_id(self, contextid=None, userid=None):
+        params = {}
+        if contextid is not None:
+            params['contextId'] = contextid
+        if userid is not None:
+            params['userId'] = userid
+        return next(self.zap._request(self.zap.base + 'users/view/getUserById/', params).itervalues())
 
     def get_authentication_credentials_config_params(self, contextid):
         return next(self.zap._request(self.zap.base + 'users/view/getAuthenticationCredentialsConfigParams/', {'contextId' : contextid}).itervalues())
@@ -48,7 +56,10 @@ class users(object):
     def set_user_name(self, contextid, userid, name, apikey=''):
         return next(self.zap._request(self.zap.base + 'users/action/setUserName/', {'contextId' : contextid, 'userId' : userid, 'name' : name, 'apikey' : apikey}).itervalues())
 
-    def set_authentication_credentials(self, contextid, userid, authcredentialsconfigparams='', apikey=''):
-        return next(self.zap._request(self.zap.base + 'users/action/setAuthenticationCredentials/', {'contextId' : contextid, 'userId' : userid, 'authCredentialsConfigParams' : authcredentialsconfigparams, 'apikey' : apikey}).itervalues())
+    def set_authentication_credentials(self, contextid, userid, authcredentialsconfigparams=None, apikey=''):
+        params = {'contextId' : contextid, 'userId' : userid, 'apikey' : apikey}
+        if authcredentialsconfigparams is not None:
+            params['authCredentialsConfigParams'] = authcredentialsconfigparams
+        return next(self.zap._request(self.zap.base + 'users/action/setAuthenticationCredentials/', params).itervalues())
 
 
diff --git a/src/org/zaproxy/clientapi/gen/Ascan.java b/src/org/zaproxy/clientapi/gen/Ascan.java
index 3a0d44083..2bc59f6d6 100644
--- a/src/org/zaproxy/clientapi/gen/Ascan.java
+++ b/src/org/zaproxy/clientapi/gen/Ascan.java
@@ -41,14 +41,18 @@ public class Ascan {
 	public ApiResponse status(String scanid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("scanId", scanid);
+		if (scanid != null) {
+			map.put("scanId", scanid);
+		}
 		return api.callApi("ascan", "view", "status", map);
 	}
 
 	public ApiResponse scanProgress(String scanid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("scanId", scanid);
+		if (scanid != null) {
+			map.put("scanId", scanid);
+		}
 		return api.callApi("ascan", "view", "scanProgress", map);
 	}
 
@@ -84,16 +88,24 @@ public class Ascan {
 	public ApiResponse scanners(String scanpolicyname, String policyid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("scanPolicyName", scanpolicyname);
-		map.put("policyId", policyid);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
+		if (policyid != null) {
+			map.put("policyId", policyid);
+		}
 		return api.callApi("ascan", "view", "scanners", map);
 	}
 
 	public ApiResponse policies(String scanpolicyname, String policyid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("scanPolicyName", scanpolicyname);
-		map.put("policyId", policyid);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
+		if (policyid != null) {
+			map.put("policyId", policyid);
+		}
 		return api.callApi("ascan", "view", "policies", map);
 	}
 
@@ -199,11 +211,21 @@ public class Ascan {
 			map.put("apikey", apikey);
 		}
 		map.put("url", url);
-		map.put("recurse", recurse);
-		map.put("inScopeOnly", inscopeonly);
-		map.put("scanPolicyName", scanpolicyname);
-		map.put("method", method);
-		map.put("postData", postdata);
+		if (recurse != null) {
+			map.put("recurse", recurse);
+		}
+		if (inscopeonly != null) {
+			map.put("inScopeOnly", inscopeonly);
+		}
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
+		if (method != null) {
+			map.put("method", method);
+		}
+		if (postdata != null) {
+			map.put("postData", postdata);
+		}
 		return api.callApi("ascan", "action", "scan", map);
 	}
 
@@ -219,10 +241,18 @@ public class Ascan {
 		map.put("url", url);
 		map.put("contextId", contextid);
 		map.put("userId", userid);
-		map.put("recurse", recurse);
-		map.put("scanPolicyName", scanpolicyname);
-		map.put("method", method);
-		map.put("postData", postdata);
+		if (recurse != null) {
+			map.put("recurse", recurse);
+		}
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
+		if (method != null) {
+			map.put("method", method);
+		}
+		if (postdata != null) {
+			map.put("postData", postdata);
+		}
 		return api.callApi("ascan", "action", "scanAsUser", map);
 	}
 
@@ -327,7 +357,9 @@ public class Ascan {
 		if (apikey != null) {
 			map.put("apikey", apikey);
 		}
-		map.put("scanPolicyName", scanpolicyname);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
 		return api.callApi("ascan", "action", "enableAllScanners", map);
 	}
 
@@ -337,7 +369,9 @@ public class Ascan {
 		if (apikey != null) {
 			map.put("apikey", apikey);
 		}
-		map.put("scanPolicyName", scanpolicyname);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
 		return api.callApi("ascan", "action", "disableAllScanners", map);
 	}
 
@@ -379,7 +413,9 @@ public class Ascan {
 		}
 		map.put("id", id);
 		map.put("attackStrength", attackstrength);
-		map.put("scanPolicyName", scanpolicyname);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
 		return api.callApi("ascan", "action", "setPolicyAttackStrength", map);
 	}
 
@@ -391,7 +427,9 @@ public class Ascan {
 		}
 		map.put("id", id);
 		map.put("alertThreshold", alertthreshold);
-		map.put("scanPolicyName", scanpolicyname);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
 		return api.callApi("ascan", "action", "setPolicyAlertThreshold", map);
 	}
 
@@ -403,7 +441,9 @@ public class Ascan {
 		}
 		map.put("id", id);
 		map.put("attackStrength", attackstrength);
-		map.put("scanPolicyName", scanpolicyname);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
 		return api.callApi("ascan", "action", "setScannerAttackStrength", map);
 	}
 
@@ -415,7 +455,9 @@ public class Ascan {
 		}
 		map.put("id", id);
 		map.put("alertThreshold", alertthreshold);
-		map.put("scanPolicyName", scanpolicyname);
+		if (scanpolicyname != null) {
+			map.put("scanPolicyName", scanpolicyname);
+		}
 		return api.callApi("ascan", "action", "setScannerAlertThreshold", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/Authentication.java b/src/org/zaproxy/clientapi/gen/Authentication.java
index 2a689aedc..d96debb08 100644
--- a/src/org/zaproxy/clientapi/gen/Authentication.java
+++ b/src/org/zaproxy/clientapi/gen/Authentication.java
@@ -79,7 +79,9 @@ public class Authentication {
 		}
 		map.put("contextId", contextid);
 		map.put("authMethodName", authmethodname);
-		map.put("authMethodConfigParams", authmethodconfigparams);
+		if (authmethodconfigparams != null) {
+			map.put("authMethodConfigParams", authmethodconfigparams);
+		}
 		return api.callApi("authentication", "action", "setAuthenticationMethod", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/Core.java b/src/org/zaproxy/clientapi/gen/Core.java
index 8fc232597..8bc2b30b1 100644
--- a/src/org/zaproxy/clientapi/gen/Core.java
+++ b/src/org/zaproxy/clientapi/gen/Core.java
@@ -54,9 +54,15 @@ public class Core {
 	public ApiResponse alerts(String baseurl, String start, String count) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("core", "view", "alerts", map);
 	}
 
@@ -66,7 +72,9 @@ public class Core {
 	public ApiResponse numberOfAlerts(String baseurl) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("baseurl", baseurl);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
 		return api.callApi("core", "view", "numberOfAlerts", map);
 	}
 
@@ -110,9 +118,15 @@ public class Core {
 	public ApiResponse messages(String baseurl, String start, String count) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("core", "view", "messages", map);
 	}
 
@@ -122,7 +136,9 @@ public class Core {
 	public ApiResponse numberOfMessages(String baseurl) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("baseurl", baseurl);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
 		return api.callApi("core", "view", "numberOfMessages", map);
 	}
 
@@ -150,7 +166,9 @@ public class Core {
 	public ApiResponse stats(String keyprefix) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("keyPrefix", keyprefix);
+		if (keyprefix != null) {
+			map.put("keyPrefix", keyprefix);
+		}
 		return api.callApi("core", "view", "stats", map);
 	}
 
@@ -255,8 +273,12 @@ public class Core {
 		if (apikey != null) {
 			map.put("apikey", apikey);
 		}
-		map.put("name", name);
-		map.put("overwrite", overwrite);
+		if (name != null) {
+			map.put("name", name);
+		}
+		if (overwrite != null) {
+			map.put("overwrite", overwrite);
+		}
 		return api.callApi("core", "action", "newSession", map);
 	}
 
@@ -283,7 +305,9 @@ public class Core {
 			map.put("apikey", apikey);
 		}
 		map.put("name", name);
-		map.put("overwrite", overwrite);
+		if (overwrite != null) {
+			map.put("overwrite", overwrite);
+		}
 		return api.callApi("core", "action", "saveSession", map);
 	}
 
@@ -344,7 +368,9 @@ public class Core {
 			map.put("apikey", apikey);
 		}
 		map.put("request", request);
-		map.put("followRedirects", followredirects);
+		if (followredirects != null) {
+			map.put("followRedirects", followredirects);
+		}
 		return api.callApi("core", "action", "sendRequest", map);
 	}
 
@@ -580,9 +606,15 @@ public class Core {
 		if (apikey != null) {
 			map.put("apikey", apikey);
 		}
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApiOther("core", "other", "messagesHar", map);
 	}
 
@@ -596,7 +628,9 @@ public class Core {
 			map.put("apikey", apikey);
 		}
 		map.put("request", request);
-		map.put("followRedirects", followredirects);
+		if (followredirects != null) {
+			map.put("followRedirects", followredirects);
+		}
 		return api.callApiOther("core", "other", "sendHarRequest", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/HttpSessions.java b/src/org/zaproxy/clientapi/gen/HttpSessions.java
index ca45b1199..612e76f22 100644
--- a/src/org/zaproxy/clientapi/gen/HttpSessions.java
+++ b/src/org/zaproxy/clientapi/gen/HttpSessions.java
@@ -45,7 +45,9 @@ public class HttpSessions {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("site", site);
-		map.put("session", session);
+		if (session != null) {
+			map.put("session", session);
+		}
 		return api.callApi("httpSessions", "view", "sessions", map);
 	}
 
@@ -79,7 +81,9 @@ public class HttpSessions {
 			map.put("apikey", apikey);
 		}
 		map.put("site", site);
-		map.put("session", session);
+		if (session != null) {
+			map.put("session", session);
+		}
 		return api.callApi("httpSessions", "action", "createEmptySession", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/Params.java b/src/org/zaproxy/clientapi/gen/Params.java
index dfb1bf3fb..bd236b548 100644
--- a/src/org/zaproxy/clientapi/gen/Params.java
+++ b/src/org/zaproxy/clientapi/gen/Params.java
@@ -44,7 +44,9 @@ public class Params {
 	public ApiResponse params(String site) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("site", site);
+		if (site != null) {
+			map.put("site", site);
+		}
 		return api.callApi("params", "view", "params", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/Script.java b/src/org/zaproxy/clientapi/gen/Script.java
index 28f2a08f0..2d0051cb9 100644
--- a/src/org/zaproxy/clientapi/gen/Script.java
+++ b/src/org/zaproxy/clientapi/gen/Script.java
@@ -93,7 +93,9 @@ public class Script {
 		map.put("scriptType", scripttype);
 		map.put("scriptEngine", scriptengine);
 		map.put("fileName", filename);
-		map.put("scriptDescription", scriptdescription);
+		if (scriptdescription != null) {
+			map.put("scriptDescription", scriptdescription);
+		}
 		return api.callApi("script", "action", "load", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/Search.java b/src/org/zaproxy/clientapi/gen/Search.java
index d9b11a0c4..52261d0d3 100644
--- a/src/org/zaproxy/clientapi/gen/Search.java
+++ b/src/org/zaproxy/clientapi/gen/Search.java
@@ -42,9 +42,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "urlsByUrlRegex", map);
 	}
 
@@ -52,9 +58,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "urlsByRequestRegex", map);
 	}
 
@@ -62,9 +74,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "urlsByResponseRegex", map);
 	}
 
@@ -72,9 +90,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "urlsByHeaderRegex", map);
 	}
 
@@ -82,9 +106,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "messagesByUrlRegex", map);
 	}
 
@@ -92,9 +122,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "messagesByRequestRegex", map);
 	}
 
@@ -102,9 +138,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "messagesByResponseRegex", map);
 	}
 
@@ -112,9 +154,15 @@ public class Search {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApi("search", "view", "messagesByHeaderRegex", map);
 	}
 
@@ -125,9 +173,15 @@ public class Search {
 			map.put("apikey", apikey);
 		}
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApiOther("search", "other", "harByUrlRegex", map);
 	}
 
@@ -138,9 +192,15 @@ public class Search {
 			map.put("apikey", apikey);
 		}
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApiOther("search", "other", "harByRequestRegex", map);
 	}
 
@@ -151,9 +211,15 @@ public class Search {
 			map.put("apikey", apikey);
 		}
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApiOther("search", "other", "harByResponseRegex", map);
 	}
 
@@ -164,9 +230,15 @@ public class Search {
 			map.put("apikey", apikey);
 		}
 		map.put("regex", regex);
-		map.put("baseurl", baseurl);
-		map.put("start", start);
-		map.put("count", count);
+		if (baseurl != null) {
+			map.put("baseurl", baseurl);
+		}
+		if (start != null) {
+			map.put("start", start);
+		}
+		if (count != null) {
+			map.put("count", count);
+		}
 		return api.callApiOther("search", "other", "harByHeaderRegex", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/SessionManagement.java b/src/org/zaproxy/clientapi/gen/SessionManagement.java
index f8307fc7b..0167684f5 100644
--- a/src/org/zaproxy/clientapi/gen/SessionManagement.java
+++ b/src/org/zaproxy/clientapi/gen/SessionManagement.java
@@ -65,7 +65,9 @@ public class SessionManagement {
 		}
 		map.put("contextId", contextid);
 		map.put("methodName", methodname);
-		map.put("methodConfigParams", methodconfigparams);
+		if (methodconfigparams != null) {
+			map.put("methodConfigParams", methodconfigparams);
+		}
 		return api.callApi("sessionManagement", "action", "setSessionManagementMethod", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/Spider.java b/src/org/zaproxy/clientapi/gen/Spider.java
index cb6e8156a..5dfda8879 100644
--- a/src/org/zaproxy/clientapi/gen/Spider.java
+++ b/src/org/zaproxy/clientapi/gen/Spider.java
@@ -41,14 +41,18 @@ public class Spider {
 	public ApiResponse status(String scanid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("scanId", scanid);
+		if (scanid != null) {
+			map.put("scanId", scanid);
+		}
 		return api.callApi("spider", "view", "status", map);
 	}
 
 	public ApiResponse results(String scanid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("scanId", scanid);
+		if (scanid != null) {
+			map.put("scanId", scanid);
+		}
 		return api.callApi("spider", "view", "results", map);
 	}
 
@@ -187,9 +191,15 @@ public class Spider {
 			map.put("apikey", apikey);
 		}
 		map.put("url", url);
-		map.put("maxChildren", maxchildren);
-		map.put("recurse", recurse);
-		map.put("contextName", contextname);
+		if (maxchildren != null) {
+			map.put("maxChildren", maxchildren);
+		}
+		if (recurse != null) {
+			map.put("recurse", recurse);
+		}
+		if (contextname != null) {
+			map.put("contextName", contextname);
+		}
 		return api.callApi("spider", "action", "scan", map);
 	}
 
@@ -205,8 +215,12 @@ public class Spider {
 		map.put("url", url);
 		map.put("contextId", contextid);
 		map.put("userId", userid);
-		map.put("maxChildren", maxchildren);
-		map.put("recurse", recurse);
+		if (maxchildren != null) {
+			map.put("maxChildren", maxchildren);
+		}
+		if (recurse != null) {
+			map.put("recurse", recurse);
+		}
 		return api.callApi("spider", "action", "scanAsUser", map);
 	}
 
@@ -236,7 +250,9 @@ public class Spider {
 		if (apikey != null) {
 			map.put("apikey", apikey);
 		}
-		map.put("scanId", scanid);
+		if (scanid != null) {
+			map.put("scanId", scanid);
+		}
 		return api.callApi("spider", "action", "stop", map);
 	}
 
diff --git a/src/org/zaproxy/clientapi/gen/Users.java b/src/org/zaproxy/clientapi/gen/Users.java
index 5ed331b16..6feae91da 100644
--- a/src/org/zaproxy/clientapi/gen/Users.java
+++ b/src/org/zaproxy/clientapi/gen/Users.java
@@ -41,15 +41,21 @@ public class Users {
 	public ApiResponse usersList(String contextid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("contextId", contextid);
+		if (contextid != null) {
+			map.put("contextId", contextid);
+		}
 		return api.callApi("users", "view", "usersList", map);
 	}
 
 	public ApiResponse getUserById(String contextid, String userid) throws ClientApiException {
 		Map<String, String> map = null;
 		map = new HashMap<String, String>();
-		map.put("contextId", contextid);
-		map.put("userId", userid);
+		if (contextid != null) {
+			map.put("contextId", contextid);
+		}
+		if (userid != null) {
+			map.put("userId", userid);
+		}
 		return api.callApi("users", "view", "getUserById", map);
 	}
 
@@ -122,7 +128,9 @@ public class Users {
 		}
 		map.put("contextId", contextid);
 		map.put("userId", userid);
-		map.put("authCredentialsConfigParams", authcredentialsconfigparams);
+		if (authcredentialsconfigparams != null) {
+			map.put("authCredentialsConfigParams", authcredentialsconfigparams);
+		}
 		return api.callApi("users", "action", "setAuthenticationCredentials", map);
 	}
 
diff --git a/src/org/zaproxy/zap/extension/api/JavaAPIGenerator.java b/src/org/zaproxy/zap/extension/api/JavaAPIGenerator.java
index 7256b2811..9f914163a 100644
--- a/src/org/zaproxy/zap/extension/api/JavaAPIGenerator.java
+++ b/src/org/zaproxy/zap/extension/api/JavaAPIGenerator.java
@@ -188,7 +188,10 @@ public class JavaAPIGenerator {
 			}
 			if (element.getOptionalParamNames() != null) {
 				for (String param : element.getOptionalParamNames()) {
-					out.write("\t\tmap.put(\"" + param + "\", ");
+					out.write("\t\tif (");
+					out.write(param.toLowerCase());
+					out.write(" != null) {\n");
+					out.write("\t\t\tmap.put(\"" + param + "\", ");
 					if (param.toLowerCase().equals("boolean")) {
 						out.write("Boolean.toString(bool)");
 					} else if (param.toLowerCase().equals("integer")) {
@@ -197,6 +200,7 @@ public class JavaAPIGenerator {
 						out.write(param.toLowerCase());
 					}
 					out.write(");\n");
+					out.write("\t\t}\n");
 				}
 			}
 		}
diff --git a/src/org/zaproxy/zap/extension/api/NodeJSAPIGenerator.java b/src/org/zaproxy/zap/extension/api/NodeJSAPIGenerator.java
index b5fce9a3a..e51ddffc0 100644
--- a/src/org/zaproxy/zap/extension/api/NodeJSAPIGenerator.java
+++ b/src/org/zaproxy/zap/extension/api/NodeJSAPIGenerator.java
@@ -157,46 +157,54 @@ public class NodeJSAPIGenerator {
             out.write("    " + API.API_KEY_PARAM + " = null;\n");
             out.write("  }\n");
         }
-        String method = "request";
-        if (type.equals("other")) {
-            method = "requestOther";
-        }
-        out.write("  this.api." + method + "('/" + component + "/" + type + "/" + element.getName() + "/'");
 
         // , {'url': url}))
+        StringBuilder reqParams = new StringBuilder();
         if (hasParams) {
-            out.write(", {");
+            reqParams.append("{");
             boolean first = true;
             if (element.getMandatoryParamNames() != null) {
                 for (String param : element.getMandatoryParamNames()) {
                     if (first) {
                         first = false;
                     } else {
-                        out.write(", ");
+                        reqParams.append(", ");
                     }
-                    out.write("'" + param + "' : " + safeName(param.toLowerCase()));
-                }
-            }
-            if (element.getOptionalParamNames() != null) {
-                for (String param : element.getOptionalParamNames()) {
-                    if (first) {
-                        first = false;
-                    } else {
-                        out.write(", ");
-                    }
-                    out.write("'" + param + "' : " + safeName(param.toLowerCase()));
+                    reqParams.append("'" + param + "' : " + safeName(param.toLowerCase()));
                 }
             }
             if (type.equals("action") || type.equals("other")) {
                 // Always add the API key - we've no way of knowing if it will be required or not
-                if (first) {
-                    first = false;
-                } else {
-                    out.write(", ");
+                if (!first) {
+                    reqParams.append(", ");
                 }
-                out.write("'" + API.API_KEY_PARAM + "' : " + API.API_KEY_PARAM);
+                reqParams.append("'" + API.API_KEY_PARAM + "' : " + API.API_KEY_PARAM);
             }
-            out.write("}");
+            reqParams.append("}");
+
+            if (element.getOptionalParamNames() != null && !element.getOptionalParamNames().isEmpty()) {
+                out.write("  var params = ");
+                out.write(reqParams.toString());
+                out.write(";\n");
+                reqParams.replace(0, reqParams.length(), "params");
+
+                for (String param : element.getOptionalParamNames()) {
+                    out.write("  if ("+safeName(param.toLowerCase())+" && "+safeName(param.toLowerCase())+" !== null) {\n");
+                    out.write("    params['" + param + "'] = " + safeName(param.toLowerCase())+";\n");
+                    out.write("  }\n");
+                }
+            }
+        }
+        
+        String method = "request";
+        if (type.equals("other")) {
+            method = "requestOther";
+        }
+        out.write("  this.api." + method + "('/" + component + "/" + type + "/" + element.getName() + "/'");
+
+        if (hasParams) {
+            out.write(", ");
+            out.write(reqParams.toString());
         }
         out.write(", callback);\n");
         out.write("};\n\n");
diff --git a/src/org/zaproxy/zap/extension/api/PhpAPIGenerator.java b/src/org/zaproxy/zap/extension/api/PhpAPIGenerator.java
index 7fe6909d6..c9a28acb7 100644
--- a/src/org/zaproxy/zap/extension/api/PhpAPIGenerator.java
+++ b/src/org/zaproxy/zap/extension/api/PhpAPIGenerator.java
@@ -139,7 +139,7 @@ public class PhpAPIGenerator {
 			    if (paramMan != "" || paramOpt != "") {
 			        paramOpt += ", ";
 			    }
-				paramOpt += "$" + param.toLowerCase() + "=''";
+				paramOpt += "$" + param.toLowerCase() + "=NULL";
 			}
 			out.write(paramOpt);
 		}
@@ -155,49 +155,57 @@ public class PhpAPIGenerator {
 
 		out.write(") {\n");
 
-		String method = "request";
-		String baseUrl = "base";
-		if (type.equals("other")) {
-			method += "other";
-			baseUrl += "other";
-		}
-
-		out.write("\t\treturn $this->zap->" + method + "($this->zap->" + baseUrl + " . '" +
-				component + "/" + type + "/" + element.getName() + "/'");
-
+		StringBuilder reqParams = new StringBuilder();
 		if (hasParams) {
-			out.write(", array(");
+			reqParams.append("array(");
 			boolean first = true;
 			if (element.getMandatoryParamNames() != null) {
 				for (String param : element.getMandatoryParamNames()) {
 					if (first) {
 						first = false;
 					} else {
-						out.write(", ");
+						reqParams.append(", ");
 					}
-					out.write("'" + param + "' => $" + param.toLowerCase());
+					reqParams.append("'" + param + "' => $" + param.toLowerCase());
 				}
 			}
-			if (element.getOptionalParamNames() != null) {
-				for (String param : element.getOptionalParamNames()) {
-					if (first) {
-						first = false;
-					} else {
-						out.write(", ");
-					}
-					out.write("'" + param + "' => $" + param.toLowerCase());
+			if (type.equals("action") || type.equals("other")) {
+				// Always add the API key - we've no way of knowing if it will be required or not
+				if (!first) {
+					reqParams.append(", ");
 				}
+				reqParams.append("'").append(API.API_KEY_PARAM).append("' => $").append(API.API_KEY_PARAM);
 			}
-			if (type.equals("action") || type.equals("other")) {
-					// Always add the API key - we've no way of knowing if it will be required or not
-					if (first) {
-						first = false;
-					} else {
-						out.write(", ");
-					}
-					out.write("'" + API.API_KEY_PARAM + "' => $" + API.API_KEY_PARAM);
+			reqParams.append(")");
+
+			if (element.getOptionalParamNames() != null && !element.getOptionalParamNames().isEmpty()) {
+				out.write("\t\t$params = ");
+				out.write(reqParams.toString());
+				out.write(";\n");
+				reqParams.replace(0, reqParams.length(), "$params");
+
+				for (String param : element.getOptionalParamNames()) {
+					out.write("\t\tif ($" + param.toLowerCase() + " !== NULL) {\n");
+					out.write("\t\t\t$params['" + param + "'] = $" + param.toLowerCase() + ";\n");
+					out.write("\t\t}\n");
+				}
 			}
-			out.write("))");
+		}
+
+		String method = "request";
+		String baseUrl = "base";
+		if (type.equals("other")) {
+			method += "other";
+			baseUrl += "other";
+		}
+
+		out.write("\t\treturn $this->zap->" + method + "($this->zap->" + baseUrl + " . '" +
+				component + "/" + type + "/" + element.getName() + "/'");
+
+		if (hasParams) {
+			out.write(", ");
+			out.write(reqParams.toString());
+			out.write(")");
 			if (type.equals("view")) {
 				out.write("->{'" + element.getName() + "'};\n");
 			} else {
diff --git a/src/org/zaproxy/zap/extension/api/PythonAPIGenerator.java b/src/org/zaproxy/zap/extension/api/PythonAPIGenerator.java
index a84165bd6..dd7084cc8 100644
--- a/src/org/zaproxy/zap/extension/api/PythonAPIGenerator.java
+++ b/src/org/zaproxy/zap/extension/api/PythonAPIGenerator.java
@@ -106,7 +106,7 @@ public class PythonAPIGenerator {
 		}
 		if (element.getOptionalParamNames() != null) {
 			for (String param : element.getOptionalParamNames()) {
-				out.write(", " + param.toLowerCase() + "=''");
+				out.write(", " + param.toLowerCase() + "=None");
 			}
 		}
 
@@ -148,50 +148,56 @@ public class PythonAPIGenerator {
 			method += "_other";
 			baseUrl += "_other";
 		}
-		
-		if (type.equals("other")) {
-			out.write("        return ("); 
-		} else {
-			out.write("        return next("); 
-		}
-		out.write("self.zap." + method + "(self.zap." + baseUrl + " + '" + 
-				component + "/" + type + "/" + element.getName() + "/'");
-		
-		// , {'url': url}))
+
+		StringBuilder reqParams = new StringBuilder();
 		if (hasParams) {
-			out.write(", {");
+			reqParams.append("{");
 			boolean first = true;
 			if (element.getMandatoryParamNames() != null) {
 				for (String param : element.getMandatoryParamNames()) {
 					if (first) {
 						first = false;
 					} else {
-						out.write(", ");
-					}
-					out.write("'" + param + "' : " + param.toLowerCase());
-				}
-			}
-			if (element.getOptionalParamNames() != null) {
-				for (String param : element.getOptionalParamNames()) {
-					if (first) {
-						first = false;
-					} else {
-						out.write(", ");
+						reqParams.append(", ");
 					}
-					out.write("'" + param + "' : " + param.toLowerCase());
+					reqParams.append("'" + param + "' : " + param.toLowerCase());
 				}
 			}
 			if (type.equals("action") || type.equals("other")) {
 				// Always add the API key - we've no way of knowing if it will be required or not
-				if (first) {
-					first = false;
-				} else {
-					out.write(", ");
+				if (!first) {
+					reqParams.append(", ");
 				}
-				out.write("'" + API.API_KEY_PARAM + "' : " + API.API_KEY_PARAM);
+				reqParams.append("'").append(API.API_KEY_PARAM).append("' : ").append(API.API_KEY_PARAM);
 			}
+			reqParams.append("}");
 
-			out.write("})");
+			if (element.getOptionalParamNames() != null && !element.getOptionalParamNames().isEmpty()) {
+				out.write("        params = ");
+				out.write(reqParams.toString());
+				out.write("\n");
+				reqParams.replace(0, reqParams.length(), "params");
+
+				for (String param : element.getOptionalParamNames()) {
+					out.write("        if " + param.toLowerCase() + " is not None:\n");
+					out.write("            params['" + param + "'] = " + param.toLowerCase() + "\n");
+				}
+			}
+		}
+		
+		if (type.equals("other")) {
+			out.write("        return ("); 
+		} else {
+			out.write("        return next("); 
+		}
+		out.write("self.zap." + method + "(self.zap." + baseUrl + " + '" + 
+				component + "/" + type + "/" + element.getName() + "/'");
+		
+		// , {'url': url}))
+		if (hasParams) {
+			out.write(", ");
+			out.write(reqParams.toString());
+			out.write(")");
 			if (!type.equals("other")) {
 				out.write(".itervalues())");
 			} else {
