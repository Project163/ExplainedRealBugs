diff --git a/src/org/zaproxy/zap/authentication/ManualAuthenticationMethodType.java b/src/org/zaproxy/zap/authentication/ManualAuthenticationMethodType.java
index e3d3a2dcc..acffc629e 100644
--- a/src/org/zaproxy/zap/authentication/ManualAuthenticationMethodType.java
+++ b/src/org/zaproxy/zap/authentication/ManualAuthenticationMethodType.java
@@ -200,6 +200,9 @@ public class ManualAuthenticationMethodType extends AuthenticationMethodType {
 
 		@Override
 		public String encode(String parentStringSeparator) {
+			if (selectedSession == null) {
+				return "";
+			}
 			return Base64.encodeBase64String(selectedSession.getName().getBytes());
 		}
 
