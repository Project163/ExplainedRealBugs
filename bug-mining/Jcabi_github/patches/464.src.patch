diff --git a/pom.xml b/pom.xml
index 3ccef1675..b350d7879 100644
--- a/pom.xml
+++ b/pom.xml
@@ -125,6 +125,12 @@
             <version>1.9</version>
             <scope>test</scope>
         </dependency>
+        <dependency>
+            <groupId>com.google.guava</groupId>
+            <artifactId>guava</artifactId>
+            <version>16.0</version>
+            <scope>test</scope>
+        </dependency>
         <dependency>
             <groupId>org.reflections</groupId>
             <artifactId>reflections</artifactId>
diff --git a/src/main/java/com/jcabi/github/Smarts.java b/src/main/java/com/jcabi/github/Smarts.java
index 950c85a5d..9aead4ace 100644
--- a/src/main/java/com/jcabi/github/Smarts.java
+++ b/src/main/java/com/jcabi/github/Smarts.java
@@ -29,7 +29,6 @@
  */
 package com.jcabi.github;
 
-import com.jcabi.aspects.Immutable;
 import com.jcabi.log.Logger;
 import java.lang.reflect.Constructor;
 import java.lang.reflect.InvocationTargetException;
diff --git a/src/test/java/com/jcabi/github/rules/ClasspathRule.java b/src/test/java/com/jcabi/github/ClasspathRule.java
similarity index 78%
rename from src/test/java/com/jcabi/github/rules/ClasspathRule.java
rename to src/test/java/com/jcabi/github/ClasspathRule.java
index edc021bb7..baa60a0ab 100644
--- a/src/test/java/com/jcabi/github/rules/ClasspathRule.java
+++ b/src/test/java/com/jcabi/github/ClasspathRule.java
@@ -1,5 +1,5 @@
 /**
- * Copyright (c) 2012-2013, JCabi.com
+ * Copyright (c) 2013-2014, JCabi.com
  * All rights reserved.
  *
  * Redistribution and use in source and binary forms, with or without
@@ -27,10 +27,10 @@
  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
  * OF THE POSSIBILITY OF SUCH DAMAGE.
  */
-package com.jcabi.github.rules;
+package com.jcabi.github;
 
-import java.util.ArrayList;
-import java.util.Collection;
+import com.google.common.base.Predicate;
+import com.google.common.collect.Iterables;
 import java.util.LinkedList;
 import java.util.List;
 import java.util.Set;
@@ -56,7 +56,7 @@ public final class ClasspathRule implements TestRule {
      * Provides all classes in package 'com.jcabi.github'.
      * @return Classes
      */
-    public Collection<Class<?>> allTypes() {
+    public Iterable<Class<?>> allTypes() {
         final List<ClassLoader> classloaders = new LinkedList<ClassLoader>();
         classloaders.add(ClasspathHelper.contextClassLoader());
         classloaders.add(ClasspathHelper.staticClassLoader());
@@ -75,18 +75,23 @@ public final class ClasspathRule implements TestRule {
                     )
                 )
         ).getSubTypesOf(Object.class);
-        final Collection<Class<?>> result = new ArrayList<Class<?>>(0);
-        result.addAll(all);
-        for (final Class<?> clazz : all) {
-            final String name = clazz.getName();
-            if (name.endsWith("Test")
-                || name.endsWith("ITCase")
-                || name.contains("$")
-                || name.endsWith("ClasspathRule")) {
-                result.remove(clazz);
-            }
-        }
-        return result;
+        return Iterables.filter(
+            all,
+            new Predicate<Class<?>>() {
+                @Override
+                public boolean apply(final Class<?> input) {
+                    final String name = input.getName();
+                    // @checkstyle BooleanExpressionComplexityCheck (10 lines)
+                    if (name.endsWith("Test")
+                        || name.endsWith("ITCase")
+                        || name.endsWith("ClasspathRule")
+                        || (input.getEnclosingClass() != null
+                        && !name.endsWith("Smart"))) {
+                        return false;
+                    }
+                    return true;
+                }
+            });
     }
 
     @Override
@@ -94,6 +99,7 @@ public final class ClasspathRule implements TestRule {
         final Description description) {
         return new Statement() {
             @Override
+            // @checkstyle IllegalThrowsCheck (1 line)
             public void evaluate() throws Throwable {
                 statement.evaluate();
             }
diff --git a/src/test/java/com/jcabi/github/ImmutabilityTest.java b/src/test/java/com/jcabi/github/ImmutabilityTest.java
index 49476f1ce..8a3fb7826 100644
--- a/src/test/java/com/jcabi/github/ImmutabilityTest.java
+++ b/src/test/java/com/jcabi/github/ImmutabilityTest.java
@@ -1,5 +1,5 @@
 /**
- * Copyright (c) 2012-2013, JCabi.com
+ * Copyright (c) 2013-2014, JCabi.com
  * All rights reserved.
  *
  * Redistribution and use in source and binary forms, with or without
@@ -29,12 +29,12 @@
  */
 package com.jcabi.github;
 
+import com.google.common.base.Predicate;
 import com.google.common.collect.ImmutableSet;
+import com.google.common.collect.Iterables;
 import com.jcabi.aspects.Immutable;
-import com.jcabi.github.rules.ClasspathRule;
-import java.lang.annotation.Annotation;
-import java.util.Collection;
 import java.util.Set;
+import org.hamcrest.CustomTypeSafeMatcher;
 import org.hamcrest.MatcherAssert;
 import org.hamcrest.Matchers;
 import org.junit.Rule;
@@ -50,6 +50,10 @@ import org.junit.Test;
  */
 public final class ImmutabilityTest {
 
+    /**
+     * ClasspathRule.
+     * @checkstyle VisibilityModifierCheck (3 lines)
+     */
     @Rule
     public final transient ClasspathRule classpath = new ClasspathRule();
 
@@ -62,25 +66,31 @@ public final class ImmutabilityTest {
      */
     @Test
     public void checkImmutability() throws Exception {
-        final Collection<Class<?>> result = classpath.allTypes();
-        final Class<? extends Annotation> expected = Immutable.class;
-        final Set<String> skip = this.skip();
-        for (final Class<?> clazz : result) {
-            if (skip.contains(clazz.getName())) {
-                continue;
-            }
-            MatcherAssert.assertThat(
-                String.format(
-                    "Class %s should have annotation %s",
-                    clazz.getName(),
-                    expected.getSimpleName()
-                ),
-                clazz.isAnnotationPresent(expected),
-                Matchers.is(true)
-            );
-        }
+        MatcherAssert.assertThat(
+            Iterables.filter(
+                this.classpath.allTypes(),
+                new Predicate<Class<?>>() {
+                    @Override
+                    public boolean apply(final Class<?> input) {
+                        return !skip().contains(input.getName());
+                    }
+                }
+            ),
+            Matchers.everyItem(
+                new CustomTypeSafeMatcher<Class<?>>("annotated type") {
+                    @Override
+                    protected boolean matchesSafely(final Class<?> item) {
+                        return item.isAnnotationPresent(Immutable.class);
+                    }
+                }
+            )
+        );
     }
 
+    /**
+     * Get set of class names to be skipped.
+     * @return Set
+     */
     private Set<String> skip() {
         return ImmutableSet.<String>builder()
             .add("com.jcabi.github.mock.JsonNode")
diff --git a/src/test/java/com/jcabi/github/rules/package-info.java b/src/test/java/com/jcabi/github/rules/package-info.java
deleted file mode 100644
index 9af61f3aa..000000000
--- a/src/test/java/com/jcabi/github/rules/package-info.java
+++ /dev/null
@@ -1,38 +0,0 @@
-/**
- * Copyright (c) 2012-2013, JCabi.com
- * All rights reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met: 1) Redistributions of source code must retain the above
- * copyright notice, this list of conditions and the following
- * disclaimer. 2) Redistributions in binary form must reproduce the above
- * copyright notice, this list of conditions and the following
- * disclaimer in the documentation and/or other materials provided
- * with the distribution. 3) Neither the name of the jcabi.com nor
- * the names of its contributors may be used to endorse or promote
- * products derived from this software without specific prior written
- * permission.
- *
- * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
- * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT
- * NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
- * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
- * THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
- * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
- * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
- * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
- * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
- * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
- * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
- * OF THE POSSIBILITY OF SUCH DAMAGE.
- */
-
-/**
- * Object Oriented Github API, tests.
- *
- * @author Yegor Bugayenko (yegor@tpc2.com)
- * @version $Id$
- * @since 0.1
- */
-package com.jcabi.github.rules;
