diff --git a/src/main/java/com/jcabi/github/mock/MkContents.java b/src/main/java/com/jcabi/github/mock/MkContents.java
index 927108bb7..1d38c89c6 100644
--- a/src/main/java/com/jcabi/github/mock/MkContents.java
+++ b/src/main/java/com/jcabi/github/mock/MkContents.java
@@ -156,6 +156,7 @@ public final class MkContents implements Contents {
      * Updates a file.
      * @param path The content path.
      * @param json JSON object containing updates to the content.
+     * @return Commit related to this update.
      * @throws IOException If any I/O problem occurs.
      */
     @Override
@@ -195,8 +196,9 @@ public final class MkContents implements Contents {
      * XML Directives for commit creation.
      * @param json Source
      * @return SHA string
+     * @throws IOException If an IO Exception occurs
      */
-    private MkRepoCommit commit(final JsonObject json) {
+    private MkRepoCommit commit(final JsonObject json) throws IOException {
         final String sha = fakeSha();
         // @checkstyle MultipleStringLiterals (40 lines)
         final Directives commit = new Directives().xpath(this.commitXpath())
@@ -217,6 +219,7 @@ public final class MkContents implements Contents {
                 .add("email").set(author.getString("email")).up()
                 .add("name").set(author.getString("name")).up();
         }
+        this.storage.apply(commit);
         return new MkRepoCommit(this.repo(), sha);
     }
 
diff --git a/src/test/java/com/jcabi/github/RtContentsTest.java b/src/test/java/com/jcabi/github/RtContentsTest.java
index a9fde87e6..bdbb673ac 100644
--- a/src/test/java/com/jcabi/github/RtContentsTest.java
+++ b/src/test/java/com/jcabi/github/RtContentsTest.java
@@ -305,9 +305,18 @@ public final class RtContentsTest {
      */
     @Test
     public void canUpdateFilesInRepository() throws Exception {
+        final String sha = "2f97253a513bbe26658881c29e27910082fef900";
+        final JsonObject resp = Json.createObjectBuilder()
+            // @checkstyle MultipleStringLiterals (1 line)
+            .add("sha", sha).build();
         final MkContainer container = new MkGrizzlyContainer().next(
-            new MkAnswer.Simple(HttpURLConnection.HTTP_OK, "{}")
-        ).start();
+            new MkAnswer.Simple(
+                HttpURLConnection.HTTP_OK,
+                Json.createObjectBuilder().add("commit", resp)
+                    .build().toString()
+            )
+        ).next(new MkAnswer.Simple(HttpURLConnection.HTTP_OK, resp.toString()))
+            .start();
         try {
             final RtContents contents = new RtContents(
                 new ApacheRequest(container.home()),
@@ -319,7 +328,10 @@ public final class RtContentsTest {
                 .add("content", "bmV3IHRlc3Q=")
                 .add("sha", "90b67dda6d5944ad167e20ec52bfed8fd56986c8")
                 .build();
-            contents.update(path, json);
+            MatcherAssert.assertThat(
+                new RepoCommit.Smart(contents.update(path, json)).sha(),
+                Matchers.is(sha)
+            );
             final MkQuery query = container.take();
             MatcherAssert.assertThat(
                 query.method(),
diff --git a/src/test/java/com/jcabi/github/mock/MkContentsTest.java b/src/test/java/com/jcabi/github/mock/MkContentsTest.java
index 58c23d21f..9a0a5db97 100644
--- a/src/test/java/com/jcabi/github/mock/MkContentsTest.java
+++ b/src/test/java/com/jcabi/github/mock/MkContentsTest.java
@@ -32,6 +32,7 @@ package com.jcabi.github.mock;
 import com.jcabi.github.Content;
 import com.jcabi.github.Contents;
 import com.jcabi.github.Repo;
+import com.jcabi.github.RepoCommit;
 import com.jcabi.xml.XML;
 import java.io.IOException;
 import java.util.concurrent.ConcurrentHashMap;
@@ -206,11 +207,12 @@ public final class MkContentsTest {
         final JsonObject update = MkContentsTest
             .content(path, "theMessage", "blah")
             .build();
-        contents.update(path, update);
-        final Content.Smart content =
-            new Content.Smart(contents.get(path, "master"));
         MatcherAssert.assertThat(
-            content.path(),
+            new RepoCommit.Smart(contents.update(path, update)).sha(),
+            Matchers.not(Matchers.isEmptyOrNullString())
+        );
+        MatcherAssert.assertThat(
+            new Content.Smart(contents.get(path, "master")).path(),
             Matchers.is(path)
         );
         MatcherAssert.assertThat(
