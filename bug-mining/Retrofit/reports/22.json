{"url":"https://api.github.com/repos/square/retrofit/issues/423","repository_url":"https://api.github.com/repos/square/retrofit","labels_url":"https://api.github.com/repos/square/retrofit/issues/423/labels{/name}","comments_url":"https://api.github.com/repos/square/retrofit/issues/423/comments","events_url":"https://api.github.com/repos/square/retrofit/issues/423/events","html_url":"https://github.com/square/retrofit/issues/423","id":28594000,"node_id":"MDU6SXNzdWUyODU5NDAwMA==","number":423,"title":"Why ErrorHandler is only for synchronous call?","user":{"login":"niqo01","id":1121251,"node_id":"MDQ6VXNlcjExMjEyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/1121251?v=4","gravatar_id":"","url":"https://api.github.com/users/niqo01","html_url":"https://github.com/niqo01","followers_url":"https://api.github.com/users/niqo01/followers","following_url":"https://api.github.com/users/niqo01/following{/other_user}","gists_url":"https://api.github.com/users/niqo01/gists{/gist_id}","starred_url":"https://api.github.com/users/niqo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niqo01/subscriptions","organizations_url":"https://api.github.com/users/niqo01/orgs","repos_url":"https://api.github.com/users/niqo01/repos","events_url":"https://api.github.com/users/niqo01/events{/privacy}","received_events_url":"https://api.github.com/users/niqo01/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2014-03-03T01:22:41Z","updated_at":"2014-03-14T18:09:59Z","closed_at":"2014-03-14T18:09:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am using Retrofit with : \n- synchronous calls,\n- Observable<...> calls\n\nMy application needs to check and raise events for 401 and some specific custom 4XX responses (Like if the client version is not supported anymore).\n\nFor the synchronous calls, I wrote the following custom `ErrorHandler`\n\n``` java\n@Override public Throwable handleError(RetrofitError cause) {\n    Response r = cause.getResponse();\n    if (r != null && r.getStatus() >= 400 && r.getStatus() <= 500) {\n      ApiError apiError = null;\n      try {\n        apiError = ApiUtils.getApiError(gson, r);\n      } catch (ConversionException e) {\n        Timber.e(e, \"Unable to parse ApiError\");\n      }\n      ApiClientException apiClientException =\n          new ApiClientException(cause, r.getStatus(), apiError);\n      if (apiClientException.isKilled) {\n        onUnAuthorized.onNext(new UnauthorizedEvent(true));\n      } else if (r.getStatus() == 401) {\n        onUnAuthorized.onNext(new UnauthorizedEvent(false));\n      }\n      return apiClientException;\n    }\n    return cause;\n  }\n```\n\nAnd right now, I need to check every `Observable<...>` calls for those specific 4XX responses.\n\nI was wondering why `ErrorHandler` is filtering only synchronous? Why not all calls? \n","closed_by":{"login":"loganj","id":18877,"node_id":"MDQ6VXNlcjE4ODc3","avatar_url":"https://avatars.githubusercontent.com/u/18877?v=4","gravatar_id":"","url":"https://api.github.com/users/loganj","html_url":"https://github.com/loganj","followers_url":"https://api.github.com/users/loganj/followers","following_url":"https://api.github.com/users/loganj/following{/other_user}","gists_url":"https://api.github.com/users/loganj/gists{/gist_id}","starred_url":"https://api.github.com/users/loganj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loganj/subscriptions","organizations_url":"https://api.github.com/users/loganj/orgs","repos_url":"https://api.github.com/users/loganj/repos","events_url":"https://api.github.com/users/loganj/events{/privacy}","received_events_url":"https://api.github.com/users/loganj/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/square/retrofit/issues/423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/square/retrofit/issues/423/timeline","performed_via_github_app":null,"state_reason":"completed"}