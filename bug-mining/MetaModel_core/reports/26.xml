<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:31:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[METAMODEL-200] No syntax available in SQL representation of Query for &quot;function approximation&quot;</title>
                <link>https://issues.apache.org/jira/browse/METAMODEL-200</link>
                <project id="12314523" key="METAMODEL">Apache MetaModel (Retired)</project>
                    <description>&lt;p&gt;In MetaModel we have a flag that can be set on e.g. &quot;COUNT( * )&quot; which indicates if the database may approximate the number instead of doing a consistent calculation. This is good for optimization scenarios where you don&apos;t need an actual count, just an estimate (for progress bars and similar stuff in UIs).&lt;/p&gt;

&lt;p&gt;But unfortunately we don&apos;t have any syntax support for this when dealing with String queries. Shouldn&apos;t we add that?&lt;/p&gt;

&lt;p&gt;I could imagine a prefix or something like that, e.g. the &quot;tilde / ~&quot; symbol, like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT ~COUNT(*) FROM table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12907333">METAMODEL-200</key>
            <summary>No syntax available in SQL representation of Query for &quot;function approximation&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kaspersor">Kasper S&#248;rensen</assignee>
                                    <reporter username="kaspersor">Kasper S&#248;rensen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Oct 2015 08:53:51 +0000</created>
                <updated>Sun, 25 Oct 2015 15:17:09 +0000</updated>
                            <resolved>Sun, 25 Oct 2015 15:17:09 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14970807" author="githubbot" created="Fri, 23 Oct 2015 10:51:42 +0000"  >&lt;p&gt;GitHub user kaspersorensen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-200&quot; title=&quot;No syntax available in SQL representation of Query for &amp;quot;function approximation&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-200&quot;&gt;&lt;del&gt;METAMODEL-200&lt;/del&gt;&lt;/a&gt;: Added query syntax support for &quot;function approximation&quot;&lt;/p&gt;

&lt;p&gt;    Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-200&quot; title=&quot;No syntax available in SQL representation of Query for &amp;quot;function approximation&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-200&quot;&gt;&lt;del&gt;METAMODEL-200&lt;/del&gt;&lt;/a&gt; by adding both toSql() and parser support for the tilde-character as a prefix &quot;approximation indicator&quot; for function names.&lt;/p&gt;

&lt;p&gt;    I also improved a few places in SelectItem.java where function.toString() was used instead of function.getFunctionName() (there&apos;s currently no difference because they all delegate toString() to getFunctionName(), but that should only be an implementation detail).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/kaspersorensen/metamodel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kaspersorensen/metamodel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-200&quot; title=&quot;No syntax available in SQL representation of Query for &amp;quot;function approximation&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-200&quot;&gt;&lt;del&gt;METAMODEL-200&lt;/del&gt;&lt;/a&gt;/syntax-for-function-approximation&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #62&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 04aa1b79dabac56e1f74f98b24bcaf1f0fed29c2&lt;br/&gt;
Author: Kasper S&#248;rensen &amp;lt;i.am.kasper.sorensen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-10-23T10:39:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-200&quot; title=&quot;No syntax available in SQL representation of Query for &amp;quot;function approximation&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-200&quot;&gt;&lt;del&gt;METAMODEL-200&lt;/del&gt;&lt;/a&gt;: Added query syntax support for &quot;function approximation&quot;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14970896" author="githubbot" created="Fri, 23 Oct 2015 12:26:15 +0000"  >&lt;p&gt;Github user LosD commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62#issuecomment-150558274&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62#issuecomment-150558274&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Code looks good, but it&apos;s not a particular good change to me: It is totally fine to add new functions (like approximate_count() or something like that) that are not base SQL, but breaking SQL syntax seems a bit... Nasty to me.&lt;/p&gt;

&lt;p&gt;    Relational database vendors do all kinds of horrible things to SQL, but I don&apos;t think even they would go that far.&lt;/p&gt;</comment>
                            <comment id="14970906" author="githubbot" created="Fri, 23 Oct 2015 12:40:14 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62#issuecomment-150560414&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62#issuecomment-150560414&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The concern is that actually it&apos;s a flag you can set independently of which function it applies to. I have only myself used it wrt. COUNT function, but you could also query an approximate AVG function or something like that. This means that &quot;just&quot; adding approximate_count would not work - and it would not support people plugging in new functions themselves.&lt;/p&gt;

&lt;p&gt;    I guess we could introduce it as a first-class keyword like DISTINCT, then it would be ```SELECT APPROXIMATE COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM table``` instead ... Not sure I like that better, but it would work I guess.&lt;/p&gt;

&lt;p&gt;    A word of comfort: People that expect MetaModel to use &quot;standard SQL&quot; would probably never set this flag because it is not part of any standard at all. So they would never encounter the tilde symbol anywhere &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14970913" author="githubbot" created="Fri, 23 Oct 2015 12:47:27 +0000"  >&lt;p&gt;Github user LosD commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62#issuecomment-150561531&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62#issuecomment-150561531&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;d still like SELECT APPROXIMATE much better. It&apos;s not breaking syntax &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14970972" author="githubbot" created="Fri, 23 Oct 2015 13:30:03 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62#issuecomment-150572000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62#issuecomment-150572000&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK I will try that then.&lt;/p&gt;</comment>
                            <comment id="14973278" author="githubbot" created="Sun, 25 Oct 2015 15:00:08 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62#issuecomment-150932177&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62#issuecomment-150932177&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Anyone else who has an oppinion on this? @LosD are you OK with the change now?&lt;/p&gt;</comment>
                            <comment id="14973280" author="githubbot" created="Sun, 25 Oct 2015 15:01:17 +0000"  >&lt;p&gt;Github user LosD commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62#issuecomment-150932235&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62#issuecomment-150932235&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Much better! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14973285" author="githubbot" created="Sun, 25 Oct 2015 15:06:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/62&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14973291" author="kaspersor" created="Sun, 25 Oct 2015 15:17:09 +0000"  >&lt;p&gt;Fixed. The final prefix chosen was the &quot;APPROXIMATE&quot; keyword.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nf93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>