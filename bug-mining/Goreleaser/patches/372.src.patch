diff --git a/internal/pipeline/pipeline.go b/internal/pipeline/pipeline.go
index e1ebb360..cfa97f80 100644
--- a/internal/pipeline/pipeline.go
+++ b/internal/pipeline/pipeline.go
@@ -92,12 +92,12 @@ var BuildPipeline = []Piper{
 	build.Pipe{},
 	// universal binary handling
 	universalbinary.Pipe{},
+	// upx
+	upx.Pipe{},
 	// sign binaries
 	sign.BinaryPipe{},
 	// notarize macos apps
 	notary.MacOS{},
-	// upx
-	upx.Pipe{},
 }
 
 // BuildCmdPipeline is the pipeline run by goreleaser build.
diff --git a/pkg/defaults/defaults.go b/pkg/defaults/defaults.go
index 98314ba5..f3227fe6 100644
--- a/pkg/defaults/defaults.go
+++ b/pkg/defaults/defaults.go
@@ -73,9 +73,9 @@ var Defaulters = []Defaulter{
 	gomod.Pipe{},
 	build.Pipe{},
 	universalbinary.Pipe{},
+	upx.Pipe{},
 	sign.BinaryPipe{},
 	notary.MacOS{},
-	upx.Pipe{},
 	sourcearchive.Pipe{},
 	archive.Pipe{},
 	nfpm.Pipe{},
