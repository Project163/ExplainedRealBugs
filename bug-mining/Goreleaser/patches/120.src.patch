diff --git a/internal/pipe/build/build.go b/internal/pipe/build/build.go
index eb7d87aa..e9da2e0f 100644
--- a/internal/pipe/build/build.go
+++ b/internal/pipe/build/build.go
@@ -202,7 +202,7 @@ func buildOptionsForTarget(ctx *context.Context, build config.Build, target stri
 	}
 
 	log.WithField("binary", path).Info("building")
-	buildOpts.Name = filepath.Base(name)
+	buildOpts.Name = name
 	buildOpts.Path = path
 	return &buildOpts, nil
 }
diff --git a/internal/pipe/build/build_test.go b/internal/pipe/build/build_test.go
index d2eb7e89..8514dc1b 100644
--- a/internal/pipe/build/build_test.go
+++ b/internal/pipe/build/build_test.go
@@ -760,7 +760,7 @@ func TestBuildOptionsForTarget(t *testing.T) {
 				NoUniqueDistDir: true,
 			},
 			expectedOpts: &api.Options{
-				Name:   "testbinary_linux_amd64",
+				Name:   "distpath/linux/amd64/testbinary_linux_amd64",
 				Path:   filepath.Join(tmpDir, "distpath", "linux", "amd64", "testbinary_linux_amd64"),
 				Target: "linux_amd64",
 				Os:     "linux",
diff --git a/internal/pipe/nfpm/nfpm.go b/internal/pipe/nfpm/nfpm.go
index 6abe7549..db4edcd4 100644
--- a/internal/pipe/nfpm/nfpm.go
+++ b/internal/pipe/nfpm/nfpm.go
@@ -220,7 +220,7 @@ func create(ctx *context.Context, fpm config.NFPM, format, arch string, binaries
 		log := log.WithField("package", name+"."+format).WithField("arch", arch)
 		for _, binary := range binaries {
 			src := binary.Path
-			dst := filepath.Join(fpm.Bindir, binary.Name)
+			dst := filepath.Join(fpm.Bindir, filepath.Base(binary.Name))
 			log.WithField("src", src).WithField("dst", dst).Debug("adding binary to package")
 			contents = append(contents, &files.Content{
 				Source:      filepath.ToSlash(src),
diff --git a/internal/pipe/nfpm/nfpm_test.go b/internal/pipe/nfpm/nfpm_test.go
index 7a02ac6d..b924a49d 100644
--- a/internal/pipe/nfpm/nfpm_test.go
+++ b/internal/pipe/nfpm/nfpm_test.go
@@ -150,7 +150,7 @@ func TestRunPipe(t *testing.T) {
 	for _, goos := range []string{"linux", "darwin"} {
 		for _, goarch := range []string{"amd64", "386"} {
 			ctx.Artifacts.Add(&artifact.Artifact{
-				Name:   "mybin",
+				Name:   "subdir/mybin",
 				Path:   binPath,
 				Goarch: goarch,
 				Goos:   goos,
diff --git a/internal/pipe/snapcraft/snapcraft.go b/internal/pipe/snapcraft/snapcraft.go
index 2d8d33de..c34c0568 100644
--- a/internal/pipe/snapcraft/snapcraft.go
+++ b/internal/pipe/snapcraft/snapcraft.go
@@ -237,10 +237,10 @@ func create(ctx *context.Context, snap config.Snapcraft, arch string, binaries [
 	if len(snap.Apps) == 0 {
 		name := snap.Name
 		if name == "" {
-			name = binaries[0].Name
+			name = filepath.Base(binaries[0].Name)
 		}
 		metadata.Apps[name] = AppMetadata{
-			Command: filepath.Base(binaries[0].Name),
+			Command: filepath.Base(filepath.Base(binaries[0].Name)),
 		}
 	}
 
diff --git a/internal/pipe/snapcraft/snapcraft_test.go b/internal/pipe/snapcraft/snapcraft_test.go
index c543b275..b568cbf4 100644
--- a/internal/pipe/snapcraft/snapcraft_test.go
+++ b/internal/pipe/snapcraft/snapcraft_test.go
@@ -426,7 +426,7 @@ func addBinaries(t *testing.T, ctx *context.Context, name, dist string) {
 			require.NoError(t, err)
 			require.NoError(t, f.Close())
 			ctx.Artifacts.Add(&artifact.Artifact{
-				Name:   name,
+				Name:   "subdir/" + name,
 				Path:   binPath,
 				Goarch: goarch,
 				Goos:   goos,
