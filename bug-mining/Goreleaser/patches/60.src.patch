diff --git a/.travis.yml b/.travis.yml
index 4b133bf9..ed15f1a7 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -20,8 +20,9 @@ script:
   - test -n "$TRAVIS_TAG" || go run main.go --snapshot
 after_success:
   - bash <(curl -s https://codecov.io/bash)
-  - test -n "$TRAVIS_TAG" && docker login -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
   - make static
+  - test -z "$(git status --porcelain)"
+  - test -n "$TRAVIS_TAG" && docker login -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
 deploy:
   - deploy:
     provider: pages
