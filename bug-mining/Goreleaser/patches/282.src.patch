diff --git a/internal/pipe/sbom/sbom.go b/internal/pipe/sbom/sbom.go
index 33e9dc6b..b0493751 100644
--- a/internal/pipe/sbom/sbom.go
+++ b/internal/pipe/sbom/sbom.go
@@ -149,6 +149,8 @@ func catalog(ctx *context.Context, cfg config.SBOM, artifacts []*artifact.Artifa
 }
 
 func subprocessDistPath(distDir string, pathRelativeToCwd string) (string, error) {
+	distDir = filepath.Clean(distDir)
+	pathRelativeToCwd = filepath.Clean(pathRelativeToCwd)
 	cwd, err := os.Getwd()
 	if err != nil {
 		return "", err
@@ -196,6 +198,11 @@ func catalogArtifact(ctx *context.Context, cfg config.SBOM, a *artifact.Artifact
 	cmd.Env = append(cmd.Env, envs...)
 	cmd.Dir = ctx.Config.Dist
 
+	log.WithField("env", cmd.Env).
+		WithField("dir", cmd.Dir).
+		WithField("cmd", cmd.Args).
+		Debug("running")
+
 	var b bytes.Buffer
 	w := gio.Safe(&b)
 	cmd.Stderr = io.MultiWriter(logext.NewWriter(), w)
diff --git a/pkg/config/config.go b/pkg/config/config.go
index c64b83ec..a6736565 100644
--- a/pkg/config/config.go
+++ b/pkg/config/config.go
@@ -911,7 +911,7 @@ type SBOM struct {
 	Env       []string `yaml:"env,omitempty" json:"env,omitempty"`
 	Args      []string `yaml:"args,omitempty" json:"args,omitempty"`
 	Documents []string `yaml:"documents,omitempty" json:"documents,omitempty"`
-	Artifacts string   `yaml:"artifacts,omitempty" json:"artifacts,omitempty"`
+	Artifacts string   `yaml:"artifacts,omitempty" json:"artifacts,omitempty" jsonschema:"enum=source,enum=package,enum=archive,enum=binary,enum=any,enum=any,default=archive"`
 	IDs       []string `yaml:"ids,omitempty" json:"ids,omitempty"`
 }
 
