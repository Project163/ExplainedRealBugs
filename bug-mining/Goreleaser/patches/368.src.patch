diff --git a/internal/pipe/brew/templates/linux_packages.rb b/internal/pipe/brew/templates/linux_packages.rb
index d9c048fb..5fb57fba 100644
--- a/internal/pipe/brew/templates/linux_packages.rb
+++ b/internal/pipe/brew/templates/linux_packages.rb
@@ -1,11 +1,11 @@
 {{- define "linux_packages" }}
 {{- range $element := .LinuxPackages }}
   {{- if eq $element.Arch "amd64" }}
-  on_intel do
+  if Hardware::CPU.intel?
     if Hardware::CPU.is_64_bit?
   {{- end }}
   {{- if or (eq $element.Arch "arm") (eq $element.Arch "arm64") }}
-  on_arm do
+  if Hardware::CPU.arm?
   {{- if eq $element.Arch "arm64" }}
     if Hardware::CPU.is_64_bit?
   {{- else }}
diff --git a/internal/pipe/brew/templates/macos_packages.rb b/internal/pipe/brew/templates/macos_packages.rb
index a4a0c4e8..967e5361 100644
--- a/internal/pipe/brew/templates/macos_packages.rb
+++ b/internal/pipe/brew/templates/macos_packages.rb
@@ -31,7 +31,7 @@
     {{- end }}
   end
 
-  on_arm do
+  if Hardware::CPU.arm?
     def caveats
       <<~EOS
         The darwin_arm64 architecture is not supported for the {{ $.Name }}
@@ -42,10 +42,10 @@
   end
   {{- else }}
   {{- if eq $element.Arch "amd64" }}
-  on_intel do
+  if Hardware::CPU.intel?
   {{- end }}
   {{- if eq $element.Arch "arm64" }}
-  on_arm do
+  if Hardware::CPU.arm?
   {{- end}}
     url "{{ $element.DownloadURL }}"
     {{- if .DownloadStrategy }}, using: {{ .DownloadStrategy }}{{- end }}
diff --git a/internal/pipe/brew/testdata/TestFullFormulae.rb.golden b/internal/pipe/brew/testdata/TestFullFormulae.rb.golden
index 7c0222d8..e15771e2 100644
--- a/internal/pipe/brew/testdata/TestFullFormulae.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullFormulae.rb.golden
@@ -11,7 +11,7 @@ class Test < Formula
   depends_on "gtk+"
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Darwin_x86_64.tar.gz"
       sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c68"
 
@@ -19,7 +19,7 @@ class Test < Formula
         bin.install "test"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Darwin_arm64.tar.gz"
       sha256 "1df5fdc2bad4ed4c28fbdc77b6c542988c0dc0e2ae34e0dc912bbb1c66646c58"
 
@@ -30,7 +30,7 @@ class Test < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Linux_x86_64.tar.gz"
         sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c67"
@@ -40,7 +40,7 @@ class Test < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if !Hardware::CPU.is_64_bit?
         url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Arm6.tar.gz"
         sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c67"
@@ -50,7 +50,7 @@ class Test < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Arm64.tar.gz"
         sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c67"
diff --git a/internal/pipe/brew/testdata/TestFullFormulaeLinuxOnly.rb.golden b/internal/pipe/brew/testdata/TestFullFormulaeLinuxOnly.rb.golden
index 8263852b..5532a80e 100644
--- a/internal/pipe/brew/testdata/TestFullFormulaeLinuxOnly.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullFormulaeLinuxOnly.rb.golden
@@ -8,7 +8,7 @@ class Test < Formula
   version "0.1.3"
   depends_on :linux
 
-  on_intel do
+  if Hardware::CPU.intel?
     if Hardware::CPU.is_64_bit?
       url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Linux_x86_64.tar.gz"
       sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c67"
@@ -18,7 +18,7 @@ class Test < Formula
       end
     end
   end
-  on_arm do
+  if Hardware::CPU.arm?
     if !Hardware::CPU.is_64_bit?
       url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Arm6.tar.gz"
       sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c67"
@@ -28,7 +28,7 @@ class Test < Formula
       end
     end
   end
-  on_arm do
+  if Hardware::CPU.arm?
     if Hardware::CPU.is_64_bit?
       url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Arm64.tar.gz"
       sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c67"
diff --git a/internal/pipe/brew/testdata/TestFullFormulaeMacOSOnly.rb.golden b/internal/pipe/brew/testdata/TestFullFormulaeMacOSOnly.rb.golden
index 22e63934..2d6ae1e4 100644
--- a/internal/pipe/brew/testdata/TestFullFormulaeMacOSOnly.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullFormulaeMacOSOnly.rb.golden
@@ -8,7 +8,7 @@ class Test < Formula
   version "0.1.3"
   depends_on :macos
 
-  on_intel do
+  if Hardware::CPU.intel?
     url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Darwin_x86_64.tar.gz"
     sha256 "1633f61598ab0791e213135923624eb342196b3494909c91899bcd0560f84c68"
 
@@ -16,7 +16,7 @@ class Test < Formula
       bin.install "test"
     end
   end
-  on_arm do
+  if Hardware::CPU.arm?
     url "https://github.com/caarlos0/test/releases/download/v0.1.3/test_Darwin_arm64.tar.gz"
     sha256 "1df5fdc2bad4ed4c28fbdc77b6c542988c0dc0e2ae34e0dc912bbb1c66646c58"
 
diff --git a/internal/pipe/brew/testdata/TestFullPipe/custom_block.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/custom_block.rb.golden
index 854ce342..19c58356 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/custom_block.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/custom_block.rb.golden
@@ -14,7 +14,7 @@ class CustomBlock < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -22,7 +22,7 @@ class CustomBlock < Formula
         bin.install "custom_block_darwin_amd64 => custom_block"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -33,7 +33,7 @@ class CustomBlock < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/custom_download_strategy.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/custom_download_strategy.rb.golden
index 5928e1bb..22796b0d 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/custom_download_strategy.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/custom_download_strategy.rb.golden
@@ -14,7 +14,7 @@ class CustomDownloadStrategy < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz", using: GitHubPrivateRepositoryReleaseDownloadStrategy
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -22,7 +22,7 @@ class CustomDownloadStrategy < Formula
         bin.install "custom_download_strategy_darwin_amd64 => custom_download_strategy"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz", using: GitHubPrivateRepositoryReleaseDownloadStrategy
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -33,7 +33,7 @@ class CustomDownloadStrategy < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz", using: GitHubPrivateRepositoryReleaseDownloadStrategy
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/custom_require.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/custom_require.rb.golden
index cca093e3..71451207 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/custom_require.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/custom_require.rb.golden
@@ -15,7 +15,7 @@ class CustomRequire < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz", using: CustomDownloadStrategy
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -23,7 +23,7 @@ class CustomRequire < Formula
         bin.install "custom_require_darwin_amd64 => custom_require"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz", using: CustomDownloadStrategy
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -34,7 +34,7 @@ class CustomRequire < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz", using: CustomDownloadStrategy
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/default.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/default.rb.golden
index 63ffe116..20a4f5db 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/default.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/default.rb.golden
@@ -14,7 +14,7 @@ class Default < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -22,7 +22,7 @@ class Default < Formula
         bin.install "default_darwin_amd64 => default"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -33,7 +33,7 @@ class Default < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/default_gitlab.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/default_gitlab.rb.golden
index 03ef5bd0..e21f2824 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/default_gitlab.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/default_gitlab.rb.golden
@@ -14,7 +14,7 @@ class DefaultGitlab < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -22,7 +22,7 @@ class DefaultGitlab < Formula
         bin.install "default_gitlab_darwin_amd64 => default_gitlab"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -33,7 +33,7 @@ class DefaultGitlab < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/git_remote.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/git_remote.rb.golden
index 0317789f..217e1c2f 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/git_remote.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/git_remote.rb.golden
@@ -14,7 +14,7 @@ class GitRemote < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -22,7 +22,7 @@ class GitRemote < Formula
         bin.install "git_remote_darwin_amd64 => git_remote"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -33,7 +33,7 @@ class GitRemote < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/open_pr.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/open_pr.rb.golden
index c5e54d2d..8150e514 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/open_pr.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/open_pr.rb.golden
@@ -14,7 +14,7 @@ class OpenPr < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -22,7 +22,7 @@ class OpenPr < Formula
         bin.install "open_pr_darwin_amd64 => open_pr"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -33,7 +33,7 @@ class OpenPr < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/valid_repository_templates.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/valid_repository_templates.rb.golden
index 504a3b18..a39be2c9 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/valid_repository_templates.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/valid_repository_templates.rb.golden
@@ -14,7 +14,7 @@ class ValidRepositoryTemplates < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -22,7 +22,7 @@ class ValidRepositoryTemplates < Formula
         bin.install "valid_repository_templates_darwin_amd64 => valid_repository_templates"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -33,7 +33,7 @@ class ValidRepositoryTemplates < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestFullPipe/with_header.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/with_header.rb.golden
index 2814c44d..c9a58f2c 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/with_header.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/with_header.rb.golden
@@ -14,7 +14,7 @@ class WithHeader < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz",
         headers: [
           "Authorization: bearer #{ENV["HOMEBREW_GITHUB_API_TOKEN"]}"
@@ -25,7 +25,7 @@ class WithHeader < Formula
         bin.install "with_header_darwin_amd64 => with_header"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz",
         headers: [
           "Authorization: bearer #{ENV["HOMEBREW_GITHUB_API_TOKEN"]}"
@@ -39,7 +39,7 @@ class WithHeader < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz",
           headers: [
diff --git a/internal/pipe/brew/testdata/TestFullPipe/with_many_headers.rb.golden b/internal/pipe/brew/testdata/TestFullPipe/with_many_headers.rb.golden
index 3ac0b8ff..e12ef850 100644
--- a/internal/pipe/brew/testdata/TestFullPipe/with_many_headers.rb.golden
+++ b/internal/pipe/brew/testdata/TestFullPipe/with_many_headers.rb.golden
@@ -14,7 +14,7 @@ class WithManyHeaders < Formula
   depends_on "zsh" => :optional
 
   on_macos do
-    on_intel do
+    if Hardware::CPU.intel?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz",
         headers: [
           "Accept: application/octet-stream",
@@ -26,7 +26,7 @@ class WithManyHeaders < Formula
         bin.install "with_many_headers_darwin_amd64 => with_many_headers"
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz",
         headers: [
           "Accept: application/octet-stream",
@@ -41,7 +41,7 @@ class WithManyHeaders < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/bin.tar.gz",
           headers: [
diff --git a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v1.rb.golden b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v1.rb.golden
index 18221abc..23b49a27 100644
--- a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v1.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v1.rb.golden
@@ -8,7 +8,7 @@ class V1 < Formula
   version "1.0.1"
 
   on_macos do
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -20,7 +20,7 @@ class V1 < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/amd64v2.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
@@ -31,7 +31,7 @@ class V1 < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v2.rb.golden b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v2.rb.golden
index 8595fb3d..533bb6a0 100644
--- a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v2.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v2.rb.golden
@@ -8,7 +8,7 @@ class V2 < Formula
   version "1.0.1"
 
   on_macos do
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -20,7 +20,7 @@ class V2 < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/amd64v2.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
@@ -31,7 +31,7 @@ class V2 < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v3.rb.golden b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v3.rb.golden
index eceaa7e1..532557a4 100644
--- a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v3.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v3.rb.golden
@@ -8,7 +8,7 @@ class V3 < Formula
   version "1.0.1"
 
   on_macos do
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -20,7 +20,7 @@ class V3 < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/amd64v3.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
@@ -31,7 +31,7 @@ class V3 < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v4.rb.golden b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v4.rb.golden
index aef973e0..4147d237 100644
--- a/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v4.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeForMultipleAmd64Versions/v4.rb.golden
@@ -8,7 +8,7 @@ class V4 < Formula
   version "1.0.1"
 
   on_macos do
-    on_arm do
+    if Hardware::CPU.arm?
       url "https://dummyhost/download/v1.0.1/bin.tar.gz"
       sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -20,7 +20,7 @@ class V4 < Formula
   end
 
   on_linux do
-    on_intel do
+    if Hardware::CPU.intel?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/amd64v3.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
@@ -31,7 +31,7 @@ class V4 < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv5.rb.golden b/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv5.rb.golden
index 0ecf6c17..8759206f 100644
--- a/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv5.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv5.rb.golden
@@ -18,7 +18,7 @@ class MultipleArmv5 < Formula
       bin.install "multiple_armv5"
     end
 
-    on_arm do
+    if Hardware::CPU.arm?
       def caveats
         <<~EOS
           The darwin_arm64 architecture is not supported for the MultipleArmv5
@@ -30,7 +30,7 @@ class MultipleArmv5 < Formula
   end
 
   on_linux do
-    on_arm do
+    if Hardware::CPU.arm?
       if !Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/armv5.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
@@ -40,7 +40,7 @@ class MultipleArmv5 < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv6.rb.golden b/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv6.rb.golden
index aa8b874e..a57e4f45 100644
--- a/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv6.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv6.rb.golden
@@ -18,7 +18,7 @@ class MultipleArmv6 < Formula
       bin.install "multiple_armv6"
     end
 
-    on_arm do
+    if Hardware::CPU.arm?
       def caveats
         <<~EOS
           The darwin_arm64 architecture is not supported for the MultipleArmv6
@@ -30,7 +30,7 @@ class MultipleArmv6 < Formula
   end
 
   on_linux do
-    on_arm do
+    if Hardware::CPU.arm?
       if !Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/armv6.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
@@ -40,7 +40,7 @@ class MultipleArmv6 < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv7.rb.golden b/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv7.rb.golden
index fed530d5..45047a38 100644
--- a/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv7.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeForMultipleArmVersions/multiple_armv7.rb.golden
@@ -18,7 +18,7 @@ class MultipleArmv7 < Formula
       bin.install "multiple_armv7"
     end
 
-    on_arm do
+    if Hardware::CPU.arm?
       def caveats
         <<~EOS
           The darwin_arm64 architecture is not supported for the MultipleArmv7
@@ -30,7 +30,7 @@ class MultipleArmv7 < Formula
   end
 
   on_linux do
-    on_arm do
+    if Hardware::CPU.arm?
       if !Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/armv7.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
@@ -40,7 +40,7 @@ class MultipleArmv7 < Formula
         end
       end
     end
-    on_arm do
+    if Hardware::CPU.arm?
       if Hardware::CPU.is_64_bit?
         url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
         sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
diff --git a/internal/pipe/brew/testdata/TestRunPipeNameTemplate.rb.golden b/internal/pipe/brew/testdata/TestRunPipeNameTemplate.rb.golden
index 2ce19b45..be92de14 100644
--- a/internal/pipe/brew/testdata/TestRunPipeNameTemplate.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeNameTemplate.rb.golden
@@ -15,7 +15,7 @@ class FooIsBar < Formula
     bin.install "foo"
   end
 
-  on_arm do
+  if Hardware::CPU.arm?
     def caveats
       <<~EOS
         The darwin_arm64 architecture is not supported for the FooIsBar
diff --git a/internal/pipe/brew/testdata/TestRunPipeUniversalBinaryNotReplacing.rb.golden b/internal/pipe/brew/testdata/TestRunPipeUniversalBinaryNotReplacing.rb.golden
index 67584541..8f6f8f40 100644
--- a/internal/pipe/brew/testdata/TestRunPipeUniversalBinaryNotReplacing.rb.golden
+++ b/internal/pipe/brew/testdata/TestRunPipeUniversalBinaryNotReplacing.rb.golden
@@ -8,7 +8,7 @@ class Unibin < Formula
   version "1.0.1"
   depends_on :macos
 
-  on_intel do
+  if Hardware::CPU.intel?
     url "https://dummyhost/download/v1.0.1/bin_amd64.tar.gz"
     sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
@@ -16,7 +16,7 @@ class Unibin < Formula
       bin.install "unibin"
     end
   end
-  on_arm do
+  if Hardware::CPU.arm?
     url "https://dummyhost/download/v1.0.1/bin_arm64.tar.gz"
     sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
 
