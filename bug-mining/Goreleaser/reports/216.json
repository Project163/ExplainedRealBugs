{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3582","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3582/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3582/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3582/events","html_url":"https://github.com/goreleaser/goreleaser/issues/3582","id":1459935899,"node_id":"I_kwDOBJgEXs5XBNqb","number":3582,"title":"support creating a reproducible tar archive","user":{"login":"fho","id":514535,"node_id":"MDQ6VXNlcjUxNDUzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/514535?v=4","gravatar_id":"","url":"https://api.github.com/users/fho","html_url":"https://github.com/fho","followers_url":"https://api.github.com/users/fho/followers","following_url":"https://api.github.com/users/fho/following{/other_user}","gists_url":"https://api.github.com/users/fho/gists{/gist_id}","starred_url":"https://api.github.com/users/fho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fho/subscriptions","organizations_url":"https://api.github.com/users/fho/orgs","repos_url":"https://api.github.com/users/fho/repos","events_url":"https://api.github.com/users/fho/events{/privacy}","received_events_url":"https://api.github.com/users/fho/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":504976499,"node_id":"MDU6TGFiZWw1MDQ5NzY0OTk=","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":17,"created_at":"2022-11-22T14:03:11Z","updated_at":"2022-12-16T14:16:13Z","closed_at":"2022-12-14T15:16:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Is your feature request related to a problem? Please describe.\n\nI would like to create reproducible .tar archive for releases.\r\nWhen running goreleaser with the same go version, on the same go source files on different systems it should produce the same archive.\n\n### Describe the solution you'd like\n\nHaving a boolean `reproducible` option in the `archive` configuration file section.\r\n\r\nBy default i would be enabled and create a tar archive using the options described at:\r\nhttps://reproducible-builds.org/docs/archives/\r\n\r\n```sh\r\n$ tar --sort=name \\\r\n      --mtime=\"@${SOURCE_DATE_EPOCH}\" \\\r\n      --owner=0 --group=0 --numeric-owner \\\r\n      --pax-option=exthdr.name=%d/PaxHeaders/%f,delete=atime,delete=ctime \\\r\n      -cf product.tar build\r\n```\r\n\n\n### Describe alternatives you've considered\n\nI tried to set owner and file mtime via:\r\n```yml\r\ninfo:\r\n  owner: 0\r\n  group: 0\r\n  mode: 0755\r\n  mtime: 2008-01-02T15:04:05Z\r\n```\r\n\r\nto create archives with a single binary.\r\nI was not able to find a way to set these options for the binary created by `go build`. It seems that it is only possible use `info:` for other files then the compiled go binary. \n\n### Search\n\n- [X] I did search for other open and closed issues before opening this.\n\n### Code of Conduct\n\n- [X] I agree to follow this project's Code of Conduct\n\n### Additional context\n\n_No response_","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3582/timeline","performed_via_github_app":null,"state_reason":"completed"}