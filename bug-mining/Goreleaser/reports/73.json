{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/750","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/750/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/750/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/750/events","html_url":"https://github.com/goreleaser/goreleaser/issues/750","id":348720913,"node_id":"MDU6SXNzdWUzNDg3MjA5MTM=","number":750,"title":"goreleaser in travis fails: \"error=tmpl: Invalid Semantic Version\"","user":{"login":"deimosfr","id":2962805,"node_id":"MDQ6VXNlcjI5NjI4MDU=","avatar_url":"https://avatars.githubusercontent.com/u/2962805?v=4","gravatar_id":"","url":"https://api.github.com/users/deimosfr","html_url":"https://github.com/deimosfr","followers_url":"https://api.github.com/users/deimosfr/followers","following_url":"https://api.github.com/users/deimosfr/following{/other_user}","gists_url":"https://api.github.com/users/deimosfr/gists{/gist_id}","starred_url":"https://api.github.com/users/deimosfr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deimosfr/subscriptions","organizations_url":"https://api.github.com/users/deimosfr/orgs","repos_url":"https://api.github.com/users/deimosfr/repos","events_url":"https://api.github.com/users/deimosfr/events{/privacy}","received_events_url":"https://api.github.com/users/deimosfr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":518897945,"node_id":"MDU6TGFiZWw1MTg4OTc5NDU=","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/docs","name":"docs","color":"5319e7","default":false,"description":"A problem or enhancement in documentation"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-08-08T13:15:07Z","updated_at":"2020-11-19T01:19:30Z","closed_at":"2018-08-15T03:28:26Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\n\r\nOn travis (and only on travis), I can't run successfully goreleaser after pushing a tag. Here are the logs I got:\r\n\r\n```\r\nDeploying application\r\n   • releasing using goreleaser 0.82.1...\r\n   • loading config file       file=.goreleaser.yml\r\n   • SETTING DEFAULTS FOR:    \r\n      • loading environment variables\r\n      • snapshoting              \r\n      • releasing to GitHub      \r\n      • project name             \r\n      • creating archives        \r\n      • building binaries        \r\n      • creating Linux packages with fpm\r\n      • creating Linux packages with nfpm\r\n      • creating Linux packages with snapcraft\r\n      • calculating checksums    \r\n      • signing artifacts        \r\n      • creating Docker images   \r\n      • releasing to Artifactory \r\n      • releasing to s3          \r\n      • creating homebrew formula\r\n      • creating Scoop Manifest  \r\n   • RUNNING BEFORE HOOKS     \r\n   • CHECKING ./DIST          \r\n   • GETTING AND VALIDATING GIT STATE\r\n      • releasing v0.2.16b, commit f80a4090229ab0050edc629b3f3e86ce09352bad\r\n   • WRITING EFFECTIVE CONFIG FILE\r\n      • writing                   config=dist/config.yaml\r\n   • GENERATING CHANGELOG     \r\n      • writing                   changelog=dist/CHANGELOG.md\r\n   • LOADING ENVIRONMENT VARIABLES\r\n   • BUILDING BINARIES        \r\n   ⨯ release failed after 0.11s error=tmpl: Invalid Semantic Version\r\nScript failed with status 1\r\n```\r\n\r\n**To Reproduce**\r\n\r\nSteps to reproduce the behavior, here is the config:\r\n\r\n```yaml\r\nbuilds:\r\n- main: main.go\r\n  binary: k8s-dns-updater\r\n  goos:\r\n  - linux\r\n  goarch:\r\n  - amd64\r\n```\r\n\r\nThe travis config:\r\n```yaml\r\nsudo: required\r\n\r\nlanguage: go\r\n\r\nservices:\r\n- docker\r\n\r\nenv:\r\n- PROJECT_ID=\"mysocialapp\" PROJECT_NAME=\"k8s-dns-updater\" APP_VERSION=\"$TRAVIS_TAG\"\r\n\r\nscript:\r\n- go build\r\n- rm -f ${PROJECT_NAME}\r\n\r\ndeploy:\r\n- provider: script\r\n  skip_cleanup: true\r\n  script: \"curl -sL http://git.io/goreleaser | bash\"\r\n  on:\r\n    tags: true\r\n    condition: $TRAVIS_OS_NAME = linux\r\n```\r\n\r\n**Expected behavior**\r\n\r\nAs working outside travis, I expect it to work build the binaries.","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/750/timeline","performed_via_github_app":null,"state_reason":"completed"}