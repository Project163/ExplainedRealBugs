[{"id":14349109794,"node_id":"LE_lADOBJgEXs6XaE5KzwAAAANXRgoi","url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events/14349109794","actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-21T11:23:16Z","label":{"name":"bug","color":"ee0701"},"performed_via_github_app":null},{"id":14349109796,"node_id":"LE_lADOBJgEXs6XaE5KzwAAAANXRgok","url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events/14349109796","actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-21T11:23:16Z","label":{"name":"triage","color":"F3079A"},"performed_via_github_app":null},{"id":14349109798,"node_id":"AE_lADOBJgEXs6XaE5KzwAAAANXRgom","url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events/14349109798","actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-09-21T11:23:16Z","assignee":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/comments/2365160288","html_url":"https://github.com/goreleaser/goreleaser/issues/5147#issuecomment-2365160288","issue_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5147","id":2365160288,"node_id":"IC_kwDOBJgEXs6M-Xtg","user":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-21T11:58:25Z","updated_at":"2024-09-21T11:58:25Z","body":"Actually, I think I might understand this.\r\n\r\nThe template is `'${artifact}_{{ .Os }}_{{ .Arch }}.cosign.bundle'`\r\n\r\nBefore signing, the `Signature` template is applied:\r\n\r\nhttps://github.com/goreleaser/goreleaser/blob/8428a1e481d0dabd4e9ac82fb5d21fec546f8018/internal/pipe/sign/sign.go#L189\r\n\r\nWhich calls:\r\n\r\nhttps://github.com/goreleaser/goreleaser/blob/8428a1e481d0dabd4e9ac82fb5d21fec546f8018/internal/pipe/sign/sign.go#L166\r\n\r\nSo the template is executed with the Artifact in its context.\r\n\r\nAfterwards, the `Signature` template is re-executed:\r\n\r\nhttps://github.com/goreleaser/goreleaser/blob/8428a1e481d0dabd4e9ac82fb5d21fec546f8018/internal/pipe/sign/sign.go#L258\r\n\r\nThis time the Artifact is not in the template context. I think this template application is failing due to the missing references, leading to the truncated name.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/comments/2365160288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/comments/2365481675","html_url":"https://github.com/goreleaser/goreleaser/issues/5147#issuecomment-2365481675","issue_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5147","id":2365481675,"node_id":"IC_kwDOBJgEXs6M_mLL","user":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T05:48:20Z","updated_at":"2024-09-22T05:49:25Z","body":"I **think** this test case demonstrates the issue. It should succeed, but it fails, returning `prefix_` for each of the artifacts.\r\n\r\n```patch\r\ndiff --git a/internal/pipe/sign/sign_binary_test.go b/internal/pipe/sign/sign_binary_test.go\r\nindex 13aad167..6e384fd7 100644\r\n--- a/internal/pipe/sign/sign_binary_test.go\r\n+++ b/internal/pipe/sign/sign_binary_test.go\r\n@@ -93,17 +93,19 @@ func TestBinarySign(t *testing.T) {\r\n \t\trequire.NoError(tb, os.WriteFile(filepath.Join(tmpdir, \"bin2\"), []byte(\"foo\"), 0o644))\r\n \r\n \t\tctx.Artifacts.Add(&artifact.Artifact{\r\n-\t\t\tName: \"bin1\",\r\n-\t\t\tPath: filepath.Join(tmpdir, \"bin1\"),\r\n-\t\t\tType: artifact.Binary,\r\n+\t\t\tName:   \"bin1\",\r\n+\t\t\tPath:   filepath.Join(tmpdir, \"bin1\"),\r\n+\t\t\tType:   artifact.Binary,\r\n+\t\t\tGoarch: \"amd64\",\r\n \t\t\tExtra: map[string]interface{}{\r\n \t\t\t\tartifact.ExtraID: \"foo\",\r\n \t\t\t},\r\n \t\t})\r\n \t\tctx.Artifacts.Add(&artifact.Artifact{\r\n-\t\t\tName: \"bin2\",\r\n-\t\t\tPath: filepath.Join(tmpdir, \"bin2\"),\r\n-\t\t\tType: artifact.Binary,\r\n+\t\t\tName:   \"bin2\",\r\n+\t\t\tPath:   filepath.Join(tmpdir, \"bin2\"),\r\n+\t\t\tType:   artifact.Binary,\r\n+\t\t\tGoarch: \"arm64\",\r\n \t\t\tExtra: map[string]interface{}{\r\n \t\t\t\tartifact.ExtraID: \"bar\",\r\n \t\t\t},\r\n@@ -113,9 +115,9 @@ func TestBinarySign(t *testing.T) {\r\n \t\trequire.NoError(tb, pipe.Default(ctx))\r\n \r\n \t\tfor i := range ctx.Config.BinarySigns {\r\n-\t\t\tctx.Config.BinarySigns[i].Args = append(\r\n-\t\t\t\t[]string{\"--homedir\", keyring},\r\n-\t\t\t\tctx.Config.BinarySigns[i].Args...,\r\n+\t\t\tctx.Config.BinarySigns[i].Env = append(\r\n+\t\t\t\tctx.Config.BinarySigns[i].Env,\r\n+\t\t\t\t\"GNUPGHOME=\"+keyring,\r\n \t\t\t)\r\n \t\t}\r\n \t\trequire.NoError(tb, pipe.Run(ctx))\r\n@@ -129,6 +131,26 @@ func TestBinarySign(t *testing.T) {\r\n \t\trequire.Len(t, sigs, 2)\r\n \t})\r\n \r\n+\tt.Run(\"templated-signature\", func(t *testing.T) {\r\n+\t\tsigs := doTest(t, config.Sign{\r\n+\t\t\tSignature: \"prefix_{{ .Arch }}_suffix\",\r\n+\t\t\tCmd:       \"/bin/sh\",\r\n+\t\t\tArgs: []string{\r\n+\t\t\t\t\"-c\",\r\n+\t\t\t\t`echo \"siging signature=$signature artifact=$artifact\"`,\r\n+\t\t\t\t\"shell\",\r\n+\t\t\t},\r\n+\t\t})\r\n+\t\trequire.Len(t, sigs, 2)\r\n+\t\trequire.Equal(t,\r\n+\t\t\t[]*artifact.Artifact{\r\n+\t\t\t\t{Name: \"prefix_amd64_suffix\", Path: \"prefix_amd64_suffix\", Type: 13, Extra: artifact.Extras{\"ID\": \"default\"}},\r\n+\t\t\t\t{Name: \"prefix_arm64_suffix\", Path: \"prefix_arm64_suffix\", Type: 13, Extra: artifact.Extras{\"ID\": \"default\"}},\r\n+\t\t\t},\r\n+\t\t\tsigs,\r\n+\t\t)\r\n+\t})\r\n+\r\n \tt.Run(\"filter\", func(t *testing.T) {\r\n \t\tsigs := doTest(t, config.Sign{\r\n \t\t\tID:  \"bar\",\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/comments/2365481675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T06:13:54Z","updated_at":"2024-09-22T06:13:54Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5148","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5148/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5148/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5148/events","html_url":"https://github.com/goreleaser/goreleaser/pull/5148","id":2540660385,"node_id":"PR_kwDOBJgEXs58Q5NS","number":5148,"title":"fix: signature template failed silently after signing process completed","user":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2081259334,"node_id":"MDU6TGFiZWwyMDgxMjU5MzM0","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/size/M","name":"size/M","color":"eebb00","default":false,"description":"Denotes a PR that changes 30-99 lines, ignoring generated files."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-09-22T06:13:53Z","updated_at":"2024-09-23T12:41:28Z","closed_at":"2024-09-23T12:14:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":77071454,"node_id":"MDEwOlJlcG9zaXRvcnk3NzA3MTQ1NA==","name":"goreleaser","full_name":"goreleaser/goreleaser","private":false,"owner":{"login":"goreleaser","id":24697112,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0Njk3MTEy","avatar_url":"https://avatars.githubusercontent.com/u/24697112?v=4","gravatar_id":"","url":"https://api.github.com/users/goreleaser","html_url":"https://github.com/goreleaser","followers_url":"https://api.github.com/users/goreleaser/followers","following_url":"https://api.github.com/users/goreleaser/following{/other_user}","gists_url":"https://api.github.com/users/goreleaser/gists{/gist_id}","starred_url":"https://api.github.com/users/goreleaser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/goreleaser/subscriptions","organizations_url":"https://api.github.com/users/goreleaser/orgs","repos_url":"https://api.github.com/users/goreleaser/repos","events_url":"https://api.github.com/users/goreleaser/events{/privacy}","received_events_url":"https://api.github.com/users/goreleaser/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/goreleaser/goreleaser","description":"Release engineering, simplified","fork":false,"url":"https://api.github.com/repos/goreleaser/goreleaser","forks_url":"https://api.github.com/repos/goreleaser/goreleaser/forks","keys_url":"https://api.github.com/repos/goreleaser/goreleaser/keys{/key_id}","collaborators_url":"https://api.github.com/repos/goreleaser/goreleaser/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/goreleaser/goreleaser/teams","hooks_url":"https://api.github.com/repos/goreleaser/goreleaser/hooks","issue_events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events{/number}","events_url":"https://api.github.com/repos/goreleaser/goreleaser/events","assignees_url":"https://api.github.com/repos/goreleaser/goreleaser/assignees{/user}","branches_url":"https://api.github.com/repos/goreleaser/goreleaser/branches{/branch}","tags_url":"https://api.github.com/repos/goreleaser/goreleaser/tags","blobs_url":"https://api.github.com/repos/goreleaser/goreleaser/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/goreleaser/goreleaser/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/goreleaser/goreleaser/git/refs{/sha}","trees_url":"https://api.github.com/repos/goreleaser/goreleaser/git/trees{/sha}","statuses_url":"https://api.github.com/repos/goreleaser/goreleaser/statuses/{sha}","languages_url":"https://api.github.com/repos/goreleaser/goreleaser/languages","stargazers_url":"https://api.github.com/repos/goreleaser/goreleaser/stargazers","contributors_url":"https://api.github.com/repos/goreleaser/goreleaser/contributors","subscribers_url":"https://api.github.com/repos/goreleaser/goreleaser/subscribers","subscription_url":"https://api.github.com/repos/goreleaser/goreleaser/subscription","commits_url":"https://api.github.com/repos/goreleaser/goreleaser/commits{/sha}","git_commits_url":"https://api.github.com/repos/goreleaser/goreleaser/git/commits{/sha}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/comments{/number}","issue_comment_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/comments{/number}","contents_url":"https://api.github.com/repos/goreleaser/goreleaser/contents/{+path}","compare_url":"https://api.github.com/repos/goreleaser/goreleaser/compare/{base}...{head}","merges_url":"https://api.github.com/repos/goreleaser/goreleaser/merges","archive_url":"https://api.github.com/repos/goreleaser/goreleaser/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/goreleaser/goreleaser/downloads","issues_url":"https://api.github.com/repos/goreleaser/goreleaser/issues{/number}","pulls_url":"https://api.github.com/repos/goreleaser/goreleaser/pulls{/number}","milestones_url":"https://api.github.com/repos/goreleaser/goreleaser/milestones{/number}","notifications_url":"https://api.github.com/repos/goreleaser/goreleaser/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/labels{/name}","releases_url":"https://api.github.com/repos/goreleaser/goreleaser/releases{/id}","deployments_url":"https://api.github.com/repos/goreleaser/goreleaser/deployments","created_at":"2016-12-21T17:13:39Z","updated_at":"2025-11-10T08:11:52Z","pushed_at":"2025-11-10T08:11:48Z","git_url":"git://github.com/goreleaser/goreleaser.git","ssh_url":"git@github.com:goreleaser/goreleaser.git","clone_url":"https://github.com/goreleaser/goreleaser.git","svn_url":"https://github.com/goreleaser/goreleaser","homepage":"https://goreleaser.com","size":25141,"stargazers_count":15265,"watchers_count":15265,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1030,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":32,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["announcements","github-actions","hacktoberfest","package","release-automation","release-engineering"],"visibility":"public","forks":1030,"open_issues":32,"watchers":15265,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/goreleaser/goreleaser/pulls/5148","html_url":"https://github.com/goreleaser/goreleaser/pull/5148","diff_url":"https://github.com/goreleaser/goreleaser/pull/5148.diff","patch_url":"https://github.com/goreleaser/goreleaser/pull/5148.patch","merged_at":"2024-09-23T12:14:26Z"},"body":"The presence of an artifact field in the `signature` or `certificate` template field caused a silent failure in the template when re-applied after the external signing process was called.\r\n\r\nThis was due to the artifact being presence in the template context before the signing process, but not after. An error here was also ignored.\r\n\r\nThe fix supplies the artifact to the template context, and also allows a template failure to\r\nfail the overall process.\r\n\r\nAs far as I can tell, this change aligns behaviour to match existing documentation.\r\n\r\nFixes #5147 \r\n","reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5148/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/comments/2365492337","html_url":"https://github.com/goreleaser/goreleaser/issues/5147#issuecomment-2365492337","issue_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5147","id":2365492337,"node_id":"IC_kwDOBJgEXs6M_oxx","user":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T06:16:48Z","updated_at":"2024-09-22T06:16:48Z","body":"So I ended up with a PR -- after getting this far it wasn't much extra. Appreciate any feedback.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/comments/2365492337/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14353083704,"node_id":"REFE_lADOBJgEXs6XaE5KzwAAAANXgq04","url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events/14353083704","actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9a65f6a5dc675ea3326d869f416122f858d00130","commit_url":"https://api.github.com/repos/chinmina/chinmina-bridge/commits/9a65f6a5dc675ea3326d869f416122f858d00130","created_at":"2024-09-22T08:17:05Z","performed_via_github_app":null},{"actor":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T08:19:31Z","updated_at":"2024-09-22T08:19:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/64","repository_url":"https://api.github.com/repos/chinmina/chinmina-bridge","labels_url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/64/labels{/name}","comments_url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/64/comments","events_url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/64/events","html_url":"https://github.com/chinmina/chinmina-bridge/pull/64","id":2540816273,"node_id":"PR_kwDOLq_zfs58RdBh","number":64,"title":"ci: include signature bundles only in release archives","user":{"login":"jamestelfer","id":792299,"node_id":"MDQ6VXNlcjc5MjI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/792299?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestelfer","html_url":"https://github.com/jamestelfer","followers_url":"https://api.github.com/users/jamestelfer/followers","following_url":"https://api.github.com/users/jamestelfer/following{/other_user}","gists_url":"https://api.github.com/users/jamestelfer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestelfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestelfer/subscriptions","organizations_url":"https://api.github.com/users/jamestelfer/orgs","repos_url":"https://api.github.com/users/jamestelfer/repos","events_url":"https://api.github.com/users/jamestelfer/events{/privacy}","received_events_url":"https://api.github.com/users/jamestelfer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-09-22T08:19:30Z","updated_at":"2024-09-22T08:22:27Z","closed_at":"2024-09-22T08:19:44Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":783283070,"node_id":"R_kgDOLq_zfg","name":"chinmina-bridge","full_name":"chinmina/chinmina-bridge","private":false,"owner":{"login":"chinmina","id":188177369,"node_id":"O_kgDOCzdb2Q","avatar_url":"https://avatars.githubusercontent.com/u/188177369?v=4","gravatar_id":"","url":"https://api.github.com/users/chinmina","html_url":"https://github.com/chinmina","followers_url":"https://api.github.com/users/chinmina/followers","following_url":"https://api.github.com/users/chinmina/following{/other_user}","gists_url":"https://api.github.com/users/chinmina/gists{/gist_id}","starred_url":"https://api.github.com/users/chinmina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chinmina/subscriptions","organizations_url":"https://api.github.com/users/chinmina/orgs","repos_url":"https://api.github.com/users/chinmina/repos","events_url":"https://api.github.com/users/chinmina/events{/privacy}","received_events_url":"https://api.github.com/users/chinmina/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/chinmina/chinmina-bridge","description":"Allows Buildkite agents to use ephemeral GitHub tokens to authenticate their interactions. Avoids deploy keys and long-lived PATs.","fork":false,"url":"https://api.github.com/repos/chinmina/chinmina-bridge","forks_url":"https://api.github.com/repos/chinmina/chinmina-bridge/forks","keys_url":"https://api.github.com/repos/chinmina/chinmina-bridge/keys{/key_id}","collaborators_url":"https://api.github.com/repos/chinmina/chinmina-bridge/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/chinmina/chinmina-bridge/teams","hooks_url":"https://api.github.com/repos/chinmina/chinmina-bridge/hooks","issue_events_url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/events{/number}","events_url":"https://api.github.com/repos/chinmina/chinmina-bridge/events","assignees_url":"https://api.github.com/repos/chinmina/chinmina-bridge/assignees{/user}","branches_url":"https://api.github.com/repos/chinmina/chinmina-bridge/branches{/branch}","tags_url":"https://api.github.com/repos/chinmina/chinmina-bridge/tags","blobs_url":"https://api.github.com/repos/chinmina/chinmina-bridge/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/chinmina/chinmina-bridge/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/chinmina/chinmina-bridge/git/refs{/sha}","trees_url":"https://api.github.com/repos/chinmina/chinmina-bridge/git/trees{/sha}","statuses_url":"https://api.github.com/repos/chinmina/chinmina-bridge/statuses/{sha}","languages_url":"https://api.github.com/repos/chinmina/chinmina-bridge/languages","stargazers_url":"https://api.github.com/repos/chinmina/chinmina-bridge/stargazers","contributors_url":"https://api.github.com/repos/chinmina/chinmina-bridge/contributors","subscribers_url":"https://api.github.com/repos/chinmina/chinmina-bridge/subscribers","subscription_url":"https://api.github.com/repos/chinmina/chinmina-bridge/subscription","commits_url":"https://api.github.com/repos/chinmina/chinmina-bridge/commits{/sha}","git_commits_url":"https://api.github.com/repos/chinmina/chinmina-bridge/git/commits{/sha}","comments_url":"https://api.github.com/repos/chinmina/chinmina-bridge/comments{/number}","issue_comment_url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/comments{/number}","contents_url":"https://api.github.com/repos/chinmina/chinmina-bridge/contents/{+path}","compare_url":"https://api.github.com/repos/chinmina/chinmina-bridge/compare/{base}...{head}","merges_url":"https://api.github.com/repos/chinmina/chinmina-bridge/merges","archive_url":"https://api.github.com/repos/chinmina/chinmina-bridge/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/chinmina/chinmina-bridge/downloads","issues_url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues{/number}","pulls_url":"https://api.github.com/repos/chinmina/chinmina-bridge/pulls{/number}","milestones_url":"https://api.github.com/repos/chinmina/chinmina-bridge/milestones{/number}","notifications_url":"https://api.github.com/repos/chinmina/chinmina-bridge/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/chinmina/chinmina-bridge/labels{/name}","releases_url":"https://api.github.com/repos/chinmina/chinmina-bridge/releases{/id}","deployments_url":"https://api.github.com/repos/chinmina/chinmina-bridge/deployments","created_at":"2024-04-07T13:10:50Z","updated_at":"2025-11-06T20:23:37Z","pushed_at":"2025-10-17T10:44:00Z","git_url":"git://github.com/chinmina/chinmina-bridge.git","ssh_url":"git@github.com:chinmina/chinmina-bridge.git","clone_url":"https://github.com/chinmina/chinmina-bridge.git","svn_url":"https://github.com/chinmina/chinmina-bridge","homepage":"https://chinmina.github.io","size":632,"stargazers_count":13,"watchers_count":13,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":19,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["buildkite","github","github-app","oidc","security"],"visibility":"public","forks":3,"open_issues":19,"watchers":13,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/chinmina/chinmina-bridge/pulls/64","html_url":"https://github.com/chinmina/chinmina-bridge/pull/64","diff_url":"https://github.com/chinmina/chinmina-bridge/pull/64.diff","patch_url":"https://github.com/chinmina/chinmina-bridge/pull/64.patch","merged_at":"2024-09-22T08:19:44Z"},"body":"This works by naming the bundle file using the binary name with no OS or architecture information. This works around the issue with GoReleaser not working when artifact attributes\r\nare used: https://github.com/goreleaser/goreleaser/issues/5147\r\n\r\nThe bundle is part of the release archives, so builds are verifiable, but they're not published\r\nat the top level of the release. In some ways it's easier to have the bundle in the archive, so only one download is required.\r\n\r\nAll this said: the expected way that this will be used is via the image, not the executables, and that signature is working fine.\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n- **Chores**\n\t- Updated configuration for binary signing and archive creation to improve clarity and streamline processes.\n\t- Adjusted naming conventions for signatures and organized release artifacts more effectively.\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->","reactions":{"url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/64/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/chinmina/chinmina-bridge/issues/64/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14362725442,"node_id":"CE_lADOBJgEXs6XaE5KzwAAAANYFcxC","url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events/14362725442","actor":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-09-23T12:14:28Z","state_reason":null,"performed_via_github_app":null},{"id":14362725485,"node_id":"CE_lADOBJgEXs6XaE5KzwAAAANYFcxt","url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events/14362725485","actor":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"2bdfbdcbfe015c8175ece14efccaf2c610bc2daa","commit_url":"https://api.github.com/repos/goreleaser/goreleaser/commits/2bdfbdcbfe015c8175ece14efccaf2c610bc2daa","created_at":"2024-09-23T12:14:28Z","state_reason":null,"performed_via_github_app":null},{"id":14383971286,"node_id":"REFE_lADOBJgEXs6XaE5KzwAAAANZWfvW","url":"https://api.github.com/repos/goreleaser/goreleaser/issues/events/14383971286","actor":{"login":"nekohasekai","id":56506714,"node_id":"MDQ6VXNlcjU2NTA2NzE0","avatar_url":"https://avatars.githubusercontent.com/u/56506714?v=4","gravatar_id":"","url":"https://api.github.com/users/nekohasekai","html_url":"https://github.com/nekohasekai","followers_url":"https://api.github.com/users/nekohasekai/followers","following_url":"https://api.github.com/users/nekohasekai/following{/other_user}","gists_url":"https://api.github.com/users/nekohasekai/gists{/gist_id}","starred_url":"https://api.github.com/users/nekohasekai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nekohasekai/subscriptions","organizations_url":"https://api.github.com/users/nekohasekai/orgs","repos_url":"https://api.github.com/users/nekohasekai/repos","events_url":"https://api.github.com/users/nekohasekai/events{/privacy}","received_events_url":"https://api.github.com/users/nekohasekai/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2bdfbdcbfe015c8175ece14efccaf2c610bc2daa","commit_url":"https://api.github.com/repos/nekohasekai/goreleaser/commits/2bdfbdcbfe015c8175ece14efccaf2c610bc2daa","created_at":"2024-09-24T15:33:53Z","performed_via_github_app":null}]