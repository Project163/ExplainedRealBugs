{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5496","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5496/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5496/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5496/events","html_url":"https://github.com/goreleaser/goreleaser/issues/5496","id":2816691371,"node_id":"I_kwDOBJgEXs6n40yr","number":5496,"title":"Skip Pro Features for Local Builds","user":{"login":"abraithwaite","id":3791413,"node_id":"MDQ6VXNlcjM3OTE0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/3791413?v=4","gravatar_id":"","url":"https://api.github.com/users/abraithwaite","html_url":"https://github.com/abraithwaite","followers_url":"https://api.github.com/users/abraithwaite/followers","following_url":"https://api.github.com/users/abraithwaite/following{/other_user}","gists_url":"https://api.github.com/users/abraithwaite/gists{/gist_id}","starred_url":"https://api.github.com/users/abraithwaite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abraithwaite/subscriptions","organizations_url":"https://api.github.com/users/abraithwaite/orgs","repos_url":"https://api.github.com/users/abraithwaite/repos","events_url":"https://api.github.com/users/abraithwaite/events{/privacy}","received_events_url":"https://api.github.com/users/abraithwaite/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":504976499,"node_id":"MDU6TGFiZWw1MDQ5NzY0OTk=","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"New feature or request"},{"id":4172435329,"node_id":"LA_kwDOBJgEXs74sk-B","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/pro","name":"pro","color":"3B0A63","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":6,"created_at":"2025-01-28T20:50:33Z","updated_at":"2025-01-31T19:24:54Z","closed_at":"2025-01-31T02:06:10Z","author_association":"NONE","type":{"id":5584135,"node_id":"IT_kwDOAXjZGM4AVTUH","name":"Feature","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-01-30T07:57:26Z","updated_at":"2024-10-08T12:12:30Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Is your feature request related to a problem? Please describe.\n\nWe'd like to build snapshots locally as close to production as possible (for things like installing packages in docker, etc) and we use a goreleaser target in our makefile to do so:\n\n```\n\n.PHONY: dist-backend\ndist-backend:\n\tgoreleaser release --config .goreleaser.private.yaml --clean --snapshot\n\n.PHONY: dist-cli\ndist-cli:\n\tgoreleaser release --config .goreleaser.public.yaml --clean --snapshot\n```\n\nWe just upgraded to goreleaser pro for the cloudsmiths repository hosting support.  However, now building locally we must manually comment out the cloudsmiths block otherwise we get this:\n\n```\ngoreleaser release --config .goreleaser.private.yaml --clean --snapshot\n  ⨯ release failed after 0s\n    error=\n    │ yaml: unmarshal errors:\n    │   line 61: field cloudsmiths not found in type config.Project\nmake: *** [dist-backend] Error 1\n```\n\n### Describe the solution you'd like\n\nWe'd like an option or flag to skip the pro build features locally.  We really only want to upload to cloudsmiths from the CI jobs, and not from our local machines, so we'd like that step to be skipped entirely.\n\nWe don't want to have to distribute the license key for goreleaser pro to all our engineering team.\n\n### Describe alternatives you've considered\n\nWe considered using multiple goreleaser files, but we already have 2 environment files targeting different packages but doing almost the same thing, so we'd like to avoid adding more for maintenance reasons.\n\n### Search\n\n- [x] I did search for other open and closed issues before opening this\n\n### Supporter\n\n- [x] I am a [sponsor](https://github.com/sponsors/caarlos0/) or a [Pro](https://goreleaser.com/pro) customer\n\n### Code of Conduct\n\n- [x] I agree to follow this project's Code of Conduct\n\n### Additional context\n\n_No response_","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5496/timeline","performed_via_github_app":null,"state_reason":"completed"}