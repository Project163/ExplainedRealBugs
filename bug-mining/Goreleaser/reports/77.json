{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/823","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/823/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/823/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/823/events","html_url":"https://github.com/goreleaser/goreleaser/issues/823","id":367015854,"node_id":"MDU6SXNzdWUzNjcwMTU4NTQ=","number":823,"title":"make: brew: No such file or directory","user":{"login":"conradwt","id":20219,"node_id":"MDQ6VXNlcjIwMjE5","avatar_url":"https://avatars.githubusercontent.com/u/20219?v=4","gravatar_id":"","url":"https://api.github.com/users/conradwt","html_url":"https://github.com/conradwt","followers_url":"https://api.github.com/users/conradwt/followers","following_url":"https://api.github.com/users/conradwt/following{/other_user}","gists_url":"https://api.github.com/users/conradwt/gists{/gist_id}","starred_url":"https://api.github.com/users/conradwt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conradwt/subscriptions","organizations_url":"https://api.github.com/users/conradwt/orgs","repos_url":"https://api.github.com/users/conradwt/repos","events_url":"https://api.github.com/users/conradwt/events{/privacy}","received_events_url":"https://api.github.com/users/conradwt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":504976497,"node_id":"MDU6TGFiZWw1MDQ5NzY0OTc=","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/bug","name":"bug","color":"ee0701","default":true,"description":"Something isn't working"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/goreleaser/goreleaser/milestones/1","html_url":"https://github.com/goreleaser/goreleaser/milestone/1","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/milestones/1/labels","id":2248611,"node_id":"MDk6TWlsZXN0b25lMjI0ODYxMQ==","number":1,"title":"v1.0.0","description":"Intended to be the first stable solution, with most of the features implemented.","creator":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":335,"state":"closed","created_at":"2017-01-12T21:47:24Z","updated_at":"2022-01-10T14:00:52Z","due_on":null,"closed_at":"2022-01-10T14:00:52Z"},"comments":2,"created_at":"2018-10-05T00:18:10Z","updated_at":"2020-11-19T00:31:51Z","closed_at":"2018-10-20T20:38:21Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\n\r\nHomebrew isn't installed but I have `dep` installed via `go get`\r\n\r\n```bash\r\n$ cd $GOPATH/src/github.com/golang/dep && git describe --tags\r\nv0.5.0-15-g22125cfa\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```\r\n$ go get -d github.com/goreleaser/goreleaser\r\n$ cd $GOPATH/src/github.com/goreleaser/goreleaser\r\n$ dep ensure -vendor-only\r\n$ make setup build\r\n```\r\n\r\nI received the following error:\r\n\r\n```bash\r\ncurl -sfL https://install.goreleaser.com/github.com/golangci/golangci-lint.sh | sh\r\ngolangci/golangci-lint info checking GitHub for latest tag\r\ngolangci/golangci-lint info found version: 1.10.2 for v1.10.2/darwin/amd64\r\ngolangci/golangci-lint info installed ./bin/golangci-lint\r\ncurl -sfL https://install.goreleaser.com/github.com/gohugoio/hugo.sh | sh\r\ngohugoio/hugo info checking GitHub for latest tag\r\ngohugoio/hugo info found version: 0.49 for v0.49/macOS/64bit\r\ngohugoio/hugo info installed ./bin/hugo\r\ncurl -sfL https://install.goreleaser.com/github.com/caarlos0/bandep.sh | sh\r\ncaarlos0/bandep info checking GitHub for latest tag\r\ncaarlos0/bandep info found version: 0.1.3 for v0.1.3/darwin/amd64\r\ncaarlos0/bandep info installed ./bin/bandep\r\nbrew install dep\r\nmake: brew: No such file or directory\r\nmake: *** [setup] Error 1\r\n```\r\n\r\n\r\n```yaml\r\nbuilds:\r\n- env:\r\n    - CGO_ENABLED=0\r\n  goos:\r\n    - linux\r\n    - darwin\r\n    - windows\r\n  goarch:\r\n    - 386\r\n    - amd64\r\n    - arm\r\n    - arm64\r\nchecksum:\r\n  name_template: '{{ .ProjectName }}_checksums.txt'\r\nchangelog:\r\n  sort: asc\r\n  filters:\r\n    exclude:\r\n    - '^docs:'\r\n    - '^test:'\r\n    - Merge pull request\r\n    - Merge branch\r\ndockers:\r\n- image: goreleaser/goreleaser\r\n  extra_files:\r\n  - scripts/entrypoint.sh\r\n  tag_templates:\r\n  - '{{ .Tag }}'\r\n  - 'v{{ .Major }}.{{ .Minor }}'\r\n  - 'latest'\r\narchive:\r\n  name_template: '{{ .ProjectName }}_{{ .Os }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}'\r\n  replacements:\r\n    darwin: Darwin\r\n    linux: Linux\r\n    windows: Windows\r\n    386: i386\r\n    amd64: x86_64\r\n  format_overrides:\r\n  - goos: windows\r\n    format: zip\r\nbrew:\r\n  github:\r\n    owner: goreleaser\r\n    name: homebrew-tap\r\n  folder: Formula\r\n  homepage:  https://goreleaser.com\r\n  description: Deliver Go binaries as fast and easily as possible\r\n  test: |\r\n    system \"#{bin}/goreleaser -v\"\r\nscoop:\r\n  bucket:\r\n    owner: goreleaser\r\n    name: scoop-bucket\r\n  homepage:  https://goreleaser.com\r\n  description: Deliver Go binaries as fast and easily as possible\r\n  license: MIT\r\nnfpm:\r\n  name_template: '{{ .ProjectName }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}'\r\n  homepage:  https://goreleaser.com\r\n  description: Deliver Go binaries as fast and easily as possible\r\n  maintainer: Carlos Alexandro Becker <root@carlosbecker.com>\r\n  license: MIT\r\n  vendor: GoReleaser\r\n  formats:\r\n  - deb\r\n  - rpm\r\n  dependencies:\r\n  - git\r\n  recommends:\r\n  - rpm\r\nsnapcraft:\r\n  name_template: '{{ .ProjectName }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}'\r\n  summary: Deliver Go binaries as fast and easily as possible\r\n  description: |\r\n    GoReleaser builds Go binaries for several platforms, creates a GitHub\r\n    release and then pushes a Homebrew formula to a repository. All that\r\n    wrapped in your favorite CI.\r\n  grade: stable\r\n  confinement: classic\r\n```\r\n\r\n**Expected behavior**\r\n\r\nComplete without error.\r\n\r\n**Environment (please complete the following information):**\r\n\r\n- OS: [e.g. mac, linux]\r\n\r\nmacOS 10.14.1\r\n\r\n- OS version: [uname -a]\r\nN/A\r\n\r\n- GoReleaser Version [goreleaser --version]\r\n\r\n```bash\r\n$ goreleaser --version\r\n\r\ndev, commit none, built at unknown\r\n```\r\nNote:  `goreleaser --version` doesn't output an actual version.\r\n\r\n```bash\r\n$ goreleaser\r\n\r\n   • releasing using goreleaser dev...\r\n   • loading config file       file=.goreleaser.yml\r\n   • SETTING DEFAULTS FOR:\r\n      • loading environment variables\r\n      • snapshoting              \r\n      • releasing to GitHub      \r\n      • project name             \r\n      • creating archives        \r\n      • building binaries        \r\n      • creating Linux packages with nfpm\r\n      • creating Linux packages with snapcraft\r\n      • calculating checksums    \r\n      • signing artifacts        \r\n      • creating Docker images   \r\n      • releasing to Artifactory \r\n      • releasing to s3          \r\n      • creating homebrew formula\r\n      • creating Scoop Manifest  \r\n   • RUNNING BEFORE HOOKS\r\n   • CHECKING ./DIST  \r\n   • GETTING AND VALIDATING GIT STATE\r\n      • releasing v0.87.0, commit 60b0bc24166e81c720ef0bec838e8c4b019a04c2\r\n   ⨯ release failed after 0.11s error=git is currently in a dirty state:\r\n M Gopkg.lock\r\n M Makefile\r\n```\r\nNote:  Using `gorelease` without the version option displayed what appears to be version information.\r\n\r\n**Additional context**\r\n\r\nAfter removing `brew install dep`, I was able to complete the build of `goreleaser`.  However, I also needed to perform `go install` in the root of the `goreleaser` directory to make the binary available globally.\r\n","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/823/timeline","performed_via_github_app":null,"state_reason":"completed"}