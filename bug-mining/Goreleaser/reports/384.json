{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5595","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5595/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5595/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5595/events","html_url":"https://github.com/goreleaser/goreleaser/issues/5595","id":2878972663,"node_id":"I_kwDOBJgEXs6rmaL3","number":5595,"title":"Changelog generation produces no lines if format does not begin with SHA","user":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-25T16:38:38Z","updated_at":"2025-03-08T13:57:24Z","closed_at":"2025-03-08T13:57:24Z","author_association":"MEMBER","type":{"id":5584132,"node_id":"IT_kwDOAXjZGM4AVTUE","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-30T07:57:26Z","updated_at":"2024-07-26T11:30:17Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"\n### Discussed in https://github.com/orgs/goreleaser/discussions/5556\n\n<div type='discussions-op-text'>\n\n<sup>Originally posted by **shillberry** February 14, 2025</sup>\n**Expected Behavior:** I expect to put the SHA at the end of the changelog commit (or exclude it altogether).\r\n**Observed Behavior:** If I omit the SHA from the changelog format (or put it at the end), the changelog is empty.\r\n\r\n**How to reproduce:**\r\nHere is the changelog configuration I am using.\r\n\r\n```yaml\r\nchangelog:\r\n  disable: false\r\n  use: gitlab\r\n  format: \"{{.Message}} (@{{.AuthorName}})\"\r\n  sort: asc\r\n  abbrev: 6\r\n  groups:\r\n    - title: Features\r\n      regexp: '^.*?feat(\\([[:word:]]+\\))??!?:.+$'\r\n      order: 0\r\n    - title: \"Bug fixes\"\r\n      regexp: '^.*?fix(\\([[:word:]]+\\))??!?:.+$'\r\n      order: 1\r\n    - title: Others\r\n      order: 999\r\n  filters:\r\n    exclude:\r\n      - \"^docs:\"\r\n      - typo\r\n      - (?i)foo\r\n    include:\r\n      - \"^feat:\"\r\n      - \"^fix:\"\r\n``` \r\n\r\nThe Changelog that is generated appears empty:\r\n```\r\n## Changelog\r\n```\r\n\r\n\r\nIf instead the format is provided with the SHA in the first position, the Changelog includes the expected rows:\r\n```yaml\r\nformat: \"{{ .SHA }}: {{ .Message }} (@{{.AuthorName}})\"\r\n```\r\n\r\nResults in:\r\n```\r\n## Changelog   \r\n### Features   \r\n* 123abc feat: This is some feature (@user)\r\n### Bug fixes   \r\n* abc123 fix: This is some fix (@user)\r\n```\r\n</div>","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/5595/timeline","performed_via_github_app":null,"state_reason":"completed"}