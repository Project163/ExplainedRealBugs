{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/2080","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/2080/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/2080/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/2080/events","html_url":"https://github.com/goreleaser/goreleaser/issues/2080","id":815700939,"node_id":"MDU6SXNzdWU4MTU3MDA5Mzk=","number":2080,"title":"replace directive breaks go install/go get for Go 1.16","user":{"login":"jaredallard","id":2391349,"node_id":"MDQ6VXNlcjIzOTEzNDk=","avatar_url":"https://avatars.githubusercontent.com/u/2391349?v=4","gravatar_id":"","url":"https://api.github.com/users/jaredallard","html_url":"https://github.com/jaredallard","followers_url":"https://api.github.com/users/jaredallard/followers","following_url":"https://api.github.com/users/jaredallard/following{/other_user}","gists_url":"https://api.github.com/users/jaredallard/gists{/gist_id}","starred_url":"https://api.github.com/users/jaredallard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaredallard/subscriptions","organizations_url":"https://api.github.com/users/jaredallard/orgs","repos_url":"https://api.github.com/users/jaredallard/repos","events_url":"https://api.github.com/users/jaredallard/events{/privacy}","received_events_url":"https://api.github.com/users/jaredallard/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":504976497,"node_id":"MDU6TGFiZWw1MDQ5NzY0OTc=","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/bug","name":"bug","color":"ee0701","default":true,"description":"Something isn't working"}],"state":"closed","locked":true,"assignee":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":6,"created_at":"2021-02-24T17:39:42Z","updated_at":"2021-04-21T12:06:10Z","closed_at":"2021-03-22T11:45:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\n\r\nUnable to use `go install` or `go get` with Go 1.16 to download goreleaser. This breaks tools, such as [gobin](https://github.com/myitcv/gobin).\r\n\r\n**To Reproduce**\r\n\r\nTo reproduce, install Go 1.16 and run `go install github.com/goreleaser/goreleaser@v0.155.2`:\r\n\r\n```\r\ngo install github.com/goreleaser/goreleaser@v0.155.2: github.com/goreleaser/goreleaser@v0.155.2\r\n        The go.mod file for the module providing named packages contains one or\r\n        more replace directives. It must not contain directives that would cause\r\n        it to be interpreted differently than if it were the main module\r\n```\r\n\r\nWhen using `gobin` (`go get`) `gobin -run github.com/goreleaser/goreleaser@v0.155.2`:\r\n\r\n```\r\nfailed to run go list -find -json github.com/goreleaser/goreleaser: exit status 1\r\ngo: github.com/mattn/go-shellwords@v1.0.10 (replaced by github.com/caarlos0/go-shellwords@v1.0.11): missing go.sum entry; to add it:\r\n        go mod download github.com/mattn/go-shellwords\r\n```\r\n\r\n**Expected behavior**\r\n\r\n`go install` would successfully build goreleaser.\r\n\r\n**Environment (please complete the following information):**\r\n\r\n- OS: Ubuntu 20.04 (WSL2)\r\n- OS version: Linux DESKTOP-94VHCO4 5.4.72-microsoft-standard-WSL2 #1 SMP Wed Oct 28 23:40:43 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n- GoReleaser Version v0.155.2\r\n\r\n**Additional context**\r\n\r\nThis appears to be due to the replace directive for go-shellwords. It's [stated that permanent replacements (forks) should use new import paths and not a `replace`](https://github.com/golang/go/issues/30354#issuecomment-466479708) and it seems Go tooling is now enforcing that belief in Go 1.16\r\n","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/2080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/2080/timeline","performed_via_github_app":null,"state_reason":"completed"}