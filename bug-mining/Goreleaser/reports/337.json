{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/4923","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/4923/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/4923/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/4923/events","html_url":"https://github.com/goreleaser/goreleaser/issues/4923","id":2342240032,"node_id":"I_kwDOBJgEXs6Lm78g","number":4923,"title":"Sign goreleaser nfpms","user":{"login":"cnt0","id":4948391,"node_id":"MDQ6VXNlcjQ5NDgzOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4948391?v=4","gravatar_id":"","url":"https://api.github.com/users/cnt0","html_url":"https://github.com/cnt0","followers_url":"https://api.github.com/users/cnt0/followers","following_url":"https://api.github.com/users/cnt0/following{/other_user}","gists_url":"https://api.github.com/users/cnt0/gists{/gist_id}","starred_url":"https://api.github.com/users/cnt0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cnt0/subscriptions","organizations_url":"https://api.github.com/users/cnt0/orgs","repos_url":"https://api.github.com/users/cnt0/repos","events_url":"https://api.github.com/users/cnt0/events{/privacy}","received_events_url":"https://api.github.com/users/cnt0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":518897945,"node_id":"MDU6TGFiZWw1MTg4OTc5NDU=","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/docs","name":"docs","color":"5319e7","default":false,"description":"A problem or enhancement in documentation"}],"state":"closed","locked":false,"assignee":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/goreleaser/goreleaser/milestones/30","html_url":"https://github.com/goreleaser/goreleaser/milestone/30","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/milestones/30/labels","id":11161531,"node_id":"MI_kwDOBJgEXs4Aqk-7","number":30,"title":"v2.1.0","description":"","creator":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":56,"state":"closed","created_at":"2024-06-09T22:43:12Z","updated_at":"2024-07-13T18:09:44Z","due_on":null,"closed_at":"2024-07-13T18:09:44Z"},"comments":1,"created_at":"2024-06-09T13:03:54Z","updated_at":"2024-06-15T19:42:14Z","closed_at":"2024-06-15T19:42:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Is your feature request related to a problem? Please describe.\n\nHello. Goreleaser documentation [suggests](https://goreleaser.com/install/#deb-rpm-and-apk-packages) the way to install this software in some linux distributions:\r\n\r\n> Download the .deb, .rpm or .apk packages from the [OSS releases page](https://github.com/goreleaser/goreleaser/releases) and install them with the appropriate tools.\r\n\r\nHowever, this fails on alpine linux:\r\n```bash\r\n$ curl -LJO https://github.com/goreleaser/goreleaser/releases/download/v2.0.0/goreleaser_2.0.0_x86_64.apk\r\n$ doas apk add ./goreleaser_2.0.0_x86_64.apk\r\nERROR: ./goreleaser_2.0.0_x86_64.apk: UNTRUSTED signature\r\n```\r\nThat's because this apk (and all other generated nfpms) doesn't contain the signature\n\n### Describe the solution you'd like\n\nI believe the best way to resolve this problem is to generate signed nfpms on github, i.e. fill `.signature.key_file` fields in appropriate sections in `.goreleaser.yaml`. \r\n\r\nAnd since nfpm is not using any external tools to sign apk packages, it should be fairly easy to do that at least in this case. I'm not so sure about deb packages though.\n\n### Describe alternatives you've considered\n\nwell I can work around this problem by verifying checksums from github release and then calling\r\n```bash\r\n$ doas apk add ./goreleaser_2.0.0_x86_64.apk --allow-untrusted\r\n```\r\n...but there's an automated way to do exactly that :)\n\n### Search\n\n- [X] I did search for other open and closed issues before opening this\n\n### Supporter\n\n- [ ] I am a [sponsor](https://github.com/sponsors/caarlos0/) or a [Pro](https://goreleaser.com/pro) customer\n\n### Code of Conduct\n\n- [X] I agree to follow this project's Code of Conduct\n\n### Additional context\n\n_No response_","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/4923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/4923/timeline","performed_via_github_app":null,"state_reason":"completed"}