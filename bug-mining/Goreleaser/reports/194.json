{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3431","repository_url":"https://api.github.com/repos/goreleaser/goreleaser","labels_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3431/labels{/name}","comments_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3431/comments","events_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3431/events","html_url":"https://github.com/goreleaser/goreleaser/issues/3431","id":1395145978,"node_id":"I_kwDOBJgEXs5TKDz6","number":3431,"title":"Set parse mode for Telegram announcer","user":{"login":"stnokott","id":30934296,"node_id":"MDQ6VXNlcjMwOTM0Mjk2","avatar_url":"https://avatars.githubusercontent.com/u/30934296?v=4","gravatar_id":"","url":"https://api.github.com/users/stnokott","html_url":"https://github.com/stnokott","followers_url":"https://api.github.com/users/stnokott/followers","following_url":"https://api.github.com/users/stnokott/following{/other_user}","gists_url":"https://api.github.com/users/stnokott/gists{/gist_id}","starred_url":"https://api.github.com/users/stnokott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stnokott/subscriptions","organizations_url":"https://api.github.com/users/stnokott/orgs","repos_url":"https://api.github.com/users/stnokott/repos","events_url":"https://api.github.com/users/stnokott/events{/privacy}","received_events_url":"https://api.github.com/users/stnokott/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":504976499,"node_id":"MDU6TGFiZWw1MDQ5NzY0OTk=","url":"https://api.github.com/repos/goreleaser/goreleaser/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"New feature or request"}],"state":"closed","locked":true,"assignee":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2022-10-03T18:27:18Z","updated_at":"2022-12-05T13:23:12Z","closed_at":"2022-10-05T12:35:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Is your feature request related to a problem? Please describe.\n\nI think having the option to use any of the [available formatting options](https://core.telegram.org/bots/api#formatting-options) for sending Telegram messages (MarkdownV2/HTML) would greatly benefit the Telegram announce module.\r\n\r\nCurrently, there is only plaintext possible with some formatting that Telegram does on its own (e.g. making URLs clickable).\r\n\r\nThe fix (see below) is really simple, just a single line, and would allow formatting options such as font styling or URL formatting.\n\n### Describe the solution you'd like\n\nThis is how a Telegram announcement is currently sent:\r\n\r\nhttps://github.com/goreleaser/goreleaser/blob/11447a8990f8b4c95fc470d1fb83a79ecc1f64cd/internal/pipe/telegram/telegram.go#L48-L49\r\n\r\nI would extend this with an additonal line, setting the parse mode in the [MessageConfig](https://pkg.go.dev/github.com/go-telegram-bot-api/telegram-bot-api/v5#MessageConfig) object.\r\n```go\r\n\ttm := api.NewMessage(ctx.Config.Announce.Telegram.ChatID, msg)\r\n        tm.ParseMode = \"MarkdownV2\"\r\n\t_, err = bot.Send(tm)\r\n```\n\n### Describe alternatives you've considered\n\nThe obvious alternative is to stick with plaintext.\r\nWhile this is acceptable, having the option to format the announcements is a plus.\r\nAdditionally, if you don't want any special formatting, you can simply not use any formatting.\n\n### Search\n\n- [X] I did search for other open and closed issues before opening this.\n\n### Code of Conduct\n\n- [X] I agree to follow this project's Code of Conduct\n\n### Additional context\n\nThe solution is focused on simplicity and thus doesn't allow the user to specify the parse mode themselves, e.g. in the `.goreleaser.yaml`.\r\n\r\nThis raises two potential discussion points:\r\n- Do we invest additonal time to allow configuring the parse mode in the `.goreleaser.yaml` instead of choosing a default parse mode for the user?\r\n- If not, do we set the default parse mode as HTML or MarkdownV2?\r\n\r\nI'd raise a PR myself, but first, I'd love to hear what the community thinks about this feature and these questions.","closed_by":{"login":"caarlos0","id":245435,"node_id":"MDQ6VXNlcjI0NTQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/245435?v=4","gravatar_id":"","url":"https://api.github.com/users/caarlos0","html_url":"https://github.com/caarlos0","followers_url":"https://api.github.com/users/caarlos0/followers","following_url":"https://api.github.com/users/caarlos0/following{/other_user}","gists_url":"https://api.github.com/users/caarlos0/gists{/gist_id}","starred_url":"https://api.github.com/users/caarlos0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caarlos0/subscriptions","organizations_url":"https://api.github.com/users/caarlos0/orgs","repos_url":"https://api.github.com/users/caarlos0/repos","events_url":"https://api.github.com/users/caarlos0/events{/privacy}","received_events_url":"https://api.github.com/users/caarlos0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/goreleaser/goreleaser/issues/3431/timeline","performed_via_github_app":null,"state_reason":"completed"}