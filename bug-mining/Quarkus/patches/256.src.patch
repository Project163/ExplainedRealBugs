diff --git a/extensions/qute/deployment/src/main/java/io/quarkus/qute/deployment/QuteProcessor.java b/extensions/qute/deployment/src/main/java/io/quarkus/qute/deployment/QuteProcessor.java
index db88aaf12cc..fb2acecf4bd 100644
--- a/extensions/qute/deployment/src/main/java/io/quarkus/qute/deployment/QuteProcessor.java
+++ b/extensions/qute/deployment/src/main/java/io/quarkus/qute/deployment/QuteProcessor.java
@@ -1113,6 +1113,9 @@ private static void validateDefaultValuesOfParameterDeclarations(TemplateAnalysi
             if (defaultValue != null) {
                 MatchResult match;
                 if (defaultValue.isLiteral()) {
+                    if (defaultValue.getLiteral() == null)
+                        // Skip validation for `null`
+                        continue;
                     match = new MatchResult(assignabilityCheck);
                     setMatchValues(match, defaultValue, generatedIdsToMatches, index);
                 } else {
diff --git a/extensions/qute/deployment/src/test/java/io/quarkus/qute/deployment/typesafe/ParamDeclarationDefaultValueTest.java b/extensions/qute/deployment/src/test/java/io/quarkus/qute/deployment/typesafe/ParamDeclarationDefaultValueTest.java
index 357f638e924..16b129b31d3 100644
--- a/extensions/qute/deployment/src/test/java/io/quarkus/qute/deployment/typesafe/ParamDeclarationDefaultValueTest.java
+++ b/extensions/qute/deployment/src/test/java/io/quarkus/qute/deployment/typesafe/ParamDeclarationDefaultValueTest.java
@@ -19,7 +19,12 @@ public class ParamDeclarationDefaultValueTest {
             .withApplicationRoot((jar) -> jar
                     .addClass(MyEnum.class)
                     .addAsResource(new StringAsset(
-                            "{@io.quarkus.qute.deployment.typesafe.ParamDeclarationDefaultValueTest$MyEnum myEnum=MyEnum:BAR}{myEnum}"),
+                            """
+                                    {@io.quarkus.qute.deployment.typesafe.ParamDeclarationDefaultValueTest$MyEnum myEnum=MyEnum:BAR}
+                                    {@String name=null}
+                                    {myEnum}
+                                    {#if name != null}NOK!{/}
+                                    """),
                             "templates/myEnum.html"));
 
     @Inject
@@ -27,7 +32,7 @@ public class ParamDeclarationDefaultValueTest {
 
     @Test
     public void testDefaultValue() {
-        assertEquals("BAR", myEnum.render());
+        assertEquals("BAR", myEnum.render().strip());
     }
 
     @TemplateEnum
diff --git a/independent-projects/qute/core/src/main/java/io/quarkus/qute/ExpressionImpl.java b/independent-projects/qute/core/src/main/java/io/quarkus/qute/ExpressionImpl.java
index c16266bfd66..50ad336f9f9 100644
--- a/independent-projects/qute/core/src/main/java/io/quarkus/qute/ExpressionImpl.java
+++ b/independent-projects/qute/core/src/main/java/io/quarkus/qute/ExpressionImpl.java
@@ -37,10 +37,11 @@ static ExpressionImpl literal(int id, String literal, Object value, Origin origi
         if (literal == null) {
             throw new IllegalArgumentException("Literal must not be null");
         }
-        return new ExpressionImpl(id, null,
-                Collections.singletonList(new PartImpl(literal,
-                        value != null ? Expressions.typeInfoFrom(value.getClass().getName()) : null)),
-                value, origin);
+        String typeInfo = null;
+        if (value != null) {
+            typeInfo = Expressions.typeInfoFrom(value.getClass().getName());
+        }
+        return new ExpressionImpl(id, null, List.of(new PartImpl(literal, typeInfo)), value, origin);
     }
 
     static Integer syntheticId() {
diff --git a/independent-projects/qute/core/src/main/java/io/quarkus/qute/SectionHelperFactory.java b/independent-projects/qute/core/src/main/java/io/quarkus/qute/SectionHelperFactory.java
index 16da9883ff1..e9f7f54fc68 100644
--- a/independent-projects/qute/core/src/main/java/io/quarkus/qute/SectionHelperFactory.java
+++ b/independent-projects/qute/core/src/main/java/io/quarkus/qute/SectionHelperFactory.java
@@ -162,6 +162,10 @@ default TemplateException createParserError(String message) {
 
     interface BlockInfo extends ParserDelegate, WithOrigin {
 
+        default boolean isMainBlock() {
+            return MAIN_BLOCK_NAME.equals(getLabel());
+        }
+
         String getLabel();
 
         /**
diff --git a/independent-projects/qute/core/src/main/java/io/quarkus/qute/SetSectionHelper.java b/independent-projects/qute/core/src/main/java/io/quarkus/qute/SetSectionHelper.java
index d20a8a29778..eced9cc568b 100644
--- a/independent-projects/qute/core/src/main/java/io/quarkus/qute/SetSectionHelper.java
+++ b/independent-projects/qute/core/src/main/java/io/quarkus/qute/SetSectionHelper.java
@@ -139,7 +139,7 @@ public SetSectionHelper initialize(SectionInitContext context) {
 
         @Override
         public Scope initializeBlock(Scope previousScope, BlockInfo block) {
-            if (block.getLabel().equals(MAIN_BLOCK_NAME)) {
+            if (block.isMainBlock()) {
                 Scope newScope = new Scope(previousScope);
                 for (Entry<String, String> e : block.getParameters().entrySet()) {
                     String key = e.getKey();
diff --git a/independent-projects/qute/core/src/test/java/io/quarkus/qute/ParamDeclarationDefaultValueTest.java b/independent-projects/qute/core/src/test/java/io/quarkus/qute/ParamDeclarationDefaultValueTest.java
index cfcc3149aa1..09edfbc43c3 100644
--- a/independent-projects/qute/core/src/test/java/io/quarkus/qute/ParamDeclarationDefaultValueTest.java
+++ b/independent-projects/qute/core/src/test/java/io/quarkus/qute/ParamDeclarationDefaultValueTest.java
@@ -19,6 +19,7 @@ public void testDefaultValue() {
         assertDefaultValue(engine.parse("{@java.lang.String val= 'foo'}\n{val.toUpperCase}"), "FOO");
         assertDefaultValue(engine.parse("{@java.lang.String val='foo and bar'}\n{val.toUpperCase}"), "FOO AND BAR");
         assertDefaultValue(engine.parse("{@java.lang.String val= 'foo and bar'}\n{val.toUpperCase}"), "FOO AND BAR");
+        assertDefaultValue(engine.parse("{@java.lang.String val=null}\n{val == null ? 'ok' : 'nok'}"), "ok");
     }
 
     @Test
@@ -56,12 +57,14 @@ private void assertDefaultValue(Template template, String expectedOutput) {
         assertEquals(expectedOutput, template.render());
         Expression fooExpr = template.getExpressions().stream().filter(e -> e.isLiteral()).findFirst().orElse(null);
         assertNotNull(fooExpr);
-        assertEquals("|java.lang.String|", fooExpr.collectTypeInfo());
-        Expression valExpr = template.getExpressions().stream().filter(e -> e.toOriginalString().equals("val.toUpperCase"))
-                .findAny().orElse(null);
-        assertNotNull(valExpr);
-        assertEquals("|java.lang.String|.toUpperCase", valExpr.collectTypeInfo());
-        assertEquals(2, valExpr.getOrigin().getLine());
+        if (fooExpr.getLiteral() != null) {
+            assertEquals("|java.lang.String|", fooExpr.collectTypeInfo());
+            Expression valExpr = template.getExpressions().stream().filter(e -> e.toOriginalString().equals("val.toUpperCase"))
+                    .findAny().orElse(null);
+            assertNotNull(valExpr);
+            assertEquals("|java.lang.String|.toUpperCase", valExpr.collectTypeInfo());
+            assertEquals(2, valExpr.getOrigin().getLine());
+        }
     }
 
 }
