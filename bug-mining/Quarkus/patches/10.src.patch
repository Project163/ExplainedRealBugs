diff --git a/extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesCommonHelper.java b/extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesCommonHelper.java
index f2075c21cd5..f83be2afcc7 100644
--- a/extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesCommonHelper.java
+++ b/extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesCommonHelper.java
@@ -1194,9 +1194,19 @@ private static List<PolicyRule> toPolicyRulesList(Map<String, PolicyRuleConfig>
     }
 
     private static String parseVCSUri(VCSUriConfig config, ScmInfo scm) {
-        if (config.enabled) {
-            return config.override.orElseGet(() -> scm != null ? Git.sanitizeRemoteUrl(scm.getRemote().get("origin")) : null);
+        if (!config.enabled) {
+            return null;
         }
-        return null;
+        if (config.override.isPresent()) {
+            return config.override.get();
+        }
+        if (scm == null) {
+            return null;
+        }
+        String originRemote = scm.getRemote().get("origin");
+        if (originRemote == null || originRemote.isBlank()) {
+            return null;
+        }
+        return Git.sanitizeRemoteUrl(originRemote);
     }
 }
