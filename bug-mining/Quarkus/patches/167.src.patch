diff --git a/extensions/infinispan-cache/deployment/pom.xml b/extensions/infinispan-cache/deployment/pom.xml
index 5254fcbc79e..d75ddb30bb2 100644
--- a/extensions/infinispan-cache/deployment/pom.xml
+++ b/extensions/infinispan-cache/deployment/pom.xml
@@ -57,9 +57,6 @@
                                     <version>${project.version}</version>
                                 </path>
                             </annotationProcessorPaths>
-                            <compilerArgs>
-                                <arg>-AlegacyConfigRoot=true</arg>
-                            </compilerArgs>
                         </configuration>
                     </execution>
                 </executions>
diff --git a/extensions/infinispan-cache/deployment/src/main/java/io/quarkus/cache/infinispan/deployment/InfinispanCacheProcessor.java b/extensions/infinispan-cache/deployment/src/main/java/io/quarkus/cache/infinispan/deployment/InfinispanCacheProcessor.java
index 02ce9ec545d..85b297f443c 100644
--- a/extensions/infinispan-cache/deployment/src/main/java/io/quarkus/cache/infinispan/deployment/InfinispanCacheProcessor.java
+++ b/extensions/infinispan-cache/deployment/src/main/java/io/quarkus/cache/infinispan/deployment/InfinispanCacheProcessor.java
@@ -41,7 +41,7 @@ UnremovableBeanBuildItem ensureBeanLookupAvailable() {
     @BuildStep
     InfinispanClientNameBuildItem requestedInfinispanClientBuildItem(InfinispanCachesBuildTimeConfig buildConfig) {
         return new InfinispanClientNameBuildItem(
-                buildConfig.clientName.orElse(InfinispanClientUtil.DEFAULT_INFINISPAN_CLIENT_NAME));
+                buildConfig.clientName().orElse(InfinispanClientUtil.DEFAULT_INFINISPAN_CLIENT_NAME));
     }
 
     @BuildStep
diff --git a/extensions/infinispan-cache/runtime/pom.xml b/extensions/infinispan-cache/runtime/pom.xml
index 979be55c201..8c500552df1 100644
--- a/extensions/infinispan-cache/runtime/pom.xml
+++ b/extensions/infinispan-cache/runtime/pom.xml
@@ -42,9 +42,6 @@
                                     <version>${project.version}</version>
                                 </path>
                             </annotationProcessorPaths>
-                            <compilerArgs>
-                                <arg>-AlegacyConfigRoot=true</arg>
-                            </compilerArgs>
                         </configuration>
                     </execution>
                 </executions>
diff --git a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheBuildRecorder.java b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheBuildRecorder.java
index 19ad5ace352..988fcd17dfb 100644
--- a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheBuildRecorder.java
+++ b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheBuildRecorder.java
@@ -57,7 +57,7 @@ public CacheManager get() {
                                             cacheInfo.name, cacheInfo.lifespan, cacheInfo.maxIdle);
                                 }
 
-                                InfinispanCacheImpl cache = new InfinispanCacheImpl(cacheInfo, buildConfig.clientName);
+                                InfinispanCacheImpl cache = new InfinispanCacheImpl(cacheInfo, buildConfig.clientName());
                                 caches.put(cacheInfo.name, cache);
                             }
                             return new CacheManagerImpl(caches);
diff --git a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheInfoBuilder.java b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheInfoBuilder.java
index 7519e082563..e35de3fc990 100644
--- a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheInfoBuilder.java
+++ b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheInfoBuilder.java
@@ -19,19 +19,19 @@ public static Set<InfinispanCacheInfo> build(Set<String> cacheNames, InfinispanC
                 InfinispanCacheInfo cacheInfo = new InfinispanCacheInfo();
                 cacheInfo.name = cacheName;
 
-                InfinispanCacheRuntimeConfig defaultRuntimeConfig = runtimeConfig.defaultConfig;
-                InfinispanCacheRuntimeConfig namedRuntimeConfig = runtimeConfig.cachesConfig.get(cacheInfo.name);
+                InfinispanCacheRuntimeConfig defaultRuntimeConfig = runtimeConfig.defaultConfig();
+                InfinispanCacheRuntimeConfig namedRuntimeConfig = runtimeConfig.cachesConfig().get(cacheInfo.name);
 
-                if (namedRuntimeConfig != null && namedRuntimeConfig.lifespan.isPresent()) {
-                    cacheInfo.lifespan = namedRuntimeConfig.lifespan;
-                } else if (defaultRuntimeConfig.lifespan.isPresent()) {
-                    cacheInfo.lifespan = defaultRuntimeConfig.lifespan;
+                if (namedRuntimeConfig != null && namedRuntimeConfig.lifespan().isPresent()) {
+                    cacheInfo.lifespan = namedRuntimeConfig.lifespan();
+                } else if (defaultRuntimeConfig.lifespan().isPresent()) {
+                    cacheInfo.lifespan = defaultRuntimeConfig.lifespan();
                 }
 
-                if (namedRuntimeConfig != null && namedRuntimeConfig.maxIdle.isPresent()) {
-                    cacheInfo.maxIdle = namedRuntimeConfig.maxIdle;
-                } else if (defaultRuntimeConfig.maxIdle.isPresent()) {
-                    cacheInfo.maxIdle = defaultRuntimeConfig.maxIdle;
+                if (namedRuntimeConfig != null && namedRuntimeConfig.maxIdle().isPresent()) {
+                    cacheInfo.maxIdle = namedRuntimeConfig.maxIdle();
+                } else if (defaultRuntimeConfig.maxIdle().isPresent()) {
+                    cacheInfo.maxIdle = defaultRuntimeConfig.maxIdle();
                 }
 
                 result.add(cacheInfo);
diff --git a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheRuntimeConfig.java b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheRuntimeConfig.java
index 51b22ff1ed9..acf6d03bb22 100644
--- a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheRuntimeConfig.java
+++ b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCacheRuntimeConfig.java
@@ -4,20 +4,17 @@
 import java.util.Optional;
 
 import io.quarkus.runtime.annotations.ConfigGroup;
-import io.quarkus.runtime.annotations.ConfigItem;
 
 @ConfigGroup
-public class InfinispanCacheRuntimeConfig {
+public interface InfinispanCacheRuntimeConfig {
     /**
      * The default lifespan of the item stored in the cache
      */
-    @ConfigItem
-    public Optional<Duration> lifespan;
+    Optional<Duration> lifespan();
 
     /**
      * The default max-idle of the item stored in the cache
      */
-    @ConfigItem
-    public Optional<Duration> maxIdle;
+    Optional<Duration> maxIdle();
 
 }
diff --git a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesBuildTimeConfig.java b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesBuildTimeConfig.java
index 66596bc5170..02e161f3b34 100644
--- a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesBuildTimeConfig.java
+++ b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesBuildTimeConfig.java
@@ -4,16 +4,16 @@
 
 import java.util.Optional;
 
-import io.quarkus.runtime.annotations.ConfigItem;
 import io.quarkus.runtime.annotations.ConfigRoot;
+import io.smallrye.config.ConfigMapping;
 
-@ConfigRoot(phase = BUILD_AND_RUN_TIME_FIXED, name = "cache.infinispan")
-public class InfinispanCachesBuildTimeConfig {
+@ConfigRoot(phase = BUILD_AND_RUN_TIME_FIXED)
+@ConfigMapping(prefix = "quarkus.cache.infinispan")
+public interface InfinispanCachesBuildTimeConfig {
 
     /**
      * The name of the named Infinispan client to be used for communicating with Infinispan.
      * If not set, use the default Infinispan client.
      */
-    @ConfigItem
-    public Optional<String> clientName;
+    Optional<String> clientName();
 }
diff --git a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesConfig.java b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesConfig.java
index c2533936392..31837b32840 100644
--- a/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesConfig.java
+++ b/extensions/infinispan-cache/runtime/src/main/java/io/quarkus/cache/infinispan/runtime/InfinispanCachesConfig.java
@@ -6,24 +6,26 @@
 
 import io.quarkus.runtime.annotations.ConfigDocMapKey;
 import io.quarkus.runtime.annotations.ConfigDocSection;
-import io.quarkus.runtime.annotations.ConfigItem;
 import io.quarkus.runtime.annotations.ConfigRoot;
+import io.smallrye.config.ConfigMapping;
+import io.smallrye.config.WithParentName;
 
-@ConfigRoot(phase = RUN_TIME, name = "cache.infinispan")
-public class InfinispanCachesConfig {
+@ConfigRoot(phase = RUN_TIME)
+@ConfigMapping(prefix = "quarkus.cache.infinispan")
+public interface InfinispanCachesConfig {
 
     /**
      * Default configuration applied to all Infinispan caches (lowest precedence)
      */
-    @ConfigItem(name = ConfigItem.PARENT)
-    public InfinispanCacheRuntimeConfig defaultConfig;
+    @WithParentName
+    InfinispanCacheRuntimeConfig defaultConfig();
 
     /**
      * Additional configuration applied to a specific Infinispan cache (highest precedence)
      */
-    @ConfigItem(name = ConfigItem.PARENT)
+    @WithParentName
     @ConfigDocMapKey("cache-name")
     @ConfigDocSection
-    Map<String, InfinispanCacheRuntimeConfig> cachesConfig;
+    Map<String, InfinispanCacheRuntimeConfig> cachesConfig();
 
 }
