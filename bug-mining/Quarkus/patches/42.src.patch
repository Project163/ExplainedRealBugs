diff --git a/core/deployment/src/main/java/io/quarkus/deployment/dev/filesystem/StaticFileManager.java b/core/deployment/src/main/java/io/quarkus/deployment/dev/filesystem/StaticFileManager.java
index d3706c1e133..acfad174712 100644
--- a/core/deployment/src/main/java/io/quarkus/deployment/dev/filesystem/StaticFileManager.java
+++ b/core/deployment/src/main/java/io/quarkus/deployment/dev/filesystem/StaticFileManager.java
@@ -31,8 +31,9 @@ public Iterable<? extends JavaFileObject> getJavaSources(Iterable<? extends File
     @Override
     public JavaFileObject getJavaFileForInput(Location location, String className, JavaFileObject.Kind kind)
             throws IOException {
+        JavaFileObject file = this.fileManager.getJavaFileForInput(location, className, kind);
         // Ignore the module info of the application in dev mode.
-        if (context.ignoreModuleInfo() && "CLASS_OUTPUT".equalsIgnoreCase(location.getName())
+        if (file != null && context.ignoreModuleInfo() && "CLASS_OUTPUT".equalsIgnoreCase(location.getName())
                 && "module-info".equalsIgnoreCase(className)) {
             if (once.compareAndSet(false, true)) {
                 Logger.getLogger(StaticFileManager.class).info("Ignoring module-info.java in dev mode, " +
@@ -40,7 +41,7 @@ public JavaFileObject getJavaFileForInput(Location location, String className, J
             }
             return null;
         }
-        return this.fileManager.getJavaFileForInput(location, className, kind);
+        return file;
     }
 
 }
