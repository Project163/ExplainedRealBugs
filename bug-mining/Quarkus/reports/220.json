{"url":"https://api.github.com/repos/quarkusio/quarkus/issues/47744","repository_url":"https://api.github.com/repos/quarkusio/quarkus","labels_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47744/labels{/name}","comments_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47744/comments","events_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47744/events","html_url":"https://github.com/quarkusio/quarkus/issues/47744","id":3046225058,"node_id":"I_kwDOCFbutM61kbSi","number":47744,"title":"IllegalAccessError with REST Resources outside of the application module","user":{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":985346620,"node_id":"MDU6TGFiZWw5ODUzNDY2MjA=","url":"https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug","name":"kind/bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":2552031458,"node_id":"MDU6TGFiZWwyNTUyMDMxNDU4","url":"https://api.github.com/repos/quarkusio/quarkus/labels/area/rest","name":"area/rest","color":"0366d6","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/quarkusio/quarkus/milestones/410","html_url":"https://github.com/quarkusio/quarkus/milestone/410","labels_url":"https://api.github.com/repos/quarkusio/quarkus/milestones/410/labels","id":13105378,"node_id":"MI_kwDOCFbutM4Ax_ji","number":410,"title":"3.20.2","description":"","creator":{"login":"jmartisk","id":937315,"node_id":"MDQ6VXNlcjkzNzMxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/937315?v=4","gravatar_id":"","url":"https://api.github.com/users/jmartisk","html_url":"https://github.com/jmartisk","followers_url":"https://api.github.com/users/jmartisk/followers","following_url":"https://api.github.com/users/jmartisk/following{/other_user}","gists_url":"https://api.github.com/users/jmartisk/gists{/gist_id}","starred_url":"https://api.github.com/users/jmartisk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmartisk/subscriptions","organizations_url":"https://api.github.com/users/jmartisk/orgs","repos_url":"https://api.github.com/users/jmartisk/repos","events_url":"https://api.github.com/users/jmartisk/events{/privacy}","received_events_url":"https://api.github.com/users/jmartisk/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":91,"state":"closed","created_at":"2025-06-18T08:33:49Z","updated_at":"2025-08-13T16:49:41Z","due_on":null,"closed_at":"2025-07-16T13:50:36Z"},"comments":3,"created_at":"2025-05-07T14:45:32Z","updated_at":"2025-06-25T08:38:22Z","closed_at":"2025-05-08T10:32:05Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"> I'm having the same issue as the one described by @kevinross. In my case I have a `@QuarkusTest` calling the controller `GreetingResource`, the later being a package-private class found in another module. \n> \n> In module A:\n> ```java\n> @QuarkusTest\n> // the issue appears no matter if this annotation is present\n> @TestHTTPEndpoint(GreetingResource.class)\n> class GreetingResourceTest {\n> \t@Test\n> \tvoid testHelloEndpoint() {...}\n> }\n> ```\n> \n> In module B:\n> ```java\n> @Path(\"/hello\")\n> class GreetingResource {\n> \n>     @GET\n>     public String hello() {...}\n> }\n> ```\n> \n> The above code will fail with a similar error:\n> ```\n> 2025-05-05 13:12:39,360 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /hello failed, error id: d1aab7de-f82a-43ac-bd36-d7719092e410-1: java.lang.IllegalAccessError: failed to access class org.acme.GreetingResource from class org.acme.GreetingResource$quarkusrestinvoker$hello_df324e1539083188359af68039a7afafb7b77cdb (org.acme.GreetingResource is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @553f1d75; org.acme.GreetingResource$quarkusrestinvoker$hello_df324e1539083188359af68039a7afafb7b77cdb is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @479ac2cb)\n> \tat org.acme.GreetingResource$quarkusrestinvoker$hello_df324e1539083188359af68039a7afafb7b77cdb.invoke(Unknown Source)\n> \tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n> \tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\n> \tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\n> \tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$15.runWith(VertxCoreRecorder.java:637)\n> \tat org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2675)\n> \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2654)\n> \tat org.jboss.threads.EnhancedQueueExecutor.runThreadBody(EnhancedQueueExecutor.java:1627)\n> \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1594)\n> \tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)\n> \tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)\n> \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n> \tat java.base/java.lang.Thread.run(Thread.java:1583)\n> ```\n> \n> Making `GreetingResource` public resolves the issue.\n> \n> A reproducer can be found here:\n> [classloader-issue.zip](https://github.com/user-attachments/files/20040887/classloader-issue.zip) \n\n _Originally posted by @celcius112 in [#47692](https://github.com/quarkusio/quarkus/issues/47692#issuecomment-2851706581)_","closed_by":{"login":"geoand","id":4374975,"node_id":"MDQ6VXNlcjQzNzQ5NzU=","avatar_url":"https://avatars.githubusercontent.com/u/4374975?v=4","gravatar_id":"","url":"https://api.github.com/users/geoand","html_url":"https://github.com/geoand","followers_url":"https://api.github.com/users/geoand/followers","following_url":"https://api.github.com/users/geoand/following{/other_user}","gists_url":"https://api.github.com/users/geoand/gists{/gist_id}","starred_url":"https://api.github.com/users/geoand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geoand/subscriptions","organizations_url":"https://api.github.com/users/geoand/orgs","repos_url":"https://api.github.com/users/geoand/repos","events_url":"https://api.github.com/users/geoand/events{/privacy}","received_events_url":"https://api.github.com/users/geoand/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/quarkusio/quarkus/issues/47744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47744/timeline","performed_via_github_app":null,"state_reason":"completed"}