{"url":"https://api.github.com/repos/quarkusio/quarkus/issues/47478","repository_url":"https://api.github.com/repos/quarkusio/quarkus","labels_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47478/labels{/name}","comments_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47478/comments","events_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47478/events","html_url":"https://github.com/quarkusio/quarkus/issues/47478","id":3010657991,"node_id":"I_kwDOCFbutM6zcv7H","number":47478,"title":"VerifyError when using Float in Model deserialized by Jackson","user":{"login":"andlinger","id":1436448,"node_id":"MDQ6VXNlcjE0MzY0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1436448?v=4","gravatar_id":"","url":"https://api.github.com/users/andlinger","html_url":"https://github.com/andlinger","followers_url":"https://api.github.com/users/andlinger/followers","following_url":"https://api.github.com/users/andlinger/following{/other_user}","gists_url":"https://api.github.com/users/andlinger/gists{/gist_id}","starred_url":"https://api.github.com/users/andlinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andlinger/subscriptions","organizations_url":"https://api.github.com/users/andlinger/orgs","repos_url":"https://api.github.com/users/andlinger/repos","events_url":"https://api.github.com/users/andlinger/events{/privacy}","received_events_url":"https://api.github.com/users/andlinger/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":985346620,"node_id":"MDU6TGFiZWw5ODUzNDY2MjA=","url":"https://api.github.com/repos/quarkusio/quarkus/labels/kind/bug","name":"kind/bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":3267721944,"node_id":"MDU6TGFiZWwzMjY3NzIxOTQ0","url":"https://api.github.com/repos/quarkusio/quarkus/labels/area/jackson","name":"area/jackson","color":"0366d6","default":false,"description":"Issues related to Jackson (JSON library)"}],"state":"closed","locked":false,"assignee":{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/quarkusio/quarkus/milestones/399","html_url":"https://github.com/quarkusio/quarkus/milestone/399","labels_url":"https://api.github.com/repos/quarkusio/quarkus/milestones/399/labels","id":12813713,"node_id":"MI_kwDOCFbutM4Aw4WR","number":399,"title":"3.22.1","description":"","creator":{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":11,"state":"closed","created_at":"2025-04-29T16:50:22Z","updated_at":"2025-06-18T13:38:02Z","due_on":null,"closed_at":"2025-04-30T10:15:47Z"},"comments":6,"created_at":"2025-04-22T10:30:01Z","updated_at":"2025-04-29T16:52:54Z","closed_at":"2025-04-28T09:38:14Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nIf I want to deserialize a model that contains a float, a `VerifyError` occurs during deserialization because the deserializer which is generated during the build uses a `Double` instead of a `Float`. \n\nThe error only occurs if reflection free serializers are enabled.\n\n```\n2025-04-22 12:14:59,534 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /v1/products failed, error id: 94f8448d-b4e0-4258-9bac-f7dd12ef09c4-1: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    io/i15s/quarkus/Product$quarkusjacksondeserializer.deserialize(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object; @243: invokevirtual\n  Reason:\n    Type 'java/lang/Double' (current frame, stack[1]) is not assignable to 'java/lang/Float'\n  Current Frame:\n    bci: @243\n    flags: { }\n    locals: { 'io/i15s/quarkus/Product$quarkusjacksondeserializer', 'com/fasterxml/jackson/core/JsonParser', 'com/fasterxml/jackson/databind/DeserializationContext', 'com/fasterxml/jackson/databind/JsonNode', 'java/util/Iterator', 'java/util/Map$Entry', 'java/lang/Object', integer, 'com/fasterxml/jackson/databind/JsonNode', 'io/i15s/quarkus/Product', top, double, double_2nd }\n    stack: { 'io/i15s/quarkus/Product', 'java/lang/Double' }\n  Bytecode:\n    0000000: 2bb6 0017 2bb6 001d c000 1f4e bb00 0859\n    0000010: b700 213a 092d b600 253a 0419 04b9 002b\n    0000020: 0100 9a00 09a7 0108 0000 bf19 04b9 002f\n    0000030: 0100 c000 313a 0519 05b9 0034 0100 c000\n    0000040: 1f3a 0819 08b6 0037 9a00 e219 05b9 003a\n    0000050: 0100 3a06 1906 b600 4036 0715 07ab 0000\n    0000060: 0000 00ca 0000 0004 c42b cf84 0000 0051\n    0000070: 0033 7a8b 0000 002b 0035 f4d4 0000 0064\n    0000080: 065f b149 0000 003e 1242 1906 b600 469a\n    0000090: 0006 a700 06a7 003f a700 8f12 4819 06b6\n    00000a0: 0046 9a00 06a7 0006 a700 3da7 007c 124a\n    00000b0: 1906 b600 469a 0006 a700 06a7 003e a700\n    00000c0: 6912 4c19 06b6 0046 9a00 06a7 0006 a700\n    00000d0: 42a7 0056 1908 b600 503a 0a19 0919 0ab6\n    00000e0: 0054 a700 4519 08b6 0058 390b 1909 180b\n    00000f0: b800 5eb6 0062 a700 312c 1908 1264 b600\n    0000100: 6a3a 0d19 0919 0dc0 0064 b600 6ea7 001a\n    0000110: 2c19 0812 64b6 006a 3a0e 1909 190e c000\n    0000120: 64b6 0071 a700 03a7 0003 a7fe f119 09b0\n    0000130:                                        \n  Stackmap Table:\n    full_frame(@27,{Object[#2],Object[#19],Object[#102],Object[#31],Object[#39],Top,Top,Top,Top,Object[#8]},{})\n    full_frame(@40,{},{Object[#115]})\n    full_frame(@43,{Object[#2],Object[#19],Object[#102],Object[#31],Object[#39],Top,Top,Top,Top,Object[#8]},{})\n    full_frame(@136,{Object[#2],Object[#19],Object[#102],Object[#31],Object[#39],Object[#49],Object[#60],Integer,Object[#31],Object[#8]},{})\n    same_frame(@149)\n    same_frame(@152)\n    same_frame(@155)\n    same_frame(@168)\n    same_frame(@171)\n    same_frame(@174)\n    same_frame(@187)\n    same_frame(@190)\n    same_frame(@193)\n    same_frame(@206)\n    same_frame(@209)\n    same_frame(@212)\n    same_frame(@229)\n    same_frame(@249)\n    same_frame(@272)\n    same_frame(@295)\n    full_frame(@298,{Object[#2],Object[#19],Object[#102],Object[#31],Object[#39],Object[#49],Top,Top,Object[#31],Object[#8]},{})\n    full_frame(@301,{Object[#2],Object[#19],Object[#102],Object[#31],Object[#39],Top,Top,Top,Top,Object[#8]},{})\n\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549)\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3754)\n\tat java.base/java.lang.Class.getConstructor(Class.java:2442)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.GeneratedSerializersRegister$MappingModuleHolder.createMappingModule(GeneratedSerializersRegister.java:55)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.GeneratedSerializersRegister$MappingModuleHolder.<clinit>(GeneratedSerializersRegister.java:32)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.GeneratedSerializersRegister.customize(GeneratedSerializersRegister.java:28)\n\tat io.quarkus.jackson.runtime.ObjectMapperProducer.objectMapper(ObjectMapperProducer.java:26)\n\tat io.quarkus.jackson.runtime.ObjectMapperProducer_ProducerMethod_objectMapper_KgqnG0Hv0d6QYgKd-v-HRXlW39Y_Bean.doCreate(Unknown Source)\n\tat io.quarkus.jackson.runtime.ObjectMapperProducer_ProducerMethod_objectMapper_KgqnG0Hv0d6QYgKd-v-HRXlW39Y_Bean.create(Unknown Source)\n\tat io.quarkus.jackson.runtime.ObjectMapperProducer_ProducerMethod_objectMapper_KgqnG0Hv0d6QYgKd-v-HRXlW39Y_Bean.create(Unknown Source)\n\tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:119)\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:38)\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\n\tat io.quarkus.arc.impl.LazyValue.get(LazyValue.java:32)\n\tat io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n\tat io.quarkus.arc.impl.ComputingCacheContextInstances.computeIfAbsent(ComputingCacheContextInstances.java:19)\n\tat io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:35)\n\tat io.quarkus.jackson.runtime.ObjectMapperProducer_ProducerMethod_objectMapper_KgqnG0Hv0d6QYgKd-v-HRXlW39Y_Bean.get(Unknown Source)\n\tat io.quarkus.jackson.runtime.ObjectMapperProducer_ProducerMethod_objectMapper_KgqnG0Hv0d6QYgKd-v-HRXlW39Y_Bean.get(Unknown Source)\n\tat io.quarkus.arc.impl.InstanceImpl.getBeanInstance(InstanceImpl.java:325)\n\tat io.quarkus.arc.impl.InstanceImpl.getInternal(InstanceImpl.java:309)\n\tat io.quarkus.arc.impl.InstanceImpl.get(InstanceImpl.java:190)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.AbstractServerJacksonMessageBodyReader$1.get(AbstractServerJacksonMessageBodyReader.java:35)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.AbstractServerJacksonMessageBodyReader$1.get(AbstractServerJacksonMessageBodyReader.java:32)\n\tat io.quarkus.arc.impl.LazyValue.get(LazyValue.java:32)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.AbstractServerJacksonMessageBodyReader.getEffectiveReader(AbstractServerJacksonMessageBodyReader.java:48)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader.doReadFrom(ServerJacksonMessageBodyReader.java:91)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader.readFrom(ServerJacksonMessageBodyReader.java:44)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader.readFrom(ServerJacksonMessageBodyReader.java:83)\n\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader_ClientProxy.readFrom(Unknown Source)\n\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.readFrom(RequestDeserializeHandler.java:126)\n\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.handle(RequestDeserializeHandler.java:84)\n\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:135)\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$15.runWith(VertxCoreRecorder.java:638)\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2675)\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2654)\n\tat org.jboss.threads.EnhancedQueueExecutor.runThreadBody(EnhancedQueueExecutor.java:1627)\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1594)\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n```\n\n### How to Reproduce?\n\nI've created a small reproducer project.  https://github.com/andlinger/quarkus-reproducer/tree/quarkus-47478\nIn principle, however, a normal Java POJO with a Float member is sufficient and the reflection free serializers must be activated.\n\n```properties file=application.properties\nquarkus.rest.jackson.optimization.enable-reflection-free-serializers=true\n```\n\n```java\npublic class Product {\n\n    @NotBlank(message = \"Name must not be blank\")\n    private String name;\n    private Float price;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n}\n```\n\n### Quarkus version or git rev\n\n3.21.3","closed_by":{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/quarkusio/quarkus/issues/47478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/quarkusio/quarkus/issues/47478/timeline","performed_via_github_app":null,"state_reason":"completed"}