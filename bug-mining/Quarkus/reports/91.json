{"url":"https://api.github.com/repos/quarkusio/quarkus/issues/42858","repository_url":"https://api.github.com/repos/quarkusio/quarkus","labels_url":"https://api.github.com/repos/quarkusio/quarkus/issues/42858/labels{/name}","comments_url":"https://api.github.com/repos/quarkusio/quarkus/issues/42858/comments","events_url":"https://api.github.com/repos/quarkusio/quarkus/issues/42858/events","html_url":"https://github.com/quarkusio/quarkus/issues/42858","id":2494032365,"node_id":"I_kwDOCFbutM6Up-nt","number":42858,"title":"`ExtLogRecord` creation is more costly following the update to SmallRye Common 2.4.0","user":{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1283619446,"node_id":"MDU6TGFiZWwxMjgzNjE5NDQ2","url":"https://api.github.com/repos/quarkusio/quarkus/labels/area/smallrye","name":"area/smallrye","color":"0366d6","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/quarkusio/quarkus/milestones/349","html_url":"https://github.com/quarkusio/quarkus/milestone/349","labels_url":"https://api.github.com/repos/quarkusio/quarkus/milestones/349/labels","id":11519060,"node_id":"MI_kwDOCFbutM4Ar8RU","number":349,"title":"3.14.2","description":"","creator":{"login":"gsmet","id":1279749,"node_id":"MDQ6VXNlcjEyNzk3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/1279749?v=4","gravatar_id":"","url":"https://api.github.com/users/gsmet","html_url":"https://github.com/gsmet","followers_url":"https://api.github.com/users/gsmet/followers","following_url":"https://api.github.com/users/gsmet/following{/other_user}","gists_url":"https://api.github.com/users/gsmet/gists{/gist_id}","starred_url":"https://api.github.com/users/gsmet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsmet/subscriptions","organizations_url":"https://api.github.com/users/gsmet/orgs","repos_url":"https://api.github.com/users/gsmet/repos","events_url":"https://api.github.com/users/gsmet/events{/privacy}","received_events_url":"https://api.github.com/users/gsmet/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":117,"state":"closed","created_at":"2024-08-30T16:14:50Z","updated_at":"2024-09-30T09:32:23Z","due_on":null,"closed_at":"2024-09-04T10:38:46Z"},"comments":2,"created_at":"2024-08-29T10:17:01Z","updated_at":"2024-09-03T16:14:06Z","closed_at":"2024-08-31T04:55:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I was having a look at https://github.com/quarkusio/quarkus/issues/42855 , which actually creates quite some log records (but not something that is completely weird either).\r\n\r\nWhile the very visible issue looks fixed in `main`, I still had the impression things were a bit slower.\r\n\r\nI had a look at some flame graphs and stumbled upon the `ExtLogRecord` creation being a lot more costly in `main`:\r\n\r\n###  `ExtLogRecord` creation in `3.11.x`\r\n\r\n![Screenshot from 2024-08-29 11-47-13](https://github.com/user-attachments/assets/31a970b0-2a7a-449c-9bcb-009950381992)\r\n\r\n###  `ExtLogRecord` creation in `main`\r\n\r\n![Screenshot from 2024-08-29 12-11-14](https://github.com/user-attachments/assets/1484c19d-6372-4cc2-a744-e79ee2f45647)\r\n\r\nThe problem is due to the upgrade of SmallRye Common and from what I can see to this patch: https://github.com/smallrye/smallrye-common/commit/016ad939269e73b4eb2923a3e5334681e2673843 which removes the cache for the process name.\r\n\r\n/cc @dmlloyd ","closed_by":{"login":"geoand","id":4374975,"node_id":"MDQ6VXNlcjQzNzQ5NzU=","avatar_url":"https://avatars.githubusercontent.com/u/4374975?v=4","gravatar_id":"","url":"https://api.github.com/users/geoand","html_url":"https://github.com/geoand","followers_url":"https://api.github.com/users/geoand/followers","following_url":"https://api.github.com/users/geoand/following{/other_user}","gists_url":"https://api.github.com/users/geoand/gists{/gist_id}","starred_url":"https://api.github.com/users/geoand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geoand/subscriptions","organizations_url":"https://api.github.com/users/geoand/orgs","repos_url":"https://api.github.com/users/geoand/repos","events_url":"https://api.github.com/users/geoand/events{/privacy}","received_events_url":"https://api.github.com/users/geoand/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/quarkusio/quarkus/issues/42858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/quarkusio/quarkus/issues/42858/timeline","performed_via_github_app":null,"state_reason":"completed"}