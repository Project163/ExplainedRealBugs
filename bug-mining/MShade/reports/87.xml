<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:20:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHADE-195] createSourcesJar with source:jar-no-fork causes sources.jar to be deployed twice, causing the build to fail</title>
                <link>https://issues.apache.org/jira/browse/MSHADE-195</link>
                <project id="12317921" key="MSHADE">Maven Shade Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;The workaround described in &lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-120&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MSHADE-120&lt;/a&gt; (i.e. running maven-source-plugin&apos;s jar-no-fork goal before shading) causes the problem that Maven will install and deploy the same sources.jar file twice:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ pricing-client ---
[INFO] Installing xxx/pricing-client/target/pricing-client-0-SNAPSHOT.jar to xxx/pricing-client/0-SNAPSHOT/pricing-client-0-SNAPSHOT.jar
[INFO] Installing xxx/pricing-client/target/dependency-reduced-pom.xml to xxx/pricing-client/0-SNAPSHOT/pricing-client-0-SNAPSHOT.pom
[INFO] Installing xxx/pricing-client/target/pricing-client-0-SNAPSHOT-sources.jar to xxx/pricing-client/0-SNAPSHOT/pricing-client-0-SNAPSHOT-sources.jar
[INFO] Installing xxx/pricing-client/target/pricing-client-0-SNAPSHOT-sources.jar to xxx/pricing-client/0-SNAPSHOT/pricing-client-0-SNAPSHOT-sources.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With maven-install-plugin this doesn&apos;t matter that much, but with maven-deploy-plugin it &lt;b&gt;fails the build&lt;/b&gt;, because it tries to upload the sources.jar twice to the Maven repository and &lt;em&gt;Nexus doesn&apos;t allow that&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project project: Failed to deploy artifacts: Could not transfer artifact xxx.availability:availability-client:jar:sources:1.0.24 from/to xxx-releases (http://xxx/nexus/content/repositories/releases): Failed to transfer file: http://xxx/nexus/content/repositories/releases/xxxx/availability/availability-client/1.0.24/availability-client-1.0.24-sources.jar. Return code is: 400, ReasonPhrase: Bad Request.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m suspecting this to be something like the maven-source-plugin and maven-shade-plugin both attaching the same sources.jar to the build, when only one of them should do it. This problem only happens with the sources jar and not the main artifact, so a trick similar to replacing the main artifact is needed also for the sources jar.&lt;/p&gt;

&lt;h4&gt;&lt;a name=&quot;Workaround&quot;&gt;&lt;/a&gt;Workaround&lt;/h4&gt;

&lt;p&gt;Configure maven-source-plugin with &lt;tt&gt;&amp;lt;attach&amp;gt;false&amp;lt;/attach&amp;gt;&lt;/tt&gt;. Then the shade plugin will find the sources and include them in the shaded sources jar, but the sources jar won&apos;t be attached to the build twice.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12838151">MSHADE-195</key>
            <summary>createSourcesJar with source:jar-no-fork causes sources.jar to be deployed twice, causing the build to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="schulte77">Christian Schulte</assignee>
                                    <reporter username="orfjackal">Esko Luontola</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jun 2015 12:55:28 +0000</created>
                <updated>Sat, 14 Jun 2025 18:12:49 +0000</updated>
                            <resolved>Tue, 22 Dec 2015 23:38:24 +0000</resolved>
                                    <version>2.3</version>
                    <version>2.4</version>
                                    <fixVersion>2.4.3</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="14615577" author="khmarbaise" created="Mon, 6 Jul 2015 20:20:15 +0000"  >&lt;p&gt;Do you have an example project which shows the wrong behaviour ?&lt;/p&gt;</comment>
                            <comment id="14645776" author="orfjackal" created="Wed, 29 Jul 2015 09:29:04 +0000"  >&lt;p&gt;Here is an example project and the log from deploying it. The log shows that both maven-install-plugin and maven-deploy-plugin install/upload the sources.jar twice. The example project also contains pom-workaround.xml which correctly deploys the sources.jar only once.&lt;/p&gt;</comment>
                            <comment id="14646683" author="khmarbaise" created="Wed, 29 Jul 2015 20:09:26 +0000"  >&lt;p&gt;First thanks for diving into this problem...and trying to reproduce the problem by offering an example project...&lt;br/&gt;
After diving into this problem i found that maven-source-plugin will add the source artifact to the reactor whereas the maven-shade-plugin will add the source-artifact as well. The best solution i can see is to fail the build during the maven-shade-plugin call while trying to add and source aritfact as well which is the same as maven-source-plugin already did, cause it is the latest plugin in the the chain during the life cycle. &lt;/p&gt;</comment>
                            <comment id="14740497" author="tsz" created="Fri, 11 Sep 2015 09:49:08 +0000"  >&lt;p&gt;A similar problem occurs when using release:prepare release:perform without maven-shade-plugin, so the described workaround does not help. &lt;/p&gt;

&lt;p&gt;I used: maven 3.3.3, maven-release-plugin 2.5.2 and maven-source-plugin 2.4.&lt;/p&gt;

&lt;p&gt;My workaround is to use &amp;lt;goal&amp;gt;jar&amp;lt;/goal&amp;gt; instead of &amp;lt;goal&amp;gt;jar-no-fork&amp;lt;/goal&amp;gt;.&lt;/p&gt;</comment>
                            <comment id="15026892" author="chibbe" created="Wed, 25 Nov 2015 15:00:55 +0000"  >&lt;p&gt;Also able to reproduce this behavior with maven 3.3.9 worked with maven 3.2.1.&lt;br/&gt;
maven-release-plugin:2.5.2&lt;br/&gt;
maven-source-plugin:2.4&lt;/p&gt;

&lt;p&gt;But shouldn&apos;t this be a issue for maven-release-plugin or maven-source-plugin.&lt;/p&gt;</comment>
                            <comment id="15033880" author="jrmihalick" created="Tue, 1 Dec 2015 15:33:40 +0000"  >&lt;p&gt;We have been having the same problem with the maven release plugin in a project that does not use shade.  Here is some example output from the maven release:perform which shows the double upload of the sources jar.  We don&apos;t have any special configuration in our project for releasing.  We are just using the default release plugin configuration.&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;build	01-Dec-2015 08:27:30	[INFO] --- maven-release-plugin:2.5.2:perform (default-cli) @ tep-core ---
build	01-Dec-2015 08:27:30	[INFO] Checking out the project to perform the release ...

...

build	01-Dec-2015 08:28:32	[INFO] [INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ tep-core ---
build	01-Dec-2015 08:28:32	[INFO] [INFO] Building jar: /appl/bamboo-home/xml-data/build-dir/393217/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.8.jar
build	01-Dec-2015 08:28:32	[INFO] [INFO] 
build	01-Dec-2015 08:28:32	[INFO] [INFO] &amp;gt;&amp;gt;&amp;gt; maven-source-plugin:2.1.2:jar (attach-sources) &amp;gt; generate-sources @ tep-core &amp;gt;&amp;gt;&amp;gt;
build	01-Dec-2015 08:28:32	[INFO] [INFO] 
build	01-Dec-2015 08:28:32	[INFO] [INFO] --- maven-enforcer-plugin:1.4:enforce (enforce-java-version) @ tep-core ---
build	01-Dec-2015 08:28:32	[INFO] [INFO] 
build	01-Dec-2015 08:28:32	[INFO] [INFO] &amp;lt;&amp;lt;&amp;lt; maven-source-plugin:2.1.2:jar (attach-sources) &amp;lt; generate-sources @ tep-core &amp;lt;&amp;lt;&amp;lt;
build	01-Dec-2015 08:28:32	[INFO] [INFO] 
build	01-Dec-2015 08:28:32	[INFO] [INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ tep-core ---
build	01-Dec-2015 08:28:33	[INFO] [INFO] Building jar: /appl/bamboo-home/xml-data/build-dir/393217/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.8-sources.jar
build	01-Dec-2015 08:28:33	[INFO] [INFO] 
build	01-Dec-2015 08:28:33	[INFO] [INFO] --- maven-source-plugin:2.1.2:jar-no-fork (default) @ tep-core ---
build	01-Dec-2015 08:28:34	[INFO] [INFO] 
build	01-Dec-2015 08:28:34	[INFO] [INFO] --- maven-javadoc-plugin:2.9.1:jar (attach-javadocs) @ tep-core ---

...

build	01-Dec-2015 08:28:43	[INFO] [INFO] --- maven-install-plugin:2.4:install (default-install) @ tep-core ---
build	01-Dec-2015 08:28:43	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/393217/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.8.jar to /appl/.m2/repository/org/zzz/tep-core/3.0.8/tep-core-3.0.8.jar
build	01-Dec-2015 08:28:43	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/393217/PUBS-TEP-PRE/target/checkout/pom.xml to /appl/.m2/repository/org/zzz/tep-core/3.0.8/tep-core-3.0.8.pom
build	01-Dec-2015 08:28:43	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/393217/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.8-sources.jar to /appl/.m2/repository/org/zzz/tep-core/3.0.8/tep-core-3.0.8-sources.jar
build	01-Dec-2015 08:28:43	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/393217/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.8-sources.jar to /appl/.m2/repository/org/zzz/tep-core/3.0.8/tep-core-3.0.8-sources.jar
build	01-Dec-2015 08:28:43	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/393217/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.8-javadoc.jar to /appl/.m2/repository/org/zzz/tep-core/3.0.8/tep-core-3.0.8-javadoc.jar
build	01-Dec-2015 08:28:43	[INFO] [INFO] 
build	01-Dec-2015 08:28:43	[INFO] [INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ tep-core ---
build	01-Dec-2015 08:28:44	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.8/tep-core-3.0.8.jar
build	01-Dec-2015 08:28:45	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.8/tep-core-3.0.8.jar (369 KB at 357.4 KB/sec)
build	01-Dec-2015 08:28:45	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.8/tep-core-3.0.8.pom
build	01-Dec-2015 08:28:45	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.8/tep-core-3.0.8.pom (12 KB at 26.5 KB/sec)
build	01-Dec-2015 08:28:45	[INFO] [INFO] Downloading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml
build	01-Dec-2015 08:28:45	[INFO] [INFO] Downloaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml (2 KB at 4.8 KB/sec)
build	01-Dec-2015 08:28:45	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml
build	01-Dec-2015 08:28:46	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml (2 KB at 2.2 KB/sec)
build	01-Dec-2015 08:28:46	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.8/tep-core-3.0.8-sources.jar
build	01-Dec-2015 08:28:47	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.8/tep-core-3.0.8-sources.jar (112 KB at 166.8 KB/sec)
build	01-Dec-2015 08:28:47	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.8/tep-core-3.0.8-sources.jar
build	01-Dec-2015 08:28:47	[INFO] [INFO] ------------------------------------------------------------------------
build	01-Dec-2015 08:28:47	[INFO] [INFO] BUILD FAILURE
build	01-Dec-2015 08:28:47	[INFO] [INFO] ------------------------------------------------------------------------
build	01-Dec-2015 08:28:47	[INFO] [INFO] Total time: 01:05 min
build	01-Dec-2015 08:28:47	[INFO] [INFO] Finished at: 2015-12-01T08:28:47-05:00
build	01-Dec-2015 08:28:48	[INFO] [INFO] Final Memory: 33M/659M
build	01-Dec-2015 08:28:48	[INFO] [INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice the double install of the sources jar by the install plugin at 08:28:43 and the double upload attempt of the sources jar at 08:28:46 and 08:28:47.  The double upload attempt of the sources jar causes a build failure because our Nexus repository correctly does not allow overwriting of released artifacts.  This problem does NOT occur using Maven 3.0.4 or 3.1.0. We have reproduced it under Maven versions 3.2.5 and 3.3.9.&lt;/p&gt;</comment>
                            <comment id="15034132" author="jrmihalick" created="Tue, 1 Dec 2015 17:30:28 +0000"  >&lt;p&gt;The following work-around is now getting us past this problem. (Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tsz&quot; class=&quot;user-hover&quot; rel=&quot;tsz&quot;&gt;tsz&lt;/a&gt; for the initial suggestion that a workaround was possible via maven-source-plugin configuration.)&lt;/p&gt;

&lt;p&gt;In my pom.xml, I added this to my pluginManagement section:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-source-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.1.2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;  &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- your version may be different --&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;default&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;none&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The resulting effective pom (mvn help:effective-pom) then has this in the build/plugin section:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-source-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.1.2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt; 
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;none&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;jar-no-fork&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which still results in the sources jar being produced, but attached only once instead of twice:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;build	01-Dec-2015 12:09:55	[INFO] [INFO] &amp;gt;&amp;gt;&amp;gt; maven-source-plugin:2.1.2:jar (attach-sources) &amp;gt; generate-sources @ tep-core &amp;gt;&amp;gt;&amp;gt;
build	01-Dec-2015 12:09:55	[INFO] [INFO] 
build	01-Dec-2015 12:09:55	[INFO] [INFO] --- maven-enforcer-plugin:1.4:enforce (enforce-java-version) @ tep-core ---
build	01-Dec-2015 12:09:55	[INFO] [INFO] 
build	01-Dec-2015 12:09:55	[INFO] [INFO] &amp;lt;&amp;lt;&amp;lt; maven-source-plugin:2.1.2:jar (attach-sources) &amp;lt; generate-sources @ tep-core &amp;lt;&amp;lt;&amp;lt;
build	01-Dec-2015 12:09:55	[INFO] [INFO] 
build	01-Dec-2015 12:09:55	[INFO] [INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ tep-core ---
build	01-Dec-2015 12:09:56	[INFO] [INFO] Building jar: /appl/bamboo-home/xml-data/build-dir/131073/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.10-sources.jar
build	01-Dec-2015 12:09:56	[INFO] [INFO] 
build	01-Dec-2015 12:09:56	[INFO] [INFO] --- maven-javadoc-plugin:2.9.1:jar (attach-javadocs) @ tep-core ---

...

build	01-Dec-2015 12:10:17	[INFO] [INFO] --- maven-install-plugin:2.4:install (default-install) @ tep-core ---
build	01-Dec-2015 12:10:17	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/131073/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.10.jar to /appl/.m2/repository/org/zzz/tep-core/3.0.10/tep-core-3.0.10.jar
build	01-Dec-2015 12:10:17	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/131073/PUBS-TEP-PRE/target/checkout/pom.xml to /appl/.m2/repository/org/zzz/tep-core/3.0.10/tep-core-3.0.10.pom
build	01-Dec-2015 12:10:17	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/131073/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.10-sources.jar to /appl/.m2/repository/org/zzz/tep-core/3.0.10/tep-core-3.0.10-sources.jar
build	01-Dec-2015 12:10:17	[INFO] [INFO] Installing /appl/bamboo-home/xml-data/build-dir/131073/PUBS-TEP-PRE/target/checkout/target/tep-core-3.0.10-javadoc.jar to /appl/.m2/repository/org/zzz/tep-core/3.0.10/tep-core-3.0.10-javadoc.jar

...

build	01-Dec-2015 12:10:17	[INFO] [INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ tep-core ---
build	01-Dec-2015 12:10:17	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10.jar
build	01-Dec-2015 12:10:17	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10.jar (369 KB at 280.8 KB/sec)
build	01-Dec-2015 12:10:17	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10.pom
build	01-Dec-2015 12:10:18	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10.pom (13 KB at 18.9 KB/sec)
build	01-Dec-2015 12:10:18	[INFO] [INFO] Downloading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml
build	01-Dec-2015 12:10:18	[INFO] [INFO] Downloaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml (2 KB at 6.8 KB/sec)
build	01-Dec-2015 12:10:18	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml
build	01-Dec-2015 12:10:19	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/maven-metadata.xml (2 KB at 2.3 KB/sec)
build	01-Dec-2015 12:10:19	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10-sources.jar
build	01-Dec-2015 12:10:19	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10-sources.jar (112 KB at 171.9 KB/sec)
build	01-Dec-2015 12:10:19	[INFO] [INFO] Uploading: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10-javadoc.jar
build	01-Dec-2015 12:10:20	[INFO] [INFO] Uploaded: https://developer.zzz.org/maven/content/repositories/pubs-cols-release/org/zzz/tep-core/3.0.10/tep-core-3.0.10-javadoc.jar (369 KB at 501.7 KB/sec)
build	01-Dec-2015 12:10:20	[INFO] [INFO] ------------------------------------------------------------------------
build	01-Dec-2015 12:10:20	[INFO] [INFO] BUILD SUCCESS
build	01-Dec-2015 12:10:20	[INFO] [INFO] ------------------------------------------------------------------------
build	01-Dec-2015 12:10:20	[INFO] [INFO] Total time: 01:23 min
build	01-Dec-2015 12:10:20	[INFO] [INFO] Finished at: 2015-12-01T12:10:20-05:00
build	01-Dec-2015 12:10:20	[INFO] [INFO] Final Memory: 25M/455M
build	01-Dec-2015 12:10:20	[INFO] [INFO] ------------------------------------------------------------------------

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15063116" author="schulte77" created="Thu, 17 Dec 2015 23:51:27 +0000"  >&lt;p&gt;Seems to be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-5868&quot; title=&quot;Adding several times the same artifact via MavenProjectHelper (attachArtifact) keep adding to the List duplicate artifacts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-5868&quot;&gt;&lt;del&gt;MNG-5868&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15068932" author="hudson" created="Tue, 22 Dec 2015 23:56:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in maven-plugins #4913 (See &lt;a href=&quot;https://builds.apache.org/job/maven-plugins/4913/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-plugins/4913/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-195&quot; title=&quot;createSourcesJar with source:jar-no-fork causes sources.jar to be deployed twice, causing the build to fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-195&quot;&gt;&lt;del&gt;MSHADE-195&lt;/del&gt;&lt;/a&gt; createSourcesJar with source:jar-no-fork causes sources.jar to be deployed twice, causing the build to fail&lt;/p&gt;

&lt;p&gt;o Updated to use correct source artifact type. (schulte: &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1721474&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1721474&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;maven-shade-plugin/src/main/java/org/apache/maven/plugins/shade/mojo/ShadeMojo.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15405803" author="wjbakker" created="Wed, 3 Aug 2016 12:02:37 +0000"  >&lt;p&gt;This functionality will start breaking again as Maven implementation has changed between Maven 3.0 and Maven 3.3.9&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class org.apache.maven.project:MavenProject:3.0
{
    public void addAttachedArtifact( Artifact artifact )
        throws DuplicateArtifactAttachmentException
    {
        List&amp;lt;Artifact&amp;gt; attachedArtifacts = getAttachedArtifacts();

        if ( attachedArtifacts.contains( artifact ) )
        {
            if ( logger != null )
            {
                logger.warn( &quot;Artifact &quot; + artifact + &quot; already attached to project, ignoring duplicate&quot; );
            }
            return;
            //throw new DuplicateArtifactAttachmentException( this, artifact );
        }

        getAttachedArtifacts().add( artifact );
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class org.apache.maven.project:MavenProject:3.3.9
{
    /**
     * Add or replace an artifact. This method is now deprecated. Use the @{MavenProjectHelper} to attach artifacts to a
     * project. In spite of the &apos;throws&apos; declaration on this API, this method has never thrown an exception since Maven
     * 3.0.x. Historically, it logged and ignored a second addition of the same g/a/v/c/t. Now it replaces the file for
     * the artifact, so that plugins (e.g. shade) can change the pathname of the file for a particular set of
     * coordinates.
     *
     * @param artifact the artifact to add or replace.
     * @throws DuplicateArtifactAttachmentException
     */
    public void addAttachedArtifact( Artifact artifact )
        throws DuplicateArtifactAttachmentException
    {
        getAttachedArtifacts().add( artifact );
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Because the list of attached artifacts may contain duplicates again, it should be removed first:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;project.getAttachedArtifacts().remove(new AttachedArtifact(project.getArtifact(), &quot;java-source&quot;, &quot;sources&quot;, null));
projectHelper.attachArtifact( project, &quot;java-source&quot;, &quot;sources&quot;, shadedSources );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17976309" author="JIRAUSER302100" created="Sat, 14 Jun 2025 18:12:49 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/issues/562&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-shade-plugin#562&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12853691">MNG-5868</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12916372">MNG-5939</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12747761" name="MSHADE-195-example.zip" size="4847" author="orfjackal" created="Wed, 29 Jul 2015 09:29:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2g3nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>