<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:19:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHADE-88] Pom type dependencies are incorrectly included in dependency reduced pom</title>
                <link>https://issues.apache.org/jira/browse/MSHADE-88</link>
                <project id="12317921" key="MSHADE">Maven Shade Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When shading with promoteTransitiveDependencies and createDependencyReducedPom set to true and using dependencies with a type of pom then the dependency reduced pom still includes the pom type dependencies, this is incorrect because the dependencies of the pom type dependency have already been included in the shaded artifact.&lt;/p&gt;

&lt;p&gt;The attached patch (based on trunk) fixes this by not including pom type dependencies to the dependency reduced pom. There are no existing tests for dependency reduced pom&apos;s or with pom type dependencies but this patch code does match what is already done for pom type dependencies in the ShadeMojo execute method at line 409.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12808112">MSHADE-88</key>
            <summary>Pom type dependencies are incorrectly included in dependency reduced pom</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bmargulies">Benson Margulies</assignee>
                                    <reporter username="antelder@apache.org">Anthony Elder</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Oct 2010 03:28:14 +0000</created>
                <updated>Sat, 14 Jun 2025 18:12:24 +0000</updated>
                            <resolved>Fri, 1 Jul 2011 08:51:17 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14448982" author="bmargulies" created="Thu, 30 Jun 2011 16:09:04 +0000"  >&lt;p&gt;I see an it for dependency-reduced-pom. I&apos;ll try to make it test this.&lt;/p&gt;</comment>
                            <comment id="14448970" author="bmargulies" created="Thu, 30 Jun 2011 16:16:06 +0000"  >&lt;p&gt;Sadly, the patch does not in fact fix the behavior. I&apos;ll attach another patch containing the test, and perhaps you could fix the fix?&lt;/p&gt;</comment>
                            <comment id="14448905" author="bmargulies" created="Thu, 30 Jun 2011 16:16:47 +0000"  >&lt;p&gt;Improve integration test to demonstrate this problem.&lt;/p&gt;</comment>
                            <comment id="14449233" author="antelder@apache.org" created="Thu, 30 Jun 2011 17:16:01 +0000"  >&lt;p&gt;Thanks for having a look at last! The fix seems to work ok for me so maybe the test isn&apos;t quite doing the same thing as i need? I have tried applying the mshade-88-2.patch and doing a build and that is successful so what do you mean it doesn&apos;t work, shouldn&apos;t a test be failing now?&lt;/p&gt;
</comment>
                            <comment id="14448851" author="bmargulies" created="Thu, 30 Jun 2011 17:17:59 +0000"  >&lt;p&gt;My attempt to run the tests failed, but I&apos;m checking to see if I did something dumb.&lt;/p&gt;</comment>
                            <comment id="14448886" author="bmargulies" created="Thu, 30 Jun 2011 17:19:35 +0000"  >&lt;p&gt;What version of Maven did you use/&lt;/p&gt;</comment>
                            <comment id="14448958" author="bmargulies" created="Thu, 30 Jun 2011 18:13:52 +0000"  >&lt;p&gt;The improved test fails for me, with the patch in place, with both 2.2.1 and 3.3.0.&lt;/p&gt;</comment>
                            <comment id="14449030" author="bmargulies" created="Thu, 30 Jun 2011 18:15:22 +0000"  >&lt;p&gt;Did you do:&lt;/p&gt;


&lt;p&gt;/opt/apache-maven-2.2.1/bin/mvn clean install -Prun-its&lt;/p&gt;

&lt;p&gt;or the moral equivalent?&lt;/p&gt;</comment>
                            <comment id="14449238" author="antelder@apache.org" created="Fri, 1 Jul 2011 08:01:57 +0000"  >&lt;p&gt;No, i didn&apos;t know about the run-its profile.&lt;/p&gt;

&lt;p&gt;Ok the reason the dep-reduced-pom test fails is because its not testing with promoteTransitiveDependencies set to true. Adding the line&lt;/p&gt;

&lt;p&gt;              &amp;lt;promoteTransitiveDependencies&amp;gt;true&amp;lt;/promoteTransitiveDependencies&amp;gt;&lt;/p&gt;

&lt;p&gt;to the its shade plugin configuration gets the test working. I&apos;m not familiar enough with the integration tests to know if its ok to make that change to the dep-reduced-pom or if there needs to be a new test created for this.&lt;/p&gt;</comment>
                            <comment id="14448971" author="bmargulies" created="Fri, 1 Jul 2011 08:44:48 +0000"  >&lt;p&gt;OK, now we&apos;re even. I&apos;ll add that, it&apos;s fine for this test.&lt;/p&gt;</comment>
                            <comment id="14448904" author="bmargulies" created="Fri, 1 Jul 2011 08:51:17 +0000"  >&lt;p&gt;r1141937 | bimargulies | 2011-07-01 09:50:47 -0400 (Fri, 01 Jul 2011) | 5 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-88&quot; title=&quot;Pom type dependencies are incorrectly included in dependency reduced pom&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-88&quot;&gt;&lt;del&gt;MSHADE-88&lt;/del&gt;&lt;/a&gt;: Pom type dependencies are incorrectly included in dependency reduced pom&lt;br/&gt;
Submitted by: antelder&lt;/p&gt;

&lt;p&gt;also integration test for antelder&apos;s change. Also update to current parent.&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;/p&gt;</comment>
                            <comment id="14449046" author="alitokmen" created="Sun, 4 Sep 2011 15:52:17 +0000"  >&lt;p&gt;Adding link between this bug and CARGO-1011.&lt;/p&gt;

&lt;p&gt;By the way, is a maven-shade-plugin 1.5 release in the plans?&lt;/p&gt;</comment>
                            <comment id="17976198" author="JIRAUSER302100" created="Sat, 14 Jun 2025 18:12:24 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/issues/457&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-shade-plugin#457&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12718980" name="MSHADE-88-2.patch" size="3220" author="bmargulies" created="Thu, 30 Jun 2011 16:16:47 +0000"/>
                            <attachment id="12718917" name="drpFix.txt" size="735" author="" created="Fri, 15 Oct 2010 03:28:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2b2mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>