<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:19:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHADE-46] Attached artifact has different type than main artifact</title>
                <link>https://issues.apache.org/jira/browse/MSHADE-46</link>
                <project id="12317921" key="MSHADE">Maven Shade Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;I have an ear artifact with a dependant ejb module that has a classifier (i use the shade plugin to generate my ejb artifact).&lt;/p&gt;

&lt;p&gt;This is my dependency :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.test.core&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;core&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;classifier&amp;gt;&lt;/span&gt;shaded&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/classifier&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;ejb&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0-SNAPSHOT&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;runtime&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There is my ear plugin configuration :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-ear-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;5&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;generateApplicationXml&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/generateApplicationXml&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;displayName&amp;gt;&lt;/span&gt;${parent.artifactId}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/displayName&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;defaultLibBundleDir&amp;gt;&lt;/span&gt;lib&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/defaultLibBundleDir&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;modules&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;webModule&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.test.core&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;webapp&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;contextRoot&amp;gt;&lt;/span&gt;/test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/contextRoot&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/webModule&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ejbModule&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.test.core&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;core&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;classifier&amp;gt;&lt;/span&gt;shaded&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/classifier&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ejbModule&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/modules&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When i build the ear directly (clean package on the ear module), the build works fine.&lt;/p&gt;

&lt;p&gt;But when i build the root module (the ear module is a submodule), i get the following error :&lt;br/&gt;
&quot;Artifact&lt;span class=&quot;error&quot;&gt;&amp;#91;ejb:com.test.core:core:shaded&amp;#93;&lt;/span&gt; is not a dependency of the project.&quot;&lt;/p&gt;

&lt;p&gt;If i remove the classifier, the build from the root module is ok.&lt;/p&gt;

&lt;p&gt;This is a regression for 2.1.0 (it worked with 2.0.10 and 2.1.0-M1).&lt;/p&gt;</description>
                <environment>Linux 64 bits, Sun JDK 1.6</environment>
        <key id="12808041">MSHADE-46</key>
            <summary>Attached artifact has different type than main artifact</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bentmann">Benjamin Bentmann</assignee>
                                    <reporter username="clement.denis">Cl&#233;ment Denis</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Mar 2009 15:34:03 +0000</created>
                <updated>Sat, 14 Jun 2025 18:12:14 +0000</updated>
                            <resolved>Mon, 23 Mar 2009 03:51:07 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14448894" author="bentmann" created="Sun, 22 Mar 2009 17:21:05 +0000"  >&lt;p&gt;Can you also provide the POM configuration for the Shade Plugin used to produce the EJB artifact? A debug log of the failing would also help to understand this issue.&lt;/p&gt;</comment>
                            <comment id="14448862" author="bentmann" created="Sun, 22 Mar 2009 18:15:55 +0000"  >&lt;p&gt;I think I found it: The Shade Plugin always attaches the shaded artifact as an aritfact of type &quot;jar&quot;, regardless whether the original artifact is of type &quot;ejb&quot;, &quot;war&quot; or whatever. In previous Maven versions, this type mismatch enforces resolution of the artifact from the repository. Due to &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-4056&quot; title=&quot;Relax resolution of active project artifacts from the reactor with regard to artifact type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-4056&quot;&gt;&lt;del&gt;MNG-4056&lt;/del&gt;&lt;/a&gt;, Maven 2.1.0 will now resolve the artifact from the reactor, presenting a &quot;jar&quot; type artifact for the EJB module.&lt;/p&gt;</comment>
                            <comment id="14448819" author="clement.denis" created="Sun, 22 Mar 2009 18:46:26 +0000"  >&lt;p&gt;I have attached the debug logs (&apos;mvn -o -X -e -DskipTests clean install&apos;) for both 2.0.10 (build ok) and 2.1.0 (build failing).&lt;/p&gt;

&lt;p&gt;Actually the problem is at the line 6392 of build-2.1.0.log (corresponds to line 6354 of build-2.0.10.log) : the artifact type is resolved as jar, but its declared as &amp;lt;type&amp;gt;ejb&amp;lt;/type&amp;gt; in the pom.&lt;/p&gt;

&lt;p&gt;2.0.10 : &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt;   com.test.core:core:ejb:shaded:1.0.0-SNAPSHOT:runtime (selected for runtime)&lt;br/&gt;
2.1.0 : &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt;   com.test.core:core:jar:shaded:1.0.0-SNAPSHOT:runtime (selected for runtime)&lt;/p&gt;

&lt;p&gt;This is the configuration for the shade plugin.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; 
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-shade-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;package&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;shade&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;shadedArtifactAttached&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/shadedArtifactAttached&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactSet&amp;gt;&lt;/span&gt;
					&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;includes&amp;gt;&lt;/span&gt;
						&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;include&amp;gt;&lt;/span&gt;com.test.core:utils&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/include&amp;gt;&lt;/span&gt;
						&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;include&amp;gt;&lt;/span&gt;com.test.core:entities&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/include&amp;gt;&lt;/span&gt;
						&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;include&amp;gt;&lt;/span&gt;com.test.core:users&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/include&amp;gt;&lt;/span&gt;
						&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;include&amp;gt;&lt;/span&gt;com.test.core:controllers&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/include&amp;gt;&lt;/span&gt;
					&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/includes&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactSet&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;transformers&amp;gt;&lt;/span&gt;
					&amp;lt;transformer
						implementation=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.maven.plugins.shade.resource.ComponentsXmlResourceTransformer&quot;&lt;/span&gt; /&amp;gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/transformers&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14448919" author="clement.denis" created="Sun, 22 Mar 2009 18:49:31 +0000"  >&lt;p&gt;Build logs for 2.0.10 (ok) and 2.1.0 (not ok). Launched with command line &apos;mvn -o -X -e -DskipTests clean install&apos;.&lt;/p&gt;</comment>
                            <comment id="14448831" author="clement.denis" created="Sun, 22 Mar 2009 19:03:29 +0000"  >&lt;p&gt;Okay, so  that&apos;s why this is working when I build the artifact directly (type is retreived from repo, not from reactor ...).&lt;/p&gt;

&lt;p&gt;By the way, is there a workaround for this problem ? Does it depend on the shade plugin ?&lt;/p&gt;
</comment>
                            <comment id="14448938" author="brettporter" created="Mon, 23 Mar 2009 00:03:26 +0000"  >&lt;p&gt;Benjamin, would this be considered a bug in the shade plugin then? That&apos;s what I understood from your comment.&lt;/p&gt;</comment>
                            <comment id="14448949" author="bentmann" created="Mon, 23 Mar 2009 03:51:07 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.eu.apache.org/viewvc?view=rev&amp;amp;revision=757350&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r757350&lt;/a&gt;, snapshot deployed.&lt;/p&gt;</comment>
                            <comment id="17976158" author="JIRAUSER302100" created="Sat, 14 Jun 2025 18:12:14 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/issues/261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-shade-plugin#261&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12718914" name="build-2.0.10.log" size="508244" author="clement.denis" created="Sun, 22 Mar 2009 18:49:31 +0000"/>
                            <attachment id="12719013" name="build-2.1.0.log" size="507953" author="clement.denis" created="Sun, 22 Mar 2009 18:49:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2b1y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>