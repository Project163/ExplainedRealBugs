<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:20:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHADE-258] RemappingClassAdapter is deprecated and throws an exception with ASM 6.0 beta</title>
                <link>https://issues.apache.org/jira/browse/MSHADE-258</link>
                <project id="12317921" key="MSHADE">Maven Shade Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;While trying to use the maven shade plugin with ASM 6.0 beta (for Java 9 support) in the easymock project, I ran into the following exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.0.0:shade (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) on project easymock: Error creating shaded jar: Error in ASM processing &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;module-info.class: RemappingClassAdapter is deprecated, use ClassRemapper instead -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.0.0:shade (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) on project easymock: Error creating shaded jar: Error in ASM processing &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;module-info.class
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: org.apache.maven.plugin.MojoExecutionException: Error creating shaded jar: Error in ASM processing &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;module-info.class
	at org.apache.maven.plugins.shade.mojo.ShadeMojo.execute(ShadeMojo.java:546)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
	... 20 more
Caused by: org.apache.maven.plugin.MojoExecutionException: Error in ASM processing &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;module-info.class
	at org.apache.maven.plugins.shade.DefaultShader.addRemappedClass(DefaultShader.java:453)
	at org.apache.maven.plugins.shade.DefaultShader.shadeSingleJar(DefaultShader.java:220)
	at org.apache.maven.plugins.shade.DefaultShader.shadeJars(DefaultShader.java:181)
	at org.apache.maven.plugins.shade.DefaultShader.shade(DefaultShader.java:104)
	at org.apache.maven.plugins.shade.mojo.ShadeMojo.execute(ShadeMojo.java:442)
	... 22 more
Caused by: java.lang.RuntimeException: RemappingClassAdapter is deprecated, use ClassRemapper instead
	at org.objectweb.asm.commons.RemappingClassAdapter.visitModule(Unknown Source)
	at org.objectweb.asm.ClassReader.a(Unknown Source)
	at org.objectweb.asm.ClassReader.accept(Unknown Source)
	at org.objectweb.asm.ClassReader.accept(Unknown Source)
	at org.apache.maven.plugins.shade.DefaultShader.addRemappedClass(DefaultShader.java:449)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Link to the exception:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gitlab.ow2.org/asm/asm/blob/master/src/org/objectweb/asm/commons/RemappingClassAdapter.java#L75&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitlab.ow2.org/asm/asm/blob/master/src/org/objectweb/asm/commons/RemappingClassAdapter.java#L75&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Link to the change that deprecated the class:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gitlab.ow2.org/asm/asm/commit/54303379f52c7ea84affbf6142e0f4c4be9127c3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitlab.ow2.org/asm/asm/commit/54303379f52c7ea84affbf6142e0f4c4be9127c3&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13092701">MSHADE-258</key>
            <summary>RemappingClassAdapter is deprecated and throws an exception with ASM 6.0 beta</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rfscholte">Robert Scholte</assignee>
                                    <reporter username="ijuma">Ismael Juma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Aug 2017 00:34:41 +0000</created>
                <updated>Sat, 14 Jun 2025 18:13:10 +0000</updated>
                            <resolved>Sat, 19 Aug 2017 11:43:22 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16115888" author="rfscholte" created="Sun, 6 Aug 2017 18:25:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-242&quot; title=&quot;Plugin does not work with Java 9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-242&quot;&gt;&lt;del&gt;MSHADE-242&lt;/del&gt;&lt;/a&gt; is happening in case of minifying the jar, this issue happens when relocating classes of jars with a module descriptor. This will also mean that it&apos;ll break the intended strong encapsulation.&lt;br/&gt;
Java 9 will not provide a solution for that yet, so I guess we&apos;ll have to log a warning as well.&lt;/p&gt;</comment>
                            <comment id="16116320" author="ijuma" created="Mon, 7 Aug 2017 09:28:55 +0000"  >&lt;p&gt;Makes sense. Interestingly that error happened after the following line:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[DEBUG] Processing JAR /Users/ijuma/.m2/repository/org/ow2/asm/asm/6.0_BETA/asm-6.0_BETA.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And we can verify that the JAR contains module-info.class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;jar tf asm-6.0_BETA.jar | grep module
module-info.class
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, it seems like any project relocating ASM 6.0 will run into issues.&lt;/p&gt;</comment>
                            <comment id="16134087" author="rfscholte" created="Sat, 19 Aug 2017 11:43:22 +0000"  >&lt;p&gt;Verified with &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1805503&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1805503&lt;/a&gt;&lt;br/&gt;
Code change committed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-242&quot; title=&quot;Plugin does not work with Java 9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-242&quot;&gt;&lt;del&gt;MSHADE-242&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16134119" author="hudson" created="Sat, 19 Aug 2017 14:03:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-plugins #9072 (See &lt;a href=&quot;https://builds.apache.org/job/maven-plugins/9072/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-plugins/9072/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-258&quot; title=&quot;RemappingClassAdapter is deprecated and throws an exception with ASM 6.0 beta&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-258&quot;&gt;&lt;del&gt;MSHADE-258&lt;/del&gt;&lt;/a&gt; RemappingClassAdapter is deprecated and throws an exception with ASM 6.0 beta&lt;br/&gt;
Provide IT (rfscholte: &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1805503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1805503&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) maven-shade-plugin/src/it/&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-258&quot; title=&quot;RemappingClassAdapter is deprecated and throws an exception with ASM 6.0 beta&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-258&quot;&gt;&lt;del&gt;MSHADE-258&lt;/del&gt;&lt;/a&gt;_module_relocation&lt;/li&gt;
	&lt;li&gt;(add) maven-shade-plugin/src/it/&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-258&quot; title=&quot;RemappingClassAdapter is deprecated and throws an exception with ASM 6.0 beta&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-258&quot;&gt;&lt;del&gt;MSHADE-258&lt;/del&gt;&lt;/a&gt;_module_relocation/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) maven-shade-plugin/src/it/&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-258&quot; title=&quot;RemappingClassAdapter is deprecated and throws an exception with ASM 6.0 beta&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-258&quot;&gt;&lt;del&gt;MSHADE-258&lt;/del&gt;&lt;/a&gt;_module_relocation/verify.groovy&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16192790" author="jpoth" created="Thu, 5 Oct 2017 12:13:12 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;What is it intentional to exclude the module-info.class from the original artifact? Would it be possible to add an option to keep it?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;
</comment>
                            <comment id="16196284" author="rfscholte" created="Sun, 8 Oct 2017 18:58:24 +0000"  >&lt;p&gt;Sounds like a bug, please create a new issue.&lt;/p&gt;</comment>
                            <comment id="16410954" author="bnordli" created="Fri, 23 Mar 2018 08:00:16 +0000"  >&lt;p&gt;After a dependency started including module-info.class, we get&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Discovered module-info.class. Shading will break its strong encapsulation.&lt;br/&gt;
We tried to filter out the file, but it didn&apos;t work, because this warning is emitted&#160;just before the file is checked for filtering:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://maven.apache.org/plugins/maven-shade-plugin/xref/org/apache/maven/plugins/shade/DefaultShader.html#L180&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-shade-plugin/xref/org/apache/maven/plugins/shade/DefaultShader.html#L180&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think it is reasonable to avoid the warning if the file has been marked for exclusion.&lt;/p&gt;</comment>
                            <comment id="17976398" author="JIRAUSER302100" created="Sat, 14 Jun 2025 18:13:10 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/issues/285&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-shade-plugin#285&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13024128">MSHADE-242</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13108640">MSHADE-263</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13067080">MSHADE-255</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3iglr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>