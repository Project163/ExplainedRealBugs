<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:20:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHADE-171] &quot;Access Denied&quot; on Windows because shade plugin seems to try to open a directory as Zip-File</title>
                <link>https://issues.apache.org/jira/browse/MSHADE-171</link>
                <project id="12317921" key="MSHADE">Maven Shade Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Config of plugin is fairly simple, but fails with the error below when I call &quot;mvn package test&quot;, it works when I call only &quot;mvn package&quot;, it seems the plugin tries to open a directory as zip-file.&lt;/p&gt;

&lt;p&gt;It happens in a multi-module setup when building from the parent-directory. It seems the dependency between the module where the shade plugin runs onto another module causes the target/classes of that module to be added as artifact-file, which causes the shade plugin to fail.&lt;/p&gt;

&lt;p&gt;Let me know if you need a self-contained reproducer project, I can provide one, but it will take some time to build it...&lt;/p&gt;

&lt;p&gt;FYI, there was a similar problem in the war plugin at &lt;a href=&quot;https://issues.apache.org/jira/browse/MWAR-192&quot; title=&quot;Conflict with workspace resoutlion in m2eclipse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MWAR-192&quot;&gt;&lt;del&gt;MWAR-192&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;		&amp;lt;plugin&amp;gt;
			&amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
			&amp;lt;artifactId&amp;gt;maven-shade-plugin&amp;lt;/artifactId&amp;gt;
			&amp;lt;version&amp;gt;2.3&amp;lt;/version&amp;gt;
			&amp;lt;executions&amp;gt;
				&amp;lt;execution&amp;gt;
					&amp;lt;phase&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;&amp;lt;/phase&amp;gt;
					&amp;lt;goals&amp;gt;
						&amp;lt;goal&amp;gt;shade&amp;lt;/goal&amp;gt;
					&amp;lt;/goals&amp;gt;
				&amp;lt;/execution&amp;gt;
			&amp;lt;/executions&amp;gt;
		&amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project towerrunner-ui: Error creating shaded jar: C:\workspaces\workspace.GWT.changeset\towerrunner\towerrunner-base\target\classes (Access is denied) -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project towerrunner-ui: Error creating shaded jar: C:\workspaces\workspace.GWT.changeset\towerrunner\towerrunner-base\target\classes (Access is denied)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)
        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: org.apache.maven.plugin.MojoExecutionException: Error creating shaded jar: C:\workspaces\workspace.GWT.changeset\towerrunner\towerrunner-base\target\classes (Access is denied)
        at org.apache.maven.plugins.shade.mojo.ShadeMojo.execute(ShadeMojo.java:566)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
        ... 19 more
Caused by: java.io.FileNotFoundException: C:\workspaces\workspace.GWT.changeset\towerrunner\towerrunner-base\target\classes (Access is denied)
        at java.util.zip.ZipFile.open(Native Method)
        at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:215)
        at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:145)
        at java.util.jar.JarFile.&amp;lt;init&amp;gt;(JarFile.java:153)
        at java.util.jar.JarFile.&amp;lt;init&amp;gt;(JarFile.java:117)
        at org.apache.maven.plugins.shade.DefaultShader.newJarFile(DefaultShader.java:267)
        at org.apache.maven.plugins.shade.DefaultShader.shade(DefaultShader.java:100)
        at org.apache.maven.plugins.shade.mojo.ShadeMojo.execute(ShadeMojo.java:471)
        ... 21 more
[ERROR] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Happens on both Windows and Linux</environment>
        <key id="12808105">MSHADE-171</key>
            <summary>&quot;Access Denied&quot; on Windows because shade plugin seems to try to open a directory as Zip-File</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="dominik.stadler@gmx.at">Dominik Stadler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 May 2014 01:02:53 +0000</created>
                <updated>Sat, 14 Jun 2025 18:12:44 +0000</updated>
                            <resolved>Mon, 16 Nov 2015 18:07:44 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.4.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14449062" author="khmarbaise" created="Fri, 15 Aug 2014 11:30:22 +0000"  >&lt;p&gt;It would be great if you could provide and example project which reproduce the behaviour. Thanks in advance.&lt;/p&gt;</comment>
                            <comment id="14449127" author="rsand2" created="Wed, 10 Sep 2014 23:51:26 +0000"  >&lt;p&gt;I have the same error - it occurs for me when one of the dependencies is found in the local file system as opposed to the local repository, for example in Eclipse when checking the box &quot;resolve local workspace artifacts&quot;.&lt;/p&gt;

&lt;p&gt;If the shade plugin did a simple &quot;isDirectory&quot; test before proceeding with unzipping/unjarring it would probably work fine in all circumstances.&lt;/p&gt;

&lt;p&gt;-Richard&lt;/p&gt;</comment>
                            <comment id="14449241" author="dominik.stadler@gmx.at" created="Thu, 11 Sep 2014 01:51:09 +0000"  >&lt;p&gt;Here is a test-project that has everything removed that is not related to triggering the problem, it should show the access denied error if you run the following on a Windows machine:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;mvn package test&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Running &lt;tt&gt;package&lt;/tt&gt; or &lt;tt&gt;test&lt;/tt&gt; standalone works fine.&lt;/p&gt;</comment>
                            <comment id="15001884" author="krosenvold" created="Thu, 12 Nov 2015 09:25:37 +0000"  >&lt;p&gt;There was some logic that did not close streams properly upon errors in shade processing; this might be the cause of this problem. Fixed in r1713986, you may want to give 2.5-SNAPSHOT a try (I&apos;m not on windows)&lt;/p&gt;</comment>
                            <comment id="15003898" author="krosenvold" created="Fri, 13 Nov 2015 12:00:27 +0000"  >&lt;p&gt;Additional resource leaks have just been fixed in jdependency, so we&apos;d need to wait for a release of a version &amp;gt;1.0&lt;/p&gt;</comment>
                            <comment id="15007019" author="krosenvold" created="Mon, 16 Nov 2015 18:07:45 +0000"  >&lt;p&gt;Fixed in r1714646 and also related issues, there should be no more resource leaks. It should be possible to test 2.4.3 SNAPSHOT.&lt;/p&gt;</comment>
                            <comment id="17976284" author="JIRAUSER302100" created="Sat, 14 Jun 2025 18:12:44 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/issues/530&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-shade-plugin#530&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12913377">MSHADE-213</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12913378">MSHADE-214</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12719019" name="MSHADE-171.zip" size="3128" author="centic" created="Thu, 11 Sep 2014 01:51:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2b1nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>