<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:19:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHADE-83] Allow filters to work when creating the sources jar</title>
                <link>https://issues.apache.org/jira/browse/MSHADE-83</link>
                <project id="12317921" key="MSHADE">Maven Shade Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;While using the maven-shade-plugin for Apache MyFaces I ran into this error:&lt;/p&gt;

&lt;p&gt;I use a filter to include a subset of classes from another artifact. Everything works fine for the &quot;binary&quot; artifact, but when creating the -sources.jar (createSourcesJar = true) the filter does not apply.&lt;/p&gt;

&lt;p&gt;After some digging in the code I found out that SimpleFilter gets a Set of jar files for which it should be applied. Here, however, only the &quot;binary&quot; jar file is added and not also the -sources.jar file. Thus the canFilter() check fails later when creating the -sources.jar via shader.shade().&lt;/p&gt;

&lt;p&gt;The attached patch solves this problem by adding the -sources.jar to the Set of jar files if createSourcesJar is true. I already tested it and it works just fine. Furthermore the test-patch provides a JUnit test case for this scenario.&lt;/p&gt;

&lt;p&gt;Thanks for looking at this,&lt;br/&gt;
Jakob&lt;/p&gt;</description>
                <environment></environment>
        <key id="12808107">MSHADE-83</key>
            <summary>Allow filters to work when creating the sources jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="struberg">Mark Struberg</assignee>
                                    <reporter username="jakobkorherr">Jakob Korherr</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jul 2010 13:12:56 +0000</created>
                <updated>Sat, 14 Jun 2025 18:12:22 +0000</updated>
                            <resolved>Mon, 26 Jul 2010 15:13:05 +0000</resolved>
                                    <version>1.3.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14448943" author="struberg" created="Mon, 26 Jul 2010 14:53:30 +0000"  >&lt;p&gt;The patch is imo definitely better than our current implementation which doesn&apos;t filter source jars at all. The users need be be carefully if they filter only with includes of course, because there is currently only one filter ruleset available for both class jars and source jars.&lt;/p&gt;</comment>
                            <comment id="14448849" author="struberg" created="Mon, 26 Jul 2010 15:13:05 +0000"  >&lt;p&gt;patch reviewed, tested and applied.&lt;br/&gt;
Txs Jakob!&lt;/p&gt;</comment>
                            <comment id="14449239" author="jakobkorherr" created="Mon, 26 Jul 2010 15:18:35 +0000"  >&lt;p&gt;Big thx, Mark!&lt;/p&gt;</comment>
                            <comment id="17976187" author="JIRAUSER302100" created="Sat, 14 Jun 2025 18:12:22 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/issues/427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-shade-plugin#427&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12719003" name="shade-filter-sources-test.patch" size="5913" author="" created="Mon, 26 Jul 2010 13:12:56 +0000"/>
                            <attachment id="12718943" name="shade-filter-sources.patch" size="1015" author="" created="Mon, 26 Jul 2010 13:12:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2b2nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>