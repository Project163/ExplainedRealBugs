<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:20:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHADE-148] Shade Plugin gets stuck in infinite loop building dependency reduced POM</title>
                <link>https://issues.apache.org/jira/browse/MSHADE-148</link>
                <project id="12317921" key="MSHADE">Maven Shade Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;I have encountered a bug whereby the shade plugin gets stuck in an infinite loop in the step of creating a dependency reduced POM.&lt;/p&gt;

&lt;p&gt;I have attached a minimal POM that reproduces the issue and done some debugging on this.  The problem seems to be caused by using both the jar and test-jar version of a dependency (jena-fuseki in my example) while also including a jar dependency that is a transitive dependency of the other dependencies (jena-arq in my example).   Removing either the jar/test-jar resolves the problem and so does removing the other jar dependency.&lt;/p&gt;

&lt;p&gt;The problem appears to be that the plugin is getting stuck endlessly trying to produce the dependency-reduced-pom.xml&lt;/p&gt;

&lt;p&gt;If I watch the file over time it is repeatedly deleted and rewritten, each time it is written it gets larger.  When I manage to kill the process at a point where the file is non-empty I can see that the plugin is endlessly adding the same set of &amp;lt;exclusions&amp;gt; to one of the jena-fuseki dependencies.&lt;/p&gt;</description>
                <environment>OS X 10.7.5</environment>
        <key id="12808081">MSHADE-148</key>
            <summary>Shade Plugin gets stuck in infinite loop building dependency reduced POM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="khmarbaise">Karl Heinz Marbaise</assignee>
                                    <reporter username="rvesse">Rob Vesse</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jun 2013 11:31:25 +0000</created>
                <updated>Sat, 14 Jun 2025 18:11:15 +0000</updated>
                            <resolved>Mon, 6 Jul 2015 20:17:47 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.4.1</fixVersion>
                    <fixVersion>3.2.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>20</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="14449188" author="rvesse" created="Thu, 6 Jun 2013 11:33:30 +0000"  >&lt;p&gt;Managed to stop the process at the right point and get a copy of the bad dependency-reduced-pom.xml that is being generated&lt;/p&gt;</comment>
                            <comment id="14449204" author="rvesse" created="Thu, 6 Jun 2013 11:34:59 +0000"  >&lt;p&gt;As a naive suggestion for a fix from a non-maven expert why does the step of creating a dependency-reduced-pom not just throw out test scoped dependencies completely?&lt;/p&gt;

&lt;p&gt;test scoped dependencies are not transitive anyway so there is no real reason to include them in the DPR for an uber jar&lt;/p&gt;</comment>
                            <comment id="14449167" author="tomwhite" created="Tue, 14 Jan 2014 05:23:53 +0000"  >&lt;p&gt;I encountered the same problem, and in Maven 3.1.1 using exclusions didn&apos;t work any more (it did in 3.0.4). See &lt;a href=&quot;https://github.com/kite-sdk/kite/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kite-sdk/kite/pull/2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve written a patch (attached) that takes the artifact type into consideration when matching dependencies for excludes. With this patch my build now works using Maven 3.0.4 and 3.1.1, and what&apos;s more I don&apos;t need to specify any exclusions manually in my project&apos;s POM.&lt;/p&gt;

&lt;p&gt;Please consider this patch for inclusion.&lt;/p&gt;</comment>
                            <comment id="14615572" author="khmarbaise" created="Mon, 6 Jul 2015 20:17:47 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1689490&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1689490&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14615820" author="andrewor14" created="Mon, 6 Jul 2015 22:56:27 +0000"  >&lt;p&gt;Thanks for the fix. When will the next release be published? The Spark project is suffering from this issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-8819&quot; title=&quot;Spark doesn&amp;#39;t compile with maven 3.3.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-8819&quot;&gt;&lt;del&gt;SPARK-8819&lt;/del&gt;&lt;/a&gt;) and currently needs to introduce a hacky workaround for it.&lt;/p&gt;</comment>
                            <comment id="14616285" author="khmarbaise" created="Tue, 7 Jul 2015 06:57:21 +0000"  >&lt;p&gt;Can someone first acknowledge if this fix is really working for you...i have created a 2.5-SNAPSHOT so if you like you can try first. After your feedback i can start the VOTE for the release if this is sufficient?&lt;/p&gt;</comment>
                            <comment id="14724815" author="clehene" created="Tue, 1 Sep 2015 05:24:46 +0000"  >&lt;p&gt;I still get this with maven 3.3.3 and shade plugin 2.4.1 while trying to build htrace&lt;/p&gt;</comment>
                            <comment id="14743316" author="iwasakims" created="Mon, 14 Sep 2015 10:08:37 +0000"  >&lt;p&gt;I can reproduce the issue by 2.4.1 with maven-3.3.3 and 3.3.1 but can&apos;t with 3.2.5, 3.2.3 and 3.1.1. I also tried 2.4.2-SNAPSHOT built from svn trunk but the issue was not solved.&lt;/p&gt;

&lt;p&gt;In the case of &lt;a href=&quot;https://issues.apache.org/jira/browse/HTRACE-234&quot; title=&quot;Add workaround to prevent htrace-hbase from getting in an infinite loop while creating the dependency-reduced pom&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTRACE-234&quot;&gt;&lt;del&gt;HTRACE-234&lt;/del&gt;&lt;/a&gt;, It can be reproduced by running &lt;tt&gt;mvn package&lt;/tt&gt; in the top level directory but &lt;tt&gt;mvn package&lt;/tt&gt; after moving to sub project (i.e. &lt;tt&gt;cd htrace-hbase &amp;amp;&amp;amp; mvn package&lt;/tt&gt;) worked fine.&lt;/p&gt;</comment>
                            <comment id="14743340" author="khmarbaise" created="Mon, 14 Sep 2015 10:31:42 +0000"  >&lt;p&gt;Can you give an exact location in your version control and which version you have tested so i can take a look...&lt;/p&gt;</comment>
                            <comment id="14745065" author="iwasakims" created="Tue, 15 Sep 2015 08:47:21 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=khmarbaise&quot; class=&quot;user-hover&quot; rel=&quot;khmarbaise&quot;&gt;khmarbaise&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I used rev 1702888 of maven-shade-plugin with Maven 3.3.3.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;URL: http://svn.apache.org/repos/asf/maven/plugins/trunk/maven-shade-plugin
Repository Root: http://svn.apache.org/repos/asf
Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68
Revision: 1702888
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;I could reproduce the issue by d7a76593 of htrace.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ git clone https://github.com/apache/incubator-htrace
$ cd incubator-htrace
$ git checkout d7a76593
$ vim pom.xml
$ git diff
diff --git a/pom.xml b/pom.xml
index 1438500..0ce1fb0 100644
--- a/pom.xml
+++ b/pom.xml
@@ -291,7 +291,7 @@ language governing permissions and limitations under the License. --&amp;gt;
     &amp;lt;maven-compiler-plugin.version&amp;gt;2.5.1&amp;lt;/maven-compiler-plugin.version&amp;gt;
     &amp;lt;maven-gpg-plugin.version&amp;gt;1.1&amp;lt;/maven-gpg-plugin.version&amp;gt;
     &amp;lt;maven-deploy-plugin.version&amp;gt;2.7&amp;lt;/maven-deploy-plugin.version&amp;gt;
-    &amp;lt;maven-shade-plugin.version&amp;gt;2.1&amp;lt;/maven-shade-plugin.version&amp;gt;
+    &amp;lt;maven-shade-plugin.version&amp;gt;2.4.2-SNAPSHOT&amp;lt;/maven-shade-plugin.version&amp;gt;
     &amp;lt;maven-site-plugin.version&amp;gt;3.4&amp;lt;/maven-site-plugin.version&amp;gt;
     &amp;lt;wagon-ssh.version&amp;gt;2.2&amp;lt;/wagon-ssh.version&amp;gt;
     &amp;lt;doxia-module-markdown.version&amp;gt;1.6&amp;lt;/doxia-module-markdown.version&amp;gt;
$ mvn package -DskipTests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issued will be reproduced while building htrace-hbase sub-project. Packaging only htrace-hbase (&lt;tt&gt;mvn package -pl htrace-hbase -DskipTests&lt;/tt&gt;) can not reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="15236116" author="leebutts" created="Mon, 11 Apr 2016 22:35:36 +0000"  >&lt;p&gt;Can we get this re-opened? Still happening with version 2.4.3 with Maven 3.3.9&lt;/p&gt;</comment>
                            <comment id="15513057" author="lviegas" created="Thu, 22 Sep 2016 11:47:04 +0000"  >&lt;p&gt;I just discovered this maven plug-in and I have the same problem in version 2.4.1. For me, the infinite exclusion loop is on &quot;javax.media:jai&quot;. &lt;/p&gt;

&lt;p&gt;This seems to be a modified version of JAI used by Luciad Lightspeed (a Gis COTS we use). I don&apos;t know if it&apos;s any help, but here it is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&amp;lt;project xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;
         &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&amp;gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;javax.media&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jai&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.1.4+7-lcd&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;packaging&amp;gt;&lt;/span&gt;pom&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/packaging&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;javax.media&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jai&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.1.4+7-lcd&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;classifier&amp;gt;&lt;/span&gt;native.linux64&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/classifier&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;javax.media&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jai&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.1.4+7-lcd&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;classifier&amp;gt;&lt;/span&gt;native.linux&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/classifier&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;javax.media&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jai&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.1.4+7-lcd&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;classifier&amp;gt;&lt;/span&gt;native.win32&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/classifier&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All those JAI dependencies have the same GAV, only the classifier changes. Could that be the reason behind the infinite loop???&lt;/p&gt;</comment>
                            <comment id="16095664" author="zjffdu" created="Fri, 21 Jul 2017 01:52:19 +0000"  >&lt;p&gt;I hit the same issue, is there upgrade on the status of this ticket ?&lt;/p&gt;</comment>
                            <comment id="16559884" author="abayer" created="Fri, 27 Jul 2018 15:14:55 +0000"  >&lt;p&gt;I&apos;ve hit this myself and have attached &lt;tt&gt;mshade-148-reproduction-pom.xml&lt;/tt&gt;, which reproduce this with Maven 3.5.4, no source needed etc - it&apos;d presumably happen with any artifact with multiple classifiers, and, since I attached that, I&apos;ve verified that it happens regardless of scope - removing &lt;tt&gt;&amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&lt;/tt&gt; makes no difference.&lt;/p&gt;</comment>
                            <comment id="16777546" author="rschmitt" created="Tue, 26 Feb 2019 03:46:31 +0000"  >&lt;p&gt;This bug is definitely not fixed. I just hit it while using the latest maven-shade-plugin (version 3.2.1).&lt;/p&gt;</comment>
                            <comment id="16780459" author="lnardai" created="Thu, 28 Feb 2019 12:43:07 +0000"  >&lt;p&gt;Is there any workaround at least?&#160;&lt;br/&gt;
I&apos;m constantly hitting this issue with the latest versions.&lt;br/&gt;
Maven version: 3.6.0&lt;br/&gt;
Shade plugin version: 3.2.1&lt;/p&gt;</comment>
                            <comment id="16780475" author="lviegas" created="Thu, 28 Feb 2019 12:57:18 +0000"  >&lt;p&gt;This is what I&apos;ve come up with to work around this issue:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;plugins&amp;gt;
  ...
  &amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-shade-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;executions&amp;gt;
      &amp;lt;execution&amp;gt;
        &amp;lt;phase&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;&amp;lt;/phase&amp;gt;
        &amp;lt;goals&amp;gt;&amp;lt;goal&amp;gt;shade&amp;lt;/goal&amp;gt;&amp;lt;/goals&amp;gt;
        &amp;lt;configuration&amp;gt;
          &amp;lt;promoteTransitiveDependencies&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/promoteTransitiveDependencies&amp;gt;
          &amp;lt;artifactSet&amp;gt;
            &amp;lt;includes&amp;gt;
              ...
              &amp;lt;include&amp;gt;com.luciad:*&amp;lt;/include&amp;gt;

              &amp;lt;!-- Include &lt;span class=&quot;code-quote&quot;&gt;&apos;javax.media:jai_imageio&apos;&lt;/span&gt; because maven-shade-plugin v2.4.1 enters infinite loop &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; reducing pom --&amp;gt;
              &amp;lt;include&amp;gt;com.sun.media:jai_imageio&amp;lt;/include&amp;gt;
              &amp;lt;!-- Include &lt;span class=&quot;code-quote&quot;&gt;&apos;it.gaia-gis:spatialite&apos;&lt;/span&gt; because maven-shade-plugin v3.2.1 enters infinite loop &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; reducing pom --&amp;gt;
              &amp;lt;include&amp;gt;it.gaia-gis:spatialite&amp;lt;/include&amp;gt;
              &amp;lt;!-- @see https:&lt;span class=&quot;code-comment&quot;&gt;//issues.apache.org/jira/browse/MSHADE-148 --&amp;gt;
&lt;/span&gt;            &amp;lt;/includes&amp;gt;
          &amp;lt;/artifactSet&amp;gt;
        &amp;lt;/configuration&amp;gt;
      &amp;lt;/execution&amp;gt;
    &amp;lt;/executions&amp;gt;
  &amp;lt;/plugin&amp;gt;
  ...
&amp;lt;/plugins&amp;gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;You&apos;ll have to identify which dependencies to &apos;include&apos;. If I&apos;m not wrong, it should be the dependencies that declare the &quot;same&quot; dependency with the various classifiers.&lt;/p&gt;

&lt;p&gt;Until properly fixed, I hope this workaround helps!&lt;/p&gt;</comment>
                            <comment id="16784088" author="philipl" created="Tue, 5 Mar 2019 05:13:40 +0000"  >&lt;p&gt;I have a fix for one problem that was definitely the cause of the infinite looping for me. It&apos;s unclear if it&apos;s the cause of everyone&apos;s problem. I could not reproduce the problem directly with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abayer&quot; class=&quot;user-hover&quot; rel=&quot;abayer&quot;&gt;abayer&lt;/a&gt;&apos;s example pom and even my problematic poms will only reproduce the infinite loop under certain conditions. (eg: I can never reproduce when building the single module, but can reproduce if I build the whole project without parallelism but cannot reproduce if I build with parallelism. Is that the first time parallelism fixed a problem?)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/maven-shade-plugin/pull/16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-shade-plugin/pull/16&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16854861" author="fcrimins" created="Mon, 3 Jun 2019 17:14:48 +0000"  >&lt;p&gt;Another workaround: completely avoid creation of the &quot;dependency reduced pom&quot; in the first place per &lt;span class=&quot;error&quot;&gt;&amp;#91;here&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://stackoverflow.com/questions/11314182/maven-shade-plugin-adding-dependency-reduced-pom-xml-to-base-directory&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/11314182/maven-shade-plugin-adding-dependency-reduced-pom-xml-to-base-directory&lt;/a&gt;), especially if you don&apos;t need it.&lt;/p&gt;</comment>
                            <comment id="17216828" author="maobaolong" created="Mon, 19 Oct 2020 15:41:05 +0000"  >&lt;p&gt;I think this issue is not fixed before merge the &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/pull/16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-shade-plugin/pull/16&lt;/a&gt; , is there anyone want to discuss with this PR? its look good to me.&lt;/p&gt;</comment>
                            <comment id="17622454" author="gnt" created="Fri, 21 Oct 2022 19:43:42 +0000"  >&lt;p&gt;This issue seems to have been fixed in maven-shade-plugin 3.2.2.&lt;br/&gt;
Most probably by &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/commit/77cfd20d95e853085650cce40772f45bee878d9a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-shade-plugin/commit/77cfd20d95e853085650cce40772f45bee878d9a&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17976017" author="JIRAUSER302100" created="Sat, 14 Jun 2025 18:11:15 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-shade-plugin/issues/505&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-shade-plugin#505&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13340009">FLINK-20092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13072662">HTRACE-399</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12861202">HTRACE-234</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12719026" name="MSHADE-148.patch" size="1615" author="tomwhite" created="Tue, 14 Jan 2014 05:23:53 +0000"/>
                            <attachment id="12718945" name="dependency-reduced-pom.xml" size="50380" author="rvesse" created="Thu, 6 Jun 2013 11:33:30 +0000"/>
                            <attachment id="12933376" name="mshade-148-reproduction-pom.xml" size="3055" author="abayer" created="Fri, 27 Jul 2018 15:12:26 +0000"/>
                            <attachment id="12718973" name="pom.xml" size="1782" author="rvesse" created="Thu, 6 Jun 2013 11:31:25 +0000"/>
                            <attachment id="12719018" name="shade-bug.txt" size="877767" author="rvesse" created="Thu, 6 Jun 2013 11:31:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2b1zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>