diff --git a/src/it/filter-artifact-contents/pom.xml b/src/it/filter-artifact-contents/pom.xml
index 787404d..ff319e0 100644
--- a/src/it/filter-artifact-contents/pom.xml
+++ b/src/it/filter-artifact-contents/pom.xml
@@ -85,6 +85,7 @@ under the License.
                   <artifact>org.apache.maven.its.shade.fac:b:client</artifact>
                   <excludes>
                     <exclude>org/apache/*</exclude>
+                    <exclude>org/apache/maven/b/</exclude>
                   </excludes>
                 </filter>
                 <filter>
diff --git a/src/it/filter-artifact-contents/repo/org/apache/maven/its/shade/fac/b/0.1/b-0.1-client.jar b/src/it/filter-artifact-contents/repo/org/apache/maven/its/shade/fac/b/0.1/b-0.1-client.jar
index 448ea5c..35b4771 100644
Binary files a/src/it/filter-artifact-contents/repo/org/apache/maven/its/shade/fac/b/0.1/b-0.1-client.jar and b/src/it/filter-artifact-contents/repo/org/apache/maven/its/shade/fac/b/0.1/b-0.1-client.jar differ
diff --git a/src/it/filter-artifact-contents/verify.bsh b/src/it/filter-artifact-contents/verify.bsh
index fe59369..02bd2f4 100644
--- a/src/it/filter-artifact-contents/verify.bsh
+++ b/src/it/filter-artifact-contents/verify.bsh
@@ -16,6 +16,7 @@ String[] unwanted =
     "org/a.properties",
     "org/b.properties",
     "org/apache/b.properties",
+    "org/apache/maven/b/b.properties",
 };
 
 JarFile jarFile = new JarFile( new File( basedir, "target/test-1.0.jar" ) );
diff --git a/src/main/java/org/apache/maven/plugins/shade/filter/SimpleFilter.java b/src/main/java/org/apache/maven/plugins/shade/filter/SimpleFilter.java
index f46f9cd..fc36bc1 100644
--- a/src/main/java/org/apache/maven/plugins/shade/filter/SimpleFilter.java
+++ b/src/main/java/org/apache/maven/plugins/shade/filter/SimpleFilter.java
@@ -41,7 +41,7 @@ public class SimpleFilter
 
     public SimpleFilter( Set jars, Set includes, Set excludes )
     {
-        this.jars = new HashSet( jars );
+        this.jars = ( jars != null ) ? new HashSet( jars ) : new HashSet();
         this.includes = normalizePatterns( includes );
         this.excludes = normalizePatterns( excludes );
     }
@@ -95,7 +95,7 @@ public class SimpleFilter
 
     private String normalizePath( String path )
     {
-        return ( path != null ) ? path.replace( '/', File.separatorChar ).replace( '\\', File.separatorChar ) : null;
+        return ( path != null ) ? path.replace( File.separatorChar == '/' ? '\\' : '/', File.separatorChar ) : null;
     }
 
     private Set normalizePatterns( Set patterns )
@@ -107,7 +107,15 @@ public class SimpleFilter
             for ( Iterator it = patterns.iterator(); it.hasNext(); )
             {
                 String pattern = (String) it.next();
-                result.add( normalizePath( pattern ) );
+
+                pattern = normalizePath( pattern );
+
+                if ( pattern.endsWith( File.separator ) )
+                {
+                    pattern += "**";
+                }
+
+                result.add( pattern );
             }
         }
 
diff --git a/src/test/java/org/apache/maven/plugins/shade/filter/SimpleFilterTest.java b/src/test/java/org/apache/maven/plugins/shade/filter/SimpleFilterTest.java
new file mode 100644
index 0000000..ccf05fe
--- /dev/null
+++ b/src/test/java/org/apache/maven/plugins/shade/filter/SimpleFilterTest.java
@@ -0,0 +1,77 @@
+package org.apache.maven.plugins.shade.filter;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+import java.util.Collections;
+
+import junit.framework.TestCase;
+
+/**
+ * @author Benjamin Bentmann
+ */
+public class SimpleFilterTest
+    extends TestCase
+{
+
+    public void testIsFiltered()
+    {
+        SimpleFilter filter;
+
+        filter = new SimpleFilter( null, null, null );
+        assertFalse( filter.isFiltered( "a.properties" ) );
+        assertFalse( filter.isFiltered( "org/Test.class" ) );
+
+        filter = new SimpleFilter( null, Collections.EMPTY_SET, Collections.EMPTY_SET );
+        assertFalse( filter.isFiltered( "a.properties" ) );
+        assertFalse( filter.isFiltered( "org/Test.class" ) );
+
+        filter = new SimpleFilter( null, Collections.singleton( "org/Test.class" ), Collections.EMPTY_SET );
+        assertTrue( filter.isFiltered( "a.properties" ) );
+        assertFalse( filter.isFiltered( "org/Test.class" ) );
+        assertTrue( filter.isFiltered( "org/Test.properties" ) );
+
+        filter = new SimpleFilter( null, Collections.EMPTY_SET, Collections.singleton( "org/Test.class" ) );
+        assertFalse( filter.isFiltered( "a.properties" ) );
+        assertTrue( filter.isFiltered( "org/Test.class" ) );
+        assertFalse( filter.isFiltered( "org/Test.properties" ) );
+
+        filter = new SimpleFilter( null, Collections.singleton( "**/a.properties" ), Collections.EMPTY_SET );
+        assertFalse( filter.isFiltered( "a.properties" ) );
+        assertFalse( filter.isFiltered( "org/a.properties" ) );
+        assertFalse( filter.isFiltered( "org/maven/a.properties" ) );
+        assertTrue( filter.isFiltered( "org/maven/a.class" ) );
+
+        filter = new SimpleFilter( null, Collections.EMPTY_SET, Collections.singleton( "org/*" ) );
+        assertFalse( filter.isFiltered( "Test.class" ) );
+        assertTrue( filter.isFiltered( "org/Test.class" ) );
+        assertFalse( filter.isFiltered( "org/apache/Test.class" ) );
+
+        filter = new SimpleFilter( null, Collections.EMPTY_SET, Collections.singleton( "org/**" ) );
+        assertFalse( filter.isFiltered( "Test.class" ) );
+        assertTrue( filter.isFiltered( "org/Test.class" ) );
+        assertTrue( filter.isFiltered( "org/apache/Test.class" ) );
+
+        filter = new SimpleFilter( null, Collections.EMPTY_SET, Collections.singleton( "org/" ) );
+        assertFalse( filter.isFiltered( "Test.class" ) );
+        assertTrue( filter.isFiltered( "org/Test.class" ) );
+        assertTrue( filter.isFiltered( "org/apache/Test.class" ) );
+    }
+
+}
