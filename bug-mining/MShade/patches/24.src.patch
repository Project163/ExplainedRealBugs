diff --git a/pom.xml b/pom.xml
index 6ebcd0a..3da74b8 100644
--- a/pom.xml
+++ b/pom.xml
@@ -93,12 +93,12 @@ under the License.
     <dependency>
       <groupId>asm</groupId>
       <artifactId>asm</artifactId>
-      <version>3.1</version>
+      <version>3.2</version>
     </dependency>
     <dependency>
       <groupId>asm</groupId>
       <artifactId>asm-commons</artifactId>
-      <version>3.1</version>
+      <version>3.2</version>
     </dependency>
     <dependency>
       <groupId>jdom</groupId>
@@ -143,7 +143,7 @@ under the License.
         <plugins>
           <plugin>
             <artifactId>maven-invoker-plugin</artifactId>
-            <version>1.4</version>
+            <version>1.5</version>
             <configuration>
               <debug>true</debug>
               <projectsDirectory>src/it</projectsDirectory>
diff --git a/src/it/reloc-enum-ref-from-anno/invoker.properties b/src/it/reloc-enum-ref-from-anno/invoker.properties
new file mode 100644
index 0000000..e3ae082
--- /dev/null
+++ b/src/it/reloc-enum-ref-from-anno/invoker.properties
@@ -0,0 +1 @@
+invoker.java.version = 1.5+
diff --git a/src/it/reloc-enum-ref-from-anno/pom.xml b/src/it/reloc-enum-ref-from-anno/pom.xml
new file mode 100644
index 0000000..39583ab
--- /dev/null
+++ b/src/it/reloc-enum-ref-from-anno/pom.xml
@@ -0,0 +1,108 @@
+<?xml version="1.0" encoding="UTF-8"?>
+
+<!--
+Licensed to the Apache Software Foundation (ASF) under one
+or more contributor license agreements.  See the NOTICE file
+distributed with this work for additional information
+regarding copyright ownership.  The ASF licenses this file
+to you under the Apache License, Version 2.0 (the
+"License"); you may not use this file except in compliance
+with the License.  You may obtain a copy of the License at
+
+  http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing,
+software distributed under the License is distributed on an
+"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+KIND, either express or implied.  See the License for the
+specific language governing permissions and limitations
+under the License.
+-->
+
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+  <modelVersion>4.0.0</modelVersion>
+
+  <groupId>org.apache.maven.its.shade.rerfa</groupId>
+  <artifactId>test</artifactId>
+  <version>1.0</version>
+  <packaging>jar</packaging>
+
+  <name>MSHADE-64</name>
+  <description>
+    Test that enum references in annotations are properly relocated.
+  </description>
+
+  <build>
+    <plugins>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-compiler-plugin</artifactId>
+        <version>2.0.2</version>
+        <configuration>
+          <source>1.5</source>
+          <target>1.5</target>
+        </configuration>
+      </plugin>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-jar-plugin</artifactId>
+        <version>2.1</version>
+      </plugin>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-resources-plugin</artifactId>
+        <version>2.2</version>
+      </plugin>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-shade-plugin</artifactId>
+        <version>@project.version@</version>
+        <executions>
+          <execution>
+            <id>shade</id>
+            <phase>package</phase>
+            <goals>
+              <goal>shade</goal>
+            </goals>
+            <configuration>
+              <createDependencyReducedPom>false</createDependencyReducedPom>
+              <relocations>
+                <relocation>
+                  <pattern>relocated</pattern>
+                  <shadedPattern>hidden</shadedPattern>
+                </relocation>
+              </relocations>
+            </configuration>
+          </execution>
+        </executions>
+      </plugin>
+      <plugin>
+        <groupId>org.codehaus.mojo</groupId>
+        <artifactId>exec-maven-plugin</artifactId>
+        <version>1.1.1</version>
+        <executions>
+          <execution>
+            <id>run</id>
+            <phase>verify</phase>
+            <goals>
+              <goal>exec</goal>
+            </goals>
+            <configuration>
+              <executable>java</executable>
+              <arguments>
+                <argument>-classpath</argument>
+                <argument>${project.build.directory}/test-1.0.jar</argument>
+                <argument>Main</argument>
+              </arguments>
+            </configuration>
+          </execution>
+        </executions>
+      </plugin>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-surefire-plugin</artifactId>
+        <version>2.3.1</version>
+      </plugin>
+    </plugins>
+  </build>
+</project>
diff --git a/src/it/reloc-enum-ref-from-anno/src/main/java/Main.java b/src/it/reloc-enum-ref-from-anno/src/main/java/Main.java
new file mode 100644
index 0000000..840cfc1
--- /dev/null
+++ b/src/it/reloc-enum-ref-from-anno/src/main/java/Main.java
@@ -0,0 +1,35 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+@MyAnno( relocated.MyEnum.YES )
+public class Main
+{
+
+    public static void main( String[] args )
+        throws Exception
+    {
+        MyAnno anno = Main.class.getAnnotation( MyAnno.class );
+        System.out.println( "ANNO: " + anno.value() );
+        if ( !relocated.MyEnum.YES.equals( anno.value() ) )
+        {
+            throw new IllegalStateException( "unexpected value: " + anno.value() );
+        }
+    }
+
+}
diff --git a/src/it/reloc-enum-ref-from-anno/src/main/java/MyAnno.java b/src/it/reloc-enum-ref-from-anno/src/main/java/MyAnno.java
new file mode 100644
index 0000000..d06c058
--- /dev/null
+++ b/src/it/reloc-enum-ref-from-anno/src/main/java/MyAnno.java
@@ -0,0 +1,26 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+@java.lang.annotation.Retention( java.lang.annotation.RetentionPolicy.RUNTIME )
+public @interface MyAnno
+{
+
+    relocated.MyEnum value();
+
+}
diff --git a/src/it/reloc-enum-ref-from-anno/src/main/java/relocated/MyEnum.java b/src/it/reloc-enum-ref-from-anno/src/main/java/relocated/MyEnum.java
new file mode 100644
index 0000000..0a4d0ae
--- /dev/null
+++ b/src/it/reloc-enum-ref-from-anno/src/main/java/relocated/MyEnum.java
@@ -0,0 +1,27 @@
+package relocated;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+public enum MyEnum
+{
+
+    YES, NO
+
+}
diff --git a/src/main/java/org/apache/maven/plugins/shade/DefaultShader.java b/src/main/java/org/apache/maven/plugins/shade/DefaultShader.java
index b007e0d..b82bbb3 100644
--- a/src/main/java/org/apache/maven/plugins/shade/DefaultShader.java
+++ b/src/main/java/org/apache/maven/plugins/shade/DefaultShader.java
@@ -337,17 +337,32 @@ public class DefaultShader
         public String map( String name )
         {
             String value = name;
+
+            String prefix = "";
+            String suffix = "";
+
+            Matcher m = classPattern.matcher( name );
+            if ( m.matches() )
+            {
+                prefix = m.group( 1 ) + "L";
+                suffix = ";";
+                name = m.group( 2 );
+            }
+
             for ( Iterator i = relocators.iterator(); i.hasNext(); )
             {
                 Relocator r = (Relocator) i.next();
 
                 if ( r.canRelocatePath( name ) )
                 {
-                    value = r.relocatePath( name );
+                    value = prefix + r.relocatePath( name ) + suffix;
                     break;
                 }
             }
+
             return value;
         }
+
     }
+
 }
