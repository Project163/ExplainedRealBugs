diff --git a/format/format.go b/format/format.go
index 1fe4b23..29c2cb3 100644
--- a/format/format.go
+++ b/format/format.go
@@ -866,9 +866,9 @@ func (f *fumpter) stmts(list []ast.Stmt) {
 			continue // not an if following another statement
 		}
 		as, ok := list[i-1].(*ast.AssignStmt)
-		if !ok || as.Tok != token.DEFINE ||
+		if !ok || (as.Tok != token.DEFINE && as.Tok != token.ASSIGN) ||
 			!identEqual(as.Lhs[len(as.Lhs)-1], "err") {
-			continue // not "..., err := ..."
+			continue // not ", err :=" nor ", err ="
 		}
 		be, ok := ifs.Cond.(*ast.BinaryExpr)
 		if !ok || ifs.Init != nil || ifs.Else != nil {
diff --git a/testdata/script/newline-errcheck.txtar b/testdata/script/newline-errcheck.txtar
index c37c394..8d83af9 100644
--- a/testdata/script/newline-errcheck.txtar
+++ b/testdata/script/newline-errcheck.txtar
@@ -53,6 +53,12 @@ func f() {
 			panic(err)
 		}
 	}
+
+	n5, err = Do2()
+
+	if err != nil {
+		panic(err)
+	}
 }
 -- foo.go.golden --
 package p
@@ -101,4 +107,9 @@ func f() {
 			panic(err)
 		}
 	}
+
+	n5, err = Do2()
+	if err != nil {
+		panic(err)
+	}
 }
