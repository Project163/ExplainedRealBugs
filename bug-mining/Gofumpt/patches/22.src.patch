diff --git a/internal/gofumpt.go b/internal/gofumpt.go
index e063d38..3d17b1e 100644
--- a/internal/gofumpt.go
+++ b/internal/gofumpt.go
@@ -500,9 +500,6 @@ func (f *fumpter) joinStdImports(d *ast.GenDecl) {
 
 		// First, separate the non-std imports.
 		if strings.Contains(spec.Path.Value, ".") {
-			// Once we reach a non-std import, we've broken the
-			// first group.
-			firstGroup = false
 			other = append(other, spec)
 			continue
 		}
@@ -515,7 +512,7 @@ func (f *fumpter) joinStdImports(d *ast.GenDecl) {
 
 		// If we're moving this std import further up, reset its
 		// position, to avoid breaking comments.
-		if !firstGroup {
+		if !firstGroup || len(other) > 0 {
 			setPos(reflect.ValueOf(spec), d.Pos())
 			needsSort = true
 		}
diff --git a/testdata/scripts/std-imports.txt b/testdata/scripts/std-imports.txt
index 061220f..4648ef0 100644
--- a/testdata/scripts/std-imports.txt
+++ b/testdata/scripts/std-imports.txt
@@ -39,6 +39,12 @@ import (
 	"std"
 )
 
+// We need to split std vs non-std in this case too.
+import (
+	"foo.local/three"
+	math "math"
+)
+
 // This used to crash gofumpt, as there's no space to insert an extra newline.
 import (
 "std"
@@ -78,6 +84,13 @@ import (
 	"std"
 )
 
+// We need to split std vs non-std in this case too.
+import (
+	math "math"
+
+	"foo.local/three"
+)
+
 // This used to crash gofumpt, as there's no space to insert an extra newline.
 import (
 	"std"
