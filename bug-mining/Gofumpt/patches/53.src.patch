diff --git a/format/format.go b/format/format.go
index 08b3eb2..0837410 100644
--- a/format/format.go
+++ b/format/format.go
@@ -655,19 +655,26 @@ func (f *fumpter) applyPost(c *astutil.Cursor) {
 
 		newlineAroundElems := false
 		newlineBetweenElems := false
+		lastEnd := node.Lbrace
 		lastLine := openLine
 		for i, elem := range node.Elts {
-			if elPos := f.Line(elem.Pos()); elPos > lastLine {
+			pos := elem.Pos()
+			comments := f.commentsBetween(lastEnd, pos)
+			if len(comments) > 0 {
+				pos = comments[0].Pos()
+			}
+			if curLine := f.Line(pos); curLine > lastLine {
 				if i == 0 {
 					newlineAroundElems = true
 
 					// remove leading lines if they exist
-					f.removeLines(openLine+1, elPos)
+					f.removeLines(openLine+1, curLine)
 				} else {
 					newlineBetweenElems = true
 				}
 			}
-			lastLine = f.Line(elem.End())
+			lastEnd = elem.End()
+			lastLine = f.Line(lastEnd)
 		}
 		if closeLine > lastLine {
 			newlineAroundElems = true
diff --git a/testdata/scripts/composite-literals-leading-lines.txt b/testdata/scripts/composite-literals-leading-lines.txt
index 2ab7c1c..0b1265c 100644
--- a/testdata/scripts/composite-literals-leading-lines.txt
+++ b/testdata/scripts/composite-literals-leading-lines.txt
@@ -20,12 +20,12 @@ var _ = []string{
 
 var _ = []string{
 
-	// comment
+	// joint comment
 	"foo",
 }
 
 var _ = []string{
-	// comment
+	// separate comment
 
 	"foo",
 }
@@ -43,16 +43,23 @@ var _ = map[string]string{
 
 var _ = map[string]string{
 
-	// comment
+	// joint comment
 	"foo": "bar",
 }
 
 var _ = map[string]string{
-	// comment
+	// separate comment
 
 	"foo": "bar",
 }
 
+var _ = map[string]string{
+	/*
+		joint comment
+	*/
+	"foo": "bar",
+}
+
 -- foo.go.golden --
 package p
 
@@ -65,12 +72,13 @@ var _ = []string{
 }
 
 var _ = []string{
-	// comment
+	// joint comment
 	"foo",
 }
 
 var _ = []string{
-	// comment
+	// separate comment
+
 	"foo",
 }
 
@@ -83,11 +91,19 @@ var _ = map[string]string{
 }
 
 var _ = map[string]string{
-	// comment
+	// joint comment
+	"foo": "bar",
+}
+
+var _ = map[string]string{
+	// separate comment
+
 	"foo": "bar",
 }
 
 var _ = map[string]string{
-	// comment
+	/*
+		joint comment
+	*/
 	"foo": "bar",
 }
