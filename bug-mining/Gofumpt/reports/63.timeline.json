[{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234222560","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234222560","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1234222560,"node_id":"IC_kwDOCqWoQc5JkL3g","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T12:38:34Z","updated_at":"2022-09-01T12:38:34Z","body":"> I'm finding that the behaviour of `gofumpt` is sensitive to the version of Go used to build the binary.\r\n\r\nFor better or worse, that will always be the case, and the same applies to `gofmt` - both rely on `go/printer`, which implements the \"canonical\" gofmt formatting. If that changes between 1.18 and 1.19, then gofumpt will change depending on what Go version you built it with.\r\n\r\nIn particular, what you are seeing is https://go-review.googlesource.com/c/go/+/384264/, a `go/printer` change for https://github.com/golang/go/issues/51082 which is documented in the 1.19 release notes.\r\n\r\nThere is literally no way to work around this without having one fork of `go/printer` per major Go version, and that's not something I am contemplating to do. Beyond being an ever-increasing amount of work for me forever, and making gofumpt larger and larger in code and binary size, it's just a very heavyweight approach to how `-lang` should work. Put simply, if someone really wants old Go formatting behavior, they can always use that older Go version to build the formatting tool. But I also don't expect this scenario to be very common.\r\n\r\nI know that for reformatting godoc comments it may seem obvious to just disable that bit of code if `-lang` is older than 1.19, but in many cases it's not nearly that simple. A few releases ago, `go/printer` changed its heuristic for how it aligns inline comments vertically. Without keeping two copies of `go/printer`, the only alternative I would have is to manually add a `-lang` conditional that implements both heuristics at once.\r\n\r\nI think perhaps `-lang` is not very well documented if you got confused by this situation. It is meant to be a _language_ version, i.e. what Go language spec features it can rely on for formatting. For example, it will only rewrite `0777` to `0o777` if your `-lang` version (by default derived from `go 1.X` in `go.mod`) is new enough to support octal literals with the `0o` prefix, since that was added in Go 1.13. I can imagine other rules or simplifications which would rely on newer syntax changes in the future.\r\n\r\nSo the flag was never intended to mean \"format exactly like Go version 1.x\" - hopefully that's clear. I'd be interested to hear where you got that impression, so I can improve the docs :)","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234222560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234224681","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234224681","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1234224681,"node_id":"IC_kwDOCqWoQc5JkMYp","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T12:40:36Z","updated_at":"2022-09-01T12:40:36Z","body":"It could always be possible for gofumpt to give an error if its `-lang` version is not the same as the Go version that built the binary, but that would feel overly restrictive in my opinion. Right now, I can use a recent `gofmt` on any Go project, even if it was written with Go 1.12. I should be able to do the same with `gofumpt` - it is a drop-in replacement for `gofmt`, after all. And `gofmt` will still apply those godoc comment rewrites to older projects as well.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234224681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234271344","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234271344","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1234271344,"node_id":"IC_kwDOCqWoQc5JkXxw","user":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T13:18:57Z","updated_at":"2022-09-01T13:18:57Z","body":"Thanks for the quick, detailed, and illuminating reply—I appreciate it. Thanks for your work on `gofumpt`, as well. It's a wonderful tool.\r\n\r\n---\r\n\r\n> Put simply, if someone really wants old Go formatting behavior, they can always use that older Go version to build the formatting tool. But I also don't expect this scenario to be very common.\r\n\r\nThe triggering scenario for me was the following; I believe you're right about its rarity.\r\n\r\nMy employer has a repository that requires the use of Go 1.18. This repository has a CI pipeline that uses golangci-lint. The binaries that are distributed with golangci-lint are built using Go 1.19:\r\n\r\n```sh\r\ngo version -v $(which golangci-lint)\r\n```\r\n\r\nThis inconsistency can cause CI pipelines to fail.\r\n\r\nThere are obvious solutions to that immediate problem, of course; I'll build `gofumpt` locally with Go 1.19 and use that.\r\n\r\n---\r\n\r\n> I think perhaps -lang is not very well documented if you got confused by this situation. It is meant to be a language version, i.e. what Go language spec features it can rely on for formatting [...] the flag was never intended to mean \"format exactly like Go version 1.x\" - hopefully that's clear. I'd be interested to hear where you got that impression, so I can improve the docs :)\r\n\r\nIt was a breezy, optimistic assumption on my part. The documentation I saw was from the struct definition of `format.Options` [here](https://pkg.go.dev/mvdan.cc/gofumpt/format#Options), which says that:\r\n\r\n> LangVersion corresponds to the Go language version a piece of code is written in. The version is used to decide whether to apply formatting rules which require new language features.\r\n\r\nI didn't realise that this meant that the version is _only_ used for that purpose; I assumed more than was written. It's a behaviour that resists a pithy explanation, though.\r\n\r\n---\r\n\r\nYou're, of course, right that it'd be an unsustainable and unreasonable burden on you to maintain forks of `go/printer`. It'd also bloat and introduce fragility to the (lean!) codebase to start jamming in logic that tries to handle all possible versions of `lang`, all changing behaviours of `go/printer`, and so on.\r\n\r\nOne possibility would be for releases of `gofumpt` to be built and distributed on GitHub. This'd dampen down the variation in behaviour, but that likewise introduces a new burden—one that I'd be happy to share, if you'd benefit from that.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234271344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234334125","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234334125","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1234334125,"node_id":"IC_kwDOCqWoQc5JknGt","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T14:08:07Z","updated_at":"2022-09-01T14:08:23Z","body":"Thanks for being understanding! This is a tricky situation so I understand where you were coming from. I actually made a proposal to upstream to provide versioned gofmt downloads for a very similar reason, so that at a previous company we could all use exactly the same Go formatting even if some of the developers were on slightly newer Go versions: https://github.com/golang/go/issues/26397\r\n\r\n> My employer has a repository that requires the use of Go 1.18. This repository has a CI pipeline that uses golangci-lint. The binaries that are distributed with golangci-lint are built using Go 1.19:\r\n\r\nArguably, that may be a problem for more than just formatting. If your work project builds and tests with Go 1.18, you should also use your tools (formatting, static analysis, editors with LSP, etc) with 1.18 as well. Using 1.19 may lead to subtle differences in behavior beyond just formatting.\r\n\r\n> I didn't realise that this meant that the version is _only_ used for that purpose; I assumed more than was written.\r\n\r\nI'll think about making the docs clearer - I'll ping you for a PR review if that's OK.\r\n\r\n> One possibility would be for releases of `gofumpt` to be built and distributed on GitHub.\r\n\r\nPersonally, the only reason I thought the project didn't need release binaries is because it is a tool for Go developers. For them, I imagine that running `go install mvdan.cc/gofumpt@latest` is easier than running a long `curl` command and placing the binary in the right place. `go install` also has the ability of automatically figuring out what the latest version is, for example.\r\n\r\nPerhaps you're right that each gofumpt release should advocate what Go version it mainly targets. https://github.com/mvdan/gofumpt/releases/tag/v0.3.0 did say it was based on Go 1.18's gofmt, and that relates to code in `cmd/gofmt` like its flags, but not to `go/printer`. Perhaps the release notes should clarify that each version _recommends_ to be built with a certain Go version, and provide binaries to make that a bit easier for some use cases like CI. Other Go versions will still most likely work, but with varying degrees of different formatting results.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234334125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234351893","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234351893","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1234351893,"node_id":"IC_kwDOCqWoQc5JkrcV","user":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T14:21:14Z","updated_at":"2022-09-01T14:21:14Z","body":"> Arguably, that may be a problem for more than just formatting. If your work project builds and tests with Go 1.18, you should also use your tools (formatting, static analysis, editors with LSP, etc) with 1.18 as well. Using 1.19 may lead to subtle differences in behavior beyond just formatting.\r\n\r\nYes: as good as Go is with its backward-compatibility guarantees, it'd be better if everything were on the same version. I'll have a look into what I can do.\r\n\r\n> I'll think about making the docs clearer - I'll ping you for a PR review if that's OK.\r\n\r\nBy all means!\r\n\r\n> Perhaps you're right that each gofumpt release should advocate what Go version it mainly targets.\r\n\r\nI think that'd definitely help. An additional possibility would be for `gofumpt` to print a warning if the version used to build it differs from the recommended version. Would you welcome a PR that adds that functionality?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234351893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234395221","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234395221","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1234395221,"node_id":"IC_kwDOCqWoQc5Jk2BV","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T14:54:27Z","updated_at":"2022-09-01T14:54:27Z","body":"I'm not sure about the warning. Without any flags, when running gofumpt on its own codebase today with Go 1.19, it would default to `-lang=1.18`, derived from `go.mod`. Note that it's 1.18 even though I develop and build on Go 1.19, because I only need language features from 1.18 onwards. In other words, 1.18 is the minimum version of Go I support (language-wise), but then I currently target 1.19. And the target constantly moves too; when 1.20 is out, I may start using that, but I might not rush to drop support for 1.18 right away.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234395221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234593055","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234593055","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1234593055,"node_id":"IC_kwDOCqWoQc5JlmUf","user":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T17:45:51Z","updated_at":"2022-09-01T17:52:52Z","body":"Yes, quite right—sorry. It's all a bit tricky! Perhaps the least bad solution would be:\r\n\r\n- for each gofumpt tag, provide a range of supported Go versions (which looks to be the case now);\r\n- for each gofumpt tag, each corresponding supported Go version, and each supported platform, build a corresponding binary with that version of Go and distribute it on GitHub;\r\n- add a bit of documentation in the readme that highlights that the behaviour of gofumpt depends on the version of Go it was built with; and\r\n- add a small clarifying note in the documentation that emphasises that the `lang` option doesn't try to fully \"impersonate\" that version of Go.\r\n\r\nI'll defer to you and your judgement, of course. I'm happy to try and help however I can, whether it's writing documentation, reviewing things, or working on a pipeline.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1234593055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1241238261","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1241238261","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1241238261,"node_id":"IC_kwDOCqWoQc5J-8r1","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-08T21:12:03Z","updated_at":"2022-09-08T21:12:03Z","body":"Your points about the docs are certainly a good idea - happy to review a PR :)\r\n\r\nI'm less convinced that providing so many gofumpt binaries will be a net benefit. My guess is that it would confuse users more than anything. We should recommend using a gofumpt version with one major version of Go, and that's easy enough. If a project absolutely cannot use that Go version just yet, they can either use our prebuilt binary, or they can choose to stay on a slightly older version for a bit.\r\n\r\nI also just realised that having gofumpt's formatting be independent of the Go version isn't such a difficult task. Yes, we would have to keep a vendored copy of `go/printer`, and potentially other packages which affect its behavior like `go/doc/comment`, but we only need to keep one copy as long as `-lang` keeps its current behavior to only affect the use of Go language features.\r\n\r\nPart of me still thinks that's nasty, as it would lead to some downstreams like `gopls` shipping multiple copies of the same packages - often for no benefit at all, if the versions are almost exactly the same.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1241238261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7466743897,"node_id":"REFE_lADOCqWoQc5Q_R2zzwAAAAG9DXhZ","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/7466743897","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6da4e628305e36958fe8c9133bf9eb2552b3869a","commit_url":"https://api.github.com/repos/mvdan/gofumpt/commits/6da4e628305e36958fe8c9133bf9eb2552b3869a","created_at":"2022-09-27T09:41:15Z","performed_via_github_app":null},{"actor":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T18:14:01Z","updated_at":"2022-10-09T18:14:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/248","repository_url":"https://api.github.com/repos/mvdan/gofumpt","labels_url":"https://api.github.com/repos/mvdan/gofumpt/issues/248/labels{/name}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/issues/248/comments","events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/248/events","html_url":"https://github.com/mvdan/gofumpt/pull/248","id":1402354112,"node_id":"PR_kwDOCqWoQc5Ac8_u","number":248,"title":"Extend README in several directions","user":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-10-09T18:14:01Z","updated_at":"2022-10-22T17:54:42Z","closed_at":"2022-10-22T11:51:28Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":178628673,"node_id":"MDEwOlJlcG9zaXRvcnkxNzg2Mjg2NzM=","name":"gofumpt","full_name":"mvdan/gofumpt","private":false,"owner":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mvdan/gofumpt","description":"A stricter gofmt","fork":false,"url":"https://api.github.com/repos/mvdan/gofumpt","forks_url":"https://api.github.com/repos/mvdan/gofumpt/forks","keys_url":"https://api.github.com/repos/mvdan/gofumpt/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mvdan/gofumpt/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mvdan/gofumpt/teams","hooks_url":"https://api.github.com/repos/mvdan/gofumpt/hooks","issue_events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/events{/number}","events_url":"https://api.github.com/repos/mvdan/gofumpt/events","assignees_url":"https://api.github.com/repos/mvdan/gofumpt/assignees{/user}","branches_url":"https://api.github.com/repos/mvdan/gofumpt/branches{/branch}","tags_url":"https://api.github.com/repos/mvdan/gofumpt/tags","blobs_url":"https://api.github.com/repos/mvdan/gofumpt/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mvdan/gofumpt/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mvdan/gofumpt/git/refs{/sha}","trees_url":"https://api.github.com/repos/mvdan/gofumpt/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mvdan/gofumpt/statuses/{sha}","languages_url":"https://api.github.com/repos/mvdan/gofumpt/languages","stargazers_url":"https://api.github.com/repos/mvdan/gofumpt/stargazers","contributors_url":"https://api.github.com/repos/mvdan/gofumpt/contributors","subscribers_url":"https://api.github.com/repos/mvdan/gofumpt/subscribers","subscription_url":"https://api.github.com/repos/mvdan/gofumpt/subscription","commits_url":"https://api.github.com/repos/mvdan/gofumpt/commits{/sha}","git_commits_url":"https://api.github.com/repos/mvdan/gofumpt/git/commits{/sha}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/comments{/number}","issue_comment_url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments{/number}","contents_url":"https://api.github.com/repos/mvdan/gofumpt/contents/{+path}","compare_url":"https://api.github.com/repos/mvdan/gofumpt/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mvdan/gofumpt/merges","archive_url":"https://api.github.com/repos/mvdan/gofumpt/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mvdan/gofumpt/downloads","issues_url":"https://api.github.com/repos/mvdan/gofumpt/issues{/number}","pulls_url":"https://api.github.com/repos/mvdan/gofumpt/pulls{/number}","milestones_url":"https://api.github.com/repos/mvdan/gofumpt/milestones{/number}","notifications_url":"https://api.github.com/repos/mvdan/gofumpt/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mvdan/gofumpt/labels{/name}","releases_url":"https://api.github.com/repos/mvdan/gofumpt/releases{/id}","deployments_url":"https://api.github.com/repos/mvdan/gofumpt/deployments","created_at":"2019-03-31T01:17:51Z","updated_at":"2025-11-10T08:38:29Z","pushed_at":"2025-10-21T22:27:49Z","git_url":"git://github.com/mvdan/gofumpt.git","ssh_url":"git@github.com:mvdan/gofumpt.git","clone_url":"https://github.com/mvdan/gofumpt.git","svn_url":"https://github.com/mvdan/gofumpt","homepage":"https://pkg.go.dev/mvdan.cc/gofumpt","size":580,"stargazers_count":3776,"watchers_count":3776,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":121,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":28,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["format","go","gofmt","goimports","idiomatic","style"],"visibility":"public","forks":121,"open_issues":28,"watchers":3776,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mvdan/gofumpt/pulls/248","html_url":"https://github.com/mvdan/gofumpt/pull/248","diff_url":"https://github.com/mvdan/gofumpt/pull/248.diff","patch_url":"https://github.com/mvdan/gofumpt/pull/248.patch","merged_at":"2022-10-22T11:51:28Z"},"body":"Hello again—sorry about the delay following #244. I've had quite a lot on.\r\n\r\nThis PR contains a few documentation changes; the branch is split into individually examinable commits. The [penultimate commit](https://github.com/mvdan/gofumpt/commit/067cda6980b700840520a50d56832856b65cfe0e) in the branch contains a few references to the sensitivity of gofumpt to the version of Go used to build it. I've also added a TOC and shuffled a few bits and pieces around.\r\n\r\nPlease don't be shy about telling me to change less (or to change more)! This is your repository, after all.\r\n\r\nIf all's well and you like the direction, I'll try to—in a later branch—take a look at adding a bit of usage documentation (e.g. around `-lang`) and extending what appears in the Go reference.","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mvdan/gofumpt/issues/248/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1272600259","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1272600259","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1272600259,"node_id":"IC_kwDOCqWoQc5L2lbD","user":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T18:19:34Z","updated_at":"2022-10-09T18:19:34Z","body":"> I'm less convinced that providing so many gofumpt binaries will be a net benefit. My guess is that it would confuse users more than anything. We should recommend using a gofumpt version with one major version of Go, and that's easy enough. If a project absolutely cannot use that Go version just yet, they can either use our prebuilt binary, or they can choose to stay on a slightly older version for a bit.\r\n\r\nI think you're right, having reflected on it; I think providing a single simple recommendation makes the most sense. Opinionated tools are, after all, opinionated. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1272600259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adamroyjones","id":10088591,"node_id":"MDQ6VXNlcjEwMDg4NTkx","avatar_url":"https://avatars.githubusercontent.com/u/10088591?v=4","gravatar_id":"","url":"https://api.github.com/users/adamroyjones","html_url":"https://github.com/adamroyjones","followers_url":"https://api.github.com/users/adamroyjones/followers","following_url":"https://api.github.com/users/adamroyjones/following{/other_user}","gists_url":"https://api.github.com/users/adamroyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/adamroyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamroyjones/subscriptions","organizations_url":"https://api.github.com/users/adamroyjones/orgs","repos_url":"https://api.github.com/users/adamroyjones/repos","events_url":"https://api.github.com/users/adamroyjones/events{/privacy}","received_events_url":"https://api.github.com/users/adamroyjones/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1281246025","html_url":"https://github.com/mvdan/gofumpt/issues/244#issuecomment-1281246025","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/244","id":1281246025,"node_id":"IC_kwDOCqWoQc5MXkNJ","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T17:53:23Z","updated_at":"2022-10-17T17:53:23Z","body":"I think I do want to go in the direction of gofumpt versioning its use of go/printer. It will make using it as a library slightly more bloated, but so be it. If users can't trust on a pinned gofumpt version to behave consistently, then the tool isn't particularly useful. gofmt does not have this problem as it ships with Go itself.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1281246025/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"morremeyer","id":7683567,"node_id":"MDQ6VXNlcjc2ODM1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/7683567?v=4","gravatar_id":"","url":"https://api.github.com/users/morremeyer","html_url":"https://github.com/morremeyer","followers_url":"https://api.github.com/users/morremeyer/followers","following_url":"https://api.github.com/users/morremeyer/following{/other_user}","gists_url":"https://api.github.com/users/morremeyer/gists{/gist_id}","starred_url":"https://api.github.com/users/morremeyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morremeyer/subscriptions","organizations_url":"https://api.github.com/users/morremeyer/orgs","repos_url":"https://api.github.com/users/morremeyer/repos","events_url":"https://api.github.com/users/morremeyer/events{/privacy}","received_events_url":"https://api.github.com/users/morremeyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-19T16:27:03Z","updated_at":"2022-12-19T16:27:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/254","repository_url":"https://api.github.com/repos/mvdan/gofumpt","labels_url":"https://api.github.com/repos/mvdan/gofumpt/issues/254/labels{/name}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/issues/254/comments","events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/254/events","html_url":"https://github.com/mvdan/gofumpt/issues/254","id":1503231129,"node_id":"I_kwDOCqWoQc5ZmXyZ","number":254,"title":"gofumpt re-formats tabs to spaces (was: New release built with go 1.19?)","user":{"login":"morremeyer","id":7683567,"node_id":"MDQ6VXNlcjc2ODM1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/7683567?v=4","gravatar_id":"","url":"https://api.github.com/users/morremeyer","html_url":"https://github.com/morremeyer","followers_url":"https://api.github.com/users/morremeyer/followers","following_url":"https://api.github.com/users/morremeyer/following{/other_user}","gists_url":"https://api.github.com/users/morremeyer/gists{/gist_id}","starred_url":"https://api.github.com/users/morremeyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morremeyer/subscriptions","organizations_url":"https://api.github.com/users/morremeyer/orgs","repos_url":"https://api.github.com/users/morremeyer/repos","events_url":"https://api.github.com/users/morremeyer/events{/privacy}","received_events_url":"https://api.github.com/users/morremeyer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-12-19T16:27:03Z","updated_at":"2022-12-20T11:47:41Z","closed_at":"2022-12-20T11:28:30Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":178628673,"node_id":"MDEwOlJlcG9zaXRvcnkxNzg2Mjg2NzM=","name":"gofumpt","full_name":"mvdan/gofumpt","private":false,"owner":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mvdan/gofumpt","description":"A stricter gofmt","fork":false,"url":"https://api.github.com/repos/mvdan/gofumpt","forks_url":"https://api.github.com/repos/mvdan/gofumpt/forks","keys_url":"https://api.github.com/repos/mvdan/gofumpt/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mvdan/gofumpt/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mvdan/gofumpt/teams","hooks_url":"https://api.github.com/repos/mvdan/gofumpt/hooks","issue_events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/events{/number}","events_url":"https://api.github.com/repos/mvdan/gofumpt/events","assignees_url":"https://api.github.com/repos/mvdan/gofumpt/assignees{/user}","branches_url":"https://api.github.com/repos/mvdan/gofumpt/branches{/branch}","tags_url":"https://api.github.com/repos/mvdan/gofumpt/tags","blobs_url":"https://api.github.com/repos/mvdan/gofumpt/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mvdan/gofumpt/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mvdan/gofumpt/git/refs{/sha}","trees_url":"https://api.github.com/repos/mvdan/gofumpt/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mvdan/gofumpt/statuses/{sha}","languages_url":"https://api.github.com/repos/mvdan/gofumpt/languages","stargazers_url":"https://api.github.com/repos/mvdan/gofumpt/stargazers","contributors_url":"https://api.github.com/repos/mvdan/gofumpt/contributors","subscribers_url":"https://api.github.com/repos/mvdan/gofumpt/subscribers","subscription_url":"https://api.github.com/repos/mvdan/gofumpt/subscription","commits_url":"https://api.github.com/repos/mvdan/gofumpt/commits{/sha}","git_commits_url":"https://api.github.com/repos/mvdan/gofumpt/git/commits{/sha}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/comments{/number}","issue_comment_url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments{/number}","contents_url":"https://api.github.com/repos/mvdan/gofumpt/contents/{+path}","compare_url":"https://api.github.com/repos/mvdan/gofumpt/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mvdan/gofumpt/merges","archive_url":"https://api.github.com/repos/mvdan/gofumpt/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mvdan/gofumpt/downloads","issues_url":"https://api.github.com/repos/mvdan/gofumpt/issues{/number}","pulls_url":"https://api.github.com/repos/mvdan/gofumpt/pulls{/number}","milestones_url":"https://api.github.com/repos/mvdan/gofumpt/milestones{/number}","notifications_url":"https://api.github.com/repos/mvdan/gofumpt/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mvdan/gofumpt/labels{/name}","releases_url":"https://api.github.com/repos/mvdan/gofumpt/releases{/id}","deployments_url":"https://api.github.com/repos/mvdan/gofumpt/deployments","created_at":"2019-03-31T01:17:51Z","updated_at":"2025-11-10T08:38:29Z","pushed_at":"2025-10-21T22:27:49Z","git_url":"git://github.com/mvdan/gofumpt.git","ssh_url":"git@github.com:mvdan/gofumpt.git","clone_url":"https://github.com/mvdan/gofumpt.git","svn_url":"https://github.com/mvdan/gofumpt","homepage":"https://pkg.go.dev/mvdan.cc/gofumpt","size":580,"stargazers_count":3776,"watchers_count":3776,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":121,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":28,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["format","go","gofmt","goimports","idiomatic","style"],"visibility":"public","forks":121,"open_issues":28,"watchers":3776,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I propose to make a new release built with go 1.19.\r\n\r\ngo 1.19 improved support for documentation comments a lot, see https://tip.golang.org/doc/go1.19#go-doc.\r\nOther tools, like swagger, have started to adopt this.\r\n\r\nThe behaviour of gofumpt depends on the go version it is built with (due to the use of `go/printer` from go - see https://github.com/mvdan/gofumpt/issues/244#issuecomment-1234222560 if you want to learn more.\r\n\r\ngofumpt is starting to become incompatible with documentation comments using those new features as it formats them in a way that breaks the use of those new features.\r\n\r\nI'll make a PR to bump the version in the next few days.","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/254/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mvdan/gofumpt/issues/254/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":8134024888,"node_id":"REFE_lADOCqWoQc5Q_R2zzwAAAAHk0164","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/8134024888","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4ab9b60eefcc69ca6ee0e4cfe10ccaa38429877e","commit_url":"https://api.github.com/repos/mvdan/gofumpt/commits/4ab9b60eefcc69ca6ee0e4cfe10ccaa38429877e","created_at":"2023-01-01T12:58:26Z","performed_via_github_app":null},{"actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-01T12:59:17Z","updated_at":"2023-01-01T12:59:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/255","repository_url":"https://api.github.com/repos/mvdan/gofumpt","labels_url":"https://api.github.com/repos/mvdan/gofumpt/issues/255/labels{/name}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/issues/255/comments","events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/255/events","html_url":"https://github.com/mvdan/gofumpt/pull/255","id":1515548003,"node_id":"PR_kwDOCqWoQc5GcXzQ","number":255,"title":"update deps, vendor go/printer from Go 1.19","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-01T12:59:17Z","updated_at":"2023-01-17T10:17:55Z","closed_at":"2023-01-07T13:09:54Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":178628673,"node_id":"MDEwOlJlcG9zaXRvcnkxNzg2Mjg2NzM=","name":"gofumpt","full_name":"mvdan/gofumpt","private":false,"owner":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mvdan/gofumpt","description":"A stricter gofmt","fork":false,"url":"https://api.github.com/repos/mvdan/gofumpt","forks_url":"https://api.github.com/repos/mvdan/gofumpt/forks","keys_url":"https://api.github.com/repos/mvdan/gofumpt/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mvdan/gofumpt/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mvdan/gofumpt/teams","hooks_url":"https://api.github.com/repos/mvdan/gofumpt/hooks","issue_events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/events{/number}","events_url":"https://api.github.com/repos/mvdan/gofumpt/events","assignees_url":"https://api.github.com/repos/mvdan/gofumpt/assignees{/user}","branches_url":"https://api.github.com/repos/mvdan/gofumpt/branches{/branch}","tags_url":"https://api.github.com/repos/mvdan/gofumpt/tags","blobs_url":"https://api.github.com/repos/mvdan/gofumpt/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mvdan/gofumpt/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mvdan/gofumpt/git/refs{/sha}","trees_url":"https://api.github.com/repos/mvdan/gofumpt/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mvdan/gofumpt/statuses/{sha}","languages_url":"https://api.github.com/repos/mvdan/gofumpt/languages","stargazers_url":"https://api.github.com/repos/mvdan/gofumpt/stargazers","contributors_url":"https://api.github.com/repos/mvdan/gofumpt/contributors","subscribers_url":"https://api.github.com/repos/mvdan/gofumpt/subscribers","subscription_url":"https://api.github.com/repos/mvdan/gofumpt/subscription","commits_url":"https://api.github.com/repos/mvdan/gofumpt/commits{/sha}","git_commits_url":"https://api.github.com/repos/mvdan/gofumpt/git/commits{/sha}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/comments{/number}","issue_comment_url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments{/number}","contents_url":"https://api.github.com/repos/mvdan/gofumpt/contents/{+path}","compare_url":"https://api.github.com/repos/mvdan/gofumpt/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mvdan/gofumpt/merges","archive_url":"https://api.github.com/repos/mvdan/gofumpt/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mvdan/gofumpt/downloads","issues_url":"https://api.github.com/repos/mvdan/gofumpt/issues{/number}","pulls_url":"https://api.github.com/repos/mvdan/gofumpt/pulls{/number}","milestones_url":"https://api.github.com/repos/mvdan/gofumpt/milestones{/number}","notifications_url":"https://api.github.com/repos/mvdan/gofumpt/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mvdan/gofumpt/labels{/name}","releases_url":"https://api.github.com/repos/mvdan/gofumpt/releases{/id}","deployments_url":"https://api.github.com/repos/mvdan/gofumpt/deployments","created_at":"2019-03-31T01:17:51Z","updated_at":"2025-11-10T08:38:29Z","pushed_at":"2025-10-21T22:27:49Z","git_url":"git://github.com/mvdan/gofumpt.git","ssh_url":"git@github.com:mvdan/gofumpt.git","clone_url":"https://github.com/mvdan/gofumpt.git","svn_url":"https://github.com/mvdan/gofumpt","homepage":"https://pkg.go.dev/mvdan.cc/gofumpt","size":580,"stargazers_count":3776,"watchers_count":3776,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":121,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":28,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["format","go","gofmt","goimports","idiomatic","style"],"visibility":"public","forks":121,"open_issues":28,"watchers":3776,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mvdan/gofumpt/pulls/255","html_url":"https://github.com/mvdan/gofumpt/pull/255","diff_url":"https://github.com/mvdan/gofumpt/pull/255.diff","patch_url":"https://github.com/mvdan/gofumpt/pull/255.patch","merged_at":"2023-01-07T13:09:54Z"},"body":"(see commit messages - please do not squash)\r\n\r\nFixes #244.","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mvdan/gofumpt/issues/255/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":8174662686,"node_id":"CE_lADOCqWoQc5Q_R2zzwAAAAHnP3Qe","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/8174662686","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-01-07T13:09:55Z","state_reason":null,"performed_via_github_app":null},{"id":8174662694,"node_id":"REFE_lADOCqWoQc5Q_R2zzwAAAAHnP3Qm","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/8174662694","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4d6fd1142443360c857298548164d21b857e040a","commit_url":"https://api.github.com/repos/mvdan/gofumpt/commits/4d6fd1142443360c857298548164d21b857e040a","created_at":"2023-01-07T13:09:55Z","performed_via_github_app":null}]