[{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748316868","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1748316868","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1748316868,"node_id":"IC_kwDOCqWoQc5oNTLE","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T07:56:45Z","updated_at":"2023-10-05T07:56:45Z","body":"\"clothing\" returns is such a neat little name for this rewrite :)\r\n\r\nI'm fully behind your rationale. I avoid naked returns practically everywhere.\r\n\r\nI'm not sure this belongs in a _formatter_, though, even though it's meant to be more aggressive and strict than gofmt. You could squint a bit and say that such a rewrite would increase consistency, but the rewrite itself adds new identifiers to the syntax tree, which is not something that gofumpt has ever done before.\r\n\r\nAnother way to look at this is that such a rewrite is only safe to do with type information. gofumpt works off of the syntax tree alone, so it would have to start keeping track of what function body it's currently in, whether it's got any named result parameters, and what their names are. Not terribly expensive to do this, but it would be the first instance where we'd need to make gofumpt aware of types, further indicating it's not a formatting concept.\r\n\r\nAll that said, if this were added in another tool, I'd use it. _Which tool_ that would be is a good question, and I'm not sure. If that's how you ended up suggesting it here, I completely understand.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748316868/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748365757","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1748365757","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1748365757,"node_id":"IC_kwDOCqWoQc5oNfG9","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T08:27:08Z","updated_at":"2023-10-05T08:27:08Z","body":"Thanks @mvdan. I appreciate your arguments against including this in this tool. They're in line with some of my skepticism about including it here as well. Let me offer a small response, and some additional thoughts:\r\n\r\n- From a _useability_ standpoint, I think most would consider naked-vs-clothed returns to be a formatting issue (or a \"style\" issue, which is often considered synonymous, IME). I've never seen a code review discussion discussing this in terms of the AST or type information etc. While these are important implementation details, I'm not sure if they enter into the minds of the users of such tools.\r\n- Indeed, what other tool would this belong in?  It wouldn't be hard to create a new, stand-alone tool.  But it _would_ be hard to get meaningful adoption of such another tool.\r\n- Selfish motivation: Now that Go 2 is [\"off the table\"](https://go.dev/blog/compat), my dreams of a Go 2 without naked returns have been dashed. The next best thing I can imagine is a world in which `gofmt` itself employs the proposed rule.  I figured the best way to explore that possibility would be by starting here. :wink: \r\n\r\nProbably the next best option for another tool would be a `golangci-lint` linter that not only flags, but rewrites naked returns. This would be better than another stand-alone tool, for adoption, but does pose a number of additional challenges. In particular, it's often problematic to enable rewriting rules in golangci-lint for various reasons. Most important, it's currently not possible to enable rewriting on a per-linter basis, and some rewrite rules aren't always safe, so it's dangerous to enable rewriting across all linters (this is why I've virtually never used golangci-lint's rewriting capabilities).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748365757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10560092529,"node_id":"MEE_lADOCqWoQc5y5DlQzwAAAAJ1bjlx","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/10560092529","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-05T08:27:08Z","performed_via_github_app":null},{"id":10560092540,"node_id":"SE_lADOCqWoQc5y5DlQzwAAAAJ1bjl8","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/10560092540","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-05T08:27:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748406526","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1748406526","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1748406526,"node_id":"IC_kwDOCqWoQc5oNpD-","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T08:51:07Z","updated_at":"2023-10-05T08:51:07Z","body":"I think you're right that most people would see this as a style issue, and the line between formatting and styling is a fuzzy one.\r\n\r\nI also agree that golangci-lint wouldn't be a good home for such a rewriter. Personally I'm not a fan of that tool, so I'd avoid using the rewriter even if it did exist there.\r\n\r\nI'm open to accepting a contribution for this. Would you be able to do a brief study on how prevalent naked returns are across popular Go codebases? My personal impression is that they are very rare, so adding this to gofumpt would not be controversial. But I have no idea if other codebases use it often or perhaps even consistently. It would be particularly interesting to see if any Go repos use gofumpt _and_ use naked returns with some frequency.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748406526/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748410037","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1748410037","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1748410037,"node_id":"IC_kwDOCqWoQc5oNp61","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T08:53:13Z","updated_at":"2023-10-05T08:53:13Z","body":"One option we didn't talk about is an analyzer (https://pkg.go.dev/golang.org/x/tools/go/analysis#hdr-Analyzer) which could then be added to gopls or other \"meta linters\" easily. However, the bar for adding these to gopls is somewhat high, since they need to be bundled at compile time. So far I think they've only added staticcheck and gofumpt, and gofumpt isn't even an analyzer (yet).","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748410037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748439855","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1748439855","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1748439855,"node_id":"IC_kwDOCqWoQc5oNxMv","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T09:06:09Z","updated_at":"2023-10-05T09:06:09Z","body":"`golangci-lint` also uses the analyzer interface, so creating a linter for that project would kill that second bird with the same stone.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1748439855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1749181462","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1749181462","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1749181462,"node_id":"IC_kwDOCqWoQc5oQmQW","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T15:53:12Z","updated_at":"2023-10-05T16:21:36Z","body":"Here are some very high-level, preliminary results from my investigation. I've counted total number of clothed and naked returns, as well as the number of functions that mix naked and non-naked returns. The discrepancy between total and clothed+naked represent returns in functions that have no return values. I've also excluded generated code where it's easy to identify, and the `testdata` and `vendor` directories.\r\n\r\nI've compared three code corpora:\r\n\r\n1. The Go standard library (1.21.0)\r\n2. The repos from the top 100 modules listed at [grank.io](https://www.grank.io/)\r\n3. The subset of 2 that mention `gofumpt` within the repo, as determined by a simple naÃ¯ve grep\r\n\r\n| Corpus             | Total returns | Clothed | Naked          | Mixed funcs |\r\n|--------------------|---------------|---------|----------------|-------------|\r\n| stdlib             | 60337         | 54561   | 1664 (2.76%)   | 283         |\r\n| grank Top 100      | 287574        | 247692  | 32635 (11.35%) | 10382       |\r\n| gofumpt'ed repos   | 39581         | 37706   | 337 (0.85%)    | 56          |\r\n\r\nI used this [very unsophisticated, thrown-together tool](https://github.com/flimzy/naked) to do the analysis.\r\n\r\n---\r\n\r\nUpdate: The majority of the naked returns in the grank list come from a single repo: https://github.com/tencentcloud/tencentcloud-sdk-go\r\n\r\nIf I pull that one out, the results look like:\r\n\r\n| Corpus             | Total returns | Clothed | Naked          | Mixed funcs |\r\n|--------------------|---------------|---------|----------------|-------------|\r\n| stdlib             | 60337         | 54561   | 1664 (2.76%)   | 283         |\r\n| grank Top 100      | 175542        | 166514  | 1889 (1.08%)   | 10382       |\r\n| gofumpt'ed repos   | 39581         | 37706   | 337 (0.85%)    | 56          |\r\n| tencentcloud-sdk-go | 112032       | 81178   | 30746 (27.44%) | 10061       |","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1749181462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1750372267","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1750372267","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1750372267,"node_id":"IC_kwDOCqWoQc5oVI-r","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-06T10:29:41Z","updated_at":"2023-10-06T10:29:41Z","body":"> I used this [very unsophisticated, thrown-together tool](https://github.com/flimzy/naked) to do the analysis.\r\n\r\nDid you mean to make that open source, or is the link perhaps incorrect?\r\n\r\nIgnoring that SDK module seems fine; the examples in the README don't even follow gofmt :) Though note that grank appears to heavily skew towards libraries. The top ten are all libraries, and out of them six are primarily for testing, for example. I would personally think that large non-library projects are significantly more relevant than testing libraries. For example, here's a rather simple ranking based on stars and forks on github: https://github.com/mvdan/corpus/blob/master/top-100.tsv\r\n\r\n~1% across popular repos and ~0.8% across those which are aware of gofumpt sounds like what I would expect, and that doesn't worry me in terms of giving this a try. ~2.7% in std is definitely more worrying, though. I think we'd have to implement a first version of this, run it across some good codebases like std, and see whether the result looks better or not. If we're not sure, then we shouldn't release it.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1750372267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1750818740","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1750818740","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1750818740,"node_id":"IC_kwDOCqWoQc5oW1-0","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-06T14:54:27Z","updated_at":"2023-10-06T14:54:27Z","body":"> Did you mean to make that open source, or is the link perhaps incorrect?\r\n\r\nI did. It's public now.\r\n\r\n> here's a rather simple ranking based on stars and forks on github\r\n\r\nI'll follow up with an analysis of some of these.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1750818740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1751504465","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1751504465","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1751504465,"node_id":"IC_kwDOCqWoQc5oZdZR","user":{"login":"philoserf","id":1007647,"node_id":"MDQ6VXNlcjEwMDc2NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1007647?v=4","gravatar_id":"","url":"https://api.github.com/users/philoserf","html_url":"https://github.com/philoserf","followers_url":"https://api.github.com/users/philoserf/followers","following_url":"https://api.github.com/users/philoserf/following{/other_user}","gists_url":"https://api.github.com/users/philoserf/gists{/gist_id}","starred_url":"https://api.github.com/users/philoserf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philoserf/subscriptions","organizations_url":"https://api.github.com/users/philoserf/orgs","repos_url":"https://api.github.com/users/philoserf/repos","events_url":"https://api.github.com/users/philoserf/events{/privacy}","received_events_url":"https://api.github.com/users/philoserf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-06T23:41:55Z","updated_at":"2023-10-06T23:41:55Z","body":"related items:\r\n- https://github.com/alexkohler/nakedret\r\n- https://github.com/gavv/returnstyles","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1751504465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"philoserf","id":1007647,"node_id":"MDQ6VXNlcjEwMDc2NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1007647?v=4","gravatar_id":"","url":"https://api.github.com/users/philoserf","html_url":"https://github.com/philoserf","followers_url":"https://api.github.com/users/philoserf/followers","following_url":"https://api.github.com/users/philoserf/following{/other_user}","gists_url":"https://api.github.com/users/philoserf/gists{/gist_id}","starred_url":"https://api.github.com/users/philoserf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philoserf/subscriptions","organizations_url":"https://api.github.com/users/philoserf/orgs","repos_url":"https://api.github.com/users/philoserf/repos","events_url":"https://api.github.com/users/philoserf/events{/privacy}","received_events_url":"https://api.github.com/users/philoserf/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1772405058","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-1772405058","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":1772405058,"node_id":"IC_kwDOCqWoQc5ppMFC","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-20T09:37:29Z","updated_at":"2023-10-20T09:37:29Z","body":"Took me a while to get back to this, but I've now run the naked return analysis on the collection of repos at https://github.com/mvdan/corpus/blob/master/top-100.tsv:\r\n\r\n\r\n\r\nCorpus | Total returns | Clothed | Naked | Mixed funcs\r\n-- | -- | -- | -- | --\r\ntop-100 | 1264051 | 1184829 | 33330 (2.64%) | 3501\r\n\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1772405058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-20T12:06:15Z","updated_at":"2023-10-20T12:06:15Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/287","repository_url":"https://api.github.com/repos/mvdan/gofumpt","labels_url":"https://api.github.com/repos/mvdan/gofumpt/issues/287/labels{/name}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/issues/287/comments","events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/287/events","html_url":"https://github.com/mvdan/gofumpt/pull/287","id":1954149419,"node_id":"PR_kwDOCqWoQc5dX_4s","number":287,"title":"Clothe returns","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2023-10-20T12:06:14Z","updated_at":"2025-08-02T02:08:13Z","closed_at":"2025-04-21T18:43:47Z","author_association":"NONE","active_lock_reason":null,"draft":false,"repository":{"id":178628673,"node_id":"MDEwOlJlcG9zaXRvcnkxNzg2Mjg2NzM=","name":"gofumpt","full_name":"mvdan/gofumpt","private":false,"owner":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mvdan/gofumpt","description":"A stricter gofmt","fork":false,"url":"https://api.github.com/repos/mvdan/gofumpt","forks_url":"https://api.github.com/repos/mvdan/gofumpt/forks","keys_url":"https://api.github.com/repos/mvdan/gofumpt/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mvdan/gofumpt/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mvdan/gofumpt/teams","hooks_url":"https://api.github.com/repos/mvdan/gofumpt/hooks","issue_events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/events{/number}","events_url":"https://api.github.com/repos/mvdan/gofumpt/events","assignees_url":"https://api.github.com/repos/mvdan/gofumpt/assignees{/user}","branches_url":"https://api.github.com/repos/mvdan/gofumpt/branches{/branch}","tags_url":"https://api.github.com/repos/mvdan/gofumpt/tags","blobs_url":"https://api.github.com/repos/mvdan/gofumpt/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mvdan/gofumpt/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mvdan/gofumpt/git/refs{/sha}","trees_url":"https://api.github.com/repos/mvdan/gofumpt/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mvdan/gofumpt/statuses/{sha}","languages_url":"https://api.github.com/repos/mvdan/gofumpt/languages","stargazers_url":"https://api.github.com/repos/mvdan/gofumpt/stargazers","contributors_url":"https://api.github.com/repos/mvdan/gofumpt/contributors","subscribers_url":"https://api.github.com/repos/mvdan/gofumpt/subscribers","subscription_url":"https://api.github.com/repos/mvdan/gofumpt/subscription","commits_url":"https://api.github.com/repos/mvdan/gofumpt/commits{/sha}","git_commits_url":"https://api.github.com/repos/mvdan/gofumpt/git/commits{/sha}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/comments{/number}","issue_comment_url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments{/number}","contents_url":"https://api.github.com/repos/mvdan/gofumpt/contents/{+path}","compare_url":"https://api.github.com/repos/mvdan/gofumpt/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mvdan/gofumpt/merges","archive_url":"https://api.github.com/repos/mvdan/gofumpt/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mvdan/gofumpt/downloads","issues_url":"https://api.github.com/repos/mvdan/gofumpt/issues{/number}","pulls_url":"https://api.github.com/repos/mvdan/gofumpt/pulls{/number}","milestones_url":"https://api.github.com/repos/mvdan/gofumpt/milestones{/number}","notifications_url":"https://api.github.com/repos/mvdan/gofumpt/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mvdan/gofumpt/labels{/name}","releases_url":"https://api.github.com/repos/mvdan/gofumpt/releases{/id}","deployments_url":"https://api.github.com/repos/mvdan/gofumpt/deployments","created_at":"2019-03-31T01:17:51Z","updated_at":"2025-11-10T08:38:29Z","pushed_at":"2025-10-21T22:27:49Z","git_url":"git://github.com/mvdan/gofumpt.git","ssh_url":"git@github.com:mvdan/gofumpt.git","clone_url":"https://github.com/mvdan/gofumpt.git","svn_url":"https://github.com/mvdan/gofumpt","homepage":"https://pkg.go.dev/mvdan.cc/gofumpt","size":580,"stargazers_count":3776,"watchers_count":3776,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":121,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":28,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["format","go","gofmt","goimports","idiomatic","style"],"visibility":"public","forks":121,"open_issues":28,"watchers":3776,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mvdan/gofumpt/pulls/287","html_url":"https://github.com/mvdan/gofumpt/pull/287","diff_url":"https://github.com/mvdan/gofumpt/pull/287.diff","patch_url":"https://github.com/mvdan/gofumpt/pull/287.patch","merged_at":"2025-04-21T18:43:47Z"},"body":"Fixes #285\r\n\r\n<hr>\r\n\r\nAt present, this transformation ignores naked returns in functions with blank-named return values (i.e. `func() (_ int, err error)`) because rewriting them requires a literal zero value, which seemed unnecessary to evaluate the usefulness of this rule. It can be updated if we decide to move forward with this.\r\n\r\nThere's probably also room to improve the algorithm used to determine the nearest function parent to a given return statement. I didn't see any prior art within this project to copy, so I chose an easy option to implement, which I expect is enough to evaluate the usefulness. And we can optimize if deemed necessary.","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/287/reactions","total_count":4,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mvdan/gofumpt/issues/287/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":17341502957,"node_id":"REFE_lADOCqWoQc5y5DlQzwAAAAQJolXt","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/17341502957","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a27cc412fdbb861145863a323090a98f8729613e","commit_url":"https://api.github.com/repos/flimzy/gofumpt/commits/a27cc412fdbb861145863a323090a98f8729613e","created_at":"2025-04-21T17:52:09Z","performed_via_github_app":null},{"id":17342085917,"node_id":"CE_lADOCqWoQc5y5DlQzwAAAAQJqzsd","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/17342085917","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-04-21T18:43:48Z","state_reason":null,"performed_via_github_app":null},{"id":17342085939,"node_id":"REFE_lADOCqWoQc5y5DlQzwAAAAQJqzsz","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/17342085939","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"72ae882b16759122e10c954ce3ebb807b6d7365e","commit_url":"https://api.github.com/repos/mvdan/gofumpt/commits/72ae882b16759122e10c954ce3ebb807b6d7365e","created_at":"2025-04-21T18:43:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3286105881","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-3286105881","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":3286105881,"node_id":"IC_kwDOCqWoQc7D3f8Z","user":{"login":"TheCoreMan","id":6576891,"node_id":"MDQ6VXNlcjY1NzY4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6576891?v=4","gravatar_id":"","url":"https://api.github.com/users/TheCoreMan","html_url":"https://github.com/TheCoreMan","followers_url":"https://api.github.com/users/TheCoreMan/followers","following_url":"https://api.github.com/users/TheCoreMan/following{/other_user}","gists_url":"https://api.github.com/users/TheCoreMan/gists{/gist_id}","starred_url":"https://api.github.com/users/TheCoreMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheCoreMan/subscriptions","organizations_url":"https://api.github.com/users/TheCoreMan/orgs","repos_url":"https://api.github.com/users/TheCoreMan/repos","events_url":"https://api.github.com/users/TheCoreMan/events{/privacy}","received_events_url":"https://api.github.com/users/TheCoreMan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-12T17:02:08Z","updated_at":"2025-09-12T17:02:08Z","body":"Yay! We mentioned this proposal on today's episode of Cup o Go :) ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3286105881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TheCoreMan","id":6576891,"node_id":"MDQ6VXNlcjY1NzY4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6576891?v=4","gravatar_id":"","url":"https://api.github.com/users/TheCoreMan","html_url":"https://github.com/TheCoreMan","followers_url":"https://api.github.com/users/TheCoreMan/followers","following_url":"https://api.github.com/users/TheCoreMan/following{/other_user}","gists_url":"https://api.github.com/users/TheCoreMan/gists{/gist_id}","starred_url":"https://api.github.com/users/TheCoreMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheCoreMan/subscriptions","organizations_url":"https://api.github.com/users/TheCoreMan/orgs","repos_url":"https://api.github.com/users/TheCoreMan/repos","events_url":"https://api.github.com/users/TheCoreMan/events{/privacy}","received_events_url":"https://api.github.com/users/TheCoreMan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19841243110,"node_id":"REFE_lADOCqWoQc5y5DlQzwAAAASeoVfm","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/19841243110","actor":{"login":"kyu08","id":49891479,"node_id":"MDQ6VXNlcjQ5ODkxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/49891479?v=4","gravatar_id":"","url":"https://api.github.com/users/kyu08","html_url":"https://github.com/kyu08","followers_url":"https://api.github.com/users/kyu08/followers","following_url":"https://api.github.com/users/kyu08/following{/other_user}","gists_url":"https://api.github.com/users/kyu08/gists{/gist_id}","starred_url":"https://api.github.com/users/kyu08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyu08/subscriptions","organizations_url":"https://api.github.com/users/kyu08/orgs","repos_url":"https://api.github.com/users/kyu08/repos","events_url":"https://api.github.com/users/kyu08/events{/privacy}","received_events_url":"https://api.github.com/users/kyu08/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5952c76de40ef7a2ff29c5d7ee24ddf559cf1d8e","commit_url":"https://api.github.com/repos/kyu08/lazygit/commits/5952c76de40ef7a2ff29c5d7ee24ddf559cf1d8e","created_at":"2025-09-22T14:44:53Z","performed_via_github_app":null},{"actor":{"login":"kyu08","id":49891479,"node_id":"MDQ6VXNlcjQ5ODkxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/49891479?v=4","gravatar_id":"","url":"https://api.github.com/users/kyu08","html_url":"https://github.com/kyu08","followers_url":"https://api.github.com/users/kyu08/followers","following_url":"https://api.github.com/users/kyu08/following{/other_user}","gists_url":"https://api.github.com/users/kyu08/gists{/gist_id}","starred_url":"https://api.github.com/users/kyu08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyu08/subscriptions","organizations_url":"https://api.github.com/users/kyu08/orgs","repos_url":"https://api.github.com/users/kyu08/repos","events_url":"https://api.github.com/users/kyu08/events{/privacy}","received_events_url":"https://api.github.com/users/kyu08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-22T14:45:17Z","updated_at":"2025-09-22T14:45:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/kyu08/lazygit/issues/9","repository_url":"https://api.github.com/repos/kyu08/lazygit","labels_url":"https://api.github.com/repos/kyu08/lazygit/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/kyu08/lazygit/issues/9/comments","events_url":"https://api.github.com/repos/kyu08/lazygit/issues/9/events","html_url":"https://github.com/kyu08/lazygit/pull/9","id":3441190096,"node_id":"PR_kwDOKG7qPM6p2vpI","number":9,"title":"Use ignore directive to ignore test files not to be passes to gofumpt","user":{"login":"kyu08","id":49891479,"node_id":"MDQ6VXNlcjQ5ODkxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/49891479?v=4","gravatar_id":"","url":"https://api.github.com/users/kyu08","html_url":"https://github.com/kyu08","followers_url":"https://api.github.com/users/kyu08/followers","following_url":"https://api.github.com/users/kyu08/following{/other_user}","gists_url":"https://api.github.com/users/kyu08/gists{/gist_id}","starred_url":"https://api.github.com/users/kyu08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyu08/subscriptions","organizations_url":"https://api.github.com/users/kyu08/orgs","repos_url":"https://api.github.com/users/kyu08/repos","events_url":"https://api.github.com/users/kyu08/events{/privacy}","received_events_url":"https://api.github.com/users/kyu08/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-09-22T14:08:09Z","updated_at":"2025-10-21T04:00:21Z","closed_at":"2025-10-21T04:00:21Z","author_association":"OWNER","active_lock_reason":null,"draft":true,"repository":{"id":678357564,"node_id":"R_kgDOKG7qPA","name":"lazygit","full_name":"kyu08/lazygit","private":false,"owner":{"login":"kyu08","id":49891479,"node_id":"MDQ6VXNlcjQ5ODkxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/49891479?v=4","gravatar_id":"","url":"https://api.github.com/users/kyu08","html_url":"https://github.com/kyu08","followers_url":"https://api.github.com/users/kyu08/followers","following_url":"https://api.github.com/users/kyu08/following{/other_user}","gists_url":"https://api.github.com/users/kyu08/gists{/gist_id}","starred_url":"https://api.github.com/users/kyu08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyu08/subscriptions","organizations_url":"https://api.github.com/users/kyu08/orgs","repos_url":"https://api.github.com/users/kyu08/repos","events_url":"https://api.github.com/users/kyu08/events{/privacy}","received_events_url":"https://api.github.com/users/kyu08/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/kyu08/lazygit","description":"simple terminal UI for git commands","fork":true,"url":"https://api.github.com/repos/kyu08/lazygit","forks_url":"https://api.github.com/repos/kyu08/lazygit/forks","keys_url":"https://api.github.com/repos/kyu08/lazygit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/kyu08/lazygit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/kyu08/lazygit/teams","hooks_url":"https://api.github.com/repos/kyu08/lazygit/hooks","issue_events_url":"https://api.github.com/repos/kyu08/lazygit/issues/events{/number}","events_url":"https://api.github.com/repos/kyu08/lazygit/events","assignees_url":"https://api.github.com/repos/kyu08/lazygit/assignees{/user}","branches_url":"https://api.github.com/repos/kyu08/lazygit/branches{/branch}","tags_url":"https://api.github.com/repos/kyu08/lazygit/tags","blobs_url":"https://api.github.com/repos/kyu08/lazygit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/kyu08/lazygit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/kyu08/lazygit/git/refs{/sha}","trees_url":"https://api.github.com/repos/kyu08/lazygit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/kyu08/lazygit/statuses/{sha}","languages_url":"https://api.github.com/repos/kyu08/lazygit/languages","stargazers_url":"https://api.github.com/repos/kyu08/lazygit/stargazers","contributors_url":"https://api.github.com/repos/kyu08/lazygit/contributors","subscribers_url":"https://api.github.com/repos/kyu08/lazygit/subscribers","subscription_url":"https://api.github.com/repos/kyu08/lazygit/subscription","commits_url":"https://api.github.com/repos/kyu08/lazygit/commits{/sha}","git_commits_url":"https://api.github.com/repos/kyu08/lazygit/git/commits{/sha}","comments_url":"https://api.github.com/repos/kyu08/lazygit/comments{/number}","issue_comment_url":"https://api.github.com/repos/kyu08/lazygit/issues/comments{/number}","contents_url":"https://api.github.com/repos/kyu08/lazygit/contents/{+path}","compare_url":"https://api.github.com/repos/kyu08/lazygit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/kyu08/lazygit/merges","archive_url":"https://api.github.com/repos/kyu08/lazygit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/kyu08/lazygit/downloads","issues_url":"https://api.github.com/repos/kyu08/lazygit/issues{/number}","pulls_url":"https://api.github.com/repos/kyu08/lazygit/pulls{/number}","milestones_url":"https://api.github.com/repos/kyu08/lazygit/milestones{/number}","notifications_url":"https://api.github.com/repos/kyu08/lazygit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/kyu08/lazygit/labels{/name}","releases_url":"https://api.github.com/repos/kyu08/lazygit/releases{/id}","deployments_url":"https://api.github.com/repos/kyu08/lazygit/deployments","created_at":"2023-08-14T11:16:29Z","updated_at":"2025-11-04T00:22:22Z","pushed_at":"2025-11-04T00:22:15Z","git_url":"git://github.com/kyu08/lazygit.git","ssh_url":"git@github.com:kyu08/lazygit.git","clone_url":"https://github.com/kyu08/lazygit.git","svn_url":"https://github.com/kyu08/lazygit","homepage":"","size":47027,"stargazers_count":0,"watchers_count":0,"language":"Go","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/kyu08/lazygit/pulls/9","html_url":"https://github.com/kyu08/lazygit/pull/9","diff_url":"https://github.com/kyu08/lazygit/pull/9.diff","patch_url":"https://github.com/kyu08/lazygit/pull/9.patch","merged_at":null},"body":"> [!IMPORTANT]\r\n> After merging https://github.com/jesseduffield/lazygit/pull/4844, base branch should be changed to `jesseduffield/lazygit:master`.\r\n\r\n### Overview\r\nI have added 4 changes due to updating gofumpt to remove `git ls-files` workaround.\r\n\r\nPlease take a look at each commit messages for details.\r\n\r\n### Please check if the PR fulfills these requirements\r\n\r\n* [x] Cheatsheets are up-to-date (run `go generate ./...`)\r\n* [x] Code has been formatted (see [here](https://github.com/jesseduffield/lazygit/blob/master/CONTRIBUTING.md#code-formatting))\r\n* [x] Tests have been added/updated (see [here](https://github.com/jesseduffield/lazygit/blob/master/pkg/integration/README.md) for the integration test guide)\r\n* [x] Text is internationalised (see [here](https://github.com/jesseduffield/lazygit/blob/master/CONTRIBUTING.md#internationalisation))\r\n* [x] If a new UserConfig entry was added, make sure it can be hot-reloaded (see [here](https://github.com/jesseduffield/lazygit/blob/master/docs/dev/Codebase_Guide.md#using-userconfig))\r\n* [x] Docs have been updated if necessary\r\n* [x] You've read through your own file changes for silly mistakes etc\r\n\r\n<!--\r\nBe sure to name your PR with an imperative e.g. 'Add worktrees view', and make sure the title\r\nis suitable to be included as a bullet point in release notes (i.e. phrased from a user's point\r\nof view).\r\nsee https://github.com/jesseduffield/lazygit/releases/tag/v0.40.0 for examples\r\n-->","reactions":{"url":"https://api.github.com/repos/kyu08/lazygit/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kyu08/lazygit/issues/9/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":19841364350,"node_id":"REFE_lADOCqWoQc5y5DlQzwAAAASeozF-","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/19841364350","actor":{"login":"kyu08","id":49891479,"node_id":"MDQ6VXNlcjQ5ODkxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/49891479?v=4","gravatar_id":"","url":"https://api.github.com/users/kyu08","html_url":"https://github.com/kyu08","followers_url":"https://api.github.com/users/kyu08/followers","following_url":"https://api.github.com/users/kyu08/following{/other_user}","gists_url":"https://api.github.com/users/kyu08/gists{/gist_id}","starred_url":"https://api.github.com/users/kyu08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyu08/subscriptions","organizations_url":"https://api.github.com/users/kyu08/orgs","repos_url":"https://api.github.com/users/kyu08/repos","events_url":"https://api.github.com/users/kyu08/events{/privacy}","received_events_url":"https://api.github.com/users/kyu08/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f9caa09a0ef5621275dddfbe4f9810996cbeae63","commit_url":"https://api.github.com/repos/kyu08/lazygit/commits/f9caa09a0ef5621275dddfbe4f9810996cbeae63","created_at":"2025-09-22T14:48:24Z","performed_via_github_app":null},{"id":19841388944,"node_id":"REFE_lADOCqWoQc5y5DlQzwAAAASeo5GQ","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/19841388944","actor":{"login":"kyu08","id":49891479,"node_id":"MDQ6VXNlcjQ5ODkxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/49891479?v=4","gravatar_id":"","url":"https://api.github.com/users/kyu08","html_url":"https://github.com/kyu08","followers_url":"https://api.github.com/users/kyu08/followers","following_url":"https://api.github.com/users/kyu08/following{/other_user}","gists_url":"https://api.github.com/users/kyu08/gists{/gist_id}","starred_url":"https://api.github.com/users/kyu08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyu08/subscriptions","organizations_url":"https://api.github.com/users/kyu08/orgs","repos_url":"https://api.github.com/users/kyu08/repos","events_url":"https://api.github.com/users/kyu08/events{/privacy}","received_events_url":"https://api.github.com/users/kyu08/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"98d14871347948d2c6abbe7df9da8728457ffead","commit_url":"https://api.github.com/repos/kyu08/lazygit/commits/98d14871347948d2c6abbe7df9da8728457ffead","created_at":"2025-09-22T14:49:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330194504","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-3330194504","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":3330194504,"node_id":"IC_kwDOCqWoQc7GfrxI","user":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-24T18:36:43Z","updated_at":"2025-09-24T18:36:43Z","body":"IMO in rare cases, naked returns are clearer -- particularly cases where you have many returns. The line immediately before the return sets the one or two relevant fields for the return, and the naked return avoids visual clutter of 6+ arguments.\n\nI recognize this does quickly become an argument of code structure and preferences: you could immediately say \"restructure the code to return fewer arguments\", and again imo, very rarely, returning many arguments is clearer and easier to understand than whatever it could be restructured to be. \n\nI think existence of the linter `nakedret` should've sufficed -- linters are places to enforce preferences. All prior existing formatting rules essentially were about eliminating extra visual noise and enforcing code formatting consistency. This is the first (although, again, since a lot of this is preference, \"first\" can be debated) that adds in a preference that an existing language feature shouldn't be used.\n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330194504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330210156","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-3330210156","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":3330210156,"node_id":"IC_kwDOCqWoQc7Gfvls","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-24T18:42:38Z","updated_at":"2025-09-24T18:42:38Z","body":"@twmb Could you share an example or two where the use of naked returns improves clarity?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330210156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19899732928,"node_id":"MEE_lADOCqWoQc5y5DlQzwAAAASiHdPA","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/19899732928","actor":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-09-24T18:42:39Z","performed_via_github_app":null},{"id":19899732947,"node_id":"SE_lADOCqWoQc5y5DlQzwAAAASiHdPT","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/19899732947","actor":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-09-24T18:42:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330226129","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-3330226129","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":3330226129,"node_id":"IC_kwDOCqWoQc7GfzfR","user":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-24T18:48:10Z","updated_at":"2025-09-24T18:48:10Z","body":"Yes, I should've included this in my original comment; this is the type of diff I'm not a big fan of:\n\n```diff\ndiff --git a/pkg/kgo/broker.go b/pkg/kgo/broker.go\nindex 9453430c..82d68890 100644\n--- a/pkg/kgo/broker.go\n+++ b/pkg/kgo/broker.go\n@@ -1080,7 +1080,7 @@ func (cxn *brokerCxn) writeRequest(ctx context.Context, enqueuedForWritingAt tim\n                        if writeErr != nil {\n                                after.Stop()\n                                writeWait = time.Since(enqueuedForWritingAt)\n-                               return\n+                               return corrID, bytesWritten, writeWait, timeToWrite, readEnqueue, writeErr\n                        }\n                }\n        }\n@@ -1106,14 +1106,14 @@ func (cxn *brokerCxn) writeRequest(ctx context.Context, enqueuedForWritingAt tim\n        }\n\n        if writeErr != nil {\n-               return\n+               return corrID, bytesWritten, writeWait, timeToWrite, readEnqueue, writeErr\n        }\n        corrID = cxn.corrID\n        cxn.corrID++\n        if cxn.corrID < 0 {\n                cxn.corrID = 0\n        }\n-       return\n+       return corrID, bytesWritten, writeWait, timeToWrite, readEnqueue, writeErr\n }\n```\n\nIn each of the before cases, it's obvious when reading & maintaining the code which arguments are relevant in the return. In the first: writeErr _and_ writeWait are set, those are the two important arguments of six. In the second case, only writeErr is relevant. In the final happy case, all arguments have been properly set, and we don't need to repeat all six arguments.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330226129/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330324365","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-3330324365","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":3330324365,"node_id":"IC_kwDOCqWoQc7GgLeN","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-24T19:18:59Z","updated_at":"2025-09-24T19:19:44Z","body":"Thanks for sharing.  I think you're spot on that this is a matter of preference.\n\nThat code would drive me absolutely nuts, and would never pass one of my code reviews.\n\nI would also urge for fewer return values, and IMHO, the naked returns only compound that problem (by masking the core problem of too many returns), rather than improving it.\n\nOf course this isn't the place to debate that style.  As stated when I originally opened the issue, this may be a contentious feature.  If @mvdan decides to revert it, I will fully understand.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330324365/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19900571173,"node_id":"MEE_lADOCqWoQc5y5DlQzwAAAASiKp4l","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/19900571173","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-09-24T19:19:00Z","performed_via_github_app":null},{"id":19900571197,"node_id":"SE_lADOCqWoQc5y5DlQzwAAAASiKp49","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/19900571197","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-09-24T19:19:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330371666","html_url":"https://github.com/mvdan/gofumpt/issues/285#issuecomment-3330371666","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/285","id":3330371666,"node_id":"IC_kwDOCqWoQc7GgXBS","user":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-24T19:31:32Z","updated_at":"2025-09-24T19:31:32Z","body":"The function was originally simpler, but this is a big project to maintain alone for so many years with so many users. There's code people have opinions about, and there's code people use. It's a matter of time, needs, pragmatism, and preference.\n\nSeparately, I don't think I care enough besides commenting above, especially since the reformatting is done automatically. If anything, `nakedret` itself should outright adopt this.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/3330371666/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"twmb","id":1283109,"node_id":"MDQ6VXNlcjEyODMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1283109?v=4","gravatar_id":"","url":"https://api.github.com/users/twmb","html_url":"https://github.com/twmb","followers_url":"https://api.github.com/users/twmb/followers","following_url":"https://api.github.com/users/twmb/following{/other_user}","gists_url":"https://api.github.com/users/twmb/gists{/gist_id}","starred_url":"https://api.github.com/users/twmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twmb/subscriptions","organizations_url":"https://api.github.com/users/twmb/orgs","repos_url":"https://api.github.com/users/twmb/repos","events_url":"https://api.github.com/users/twmb/events{/privacy}","received_events_url":"https://api.github.com/users/twmb/received_events","type":"User","user_view_type":"public","site_admin":false}}]