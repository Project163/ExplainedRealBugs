[{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/773955582","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-773955582","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":773955582,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mzk1NTU4Mg==","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T10:48:07Z","updated_at":"2021-02-05T10:48:07Z","body":"I actually agree that using gofmt/gofumpt in CI/CD is a bit cumbersome, and there have been proposals to make `gofmt -d` return a non-zero exit status if there are differences. See https://github.com/golang/go/issues/24230.\r\n\r\nWe'll already be breaking command-line-usage compatibility with gofmt with https://github.com/mvdan/gofumpt/issues/105, so I think we can consider this feature then.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/773955582/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4443268942,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ0NDMyNjg5NDI=","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/4443268942","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-03-11T09:36:20Z","milestone":{"title":"v0.2.0"},"performed_via_github_app":null},{"id":4774012566,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50NDc3NDAxMjU2Ng==","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/4774012566","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2021-05-20T15:04:43Z","milestone":{"title":"v0.2.0"},"performed_via_github_app":null},{"actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T15:28:34Z","updated_at":"2021-05-20T15:28:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/golang/go/issues/46289","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/46289/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/46289/comments","events_url":"https://api.github.com/repos/golang/go/issues/46289/events","html_url":"https://github.com/golang/go/issues/46289","id":896981170,"node_id":"MDU6SXNzdWU4OTY5ODExNzA=","number":46289,"title":"cmd/gofmt: change -d to exit 1 if diffs exist","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":236419512,"node_id":"MDU6TGFiZWwyMzY0MTk1MTI=","url":"https://api.github.com/repos/golang/go/labels/Proposal","name":"Proposal","color":"ededed","default":false,"description":null},{"id":246350233,"node_id":"MDU6TGFiZWwyNDYzNTAyMzM=","url":"https://api.github.com/repos/golang/go/labels/Proposal-Accepted","name":"Proposal-Accepted","color":"009800","default":false,"description":null},{"id":6153511735,"node_id":"LA_kwDOAWBuf88AAAABbscjNw","url":"https://api.github.com/repos/golang/go/labels/FixPending","name":"FixPending","color":"fbca04","default":false,"description":"Issues that have a fix which has not yet been reviewed or submitted."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/373","html_url":"https://github.com/golang/go/milestone/373","labels_url":"https://api.github.com/repos/golang/go/milestones/373/labels","id":11549327,"node_id":"MI_kwDOAWBuf84AsDqP","number":373,"title":"Go1.26","description":null,"creator":{"login":"dmitshur","id":1924134,"node_id":"MDQ6VXNlcjE5MjQxMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1924134?v=4","gravatar_id":"","url":"https://api.github.com/users/dmitshur","html_url":"https://github.com/dmitshur","followers_url":"https://api.github.com/users/dmitshur/followers","following_url":"https://api.github.com/users/dmitshur/following{/other_user}","gists_url":"https://api.github.com/users/dmitshur/gists{/gist_id}","starred_url":"https://api.github.com/users/dmitshur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmitshur/subscriptions","organizations_url":"https://api.github.com/users/dmitshur/orgs","repos_url":"https://api.github.com/users/dmitshur/repos","events_url":"https://api.github.com/users/dmitshur/events{/privacy}","received_events_url":"https://api.github.com/users/dmitshur/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":295,"closed_issues":162,"state":"open","created_at":"2024-09-06T15:40:21Z","updated_at":"2025-11-10T06:59:34Z","due_on":null,"closed_at":null},"comments":24,"created_at":"2021-05-20T15:28:34Z","updated_at":"2025-10-08T20:57:31Z","closed_at":"2025-10-08T20:57:31Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23096959,"node_id":"MDEwOlJlcG9zaXRvcnkyMzA5Njk1OQ==","name":"go","full_name":"golang/go","private":false,"owner":{"login":"golang","id":4314092,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzMTQwOTI=","avatar_url":"https://avatars.githubusercontent.com/u/4314092?v=4","gravatar_id":"","url":"https://api.github.com/users/golang","html_url":"https://github.com/golang","followers_url":"https://api.github.com/users/golang/followers","following_url":"https://api.github.com/users/golang/following{/other_user}","gists_url":"https://api.github.com/users/golang/gists{/gist_id}","starred_url":"https://api.github.com/users/golang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/golang/subscriptions","organizations_url":"https://api.github.com/users/golang/orgs","repos_url":"https://api.github.com/users/golang/repos","events_url":"https://api.github.com/users/golang/events{/privacy}","received_events_url":"https://api.github.com/users/golang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/golang/go","description":"The Go programming language","fork":false,"url":"https://api.github.com/repos/golang/go","forks_url":"https://api.github.com/repos/golang/go/forks","keys_url":"https://api.github.com/repos/golang/go/keys{/key_id}","collaborators_url":"https://api.github.com/repos/golang/go/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/golang/go/teams","hooks_url":"https://api.github.com/repos/golang/go/hooks","issue_events_url":"https://api.github.com/repos/golang/go/issues/events{/number}","events_url":"https://api.github.com/repos/golang/go/events","assignees_url":"https://api.github.com/repos/golang/go/assignees{/user}","branches_url":"https://api.github.com/repos/golang/go/branches{/branch}","tags_url":"https://api.github.com/repos/golang/go/tags","blobs_url":"https://api.github.com/repos/golang/go/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/golang/go/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/golang/go/git/refs{/sha}","trees_url":"https://api.github.com/repos/golang/go/git/trees{/sha}","statuses_url":"https://api.github.com/repos/golang/go/statuses/{sha}","languages_url":"https://api.github.com/repos/golang/go/languages","stargazers_url":"https://api.github.com/repos/golang/go/stargazers","contributors_url":"https://api.github.com/repos/golang/go/contributors","subscribers_url":"https://api.github.com/repos/golang/go/subscribers","subscription_url":"https://api.github.com/repos/golang/go/subscription","commits_url":"https://api.github.com/repos/golang/go/commits{/sha}","git_commits_url":"https://api.github.com/repos/golang/go/git/commits{/sha}","comments_url":"https://api.github.com/repos/golang/go/comments{/number}","issue_comment_url":"https://api.github.com/repos/golang/go/issues/comments{/number}","contents_url":"https://api.github.com/repos/golang/go/contents/{+path}","compare_url":"https://api.github.com/repos/golang/go/compare/{base}...{head}","merges_url":"https://api.github.com/repos/golang/go/merges","archive_url":"https://api.github.com/repos/golang/go/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/golang/go/downloads","issues_url":"https://api.github.com/repos/golang/go/issues{/number}","pulls_url":"https://api.github.com/repos/golang/go/pulls{/number}","milestones_url":"https://api.github.com/repos/golang/go/milestones{/number}","notifications_url":"https://api.github.com/repos/golang/go/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/golang/go/labels{/name}","releases_url":"https://api.github.com/repos/golang/go/releases{/id}","deployments_url":"https://api.github.com/repos/golang/go/deployments","created_at":"2014-08-19T04:33:40Z","updated_at":"2025-11-10T10:27:16Z","pushed_at":"2025-11-08T12:26:57Z","git_url":"git://github.com/golang/go.git","ssh_url":"git@github.com:golang/go.git","clone_url":"https://github.com/golang/go.git","svn_url":"https://github.com/golang/go","homepage":"https://go.dev","size":416665,"stargazers_count":130774,"watchers_count":130774,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":18451,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":9588,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","language","programming-language"],"visibility":"public","forks":18451,"open_issues":9588,"watchers":130774,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"First, I know that this has been asked many times before (https://github.com/golang/go/issues/24230 https://github.com/golang/go/issues/24427 https://github.com/golang/go/issues/38551), and I was even on the other side of this argument for a long time.\r\n\r\nThe argument usually goes that, if you want to know if any files aren't gofmt-ed, you check that `gofmt -l` is empty, for example:\r\n\r\n```\r\ntest -z $(gofmt -l .)\r\n```\r\n\r\nAnd this works, if one can assume a POSIX-like shell.\r\n\r\nHowever, in light of https://github.com/golang/go/issues/42119, I think we should make \"verify that many files comply with gofmt\" a trivial command, without extra machinery like checking for non-empty output.\r\n\r\nIn that issue, we suggest a number of commands that we'd encourage people to run on CI, from `go test -race ./...` to `go mod verify` and `go vet ./...`. You'll note that none of the commands require being wrapped with shell or extra commands to do their job, with two exceptions:\r\n\r\n* `go mod tidy`, where one needs to check if files like `go.mod` and `go.sum` were modified on disk. https://github.com/golang/go/issues/27005 will fix that.\r\n* `gofmt`, which needs testing for empty output, hence this issue.\r\n\r\nOnce `go mod tidy -check` is implemented, `gofmt` will stand alone in that list as being the only command that most people should run on their CI, but which is non-portable or just not easy to use directly.\r\n\r\n--\r\n\r\nSo, as others have proposed before: I suggest a very simple fix, which is to make `gofmt -d` exit with a status code of 1 if any of the input files have a non-empty diff. Then, CI could simply run `gofmt -d .` and get a good result: CI would fail if any files don't comply, and the diff will show exactly which ones and why.\r\n\r\nIt's also arguably more consistent to behave this way, as the `diff` tool usually behaves this way too. For example, from GNU diffutils 3.7:\r\n\r\n> Exit status is 0 if inputs are the same, 1 if different, 2 if trouble.\r\n\r\nIf we think this change is too invasive, or could break too many users, we could also consider a separate flag like `-exitcode`, simialr to `git diff --exit-code`. It's really not a big deal if the command run on CI gets a bit longer.\r\n\r\nI also don't think a solution should come from `go fmt`. I think `gofmt` is simply superior for use in CI; it allows formatting files which are not part of Go packages, formatting many modules at once, and printing diffs.\r\n\r\nIt's also worth noting I plan to expose this feature in `gofumpt`: https://github.com/mvdan/gofumpt/issues/114\r\n\r\ncc @griesemer \r\ncc @bcmills @jayconrod @stevetraut for \"CI best practices\"\r\ncc @ryanm101 @stevenmatthewt @belm0 as previous posters","reactions":{"url":"https://api.github.com/repos/golang/go/issues/46289/reactions","total_count":25,"+1":22,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/golang/go/issues/46289/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/845222491","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-845222491","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":845222491,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTIyMjQ5MQ==","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T15:29:24Z","updated_at":"2021-05-20T15:29:24Z","body":"> I actually agree that using gofmt/gofumpt in CI/CD is a bit cumbersome, and there have been proposals to make `gofmt -d` return a non-zero exit status if there are differences. See [golang/go#24230](https://github.com/golang/go/issues/24230).\r\n\r\nI ended up opening another upstream issue to make my case for it.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/845222491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/923049833","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-923049833","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":923049833,"node_id":"IC_kwDOCqWoQc43BJ9p","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-20T15:46:44Z","updated_at":"2021-09-20T15:46:44Z","body":"Err, why did I not link it here? It's https://github.com/golang/go/issues/46289 :)","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/923049833/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1073177648","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-1073177648","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":1073177648,"node_id":"IC_kwDOCqWoQc4_92Qw","user":{"login":"Jacalz","id":25466657,"node_id":"MDQ6VXNlcjI1NDY2NjU3","avatar_url":"https://avatars.githubusercontent.com/u/25466657?v=4","gravatar_id":"","url":"https://api.github.com/users/Jacalz","html_url":"https://github.com/Jacalz","followers_url":"https://api.github.com/users/Jacalz/followers","following_url":"https://api.github.com/users/Jacalz/following{/other_user}","gists_url":"https://api.github.com/users/Jacalz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jacalz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jacalz/subscriptions","organizations_url":"https://api.github.com/users/Jacalz/orgs","repos_url":"https://api.github.com/users/Jacalz/repos","events_url":"https://api.github.com/users/Jacalz/events{/privacy}","received_events_url":"https://api.github.com/users/Jacalz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-20T06:24:46Z","updated_at":"2022-03-20T06:24:46Z","body":"I think this would be a very good change. For anyone else that want to use it in their CI, Iâ€™m currently working around it using this instead:\r\n`test -z $(gofumpt -d -e . | tee /dev/stderr) `\r\nI hope it can help someone until this has been fixed :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1073177648/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jacalz","id":25466657,"node_id":"MDQ6VXNlcjI1NDY2NjU3","avatar_url":"https://avatars.githubusercontent.com/u/25466657?v=4","gravatar_id":"","url":"https://api.github.com/users/Jacalz","html_url":"https://github.com/Jacalz","followers_url":"https://api.github.com/users/Jacalz/followers","following_url":"https://api.github.com/users/Jacalz/following{/other_user}","gists_url":"https://api.github.com/users/Jacalz/gists{/gist_id}","starred_url":"https://api.github.com/users/Jacalz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jacalz/subscriptions","organizations_url":"https://api.github.com/users/Jacalz/orgs","repos_url":"https://api.github.com/users/Jacalz/repos","events_url":"https://api.github.com/users/Jacalz/events{/privacy}","received_events_url":"https://api.github.com/users/Jacalz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1316842795","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-1316842795","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":1316842795,"node_id":"IC_kwDOCqWoQc5OfW0r","user":{"login":"NoahHakansson","id":26793631,"node_id":"MDQ6VXNlcjI2NzkzNjMx","avatar_url":"https://avatars.githubusercontent.com/u/26793631?v=4","gravatar_id":"","url":"https://api.github.com/users/NoahHakansson","html_url":"https://github.com/NoahHakansson","followers_url":"https://api.github.com/users/NoahHakansson/followers","following_url":"https://api.github.com/users/NoahHakansson/following{/other_user}","gists_url":"https://api.github.com/users/NoahHakansson/gists{/gist_id}","starred_url":"https://api.github.com/users/NoahHakansson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NoahHakansson/subscriptions","organizations_url":"https://api.github.com/users/NoahHakansson/orgs","repos_url":"https://api.github.com/users/NoahHakansson/repos","events_url":"https://api.github.com/users/NoahHakansson/events{/privacy}","received_events_url":"https://api.github.com/users/NoahHakansson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T11:26:23Z","updated_at":"2022-11-16T11:26:23Z","body":"> I think this would be a very good change. For anyone else that want to use it in their CI, Iâ€™m currently working around it using this instead: `test -z $(gofumpt -d -e . | tee /dev/stderr) ` I hope it can help someone until this has been fixed :)\r\n\r\nTo get rid of the `test: too many arguments` add \"\" around it like: `test -z \"$(gofumpt -d -e . | tee /dev/stderr)\"` instead","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1316842795/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NoahHakansson","id":26793631,"node_id":"MDQ6VXNlcjI2NzkzNjMx","avatar_url":"https://avatars.githubusercontent.com/u/26793631?v=4","gravatar_id":"","url":"https://api.github.com/users/NoahHakansson","html_url":"https://github.com/NoahHakansson","followers_url":"https://api.github.com/users/NoahHakansson/followers","following_url":"https://api.github.com/users/NoahHakansson/following{/other_user}","gists_url":"https://api.github.com/users/NoahHakansson/gists{/gist_id}","starred_url":"https://api.github.com/users/NoahHakansson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NoahHakansson/subscriptions","organizations_url":"https://api.github.com/users/NoahHakansson/orgs","repos_url":"https://api.github.com/users/NoahHakansson/repos","events_url":"https://api.github.com/users/NoahHakansson/events{/privacy}","received_events_url":"https://api.github.com/users/NoahHakansson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1370482346","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-1370482346","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":1370482346,"node_id":"IC_kwDOCqWoQc5Rr-aq","user":{"login":"prologic","id":1290234,"node_id":"MDQ6VXNlcjEyOTAyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1290234?v=4","gravatar_id":"","url":"https://api.github.com/users/prologic","html_url":"https://github.com/prologic","followers_url":"https://api.github.com/users/prologic/followers","following_url":"https://api.github.com/users/prologic/following{/other_user}","gists_url":"https://api.github.com/users/prologic/gists{/gist_id}","starred_url":"https://api.github.com/users/prologic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prologic/subscriptions","organizations_url":"https://api.github.com/users/prologic/orgs","repos_url":"https://api.github.com/users/prologic/repos","events_url":"https://api.github.com/users/prologic/events{/privacy}","received_events_url":"https://api.github.com/users/prologic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T04:43:01Z","updated_at":"2023-01-04T04:43:01Z","body":"Any chance we'll see a flag for enabling \"exit status on differences\"? ðŸ¤”","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1370482346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"prologic","id":1290234,"node_id":"MDQ6VXNlcjEyOTAyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1290234?v=4","gravatar_id":"","url":"https://api.github.com/users/prologic","html_url":"https://github.com/prologic","followers_url":"https://api.github.com/users/prologic/followers","following_url":"https://api.github.com/users/prologic/following{/other_user}","gists_url":"https://api.github.com/users/prologic/gists{/gist_id}","starred_url":"https://api.github.com/users/prologic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prologic/subscriptions","organizations_url":"https://api.github.com/users/prologic/orgs","repos_url":"https://api.github.com/users/prologic/repos","events_url":"https://api.github.com/users/prologic/events{/privacy}","received_events_url":"https://api.github.com/users/prologic/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1372571448","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-1372571448","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":1372571448,"node_id":"IC_kwDOCqWoQc5Rz8c4","user":{"login":"myshkin5","id":6935773,"node_id":"MDQ6VXNlcjY5MzU3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6935773?v=4","gravatar_id":"","url":"https://api.github.com/users/myshkin5","html_url":"https://github.com/myshkin5","followers_url":"https://api.github.com/users/myshkin5/followers","following_url":"https://api.github.com/users/myshkin5/following{/other_user}","gists_url":"https://api.github.com/users/myshkin5/gists{/gist_id}","starred_url":"https://api.github.com/users/myshkin5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myshkin5/subscriptions","organizations_url":"https://api.github.com/users/myshkin5/orgs","repos_url":"https://api.github.com/users/myshkin5/repos","events_url":"https://api.github.com/users/myshkin5/events{/privacy}","received_events_url":"https://api.github.com/users/myshkin5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-05T18:18:56Z","updated_at":"2023-01-05T18:18:56Z","body":"For what it's worth, we now just use golangci-lint. It runs gofumpt in a \"linter\" mode (and tons of other linters too): https://golangci-lint.run/usage/linters/#gofumpt","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1372571448/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"myshkin5","id":6935773,"node_id":"MDQ6VXNlcjY5MzU3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6935773?v=4","gravatar_id":"","url":"https://api.github.com/users/myshkin5","html_url":"https://github.com/myshkin5","followers_url":"https://api.github.com/users/myshkin5/followers","following_url":"https://api.github.com/users/myshkin5/following{/other_user}","gists_url":"https://api.github.com/users/myshkin5/gists{/gist_id}","starred_url":"https://api.github.com/users/myshkin5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myshkin5/subscriptions","organizations_url":"https://api.github.com/users/myshkin5/orgs","repos_url":"https://api.github.com/users/myshkin5/repos","events_url":"https://api.github.com/users/myshkin5/events{/privacy}","received_events_url":"https://api.github.com/users/myshkin5/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1374508679","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-1374508679","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":1374508679,"node_id":"IC_kwDOCqWoQc5R7VaH","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-07T15:02:27Z","updated_at":"2023-01-07T15:03:02Z","body":"The chances of this feature being done in gofumpt are pretty much 100%. I just want to be careful about adding features before gofmt does, because if gofmt later adds it and in a different way (e.g. different flag name), then the result will be confusing for everyone.\r\n\r\nI've left a comment in https://github.com/golang/go/issues/46289#issuecomment-1374508195 trying to nudge things along.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/1374508679/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/2188828259","html_url":"https://github.com/mvdan/gofumpt/issues/114#issuecomment-2188828259","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/114","id":2188828259,"node_id":"IC_kwDOCqWoQc6Cdt5j","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-25T12:39:28Z","updated_at":"2024-06-25T12:39:28Z","body":"It looks like https://github.com/golang/go/issues/46289 is finally being resolved: `gofmt -d` will start failing if the diff is not empty. gofumpt will be changed in exactly the same way, to ensure consistency and compatibility.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/2188828259/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16654602978,"node_id":"REFE_lADOCqWoQc4vutMJzwAAAAPgsRLi","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/16654602978","actor":{"login":"pdyraga","id":4712360,"node_id":"MDQ6VXNlcjQ3MTIzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/4712360?v=4","gravatar_id":"","url":"https://api.github.com/users/pdyraga","html_url":"https://github.com/pdyraga","followers_url":"https://api.github.com/users/pdyraga/followers","following_url":"https://api.github.com/users/pdyraga/following{/other_user}","gists_url":"https://api.github.com/users/pdyraga/gists{/gist_id}","starred_url":"https://api.github.com/users/pdyraga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdyraga/subscriptions","organizations_url":"https://api.github.com/users/pdyraga/orgs","repos_url":"https://api.github.com/users/pdyraga/repos","events_url":"https://api.github.com/users/pdyraga/events{/privacy}","received_events_url":"https://api.github.com/users/pdyraga/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b5414402035963cb379c683f2c83f733166f0e44","commit_url":"https://api.github.com/repos/mezo-org/mezod/commits/b5414402035963cb379c683f2c83f733166f0e44","created_at":"2025-03-10T13:15:27Z","performed_via_github_app":null},{"id":17239730570,"node_id":"CE_lADOCqWoQc4vutMJzwAAAAQDkWmK","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/17239730570","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"ad8b86fa093b43956bc44c85fffb9eec97e93302","commit_url":"https://api.github.com/repos/mvdan/gofumpt/commits/ad8b86fa093b43956bc44c85fffb9eec97e93302","created_at":"2025-04-13T21:58:43Z","state_reason":null,"performed_via_github_app":null},{"id":17239777309,"node_id":"REFE_lADOCqWoQc4vutMJzwAAAAQDkiAd","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/17239777309","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ad8b86fa093b43956bc44c85fffb9eec97e93302","commit_url":"https://api.github.com/repos/flimzy/gofumpt/commits/ad8b86fa093b43956bc44c85fffb9eec97e93302","created_at":"2025-04-13T22:21:19Z","performed_via_github_app":null}]