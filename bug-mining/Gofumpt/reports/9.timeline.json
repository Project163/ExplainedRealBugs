[{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506516364","html_url":"https://github.com/mvdan/gofumpt/issues/23#issuecomment-506516364","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/23","id":506516364,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjUxNjM2NA==","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-27T21:21:33Z","updated_at":"2019-06-27T21:21:33Z","body":"Perhaps a simple way to stop annoying developers is to not simplify declaration groups (parentheses) if there is a comment attached to the whole group. I agree that the docs can be broken very easily in this case.\r\n\r\nWould that make the rule less painful for you?","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506516364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506549337","html_url":"https://github.com/mvdan/gofumpt/issues/23#issuecomment-506549337","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/23","id":506549337,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjU0OTMzNw==","user":{"login":"adiabatic","id":101246,"node_id":"MDQ6VXNlcjEwMTI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/101246?v=4","gravatar_id":"","url":"https://api.github.com/users/adiabatic","html_url":"https://github.com/adiabatic","followers_url":"https://api.github.com/users/adiabatic/followers","following_url":"https://api.github.com/users/adiabatic/following{/other_user}","gists_url":"https://api.github.com/users/adiabatic/gists{/gist_id}","starred_url":"https://api.github.com/users/adiabatic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adiabatic/subscriptions","organizations_url":"https://api.github.com/users/adiabatic/orgs","repos_url":"https://api.github.com/users/adiabatic/repos","events_url":"https://api.github.com/users/adiabatic/events{/privacy}","received_events_url":"https://api.github.com/users/adiabatic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-27T23:43:46Z","updated_at":"2019-06-27T23:43:46Z","body":"It would certainly make it _less_ painful, as there'd be fewer cases where a block of mine got destroyed.\r\n\r\nHowever, in a common case where I write a `const (…)` block but fail to preemptively add a doc comment, I'd still get the scope destroyed. Knowing my habits, I'd save (and therefore run gofumpt) before putting the doc comment. Then I'd need to add a doc comment (possibly only to disable the block destruction) and put the parentheses back in. I'd grumble about it the entire time, and that's _with_ me knowing the \"doc comments disable `const (…)` flattening\" rule. If I didn't know about doc comments, I'd have to search Stack Overflow for an explanation, as gofmt doesn't do anything like that AFAIK.\r\n\r\nFurthermore, if I were left with an iota at file scope (as in my example above) I'd be outright confused by what the intent of the code was. I'd be quadruply confused if I had two separate iotas at file scope, lifted there out of two separate const blocks.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506549337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adiabatic","id":101246,"node_id":"MDQ6VXNlcjEwMTI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/101246?v=4","gravatar_id":"","url":"https://api.github.com/users/adiabatic","html_url":"https://github.com/adiabatic","followers_url":"https://api.github.com/users/adiabatic/followers","following_url":"https://api.github.com/users/adiabatic/following{/other_user}","gists_url":"https://api.github.com/users/adiabatic/gists{/gist_id}","starred_url":"https://api.github.com/users/adiabatic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adiabatic/subscriptions","organizations_url":"https://api.github.com/users/adiabatic/orgs","repos_url":"https://api.github.com/users/adiabatic/repos","events_url":"https://api.github.com/users/adiabatic/events{/privacy}","received_events_url":"https://api.github.com/users/adiabatic/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2447088273,"node_id":"MDExOkNsb3NlZEV2ZW50MjQ0NzA4ODI3Mw==","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/2447088273","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"a8f051fdaf99f59a60582a2bdcbe621888e4bb21","commit_url":"https://api.github.com/repos/mvdan/gofumpt/commits/a8f051fdaf99f59a60582a2bdcbe621888e4bb21","created_at":"2019-06-28T11:54:34Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506708635","html_url":"https://github.com/mvdan/gofumpt/issues/23#issuecomment-506708635","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/23","id":506708635,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjcwODYzNQ==","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-28T11:59:44Z","updated_at":"2019-06-28T11:59:44Z","body":"Thanks for the extra information. The original issue was about the buggy comment behavior, so I've closed the issue as fixed for now.\r\n\r\n> Knowing my habits, I'd save (and therefore run gofumpt) before putting the doc comment.\r\n\r\nI tend to run gofmt/gofumpt manually myself; perhaps this is why I don't see the pain as often.\r\n\r\nThe point about iotas is a good one. We could skip the rule if the declaration group contains an `iota` identifier, though.\r\n\r\nAside from the comment and iota points, I'd still like to keep the rule around; I don't think people should commit unnecessary declaration groups to branches. Do you have any more ideas to reduce the annoyance, aside from removing the rule entirely?\r\n\r\nFor example, perhaps the rule could be relaxed to only work on var declarations. Top level imports and consts tend to grow over time, but top-level vars don't tend to as much. And I think most of the real cases I've seen in the wild have involved vars, and not consts/imports. I'm not bothered by unnecessary groups in imports, actually, but I only included them for consistency.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506708635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506828246","html_url":"https://github.com/mvdan/gofumpt/issues/23#issuecomment-506828246","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/23","id":506828246,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjgyODI0Ng==","user":{"login":"adiabatic","id":101246,"node_id":"MDQ6VXNlcjEwMTI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/101246?v=4","gravatar_id":"","url":"https://api.github.com/users/adiabatic","html_url":"https://github.com/adiabatic","followers_url":"https://api.github.com/users/adiabatic/followers","following_url":"https://api.github.com/users/adiabatic/following{/other_user}","gists_url":"https://api.github.com/users/adiabatic/gists{/gist_id}","starred_url":"https://api.github.com/users/adiabatic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adiabatic/subscriptions","organizations_url":"https://api.github.com/users/adiabatic/orgs","repos_url":"https://api.github.com/users/adiabatic/repos","events_url":"https://api.github.com/users/adiabatic/events{/privacy}","received_events_url":"https://api.github.com/users/adiabatic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-28T18:09:10Z","updated_at":"2019-06-28T18:09:10Z","body":"> Do you have any more ideas to reduce the annoyance, aside from removing the rule entirely?\r\n\r\nNothing comes to mind. Plus, having a long list of exceptions makes it hard for a user to understand when gofumpt will change the code he's working on. When a user can't predict what a tool will do, that makes it effectively nondeterministic to him. This unpredictability is its own source of annoyance.\r\n\r\nGenerally, when I see a one-item const block, I think \"this too shall pass\", figuring that more constants will be added later. The one-item const block won't be an eyesore for all _that_ long, relative to the time the codebase will last.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506828246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adiabatic","id":101246,"node_id":"MDQ6VXNlcjEwMTI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/101246?v=4","gravatar_id":"","url":"https://api.github.com/users/adiabatic","html_url":"https://github.com/adiabatic","followers_url":"https://api.github.com/users/adiabatic/followers","following_url":"https://api.github.com/users/adiabatic/following{/other_user}","gists_url":"https://api.github.com/users/adiabatic/gists{/gist_id}","starred_url":"https://api.github.com/users/adiabatic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adiabatic/subscriptions","organizations_url":"https://api.github.com/users/adiabatic/orgs","repos_url":"https://api.github.com/users/adiabatic/repos","events_url":"https://api.github.com/users/adiabatic/events{/privacy}","received_events_url":"https://api.github.com/users/adiabatic/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506887193","html_url":"https://github.com/mvdan/gofumpt/issues/23#issuecomment-506887193","issue_url":"https://api.github.com/repos/mvdan/gofumpt/issues/23","id":506887193,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjg4NzE5Mw==","user":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-28T21:48:55Z","updated_at":"2019-06-28T21:48:55Z","body":"Agreed that the rules should be simple.\r\n\r\nI'll go ahead with leaving const and import groups alone, most likely pushing the commit tomorrow. I'll reopen this issue to remind myself.\r\n\r\nThanks again for the helpful feedback - it was useful to help me make a good decision!","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments/506887193/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2448488918,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyNDQ4NDg4OTE4","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/2448488918","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2019-06-28T21:48:55Z","state_reason":null,"performed_via_github_app":null},{"id":2449073274,"node_id":"MDExOkNsb3NlZEV2ZW50MjQ0OTA3MzI3NA==","url":"https://api.github.com/repos/mvdan/gofumpt/issues/events/2449073274","actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"5c4608766f49e01f7bbdc072c5e88218e7fd5ae7","commit_url":"https://api.github.com/repos/mvdan/gofumpt/commits/5c4608766f49e01f7bbdc072c5e88218e7fd5ae7","created_at":"2019-06-29T19:01:29Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-06T13:14:23Z","updated_at":"2019-07-06T13:14:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/27","repository_url":"https://api.github.com/repos/mvdan/gofumpt","labels_url":"https://api.github.com/repos/mvdan/gofumpt/issues/27/labels{/name}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/issues/27/comments","events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/27/events","html_url":"https://github.com/mvdan/gofumpt/issues/27","id":464241269,"node_id":"MDU6SXNzdWU0NjQyNDEyNjk=","number":27,"title":"Rewriting one element const blocks breaks godoc comments","user":{"login":"twpayne","id":6942,"node_id":"MDQ6VXNlcjY5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6942?v=4","gravatar_id":"","url":"https://api.github.com/users/twpayne","html_url":"https://github.com/twpayne","followers_url":"https://api.github.com/users/twpayne/followers","following_url":"https://api.github.com/users/twpayne/following{/other_user}","gists_url":"https://api.github.com/users/twpayne/gists{/gist_id}","starred_url":"https://api.github.com/users/twpayne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twpayne/subscriptions","organizations_url":"https://api.github.com/users/twpayne/orgs","repos_url":"https://api.github.com/users/twpayne/repos","events_url":"https://api.github.com/users/twpayne/events{/privacy}","received_events_url":"https://api.github.com/users/twpayne/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-07-04T12:30:50Z","updated_at":"2019-07-06T13:16:37Z","closed_at":"2019-07-06T13:16:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":178628673,"node_id":"MDEwOlJlcG9zaXRvcnkxNzg2Mjg2NzM=","name":"gofumpt","full_name":"mvdan/gofumpt","private":false,"owner":{"login":"mvdan","id":3576549,"node_id":"MDQ6VXNlcjM1NzY1NDk=","avatar_url":"https://avatars.githubusercontent.com/u/3576549?v=4","gravatar_id":"","url":"https://api.github.com/users/mvdan","html_url":"https://github.com/mvdan","followers_url":"https://api.github.com/users/mvdan/followers","following_url":"https://api.github.com/users/mvdan/following{/other_user}","gists_url":"https://api.github.com/users/mvdan/gists{/gist_id}","starred_url":"https://api.github.com/users/mvdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvdan/subscriptions","organizations_url":"https://api.github.com/users/mvdan/orgs","repos_url":"https://api.github.com/users/mvdan/repos","events_url":"https://api.github.com/users/mvdan/events{/privacy}","received_events_url":"https://api.github.com/users/mvdan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mvdan/gofumpt","description":"A stricter gofmt","fork":false,"url":"https://api.github.com/repos/mvdan/gofumpt","forks_url":"https://api.github.com/repos/mvdan/gofumpt/forks","keys_url":"https://api.github.com/repos/mvdan/gofumpt/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mvdan/gofumpt/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mvdan/gofumpt/teams","hooks_url":"https://api.github.com/repos/mvdan/gofumpt/hooks","issue_events_url":"https://api.github.com/repos/mvdan/gofumpt/issues/events{/number}","events_url":"https://api.github.com/repos/mvdan/gofumpt/events","assignees_url":"https://api.github.com/repos/mvdan/gofumpt/assignees{/user}","branches_url":"https://api.github.com/repos/mvdan/gofumpt/branches{/branch}","tags_url":"https://api.github.com/repos/mvdan/gofumpt/tags","blobs_url":"https://api.github.com/repos/mvdan/gofumpt/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mvdan/gofumpt/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mvdan/gofumpt/git/refs{/sha}","trees_url":"https://api.github.com/repos/mvdan/gofumpt/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mvdan/gofumpt/statuses/{sha}","languages_url":"https://api.github.com/repos/mvdan/gofumpt/languages","stargazers_url":"https://api.github.com/repos/mvdan/gofumpt/stargazers","contributors_url":"https://api.github.com/repos/mvdan/gofumpt/contributors","subscribers_url":"https://api.github.com/repos/mvdan/gofumpt/subscribers","subscription_url":"https://api.github.com/repos/mvdan/gofumpt/subscription","commits_url":"https://api.github.com/repos/mvdan/gofumpt/commits{/sha}","git_commits_url":"https://api.github.com/repos/mvdan/gofumpt/git/commits{/sha}","comments_url":"https://api.github.com/repos/mvdan/gofumpt/comments{/number}","issue_comment_url":"https://api.github.com/repos/mvdan/gofumpt/issues/comments{/number}","contents_url":"https://api.github.com/repos/mvdan/gofumpt/contents/{+path}","compare_url":"https://api.github.com/repos/mvdan/gofumpt/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mvdan/gofumpt/merges","archive_url":"https://api.github.com/repos/mvdan/gofumpt/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mvdan/gofumpt/downloads","issues_url":"https://api.github.com/repos/mvdan/gofumpt/issues{/number}","pulls_url":"https://api.github.com/repos/mvdan/gofumpt/pulls{/number}","milestones_url":"https://api.github.com/repos/mvdan/gofumpt/milestones{/number}","notifications_url":"https://api.github.com/repos/mvdan/gofumpt/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mvdan/gofumpt/labels{/name}","releases_url":"https://api.github.com/repos/mvdan/gofumpt/releases{/id}","deployments_url":"https://api.github.com/repos/mvdan/gofumpt/deployments","created_at":"2019-03-31T01:17:51Z","updated_at":"2025-11-10T08:38:29Z","pushed_at":"2025-10-21T22:27:49Z","git_url":"git://github.com/mvdan/gofumpt.git","ssh_url":"git@github.com:mvdan/gofumpt.git","clone_url":"https://github.com/mvdan/gofumpt.git","svn_url":"https://github.com/mvdan/gofumpt","homepage":"https://pkg.go.dev/mvdan.cc/gofumpt","size":580,"stargazers_count":3776,"watchers_count":3776,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":121,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":28,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["format","go","gofmt","goimports","idiomatic","style"],"visibility":"public","forks":121,"open_issues":28,"watchers":3776,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"`gofumpt` re-writes documented one-line top level `const` and `var` blocks to a single line. This is not correct if the block in documented. Consider:\r\n\r\n```go\r\n// Some foos.\r\nconst (\r\n    Foo = 1\r\n)\r\n```\r\n\r\n`gofumpt` re-writes this to:\r\n\r\n```go\r\n// Some foos.\r\n\r\nconst Foo = 1.\r\n```\r\n\r\nThis detaches the comment from the declaration, causing `golint` to complain that `Foo` is not documented, whereas it was documented before `gofumpt` reformatted it.\r\n\r\nAs the comment cannot be written, I think the only option is to not reformat such blocks.","reactions":{"url":"https://api.github.com/repos/mvdan/gofumpt/issues/27/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mvdan/gofumpt/issues/27/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]