<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:28:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-775] Option &apos;taglets/taglet/tagletpath&apos; ignored when pointing to a JAR</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-775</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;The&#160;&lt;a href=&quot;https://maven.apache.org/plugins/maven-javadoc-plugin/apidocs/org/apache/maven/plugins/javadoc/options/Taglet.html#getTagletpath()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;tagletpath&lt;/tt&gt; property&lt;/a&gt; used in a &lt;a href=&quot;https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#taglets&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;taglets&lt;/tt&gt;/&lt;tt&gt;taglet&lt;/tt&gt; element&lt;/a&gt; seems to be completely ignored, despite being documented. It looks as if this never worked before. It is also utterly untested. There is an old bug &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-231&quot; title=&quot;tagletpath does not seem to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-231&quot;&gt;&lt;del&gt;MJAVADOC-231&lt;/del&gt;&lt;/a&gt;, but whatever that was meant to fix, it seems to be unrelated to this one. If I have a local JAR unavailable on Maven Central sitting in a libraries folder, I cannot use it in any other way than to contrive to put a copy into my local Maven repository and use &lt;tt&gt;tagletArtifact&lt;/tt&gt; instead of &lt;tt&gt;taglets&lt;/tt&gt;/&lt;tt&gt;taglet&lt;/tt&gt;/&lt;tt&gt;tagletpath&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I noticed this, when trying to help someone asking a question on the &lt;a href=&quot;https://lists.apache.org/thread/zv25z3hx9gbmbt6wwhby6cy0t5lr542l&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Maven users mailing list&lt;/a&gt;. In his &lt;a href=&quot;https://github.com/jkesselm/xalan-java-mvn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sample repository&lt;/a&gt;, an effort to convert the Xalan Ant Build to Maven, the commit to check out is is &lt;a href=&quot;https://github.com/jkesselm/xalan-java-mvn/tree/6daf2890bc03b13cd741b963d33897d61dcf4e5f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;6daf2890&lt;/a&gt;. Just run &lt;tt&gt;mvn -DskipTests=true site&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13552812">MJAVADOC-775</key>
            <summary>Option &apos;taglets/taglet/tagletpath&apos; ignored when pointing to a JAR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michael-o">Michael Osipov</assignee>
                                    <reporter username="kriegaex">Alexander Kriegisch</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Oct 2023 01:52:32 +0000</created>
                <updated>Tue, 10 Jun 2025 05:23:21 +0000</updated>
                            <resolved>Sun, 14 Jul 2024 19:18:55 +0000</resolved>
                                    <version>3.6.0</version>
                    <version>3.6.3</version>
                                    <fixVersion>3.8.0</fixVersion>
                                    <component>javadoc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17790545" author="elharo" created="Tue, 28 Nov 2023 12:37:30 +0000"  >&lt;p&gt;If that&apos;s so, we should probably just remove tagletpath from the docs&lt;/p&gt;</comment>
                            <comment id="17795055" author="JIRAUSER303448" created="Sun, 10 Dec 2023 09:56:08 +0000"  >&lt;p&gt;I have raised &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-783&quot; title=&quot;Invalid path when using TagletArtifact and TagletPath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-783&quot;&gt;&lt;del&gt;MJAVADOC-783&lt;/del&gt;&lt;/a&gt; regarding a bug in TagletPath. This may be related to this issue.&lt;/p&gt;</comment>
                            <comment id="17795134" author="kriegaex" created="Mon, 11 Dec 2023 01:10:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elharo&quot; class=&quot;user-hover&quot; rel=&quot;elharo&quot;&gt;elharo&lt;/a&gt;, I was actually hoping for the feature to be made working, because it would do something valuable if it worked. I am not sure it is a good idea to simply hide something in the docs that exists as a plugin option or to completely remove the whole thing, just because nobody feels like fixing it.&lt;/p&gt;</comment>
                            <comment id="17795348" author="elharo" created="Mon, 11 Dec 2023 12:57:11 +0000"  >&lt;p&gt;Duping against 783 since that includes a little more info for a potential fix.&lt;/p&gt;</comment>
                            <comment id="17795591" author="kriegaex" created="Tue, 12 Dec 2023 05:05:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elharo&quot; class=&quot;user-hover&quot; rel=&quot;elharo&quot;&gt;elharo&lt;/a&gt;, are you sure it is is good idea to close this one? My &lt;tt&gt;ClassNotFoundException&lt;/tt&gt; is not the same as the &lt;tt&gt;InvalidPathException&lt;/tt&gt; in the other issue. The descriptions also sound different. Just because there happen to be two issues about tagle paths, it does not automatically mean that they are identical.&lt;/p&gt;

&lt;p&gt;I also do not understand what you are missing here. There is a link to a real-world reproducer with exact instructions which commit to check out. A link to previous conversation on a mailing list about this, where you can also find an error description, also exists. Usually, developers ask for reproducers and links to further details. Sometimes, when providing same, I feel like they have not been read.&lt;/p&gt;</comment>
                            <comment id="17795717" author="elharo" created="Tue, 12 Dec 2023 12:36:23 +0000"  >&lt;p&gt;Bug triage and maintenance is important. We have plenty of evidence now that taglet path simply doesn&apos;t work. Thanks. Now someone needs to produce a test and a fix. If it turns out this problem still isn&apos;t fixed after that, we can reopen, but for now let&apos;s not keep two issues open for what really smells like two manifestations of the same issue. &lt;/p&gt;</comment>
                            <comment id="17795723" author="kriegaex" created="Tue, 12 Dec 2023 12:45:25 +0000"  >&lt;p&gt;Understood. &lt;/p&gt;</comment>
                            <comment id="17795975" author="kriegaex" created="Wed, 13 Dec 2023 02:00:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Bug triage and maintenance is important.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elharo&quot; class=&quot;user-hover&quot; rel=&quot;elharo&quot;&gt;elharo&lt;/a&gt;, then why did you not triage, comparing the situations in the two issues? &#128521; This is &lt;b&gt;not&lt;/b&gt; a duplicate, I just checked, adding some debug statements to the javadoc plugin, and finally realised that&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;there are two situations in which &lt;tt&gt;&amp;lt;tagletpath&amp;gt;my/path&amp;lt;/tagletpath&amp;gt;&lt;/tt&gt; can appear in the plugin configuration - namely (top level) option &lt;tt&gt;tagletpath&lt;/tt&gt; and &lt;tt&gt;taglets&lt;/tt&gt;/&lt;tt&gt;taglet&lt;/tt&gt;/&lt;tt&gt;tagletpath&lt;/tt&gt;) - and&lt;/li&gt;
	&lt;li&gt;therefore, my issue description falsely linked to the former (mea culpa, I just fixed that), while, as you would have seen if you had inspected and run my reproducer, I am using the latter.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-783&quot; title=&quot;Invalid path when using TagletArtifact and TagletPath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-783&quot;&gt;&lt;del&gt;MJAVADOC-783&lt;/del&gt;&lt;/a&gt; is about path concatenation when consolidating those two plus &lt;tt&gt;tagletartifacts&lt;/tt&gt;, creating a single taglet path for the javadoc CLI option &lt;tt&gt;-tagletpath&lt;/tt&gt; from all 3 sources. 783 is about an omitted path separator and exists independently of the problem described here.&lt;/p&gt;

&lt;p&gt;I managed to separately reproduce and fix both issues idependently of each other.&lt;/p&gt;

&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-783&quot; title=&quot;Invalid path when using TagletArtifact and TagletPath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-783&quot;&gt;&lt;del&gt;MJAVADOC-783&lt;/del&gt;&lt;/a&gt; (as suggested similarly by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robjg&quot; class=&quot;user-hover&quot; rel=&quot;robjg&quot;&gt;robjg&lt;/a&gt;) is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
--- a/src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java
+++ b/src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java
@@ -2956,7 +2956,7 @@ public abstract class AbstractJavadocMojo extends AbstractMojo {
         path.append(StringUtils.join(pathParts.iterator(), File.pathSeparator));
 
         if (tagletpath != null &amp;amp;&amp;amp; !tagletpath.isEmpty()) {
-            path.append(JavadocUtil.unifyPathSeparator(tagletpath));
+            path.append(path.length() &amp;gt; 0 ? File.pathSeparator : &quot;&quot;).append(JavadocUtil.unifyPathSeparator(tagletpath));
         }
 
         return path.toString();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The fix for this issue &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-775&quot; title=&quot;Option &amp;#39;taglets/taglet/tagletpath&amp;#39; ignored when pointing to a JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-775&quot;&gt;&lt;del&gt;MJAVADOC-775&lt;/del&gt;&lt;/a&gt; is something similar to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
--- a/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java
+++ b/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java
@@ -136,7 +136,8 @@ public class JavadocUtil {
 
             Path directory = projectBasedir.resolve(dir);
 
-            if (Files.isDirectory(directory)) {
+            if (Files.isDirectory(directory)
+                    || directory.getFileName().toString().endsWith(&quot;.jar&quot;)) {
                 pruned.add(directory.toAbsolutePath());
             }
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elharo&quot; class=&quot;user-hover&quot; rel=&quot;elharo&quot;&gt;elharo&lt;/a&gt;, maybe the check for &quot;.jar&quot; at the end of the path name is too naive. Maybe we need to consider other packaging types, too, or maybe we should not remove non-directory entries at all and just verify that the given paths actually exist, not matter if they are directories or files. WDYT? And would you like one PR fixing both issues or one per issue? Sorry, I just had a small time box to debug this, hoping that actually a Maven Javadoc committer would do it. So, other than the external reproducer project linked to, I have not created any unit or integration tests for this. I could open two PR drafts and your could commit on top of them. Now that the root causes of both issues are clear, it should be easy to create regression tests for them.&lt;/p&gt;</comment>
                            <comment id="17795990" author="githubbot" created="Wed, 13 Dec 2023 04:05:34 +0000"  >&lt;p&gt;kriegaex opened a new pull request, #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   To make clear that you license your contribution under&lt;br/&gt;
   the &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache License Version 2.0, January 2004&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;)&lt;br/&gt;
   you have to acknowledge this by using the following check-box.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; I hereby declare this contribution to be licensed under the &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache License Version 2.0, January 2004&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] In any other case, please file an &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   @elharo, @robjg&lt;/p&gt;

</comment>
                            <comment id="17796121" author="githubbot" created="Wed, 13 Dec 2023 10:16:27 +0000"  >&lt;p&gt;michael-o commented on code in PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255#discussion_r1425139066&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255#discussion_r1425139066&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -118,32 +118,54 @@ public class JavadocUtil {&lt;br/&gt;
                     + &quot;environment variable using -Xms:&amp;lt;size&amp;gt; and -Xmx:&amp;lt;size&amp;gt;.&quot;;&lt;/p&gt;

&lt;p&gt;     /**&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* Method that removes the invalid directories in the specified directories. &amp;lt;b&amp;gt;Note&amp;lt;/b&amp;gt;: All elements in&lt;/li&gt;
	&lt;li&gt;* &amp;lt;code&amp;gt;dirs&amp;lt;/code&amp;gt; could be an absolute or relative against the project&apos;s base directory &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; path.&lt;br/&gt;
+     * Method that removes invalid classpath elements in the specified paths. &amp;lt;b&amp;gt;Note&amp;lt;/b&amp;gt;: All elements in&lt;br/&gt;
+     * &amp;lt;code&amp;gt;paths&amp;lt;/code&amp;gt; could be absolute or relative against the project&apos;s base directory &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; path.&lt;br/&gt;
+     * When pruning class paths, you can optionally include &quot;*.jar&quot; files in the result, otherwise only directories are&lt;br/&gt;
+     * permitted.&lt;br/&gt;
      *&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;@param project the current Maven project not null&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @param dirs the collection of &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; directories path that will be validated.&lt;/li&gt;
	&lt;li&gt;* @return a List of valid &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; directories absolute paths.&lt;br/&gt;
+     * @param paths the collection of &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; paths that will be validated&lt;br/&gt;
+     * @param includeJars whether to include JAR files in the result&lt;br/&gt;
+     * @return a list of valid &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; directories and optionally JAR files as absolute paths&lt;br/&gt;
      */&lt;/li&gt;
	&lt;li&gt;public static Collection&amp;lt;Path&amp;gt; pruneDirs(MavenProject project, Collection&amp;lt;String&amp;gt; dirs) {&lt;br/&gt;
+    public static Collection&amp;lt;Path&amp;gt; prunePaths(MavenProject project, Collection&amp;lt;String&amp;gt; paths, boolean includeJars) {&lt;br/&gt;
         final Path projectBasedir = project.getBasedir().toPath();&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Set&amp;lt;Path&amp;gt; pruned = new LinkedHashSet&amp;lt;&amp;gt;(dirs.size());&lt;/li&gt;
	&lt;li&gt;for (String dir : dirs) {&lt;/li&gt;
	&lt;li&gt;if (dir == null) {&lt;br/&gt;
+        Set&amp;lt;Path&amp;gt; pruned = new LinkedHashSet&amp;lt;&amp;gt;(paths.size());&lt;br/&gt;
+        for (String path : paths) {&lt;br/&gt;
+            if (path == null) 
{
                 continue;
             }&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path directory = projectBasedir.resolve(dir);&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;if (Files.isDirectory(directory)) {&lt;/li&gt;
	&lt;li&gt;pruned.add(directory.toAbsolutePath());&lt;br/&gt;
+            Path resolvedPath = projectBasedir.resolve(path);&lt;br/&gt;
+&lt;br/&gt;
+            if (Files.isDirectory(resolvedPath)&lt;br/&gt;
+                    || includeJars&lt;br/&gt;
+                            &amp;amp;&amp;amp; Files.isRegularFile(resolvedPath)&lt;br/&gt;
+                            &amp;amp;&amp;amp; resolvedPath&lt;br/&gt;
+                                    .getFileName()&lt;br/&gt;
+                                    .toString()&lt;br/&gt;
+                                    .toLowerCase()&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   For the sake of correctness: `Locale.ROOT`&lt;/p&gt;


</comment>
                            <comment id="17796123" author="githubbot" created="Wed, 13 Dec 2023 10:29:47 +0000"  >&lt;p&gt;kriegaex commented on code in PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255#discussion_r1425156210&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255#discussion_r1425156210&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -118,32 +118,54 @@ public class JavadocUtil {&lt;br/&gt;
                     + &quot;environment variable using -Xms:&amp;lt;size&amp;gt; and -Xmx:&amp;lt;size&amp;gt;.&quot;;&lt;/p&gt;

&lt;p&gt;     /**&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* Method that removes the invalid directories in the specified directories. &amp;lt;b&amp;gt;Note&amp;lt;/b&amp;gt;: All elements in&lt;/li&gt;
	&lt;li&gt;* &amp;lt;code&amp;gt;dirs&amp;lt;/code&amp;gt; could be an absolute or relative against the project&apos;s base directory &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; path.&lt;br/&gt;
+     * Method that removes invalid classpath elements in the specified paths. &amp;lt;b&amp;gt;Note&amp;lt;/b&amp;gt;: All elements in&lt;br/&gt;
+     * &amp;lt;code&amp;gt;paths&amp;lt;/code&amp;gt; could be absolute or relative against the project&apos;s base directory &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; path.&lt;br/&gt;
+     * When pruning class paths, you can optionally include &quot;*.jar&quot; files in the result, otherwise only directories are&lt;br/&gt;
+     * permitted.&lt;br/&gt;
      *&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;@param project the current Maven project not null&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @param dirs the collection of &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; directories path that will be validated.&lt;/li&gt;
	&lt;li&gt;* @return a List of valid &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; directories absolute paths.&lt;br/&gt;
+     * @param paths the collection of &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; paths that will be validated&lt;br/&gt;
+     * @param includeJars whether to include JAR files in the result&lt;br/&gt;
+     * @return a list of valid &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt; directories and optionally JAR files as absolute paths&lt;br/&gt;
      */&lt;/li&gt;
	&lt;li&gt;public static Collection&amp;lt;Path&amp;gt; pruneDirs(MavenProject project, Collection&amp;lt;String&amp;gt; dirs) {&lt;br/&gt;
+    public static Collection&amp;lt;Path&amp;gt; prunePaths(MavenProject project, Collection&amp;lt;String&amp;gt; paths, boolean includeJars) {&lt;br/&gt;
         final Path projectBasedir = project.getBasedir().toPath();&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Set&amp;lt;Path&amp;gt; pruned = new LinkedHashSet&amp;lt;&amp;gt;(dirs.size());&lt;/li&gt;
	&lt;li&gt;for (String dir : dirs) {&lt;/li&gt;
	&lt;li&gt;if (dir == null) {&lt;br/&gt;
+        Set&amp;lt;Path&amp;gt; pruned = new LinkedHashSet&amp;lt;&amp;gt;(paths.size());&lt;br/&gt;
+        for (String path : paths) {&lt;br/&gt;
+            if (path == null) 
{
                 continue;
             }&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path directory = projectBasedir.resolve(dir);&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;if (Files.isDirectory(directory)) {&lt;/li&gt;
	&lt;li&gt;pruned.add(directory.toAbsolutePath());&lt;br/&gt;
+            Path resolvedPath = projectBasedir.resolve(path);&lt;br/&gt;
+&lt;br/&gt;
+            if (Files.isDirectory(resolvedPath)&lt;br/&gt;
+                    || includeJars&lt;br/&gt;
+                            &amp;amp;&amp;amp; Files.isRegularFile(resolvedPath)&lt;br/&gt;
+                            &amp;amp;&amp;amp; resolvedPath&lt;br/&gt;
+                                    .getFileName()&lt;br/&gt;
+                                    .toString()&lt;br/&gt;
+                                    .toLowerCase()&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Done, thanks.&lt;/p&gt;


</comment>
                            <comment id="17796124" author="githubbot" created="Wed, 13 Dec 2023 10:31:13 +0000"  >&lt;p&gt;michael-o commented on PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853656162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853656162&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @kriegaex Thank you for the PR. I first need to understand the original reports and your change whether I can computer this reasonably. It will take a few days. Tell me please, is an IT required here in this case or is the UT enough=&lt;/p&gt;

</comment>
                            <comment id="17796127" author="githubbot" created="Wed, 13 Dec 2023 10:43:46 +0000"  >&lt;p&gt;kriegaex commented on PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853675179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853675179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @michael-o, you can find detailed information and reproducers in the two linked Jira issues.&lt;/p&gt;

&lt;p&gt;   As for ITs, taglet paths are completely untested. At least, I did not find anything there. The string &quot;taglet&quot; does not occur *&lt;b&gt;at all&lt;/b&gt;* in the IT directory. I think, ITs would make sense in general. But my PR does not make IT coverage any worse than zero. As for unit tests, I added a test for the new method.&lt;/p&gt;

&lt;p&gt;   As one of the issues was closed after so-called &quot;triage&quot; without proper investigation, just because the two sounded similar, I was concerned that this topic would not be taken seriously by the product maintainers. So, I contributed this PR, which was not my original plan. I cannot fix all issues I encounter in all OSS products by myself, always dealing with code I have never seen before, and on top of it also improve test coverage. My own projects are already suffering more than is good for them. So please, let us not blow up the scope of this PR. But by all means, feel free to add ITs, committing on top of my changes after the merge. &#128578;&lt;/p&gt;

</comment>
                            <comment id="17796129" author="githubbot" created="Wed, 13 Dec 2023 10:45:24 +0000"  >&lt;p&gt;michael-o commented on PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853677726&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853677726&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; @michael-o, you can find detailed information and reproducers in the two linked Jira issues.&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; As for ITs, taglet paths are completely untested. At least, I did not find anything there. The string &quot;taglet&quot; does not occur *&lt;b&gt;at all&lt;/b&gt;* in the IT directory. I think, ITs would make sense in general. But my PR does not make IT coverage any worse than zero. As for unit tests, I added a test for the new method.&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; As one of the issues was closed after so-called &quot;triage&quot; without proper investigation, just because the two sounded similar, I was concerned that this topic would not be taken seriously by the product maintainers. So, I contributed this PR, which was not my original plan. I cannot fix all issues I encounter in all OSS products by myself, always dealing with code I have never seen before, and on top of it also improve test coverage. My own projects are already suffering more than is good for them. So please, let us not blow up the scope of this PR. But by all means, feel free to add ITs, committing on top of my changes after the merge. &#128578;&lt;/p&gt;

&lt;p&gt;   If you consider both JIRA issues distinct although the fix is identical, I can reopen the closed one, no problem.&lt;/p&gt;

</comment>
                            <comment id="17796132" author="githubbot" created="Wed, 13 Dec 2023 10:48:35 +0000"  >&lt;p&gt;kriegaex commented on PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853682403&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853682403&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   The fix is *&lt;b&gt;not&lt;/b&gt;* identical. There are two separate commits in this PR, fixing two distinct problems. Please read the commit comments, I referenced one issue per commit. I just did not want to create two PRs, because my time is limited, and I did not want to rebase later.&lt;/p&gt;

</comment>
                            <comment id="17796156" author="githubbot" created="Wed, 13 Dec 2023 11:00:04 +0000"  >&lt;p&gt;michael-o commented on PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853700155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255#issuecomment-1853700155&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; The fix is *&lt;b&gt;not&lt;/b&gt;* identical. There are two separate commits in this PR, fixing two distinct problems. Please read the commit comments, I referenced one issue per commit. I just did not want to create two PRs, because my time is limited, and I did not want to rebase later.&lt;/p&gt;

&lt;p&gt;   My bad.&lt;/p&gt;

</comment>
                            <comment id="17865780" author="michael-o" created="Sun, 14 Jul 2024 15:18:31 +0000"  >&lt;p&gt;Reopening to give this issue more visibilty, maybe it is a dup, but I rather use my cycles in addressing the issue than figuring out the dup fact.&lt;/p&gt;</comment>
                            <comment id="17865796" author="githubbot" created="Sun, 14 Jul 2024 19:18:42 +0000"  >&lt;p&gt;asfgit closed pull request #255: &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-775&quot; title=&quot;Option &amp;#39;taglets/taglet/tagletpath&amp;#39; ignored when pointing to a JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-775&quot;&gt;&lt;del&gt;MJAVADOC-775&lt;/del&gt;&lt;/a&gt; Option &apos;taglets/taglet/tagletpath&apos; ignored when pointing to a JAR&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17865797" author="githubbot" created="Sun, 14 Jul 2024 19:18:43 +0000"  >&lt;p&gt;asfgit merged PR #255:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/255&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/255&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17865798" author="michael-o" created="Sun, 14 Jul 2024 19:18:55 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-javadoc-plugin.git;a=commit;h=91369fabe400ea6c2d91a36d90885d36b447d3ec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;91369fabe400ea6c2d91a36d90885d36b447d3ec&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17958144" author="olamy" created="Tue, 10 Jun 2025 05:23:21 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/1153&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#1153&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13561263">MJAVADOC-783</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kq3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>