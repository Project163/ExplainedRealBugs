<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:28:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-584] excludePackageNames is not working as documented anymore</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-584</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We have the following configuration at XWiki: &lt;a href=&quot;https://github.com/xwiki/xwiki-commons/blob/xwiki-commons-11.1/pom.xml#L1946&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/xwiki/xwiki-commons/blob/xwiki-commons-11.1/pom.xml#L1946&lt;/a&gt;. We don&apos;t want to produce javadoc for internal packages. This is very similar to the example given on &lt;a href=&quot;https://maven.apache.org/plugins/maven-javadoc-plugin/examples/exclude-package-names.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-javadoc-plugin/examples/exclude-package-names.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When I upgrade to 3.1.0 the exclude is not taken into account anymore (I get error related to classes located in internal packages). For example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/home/hudsonagent/jenkins_root/workspace/XWiki_xwiki-commons_master/xwiki-commons-core/xwiki-commons-extension/xwiki-commons-extension-api/src/main/java/org/xwiki/extension/version/internal/DefaultVersionConstraint.java:49: error: reference not found

 * @see org.sonatype.aether.util.version.GenericVersionConstraint
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I noticed &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-548&quot; title=&quot;Directoryname mixed up with excludePackageNames&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-548&quot;&gt;&lt;del&gt;MJAVADOC-548&lt;/del&gt;&lt;/a&gt; but since the documentation did not changed I assumed my use case was still OK.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13219921">MJAVADOC-584</key>
            <summary>excludePackageNames is not working as documented anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rfscholte">Robert Scholte</assignee>
                                    <reporter username="tmortagne">Thomas Mortagne</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Mar 2019 14:16:05 +0000</created>
                <updated>Tue, 10 Jun 2025 05:09:23 +0000</updated>
                            <resolved>Tue, 18 May 2021 17:20:03 +0000</resolved>
                                    <version>3.1.0</version>
                                    <fixVersion>3.3.0</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16785995" author="rfscholte" created="Wed, 6 Mar 2019 18:37:37 +0000"  >&lt;p&gt;The documentation of the parameter was updates (see &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/commit/936cf7d5c91f5f3fa0fc54c1326601432374b112&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/commit/936cf7d5c91f5f3fa0fc54c1326601432374b112&lt;/a&gt; ) but the example-pages were missed.&lt;br/&gt;
In your case your package ends with &lt;tt&gt;internal&lt;/tt&gt;, so it doesn&apos;t match &lt;tt&gt;&amp;#42;.internal.&amp;#42;&lt;/tt&gt; anymore because there&apos;s no subpackages. A dot is now always a package-separator (which kept the regular expression clean).&lt;br/&gt;
A PR to update the documentation is appreciated.&lt;/p&gt;</comment>
                            <comment id="16786483" author="tmortagne" created="Thu, 7 Mar 2019 07:44:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;In your case your package ends with internal, so it doesn&apos;t match &lt;tt&gt;&amp;#42;.internal.*&lt;/tt&gt; anymore&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OK thanks for the hint, I did not noticed it was only for final internal packages.&lt;/p&gt;</comment>
                            <comment id="16786484" author="tmortagne" created="Thu, 7 Mar 2019 07:49:48 +0000"  >&lt;blockquote&gt;
&lt;p&gt;    a wildcard at the beginning should match 1 or more folders&lt;br/&gt;
    any other wildcard must match exactly one folder&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Does it means it not possible anymore to match any number of subpackages ? Like excluding everything under &lt;tt&gt;com.mycompany.myapp.package3&lt;/tt&gt; in the example.&lt;/p&gt;</comment>
                            <comment id="16787013" author="rfscholte" created="Thu, 7 Mar 2019 17:37:41 +0000"  >&lt;p&gt;One of both methods in &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/blob/master/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java#L334-L436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/blob/master/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java#L334-L436&lt;/a&gt; is responsible. The seconds contains a comment about the changed behavior.&lt;br/&gt;
What I hoped to make clear is that the value of excludePackage is &lt;b&gt;not&lt;/b&gt; a regular expression, it is closer to an Ant-pattern. The dots (both old and new) are package separators, but it was optional in the old pattern. the value between the dots matches exactly with a folder name.&lt;br/&gt;
It looks like there are only integration tests, but this deserves a unittests too. I don&apos;t mind adjusting the evaluation, as long as it makes sense and that you can control exclusion of any package.&lt;/p&gt;</comment>
                            <comment id="16787693" author="tmortagne" created="Fri, 8 Mar 2019 09:10:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t mind adjusting the evaluation, as long as it makes sense and that you can control exclusion of any package.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m fine changing my configuration, I just want to make sure what I think is a very common use case is still taken into account: exclude everything which is part of a package containing an &quot;internal&quot; element in the path.&lt;/p&gt;</comment>
                            <comment id="16787775" author="rfscholte" created="Fri, 8 Mar 2019 10:49:46 +0000"  >&lt;p&gt;Having a closer look at the example page, trying to understand the idea behind the exclude expressions:&quot;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;com.mycompany.myapp.package1.&amp;#42; means exclude every subpackage of &lt;tt&gt;com.mycompany.myapp.package1&lt;/tt&gt;, but this package itself is included.&lt;/li&gt;
	&lt;li&gt;com.mycompany.myapp.package2 means exclude every package starting with &lt;tt&gt;com.mycompany.myapp.package2&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&amp;#42;.util.&amp;#42; means exclude any package that contains &lt;tt&gt;util&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do you see the difference between the meaning of an expression ending with &lt;tt&gt;.&amp;#42;&lt;/tt&gt;  depending if it starts with &lt;tt&gt;&amp;#42;.&lt;/tt&gt;? IMHO this is inconsistent. One thing that came up: is &lt;tt&gt;&amp;#42;.util&lt;/tt&gt; allowed and what does it mean? It should have a different meaning compared to &lt;tt&gt;&amp;#42;.util.&amp;#42;&lt;/tt&gt;, right?&lt;/p&gt;</comment>
                            <comment id="16787875" author="tmortagne" created="Fri, 8 Mar 2019 13:18:22 +0000"  >&lt;p&gt;I&apos;m not sure we understand each other here. I&apos;m not discussing what is the best syntax, my only concern is finding how I can get my exclude working after upgrading to 3.1.0.&lt;/p&gt;

&lt;p&gt;One thing which is written in the current documentation (&quot;any other wildcard must match exactly one folder&quot;) seems to suggest that there is no way to exclude something located in all sub folders of a package &quot;internal&quot;. Is that true ? Is the document wrong/misleading ?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;One thing that came up: is &lt;b&gt;.util allowed and what does it mean? It should have a different meaning compared to *.util.&lt;/b&gt;, right?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure but again what may concern is how many sub packages does the expression &quot;&lt;b&gt;.util.&lt;/b&gt;&quot; includes ? The documentation suggest only one.&lt;/p&gt;</comment>
                            <comment id="16788069" author="rfscholte" created="Fri, 8 Mar 2019 17:07:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;... how many sub packages does the expression &quot;&lt;b&gt;.util.&lt;/b&gt;&quot; includes ? The documentation suggest only one.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Did you try it? Looking at the expressions (at first not the documentation) what would make sense?&lt;/p&gt;

&lt;p&gt;I&apos;m challenging you a bit here, my experience is that people are bad readers and only &quot;recognize&quot; expressions. Once we agree we can adjust documentation and/or expression resolution.&lt;/p&gt;</comment>
                            <comment id="16789282" author="tmortagne" created="Mon, 11 Mar 2019 08:24:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Did you try it?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just did and it seems the behaviour contradict the documentation I pasted (it&apos;s matching &lt;b&gt;at least&lt;/b&gt; 1 folder and not &lt;b&gt;exactly&lt;/b&gt; 1 folder).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Looking at the expressions (at first not the documentation) what would make sense?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That it match any number of folders but since that&apos;s my need and it always worked like this I might be biased &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16792624" author="nfalco79" created="Thu, 14 Mar 2019 13:06:23 +0000"  >&lt;p&gt;I got the same issue. We had define as exclded package .internal and now does not work anymore. Changing to .internal* does not matches sub packages as I expected and &lt;b&gt;.internal.&lt;/b&gt; does not match the internal root package.&lt;/p&gt;

&lt;p&gt;Seems now I have to use twice matching patterns &lt;b&gt;.internal,&lt;/b&gt;.internal.*&lt;/p&gt;

&lt;p&gt;It&apos;s not immediate and boring also because peoples usually wants exclude a packages with all relative sub packages package. Now they are forced to define rules twice.&lt;/p&gt;</comment>
                            <comment id="16825184" author="famod" created="Wed, 24 Apr 2019 14:06:35 +0000"  >&lt;p&gt;Same here. With 2.10.4 the following is working just fine:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;excludePackageNames&amp;gt;&lt;/span&gt;
    foo.bar.internal
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/excludePackageNames&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which excludes&lt;br/&gt;
&lt;tt&gt;foo.bar.internal.Foo.java&lt;/tt&gt;&lt;br/&gt;
as well as&lt;br/&gt;
&lt;tt&gt;foo.bar.internal.baz.Foo.java&lt;/tt&gt;&lt;br/&gt;
and&lt;br/&gt;
&lt;tt&gt;foo.bar.internal.baz.bing.Foo.java&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Now with 3.1.0 I have to configure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;excludePackageNames&amp;gt;&lt;/span&gt;
    foo.bar.internal:
    foo.bar.internal.*
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/excludePackageNames&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pretty annoying, given the 14 packages (= now 28 lines) that need to be excluded in my current project.&lt;/p&gt;</comment>
                            <comment id="16825286" author="rfscholte" created="Wed, 24 Apr 2019 15:44:41 +0000"  >&lt;p&gt;The change was about consistency and having full control over all the packages to exclude. If the &quot;everything below package X&quot; is good enough, I don&apos;t mind changing that behavior if that helps the community, it simply implies inconsistency of the pattern and not every package structure can be excluded anymore.&lt;/p&gt;</comment>
                            <comment id="17346446" author="hudson" created="Mon, 17 May 2021 21:19:46 +0000"  >&lt;p&gt;Build failed in Jenkins: Maven &#187; Maven TLP &#187; maven-javadoc-plugin &#187; master #65&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-javadoc-plugin/job/master/65/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-javadoc-plugin/job/master/65/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17347076" author="rfscholte" created="Tue, 18 May 2021 17:20:03 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-javadoc-plugin.git;a=commit;h=55982df63f8de5bfbb48aee353bc29b35b1c6a2c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;55982df63f8de5bfbb48aee353bc29b35b1c6a2c&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17957973" author="olamy" created="Tue, 10 Jun 2025 05:09:23 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/880&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#880&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13234468">MJAVADOC-605</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13201942">MJAVADOC-548</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00eoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>