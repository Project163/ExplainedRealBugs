<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:26:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-347] javadoc:aggregate-jar doesn&apos;t create Javadoc JAR if failOnError=false and there is an error</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-347</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We are generating Javadocs for a large multi-module build, so there are bound to be some errors (for example, in 3rd party dependencies).&lt;/p&gt;

&lt;p&gt;Currently we set failOnError=false, but we found that the &lt;tt&gt;aggregate-jar&lt;/tt&gt; MOJO does not produce a JAR if there are errors. The problem comes down to this code in JavadocJar:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
        {
            executeReport( Locale.getDefault() );

            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( innerDestDir.exists() )
            {
                File outputFile = generateArchive( innerDestDir, finalName + &lt;span class=&quot;code-quote&quot;&gt;&quot;-&quot;&lt;/span&gt; + getClassifier() + &lt;span class=&quot;code-quote&quot;&gt;&quot;.jar&quot;&lt;/span&gt; );

                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( !attach )
                {
                    getLog().info( &lt;span class=&quot;code-quote&quot;&gt;&quot;NOT adding javadoc to attached artifacts list.&quot;&lt;/span&gt; );
                }
                &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
                {
                    &lt;span class=&quot;code-comment&quot;&gt;// TODO: these introduced dependencies on the project are going to become problematic - can we expor
&lt;/span&gt;                    &lt;span class=&quot;code-comment&quot;&gt;//  through metadata instead?
&lt;/span&gt;                    projectHelper.attachArtifact( project, &lt;span class=&quot;code-quote&quot;&gt;&quot;javadoc&quot;&lt;/span&gt;, getClassifier(), outputFile );
                }
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( ArchiverException e )
        {
            failOnError( &lt;span class=&quot;code-quote&quot;&gt;&quot;ArchiverException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating archive&quot;&lt;/span&gt;, e );
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( IOException e )
        {
            failOnError( &lt;span class=&quot;code-quote&quot;&gt;&quot;IOException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating archive&quot;&lt;/span&gt;, e );
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( MavenReportException e )
        {
            failOnError( &lt;span class=&quot;code-quote&quot;&gt;&quot;MavenReportException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating archive&quot;&lt;/span&gt;, e );
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( RuntimeException e )
        {
            failOnError( &lt;span class=&quot;code-quote&quot;&gt;&quot;RuntimeException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating archive&quot;&lt;/span&gt;, e );
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If there is an error in &lt;tt&gt;executeReport( Locale.getDefault() )&lt;/tt&gt; then the MOJO will just give up and not try to create the archive. I think that if failOnError is set, then we should try to create the archive anyway.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12804481">MJAVADOC-347</key>
            <summary>javadoc:aggregate-jar doesn&apos;t create Javadoc JAR if failOnError=false and there is an error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="khmarbaise">Karl Heinz Marbaise</assignee>
                                    <reporter username="luuuis">Luis Miranda</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2012 21:13:53 +0000</created>
                <updated>Tue, 10 Jun 2025 04:11:25 +0000</updated>
                            <resolved>Sun, 29 Mar 2015 08:04:54 +0000</resolved>
                                    <version>2.8.1</version>
                                    <fixVersion>2.10.3</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14439585" author="luuuis" created="Tue, 17 Jul 2012 21:30:48 +0000"  >&lt;p&gt;I have attached 2 patches:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12717095/12717095_0001-MJAVADOC-347-added-JavadocJarTest.testContinueIfFail.patch&quot; title=&quot;0001-MJAVADOC-347-added-JavadocJarTest.testContinueIfFail.patch attached to MJAVADOC-347&quot;&gt;0001-MJAVADOC-347-added-JavadocJarTest.testContinueIfFail.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; adds a failing test case that reproduces the bug.&lt;/li&gt;
	&lt;li&gt;Patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12716987/12716987_0002-MJAVADOC-347-continue-with-archive-creation-if-failO.patch&quot; title=&quot;0002-MJAVADOC-347-continue-with-archive-creation-if-failO.patch attached to MJAVADOC-347&quot;&gt;0002-MJAVADOC-347-continue-with-archive-creation-if-failO.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; fixes the bug.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14439806" author="bondolo" created="Thu, 19 Mar 2015 19:29:48 +0000"  >&lt;p&gt;Yes, please create the jar anyway if failOnError=false.&lt;/p&gt;</comment>
                            <comment id="14439710" author="khmarbaise" created="Sun, 29 Mar 2015 08:04:55 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1669907&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1669907&lt;/a&gt;.&lt;br/&gt;
Patch applied with slight modifications of Luis Miranda. Thank you.&lt;/p&gt;</comment>
                            <comment id="17957713" author="olamy" created="Tue, 10 Jun 2025 04:11:25 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/650&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#650&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12717095" name="0001-MJAVADOC-347-added-JavadocJarTest.testContinueIfFail.patch" size="11984" author="luuuis" created="Tue, 17 Jul 2012 21:29:34 +0000"/>
                            <attachment id="12716987" name="0002-MJAVADOC-347-continue-with-archive-creation-if-failO.patch" size="3458" author="luuuis" created="Tue, 17 Jul 2012 21:29:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ahlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>