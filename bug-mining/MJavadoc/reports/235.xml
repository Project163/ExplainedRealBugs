<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:28:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-704] Javadoc plugin does not respect jdkToolchain</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-704</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;If I run the following using JDK 8:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;plugin&amp;gt;
	&amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
	&amp;lt;artifactId&amp;gt;maven-javadoc-plugin&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;3.3.1&amp;lt;/version&amp;gt;
	&amp;lt;executions&amp;gt;
		&amp;lt;execution&amp;gt;
			&amp;lt;id&amp;gt;attach-javadocs&amp;lt;/id&amp;gt;
			&amp;lt;goals&amp;gt;
				&amp;lt;goal&amp;gt;jar&amp;lt;/goal&amp;gt;
			&amp;lt;/goals&amp;gt;
			&amp;lt;configuration&amp;gt;
				&amp;lt;jdkToolchain&amp;gt;
					&amp;lt;version&amp;gt;11&amp;lt;/version&amp;gt;
				&amp;lt;/jdkToolchain&amp;gt;
				&amp;lt;!-- ... ---&amp;gt;
		&amp;lt;/execution&amp;gt;
	&amp;lt;/executions&amp;gt;
&amp;lt;/plugin&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I get:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] Toolchain in maven-javadoc-plugin: JDK[C:\Program Files\Java\jdk-11.0.2]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:jar (attach-javadocs) on project core: Execution attach-javadocs of goal org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:jar failed.
[...]
Caused by: java.lang.UnsupportedOperationException
    at org.codehaus.plexus.languages.java.jpms.CmdModuleNameExtractor.getModuleName (CmdModuleNameExtractor.java:46)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If I run the same code using JDK 11 I get past this point (I get an error relating to the contents of module-info):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:jar (attach-javadocs) on project core: MavenReportException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; generating Javadoc:&#160;
[ERROR] Exit code: 1 - C:\Users\Gili\Documents\pouch\core\src\main\java\module-info.java:3: error: module not found: org.slf4j
[ERROR] &#160; &#160; requires org.slf4j;
[ERROR] &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ^
[ERROR]&#160;
[ERROR] Command line was: cmd.exe /X /C &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;C:\Program Files\Java\jdk-11.0.2\bin\javadoc.exe&quot;&lt;/span&gt; @options @argfile&quot;
[ERROR]&#160;
[ERROR] Refer to the generated Javadoc files in &lt;span class=&quot;code-quote&quot;&gt;&apos;C:\Users\Gili\Documents\pouch\core\target\apidocs&apos;&lt;/span&gt; dir.
[ERROR]&#160;
[ERROR] -&amp;gt; [Help 1] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This seems to imply that &lt;tt&gt;jdkToolchain&lt;/tt&gt; is being ignored.&lt;/p&gt;

&lt;p&gt;On the other hand, if I use &lt;tt&gt;jdkToolchain&lt;/tt&gt; with the maven-compiler-plugin it seems to work just fine. My toolchains.xml file contains:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;toolchains&amp;gt;
&#160; &#160; &amp;lt;toolchain&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;type&amp;gt;jdk&amp;lt;/type&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;provides&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;version&amp;gt;11&amp;lt;/version&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;vendor&amp;gt;oracle&amp;lt;/vendor&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;/provides&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;configuration&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;jdkHome&amp;gt;C:\Program Files\Java\jdk-11.0.2&amp;lt;/jdkHome&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;/configuration&amp;gt;
&#160; &#160; &amp;lt;/toolchain&amp;gt;
&amp;lt;/toolchains&amp;gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Am I doing anything wrong? Or is this a possible bug in the plugin?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13422953">MJAVADOC-704</key>
            <summary>Javadoc plugin does not respect jdkToolchain</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="rfscholte">Robert Scholte</assignee>
                                    <reporter username="cowwoc">Gili</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jan 2022 04:55:38 +0000</created>
                <updated>Tue, 10 Jun 2025 05:22:17 +0000</updated>
                            <resolved>Mon, 17 Jan 2022 19:50:05 +0000</resolved>
                                    <version>3.3.1</version>
                                                    <component>jar</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17476960" author="cowwoc" created="Mon, 17 Jan 2022 05:17:49 +0000"  >&lt;p&gt;The error &lt;tt&gt;module not found: org.slf4j&lt;/tt&gt; was caused by &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8208269,&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8208269.&lt;/a&gt; Building using JDK 17 fixed that problem.&lt;/p&gt;

&lt;p&gt;The original question remains: why am I getting a different result when building using JDK 8 versus 17? I am expecting &lt;tt&gt;jdkToolchain.version=17&lt;/tt&gt; to cause JDK 17&apos;s javadoc tool to get used, but it does not seem to.&lt;/p&gt;</comment>
                            <comment id="17476980" author="cowwoc" created="Mon, 17 Jan 2022 06:34:50 +0000"  >&lt;p&gt;As a workaround, I&apos;ve added &lt;tt&gt;jdkToolchain.version=8&lt;/tt&gt; where necessary and ran the build using JDK 17 instead. Now the build runs to completion.&lt;/p&gt;</comment>
                            <comment id="17477277" author="rfscholte" created="Mon, 17 Jan 2022 15:25:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/commit/ee4132f9d0f6f412784e108305524cf3b3a3009a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/commit/ee4132f9d0f6f412784e108305524cf3b3a3009a&lt;/a&gt; shows it works as expected.&lt;br/&gt;
Or is the IT incomplete?&lt;/p&gt;</comment>
                            <comment id="17477298" author="rfscholte" created="Mon, 17 Jan 2022 15:58:26 +0000"  >&lt;p&gt;Make sure you&apos;re using the most recent version of JDK 11, otherwise you&apos;re hitting the JDK-8208269. 11.0.2 is too old.&lt;/p&gt;</comment>
                            <comment id="17477372" author="cowwoc" created="Mon, 17 Jan 2022 19:19:07 +0000"  >&lt;p&gt;Good catch! Upgrading to JDK 11.0.13 fixed the problem. Sorry for the false alarm. You can close this issue.&lt;/p&gt;</comment>
                            <comment id="17958086" author="olamy" created="Tue, 10 Jun 2025 05:22:17 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/1085&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#1085&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ymuw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>