<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:25:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-116] Impossible to aggregate javadoc if snapshot never built</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-116</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;In a multi-module projet, I build an aggregated Javadoc for the site.&lt;/p&gt;

&lt;p&gt;The project is built with &quot;mvn clean deploy site-deploy&quot;&lt;/p&gt;

&lt;p&gt;When I add a new project, the next build always fails because the javadoc plugin can&apos;t find at least one snapshot for the new added module&lt;/p&gt;

&lt;p&gt;In the following example, I added a new module tele.persistance:pers-commons, which have never been built before.&lt;br/&gt;
Maven tries to download it but it can&apos;t find it (never build before).&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; [INFO] [site:site]
[WARNING] Unable to load parent project from repository: Could not find the model file &apos;/continuum-folders/working-directory/116/../pom.xml&apos;.
[INFO] Skipped &quot;About&quot; report, file &quot;index.html&quot; already exists for the English version.
[ERROR] VM #displayTree: error : too few arguments to macro. Wanted 2 got 0
[ERROR] VM #menuItem: error : too few arguments to macro. Wanted 1 got 0
[INFO] Generate &quot;JavaDocs&quot; report.
[INFO] snapshot tele:commons:1.2.0-alpha-1-SNAPSHOT: checking for updates from mirror.snapshots
[INFO] snapshot tele.persistance:pers-data:1.2.0-alpha-1-SNAPSHOT: checking for updates from mirror.snapshots
[INFO] snapshot tele.persistance:pers-api:1.2.0-alpha-1-SNAPSHOT: checking for updates from mirror.snapshots
[INFO] snapshot tele.persistance:pers-commons:1.2.0-alpha-1-SNAPSHOT: checking for updates from mirror.snapshots
Downloading: http://proxy/maven2-snapshots/repository/tele/persistance/pers-commons/1.2.0-alpha-1-SNAPSHOT/pers-commons-1.2.0-alpha-1-SNAPSHOT.jar
[WARNING] Unable to get resource &apos;tele.persistance:pers-commons:jar:1.2.0-alpha-1-SNAPSHOT&apos; from repository mirror.snapshots (http://proxy/maven2-snapshots/repository)
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Failed to resolve artifact.

Missing:
----------
1) tele.persistance:pers-commons:jar:1.2.0-alpha-1-SNAPSHOT

  Try downloading the file manually from the project website.

  Then, install it using the command: 
      mvn install:install-file -DgroupId=tele.persistance -DartifactId=pers-commons \
          -Dversion=1.2.0-alpha-1-SNAPSHOT -Dpackaging=jar -Dfile=/path/to/file

  Path to dependency: 
  	1) tele.persistance:pers-dao:jar:1.2.0-alpha-1-SNAPSHOT
  	2) tele.persistance:pers-commons:jar:1.2.0-alpha-1-SNAPSHOT

----------
1 required artifact is missing.

for artifact: 
  tele.persistance:pers-dao:jar:1.2.0-alpha-1-SNAPSHOT

from the specified remote repositories:
  central (http://repo1.maven.org/maven2),
  mirror.snapshots (http://proxy/maven2-snapshots/repository)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I make an intermediate &quot;install&quot;, everything works fine&lt;/p&gt;</description>
                <environment></environment>
        <key id="12804281">MJAVADOC-116</key>
            <summary>Impossible to aggregate javadoc if snapshot never built</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="siveton">Siveton Vincent</assignee>
                                    <reporter username="dlecan">dlecan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Mar 2007 05:43:43 +0000</created>
                <updated>Tue, 10 Jun 2025 03:24:36 +0000</updated>
                            <resolved>Mon, 7 Dec 2015 18:31:22 +0000</resolved>
                                    <version>2.2</version>
                                                        <due></due>
                            <votes>51</votes>
                                    <watches>43</watches>
                                                                                                                <comments>
                            <comment id="14438822" author="apetrelli" created="Tue, 3 Apr 2007 10:58:03 +0000"  >&lt;p&gt;The same problem appears during the use of the release plugin: the release fails and I have to install the checked-out code locally before retrying the release.&lt;/p&gt;</comment>
                            <comment id="14438863" author="arned" created="Thu, 12 Apr 2007 05:03:06 +0000"  >&lt;p&gt;I face the same problem. It seems to be a regression, as the problem does not occur with maven-javadoc-plugin 2.0.&lt;/p&gt;</comment>
                            <comment id="14438749" author="dlecan" created="Mon, 14 May 2007 09:55:03 +0000"  >&lt;p&gt;Same thing with releases version of artifacts.&lt;/p&gt;

&lt;p&gt;This is a major issue in a multi-module project when you want to release the project and the aggregated javadoc.&lt;/p&gt;

&lt;p&gt;As the maven-release-plugin does &quot;deploy site-deploy&quot; when release:perform, this step always fails because of this bug.&lt;/p&gt;</comment>
                            <comment id="14438948" author="apetrelli" created="Mon, 23 Jul 2007 13:10:29 +0000"  >&lt;p&gt;Attached a small test case.&lt;br/&gt;
I noticed that the bug is triggered if a module depends on another, even if in correct order.&lt;br/&gt;
This bug is still present in the 2.3 version of the plugin.&lt;/p&gt;</comment>
                            <comment id="14438924" author="apetrelli" created="Thu, 20 Dec 2007 05:37:15 +0000"  >&lt;p&gt;Could someone add the &quot;Testcase included&quot; flag?&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="14439063" author="olamy" created="Thu, 20 Dec 2007 07:00:25 +0000"  >&lt;p&gt;testcase included flag to yes.&lt;/p&gt;</comment>
                            <comment id="14438882" author="siveton" created="Sun, 3 Feb 2008 09:21:09 +0000"  >&lt;p&gt;Fixed in r617996. &lt;br/&gt;
Snapshot deployed but you need to have maven 2.0.8 to run it.&lt;/p&gt;</comment>
                            <comment id="14439086" author="dlecan" created="Mon, 4 Feb 2008 05:50:35 +0000"  >&lt;p&gt;I tried with Maven 2.0.8 and maven-javadoc-plugin-2.4-20080203.152011-3&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] Generate &lt;span class=&quot;code-quote&quot;&gt;&quot;JavaDocs&quot;&lt;/span&gt; report.
[INFO] snapshot tele.persistance:pers-commons:jar:1.3.0-M1-SNAPSHOT: checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; updates from apache.snapshots
Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//people.apache.org/maven-snapshot-repository/tele/persistance/pers-commons/1.3.0-M1-SNAPSHOT/pers-commons-1.3.0-M1-SNAPSHOT.jar
&lt;/span&gt;[WARNING] The dependency: [tele.persistance:pers-commons:jar:1.3.0-M1-SNAPSHOT} can&apos;t be resolved but has been found in the reactor (probably snapshots).
This dependency has been excluded from the Javadoc classpath. You should rerun javadoc after executing mvn install.
[WARNING] IGNORED to add some artifacts in the classpath. See above.

...

[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error during page generation

Embedded error: Error rendering Maven report: Missing:
----------
1) tele.persistance:pers-test:jar:tests:1.3.0-M1-SNAPSHOT

  Try downloading the file manually from the project website.

  Then, install it using the command: 
      mvn install:install-file -DgroupId=tele.persistance -DartifactId=pers-test -Dversion=1.3.0-M1-SNAPSHOT -Dclassifier=tests -Dpackaging=jar -Dfile=/path/to/file

...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t know if javadoc is correctly generated when I see all those WARNING messages.&lt;br/&gt;
Then build fails because of a dependency with &quot;tests&quot; classifier.&lt;/p&gt;

&lt;p&gt;2 questions :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;when a jar file located in reactor is excluded from javadoc, are corresponding project&apos;s classes still included in javadoc ? (aggregate = true)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;are classifiers handled by reactor jar exclusion ?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14438926" author="siveton" created="Mon, 4 Feb 2008 06:13:57 +0000"  >&lt;p&gt;Reopen since checkMissingArtifactsInReactor() doesnt take care of classifier.&lt;/p&gt;</comment>
                            <comment id="14439015" author="siveton" created="Wed, 6 Feb 2008 05:44:42 +0000"  >&lt;p&gt;Damien, did you call mvn site or mvn javadoc:javadoc?&lt;br/&gt;
Could you send us a log with -X?&lt;/p&gt;</comment>
                            <comment id="14439042" author="dlecan" created="Wed, 6 Feb 2008 06:30:04 +0000"  >&lt;p&gt;&amp;gt; did you call mvn site or mvn javadoc:javadoc?&lt;/p&gt;

&lt;p&gt;mvn -DreleaseProfile=true clean deploy site-deploy &lt;/p&gt;

&lt;p&gt;So both site and javadoc:javadoc together.&lt;/p&gt;

&lt;p&gt;Log file is coming...&lt;/p&gt;</comment>
                            <comment id="14438881" author="dlecan" created="Wed, 6 Feb 2008 09:39:57 +0000"  >&lt;p&gt;Log file for mvn -X -DreleaseProfile=true clean deploy site-deploy in attachement.&lt;/p&gt;

&lt;p&gt;Good luck&lt;/p&gt;</comment>
                            <comment id="14438993" author="dlecan" created="Wed, 20 Feb 2008 06:36:52 +0000"  >&lt;p&gt;Vincent, do you need more information to fix the problem ?&lt;/p&gt;</comment>
                            <comment id="14439044" author="wsmoak" created="Mon, 3 Mar 2008 20:28:04 +0000"  >&lt;p&gt;&quot;mvn -DreleaseProfile=true clean deploy site-deploy&quot; works for me with the latest maven-javadoc-plugin snapshot and the attached example.&lt;/p&gt;

&lt;p&gt;(Well, after adding &amp;lt;distributionManagement&amp;gt; &amp;#8211; for future examples, you can use something like &lt;a href=&quot;file:///tmp/repo-MJAVADOC-116&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///tmp/repo-MJAVADOC-116&lt;/a&gt; as the deployment repo url, and likewise for the site deployment url.)&lt;/p&gt;

&lt;p&gt;I&apos;m not sure of the timing, but this &lt;em&gt;may&lt;/em&gt; have been fixed by along with &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-137&quot; title=&quot;javadoc:javadoc always runs as &amp;quot;aggregator&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-137&quot;&gt;&lt;del&gt;MJAVADOC-137&lt;/del&gt;&lt;/a&gt; by reverting the change from &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-104&quot; title=&quot;Javadoc of generated sources is not generated when aggregate=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-104&quot;&gt;&lt;del&gt;MJAVADOC-104&lt;/del&gt;&lt;/a&gt; that added @aggregator.&lt;/p&gt;</comment>
                            <comment id="14438994" author="dlecan" created="Tue, 4 Mar 2008 04:07:41 +0000"  >&lt;p&gt;Still doesn&apos;t work with classifiers&lt;/p&gt;</comment>
                            <comment id="14438945" author="siveton" created="Tue, 4 Mar 2008 16:53:55 +0000"  >&lt;p&gt;Damien, it seems that it is due to @requiresDependencyResolution, not the Javadoc plugin. &lt;br/&gt;
Could you confirm that the error comes from DefaultPluginManager ? &lt;/p&gt;</comment>
                            <comment id="14438976" author="wsmoak" created="Wed, 5 Mar 2008 20:39:15 +0000"  >&lt;p&gt;As mentioned, I can&apos;t reproduce this with the attached example.  &lt;/p&gt;

&lt;p&gt;I&apos;d like to stage the 2.4 release on Friday.&lt;/p&gt;

&lt;p&gt;In order for this to be included, I need a sample project and steps to reproduce the problem.  Otherwise it will either be bumped to 2.5 or closed as Cannot Reproduce.  Thanks!&lt;/p&gt;</comment>
                            <comment id="14439068" author="apetrelli" created="Thu, 6 Mar 2008 02:49:20 +0000"  >&lt;p&gt;Wendy, can you wait one day? I tried some days ago with Tiles and it didn&apos;t work.&lt;/p&gt;</comment>
                            <comment id="14439018" author="dlecan" created="Thu, 6 Mar 2008 03:23:25 +0000"  >&lt;p&gt;Here is a test case which reproduces problem with classifiers and aggregated javadoc.&lt;/p&gt;

&lt;p&gt;It is based on previous patch with following updates :&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;javadoc version 2.4-SNAPSHOT&lt;/li&gt;
	&lt;li&gt;build module 1 test jar (&quot;test-jar&quot; classifier)&lt;/li&gt;
	&lt;li&gt;module 2 depends on module 1 jar AND test-jar. They have to be declared together.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Try &quot;mvn -DreleaseProfile=true clean deploy site-deploy&quot;, it will fail (maven 2.0.8)&lt;/p&gt;

&lt;p&gt;Things to notice :&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;with aggregate = false, it works&lt;/li&gt;
	&lt;li&gt;in module 2, with exactly one of the 2 dependencies (jar OR test-jar), it works (??)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Is it enough to reproduce bug ?&lt;/p&gt;</comment>
                            <comment id="14439106" author="dlecan" created="Thu, 6 Mar 2008 03:25:19 +0000"  >&lt;p&gt;Same test cas as before, but without any target folders.&lt;/p&gt;</comment>
                            <comment id="14439045" author="apetrelli" created="Thu, 6 Mar 2008 12:47:33 +0000"  >&lt;p&gt;Creating Javadocs with:&lt;br/&gt;
mvn javadoc:javadoc&lt;br/&gt;
does not work with Tiles:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/tiles/framework/trunk/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/tiles/framework/trunk/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Added tiles-log.txt as attachment.&lt;/p&gt;</comment>
                            <comment id="14438995" author="dlecan" created="Fri, 7 Mar 2008 03:19:31 +0000"  >&lt;p&gt;Antonio, same problem as me with classifiers.&lt;/p&gt;</comment>
                            <comment id="14438946" author="dlecan" created="Mon, 10 Mar 2008 03:41:15 +0000"  >&lt;p&gt;Wendy, this fix is waited for a long time by many people and is really a major issue.&lt;br/&gt;
Is it really not possible to work on this for 2.4 ?&lt;/p&gt;</comment>
                            <comment id="14438511" author="diathesis" created="Fri, 25 Jul 2008 09:30:45 +0000"  >&lt;p&gt;This is a real thorn in our sides.  Seems like we may have to disable this plugin.&lt;/p&gt;</comment>
                            <comment id="14439184" author="siveton" created="Fri, 25 Jul 2008 11:17:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-197&quot; title=&quot;Provide flag to ignore errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-197&quot;&gt;&lt;del&gt;MJAVADOC-197&lt;/del&gt;&lt;/a&gt; could be a workaround for this issue.&lt;/p&gt;</comment>
                            <comment id="14439057" author="siveton" created="Tue, 29 Jul 2008 19:02:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-197&quot; title=&quot;Provide flag to ignore errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-197&quot;&gt;&lt;del&gt;MJAVADOC-197&lt;/del&gt;&lt;/a&gt; is the only workaround that we could propose at this time.&lt;/p&gt;</comment>
                            <comment id="14439006" author="apetrelli" created="Wed, 30 Jul 2008 02:19:24 +0000"  >&lt;p&gt;Closed as fixed?&lt;br/&gt;
This bug is not fixed, there is only a workaround!&lt;br/&gt;
And anyway, we need to publish aggregated javadoc in Tiles when releasing it through the release plugin.&lt;br/&gt;
Our workaround is installing the tagged version (tagged using release:prepare) before running release:perform.&lt;/p&gt;

&lt;p&gt;So please reopen this bug, or close it as &quot;won&apos;t fix&quot;, &quot;fixed&quot; is misleading.&lt;/p&gt;</comment>
                            <comment id="14439098" author="siveton" created="Wed, 30 Jul 2008 05:48:42 +0000"  >&lt;p&gt;As requested&lt;/p&gt;</comment>
                            <comment id="14439027" author="siveton" created="Wed, 30 Jul 2008 07:34:35 +0000"  >&lt;p&gt;As requested on dev@ by Antonio&lt;/p&gt;</comment>
                            <comment id="14439153" author="shibug" created="Sat, 10 Jan 2009 12:22:14 +0000"  >&lt;p&gt;This problem still persist with version 2.5.  I tried both aggregate configurations and even defined javadoc only at module level but still it tries to download dependent snapshot modules which are not built yet.&lt;/p&gt;</comment>
                            <comment id="14439139" author="shibug" created="Sat, 10 Jan 2009 14:44:48 +0000"  >&lt;p&gt;Can someone explain what is the workaround?&lt;/p&gt;</comment>
                            <comment id="14439232" author="apetrelli" created="Sat, 10 Jan 2009 17:26:30 +0000"  >&lt;p&gt;I think that the workaround in &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-197&quot; title=&quot;Provide flag to ignore errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-197&quot;&gt;&lt;del&gt;MJAVADOC-197&lt;/del&gt;&lt;/a&gt; refers to the failOnError flag:&lt;br/&gt;
&lt;a href=&quot;http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#failOnError&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#failOnError&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14439264" author="shibug" created="Sat, 10 Jan 2009 17:51:12 +0000"  >&lt;p&gt;It is still failing the build if javadoc is run in aggregate mode.  I set the &amp;lt;failOnError&amp;gt;false&amp;lt;/failOnError&amp;gt; but it still fails.&lt;/p&gt;</comment>
                            <comment id="14439270" author="apetrelli" created="Fri, 31 Jul 2009 14:28:30 +0000"  >&lt;p&gt;Tested on Tiles 2.2.0 snapshot (never published).&lt;br/&gt;
Upgrading to Javadoc plugin 2.6 and using the &quot;aggregate&quot; goal, it seems to work even if the snapshot was never built.&lt;/p&gt;</comment>
                            <comment id="14439217" author="apetrelli" created="Fri, 31 Jul 2009 14:29:15 +0000"  >&lt;p&gt;The fix might be due to &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-181&quot; title=&quot;Javadoc report not generated for multi-module project if run from parent level.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-181&quot;&gt;&lt;del&gt;MJAVADOC-181&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14439200" author="dcoraboeuf" created="Sat, 1 Aug 2009 02:50:00 +0000"  >&lt;p&gt;This issue could be due to &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-3685&quot; title=&quot;Dependency can&amp;#39;t be resolved but has been found in the reactor.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-3685&quot;&gt;&lt;del&gt;MNG-3685&lt;/del&gt;&lt;/a&gt; defect.&lt;/p&gt;</comment>
                            <comment id="14439354" author="francisdb" created="Mon, 10 May 2010 11:02:42 +0000"  >&lt;p&gt;Not sure if this is a dupe or just related&lt;/p&gt;</comment>
                            <comment id="14439529" author="pmjroth" created="Thu, 15 Mar 2012 07:42:09 +0000"  >&lt;p&gt;We have the same behaviour, as soon as the aggregate goal is called. In our case, this arrives in the default lifecycle, since we attached the javadoc plugin to the verify phase through a profile. When the profile is activated, the build fails. Furthermore, failOnError , as decribed in &lt;a href=&quot;http://jira.codehaus.org/browse/MJAVADOC-197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MJAVADOC-197&lt;/a&gt;, has no effect here.&lt;/p&gt;

&lt;p&gt;We use maven 3.0.4 and javadoc plugin 2.8.1.&lt;/p&gt;

&lt;p&gt;I attach a project which should allow to reproduce the problem.&lt;/p&gt;</comment>
                            <comment id="14439567" author="pmjroth" created="Thu, 15 Mar 2012 15:43:30 +0000"  >&lt;p&gt;The problem should be reproducible with the project in mymobiliartest.zip&lt;/p&gt;</comment>
                            <comment id="14439594" author="elecharny" created="Mon, 20 Aug 2012 17:11:13 +0000"  >&lt;p&gt;The problem is that for some reason, the Javadoc plugin is run &lt;b&gt;before&lt;/b&gt; the other projects are built, therefore as the associated jars are not present in the ocal .m2 repository.&lt;/p&gt;

&lt;p&gt;For instance, while trying to release MINA, the version of each project is bumped up from XXX-SNAPSHOT to XXX, so the associated jars are not present before the end of the build. Sadly, the javadoc plugin is trying to fetch those jars, with no success.&lt;/p&gt;

&lt;p&gt;If I do a mvn clean install just after the release:prepare, the a second run of the mvn release:prepare now works.&lt;/p&gt;

&lt;p&gt;This is a real problem...&lt;/p&gt;</comment>
                            <comment id="14439470" author="emetsger" created="Wed, 22 Aug 2012 10:02:08 +0000"  >&lt;p&gt;@Emmanuel: We&apos;re probably going to be hit with this bug soon as well.  Every time we use the release plugin, we get clobbered with this.  Is there a tractable solution?  If I had some pointers I&apos;d be willing to attempt a fix.  I&apos;m reasonably familiar with the Maven codebase.&lt;/p&gt;</comment>
                            <comment id="14439584" author="elecharny" created="Wed, 22 Aug 2012 10:29:26 +0000"  >&lt;p&gt;The problem is most certainly that the javadoc plugin is run too soon. It&apos;s most certainly my fault, as I had :&lt;/p&gt;

&lt;p&gt;    &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;apache-release&amp;lt;/id&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;build&amp;gt;&lt;br/&gt;
        &amp;lt;plugins&amp;gt;&lt;br/&gt;
          &amp;lt;plugin&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;maven-javadoc-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;executions&amp;gt;&lt;br/&gt;
              &amp;lt;execution&amp;gt;&lt;br/&gt;
                &amp;lt;phase&amp;gt;package&amp;lt;/phase&amp;gt;   &amp;lt;&amp;lt;&amp;lt;---------------This is BAD !&lt;/p&gt;

&lt;p&gt;                &amp;lt;goals&amp;gt;&lt;br/&gt;
                  &amp;lt;goal&amp;gt;javadoc&amp;lt;/goal&amp;gt;&lt;br/&gt;
                &amp;lt;/goals&amp;gt;&lt;br/&gt;
                &amp;lt;configuration&amp;gt;&lt;br/&gt;
                  &amp;lt;aggregate&amp;gt;true&amp;lt;/aggregate&amp;gt;&lt;/p&gt;

&lt;p&gt;so the javadoc plugin was run before the jars were deployed locally (this is done during the install phase, accordingly to the defaultLifeCycle )&lt;/p&gt;

&lt;p&gt;I changed that to :&lt;br/&gt;
    &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;apache-release&amp;lt;/id&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;build&amp;gt;&lt;br/&gt;
        &amp;lt;plugins&amp;gt;&lt;br/&gt;
          &amp;lt;plugin&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;maven-javadoc-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;executions&amp;gt;&lt;br/&gt;
              &amp;lt;execution&amp;gt;&lt;br/&gt;
                &amp;lt;phase&amp;gt;install&amp;lt;/phase&amp;gt;  &amp;lt;&amp;lt;&amp;lt;----------------------Done &lt;b&gt;after&lt;/b&gt; the install phase. Should work&lt;/p&gt;

&lt;p&gt;                &amp;lt;goals&amp;gt;&lt;br/&gt;
                  &amp;lt;goal&amp;gt;javadoc&amp;lt;/goal&amp;gt;&lt;br/&gt;
                &amp;lt;/goals&amp;gt;&lt;br/&gt;
                &amp;lt;configuration&amp;gt;&lt;br/&gt;
                  &amp;lt;aggregate&amp;gt;true&amp;lt;/aggregate&amp;gt;&lt;br/&gt;
                &amp;lt;/configuration&amp;gt;&lt;br/&gt;
              &amp;lt;/execution&amp;gt;&lt;br/&gt;
            &amp;lt;/executions&amp;gt;&lt;br/&gt;
          &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;As a matter of fact, we do exactly the same thing for the jxr-plugin :&lt;/p&gt;

&lt;p&gt;          &amp;lt;plugin&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;maven-jxr-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;configuration&amp;gt;&lt;br/&gt;
              &amp;lt;aggregate&amp;gt;true&amp;lt;/aggregate&amp;gt;&lt;br/&gt;
            &amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;            &amp;lt;executions&amp;gt;&lt;br/&gt;
              &amp;lt;execution&amp;gt;&lt;br/&gt;
                &amp;lt;phase&amp;gt;install&amp;lt;/phase&amp;gt;    &amp;lt;&amp;lt;&amp;lt;&amp;lt;-----------------------------Smart !!!&lt;/p&gt;

&lt;p&gt;I haven&apos;t run the release with such a modification, but I&apos;m confident that it solves my issue...&lt;/p&gt;</comment>
                            <comment id="14439550" author="emetsger" created="Wed, 22 Aug 2012 10:43:14 +0000"  >&lt;p&gt;@Emmanuel: many thanks for this advice.  We&apos;ll definitely attempt this approach!&lt;/p&gt;</comment>
                            <comment id="14439419" author="elecharny" created="Wed, 22 Aug 2012 10:52:53 +0000"  >&lt;p&gt;Actually, the pb is that doing an aggregate Javadoc this way, you won&apos;t get the javadoc jar deployed on your repo. It will just be generated in target (not sure though, I haven&apos;t run it).&lt;/p&gt;

&lt;p&gt;Another idea would be to create a new module, run at the end, which contains the javadoc plugin. This is pretty much the same as the way we create a global aggregated distribution in a multi-module project.&lt;/p&gt;

&lt;p&gt;I&apos;m even wondering if it would not be a good idea to move the javadoc execution in the distribution module...&lt;/p&gt;</comment>
                            <comment id="14439569" author="pmjroth" created="Thu, 23 Aug 2012 02:10:40 +0000"  >&lt;p&gt;I already tried&lt;/p&gt;

&lt;p&gt;&amp;lt;execution&amp;gt;&lt;br/&gt;
&amp;lt;phase&amp;gt;verify&amp;lt;/phase&amp;gt;&lt;br/&gt;
&amp;lt;/execution&amp;gt;&lt;/p&gt;

&lt;p&gt;but it didn&apos;t solve the issue.&lt;/p&gt;

&lt;p&gt;As far as I have seen, a component (javadoc plugin?, site plugin? or more probably the maven framework itself) checks the dependencies very early in  the life cycle, independently of the phase at which the javadoc is executed.&lt;/p&gt;

&lt;p&gt;I also tried to build with --fail-never. In that case modules are built, but the build itself is reported as failed. The site itself is not generated.&lt;/p&gt;

&lt;p&gt;However the following works:&lt;br/&gt;
mvn install javadoc:aggregate&lt;/p&gt;

&lt;p&gt;This could mean that the javadoc plugin is not involved.&lt;/p&gt;</comment>
                            <comment id="14439512" author="elecharny" created="Thu, 23 Aug 2012 02:20:04 +0000"  >&lt;p&gt;The &apos;verify&apos; phase comes &lt;b&gt;before&lt;/b&gt; the jars are deployed on your repo :&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
post-integration-test&lt;br/&gt;
verify&lt;br/&gt;
install&lt;br/&gt;
deploy&lt;/p&gt;

&lt;p&gt;from &lt;a href=&quot;http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html&lt;/a&gt;, Default Lifecycle&lt;/p&gt;</comment>
                            <comment id="14439437" author="pmjroth" created="Thu, 23 Aug 2012 07:55:02 +0000"  >&lt;p&gt;Sorry, you&apos;re right Emmanuel, &apos;verify&apos; is before &apos;install&apos;. But I also tried &apos;install&apos;, with no success.&lt;/p&gt;

&lt;p&gt;I have debugged what happens in my case. I&apos;ve seen that an exception is thrown when the jar can&apos;t be downloaded. In the catch clause it is then checked if the jar is part of the project. Since it is the case, the exception is ignored and a warning is written (something like &quot;can&apos;t find dependency, but appears to be part of reactor, try to go further&quot;).&lt;/p&gt;

&lt;p&gt;As you see, maven can recover from such an error. However, a file with extension .lastUpdated is written in place of the jar not found. If the same jar is searched for once more, then an new error is thrown and the build fails definitely.&lt;/p&gt;

&lt;p&gt;I didn&apos;t analyze further, because it apears to me to be quite complex. Furthermore, I can circumvent the problem by running &apos;install&apos; and &apos;site&apos; in two separate commands.&lt;/p&gt;
</comment>
                            <comment id="14439772" author="michael-o" created="Tue, 25 Nov 2014 14:40:10 +0000"  >&lt;p&gt;Please refer to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&lt;/a&gt; if you&apos;re wondering why this issue was closed out.&lt;/p&gt;

&lt;p&gt;Assignee, if you think you can fix this bug anytime soon, please reopen and proceed appropriately.&lt;/p&gt;</comment>
                            <comment id="15045425" author="michael-o" created="Mon, 7 Dec 2015 18:30:31 +0000"  >&lt;p&gt;This has been resolved as a duplicate.&lt;/p&gt;</comment>
                            <comment id="17957484" author="olamy" created="Tue, 10 Jun 2025 03:24:36 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#451&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12918111">MJAVADOC-437</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12804379">MJAVADOC-260</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12804380">MJAVADOC-264</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12918111">MJAVADOC-437</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12804243">MJAVADOC-119</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12797314">MNG-3685</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12804488">MJAVADOC-276</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12804271">MJAVADOC-111</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12797365">MNG-3023</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12797320">MNG-3283</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12716919" name="clean javadoc-plugin-test-case with classifier use.zip" size="5202" author="dlecan" created="Thu, 6 Mar 2008 03:25:19 +0000"/>
                            <attachment id="12717060" name="javadoc-plugin-test-case with classifier use.zip" size="161627" author="dlecan" created="Thu, 6 Mar 2008 03:23:25 +0000"/>
                            <attachment id="12716911" name="javadoc-plugin-test-case.zip" size="6023" author="apetrelli" created="Mon, 23 Jul 2007 13:10:29 +0000"/>
                            <attachment id="12717027" name="log.txt" size="413911" author="dlecan" created="Wed, 6 Feb 2008 09:39:57 +0000"/>
                            <attachment id="12716969" name="mymobiliartest.zip" size="48715" author="pmjroth" created="Thu, 15 Mar 2012 15:43:30 +0000"/>
                            <attachment id="12717028" name="tiles-log.txt" size="15347" author="apetrelli" created="Thu, 6 Mar 2008 12:47:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ahqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>