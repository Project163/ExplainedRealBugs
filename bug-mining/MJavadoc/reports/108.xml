<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:26:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-320] includeDependencySources does not handle external dependencies and filters for reactor dependencies correctly</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-320</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Setting includeDependencySources=true should include the -sources artifacts of the dependencies of the current project, filtered via dependencySourceIncludes and/or dependencySourceExcludes, in the javadoc generation. However, there are some major issues with the current implementation:&lt;/p&gt;

&lt;p&gt;1) filters are ignored for reactor dependencies: Scenario: you have an aggregator project consisting of 3 modules, the 3rd module has a dependency to the first and second one, it has includeDependencySources set to true and explicitly excluded the 2nd module from the javadoc sources via dependencySourceExcludes. If you build the aggregator project, the 2nd module will be included nevertheless (filter does not work), but if you build module 3 only, it works as expected.&lt;/p&gt;

&lt;p&gt;2) external dependencies are not added to the javadoc generation: if you have a project which has a dependency which is not part of the current project (e.g. the servlet-api in MyFaces) and you explicitly include it for javadoc generation via dependencySourceIncludes, it won&apos;t be included. The problem here is the dependency resolution with a filter: The ArtifactResolver uses the filter to check the whole dependency trail of an artifact (and not just the artifact itself), thus the current project must also be included by the filter or no dependencies of it will be resolved by the ArtifactResolver. However, the current project is not a dependency of the current project, it is the same and thus not explicitly included by dependencySourceIncludes. This means the filter must be modified for dependency resolution to always include the current project artifact.&lt;/p&gt;

&lt;p&gt;3) includeTransitiveDependencySources does not work as expected: The name of this property implies that not only the current project&apos;s dependencies, but also all transitive dependencies are added for javadoc generation. However, currently this property is only passed on to the PatternIncludesArtifactFilter and/or the PatternExcludesArtifactFilter, which is wrong and actually breaks the include/exclude mechanism if it is set to false (unfortunately the default value).&lt;/p&gt;

&lt;p&gt;I will attach an integration test showing the issues described and a patch solving this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12804403">MJAVADOC-320</key>
            <summary>includeDependencySources does not handle external dependencies and filters for reactor dependencies correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="struberg">Mark Struberg</assignee>
                                    <reporter username="jakobkorherr">Jakob Korherr</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 10:51:56 +0000</created>
                <updated>Tue, 10 Jun 2025 04:10:55 +0000</updated>
                            <resolved>Fri, 8 Jul 2011 07:59:09 +0000</resolved>
                                    <version>2.8</version>
                                    <fixVersion>2.8.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14439543" author="jakobkorherr" created="Thu, 7 Jul 2011 10:58:06 +0000"  >&lt;p&gt;integration test showing issues.&lt;/p&gt;</comment>
                            <comment id="14438526" author="jakobkorherr" created="Thu, 7 Jul 2011 10:59:52 +0000"  >&lt;p&gt;fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-320&quot; title=&quot;includeDependencySources does not handle external dependencies and filters for reactor dependencies correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-320&quot;&gt;&lt;del&gt;MJAVADOC-320&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14439403" author="jakobkorherr" created="Thu, 7 Jul 2011 11:01:30 +0000"  >&lt;p&gt;add link to issue introducing includeDependencySources property.&lt;/p&gt;</comment>
                            <comment id="14439562" author="jakobkorherr" created="Thu, 7 Jul 2011 11:06:29 +0000"  >&lt;p&gt;BTW this issue blocks us in moving MyFaces core from the dependency-plugin with recompilation to the shade-plugin.&lt;/p&gt;</comment>
                            <comment id="14438537" author="jakobkorherr" created="Thu, 7 Jul 2011 12:52:26 +0000"  >&lt;p&gt;updated patches:&lt;/p&gt;

&lt;p&gt;fix-2.patch now also fixes includeTransitiveDependencySources correctly&lt;/p&gt;

&lt;p&gt;integration-test-2.patch removes 2.8.1-SNAPSHOT with @pom.version@&lt;/p&gt;</comment>
                            <comment id="14439416" author="struberg" created="Fri, 8 Jul 2011 07:59:09 +0000"  >&lt;p&gt;patch reviewed, tested and applied.&lt;/p&gt;

&lt;p&gt;Thanks Jakob!&lt;/p&gt;</comment>
                            <comment id="14439509" author="guroo" created="Sun, 2 Oct 2011 06:56:31 +0000"  >&lt;p&gt;Hi.&lt;/p&gt;

&lt;p&gt;I try to use plugin ver.2.8 in multi-module project.&lt;/p&gt;

&lt;p&gt;In parent POM I add plugin config:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
    ...
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-javadoc-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.8&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;includeDependencySources&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/includeDependencySources&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependencySourceIncludes&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependencySourceInclude&amp;gt;&lt;/span&gt;org.springframework.security:*&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependencySourceInclude&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependencySourceIncludes&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
    ...
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When creating javadoc I want to auto downloading dependency sources and add it to the &apos;-source&apos; key of the javadoc utility.&lt;br/&gt;
In this project I just need &apos;org.springframework.security:*&apos; artifacts sources.&lt;/p&gt;

&lt;p&gt;It&apos;s two questions appears:&lt;/p&gt;

&lt;p&gt;1. In result javadocs it isn&apos;t javadocs from dependency sources, in this project from org.springframework.security artifacts sources.&lt;br/&gt;
Is it problem is issue #2 of the &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-320&quot; title=&quot;includeDependencySources does not handle external dependencies and filters for reactor dependencies correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-320&quot;&gt;&lt;del&gt;MJAVADOC-320&lt;/del&gt;&lt;/a&gt;, and it will be fixed in the 2.8.1 release?&lt;/p&gt;

&lt;p&gt;2. If I execute &apos;mvn clean javadoc:aggregate&apos; in the parent module of my project, building seems like without problems, but if I call in parent module &apos;mvn clean javadoc:javadoc&apos;, building put this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/atinject/inject-tck/1.0.0-PFD-3-jboss-1/inject-tck-1.0.0-PFD-3-jboss-1.pom
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.atinject:inject-tck:pom:1.0.0-PFD-3-jboss-1&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/security/spring-security-core/3.0.7.RELEASE/spring-security-core-3.0.7.RELEASE-javadoc-resources.jar
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/joda-time/joda-time/2.0/joda-time-2.0-javadoc-resources.jar
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/atinject/inject-tck/1.0.0-PFD-3-jboss-1/inject-tck-1.0.0-PFD-3-jboss-1.jar
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1-javadoc-resources.jar
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/aopalliance/aopalliance/1.0/aopalliance-1.0-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;joda-time:joda-time:jar:javadoc-resources:2.0&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/aspectj/aspectjrt/1.6.8/aspectjrt-1.6.8-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework.security:spring-security-core:jar:javadoc-resources:3.0.7.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/spring-expression/3.0.6.RELEASE/spring-expression-3.0.6.RELEASE-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.atinject:inject-tck:jar:1.0.0-PFD-3-jboss-1&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;commons-logging:commons-logging:jar:javadoc-resources:1.1.1&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;aopalliance:aopalliance:jar:javadoc-resources:1.0&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.aspectj:aspectjrt:jar:javadoc-resources:1.6.8&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/aspectj/aspectjweaver/1.6.8/aspectjweaver-1.6.8-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-expression:jar:javadoc-resources:3.0.6.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/spring-core/3.0.6.RELEASE/spring-core-3.0.6.RELEASE-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.aspectj:aspectjweaver:jar:javadoc-resources:1.6.8&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-core:jar:javadoc-resources:3.0.6.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/spring-asm/3.0.6.RELEASE/spring-asm-3.0.6.RELEASE-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-asm:jar:javadoc-resources:3.0.6.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/spring-context/3.0.6.RELEASE/spring-context-3.0.6.RELEASE-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-context:jar:javadoc-resources:3.0.6.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/spring-aop/3.0.6.RELEASE/spring-aop-3.0.6.RELEASE-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-aop:jar:javadoc-resources:3.0.6.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/spring-beans/3.0.6.RELEASE/spring-beans-3.0.6.RELEASE-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-beans:jar:javadoc-resources:3.0.6.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/springframework/spring-tx/3.0.6.RELEASE/spring-tx-3.0.6.RELEASE-javadoc-resources.jar
&lt;/span&gt;[INFO] Unable to find resource &lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-tx:jar:javadoc-resources:3.0.6.RELEASE&apos;&lt;/span&gt; in repository central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2)
&lt;/span&gt;[INFO]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What is it, why this dependencies appears, is it plugin dependencies?&lt;br/&gt;
Why this output isn&apos;t appears when I call &apos;mvn clean javadoc:aggregate&apos;?&lt;br/&gt;
This messages appears every time when I call &apos;mvn clean javadoc:javadoc&apos;.&lt;/p&gt;</comment>
                            <comment id="17957680" author="olamy" created="Tue, 10 Jun 2025 04:10:55 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#618&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12804387">MJAVADOC-280</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12716967" name="MJAVADOC-320-fix-2.patch" size="11441" author="" created="Thu, 7 Jul 2011 12:52:26 +0000"/>
                            <attachment id="12717010" name="MJAVADOC-320-fix.patch" size="6940" author="" created="Thu, 7 Jul 2011 10:59:51 +0000"/>
                            <attachment id="12716924" name="MJAVADOC-320-integration-test-2.patch" size="16999" author="" created="Thu, 7 Jul 2011 12:52:26 +0000"/>
                            <attachment id="12716902" name="MJAVADOC-320-integration-test.patch" size="17059" author="" created="Thu, 7 Jul 2011 10:58:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2afon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>