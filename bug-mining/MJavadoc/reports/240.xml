<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:28:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-700] Plugin duplicates classes in Java 8 all-classes  lists</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-700</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Versions 3.3.0 and 3.3.1 of the Javadoc Plugin create allclasses-frame.html and allclasses-noframe.html files that duplicate all classes, interfaces, etc.&lt;/p&gt;

&lt;p&gt;To reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Clone &lt;a href=&quot;https://github.com/robtimus/data-url&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/robtimus/data-url&lt;/a&gt; (a simple and small project that can be used to showcase the issue)&lt;/li&gt;
	&lt;li&gt;Run &lt;tt&gt;mvn javadoc:javadoc&lt;/tt&gt;, which uses version 3.2.0&lt;/li&gt;
	&lt;li&gt;Check target/site/apidocs/allclasses-frame.html - no duplicates&lt;/li&gt;
	&lt;li&gt;Run &lt;tt&gt;mvn javadoc:javadoc -Dversion.plugin.javadoc=3.3.0&lt;/tt&gt; to build the same with version 3.3.0&lt;/li&gt;
	&lt;li&gt;Check target/site/apidocs/allclasses-frame.html - all classes are duplicated&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The same issue occurs with &lt;tt&gt;javadoc:aggregate&lt;/tt&gt;, possibly others as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13414615">MJAVADOC-700</key>
            <summary>Plugin duplicates classes in Java 8 all-classes  lists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michael-o">Michael Osipov</assignee>
                                    <reporter username="Spoor">Rob Spoor</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2021 20:13:58 +0000</created>
                <updated>Tue, 10 Jun 2025 05:22:15 +0000</updated>
                            <resolved>Sun, 12 Feb 2023 15:56:13 +0000</resolved>
                                    <version>3.3.0</version>
                    <version>3.3.1</version>
                                    <fixVersion>3.5.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="17478377" author="lbruun" created="Wed, 19 Jan 2022 07:50:08 +0000"  >&lt;p&gt;Yes, I see this too. Using version &lt;tt&gt;3.2.0&lt;/tt&gt; of the plugin &quot;fixes&quot; the issue.&lt;/p&gt;</comment>
                            <comment id="17523140" author="michael-o" created="Sat, 16 Apr 2022 16:21:28 +0000"  >&lt;p&gt;I can confirm this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit 55982df63f8de5bfbb48aee353bc29b35b1c6a2c
Author: rfscholte &amp;lt;rfscholte@apache.org&amp;gt;
Date:   Mon May 17 22:50:04 2021 +0200

    [MJAVADOC-584] excludePackageNames is not working as documented anymore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;, WDYT?&lt;/p&gt;

&lt;p&gt;I am currently evaluating&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java b/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java
index 0e5eda01..3f9cb2b5 100644
--- a/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java
+++ b/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java
@@ -379,7 +379,7 @@ public class JavadocUtil

             if ( !excluded )
             {
-                files.add( file.replace( &apos;\\&apos;, &apos;/&apos; ) );
+                files.add( file.replace( &apos;\\&apos;, File.separatorChar ) );
             }
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17523144" author="michael-o" created="Sat, 16 Apr 2022 16:37:26 +0000"  >&lt;p&gt;My fix does not work. Windows fails.&lt;/p&gt;</comment>
                            <comment id="17531679" author="alerosmile" created="Wed, 4 May 2022 11:24:51 +0000"  >&lt;p&gt;My guess is that either packages (@packages) or source files (@argfile) should be provided to the javadoc tool, not both. If a class is included in a package and a source file, it is added twice.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/blob/40cc602f84dbb0689020b55b24970cdd7147722c/src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java#L4762&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; for a possible cause of accidentally adding the files. The path has been converted to &apos;/&apos; by&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-584&quot; title=&quot;excludePackageNames is not working as documented anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-584&quot;&gt;&lt;del&gt;MJAVADOC-584&lt;/del&gt;&lt;/a&gt;. But the comparison here on Windows is against &apos;\&apos;.&lt;/p&gt;</comment>
                            <comment id="17533031" author="michael-o" created="Fri, 6 May 2022 18:41:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;, any opinion?&lt;/p&gt;</comment>
                            <comment id="17533224" author="rfscholte" created="Sat, 7 May 2022 08:13:59 +0000"  >&lt;p&gt;Well, it is clearly a bug. Might be that this one was missed when moving from String to Path where possible. It is simply about reproducing it, fixing it and make sure no other IT fails.&lt;/p&gt;</comment>
                            <comment id="17687566" author="mnita_2000" created="Sun, 12 Feb 2023 12:26:40 +0000"  >&lt;p&gt;Here it is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java b/src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java
index 4a9bb04d..8c5a7f92 100644
--- a/src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java
+++ b/src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java
@@ -4550,7 +4550,8 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AbstractJavadocMojo
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; }&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {+&lt;span class=&quot;code-comment&quot;&gt;// By the time we get here the separators have been already normalized to &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;+}
&lt;/span&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( currentFile.indexOf( [-File.separatorChar-]{+&lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;+} ) == -1 )
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; returnList.add( currentSourcePath.resolve( currentFile ).toAbsolutePath().toString() );
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In case the diff is hard to apply, the change is in src/main/java/org/apache/maven/plugins/javadoc/AbstractJavadocMojo.java, in getFilesWithUnnamedPackages, line #4553.&lt;/p&gt;

&lt;p&gt;The current line is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( currentFile.indexOf( File.separatorChar ) == -1 )&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but it should be:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// By the time we get here the separators have been already normalized to &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( currentFile.indexOf( &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt; ) == -1 )&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This only fails on Windows because the File.separatorChar is &apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&apos; (backslash, looks like Jira does not like it).&lt;/p&gt;

&lt;p&gt;But by the time the file name gets here it was already normalized to &apos;/&apos; (one of the previous replaces took care of that).&lt;/p&gt;

&lt;p&gt;&#8212;&lt;/p&gt;

&lt;p&gt;I&apos;ve tested it, works, but I would appreciate if you don&apos;t ask me to create a pull request for this small thing.&lt;/p&gt;

&lt;p&gt;Going through figuring out some new workflow and rules, signing CLAs, creating yet another account somewhere (I already have too many &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, etc.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks a lot, (and I hope for a quick fix &amp;amp; release &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Mihai&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17687574" author="spoor" created="Sun, 12 Feb 2023 13:43:07 +0000"  >&lt;p&gt;Interesting. That like has used &lt;tt&gt;File.separatorChar&lt;/tt&gt; since commit b3ee70162. Later, in commit 0d0e0cc73, two occurrences of &lt;tt&gt;File.separatorChar&lt;/tt&gt; have been replaced with &lt;tt&gt;&apos;/&apos;&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-                    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; lastIndexOfSeparator = currentFile.lastIndexOf( File.separatorChar );
+                    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; lastIndexOfSeparator = currentFile.lastIndexOf( &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt; );
                     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( lastIndexOfSeparator != -1 )
                     {
                         &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; packagename =
-                            currentFile.substring( 0, lastIndexOfSeparator ).replace( File.separatorChar, &lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt; );
+                            currentFile.substring( 0, lastIndexOfSeparator ).replace( &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt; );&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Apparently this one was missed.&lt;/p&gt;</comment>
                            <comment id="17687576" author="spoor" created="Sun, 12 Feb 2023 14:18:24 +0000"  >&lt;p&gt;I am working on a PR. The code&apos;s already there, including a unit test. That fails without the change on my Windows machine, succeeds with the change.&lt;/p&gt;

&lt;p&gt;I&apos;m running &lt;tt&gt;mvn -Prun-its verify&lt;/tt&gt; now, once that&apos;s done I&apos;ll submit the PR.&lt;/p&gt;</comment>
                            <comment id="17687579" author="michael-o" created="Sun, 12 Feb 2023 14:23:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Spoor&quot; class=&quot;user-hover&quot; rel=&quot;Spoor&quot;&gt;Spoor&lt;/a&gt;, thank you! I will happily review and merge!&lt;/p&gt;</comment>
                            <comment id="17687580" author="spoor" created="Sun, 12 Feb 2023 14:25:43 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/180&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/180&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17687593" author="michael-o" created="Sun, 12 Feb 2023 15:56:13 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-javadoc-plugin.git;a=commit;h=41233152e19b9cf01bc3ac5a072ce36d5e911656&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;41233152e19b9cf01bc3ac5a072ce36d5e911656&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17687596" author="spoor" created="Sun, 12 Feb 2023 16:18:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michael-o&quot; class=&quot;user-hover&quot; rel=&quot;michael-o&quot;&gt;michael-o&lt;/a&gt;! And thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mnita_2000&quot; class=&quot;user-hover&quot; rel=&quot;mnita_2000&quot;&gt;mnita_2000&lt;/a&gt; for finding the cause &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17687598" author="michael-o" created="Sun, 12 Feb 2023 17:09:38 +0000"  >&lt;p&gt;Will try to cast the vote today or tomorrow.&lt;/p&gt;</comment>
                            <comment id="17958084" author="olamy" created="Tue, 10 Jun 2025 05:22:15 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/1078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#1078&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13570191">HTTPCLIENT-2322</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0x7zk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>