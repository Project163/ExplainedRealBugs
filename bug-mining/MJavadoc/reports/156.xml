<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:26:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-533] &lt;link&gt; entries that point to a resource that requires an Accept header may be ignored</title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-533</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;This is a regression caused by the changes made to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/MJAVADOC-427&quot; title=&quot;&amp;quot;Error fetching URL&amp;quot; for valid non-Java API links&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAVADOC-427&quot;&gt;&lt;del&gt;MJAVADOC-427&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The HTTP client configuration that&apos;s used to get the redirect URLs does not include an &lt;tt&gt;Accept&lt;/tt&gt; header in the requests that it makes. This can result in a 403 response for some javadoc, such as Spring Framework&apos;s which is fronted by Cloudflare. The lack of &lt;tt&gt;Accept&lt;/tt&gt; header will sometimes cause Cloudflare to respond with a 403 containing a Captcha.&lt;/p&gt;

&lt;p&gt;I&apos;m a member of the Spring Framework team and have asked our sysadmin to look at tweaking Cloudflare&apos;s rules, but I thought it worth reporting the problem here as others may be affected and may not be in a position to change the server&apos;s configuration.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13178046">MJAVADOC-533</key>
            <summary>&lt;link&gt; entries that point to a resource that requires an Accept header may be ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gboue">Guillaume Bou&#233;</assignee>
                                    <reporter username="awilkinson">Andy Wilkinson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Aug 2018 16:18:25 +0000</created>
                <updated>Tue, 10 Jun 2025 04:14:58 +0000</updated>
                            <resolved>Thu, 9 Aug 2018 20:38:33 +0000</resolved>
                                    <version>3.0.1</version>
                                    <fixVersion>3.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16575252" author="awilkinson" created="Thu, 9 Aug 2018 18:30:20 +0000"  >&lt;p&gt;The Cloudflare rule that&apos;s triggered and results in a Captcha challenge is named &lt;tt&gt;IE6 detection &lt;span class=&quot;error&quot;&gt;&amp;#91;Type B&amp;#93;&lt;/span&gt;&lt;/tt&gt;. It seems to require both a missing &lt;tt&gt;Accept&lt;/tt&gt; header and the &lt;tt&gt;User-Agent: &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)&quot;&lt;/tt&gt; header.&lt;/p&gt;</comment>
                            <comment id="16575254" author="gboue" created="Thu, 9 Aug 2018 18:32:00 +0000"  >&lt;p&gt;We could add a Accept header of &lt;tt&gt;&amp;#42;/&amp;#42;&lt;/tt&gt; (I thought was the default according to the HTTP spec (&lt;a href=&quot;https://tools.ietf.org/html/rfc7231#section-5.3.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc7231#section-5.3.2&lt;/a&gt;)). I was able to reproduce the 403 response code generating the docs for &lt;tt&gt;&lt;a href=&quot;https://docs.spring.io/spring/docs/5.0.3.RELEASE/javadoc-api/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.spring.io/spring/docs/5.0.3.RELEASE/javadoc-api/&lt;/a&gt;&lt;/tt&gt;, and adding the header seemed to fix it.&lt;/p&gt;</comment>
                            <comment id="16575265" author="awilkinson" created="Thu, 9 Aug 2018 18:41:11 +0000"  >&lt;p&gt;I don&apos;t really know the reasoning for Cloudflare&apos;s rule behaving the way it does and why it treats no &lt;tt&gt;Accept&lt;/tt&gt; header differently to &lt;tt&gt;Accept &amp;#42;/&amp;#42;&lt;/tt&gt;. It, as you say, is the default after all. Given what &lt;tt&gt;JavadocUtil&lt;/tt&gt; is doing, accepting anything seems reasonable as it&apos;s only really interested in redirects and will accept (and ignore) any body. It wouldn&apos;t address this issue, but given that behaviour perhaps a &lt;tt&gt;HEAD&lt;/tt&gt; request could be used to save some bandwidth?&lt;/p&gt;

&lt;p&gt;In case you&apos;re doing any further testing, our sysadmin&apos;s in the process of tweaking the configuration so you may soon get a 200 back from docs.spring.io even without the &lt;tt&gt;Accept&lt;/tt&gt; header.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16575355" author="gboue" created="Thu, 9 Aug 2018 20:23:33 +0000"  >&lt;p&gt;Yes, I can&apos;t reproduce the issue with &lt;tt&gt;&lt;a href=&quot;https://docs.spring.io/spring/docs/5.0.3.RELEASE/javadoc-api/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.spring.io/spring/docs/5.0.3.RELEASE/javadoc-api/&lt;/a&gt;&lt;/tt&gt; anymore, but the header still needs to be added to account for other possible configurations.&lt;/p&gt;

&lt;p&gt;Fixed in &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-javadoc-plugin.git;a=commit;h=407343bad4cba9431cb490746ca9257c7a6f7594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;407343bad4cba9431cb490746ca9257c7a6f7594&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16575367" author="hudson" created="Thu, 9 Aug 2018 20:36:31 +0000"  >&lt;p&gt;Build failed in Jenkins: Maven TLP &#187; maven-javadoc-plugin &#187; master #55&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-javadoc-plugin/job/master/55/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-javadoc-plugin/job/master/55/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17957909" author="olamy" created="Tue, 10 Jun 2025 04:14:58 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/814&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#814&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ww53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>