<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:26:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MJAVADOC-538] JVM &quot;JAVA_TOOL_OPTIONS&quot; or &quot;_JAVA_OPTIONS&quot; message detected as javadoc warning, triggers failure </title>
                <link>https://issues.apache.org/jira/browse/MJAVADOC-538</link>
                <project id="12317529" key="MJAVADOC">Maven Javadoc Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When an environment variable &lt;tt&gt;_JAVA_OPTIONS&lt;/tt&gt; or&#160;&lt;tt&gt;JAVA_TOOL_OPTIONS&lt;/tt&gt; is defined, every JVM that starts will output a message to inform users of these options being picked up:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ export JAVA_TOOL_OPTIONS=-Dfoo
$ java -version&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;
Picked up JAVA_TOOL_OPTIONS: -Dfoo
java version &quot;1.8.0_181&quot;
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Apparently this message cannot be suppressed, that&apos;s on purpose an won&apos;t change: &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8039152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8039152&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Unfortunately, this message seems to be interpreted by the maven-javadoc-plugin as a warning:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- maven-javadoc-plugin:3.0.1:javadoc-no-fork (generate-javadoc) @ hibernate-search-util-internal-common ---
[INFO] The goal &apos;org.apache.maven.plugins:maven-javadoc-plugin:3.0.1:javadoc&apos; has not been previously called for the module: &apos;org.hibernate.search:hibernate-search-util-internal-test:jar:6.0.0-SNAPSHOT&apos;. Trying to invoke it...
[WARN] Maven will be executed in interactive mode, but no input stream has been configured for this MavenInvoker instance.
Picked up JAVA_TOOL_OPTIONS: -Dfoo
[WARNING] Creating fake javadoc directory to prevent repeated invocations: /home/yrodiere/workspaces/main/hibernate-search-parent/util/internal/test/target/site/apidocs
[ERROR] Error fetching link: /home/yrodiere/workspaces/main/hibernate-search-parent/util/internal/test/target/site/apidocs/package-list. Ignored it.
[WARNING] Javadoc Warnings
[WARNING] Picked up JAVA_TOOL_OPTIONS: -Dfoo
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(see the last line, the message appears in the list of warnings)&lt;/p&gt;

&lt;p&gt;No big deal... until you enable the &lt;a href=&quot;https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-no-fork-mojo.html#failOnWarnings&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;failOnWarnings&lt;/a&gt; option. Then the whole build will fail just because some JVM detected an environment variable...&lt;/p&gt;

&lt;p&gt;I couldn&apos;t find any workaround, except disabling the &lt;tt&gt;failOnWarnings&lt;/tt&gt; options, but that&apos;s more a surrender than a workaround.&lt;/p&gt;

&lt;p&gt;Note that the definition of &lt;tt&gt;_JAVA_OPTIONS&lt;/tt&gt; or&#160;&lt;tt&gt;JAVA_TOOL_OPTIONS&lt;/tt&gt; is not exactly an exotic use case, especially on Continuous Integration platforms. &lt;a href=&quot;https://docs.travis-ci.com/user/build-environment-updates/2017-09-06/#added&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Travis CI uses&#160;&lt;tt&gt;_JAVA_OPTIONS&lt;/tt&gt; &lt;/a&gt; to set JVM memory limits in its containerized environments, and &lt;a href=&quot;https://wiki.jenkins.io/display/JENKINS/Pipeline+Maven+Plugin#PipelineMavenPlugin-WhydoIseemessages%22[WARNING]PickedupJAVA_TOOL_OPTIONS...%22inthebuildlogs?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the Jenkins CI Pipeline Maven plugin uses&#160;&lt;tt&gt;JAVA_TOOL_OPTIONS&lt;/tt&gt;&lt;/a&gt; to pass options to Maven processes transparently.&lt;/p&gt;</description>
                <environment>Maven 3.5.4&lt;br/&gt;
Java 1.8.0_181</environment>
        <key id="13186053">MJAVADOC-538</key>
            <summary>JVM &quot;JAVA_TOOL_OPTIONS&quot; or &quot;_JAVA_OPTIONS&quot; message detected as javadoc warning, triggers failure </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rfscholte">Robert Scholte</assignee>
                                    <reporter username="yrodiere">Yoann Rodi&#232;re</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Sep 2018 13:08:03 +0000</created>
                <updated>Tue, 10 Jun 2025 04:30:40 +0000</updated>
                            <resolved>Mon, 19 Nov 2018 20:37:40 +0000</resolved>
                                    <version>3.0.1</version>
                                    <fixVersion>3.1.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16620931" author="rfscholte" created="Wed, 19 Sep 2018 17:35:15 +0000"  >&lt;p&gt;Interesting, based on &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/blob/master/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java#L1504&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/blob/master/src/main/java/org/apache/maven/plugins/javadoc/JavadocUtil.java#L1504&lt;/a&gt; such lines should be ignored. Seems like there&apos;s a path that doesn&apos;t use this StringStreamConsumer&lt;/p&gt;</comment>
                            <comment id="16685871" author="risdenk" created="Tue, 13 Nov 2018 23:04:47 +0000"  >&lt;p&gt;I think the JavadocUtil&#160;JavadocOutputStreamConsumer class is only getting&#160;utilized by JavadocUtil#getJavadocVersion. AbstractJavadocMojo#executeJavadocCommandLine creates two StringStreamConsumers. It looks like this might be where the issue with the warning is not being filtered out.&lt;/p&gt;</comment>
                            <comment id="16685880" author="risdenk" created="Tue, 13 Nov 2018 23:14:54 +0000"  >&lt;p&gt;Created a pull request:&#160;&lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-javadoc-plugin/pull/11&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16690477" author="rfscholte" created="Sat, 17 Nov 2018 10:31:33 +0000"  >&lt;p&gt;Nice, would love to see a small integration test as well to ensure we won&apos;t get any regression in the future. Can you add that too?&lt;/p&gt;</comment>
                            <comment id="16690791" author="risdenk" created="Sun, 18 Nov 2018 04:06:01 +0000"  >&lt;p&gt;Yup I can take a look at adding a test for this.&lt;/p&gt;</comment>
                            <comment id="16692227" author="rfscholte" created="Mon, 19 Nov 2018 20:37:23 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-javadoc-plugin.git;a=commit;h=631a84ee0a54acc916b0958b9c5b86a5d417712d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;631a84ee0a54acc916b0958b9c5b86a5d417712d&lt;/a&gt;&lt;br/&gt;
Thanks for the patch!&lt;/p&gt;</comment>
                            <comment id="16692257" author="hudson" created="Mon, 19 Nov 2018 20:54:30 +0000"  >&lt;p&gt;Build failed in Jenkins: Maven TLP &#187; maven-javadoc-plugin &#187; master #69&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-javadoc-plugin/job/master/69/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-javadoc-plugin/job/master/69/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17957921" author="olamy" created="Tue, 10 Jun 2025 04:30:40 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-javadoc-plugin/issues/807&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-javadoc-plugin#807&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13192591">MJAVADOC-541</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3y96n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>