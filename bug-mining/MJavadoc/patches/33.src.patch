diff --git a/src/main/java/org/apache/maven/plugin/javadoc/AbstractJavadocMojo.java b/src/main/java/org/apache/maven/plugin/javadoc/AbstractJavadocMojo.java
index 79333455..bb234722 100644
--- a/src/main/java/org/apache/maven/plugin/javadoc/AbstractJavadocMojo.java
+++ b/src/main/java/org/apache/maven/plugin/javadoc/AbstractJavadocMojo.java
@@ -1375,20 +1375,26 @@ public abstract class AbstractJavadocMojo
             {
                 for ( Iterator i = reactorProjects.iterator(); i.hasNext(); )
                 {
-                    MavenProject project = (MavenProject) i.next();
+                    MavenProject subProject = (MavenProject) i.next();
 
-                    List sourceRoots = project.getCompileSourceRoots();
+                    List sourceRoots = subProject.getCompileSourceRoots();
 
-                    if ( project.getExecutionProject() != null )
+                    if ( subProject.getExecutionProject() != null )
                     {
-                        sourceRoots.addAll( project.getExecutionProject().getCompileSourceRoots() );
+                        sourceRoots.addAll( subProject.getExecutionProject().getCompileSourceRoots() );
                     }
 
-                    ArtifactHandler artifactHandler = project.getArtifact().getArtifactHandler();
+                    ArtifactHandler artifactHandler = subProject.getArtifact().getArtifactHandler();
                     if ( "java".equals( artifactHandler.getLanguage() ) )
                     {
                         sourcePaths.addAll( sourceRoots );
                     }
+
+                    File javadocDir = new File( subProject.getExecutionProject().getBasedir(), "src/main/javadoc" );
+                    if ( javadocDir.exists() && javadocDir.isDirectory() )
+                    {
+                        sourcePaths.add( javadocDir.getAbsolutePath() );
+                    }
                 }
             }
 
@@ -2196,8 +2202,8 @@ public abstract class AbstractJavadocMojo
     }
 
     /**
-     * Convenience method that copy the <code>DEFAULT_STYLESHEET_NAME</code> file from the current class
-     * loader to the output directory.
+     * Method that copy the <code>DEFAULT_STYLESHEET_NAME</code> file from the current class
+     * loader to the <code>outputDirectory</code>.
      *
      * @param outputDirectory the output directory
      * @throws java.io.IOException if any
@@ -2235,8 +2241,8 @@ public abstract class AbstractJavadocMojo
     }
 
     /**
-     * Convenience method that copy all <code>doc-files</code> directories from <code>javadocDirectory</code>
-     * to the specified output directory.
+     * Method that copy all <code>doc-files</code> directories from <code>javadocDirectory</code> of
+     * the current projet or of the projects in the reactor to the <code>outputDirectory</code>.
      *
      * @see <a href="http://java.sun.com/j2se/1.4.2/docs/tooldocs/javadoc/whatsnew-1.2.html#docfiles">Reference
      * Guide, Copies new "doc-files" directory for holding images and examples</a>
@@ -2246,23 +2252,51 @@ public abstract class AbstractJavadocMojo
      */
     private void copyJavadocResources( File outputDirectory ) throws IOException
     {
-        if ( javadocDirectory == null )
+        if ( outputDirectory == null || !outputDirectory.exists() )
         {
-            return;
+            throw new IOException( "The outputDirectory " + outputDirectory + " doesn't exists." );
+        }
+
+        if ( javadocDirectory != null )
+        {
+            copyJavadocResources( outputDirectory, new File( javadocDirectory ) );
+        }
+
+        if ( aggregate && project.isExecutionRoot() )
+        {
+            for ( Iterator i = reactorProjects.iterator(); i.hasNext(); )
+            {
+                MavenProject subProject = (MavenProject) i.next();
+
+                if ( subProject != project )
+                {
+                    File javadocDir = new File( subProject.getBasedir(), "src/main/javadoc" );
+                    copyJavadocResources( outputDirectory, javadocDir );
+                }
+            }
         }
+    }
 
-        File javadocDir = new File( javadocDirectory );
+    /**
+     * Convenience method that copy all <code>doc-files</code> directories from <code>javadocDir</code>
+     * to the <code>outputDirectory</code>.
+     *
+     * @param outputDirectory the output directory
+     * @param javadocDir the javadoc directory
+     * @throws java.io.IOException if any
+     */
+    private static void copyJavadocResources( File outputDirectory, File javadocDir ) throws IOException
+    {
         if ( javadocDir.exists() && javadocDir.isDirectory() )
         {
-            List docFiles =
-                FileUtils.getDirectoryNames( new File( javadocDirectory ), "**/doc-files", null, false, true );
+            List docFiles = FileUtils.getDirectoryNames( javadocDir, "**/doc-files", null, false, true );
             for ( Iterator it = docFiles.iterator(); it.hasNext(); )
             {
                 String docFile = (String) it.next();
 
-                File docFileOutput = new File( getOutputDirectory(), docFile );
+                File docFileOutput = new File( outputDirectory, docFile );
                 FileUtils.mkdir( docFileOutput.getAbsolutePath() );
-                FileUtils.copyDirectory( new File( javadocDirectory, docFile ), docFileOutput );
+                FileUtils.copyDirectory( new File( javadocDir, docFile ), docFileOutput );
             }
         }
     }
diff --git a/src/test/java/org/apache/maven/plugin/javadoc/JavadocReportTest.java b/src/test/java/org/apache/maven/plugin/javadoc/JavadocReportTest.java
index 8aac04b9..7498d575 100644
--- a/src/test/java/org/apache/maven/plugin/javadoc/JavadocReportTest.java
+++ b/src/test/java/org/apache/maven/plugin/javadoc/JavadocReportTest.java
@@ -55,6 +55,115 @@ public class JavadocReportTest
         // nop
     }
 
+    /**
+     * Create test repository in target directory.
+     *
+     * @throws IOException
+     *             if any
+     */
+    private void createTestRepo()
+        throws IOException
+    {
+        // ----------------------------------------------------------------------
+        // UMLGraph
+        // ----------------------------------------------------------------------
+
+        File f = new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/2.1" );
+        f.mkdirs();
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/doclet-test/artifact-doclet/umlgraph/UMLGraph/maven-metadata-local.xml" ),
+                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/maven-metadata-local.xml" ) );
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/doclet-test/artifact-doclet/umlgraph/UMLGraph/2.1/UMLGraph-2.1.jar" ),
+                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/2.1/UMLGraph-2.1.jar" ) );
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/doclet-test/artifact-doclet/umlgraph/UMLGraph/2.1/UMLGraph-2.1.pom" ),
+                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/2.1/UMLGraph-2.1.pom" ) );
+
+        // ----------------------------------------------------------------------
+        // UMLGraph-bis
+        // ----------------------------------------------------------------------
+
+        f = new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/2.1" );
+        f.mkdirs();
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/doclet-path-test/artifact-doclet/umlgraph/UMLGraph-bis/maven-metadata-local.xml" ),
+                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/maven-metadata-local.xml" ) );
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/doclet-path-test/artifact-doclet/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.jar" ),
+                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.jar" ) );
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/doclet-path-test/artifact-doclet/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.pom" ),
+                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.pom" ) );
+
+        // ----------------------------------------------------------------------
+        // commons-attributes-compiler
+        // http://www.tullmann.org/pat/taglets/
+        // ----------------------------------------------------------------------
+
+        f = new File( getBasedir(), "target/local-repo/org/tullmann/taglets/1.0" );
+        f.mkdirs();
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/taglet-test/artifact-taglet/org/tullmann/taglets/maven-metadata-local.xml" ),
+                       new File( getBasedir(), "target/local-repo/org/tullmann/taglets/maven-metadata-local.xml" ) );
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/taglet-test/artifact-taglet/org/tullmann/taglets/1.0/taglets-1.0.jar" ),
+                       new File( getBasedir(), "target/local-repo/org/tullmann/taglets/1.0/taglets-1.0.jar" ) );
+
+        FileUtils
+            .copyFile(
+                       new File( getBasedir(),
+                                 "src/test/resources/unit/taglet-test/artifact-taglet/org/tullmann/taglets/1.0/taglets-1.0.pom" ),
+                       new File( getBasedir(), "target/local-repo/org/tullmann/taglets/1.0/taglets-1.0.pom" ) );
+    }
+
+    /**
+     * Convenience method that reads the contents of the specified file object into a string with a
+     * <code>space</code> as line separator.
+     *
+     * @param file the file to be read
+     * @return a String object that contains the contents of the file
+     * @throws IOException if any
+     */
+    private static String readFile( File file )
+        throws IOException
+    {
+        String str = "", strTmp = "";
+        BufferedReader in = new BufferedReader( new FileReader( file ) );
+
+        while ( ( strTmp = in.readLine() ) != null )
+        {
+            str = str + " " + strTmp;
+        }
+        in.close();
+
+        return str;
+    }
+
     /**
      * Test when default configuration is provided for the plugin
      *
@@ -68,7 +177,7 @@ public class JavadocReportTest
         JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
         mojo.execute();
 
-        //package level generated javadoc files
+        // package level generated javadoc files
         File generatedFile = new File( getBasedir(),
                                        "target/test/unit/default-configuration/target/site/apidocs/def/configuration/App.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -93,7 +202,7 @@ public class JavadocReportTest
                                   "target/test/unit/default-configuration/target/site/apidocs/def/configuration/package-use.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //class level generated javadoc files
+        // class level generated javadoc files
         generatedFile = new File( getBasedir(),
                                   "target/test/unit/default-configuration/target/site/apidocs/def/configuration/class-use/App.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -102,7 +211,7 @@ public class JavadocReportTest
                                   "target/test/unit/default-configuration/target/site/apidocs/def/configuration/class-use/AppSample.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //project level generated javadoc files
+        // project level generated javadoc files
         generatedFile = new File( getBasedir(),
                                   "target/test/unit/default-configuration/target/site/apidocs/allclasses-frame.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -156,7 +265,7 @@ public class JavadocReportTest
         JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
         mojo.execute();
 
-        //check the excluded packages
+        // check the excluded packages
         File generatedFile = new File( getBasedir(),
                                        "target/test/unit/subpackages-test/target/site/apidocs/subpackages/test/excluded" );
         assertTrue( !FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -165,7 +274,7 @@ public class JavadocReportTest
                                   "target/test/unit/subpackages-test/target/site/apidocs/subpackages/test/included/exclude" );
         assertTrue( !FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //check if the classes in the specified subpackages were included
+        // check if the classes in the specified subpackages were included
         generatedFile = new File( getBasedir(),
                                   "target/test/unit/subpackages-test/target/site/apidocs/subpackages/test/App.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -195,7 +304,7 @@ public class JavadocReportTest
         JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
         mojo.execute();
 
-        //check if the doc-files subdirectories were copied
+        // check if the doc-files subdirectories were copied
         File generatedFile = new File( getBasedir(), "target/test/unit/docfiles-test/target/site/apidocs/doc-files" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
@@ -217,8 +326,7 @@ public class JavadocReportTest
     }
 
     /**
-     * Test javadoc plugin using custom configuration.
-     * noindex, notree and nodeprecated parameters were set to true
+     * Test javadoc plugin using custom configuration. noindex, notree and nodeprecated parameters were set to true
      *
      * @throws Exception
      */
@@ -230,7 +338,7 @@ public class JavadocReportTest
         JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
         mojo.execute();
 
-        //check if there is a tree page generated (notree == true)
+        // check if there is a tree page generated (notree == true)
         File generatedFile = new File( getBasedir(),
                                        "target/test/unit/custom-configuration/target/site/apidocs/overview-tree.html" );
         assertTrue( !FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -239,13 +347,14 @@ public class JavadocReportTest
                                   "target/test/unit/custom-configuration/target/site/apidocs/custom/configuration/package-tree.html" );
         assertTrue( !FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //check if the main index page was generated (noindex == true)
+        // check if the main index page was generated (noindex == true)
         generatedFile = new File( getBasedir(),
                                   "target/test/unit/custom-configuration/target/site/apidocs/index-all.html" );
         assertTrue( !FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //check if the deprecated list and the deprecated api were generated (nodeprecated == true)
-        //@todo Fix: the class-use of the deprecated api is still created eventhough the deprecated api of that class is no longer generated
+        // check if the deprecated list and the deprecated api were generated (nodeprecated == true)
+        // @todo Fix: the class-use of the deprecated api is still created eventhough the deprecated api of that class
+        // is no longer generated
         generatedFile = new File( getBasedir(),
                                   "target/test/unit/custom-configuration/target/site/apidocs/deprecated-list.html" );
         assertTrue( !FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -254,30 +363,30 @@ public class JavadocReportTest
                                   "target/test/unit/custom-configuration/target/site/apidocs/custom/configuration/App.html" );
         assertTrue( !FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //read the contents of the html files based on some of the parameter values
-        //author == false
+        // read the contents of the html files based on some of the parameter values
+        // author == false
         String str = readFile( new File( getBasedir(),
                                          "target/test/unit/custom-configuration/target/site/apidocs/custom/configuration/AppSample.html" ) );
         assertTrue( str.toLowerCase().indexOf( "author" ) == -1 );
 
-        //bottom
+        // bottom
         assertTrue( str.toUpperCase().indexOf( "SAMPLE BOTTOM CONTENT" ) != -1 );
 
-        //offlineLinks
+        // offlineLinks
         assertTrue( str.toLowerCase().indexOf(
                                                "HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html"
                                                    .toLowerCase() ) != -1 );
 
-        //header
+        // header
         assertTrue( str.toUpperCase().indexOf( "MAVEN JAVADOC PLUGIN TEST" ) != -1 );
 
-        //footer
+        // footer
         assertTrue( str.toUpperCase().indexOf( "MAVEN JAVADOC PLUGIN TEST FOOTER" ) != -1 );
 
-        //nohelp == true
+        // nohelp == true
         assertTrue( str.toUpperCase().indexOf( "/help-doc.html".toUpperCase() ) == -1 );
 
-        //check the wildcard (*) package exclusions -- excludePackageNames parameter
+        // check the wildcard (*) package exclusions -- excludePackageNames parameter
         generatedFile = new File( getBasedir(),
                                   "target/test/unit/custom-configuration/target/site/apidocs/custom/configuration/exclude1/Exclude1App.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -348,7 +457,7 @@ public class JavadocReportTest
         JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
         mojo.execute();
 
-        //check if project1 api files exist
+        // check if project1 api files exist
         File generatedFile = new File( getBasedir(),
                                        "target/test/unit/aggregate-test/target/site/apidocs/aggregate/test/project1/Project1App.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -365,7 +474,7 @@ public class JavadocReportTest
                                   "target/test/unit/aggregate-test/target/site/apidocs/aggregate/test/project1/Project1Test.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //check if project2 api files exist
+        // check if project2 api files exist
         generatedFile = new File( getBasedir(),
                                   "target/test/unit/aggregate-test/target/site/apidocs/aggregate/test/project2/Project2App.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -397,7 +506,7 @@ public class JavadocReportTest
         JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
         mojo.execute();
 
-        //package level generated javadoc files
+        // package level generated javadoc files
         File generatedFile = new File( getBasedir(),
                                        "target/test/unit/quotedpath'test/target/site/apidocs/quotedpath/test/App.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
@@ -406,7 +515,7 @@ public class JavadocReportTest
                                   "target/test/unit/quotedpath'test/target/site/apidocs/quotedpath/test/AppSample.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
-        //project level generated javadoc files
+        // project level generated javadoc files
         generatedFile = new File( getBasedir(), "target/test/unit/quotedpath'test/target/site/apidocs/index-all.html" );
         assertTrue( FileUtils.fileExists( generatedFile.getAbsolutePath() ) );
 
@@ -454,112 +563,6 @@ public class JavadocReportTest
         }
     }
 
-    /**
-     * Create test repository in target directory.
-     * @throws IOException if any
-     */
-    private void createTestRepo()
-        throws IOException
-    {
-        // ----------------------------------------------------------------------
-        // UMLGraph
-        // ----------------------------------------------------------------------
-
-        File f = new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/2.1" );
-        f.mkdirs();
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/doclet-test/artifact-doclet/umlgraph/UMLGraph/maven-metadata-local.xml" ),
-                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/maven-metadata-local.xml" ) );
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/doclet-test/artifact-doclet/umlgraph/UMLGraph/2.1/UMLGraph-2.1.jar" ),
-                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/2.1/UMLGraph-2.1.jar" ) );
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/doclet-test/artifact-doclet/umlgraph/UMLGraph/2.1/UMLGraph-2.1.pom" ),
-                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph/2.1/UMLGraph-2.1.pom" ) );
-
-        // ----------------------------------------------------------------------
-        // UMLGraph-bis
-        // ----------------------------------------------------------------------
-
-        f = new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/2.1" );
-        f.mkdirs();
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/doclet-path-test/artifact-doclet/umlgraph/UMLGraph-bis/maven-metadata-local.xml" ),
-                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/maven-metadata-local.xml" ) );
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/doclet-path-test/artifact-doclet/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.jar" ),
-                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.jar" ) );
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/doclet-path-test/artifact-doclet/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.pom" ),
-                       new File( getBasedir(), "target/local-repo/umlgraph/UMLGraph-bis/2.1/UMLGraph-bis-2.1.pom" ) );
-
-        // ----------------------------------------------------------------------
-        // commons-attributes-compiler
-        // http://www.tullmann.org/pat/taglets/
-        // ----------------------------------------------------------------------
-
-        f = new File( getBasedir(), "target/local-repo/org/tullmann/taglets/1.0" );
-        f.mkdirs();
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/taglet-test/artifact-taglet/org/tullmann/taglets/maven-metadata-local.xml" ),
-                       new File( getBasedir(), "target/local-repo/org/tullmann/taglets/maven-metadata-local.xml" ) );
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/taglet-test/artifact-taglet/org/tullmann/taglets/1.0/taglets-1.0.jar" ),
-                       new File( getBasedir(), "target/local-repo/org/tullmann/taglets/1.0/taglets-1.0.jar" ) );
-
-        FileUtils
-            .copyFile(
-                       new File( getBasedir(),
-                                 "src/test/resources/unit/taglet-test/artifact-taglet/org/tullmann/taglets/1.0/taglets-1.0.pom" ),
-                       new File( getBasedir(), "target/local-repo/org/tullmann/taglets/1.0/taglets-1.0.pom" ) );
-    }
-
-    /**
-     * Read the contents of the specified file object into a string
-     *
-     * @param file the file to be read
-     * @return a String object that contains the contents of the file
-     * @throws IOException
-     */
-    private static String readFile( File file )
-        throws IOException
-    {
-        String str = "", strTmp = "";
-        BufferedReader in = new BufferedReader( new FileReader( file ) );
-
-        while ( ( strTmp = in.readLine() ) != null )
-        {
-            str = str + " " + strTmp;
-        }
-        in.close();
-
-        return str;
-    }
-
     /**
      * Method to test the taglet artifact configuration
      *
@@ -622,8 +625,8 @@ public class JavadocReportTest
     }
 
     /**
-     * Test to find the javadoc executable when <code>java.home</code> is not in the JDK_HOME.
-     * In this case, try to use the <code>JAVA_HOME</code> environment variable.
+     * Test to find the javadoc executable when <code>java.home</code> is not in the JDK_HOME. In this case, try to
+     * use the <code>JAVA_HOME</code> environment variable.
      *
      * @throws Exception
      */
@@ -645,31 +648,73 @@ public class JavadocReportTest
      *
      * @throws Exception
      */
-    public void testJavadocResources() throws Exception
+    public void testJavadocResources()
+        throws Exception
     {
-        File testPom =
-            new File( getBasedir(), "src/test/resources/unit/resources-test/resources-test-plugin-config.xml" );
+        File testPom = new File( getBasedir(),
+                                 "src/test/resources/unit/resources-test/resources-test-plugin-config.xml" );
         JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
         mojo.execute();
 
-        File app =
-            new File( getBasedir(), "target/test/unit/resources-test/target/site/apidocs/resources/test/App.html" );
+        File app = new File( getBasedir(),
+                             "target/test/unit/resources-test/target/site/apidocs/resources/test/App.html" );
         assertTrue( FileUtils.fileExists( app.getAbsolutePath() ) );
         String readed = readFile( app );
         assertTrue( readed.indexOf( "<img src=\"doc-files/maven-feather.png\" alt=\"Maven\"/>" ) != -1 );
-        File feather =
-            new File( getBasedir(),
-                      "target/test/unit/resources-test/target/site/apidocs/resources/test/doc-files/maven-feather.png" );
+        File feather = new File( getBasedir(),
+                                 "target/test/unit/resources-test/target/site/apidocs/resources/test/doc-files/maven-feather.png" );
         assertTrue( FileUtils.fileExists( feather.getAbsolutePath() ) );
 
-        File app2 =
-            new File( getBasedir(), "target/test/unit/resources-test/target/site/apidocs/resources/test2/App2.html" );
+        File app2 = new File( getBasedir(),
+                              "target/test/unit/resources-test/target/site/apidocs/resources/test2/App2.html" );
         assertTrue( FileUtils.fileExists( app2.getAbsolutePath() ) );
         readed = readFile( app2 );
         assertTrue( readed.indexOf( "<img src=\"doc-files/maven-feather.png\" alt=\"Maven\"/>" ) != -1 );
-        File feather2 =
-            new File( getBasedir(),
-                      "target/test/unit/resources-test/target/site/apidocs/resources/test2/doc-files/maven-feather.png" );
+        File feather2 = new File( getBasedir(),
+                                  "target/test/unit/resources-test/target/site/apidocs/resources/test2/doc-files/maven-feather.png" );
         assertFalse( FileUtils.fileExists( feather2.getAbsolutePath() ) );
     }
+
+    /**
+     * Test the javadoc resources in the aggregation case.
+     *
+     * @throws Exception
+     */
+    public void testAggregateJavadocResources()
+        throws Exception
+    {
+        File testPom = new File( getBasedir(),
+                                 "src/test/resources/unit/aggregate-resources-test/aggregate-resources-test-plugin-config.xml" );
+        JavadocReport mojo = (JavadocReport) lookupMojo( "javadoc", testPom );
+        mojo.execute();
+
+        // Test overview
+        String lineSeparator = " ";
+        File overviewSummary = new File( getBasedir(),
+                                         "target/test/unit/aggregate-resources-test/target/site/apidocs/overview-summary.html" );
+        assertTrue( FileUtils.fileExists( overviewSummary.getAbsolutePath() ) );
+        String readed = readFile( overviewSummary );
+        assertTrue( readed.indexOf( "<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">" + lineSeparator
+            + "<TD WIDTH=\"20%\"><B><A HREF=\"resources/test/package-summary.html\">resources.test</A></B></TD>"
+            + lineSeparator + "<TD>blabla</TD>" + lineSeparator + "</TR>" ) != -1 );
+        assertTrue( readed.indexOf( "<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">" + lineSeparator
+            + "<TD WIDTH=\"20%\"><B><A HREF=\"resources/test2/package-summary.html\">resources.test2</A></B></TD>"
+            + lineSeparator + "<TD>&nbsp;</TD>" + lineSeparator + "</TR>" ) != -1 );
+        assertTrue( readed.indexOf( "<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">" + lineSeparator
+            + "<TD WIDTH=\"20%\"><B><A HREF=\"resources2/test/package-summary.html\">resources2.test</A></B></TD>"
+            + lineSeparator + "<TD>blabla</TD>" + lineSeparator + "</TR>" ) != -1 );
+        assertTrue( readed.indexOf( "<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">" + lineSeparator
+            + "<TD WIDTH=\"20%\"><B><A HREF=\"resources2/test2/package-summary.html\">resources2.test2</A></B></TD>"
+            + lineSeparator + "<TD>&nbsp;</TD>" + lineSeparator + "</TR>" ) != -1 );
+
+        // Test doc-files
+        File app = new File( getBasedir(),
+                             "target/test/unit/aggregate-resources-test/target/site/apidocs/resources/test/App.html" );
+        assertTrue( FileUtils.fileExists( app.getAbsolutePath() ) );
+        readed = readFile( app );
+        assertTrue( readed.indexOf( "<img src=\"doc-files/maven-feather.png\" alt=\"Maven\"/>" ) != -1 );
+        File feather = new File( getBasedir(),
+                                 "target/test/unit/aggregate-resources-test/target/site/apidocs/resources/test/doc-files/maven-feather.png" );
+        assertTrue( FileUtils.fileExists( feather.getAbsolutePath() ) );
+    }
 }
diff --git a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject1TestMavenProjectStub.java b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject1TestMavenProjectStub.java
index d3d7c5fb..e142c0c5 100644
--- a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject1TestMavenProjectStub.java
+++ b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject1TestMavenProjectStub.java
@@ -19,6 +19,7 @@ package org.apache.maven.plugin.javadoc.stubs;
  * under the License.
  */
 
+import java.io.File;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.List;
@@ -28,8 +29,8 @@ import org.apache.maven.artifact.Artifact;
 import org.apache.maven.artifact.factory.ArtifactFactory;
 import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
 import org.apache.maven.model.Build;
-import org.apache.maven.model.Scm;
 import org.apache.maven.plugin.testing.stubs.MavenProjectStub;
+import org.apache.maven.project.MavenProject;
 import org.apache.maven.project.artifact.InvalidDependencyVersionException;
 
 /**
@@ -38,8 +39,6 @@ import org.apache.maven.project.artifact.InvalidDependencyVersionException;
 public class AggregateProject1TestMavenProjectStub
     extends MavenProjectStub
 {
-    private Scm scm;
-
     private Build build;
 
     public AggregateProject1TestMavenProjectStub()
@@ -50,62 +49,59 @@ public class AggregateProject1TestMavenProjectStub
         setPackaging( "jar" );
         setExecutionRoot( true );
 
-        Artifact artifact =
-            new JavadocPluginArtifactStub( getGroupId(), getArtifactId(), getVersion(), getPackaging() );
+        Artifact artifact = new JavadocPluginArtifactStub( getGroupId(), getArtifactId(), getVersion(), getPackaging() );
         artifact.setArtifactHandler( new DefaultArtifactHandlerStub() );
         setArtifact( artifact );
 
-        scm = new Scm();
-        scm.setConnection( "scm:svn:http://svn.apache.org/maven/sample/trunk" );
-
         build = new Build();
         build.setFinalName( "aggregate-test-project1" );
-        build.setDirectory( getBasedir() + "/target/test/unit/aggregate-test/target" );
+        build.setDirectory( super.getBasedir() + "/target/test/unit/aggregate-test/target" );
 
         String basedir = getBasedir().getAbsolutePath();
         List compileSourceRoots = new ArrayList();
-        compileSourceRoots.add( basedir + "/src/test/resources/unit/aggregate-test/project1/aggregate/test/project1" );
+        compileSourceRoots.add( basedir + "/aggregate/test/project1" );
         setCompileSourceRoots( compileSourceRoots );
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#getScm()
+     * @see org.apache.maven.project.MavenProject#getBuild()
      */
-    public Scm getScm()
+    public Build getBuild()
     {
-        return scm;
+        return build;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#setScm(org.apache.maven.model.Scm)
+     * @see org.apache.maven.project.MavenProject#setBuild(org.apache.maven.model.Build)
      */
-    public void setScm( Scm scm )
+    public void setBuild( Build build )
     {
-        this.scm = scm;
+        this.build = build;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#getBuild()
+     * @see org.apache.maven.project.MavenProject#createArtifacts(org.apache.maven.artifact.factory.ArtifactFactory,
+     *      java.lang.String, org.apache.maven.artifact.resolver.filter.ArtifactFilter)
      */
-    public Build getBuild()
+    public Set createArtifacts( ArtifactFactory artifactFactory, String string, ArtifactFilter artifactFilter )
+        throws InvalidDependencyVersionException
     {
-        return build;
+        return Collections.EMPTY_SET;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#setBuild(org.apache.maven.model.Build)
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBasedir()
      */
-    public void setBuild( Build build )
+    public File getBasedir()
     {
-        this.build = build;
+        return new File( super.getBasedir() + "/src/test/resources/unit/aggregate-test/project1" );
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#createArtifacts(org.apache.maven.artifact.factory.ArtifactFactory, java.lang.String, org.apache.maven.artifact.resolver.filter.ArtifactFilter)
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getExecutionProject()
      */
-    public Set createArtifacts( ArtifactFactory artifactFactory, String string, ArtifactFilter artifactFilter )
-        throws InvalidDependencyVersionException
+    public MavenProject getExecutionProject()
     {
-        return Collections.EMPTY_SET;
+        return this;
     }
 }
diff --git a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject2TestMavenProjectStub.java b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject2TestMavenProjectStub.java
index ee872466..fdf5178d 100644
--- a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject2TestMavenProjectStub.java
+++ b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateProject2TestMavenProjectStub.java
@@ -19,6 +19,7 @@ package org.apache.maven.plugin.javadoc.stubs;
  * under the License.
  */
 
+import java.io.File;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.List;
@@ -28,8 +29,8 @@ import org.apache.maven.artifact.Artifact;
 import org.apache.maven.artifact.factory.ArtifactFactory;
 import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
 import org.apache.maven.model.Build;
-import org.apache.maven.model.Scm;
 import org.apache.maven.plugin.testing.stubs.MavenProjectStub;
+import org.apache.maven.project.MavenProject;
 import org.apache.maven.project.artifact.InvalidDependencyVersionException;
 
 /**
@@ -38,8 +39,6 @@ import org.apache.maven.project.artifact.InvalidDependencyVersionException;
 public class AggregateProject2TestMavenProjectStub
     extends MavenProjectStub
 {
-    private Scm scm;
-
     private Build build;
 
     public AggregateProject2TestMavenProjectStub()
@@ -50,62 +49,59 @@ public class AggregateProject2TestMavenProjectStub
         setPackaging( "jar" );
         setExecutionRoot( true );
 
-        Artifact artifact =
-            new JavadocPluginArtifactStub( getGroupId(), getArtifactId(), getVersion(), getPackaging() );
+        Artifact artifact = new JavadocPluginArtifactStub( getGroupId(), getArtifactId(), getVersion(), getPackaging() );
         artifact.setArtifactHandler( new DefaultArtifactHandlerStub() );
         setArtifact( artifact );
 
-        scm = new Scm();
-        scm.setConnection( "scm:svn:http://svn.apache.org/maven/sample/trunk" );
-
         build = new Build();
         build.setFinalName( "aggregate-test-project2" );
-        build.setDirectory( getBasedir() + "/target/test/unit/aggregate-test/target" );
+        build.setDirectory( super.getBasedir() + "/target/test/unit/aggregate-test/target" );
 
         String basedir = getBasedir().getAbsolutePath();
         List compileSourceRoots = new ArrayList();
-        compileSourceRoots.add( basedir + "/src/test/resources/unit/aggregate-test/project2/aggregate/test/project2" );
+        compileSourceRoots.add( basedir + "/aggregate/test/project2" );
         setCompileSourceRoots( compileSourceRoots );
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#getScm()
+     * @see org.apache.maven.project.MavenProject#getBuild()
      */
-    public Scm getScm()
+    public Build getBuild()
     {
-        return scm;
+        return build;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#setScm(org.apache.maven.model.Scm)
+     * @see org.apache.maven.project.MavenProject#setBuild(org.apache.maven.model.Build)
      */
-    public void setScm( Scm scm )
+    public void setBuild( Build build )
     {
-        this.scm = scm;
+        this.build = build;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#getBuild()
+     * @see org.apache.maven.project.MavenProject#createArtifacts(org.apache.maven.artifact.factory.ArtifactFactory,
+     *      java.lang.String, org.apache.maven.artifact.resolver.filter.ArtifactFilter)
      */
-    public Build getBuild()
+    public Set createArtifacts( ArtifactFactory artifactFactory, String string, ArtifactFilter artifactFilter )
+        throws InvalidDependencyVersionException
     {
-        return build;
+        return Collections.EMPTY_SET;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#setBuild(org.apache.maven.model.Build)
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBasedir()
      */
-    public void setBuild( Build build )
+    public File getBasedir()
     {
-        this.build = build;
+        return new File( super.getBasedir() + "/src/test/resources/unit/aggregate-test/project2" );
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#createArtifacts(org.apache.maven.artifact.factory.ArtifactFactory, java.lang.String, org.apache.maven.artifact.resolver.filter.ArtifactFilter)
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getExecutionProject()
      */
-    public Set createArtifacts( ArtifactFactory artifactFactory, String string, ArtifactFilter artifactFilter )
-        throws InvalidDependencyVersionException
+    public MavenProject getExecutionProject()
     {
-        return Collections.EMPTY_SET;
+        return this;
     }
 }
diff --git a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesProject1TestMavenProjectStub.java b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesProject1TestMavenProjectStub.java
new file mode 100644
index 00000000..a59909cb
--- /dev/null
+++ b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesProject1TestMavenProjectStub.java
@@ -0,0 +1,127 @@
+package org.apache.maven.plugin.javadoc.stubs;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *  http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+import java.io.File;
+import java.io.FileReader;
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+import java.util.Set;
+
+import org.apache.maven.artifact.Artifact;
+import org.apache.maven.artifact.factory.ArtifactFactory;
+import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
+import org.apache.maven.model.Build;
+import org.apache.maven.model.Model;
+import org.apache.maven.model.io.xpp3.MavenXpp3Reader;
+import org.apache.maven.plugin.testing.stubs.MavenProjectStub;
+import org.apache.maven.project.MavenProject;
+import org.apache.maven.project.artifact.InvalidDependencyVersionException;
+
+/**
+ * @author <a href="mailto:vincent.siveton@gmail.com">Vincent Siveton</a>
+ */
+public class AggregateResourcesProject1TestMavenProjectStub
+    extends MavenProjectStub
+{
+    private Build build;
+
+    public AggregateResourcesProject1TestMavenProjectStub()
+    {
+        MavenXpp3Reader pomReader = new MavenXpp3Reader();
+        Model model = null;
+
+        try
+        {
+            model = pomReader.read( new FileReader( new File( getBasedir(), "pom.xml" ) ) );
+            setModel( model );
+        }
+        catch ( Exception e )
+        {
+            throw new RuntimeException( e );
+        }
+
+        setGroupId( model.getGroupId() );
+        setArtifactId( model.getArtifactId() );
+        setVersion( model.getVersion() );
+        setName( model.getName() );
+        setUrl( model.getUrl() );
+        setPackaging( model.getPackaging() );
+
+        setExecutionRoot( true );
+
+        Artifact artifact = new JavadocPluginArtifactStub( getGroupId(), getArtifactId(), getVersion(), getPackaging() );
+        artifact.setArtifactHandler( new DefaultArtifactHandlerStub() );
+        setArtifact( artifact );
+
+        Build build = new Build();
+        build.setFinalName( model.getArtifactId() );
+        build.setSourceDirectory( getBasedir() + "/src/main/java" );
+        build.setDirectory( super.getBasedir() + "/target/test/unit/aggregate-resources-test/project1/target" );
+        setBuild( build );
+
+        List compileSourceRoots = new ArrayList();
+        compileSourceRoots.add( getBasedir() + "/src/main/java" );
+        setCompileSourceRoots( compileSourceRoots );
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBuild()
+     */
+    public Build getBuild()
+    {
+        return build;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#setBuild(org.apache.maven.model.Build)
+     */
+    public void setBuild( Build build )
+    {
+        this.build = build;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBasedir()
+     */
+    public File getBasedir()
+    {
+        return new File( super.getBasedir() + "/src/test/resources/unit/aggregate-resources-test/project1" );
+    }
+
+    /**
+     * @see org.apache.maven.project.MavenProject#createArtifacts(org.apache.maven.artifact.factory.ArtifactFactory,
+     *      java.lang.String, org.apache.maven.artifact.resolver.filter.ArtifactFilter)
+     */
+    public Set createArtifacts( ArtifactFactory artifactFactory, String string, ArtifactFilter artifactFilter )
+        throws InvalidDependencyVersionException
+    {
+        return Collections.EMPTY_SET;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getExecutionProject()
+     */
+    public MavenProject getExecutionProject()
+    {
+        return this;
+    }
+}
diff --git a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesProject2TestMavenProjectStub.java b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesProject2TestMavenProjectStub.java
new file mode 100644
index 00000000..b5004087
--- /dev/null
+++ b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesProject2TestMavenProjectStub.java
@@ -0,0 +1,127 @@
+package org.apache.maven.plugin.javadoc.stubs;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *  http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+import java.io.File;
+import java.io.FileReader;
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+import java.util.Set;
+
+import org.apache.maven.artifact.Artifact;
+import org.apache.maven.artifact.factory.ArtifactFactory;
+import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
+import org.apache.maven.model.Build;
+import org.apache.maven.model.Model;
+import org.apache.maven.model.io.xpp3.MavenXpp3Reader;
+import org.apache.maven.plugin.testing.stubs.MavenProjectStub;
+import org.apache.maven.project.MavenProject;
+import org.apache.maven.project.artifact.InvalidDependencyVersionException;
+
+/**
+ * @author <a href="mailto:vincent.siveton@gmail.com">Vincent Siveton</a>
+ */
+public class AggregateResourcesProject2TestMavenProjectStub
+    extends MavenProjectStub
+{
+    private Build build;
+
+    public AggregateResourcesProject2TestMavenProjectStub()
+    {
+        MavenXpp3Reader pomReader = new MavenXpp3Reader();
+        Model model = null;
+
+        try
+        {
+            model = pomReader.read( new FileReader( new File( getBasedir(), "pom.xml" ) ) );
+            setModel( model );
+        }
+        catch ( Exception e )
+        {
+            throw new RuntimeException( e );
+        }
+
+        setGroupId( model.getGroupId() );
+        setArtifactId( model.getArtifactId() );
+        setVersion( model.getVersion() );
+        setName( model.getName() );
+        setUrl( model.getUrl() );
+        setPackaging( model.getPackaging() );
+
+        setExecutionRoot( true );
+
+        Artifact artifact = new JavadocPluginArtifactStub( getGroupId(), getArtifactId(), getVersion(), getPackaging() );
+        artifact.setArtifactHandler( new DefaultArtifactHandlerStub() );
+        setArtifact( artifact );
+
+        Build build = new Build();
+        build.setFinalName( model.getArtifactId() );
+        build.setSourceDirectory( getBasedir() + "/src/main/java" );
+        build.setDirectory( super.getBasedir() + "/target/test/unit/aggregate-resources-test/project2/target" );
+        setBuild( build );
+
+        List compileSourceRoots = new ArrayList();
+        compileSourceRoots.add( getBasedir() + "/src/main/java" );
+        setCompileSourceRoots( compileSourceRoots );
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBuild()
+     */
+    public Build getBuild()
+    {
+        return build;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#setBuild(org.apache.maven.model.Build)
+     */
+    public void setBuild( Build build )
+    {
+        this.build = build;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBasedir()
+     */
+    public File getBasedir()
+    {
+        return new File( super.getBasedir() + "/src/test/resources/unit/aggregate-resources-test/project2" );
+    }
+
+    /**
+     * @see org.apache.maven.project.MavenProject#createArtifacts(org.apache.maven.artifact.factory.ArtifactFactory,
+     *      java.lang.String, org.apache.maven.artifact.resolver.filter.ArtifactFilter)
+     */
+    public Set createArtifacts( ArtifactFactory artifactFactory, String string, ArtifactFilter artifactFilter )
+        throws InvalidDependencyVersionException
+    {
+        return Collections.EMPTY_SET;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getExecutionProject()
+     */
+    public MavenProject getExecutionProject()
+    {
+        return this;
+    }
+}
diff --git a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesTestMavenProjectStub.java b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesTestMavenProjectStub.java
new file mode 100644
index 00000000..8f42a368
--- /dev/null
+++ b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateResourcesTestMavenProjectStub.java
@@ -0,0 +1,123 @@
+package org.apache.maven.plugin.javadoc.stubs;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *  http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+import java.io.File;
+import java.io.FileReader;
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+import java.util.Set;
+
+import org.apache.maven.artifact.factory.ArtifactFactory;
+import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
+import org.apache.maven.model.Build;
+import org.apache.maven.model.Model;
+import org.apache.maven.model.Scm;
+import org.apache.maven.model.io.xpp3.MavenXpp3Reader;
+import org.apache.maven.plugin.testing.stubs.MavenProjectStub;
+import org.apache.maven.project.MavenProject;
+import org.apache.maven.project.artifact.InvalidDependencyVersionException;
+
+/**
+ * @author <a href="mailto:vincent.siveton@gmail.com">Vincent Siveton</a>
+ */
+public class AggregateResourcesTestMavenProjectStub
+    extends MavenProjectStub
+{
+    private Build build;
+
+    public AggregateResourcesTestMavenProjectStub()
+    {
+        MavenXpp3Reader pomReader = new MavenXpp3Reader();
+        Model model = null;
+
+        try
+        {
+            model = pomReader.read( new FileReader( new File( getBasedir()
+                + "/aggregate-resources-test-plugin-config.xml" ) ) );
+            setModel( model );
+        }
+        catch ( Exception e )
+        {
+            throw new RuntimeException( e );
+        }
+
+        setGroupId( model.getGroupId() );
+        setArtifactId( model.getArtifactId() );
+        setVersion( model.getVersion() );
+        setName( model.getName() );
+        setUrl( model.getUrl() );
+        setPackaging( model.getPackaging() );
+
+        setExecutionRoot( true );
+
+        Build build = new Build();
+        build.setFinalName( model.getArtifactId() );
+        build.setSourceDirectory( getBasedir() + "/src/main/java" );
+        build.setDirectory( super.getBasedir() + "/target/test/unit/aggregate-resources-test/target" );
+        setBuild( build );
+
+        List compileSourceRoots = new ArrayList();
+        setCompileSourceRoots( compileSourceRoots );
+    }
+
+    /**
+     * @see org.apache.maven.project.MavenProject#getBuild()
+     */
+    public Build getBuild()
+    {
+        return build;
+    }
+
+    /**
+     * @see org.apache.maven.project.MavenProject#setBuild(org.apache.maven.model.Build)
+     */
+    public void setBuild( Build build )
+    {
+        this.build = build;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBasedir()
+     */
+    public File getBasedir()
+    {
+        return new File( super.getBasedir() + "/src/test/resources/unit/aggregate-resources-test" );
+    }
+
+    /**
+     * @see org.apache.maven.project.MavenProject#createArtifacts(org.apache.maven.artifact.factory.ArtifactFactory,
+     *      java.lang.String, org.apache.maven.artifact.resolver.filter.ArtifactFilter)
+     */
+    public Set createArtifacts( ArtifactFactory artifactFactory, String string, ArtifactFilter artifactFilter )
+        throws InvalidDependencyVersionException
+    {
+        return Collections.EMPTY_SET;
+    }
+
+    /**
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getExecutionProject()
+     */
+    public MavenProject getExecutionProject()
+    {
+        return this;
+    }
+}
diff --git a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateTestMavenProjectStub.java b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateTestMavenProjectStub.java
index 740ef261..d1559323 100644
--- a/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateTestMavenProjectStub.java
+++ b/src/test/java/org/apache/maven/plugin/javadoc/stubs/AggregateTestMavenProjectStub.java
@@ -19,25 +19,23 @@ package org.apache.maven.plugin.javadoc.stubs;
  * under the License.
  */
 
-import org.apache.maven.model.Build;
-import org.apache.maven.model.Model;
-import org.apache.maven.model.Scm;
-import org.apache.maven.model.io.xpp3.MavenXpp3Reader;
-import org.apache.maven.plugin.testing.stubs.MavenProjectStub;
-
 import java.io.File;
 import java.io.FileReader;
 import java.util.ArrayList;
 import java.util.List;
 
+import org.apache.maven.model.Build;
+import org.apache.maven.model.Model;
+import org.apache.maven.model.io.xpp3.MavenXpp3Reader;
+import org.apache.maven.plugin.testing.stubs.MavenProjectStub;
+import org.apache.maven.project.MavenProject;
+
 /**
  * @author <a href="mailto:oching@apache.org">Maria Odea Ching</a>
  */
 public class AggregateTestMavenProjectStub
     extends MavenProjectStub
 {
-    private Scm scm;
-
     private Build build;
 
     public AggregateTestMavenProjectStub()
@@ -47,8 +45,7 @@ public class AggregateTestMavenProjectStub
 
         try
         {
-            model = pomReader.read( new FileReader( new File(
-                getBasedir() + "/src/test/resources/unit/aggregate-test/aggregate-test-plugin-config.xml" ) ) );
+            model = pomReader.read( new FileReader( new File( getBasedir(), "aggregate-test-plugin-config.xml" ) ) );
             setModel( model );
         }
         catch ( Exception e )
@@ -64,48 +61,44 @@ public class AggregateTestMavenProjectStub
         setPackaging( model.getPackaging() );
         setExecutionRoot( true );
 
-        scm = new Scm();
-        scm.setConnection( "scm:svn:http://svn.apache.org/maven/sample/trunk" );
-
         build = new Build();
         build.setFinalName( model.getArtifactId() );
-        build.setDirectory( getBasedir() + "/target/test/unit/aggregate-test/target" );
+        build.setDirectory( super.getBasedir() + "/target/test/unit/aggregate-test/target" );
 
-        String basedir = getBasedir().getAbsolutePath();
         List compileSourceRoots = new ArrayList();
-        compileSourceRoots.add( basedir + "/src/test/resources/unit/aggregate-test/aggregate/test" );
+        compileSourceRoots.add( getBasedir() + "/src/main/java" );
         setCompileSourceRoots( compileSourceRoots );
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#getScm()
+     * @see org.apache.maven.project.MavenProject#getBuild()
      */
-    public Scm getScm()
+    public Build getBuild()
     {
-        return scm;
+        return build;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#setScm(org.apache.maven.model.Scm)
+     * @see org.apache.maven.project.MavenProject#setBuild(org.apache.maven.model.Build)
      */
-    public void setScm( Scm scm )
+    public void setBuild( Build build )
     {
-        this.scm = scm;
+        this.build = build;
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#getBuild()
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getBasedir()
      */
-    public Build getBuild()
+    public File getBasedir()
     {
-        return build;
+        return new File( super.getBasedir() + "/src/test/resources/unit/aggregate-test" );
     }
 
     /**
-     * @see org.apache.maven.project.MavenProject#setBuild(org.apache.maven.model.Build)
+     * @see org.apache.maven.plugin.testing.stubs.MavenProjectStub#getExecutionProject()
      */
-    public void setBuild( Build build )
+    public MavenProject getExecutionProject()
     {
-        this.build = build;
+        return this;
     }
 }
diff --git a/src/test/resources/unit/aggregate-resources-test/aggregate-resources-test-plugin-config.xml b/src/test/resources/unit/aggregate-resources-test/aggregate-resources-test-plugin-config.xml
new file mode 100644
index 00000000..f0adcb0d
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/aggregate-resources-test-plugin-config.xml
@@ -0,0 +1,48 @@
+<!--
+Licensed to the Apache Software Foundation (ASF) under one
+or more contributor license agreements.  See the NOTICE file
+distributed with this work for additional information
+regarding copyright ownership.  The ASF licenses this file
+to you under the Apache License, Version 2.0 (the
+"License"); you may not use this file except in compliance
+with the License.  You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing,
+software distributed under the License is distributed on an
+"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+KIND, either express or implied.  See the License for the
+specific language governing permissions and limitations
+under the License.
+-->
+
+<project>
+  <modelVersion>4.0.0</modelVersion>
+  <groupId>aggregate.resources.test</groupId>
+  <artifactId>aggregate-resources-test</artifactId>
+  <packaging>jar</packaging>
+  <version>1.0-SNAPSHOT</version>
+  <inceptionYear>2007</inceptionYear>
+  <name>Maven Javadoc Plugin aggregate resources Test</name>
+  <url>http://maven.apache.org</url>
+  <build>
+    <plugins>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-javadoc-plugin</artifactId>
+        <configuration>
+          <project implementation="org.apache.maven.plugin.javadoc.stubs.AggregateResourcesTestMavenProjectStub"/>
+          <localRepository>${localRepository}</localRepository>
+          <outputDirectory>${basedir}/target/test/unit/aggregate-resources-test/target/site/apidocs</outputDirectory>
+          <windowtitle>Maven Javadoc Plugin aggregate resources 1.0-SNAPSHOT API</windowtitle>
+          <reactorProjects>
+            <project implementation="org.apache.maven.plugin.javadoc.stubs.AggregateResourcesProject1TestMavenProjectStub"/>
+            <project implementation="org.apache.maven.plugin.javadoc.stubs.AggregateResourcesProject2TestMavenProjectStub"/>
+          </reactorProjects>
+          <aggregate>true</aggregate>
+        </configuration>
+      </plugin>
+    </plugins>
+  </build>
+</project>
diff --git a/src/test/resources/unit/aggregate-resources-test/project1/pom.xml b/src/test/resources/unit/aggregate-resources-test/project1/pom.xml
new file mode 100644
index 00000000..60dbc27d
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project1/pom.xml
@@ -0,0 +1,33 @@
+<!--
+Licensed to the Apache Software Foundation (ASF) under one
+or more contributor license agreements.  See the NOTICE file
+distributed with this work for additional information
+regarding copyright ownership.  The ASF licenses this file
+to you under the Apache License, Version 2.0 (the
+"License"); you may not use this file except in compliance
+with the License.  You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing,
+software distributed under the License is distributed on an
+"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+KIND, either express or implied.  See the License for the
+specific language governing permissions and limitations
+under the License.
+-->
+
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+  <modelVersion>4.0.0</modelVersion>
+  <parent>
+    <groupId>aggregate.resources.test</groupId>
+    <artifactId>aggregate-resources-test</artifactId>
+    <version>1.0-SNAPSHOT</version>
+  </parent>
+  <groupId>aggregate.resources.test</groupId>
+  <artifactId>project1</artifactId>
+  <version>1.0-SNAPSHOT</version>
+  <packaging>jar</packaging>
+  <name>project1</name>
+</project>
diff --git a/src/test/resources/unit/aggregate-resources-test/project1/src/main/java/resources/test/App.java b/src/test/resources/unit/aggregate-resources-test/project1/src/main/java/resources/test/App.java
new file mode 100644
index 00000000..bd07530d
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project1/src/main/java/resources/test/App.java
@@ -0,0 +1,49 @@
+package resources.test;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *  http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+/**
+ * Sample class inside the package to be included in the javadoc
+ * <img src="doc-files/maven-feather.png" alt="Maven"/>
+ *
+ * @author <a href="mailto:vincent.siveton@gmail.com">Vincent Siveton</a>
+ */
+public class App
+{
+    /**
+     * The main method
+     *
+     * @param args  an array of strings that contains the arguments
+     */
+    public static void main( String[] args )
+    {
+        System.out.println( "Sample Application." );
+    }
+
+    /**
+     * Sample method that prints out the parameter string.
+     *
+     * @param str   The string value to be printed.
+     */
+    protected void sampleMethod( String str )
+    {
+        System.out.println( str );
+    }
+}
diff --git a/src/test/resources/unit/aggregate-resources-test/project1/src/main/java/resources/test2/App2.java b/src/test/resources/unit/aggregate-resources-test/project1/src/main/java/resources/test2/App2.java
new file mode 100644
index 00000000..08a4f9fe
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project1/src/main/java/resources/test2/App2.java
@@ -0,0 +1,49 @@
+package resources.test2;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *  http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+/**
+ * Sample class inside the package to be included in the javadoc
+ * <img src="doc-files/maven-feather.png" alt="Maven"/>
+ *
+ * @author <a href="mailto:vincent.siveton@gmail.com">Vincent Siveton</a>
+ */
+public class App2
+{
+    /**
+     * The main method
+     *
+     * @param args  an array of strings that contains the arguments
+     */
+    public static void main( String[] args )
+    {
+        System.out.println( "Sample Application." );
+    }
+
+    /**
+     * Sample method that prints out the parameter string.
+     *
+     * @param str   The string value to be printed.
+     */
+    protected void sampleMethod( String str )
+    {
+        System.out.println( str );
+    }
+}
diff --git a/src/test/resources/unit/aggregate-resources-test/project1/src/main/javadoc/resources/test/doc-files/maven-feather.png b/src/test/resources/unit/aggregate-resources-test/project1/src/main/javadoc/resources/test/doc-files/maven-feather.png
new file mode 100644
index 00000000..b5ada836
Binary files /dev/null and b/src/test/resources/unit/aggregate-resources-test/project1/src/main/javadoc/resources/test/doc-files/maven-feather.png differ
diff --git a/src/test/resources/unit/aggregate-resources-test/project1/src/main/javadoc/resources/test/package.html b/src/test/resources/unit/aggregate-resources-test/project1/src/main/javadoc/resources/test/package.html
new file mode 100644
index 00000000..14895ea3
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project1/src/main/javadoc/resources/test/package.html
@@ -0,0 +1,10 @@
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
+<HTML>
+<HEAD>
+<TITLE>API Overview</TITLE>
+</HEAD>
+  <BODY>
+  	blabla
+    @since 1.1
+  </BODY>
+</HTML>
\ No newline at end of file
diff --git a/src/test/resources/unit/aggregate-resources-test/project2/pom.xml b/src/test/resources/unit/aggregate-resources-test/project2/pom.xml
new file mode 100644
index 00000000..4c8f223e
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project2/pom.xml
@@ -0,0 +1,33 @@
+<!--
+Licensed to the Apache Software Foundation (ASF) under one
+or more contributor license agreements.  See the NOTICE file
+distributed with this work for additional information
+regarding copyright ownership.  The ASF licenses this file
+to you under the Apache License, Version 2.0 (the
+"License"); you may not use this file except in compliance
+with the License.  You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing,
+software distributed under the License is distributed on an
+"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+KIND, either express or implied.  See the License for the
+specific language governing permissions and limitations
+under the License.
+-->
+
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+  <modelVersion>4.0.0</modelVersion>
+  <parent>
+    <groupId>aggregate.resources.test</groupId>
+    <artifactId>aggregate-resources-test</artifactId>
+    <version>1.0-SNAPSHOT</version>
+  </parent>
+  <groupId>aggregate.resources.test</groupId>
+  <artifactId>project2</artifactId>
+  <version>1.0-SNAPSHOT</version>
+  <packaging>jar</packaging>
+  <name>project2</name>
+</project>
diff --git a/src/test/resources/unit/aggregate-resources-test/project2/src/main/java/resources2/test/App.java b/src/test/resources/unit/aggregate-resources-test/project2/src/main/java/resources2/test/App.java
new file mode 100644
index 00000000..741236a5
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project2/src/main/java/resources2/test/App.java
@@ -0,0 +1,49 @@
+package resources2.test;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *  http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+/**
+ * Sample class inside the package to be included in the javadoc
+ * <img src="doc-files/maven-feather.png" alt="Maven"/>
+ *
+ * @author <a href="mailto:vincent.siveton@gmail.com">Vincent Siveton</a>
+ */
+public class App
+{
+    /**
+     * The main method
+     *
+     * @param args  an array of strings that contains the arguments
+     */
+    public static void main( String[] args )
+    {
+        System.out.println( "Sample Application." );
+    }
+
+    /**
+     * Sample method that prints out the parameter string.
+     *
+     * @param str   The string value to be printed.
+     */
+    protected void sampleMethod( String str )
+    {
+        System.out.println( str );
+    }
+}
diff --git a/src/test/resources/unit/aggregate-resources-test/project2/src/main/java/resources2/test2/App2.java b/src/test/resources/unit/aggregate-resources-test/project2/src/main/java/resources2/test2/App2.java
new file mode 100644
index 00000000..ed404300
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project2/src/main/java/resources2/test2/App2.java
@@ -0,0 +1,49 @@
+package resources2.test2;
+
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *  http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+/**
+ * Sample class inside the package to be included in the javadoc
+ * <img src="doc-files/maven-feather.png" alt="Maven"/>
+ *
+ * @author <a href="mailto:vincent.siveton@gmail.com">Vincent Siveton</a>
+ */
+public class App2
+{
+    /**
+     * The main method
+     *
+     * @param args  an array of strings that contains the arguments
+     */
+    public static void main( String[] args )
+    {
+        System.out.println( "Sample Application." );
+    }
+
+    /**
+     * Sample method that prints out the parameter string.
+     *
+     * @param str   The string value to be printed.
+     */
+    protected void sampleMethod( String str )
+    {
+        System.out.println( str );
+    }
+}
diff --git a/src/test/resources/unit/aggregate-resources-test/project2/src/main/javadoc/resources2/test/doc-files/maven-feather.png b/src/test/resources/unit/aggregate-resources-test/project2/src/main/javadoc/resources2/test/doc-files/maven-feather.png
new file mode 100644
index 00000000..b5ada836
Binary files /dev/null and b/src/test/resources/unit/aggregate-resources-test/project2/src/main/javadoc/resources2/test/doc-files/maven-feather.png differ
diff --git a/src/test/resources/unit/aggregate-resources-test/project2/src/main/javadoc/resources2/test/package.html b/src/test/resources/unit/aggregate-resources-test/project2/src/main/javadoc/resources2/test/package.html
new file mode 100644
index 00000000..14895ea3
--- /dev/null
+++ b/src/test/resources/unit/aggregate-resources-test/project2/src/main/javadoc/resources2/test/package.html
@@ -0,0 +1,10 @@
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
+<HTML>
+<HEAD>
+<TITLE>API Overview</TITLE>
+</HEAD>
+  <BODY>
+  	blabla
+    @since 1.1
+  </BODY>
+</HTML>
\ No newline at end of file
