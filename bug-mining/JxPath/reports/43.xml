<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:12:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JXPATH-129] MethodLookupUtils#matchType uses TypeUtils#canConvert which causes &quot;Ambiguous method call&quot; exception.</title>
                <link>https://issues.apache.org/jira/browse/JXPATH-129</link>
                <project id="12310480" key="JXPATH">Commons JXPath</project>
                    <description>&lt;p&gt;MethodLookupUtils#matchParameterTypes calls MethodUtils#matchType.  &lt;/p&gt;

&lt;p&gt;MethodLookupUtils#matchType includes this:&lt;/p&gt;

&lt;p&gt;        if (TypeUtils.canConvert(object, expected)) &lt;/p&gt;
{
            return APPROXIMATE_MATCH;
        }

&lt;p&gt;This goes through a whole process of attempting to convert types using JXPath-specific conversion routines.  However, this is not valid logic when attempting to find matching Methods since overloaded functions with &quot;convertable&quot; parameters would still have different function signatures.&lt;/p&gt;

&lt;p&gt;An example:&lt;/p&gt;

&lt;p&gt;abstract class ExampleClass&lt;br/&gt;
{&lt;br/&gt;
     static final String formatISO(Calendar calendar) &lt;/p&gt;
{ return &quot;&quot;};&lt;br/&gt;
     static final String formatISO(Date date) { return &quot;&quot;}
&lt;p&gt;;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;If referenced from JXPath with &quot;ExampleClass.formatISO(pathToDateObject)&quot;, these two functions would trigger JXPathException(&quot;lookupMethod() Ambiguous method call: &quot; + name) because apparently TypeUtils is able to convert a Calendar to a Date and vice-versa.&lt;/p&gt;

&lt;p&gt;When attempting to retrieve a function via signature, is it not irrelevant whether JXPath is able to convert a parameter&apos;s type or not?  Is there a way to change this behavior or provide a way to toggle this behavior similar to the setLenient() method.&lt;/p&gt;

&lt;p&gt;Also, the word &quot;Ambiguous&quot; is spelled incorrectly as &quot;Ambigous&quot; three times in MethodLookupUtils.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Not relevant.&lt;/p&gt;</environment>
        <key id="12415708">JXPATH-129</key>
            <summary>MethodLookupUtils#matchType uses TypeUtils#canConvert which causes &quot;Ambiguous method call&quot; exception.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="robross0606">Robert Ross</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Feb 2009 21:57:58 +0000</created>
                <updated>Mon, 1 Mar 2010 20:27:09 +0000</updated>
                            <resolved>Sun, 28 Feb 2010 16:59:37 +0000</resolved>
                                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12839449" author="mbenson" created="Sun, 28 Feb 2010 16:52:34 +0000"  >&lt;p&gt;Sorry for the year-plus delay here, but I have just tried to recreate the problem you describe, without success.  I will attach my test class and you tell me what I need to change in order to see the results you&apos;ve seen.  Thanks!&lt;/p&gt;</comment>
                            <comment id="12839450" author="mbenson" created="Sun, 28 Feb 2010 16:53:53 +0000"  >&lt;p&gt;Test case showing apparently desirable behavior&lt;/p&gt;</comment>
                            <comment id="12839455" author="mbenson" created="Sun, 28 Feb 2010 17:01:33 +0000"  >&lt;p&gt;Note, however, that I did apply your spelling correction:&lt;/p&gt;

&lt;p&gt;r917195 | mbenson | 2010-02-28 10:21:14 -0600 (Sun, 28 Feb 2010) | 1 line&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JXPATH-129&quot; title=&quot;MethodLookupUtils#matchType uses TypeUtils#canConvert which causes &amp;quot;Ambiguous method call&amp;quot; exception.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JXPATH-129&quot;&gt;&lt;del&gt;JXPATH-129&lt;/del&gt;&lt;/a&gt; partial: sp &apos;ambiguous&apos;&lt;/p&gt;


&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12839457" author="robross0606" created="Sun, 28 Feb 2010 17:15:09 +0000"  >&lt;p&gt;I provided specific example method signatures which consistently reproduces the problem:&lt;/p&gt;

&lt;p&gt;static final String formatISO(Calendar calendar) &lt;/p&gt;
{ return &quot;&quot;};&lt;br/&gt;
static final String formatISO(Date date) { return &quot;&quot;}
&lt;p&gt;; }&lt;/p&gt;

&lt;p&gt;If you create a class with these two methods and then attempt to invoke one of the methods through JXPath, it will generate an &quot;Ambiguous method call&quot; exception.  We were forced to change the function names themselves in order to avoid the problem.  Overloaded functions with similar parameters cause this issue.  I am using JXPath 1.3.&lt;/p&gt;

&lt;p&gt;Robert A. Ross&lt;br/&gt;
Senior Software Developer&lt;br/&gt;
DSCI Inc.&lt;br/&gt;
609.509.5139 - Mobile&lt;br/&gt;
609.702.8114 - Home&lt;/p&gt;
</comment>
                            <comment id="12839747" author="mbenson" created="Mon, 1 Mar 2010 16:47:54 +0000"  >&lt;p&gt;My test, if you would review the attachment, differs from your example in two respects only:  my methods (a) are not declared as final (which in my understanding is moot in the case of a static method), and (b) are called &quot;toString&quot; rather than &quot;formatISO&quot;.  Are you suggesting that it is one of these two items causing me to get different results than you?  If not, again, I would ask you to tell me what I have done wrong that stops me from getting your results.  Was I correct to assume that you were speaking of registering your ExampleClass as a provider of extension functions, or have I somehow forgotten some other mechanism by which you are attempting to invoke these methods?&lt;/p&gt;</comment>
                            <comment id="12839842" author="robross0606" created="Mon, 1 Mar 2010 20:27:09 +0000"  >&lt;p&gt;Yes, you are forgetting the standard method of invoking static methods:  &lt;a href=&quot;http://commons.apache.org/jxpath/users-guide.html#Standard_Extension_Functions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/jxpath/users-guide.html#Standard_Extension_Functions&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I was using function call JXpath syntax like this:&lt;/p&gt;

&lt;p&gt;&quot;com.dsci.util.FormatUtils.isoDateFormat(date)&quot;&lt;/p&gt;

&lt;p&gt;Where date is a Calendar instance or date is a Date instance.&lt;/p&gt;

&lt;p&gt;This isn&apos;t just observational either.  I traced this by stepping all the way into the code until I could see where the Calendar was converted to a Date and then the error was thrown.  This is also the same class file where the spelling errors were noticed.  This bug was logged about a year ago so perhaps it has been fixed already?  I&apos;m not in a position to test it at this point.&lt;/p&gt;

&lt;p&gt;Robert A. Ross&lt;br/&gt;
Senior Software Developer&lt;br/&gt;
DSCI Inc.&lt;br/&gt;
609.509.5139 - Mobile&lt;br/&gt;
609.702.8114 - Home&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437390" name="MethodLookupTest.java" size="2468" author="mbenson" created="Sun, 28 Feb 2010 16:53:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>146452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xrjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>195100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>