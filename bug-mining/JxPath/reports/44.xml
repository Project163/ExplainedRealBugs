<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:12:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JXPATH-133] Cloning the node pointers and &apos;==&apos; node pointers comparison</title>
                <link>https://issues.apache.org/jira/browse/JXPATH-133</link>
                <project id="12310480" key="JXPATH">Commons JXPath</project>
                    <description>&lt;p&gt;During the implementation of JCR nodes support in JXPath (extending NodePonter&apos;s, NodeIterator&apos;s, NodePointerFactory ) I faced with the following situation: I was running a xpath query against the context (JXPathContext instance) like:&lt;/p&gt;

&lt;p&gt;context.iteratePointers(&quot;/child::* | @ * &quot;)&lt;/p&gt;

&lt;p&gt;After that I got an exception JXPathException: &quot;Cannot compare pointers that do not belong to the same tree: &apos;/home&apos; and &apos;/home&apos; &quot; thrown from NodePointer.compareNodePointers(...) method. After debugging this case I&apos;ve found that for the node pointers extracted via the &quot;/child::* | @ * &quot; xpath expression NodePointer.compareTo(Object) was invoked (and consequently NodePointer.compareNodePointers(...) ). In fact all node pointers matching the &quot;/child::* | @ * &quot; xpath expression had the same node pointer (I checked it against my implementations of NodePointerFactory, NodeIterator&apos;s etc.). But as I found for these node pointers they were initialized with different clones of the same parent node pointer. And the result was that in NodePointer.compareTo(Object) method the following &quot;==&quot; comparison evaluated in false for the different clones of the same parent node pointer:&lt;/p&gt;

&lt;p&gt;        if (parent == pointer.parent) &lt;/p&gt;
{
            return parent == null ? 0 : parent.compareChildNodePointers(this, pointer);
        }

&lt;p&gt;As the workaround for this case I overrode the clone method for my NodePointer descendants to return &apos;this&apos;. I think there is some misbalance made between the  usage of clone () method of NodePointer&apos;s and &quot;==&quot; comparison of NodePointers.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JDK 1.5.0_12, JBoss 4.0.5&lt;/p&gt;</environment>
        <key id="12431361">JXPATH-133</key>
            <summary>Cloning the node pointers and &apos;==&apos; node pointers comparison</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vorlov">Vladimir Orlov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jul 2009 12:23:19 +0000</created>
                <updated>Tue, 2 Mar 2010 19:20:31 +0000</updated>
                            <resolved>Tue, 2 Mar 2010 19:20:31 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12840291" author="mbenson" created="Tue, 2 Mar 2010 19:19:38 +0000"  >&lt;p&gt;As you can see elsewhere in NodePointer, that comparison &lt;em&gt;should&lt;/em&gt; be done using == || .equals; I have added this in compareTo() as you suggest in revision 918156.  Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>146456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xpmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>194788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>