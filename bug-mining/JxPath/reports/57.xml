<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:13:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JXPATH-177] Pipe in combination with variables causes NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/JXPATH-177</link>
                <project id="12310480" key="JXPATH">Commons JXPath</project>
                    <description>&lt;p&gt;xpath: name&quot;, result: ROOT name&lt;br/&gt;
xpath: /x/name&quot;, result: X name&lt;br/&gt;
xpath: $__root/x/name&quot;, result: X name&lt;br/&gt;
xpath: $__root/x/name|name, causes:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.jxpath.ri.model.dynamic.DynamicPointer.hashCode(DynamicPointer.java:126)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.model.beans.PropertyPointer.hashCode(PropertyPointer.java:221)&lt;br/&gt;
	at java.util.HashMap.hash(HashMap.java:338)&lt;br/&gt;
	at java.util.HashMap.containsKey(HashMap.java:595)&lt;br/&gt;
	at java.util.HashSet.contains(HashSet.java:203)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.model.NodePointer.compareTo(NodePointer.java:759)&lt;br/&gt;
	at java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:316)&lt;br/&gt;
	at java.util.ComparableTimSort.sort(ComparableTimSort.java:184)&lt;br/&gt;
	at java.util.Arrays.sort(Arrays.java:1312)&lt;br/&gt;
	at java.util.Arrays.sort(Arrays.java:1506)&lt;br/&gt;
	at java.util.ArrayList.sort(ArrayList.java:1454)&lt;br/&gt;
	at java.util.Collections.sort(Collections.java:141)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.EvalContext.sortPointers(EvalContext.java:206)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.axes.UnionContext.setPosition(UnionContext.java:68)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.axes.NodeSetContext.nextNode(NodeSetContext.java:68)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.EvalContext.getSingleNodePointer(EvalContext.java:312)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getPointer(JXPathContextReferenceImpl.java:464)&lt;br/&gt;
	at org.apache.commons.jxpath.ri.JXPathContextReferenceImpl.getPointer(JXPathContextReferenceImpl.java:452)&lt;/p&gt;

&lt;p&gt;I&apos;m using model created from java containers (Lists, Maps):&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
	&quot;name&quot; : &quot;ROOT name&quot;,&lt;br/&gt;
	&quot;x&quot; : &lt;/p&gt;
{
		&quot;name&quot; : &quot;X name&quot;
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;The context is set to the root node. I&apos;m using the following code:&lt;/p&gt;

&lt;p&gt;    JXPathContext xpathContext = JXPathContext.newContext(root);&lt;br/&gt;
    Pointer p = contextContext.getPointer(xpath);&lt;br/&gt;
    return p.getNode();&lt;/p&gt;</description>
                <environment></environment>
        <key id="12825554">JXPATH-177</key>
            <summary>Pipe in combination with variables causes NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="xarx">Martin Xarx</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2015 15:02:19 +0000</created>
                <updated>Tue, 24 Nov 2015 16:37:27 +0000</updated>
                            <resolved>Tue, 24 Nov 2015 16:37:27 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14552945" author="vivodamichele@hotmail.com" created="Wed, 20 May 2015 19:30:38 +0000"  >&lt;p&gt;Hi, &lt;br/&gt;
I cannot reproduce it, can you modify the attached test to show it ?&lt;/p&gt;</comment>
                            <comment id="14583236" author="xarx" created="Fri, 12 Jun 2015 10:43:25 +0000"  >&lt;p&gt;I&apos;ve appended a test-case jx177.zip. When executing the test, I get the mentioned exception. When you comment out the &quot;xp&quot; variable definition and replace it with any definition above, the test finishes with success.&lt;/p&gt;</comment>
                            <comment id="14592391" author="vivodamichele@hotmail.com" created="Thu, 18 Jun 2015 19:44:40 +0000"  >&lt;p&gt;Seems that the test fails with jxpath 1.3 but passes with the current trunk, can you check it ? I updated the test&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-jxpath&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-jxpath&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15019042" author="barthel" created="Fri, 20 Nov 2015 23:25:19 +0000"  >&lt;p&gt;Open pull request: &lt;a href=&quot;https://github.com/apache/commons-jxpath/pull/5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JXPATH-177: Add test (TestJxPath177_V2.zip) attached on JIRA item.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test passed on current trunk.&lt;/p&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xarx&quot; class=&quot;user-hover&quot; rel=&quot;xarx&quot;&gt;xarx&lt;/a&gt; for providing the original test sources.&lt;/p&gt;</comment>
                            <comment id="15024795" author="britter" created="Tue, 24 Nov 2015 16:37:27 +0000"  >&lt;p&gt;See revision 1716199. Works on current trunk. Thanks to all for contributing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12734206" name="TestJxPath177.java" size="681" author="vivodamichele@hotmail.com" created="Wed, 20 May 2015 19:30:38 +0000"/>
                            <attachment id="12740476" name="TestJxPath177_V2.zip" size="1149" author="vivodamichele@hotmail.com" created="Thu, 18 Jun 2015 19:45:24 +0000"/>
                            <attachment id="12739201" name="jx177.zip" size="1146" author="xarx" created="Fri, 12 Jun 2015 10:43:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e0k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>