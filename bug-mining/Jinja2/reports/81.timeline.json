[{"url":"https://api.github.com/repos/pallets/jinja/issues/comments/846029509","html_url":"https://github.com/pallets/jinja/issues/1448#issuecomment-846029509","issue_url":"https://api.github.com/repos/pallets/jinja/issues/1448","id":846029509,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjAyOTUwOQ==","user":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T15:21:03Z","updated_at":"2021-05-21T15:21:03Z","body":"So you're saying that only `StrictUndefined` should raise an `UndefinedError` for `in`? That does seem to match the original issue more, as well as the fact that regular `Undefined` acts like an empty container during iteration.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pallets/jinja/issues/comments/846029509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pallets/jinja/issues/comments/846123547","html_url":"https://github.com/pallets/jinja/issues/1448#issuecomment-846123547","issue_url":"https://api.github.com/repos/pallets/jinja/issues/1448","id":846123547,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjEyMzU0Nw==","user":{"login":"abadger","id":209242,"node_id":"MDQ6VXNlcjIwOTI0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/209242?v=4","gravatar_id":"","url":"https://api.github.com/users/abadger","html_url":"https://github.com/abadger","followers_url":"https://api.github.com/users/abadger/followers","following_url":"https://api.github.com/users/abadger/following{/other_user}","gists_url":"https://api.github.com/users/abadger/gists{/gist_id}","starred_url":"https://api.github.com/users/abadger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abadger/subscriptions","organizations_url":"https://api.github.com/users/abadger/orgs","repos_url":"https://api.github.com/users/abadger/repos","events_url":"https://api.github.com/users/abadger/events{/privacy}","received_events_url":"https://api.github.com/users/abadger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T17:32:44Z","updated_at":"2021-05-21T17:32:44Z","body":"Yeah, that is the way 2.11 handled it.  I'll leave the question of what is right to do in 3.0 up to you :-)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pallets/jinja/issues/comments/846123547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abadger","id":209242,"node_id":"MDQ6VXNlcjIwOTI0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/209242?v=4","gravatar_id":"","url":"https://api.github.com/users/abadger","html_url":"https://github.com/abadger","followers_url":"https://api.github.com/users/abadger/followers","following_url":"https://api.github.com/users/abadger/following{/other_user}","gists_url":"https://api.github.com/users/abadger/gists{/gist_id}","starred_url":"https://api.github.com/users/abadger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abadger/subscriptions","organizations_url":"https://api.github.com/users/abadger/orgs","repos_url":"https://api.github.com/users/abadger/repos","events_url":"https://api.github.com/users/abadger/events{/privacy}","received_events_url":"https://api.github.com/users/abadger/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4780983893,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ3ODA5ODM4OTM=","url":"https://api.github.com/repos/pallets/jinja/issues/events/4780983893","actor":{"login":"abadger","id":209242,"node_id":"MDQ6VXNlcjIwOTI0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/209242?v=4","gravatar_id":"","url":"https://api.github.com/users/abadger","html_url":"https://github.com/abadger","followers_url":"https://api.github.com/users/abadger/followers","following_url":"https://api.github.com/users/abadger/following{/other_user}","gists_url":"https://api.github.com/users/abadger/gists{/gist_id}","starred_url":"https://api.github.com/users/abadger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abadger/subscriptions","organizations_url":"https://api.github.com/users/abadger/orgs","repos_url":"https://api.github.com/users/abadger/repos","events_url":"https://api.github.com/users/abadger/events{/privacy}","received_events_url":"https://api.github.com/users/abadger/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3e7cbaba4717f17caca8b82594a0625b813cf723","commit_url":"https://api.github.com/repos/abadger/ansible/commits/3e7cbaba4717f17caca8b82594a0625b813cf723","created_at":"2021-05-21T19:18:59Z","performed_via_github_app":null},{"actor":{"login":"abadger","id":209242,"node_id":"MDQ6VXNlcjIwOTI0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/209242?v=4","gravatar_id":"","url":"https://api.github.com/users/abadger","html_url":"https://github.com/abadger","followers_url":"https://api.github.com/users/abadger/followers","following_url":"https://api.github.com/users/abadger/following{/other_user}","gists_url":"https://api.github.com/users/abadger/gists{/gist_id}","starred_url":"https://api.github.com/users/abadger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abadger/subscriptions","organizations_url":"https://api.github.com/users/abadger/orgs","repos_url":"https://api.github.com/users/abadger/repos","events_url":"https://api.github.com/users/abadger/events{/privacy}","received_events_url":"https://api.github.com/users/abadger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T19:20:57Z","updated_at":"2021-05-21T19:20:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ansible/ansible/issues/74795","repository_url":"https://api.github.com/repos/ansible/ansible","labels_url":"https://api.github.com/repos/ansible/ansible/issues/74795/labels{/name}","comments_url":"https://api.github.com/repos/ansible/ansible/issues/74795/comments","events_url":"https://api.github.com/repos/ansible/ansible/issues/74795/events","html_url":"https://github.com/ansible/ansible/pull/74795","id":898361397,"node_id":"MDExOlB1bGxSZXF1ZXN0NjUwMjM4MjY2","number":74795,"title":"Workaround bug in jinja2-3.0.0 and 3.0.1","user":{"login":"abadger","id":209242,"node_id":"MDQ6VXNlcjIwOTI0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/209242?v=4","gravatar_id":"","url":"https://api.github.com/users/abadger","html_url":"https://github.com/abadger","followers_url":"https://api.github.com/users/abadger/followers","following_url":"https://api.github.com/users/abadger/following{/other_user}","gists_url":"https://api.github.com/users/abadger/gists{/gist_id}","starred_url":"https://api.github.com/users/abadger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abadger/subscriptions","organizations_url":"https://api.github.com/users/abadger/orgs","repos_url":"https://api.github.com/users/abadger/repos","events_url":"https://api.github.com/users/abadger/events{/privacy}","received_events_url":"https://api.github.com/users/abadger/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":266246971,"node_id":"MDU6TGFiZWwyNjYyNDY5NzE=","url":"https://api.github.com/repos/ansible/ansible/labels/backport","name":"backport","color":"00ff00","default":false,"description":"This PR does not target the devel branch."},{"id":513652538,"node_id":"MDU6TGFiZWw1MTM2NTI1Mzg=","url":"https://api.github.com/repos/ansible/ansible/labels/core_review","name":"core_review","color":"ededed","default":false,"description":"In order to be merged, this PR must follow the core review workflow."},{"id":636352796,"node_id":"MDU6TGFiZWw2MzYzNTI3OTY=","url":"https://api.github.com/repos/ansible/ansible/labels/support:core","name":"support:core","color":"ededed","default":false,"description":"This issue/PR relates to code supported by the Ansible Engineering Team."},{"id":785271699,"node_id":"MDU6TGFiZWw3ODUyNzE2OTk=","url":"https://api.github.com/repos/ansible/ansible/labels/bug","name":"bug","color":"fbca04","default":true,"description":"This issue/PR relates to a bug."},{"id":849212023,"node_id":"MDU6TGFiZWw4NDkyMTIwMjM=","url":"https://api.github.com/repos/ansible/ansible/labels/docs","name":"docs","color":"4071a5","default":false,"description":"This issue/PR relates to or includes documentation."},{"id":1316917295,"node_id":"MDU6TGFiZWwxMzE2OTE3Mjk1","url":"https://api.github.com/repos/ansible/ansible/labels/affects_2.9","name":"affects_2.9","color":"5319e7","default":false,"description":"This issue/PR affects Ansible v2.9"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-05-21T19:20:57Z","updated_at":"2021-07-01T13:00:09Z","closed_at":"2021-06-03T20:13:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3638964,"node_id":"MDEwOlJlcG9zaXRvcnkzNjM4OTY0","name":"ansible","full_name":"ansible/ansible","private":false,"owner":{"login":"ansible","id":1507452,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MDc0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1507452?v=4","gravatar_id":"","url":"https://api.github.com/users/ansible","html_url":"https://github.com/ansible","followers_url":"https://api.github.com/users/ansible/followers","following_url":"https://api.github.com/users/ansible/following{/other_user}","gists_url":"https://api.github.com/users/ansible/gists{/gist_id}","starred_url":"https://api.github.com/users/ansible/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansible/subscriptions","organizations_url":"https://api.github.com/users/ansible/orgs","repos_url":"https://api.github.com/users/ansible/repos","events_url":"https://api.github.com/users/ansible/events{/privacy}","received_events_url":"https://api.github.com/users/ansible/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ansible/ansible","description":"Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy and maintain. Automate everything from code deployment to network configuration to cloud management, in a language that approaches plain English, using SSH, with no agents to install on remote systems. https://docs.ansible.com.","fork":false,"url":"https://api.github.com/repos/ansible/ansible","forks_url":"https://api.github.com/repos/ansible/ansible/forks","keys_url":"https://api.github.com/repos/ansible/ansible/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ansible/ansible/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ansible/ansible/teams","hooks_url":"https://api.github.com/repos/ansible/ansible/hooks","issue_events_url":"https://api.github.com/repos/ansible/ansible/issues/events{/number}","events_url":"https://api.github.com/repos/ansible/ansible/events","assignees_url":"https://api.github.com/repos/ansible/ansible/assignees{/user}","branches_url":"https://api.github.com/repos/ansible/ansible/branches{/branch}","tags_url":"https://api.github.com/repos/ansible/ansible/tags","blobs_url":"https://api.github.com/repos/ansible/ansible/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ansible/ansible/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ansible/ansible/git/refs{/sha}","trees_url":"https://api.github.com/repos/ansible/ansible/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ansible/ansible/statuses/{sha}","languages_url":"https://api.github.com/repos/ansible/ansible/languages","stargazers_url":"https://api.github.com/repos/ansible/ansible/stargazers","contributors_url":"https://api.github.com/repos/ansible/ansible/contributors","subscribers_url":"https://api.github.com/repos/ansible/ansible/subscribers","subscription_url":"https://api.github.com/repos/ansible/ansible/subscription","commits_url":"https://api.github.com/repos/ansible/ansible/commits{/sha}","git_commits_url":"https://api.github.com/repos/ansible/ansible/git/commits{/sha}","comments_url":"https://api.github.com/repos/ansible/ansible/comments{/number}","issue_comment_url":"https://api.github.com/repos/ansible/ansible/issues/comments{/number}","contents_url":"https://api.github.com/repos/ansible/ansible/contents/{+path}","compare_url":"https://api.github.com/repos/ansible/ansible/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ansible/ansible/merges","archive_url":"https://api.github.com/repos/ansible/ansible/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ansible/ansible/downloads","issues_url":"https://api.github.com/repos/ansible/ansible/issues{/number}","pulls_url":"https://api.github.com/repos/ansible/ansible/pulls{/number}","milestones_url":"https://api.github.com/repos/ansible/ansible/milestones{/number}","notifications_url":"https://api.github.com/repos/ansible/ansible/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ansible/ansible/labels{/name}","releases_url":"https://api.github.com/repos/ansible/ansible/releases{/id}","deployments_url":"https://api.github.com/repos/ansible/ansible/deployments","created_at":"2012-03-06T14:58:02Z","updated_at":"2025-11-10T09:38:14Z","pushed_at":"2025-11-07T15:54:25Z","git_url":"git://github.com/ansible/ansible.git","ssh_url":"git@github.com:ansible/ansible.git","clone_url":"https://github.com/ansible/ansible.git","svn_url":"https://github.com/ansible/ansible","homepage":"https://www.ansible.com/","size":261795,"stargazers_count":66965,"watchers_count":66965,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":24126,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":873,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ansible","python"],"visibility":"public","forks":24126,"open_issues":873,"watchers":66965,"default_branch":"devel","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/ansible/ansible/pulls/74795","html_url":"https://github.com/ansible/ansible/pull/74795","diff_url":"https://github.com/ansible/ansible/pull/74795.diff","patch_url":"https://github.com/ansible/ansible/pull/74795.patch","merged_at":"2021-06-03T20:13:43Z"},"body":"Jinja2-3.0.0 and 3.0.1 has a bug where undefined values cannot be\r\nchecked to see if they contain a value: https://github.com/pallets/jinja/issues/1448#issuecomment-846029509\r\n\r\nWe workaround this in two ways, either of which would be sufficient:\r\n* Normalize the data so that choices is an empty iterable when it isn't\r\n  specified in the documentation.  This is what antsibull-docs (and thus\r\n  documentation builds on 2.10+) do.\r\n* Change the logic in the template to check whether choices exists\r\n  before checking containment.  This better expresses the logic at that\r\n  point in the template (if there is a default value but there is not a\r\n  list of choices, then display the default in its own string) so it's\r\n  a good change to make as well.\r\n\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n- Bugfix Pull Request\r\n- Docs Pull Request\r\n\r\n\r\n##### COMPONENT NAME\r\nDocumentation build for ansible-2.9 (newer versions are built via code in antsibull-docs)\r\n\r\n##### ADDITIONAL INFORMATION\r\n/CC @acozine @samccann @relrod","reactions":{"url":"https://api.github.com/repos/ansible/ansible/issues/74795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ansible/ansible/issues/74795/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":4781179633,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ3ODExNzk2MzM=","url":"https://api.github.com/repos/pallets/jinja/issues/events/4781179633","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-05-21T20:13:09Z","milestone":{"title":"3.0.2"},"performed_via_github_app":null},{"id":4781181740,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDc4MTE4MTc0MA==","url":"https://api.github.com/repos/pallets/jinja/issues/events/4781181740","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-05-21T20:13:42Z","rename":{"from":"Change in behaviour between 2.11 and 3.0 with {% if x in y %}","to":"containment should only fail for `StrictUndefined`, not regular `Undefined`"},"performed_via_github_app":null},{"id":4781388656,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ3ODEzODg2NTY=","url":"https://api.github.com/repos/pallets/jinja/issues/events/4781388656","actor":{"login":"abadger","id":209242,"node_id":"MDQ6VXNlcjIwOTI0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/209242?v=4","gravatar_id":"","url":"https://api.github.com/users/abadger","html_url":"https://github.com/abadger","followers_url":"https://api.github.com/users/abadger/followers","following_url":"https://api.github.com/users/abadger/following{/other_user}","gists_url":"https://api.github.com/users/abadger/gists{/gist_id}","starred_url":"https://api.github.com/users/abadger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abadger/subscriptions","organizations_url":"https://api.github.com/users/abadger/orgs","repos_url":"https://api.github.com/users/abadger/repos","events_url":"https://api.github.com/users/abadger/events{/privacy}","received_events_url":"https://api.github.com/users/abadger/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"52393dd76daaeadbfcfa6b5dfb16434624778ff6","commit_url":"https://api.github.com/repos/abadger/ansible/commits/52393dd76daaeadbfcfa6b5dfb16434624778ff6","created_at":"2021-05-21T21:16:38Z","performed_via_github_app":null},{"id":4781394069,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ3ODEzOTQwNjk=","url":"https://api.github.com/repos/pallets/jinja/issues/events/4781394069","actor":{"login":"abadger","id":209242,"node_id":"MDQ6VXNlcjIwOTI0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/209242?v=4","gravatar_id":"","url":"https://api.github.com/users/abadger","html_url":"https://github.com/abadger","followers_url":"https://api.github.com/users/abadger/followers","following_url":"https://api.github.com/users/abadger/following{/other_user}","gists_url":"https://api.github.com/users/abadger/gists{/gist_id}","starred_url":"https://api.github.com/users/abadger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abadger/subscriptions","organizations_url":"https://api.github.com/users/abadger/orgs","repos_url":"https://api.github.com/users/abadger/repos","events_url":"https://api.github.com/users/abadger/events{/privacy}","received_events_url":"https://api.github.com/users/abadger/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4e143f761a724b468a62c9df0b5990be1182eb05","commit_url":"https://api.github.com/repos/abadger/ansible/commits/4e143f761a724b468a62c9df0b5990be1182eb05","created_at":"2021-05-21T21:18:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pallets/jinja/issues/comments/848628081","html_url":"https://github.com/pallets/jinja/issues/1448#issuecomment-848628081","issue_url":"https://api.github.com/repos/pallets/jinja/issues/1448","id":848628081,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODYyODA4MQ==","user":{"login":"ewjoachim","id":1457576,"node_id":"MDQ6VXNlcjE0NTc1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1457576?v=4","gravatar_id":"","url":"https://api.github.com/users/ewjoachim","html_url":"https://github.com/ewjoachim","followers_url":"https://api.github.com/users/ewjoachim/followers","following_url":"https://api.github.com/users/ewjoachim/following{/other_user}","gists_url":"https://api.github.com/users/ewjoachim/gists{/gist_id}","starred_url":"https://api.github.com/users/ewjoachim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewjoachim/subscriptions","organizations_url":"https://api.github.com/users/ewjoachim/orgs","repos_url":"https://api.github.com/users/ewjoachim/repos","events_url":"https://api.github.com/users/ewjoachim/events{/privacy}","received_events_url":"https://api.github.com/users/ewjoachim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T09:43:20Z","updated_at":"2021-05-26T09:43:20Z","body":"Hello, I've been hit by the same bug. If this is to be a change between v2 and v3, this means people who, knowingly or not, relied on the previous behaviour, will have to update all their templates in order to upgrade. This is not something easily greppable, and the fix can be a bit complex (should we check for `is defined` or add a default and if so what kind of default ? It's not something we can search & replace).\r\n\r\nI'd advise if possible that the behaviour from 2.x is kept if there's not stronger reason to change it. I can try and make a PR, but I can't promise anything, so if anyone else wants to have a go, feel free :)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pallets/jinja/issues/comments/848628081/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ewjoachim","id":1457576,"node_id":"MDQ6VXNlcjE0NTc1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1457576?v=4","gravatar_id":"","url":"https://api.github.com/users/ewjoachim","html_url":"https://github.com/ewjoachim","followers_url":"https://api.github.com/users/ewjoachim/followers","following_url":"https://api.github.com/users/ewjoachim/following{/other_user}","gists_url":"https://api.github.com/users/ewjoachim/gists{/gist_id}","starred_url":"https://api.github.com/users/ewjoachim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewjoachim/subscriptions","organizations_url":"https://api.github.com/users/ewjoachim/orgs","repos_url":"https://api.github.com/users/ewjoachim/repos","events_url":"https://api.github.com/users/ewjoachim/events{/privacy}","received_events_url":"https://api.github.com/users/ewjoachim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4798301119,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ3OTgzMDExMTk=","url":"https://api.github.com/repos/pallets/jinja/issues/events/4798301119","actor":{"login":"ewjoachim","id":1457576,"node_id":"MDQ6VXNlcjE0NTc1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1457576?v=4","gravatar_id":"","url":"https://api.github.com/users/ewjoachim","html_url":"https://github.com/ewjoachim","followers_url":"https://api.github.com/users/ewjoachim/followers","following_url":"https://api.github.com/users/ewjoachim/following{/other_user}","gists_url":"https://api.github.com/users/ewjoachim/gists{/gist_id}","starred_url":"https://api.github.com/users/ewjoachim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewjoachim/subscriptions","organizations_url":"https://api.github.com/users/ewjoachim/orgs","repos_url":"https://api.github.com/users/ewjoachim/repos","events_url":"https://api.github.com/users/ewjoachim/events{/privacy}","received_events_url":"https://api.github.com/users/ewjoachim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7115856f6e93dc77b6b8d57496c850def9f04c26","commit_url":"https://api.github.com/repos/ewjoachim/jinja/commits/7115856f6e93dc77b6b8d57496c850def9f04c26","created_at":"2021-05-26T10:11:07Z","performed_via_github_app":null},{"actor":{"login":"ewjoachim","id":1457576,"node_id":"MDQ6VXNlcjE0NTc1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1457576?v=4","gravatar_id":"","url":"https://api.github.com/users/ewjoachim","html_url":"https://github.com/ewjoachim","followers_url":"https://api.github.com/users/ewjoachim/followers","following_url":"https://api.github.com/users/ewjoachim/following{/other_user}","gists_url":"https://api.github.com/users/ewjoachim/gists{/gist_id}","starred_url":"https://api.github.com/users/ewjoachim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewjoachim/subscriptions","organizations_url":"https://api.github.com/users/ewjoachim/orgs","repos_url":"https://api.github.com/users/ewjoachim/repos","events_url":"https://api.github.com/users/ewjoachim/events{/privacy}","received_events_url":"https://api.github.com/users/ewjoachim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T10:11:34Z","updated_at":"2021-05-26T10:11:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pallets/jinja/issues/1455","repository_url":"https://api.github.com/repos/pallets/jinja","labels_url":"https://api.github.com/repos/pallets/jinja/issues/1455/labels{/name}","comments_url":"https://api.github.com/repos/pallets/jinja/issues/1455/comments","events_url":"https://api.github.com/repos/pallets/jinja/issues/1455/events","html_url":"https://github.com/pallets/jinja/pull/1455","id":902136921,"node_id":"MDExOlB1bGxSZXF1ZXN0NjUzNTM0NjYz","number":1455,"title":"Only StrictUndefined.__contains__ raises error","user":{"login":"ewjoachim","id":1457576,"node_id":"MDQ6VXNlcjE0NTc1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1457576?v=4","gravatar_id":"","url":"https://api.github.com/users/ewjoachim","html_url":"https://github.com/ewjoachim","followers_url":"https://api.github.com/users/ewjoachim/followers","following_url":"https://api.github.com/users/ewjoachim/following{/other_user}","gists_url":"https://api.github.com/users/ewjoachim/gists{/gist_id}","starred_url":"https://api.github.com/users/ewjoachim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewjoachim/subscriptions","organizations_url":"https://api.github.com/users/ewjoachim/orgs","repos_url":"https://api.github.com/users/ewjoachim/repos","events_url":"https://api.github.com/users/ewjoachim/events{/privacy}","received_events_url":"https://api.github.com/users/ewjoachim/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pallets/jinja/milestones/9","html_url":"https://github.com/pallets/jinja/milestone/9","labels_url":"https://api.github.com/repos/pallets/jinja/milestones/9/labels","id":6765777,"node_id":"MDk6TWlsZXN0b25lNjc2NTc3Nw==","number":9,"title":"3.0.2","description":"","creator":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":15,"state":"closed","created_at":"2021-05-17T13:53:03Z","updated_at":"2021-10-05T01:09:25Z","due_on":null,"closed_at":"2021-10-05T01:09:25Z"},"comments":0,"created_at":"2021-05-26T10:04:18Z","updated_at":"2021-08-24T00:07:34Z","closed_at":"2021-08-09T18:10:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":994551,"node_id":"MDEwOlJlcG9zaXRvcnk5OTQ1NTE=","name":"jinja","full_name":"pallets/jinja","private":false,"owner":{"login":"pallets","id":16748505,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzQ4NTA1","avatar_url":"https://avatars.githubusercontent.com/u/16748505?v=4","gravatar_id":"","url":"https://api.github.com/users/pallets","html_url":"https://github.com/pallets","followers_url":"https://api.github.com/users/pallets/followers","following_url":"https://api.github.com/users/pallets/following{/other_user}","gists_url":"https://api.github.com/users/pallets/gists{/gist_id}","starred_url":"https://api.github.com/users/pallets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pallets/subscriptions","organizations_url":"https://api.github.com/users/pallets/orgs","repos_url":"https://api.github.com/users/pallets/repos","events_url":"https://api.github.com/users/pallets/events{/privacy}","received_events_url":"https://api.github.com/users/pallets/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pallets/jinja","description":"A very fast and expressive template engine.","fork":false,"url":"https://api.github.com/repos/pallets/jinja","forks_url":"https://api.github.com/repos/pallets/jinja/forks","keys_url":"https://api.github.com/repos/pallets/jinja/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pallets/jinja/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pallets/jinja/teams","hooks_url":"https://api.github.com/repos/pallets/jinja/hooks","issue_events_url":"https://api.github.com/repos/pallets/jinja/issues/events{/number}","events_url":"https://api.github.com/repos/pallets/jinja/events","assignees_url":"https://api.github.com/repos/pallets/jinja/assignees{/user}","branches_url":"https://api.github.com/repos/pallets/jinja/branches{/branch}","tags_url":"https://api.github.com/repos/pallets/jinja/tags","blobs_url":"https://api.github.com/repos/pallets/jinja/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pallets/jinja/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pallets/jinja/git/refs{/sha}","trees_url":"https://api.github.com/repos/pallets/jinja/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pallets/jinja/statuses/{sha}","languages_url":"https://api.github.com/repos/pallets/jinja/languages","stargazers_url":"https://api.github.com/repos/pallets/jinja/stargazers","contributors_url":"https://api.github.com/repos/pallets/jinja/contributors","subscribers_url":"https://api.github.com/repos/pallets/jinja/subscribers","subscription_url":"https://api.github.com/repos/pallets/jinja/subscription","commits_url":"https://api.github.com/repos/pallets/jinja/commits{/sha}","git_commits_url":"https://api.github.com/repos/pallets/jinja/git/commits{/sha}","comments_url":"https://api.github.com/repos/pallets/jinja/comments{/number}","issue_comment_url":"https://api.github.com/repos/pallets/jinja/issues/comments{/number}","contents_url":"https://api.github.com/repos/pallets/jinja/contents/{+path}","compare_url":"https://api.github.com/repos/pallets/jinja/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pallets/jinja/merges","archive_url":"https://api.github.com/repos/pallets/jinja/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pallets/jinja/downloads","issues_url":"https://api.github.com/repos/pallets/jinja/issues{/number}","pulls_url":"https://api.github.com/repos/pallets/jinja/pulls{/number}","milestones_url":"https://api.github.com/repos/pallets/jinja/milestones{/number}","notifications_url":"https://api.github.com/repos/pallets/jinja/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pallets/jinja/labels{/name}","releases_url":"https://api.github.com/repos/pallets/jinja/releases{/id}","deployments_url":"https://api.github.com/repos/pallets/jinja/deployments","created_at":"2010-10-17T13:41:17Z","updated_at":"2025-11-10T01:08:28Z","pushed_at":"2025-06-14T20:35:04Z","git_url":"git://github.com/pallets/jinja.git","ssh_url":"git@github.com:pallets/jinja.git","clone_url":"https://github.com/pallets/jinja.git","svn_url":"https://github.com/pallets/jinja","homepage":"https://jinja.palletsprojects.com","size":6934,"stargazers_count":11255,"watchers_count":11255,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1681,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":93,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["jinja","jinja2","pallets","python","template-engine","templates"],"visibility":"public","forks":1681,"open_issues":93,"watchers":11255,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pallets/jinja/pulls/1455","html_url":"https://github.com/pallets/jinja/pull/1455","diff_url":"https://github.com/pallets/jinja/pull/1455.diff","patch_url":"https://github.com/pallets/jinja/pull/1455.patch","merged_at":"2021-08-09T18:10:01Z"},"body":"- fixes #1448 \r\n\r\n<!--\r\nEnsure each step in CONTRIBUTING.rst is complete by adding an \"x\" to each box below.\r\n\r\nIf only docs were changed, these aren't relevant and can be removed.\r\n-->\r\n\r\nChecklist:\r\n\r\n- [x] Add tests that demonstrate the correct behavior of the change. Tests should fail without the change.\r\n- [ ] Add or update relevant docs, in the docs folder and in code.\r\n\t- There was no docs added when this was set, so there shouldn't be doc to remove or change.\r\n- [x] Add an entry in `CHANGES.rst` summarizing the change and linking to the issue.\r\n- [ ] Add `.. versionchanged::` entries in any relevant code docs.\r\n    - No docstring changed\r\n- [x] Run `pre-commit` hooks and fix any issues.\r\n- [x] Run `pytest` and `tox`, no tests failed.\r\n","reactions":{"url":"https://api.github.com/repos/pallets/jinja/issues/1455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pallets/jinja/issues/1455/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":4839598141,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4Mzk1OTgxNDE=","url":"https://api.github.com/repos/pallets/jinja/issues/events/4839598141","actor":{"login":"acozine","id":879121,"node_id":"MDQ6VXNlcjg3OTEyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/879121?v=4","gravatar_id":"","url":"https://api.github.com/users/acozine","html_url":"https://github.com/acozine","followers_url":"https://api.github.com/users/acozine/followers","following_url":"https://api.github.com/users/acozine/following{/other_user}","gists_url":"https://api.github.com/users/acozine/gists{/gist_id}","starred_url":"https://api.github.com/users/acozine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acozine/subscriptions","organizations_url":"https://api.github.com/users/acozine/orgs","repos_url":"https://api.github.com/users/acozine/repos","events_url":"https://api.github.com/users/acozine/events{/privacy}","received_events_url":"https://api.github.com/users/acozine/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0691475caf484bde674267e154865ab8c7a99a76","commit_url":"https://api.github.com/repos/ansible/ansible/commits/0691475caf484bde674267e154865ab8c7a99a76","created_at":"2021-06-03T20:13:49Z","performed_via_github_app":null},{"id":5131252559,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxMzEyNTI1NTk=","url":"https://api.github.com/repos/pallets/jinja/issues/events/5131252559","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d5f49f5cc135f1a78704dba7db8212be2388b50e","commit_url":"https://api.github.com/repos/ewjoachim/jinja/commits/d5f49f5cc135f1a78704dba7db8212be2388b50e","created_at":"2021-08-09T18:07:45Z","performed_via_github_app":null},{"id":5131263789,"node_id":"MDExOkNsb3NlZEV2ZW50NTEzMTI2Mzc4OQ==","url":"https://api.github.com/repos/pallets/jinja/issues/events/5131263789","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-08-09T18:10:10Z","state_reason":null,"performed_via_github_app":null},{"id":5197523615,"node_id":"MDExOkxvY2tlZEV2ZW50NTE5NzUyMzYxNQ==","url":"https://api.github.com/repos/pallets/jinja/issues/events/5197523615","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2021-08-24T00:07:32Z","lock_reason":"resolved","performed_via_github_app":null}]