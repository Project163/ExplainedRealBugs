{"url":"https://api.github.com/repos/pallets/jinja/issues/765","repository_url":"https://api.github.com/repos/pallets/jinja","labels_url":"https://api.github.com/repos/pallets/jinja/issues/765/labels{/name}","comments_url":"https://api.github.com/repos/pallets/jinja/issues/765/comments","events_url":"https://api.github.com/repos/pallets/jinja/issues/765/events","html_url":"https://github.com/pallets/jinja/issues/765","id":255664042,"node_id":"MDU6SXNzdWUyNTU2NjQwNDI=","number":765,"title":"[Request] Could importing asyncio optional?","user":{"login":"methane","id":199592,"node_id":"MDQ6VXNlcjE5OTU5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/199592?v=4","gravatar_id":"","url":"https://api.github.com/users/methane","html_url":"https://github.com/methane","followers_url":"https://api.github.com/users/methane/followers","following_url":"https://api.github.com/users/methane/following{/other_user}","gists_url":"https://api.github.com/users/methane/gists{/gist_id}","starred_url":"https://api.github.com/users/methane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/methane/subscriptions","organizations_url":"https://api.github.com/users/methane/orgs","repos_url":"https://api.github.com/users/methane/repos","events_url":"https://api.github.com/users/methane/events{/privacy}","received_events_url":"https://api.github.com/users/methane/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pallets/jinja/milestones/2","html_url":"https://github.com/pallets/jinja/milestone/2","labels_url":"https://api.github.com/repos/pallets/jinja/milestones/2/labels","id":3092936,"node_id":"MDk6TWlsZXN0b25lMzA5MjkzNg==","number":2,"title":"2.11.0","description":"","creator":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":81,"state":"closed","created_at":"2018-02-06T14:08:54Z","updated_at":"2020-01-29T06:36:03Z","due_on":null,"closed_at":"2020-01-29T06:36:03Z"},"comments":3,"created_at":"2017-09-06T16:21:35Z","updated_at":"2020-11-13T20:53:35Z","closed_at":"2018-02-06T15:52:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"After #731 is merged, importing jinja2 on Python 3 get dramatically faster.\r\nFor now, over 40% of import time is caused by asyncio support.\r\n\r\n```\r\n      - asyncio 36.123 [ms]\r\n    - jinja2.asyncsupport 36.397 [ms]\r\n    - jinja2.asyncfilters 0.297 [ms]\r\n  - jinja2 84.312 [ms]\r\n```\r\n\r\n(See [this gist](https://gist.github.com/methane/1ab97181e74a33592314c7619bf34233#file-3-default-asyncio-txt) for detail)\r\n\r\n[Jinja2's document says](http://jinja.pocoo.org/docs/2.9/api/#async-support):\r\n\r\n> First you need to be aware that by default async support is disabled as enabling it will generate different template code behind the scenes which passes everything through the asyncio event loop. \r\n\r\nBut even when user doesn't use async support, `jinja2.asyncsupport` is imported:\r\n\r\nhttps://github.com/pallets/jinja/blob/b73cb489c57cfe0c713699c6f7c153406cb28269/jinja2/__init__.py#L74-L82\r\n\r\nWould you make importing asyncio optional to improve import time of jinja2?\r\n\r\nFor example, faster import time is beneficial on GAE/Python.\r\nAnd less import means less memory footprint too.","closed_by":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pallets/jinja/issues/765/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pallets/jinja/issues/765/timeline","performed_via_github_app":null,"state_reason":"completed"}