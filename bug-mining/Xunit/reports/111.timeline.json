[{"url":"https://api.github.com/repos/xunit/xunit/issues/comments/299984521","html_url":"https://github.com/xunit/xunit/issues/1233#issuecomment-299984521","issue_url":"https://api.github.com/repos/xunit/xunit/issues/1233","id":299984521,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTk4NDUyMQ==","user":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-08T20:41:08Z","updated_at":"2017-05-08T20:41:08Z","body":"The issue is that we're seeing two types with the same name (`Tests.MyTests+<>o__3`) which is causing [this line of code](https://github.com/xunit/xunit/blob/139de6ffff84a8efb127295c26348d092d1fb6fd/src/xunit.runner.utility/Utility/DiaSessionWrapperHelper.cs#L73) to throw an exception.\r\n\r\nI'm working on a solution...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/xunit/xunit/issues/comments/299984521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1073520548,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTA3MzUyMDU0OA==","url":"https://api.github.com/repos/xunit/xunit/issues/events/1073520548","actor":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2017-05-08T20:53:09Z","rename":{"from":"test discovery not shutting down after Exception","to":"Types with duplicate names cause fatal exception"},"performed_via_github_app":null},{"id":1073524272,"node_id":"MDEyOkxhYmVsZWRFdmVudDEwNzM1MjQyNzI=","url":"https://api.github.com/repos/xunit/xunit/issues/events/1073524272","actor":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-05-08T20:55:20Z","label":{"name":"[a] xunit","color":"5319e7"},"performed_via_github_app":null},{"id":1073524274,"node_id":"MDEyOkxhYmVsZWRFdmVudDEwNzM1MjQyNzQ=","url":"https://api.github.com/repos/xunit/xunit/issues/events/1073524274","actor":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-05-08T20:55:20Z","label":{"name":"[r] Fixed","color":"eb6420"},"performed_via_github_app":null},{"id":1073524275,"node_id":"MDEyOkxhYmVsZWRFdmVudDEwNzM1MjQyNzU=","url":"https://api.github.com/repos/xunit/xunit/issues/events/1073524275","actor":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-05-08T20:55:20Z","label":{"name":"[t] Bug","color":"0052cc"},"performed_via_github_app":null},{"id":1073524334,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDEwNzM1MjQzMzQ=","url":"https://api.github.com/repos/xunit/xunit/issues/events/1073524334","actor":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-05-08T20:55:22Z","milestone":{"title":"2.3-beta2"},"performed_via_github_app":null},{"id":1073526170,"node_id":"MDExOkNsb3NlZEV2ZW50MTA3MzUyNjE3MA==","url":"https://api.github.com/repos/xunit/xunit/issues/events/1073526170","actor":{"login":"bradwilson","id":16944,"node_id":"MDQ6VXNlcjE2OTQ0","avatar_url":"https://avatars.githubusercontent.com/u/16944?v=4","gravatar_id":"","url":"https://api.github.com/users/bradwilson","html_url":"https://github.com/bradwilson","followers_url":"https://api.github.com/users/bradwilson/followers","following_url":"https://api.github.com/users/bradwilson/following{/other_user}","gists_url":"https://api.github.com/users/bradwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/bradwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradwilson/subscriptions","organizations_url":"https://api.github.com/users/bradwilson/orgs","repos_url":"https://api.github.com/users/bradwilson/repos","events_url":"https://api.github.com/users/bradwilson/events{/privacy}","received_events_url":"https://api.github.com/users/bradwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"ea01731cedc30ce50080507f5172ea376814cab6","commit_url":"https://api.github.com/repos/xunit/xunit/commits/ea01731cedc30ce50080507f5172ea376814cab6","created_at":"2017-05-08T20:56:31Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"david-driscoll","id":1269157,"node_id":"MDQ6VXNlcjEyNjkxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/1269157?v=4","gravatar_id":"","url":"https://api.github.com/users/david-driscoll","html_url":"https://github.com/david-driscoll","followers_url":"https://api.github.com/users/david-driscoll/followers","following_url":"https://api.github.com/users/david-driscoll/following{/other_user}","gists_url":"https://api.github.com/users/david-driscoll/gists{/gist_id}","starred_url":"https://api.github.com/users/david-driscoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-driscoll/subscriptions","organizations_url":"https://api.github.com/users/david-driscoll/orgs","repos_url":"https://api.github.com/users/david-driscoll/repos","events_url":"https://api.github.com/users/david-driscoll/events{/privacy}","received_events_url":"https://api.github.com/users/david-driscoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-11T01:05:52Z","updated_at":"2017-05-11T01:05:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/13","repository_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol","labels_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/13/labels{/name}","comments_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/13/comments","events_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/13/events","html_url":"https://github.com/OmniSharp/csharp-language-server-protocol/issues/13","id":227829415,"node_id":"MDU6SXNzdWUyMjc4Mjk0MTU=","number":13,"title":"Tests in VS2017","user":{"login":"Lercher","id":5909334,"node_id":"MDQ6VXNlcjU5MDkzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5909334?v=4","gravatar_id":"","url":"https://api.github.com/users/Lercher","html_url":"https://github.com/Lercher","followers_url":"https://api.github.com/users/Lercher/followers","following_url":"https://api.github.com/users/Lercher/following{/other_user}","gists_url":"https://api.github.com/users/Lercher/gists{/gist_id}","starred_url":"https://api.github.com/users/Lercher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lercher/subscriptions","organizations_url":"https://api.github.com/users/Lercher/orgs","repos_url":"https://api.github.com/users/Lercher/repos","events_url":"https://api.github.com/users/Lercher/events{/privacy}","received_events_url":"https://api.github.com/users/Lercher/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-05-10T22:33:34Z","updated_at":"2017-10-10T18:56:00Z","closed_at":"2017-10-10T18:56:00Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":85151605,"node_id":"MDEwOlJlcG9zaXRvcnk4NTE1MTYwNQ==","name":"csharp-language-server-protocol","full_name":"OmniSharp/csharp-language-server-protocol","private":false,"owner":{"login":"OmniSharp","id":9420663,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk0MjA2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9420663?v=4","gravatar_id":"","url":"https://api.github.com/users/OmniSharp","html_url":"https://github.com/OmniSharp","followers_url":"https://api.github.com/users/OmniSharp/followers","following_url":"https://api.github.com/users/OmniSharp/following{/other_user}","gists_url":"https://api.github.com/users/OmniSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/OmniSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OmniSharp/subscriptions","organizations_url":"https://api.github.com/users/OmniSharp/orgs","repos_url":"https://api.github.com/users/OmniSharp/repos","events_url":"https://api.github.com/users/OmniSharp/events{/privacy}","received_events_url":"https://api.github.com/users/OmniSharp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/OmniSharp/csharp-language-server-protocol","description":"Language Server Protocol in C#","fork":false,"url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol","forks_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/forks","keys_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/keys{/key_id}","collaborators_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/teams","hooks_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/hooks","issue_events_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/events{/number}","events_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/events","assignees_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/assignees{/user}","branches_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/branches{/branch}","tags_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/tags","blobs_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/git/refs{/sha}","trees_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/git/trees{/sha}","statuses_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/statuses/{sha}","languages_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/languages","stargazers_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/stargazers","contributors_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/contributors","subscribers_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/subscribers","subscription_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/subscription","commits_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/commits{/sha}","git_commits_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/git/commits{/sha}","comments_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/comments{/number}","issue_comment_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/comments{/number}","contents_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/contents/{+path}","compare_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/compare/{base}...{head}","merges_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/merges","archive_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/downloads","issues_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues{/number}","pulls_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/pulls{/number}","milestones_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/milestones{/number}","notifications_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/labels{/name}","releases_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/releases{/id}","deployments_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/deployments","created_at":"2017-03-16T04:11:01Z","updated_at":"2025-11-10T06:43:29Z","pushed_at":"2025-11-10T11:15:50Z","git_url":"git://github.com/OmniSharp/csharp-language-server-protocol.git","ssh_url":"git@github.com:OmniSharp/csharp-language-server-protocol.git","clone_url":"https://github.com/OmniSharp/csharp-language-server-protocol.git","svn_url":"https://github.com/OmniSharp/csharp-language-server-protocol","homepage":null,"size":6165,"stargazers_count":591,"watchers_count":591,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":111,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":109,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["csharp","dotnet","language-client","language-server","language-server-protocol","lsp"],"visibility":"public","forks":111,"open_issues":109,"watchers":591,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"It's not going away since I joined, and I don't find the cause for the duplicate key. Any helpful thoughts?\r\n````\r\n------ Discover test started ------\r\nTest run will use DLL(s) built for framework Framework45 and platform X86. Following DLL(s) will not be part of run: \r\nSampleServer.dll is built for Framework FrameworkCore10 and Platform X64.\r\n Go to http://go.microsoft.com/fwlink/?LinkID=236877&clcid=0x409 for more details on managing these settings.\r\n[xUnit.net 00:00:00.4003044]   Discovering: JsonRpc.Tests\r\n[xUnit.net 00:00:00.8653768]   Discovered:  JsonRpc.Tests\r\n[xUnit.net 00:00:01.1695729]   Discovering: Lsp.Tests\r\n[xUnit.net 00:00:02.4686640]   Discovered:  Lsp.Tests\r\nA test with the same name 'JsonRpc.Tests.HandlerResolverTests.Should_Have_CorrectParams (0b3c812df8e74c46b3132be96fe7eca4473a1976)' already exists. This test is not added to the test window.\r\n========== Discover test finished: 174 found (0:00:02,8958999) ==========\r\n------ Run test started ------\r\n[xUnit.net 00:00:00.3931256]   Discovering: JsonRpc.Tests\r\n[xUnit.net 00:00:01.2304602]   Discovered:  JsonRpc.Tests\r\n[xUnit.net 00:00:01.2890534] JsonRpc.Tests: Catastrophic failure: System.ArgumentException: An item with the same key has already been added.\r\n   at System.ThrowHelper.ThrowArgumentException(ExceptionResource resource)\r\n   at System.Collections.Generic.Dictionary`2.Insert(TKey key, TValue value, Boolean add)\r\n   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)\r\n   at Xunit.Runner.VisualStudio.TestAdapter.VsTestRunner.RunTestsInAssembly(IRunContext runContext, IFrameworkHandle frameworkHandle, LoggerHelper logger, TestPlatformContext testPlatformContext, IMessageSinkWithTypes reporterMessageHandler, AssemblyRunInfo runInfo)\r\n[xUnit.net 00:00:01.5023966]   Discovering: Lsp.Tests\r\n[xUnit.net 00:00:03.4844202]   Discovered:  Lsp.Tests\r\n[xUnit.net 00:00:03.4875018]   Starting:    Lsp.Tests\r\n[xUnit.net 00:00:05.7481184]   Finished:    Lsp.Tests\r\n========== Run test finished: 135 run (0:00:06,0399637) ==========\r\n````\r\n... instead of 174. I always have to start the remaining tests separately. My xUnit.* is 2.3.0-beta1-build3642.\r\n\r\nThanks, Martin","reactions":{"url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/13/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/OmniSharp/csharp-language-server-protocol/issues/13/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]