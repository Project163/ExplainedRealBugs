diff --git a/release-notes/VERSION b/release-notes/VERSION
index b177fd6bc..fe028e3b3 100644
--- a/release-notes/VERSION
+++ b/release-notes/VERSION
@@ -8,6 +8,8 @@ Project: jackson-databind
 
 #77: Allow injection of 'transient' fields
 #95: Allow read-only properties with `@JsonIgnoreProperties(allowGetters=true)`
+#222: EXTERNAL_PROPERTY adds property multiple times and in multiple places
+ (reported by Rob E, thatsnotright@github)
 #296: Serialization of transient fields with public getters (add
     MapperFeature.PROPAGATE_TRANSIENT_MARKER)
  (suggested by Michal L)
diff --git a/src/main/java/com/fasterxml/jackson/databind/JsonSerializer.java b/src/main/java/com/fasterxml/jackson/databind/JsonSerializer.java
index 6a549296c..ddfd5ecb6 100644
--- a/src/main/java/com/fasterxml/jackson/databind/JsonSerializer.java
+++ b/src/main/java/com/fasterxml/jackson/databind/JsonSerializer.java
@@ -1,11 +1,14 @@
 package com.fasterxml.jackson.databind;
 
 import java.io.IOException;
+import java.util.Iterator;
 
 import com.fasterxml.jackson.core.*;
 import com.fasterxml.jackson.databind.jsonFormatVisitors.JsonFormatVisitable;
 import com.fasterxml.jackson.databind.jsonFormatVisitors.JsonFormatVisitorWrapper;
 import com.fasterxml.jackson.databind.jsontype.TypeSerializer;
+import com.fasterxml.jackson.databind.ser.PropertyWriter;
+import com.fasterxml.jackson.databind.util.EmptyIterator;
 import com.fasterxml.jackson.databind.util.NameTransformer;
 
 /**
@@ -227,6 +230,20 @@ public abstract class JsonSerializer<T>
         return null;
     }
 
+    /**
+     * Accessor for iterating over logical properties that the type
+     * handled by this serializer has, from serialization perspective.
+     * Actual type of properties, if any, will be
+     * {@link com.fasterxml.jackson.databind.ser.BeanPropertyWriter}.
+     * Of standard Jackson serializers, only {@link com.fasterxml.jackson.databind.ser.BeanSerializer}
+     * exposes properties.
+     *
+     * @since 2.6
+     */
+    public Iterator<PropertyWriter> properties() {
+        return EmptyIterator.instance();
+    }
+
     /*
     /**********************************************************
     /* Default JsonFormatVisitable implementation
diff --git a/src/main/java/com/fasterxml/jackson/databind/jsontype/TypeSerializer.java b/src/main/java/com/fasterxml/jackson/databind/jsontype/TypeSerializer.java
index 51daa936d..adb51393c 100644
--- a/src/main/java/com/fasterxml/jackson/databind/jsontype/TypeSerializer.java
+++ b/src/main/java/com/fasterxml/jackson/databind/jsontype/TypeSerializer.java
@@ -32,7 +32,7 @@ public abstract class TypeSerializer
      * @since 2.0
      */
     public abstract TypeSerializer forProperty(BeanProperty prop);
-    
+
     /*
     /**********************************************************
     /* Introspection
diff --git a/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/AsExternalTypeSerializer.java b/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/AsExternalTypeSerializer.java
index 9a616a51e..8c873911a 100644
--- a/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/AsExternalTypeSerializer.java
+++ b/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/AsExternalTypeSerializer.java
@@ -4,7 +4,6 @@ import java.io.IOException;
 
 import com.fasterxml.jackson.annotation.JsonTypeInfo.As;
 import com.fasterxml.jackson.core.*;
-
 import com.fasterxml.jackson.databind.BeanProperty;
 import com.fasterxml.jackson.databind.jsontype.TypeIdResolver;
 
@@ -24,79 +23,79 @@ import com.fasterxml.jackson.databind.jsontype.TypeIdResolver;
  */
 public class AsExternalTypeSerializer extends TypeSerializerBase
 {
-   protected final String _typePropertyName;
+    protected final String _typePropertyName;
 
-   public AsExternalTypeSerializer(TypeIdResolver idRes, BeanProperty property, String propName) {
-       super(idRes, property);
-       _typePropertyName = propName;
-   }
+    public AsExternalTypeSerializer(TypeIdResolver idRes, BeanProperty property, String propName) {
+        super(idRes, property);
+        _typePropertyName = propName;
+    }
 
-   @Override
-   public AsExternalTypeSerializer forProperty(BeanProperty prop) {
-       return (_property == prop) ? this : new AsExternalTypeSerializer(_idResolver, prop, _typePropertyName);
-   }
-   
-   @Override
-   public String getPropertyName() { return _typePropertyName; }
+    @Override
+    public AsExternalTypeSerializer forProperty(BeanProperty prop) {
+        return (_property == prop) ? this : new AsExternalTypeSerializer(_idResolver, prop, _typePropertyName);
+    }
 
-   @Override
-   public As getTypeInclusion() { return As.EXTERNAL_PROPERTY; }
+    @Override
+    public String getPropertyName() { return _typePropertyName; }
 
-   /*
-   /**********************************************************
-   /* Writing prefixes
-   /**********************************************************
-    */
-   
-   @Override
-   public void writeTypePrefixForObject(Object value, JsonGenerator jgen) throws IOException {
-       _writeObjectPrefix(value, jgen);
-   }
+    @Override
+    public As getTypeInclusion() { return As.EXTERNAL_PROPERTY; }
 
-   @Override
-   public void writeTypePrefixForObject(Object value, JsonGenerator jgen, Class<?> type) throws IOException {
-       _writeObjectPrefix(value, jgen);
-   }
+    /*
+    /**********************************************************
+    /* Writing prefixes
+    /**********************************************************
+     */
    
-   @Override
-   public void writeTypePrefixForArray(Object value, JsonGenerator jgen) throws IOException {
-       _writeArrayPrefix(value, jgen);
-   }
-
-   @Override
-   public void writeTypePrefixForArray(Object value, JsonGenerator jgen, Class<?> type) throws IOException {
-       _writeArrayPrefix(value, jgen);
-   }
-
-   @Override
-   public void writeTypePrefixForScalar(Object value, JsonGenerator jgen) throws IOException {
-       _writeScalarPrefix(value, jgen);
-   }
-
-   @Override
-   public void writeTypePrefixForScalar(Object value, JsonGenerator jgen, Class<?> type) throws IOException {
-       _writeScalarPrefix(value, jgen);
-   }
-
-   /*
-   /**********************************************************
-   /* Writing suffixes
-   /**********************************************************
-    */
+    @Override
+    public void writeTypePrefixForObject(Object value, JsonGenerator gen) throws IOException {
+        _writeObjectPrefix(value, gen);
+    }
+
+    @Override
+    public void writeTypePrefixForObject(Object value, JsonGenerator gen, Class<?> type) throws IOException {
+        _writeObjectPrefix(value, gen);
+    }
+
+    @Override
+    public void writeTypePrefixForArray(Object value, JsonGenerator gen) throws IOException {
+        _writeArrayPrefix(value, gen);
+    }
+
+    @Override
+    public void writeTypePrefixForArray(Object value, JsonGenerator gen, Class<?> type) throws IOException {
+        _writeArrayPrefix(value, gen);
+    }
+
+    @Override
+    public void writeTypePrefixForScalar(Object value, JsonGenerator gen) throws IOException {
+        _writeScalarPrefix(value, gen);
+    }
+
+    @Override
+    public void writeTypePrefixForScalar(Object value, JsonGenerator gen, Class<?> type) throws IOException {
+        _writeScalarPrefix(value, gen);
+    }
+
+    /*
+    /**********************************************************
+    /* Writing suffixes
+    /**********************************************************
+     */
    
    @Override
-   public void writeTypeSuffixForObject(Object value, JsonGenerator jgen) throws IOException {
-       _writeObjectSuffix(value, jgen, idFromValue(value));
+   public void writeTypeSuffixForObject(Object value, JsonGenerator gen) throws IOException {
+       _writeObjectSuffix(value, gen, idFromValue(value));
    }
 
    @Override
-   public void writeTypeSuffixForArray(Object value, JsonGenerator jgen) throws IOException {
-       _writeArraySuffix(value, jgen, idFromValue(value));
+   public void writeTypeSuffixForArray(Object value, JsonGenerator gen) throws IOException {
+       _writeArraySuffix(value, gen, idFromValue(value));
    }
    
    @Override
-   public void writeTypeSuffixForScalar(Object value, JsonGenerator jgen) throws IOException {
-       _writeScalarSuffix(value, jgen, idFromValue(value));
+   public void writeTypeSuffixForScalar(Object value, JsonGenerator gen) throws IOException {
+       _writeScalarSuffix(value, gen, idFromValue(value));
    }
 
    /*
@@ -106,33 +105,33 @@ public class AsExternalTypeSerializer extends TypeSerializerBase
     */
 
    @Override
-   public void writeCustomTypePrefixForScalar(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       _writeScalarPrefix(value, jgen);
+   public void writeCustomTypePrefixForScalar(Object value, JsonGenerator gen, String typeId) throws IOException {
+       _writeScalarPrefix(value, gen);
    }
    
    @Override
-   public void writeCustomTypePrefixForObject(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       _writeObjectPrefix(value, jgen);
+   public void writeCustomTypePrefixForObject(Object value, JsonGenerator gen, String typeId) throws IOException {
+       _writeObjectPrefix(value, gen);
    }
    
    @Override
-   public void writeCustomTypePrefixForArray(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       _writeArrayPrefix(value, jgen);
+   public void writeCustomTypePrefixForArray(Object value, JsonGenerator gen, String typeId) throws IOException {
+       _writeArrayPrefix(value, gen);
    }
 
    @Override
-   public void writeCustomTypeSuffixForScalar(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       _writeScalarSuffix(value, jgen, typeId);
+   public void writeCustomTypeSuffixForScalar(Object value, JsonGenerator gen, String typeId) throws IOException {
+       _writeScalarSuffix(value, gen, typeId);
    }
 
    @Override
-   public void writeCustomTypeSuffixForObject(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       _writeObjectSuffix(value, jgen, typeId);
+   public void writeCustomTypeSuffixForObject(Object value, JsonGenerator gen, String typeId) throws IOException {
+       _writeObjectSuffix(value, gen, typeId);
    }
 
    @Override
-   public void writeCustomTypeSuffixForArray(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       _writeArraySuffix(value, jgen, typeId);
+   public void writeCustomTypeSuffixForArray(Object value, JsonGenerator gen, String typeId) throws IOException {
+       _writeArraySuffix(value, gen, typeId);
    }
 
    /*
@@ -142,33 +141,33 @@ public class AsExternalTypeSerializer extends TypeSerializerBase
     */
 
    // nothing to wrap it with:
-   protected final void _writeScalarPrefix(Object value, JsonGenerator jgen) throws IOException { }
+   protected final void _writeScalarPrefix(Object value, JsonGenerator gen) throws IOException { }
 
-   protected final void _writeObjectPrefix(Object value, JsonGenerator jgen) throws IOException {
-       jgen.writeStartObject();
+   protected final void _writeObjectPrefix(Object value, JsonGenerator gen) throws IOException {
+       gen.writeStartObject();
    }
 
-   protected final void _writeArrayPrefix(Object value, JsonGenerator jgen) throws IOException {
-       jgen.writeStartArray();
+   protected final void _writeArrayPrefix(Object value, JsonGenerator gen) throws IOException {
+       gen.writeStartArray();
    }
    
-   protected final void _writeScalarSuffix(Object value, JsonGenerator jgen, String typeId) throws IOException {
+   protected final void _writeScalarSuffix(Object value, JsonGenerator gen, String typeId) throws IOException {
        if (typeId != null) {
-           jgen.writeStringField(_typePropertyName, typeId);
+           gen.writeStringField(_typePropertyName, typeId);
        }
    }
    
-   protected final void _writeObjectSuffix(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       jgen.writeEndObject();
+   protected final void _writeObjectSuffix(Object value, JsonGenerator gen, String typeId) throws IOException {
+       gen.writeEndObject();
        if (typeId != null) {
-           jgen.writeStringField(_typePropertyName, typeId);
+           gen.writeStringField(_typePropertyName, typeId);
        }
    }
 
-   protected final void _writeArraySuffix(Object value, JsonGenerator jgen, String typeId) throws IOException {
-       jgen.writeEndArray();
+   protected final void _writeArraySuffix(Object value, JsonGenerator gen, String typeId) throws IOException {
+       gen.writeEndArray();
        if (typeId != null) {
-           jgen.writeStringField(_typePropertyName, typeId);
+           gen.writeStringField(_typePropertyName, typeId);
        }
    }
 }
diff --git a/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/StdTypeResolverBuilder.java b/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/StdTypeResolverBuilder.java
index fe6753d49..1372a6724 100644
--- a/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/StdTypeResolverBuilder.java
+++ b/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/StdTypeResolverBuilder.java
@@ -76,13 +76,11 @@ public class StdTypeResolverBuilder
         case WRAPPER_ARRAY:
             return new AsArrayTypeSerializer(idRes, null);
         case PROPERTY:
-            return new AsPropertyTypeSerializer(idRes, null,
-                    _typeProperty);
+            return new AsPropertyTypeSerializer(idRes, null, _typeProperty);
         case WRAPPER_OBJECT:
             return new AsWrapperTypeSerializer(idRes, null);
         case EXTERNAL_PROPERTY:
-            return new AsExternalTypeSerializer(idRes, null,
-                    _typeProperty);
+            return new AsExternalTypeSerializer(idRes, null, _typeProperty);
         case EXISTING_PROPERTY:
         	// as per [#528]
         	return new AsExistingPropertyTypeSerializer(idRes, null, _typeProperty);
diff --git a/src/main/java/com/fasterxml/jackson/databind/ser/BasicSerializerFactory.java b/src/main/java/com/fasterxml/jackson/databind/ser/BasicSerializerFactory.java
index 9bb4db711..55cda7602 100644
--- a/src/main/java/com/fasterxml/jackson/databind/ser/BasicSerializerFactory.java
+++ b/src/main/java/com/fasterxml/jackson/databind/ser/BasicSerializerFactory.java
@@ -277,6 +277,8 @@ public abstract class BasicSerializerFactory
         if (b == null) {
             return null;
         }
+        // 10-Jun-2015, tatu: Since not created for Bean Property, no need for post-processing
+        //    wrt EXTERNAL_PROPERTY
         return b.buildTypeSerializer(config, baseType, subtypes);
     }
 
@@ -293,7 +295,7 @@ public abstract class BasicSerializerFactory
     /* Overridable secondary serializer accessor methods
     /**********************************************************
      */
-    
+
     /**
      * Method that will use fast lookup (and identity comparison) methods to
      * see if we know serializer to use for given type.
diff --git a/src/main/java/com/fasterxml/jackson/databind/ser/BeanPropertyWriter.java b/src/main/java/com/fasterxml/jackson/databind/ser/BeanPropertyWriter.java
index 39c7fc90e..99c8e44cd 100644
--- a/src/main/java/com/fasterxml/jackson/databind/ser/BeanPropertyWriter.java
+++ b/src/main/java/com/fasterxml/jackson/databind/ser/BeanPropertyWriter.java
@@ -91,10 +91,10 @@ public class BeanPropertyWriter extends PropertyWriter
     
     /*
     /**********************************************************
-    /* Serialization settings
+    /* Basic property metadata: name, type, other
     /**********************************************************
      */
-    
+
     /**
      * Logical name of the property; will be used as the field name
      * under which value for the property is written.
@@ -112,13 +112,35 @@ public class BeanPropertyWriter extends PropertyWriter
      * @since 2.2
      */
     protected final PropertyName _wrapperName;
-    
+
     /**
      * Type to use for locating serializer; normally same as return
      * type of the accessor method, but may be overridden by annotations.
      */
     protected final JavaType _cfgSerializationType;
 
+    /**
+     * Base type of the property, if the declared type is "non-trivial";
+     * meaning it is either a structured type (collection, map, array),
+     * or parameterized. Used to retain type information about contained
+     * type, which is mostly necessary if type meta-data is to be
+     * included.
+     */
+    protected JavaType _nonTrivialBaseType;
+
+    /**
+     * Additional information about property
+     *
+     * @since 2.3
+     */
+    protected final PropertyMetadata _metadata;
+
+    /*
+    /**********************************************************
+    /* Serializers needed
+    /**********************************************************
+     */
+
     /**
      * Serializer to use for writing out the value: null if it can not
      * be known statically; non-null if it can.
@@ -130,7 +152,16 @@ public class BeanPropertyWriter extends PropertyWriter
      * null values are to be suppressed.
      */
     protected JsonSerializer<Object> _nullSerializer;
-    
+
+    /**
+     * If property being serialized needs type information to be
+     * included this is the type serializer to use.
+     * Declared type (possibly augmented with annotations) of property
+     * is used for determining exact mechanism to use (compared to
+     * actual runtime type used for serializing actual state).
+     */
+    protected final TypeSerializer _typeSerializer;
+
     /**
      * In case serializer is not known statically (i.e. <code>_serializer</code>
      * is null), we will use a lookup structure for storing dynamically
@@ -138,12 +169,20 @@ public class BeanPropertyWriter extends PropertyWriter
      */
     protected transient PropertySerializerMap _dynamicSerializers;
 
+    /*
+    /**********************************************************
+    /* Filtering
+    /**********************************************************
+     */
+
     /**
      * Whether null values are to be suppressed (nothing written out if
-     * value is null) or not.
+     * value is null) or not. Note that this is a configuration value
+     * during construction, and actual handling relies on setting
+     * (or not) of {@link #_nullSerializer}.
      */
     protected final boolean _suppressNulls;
-    
+
     /**
      * Value that is considered default value of the property; used for
      * default-value-suppression if enabled.
@@ -156,31 +195,6 @@ public class BeanPropertyWriter extends PropertyWriter
      */
     protected final Class<?>[] _includeInViews;
 
-    /**
-     * If property being serialized needs type information to be
-     * included this is the type serializer to use.
-     * Declared type (possibly augmented with annotations) of property
-     * is used for determining exact mechanism to use (compared to
-     * actual runtime type used for serializing actual state).
-     */
-    protected TypeSerializer _typeSerializer;
-    
-    /**
-     * Base type of the property, if the declared type is "non-trivial";
-     * meaning it is either a structured type (collection, map, array),
-     * or parameterized. Used to retain type information about contained
-     * type, which is mostly necessary if type meta-data is to be
-     * included.
-     */
-    protected JavaType _nonTrivialBaseType;
-
-    /**
-     * Additional information about property
-     * 
-     * @since 2.3
-     */
-    protected final PropertyMetadata _metadata;
-
     /*
     /**********************************************************
     /* Construction, configuration
@@ -308,7 +322,6 @@ public class BeanPropertyWriter extends PropertyWriter
         _field = base._field;
         _serializer = base._serializer;
         _nullSerializer = base._nullSerializer;
-        // one more thing: copy internal settings, if any (since 1.7)
         if (base._internalSettings != null) {
             _internalSettings = new HashMap<Object,Object>(base._internalSettings);
         }
@@ -322,6 +335,33 @@ public class BeanPropertyWriter extends PropertyWriter
         _metadata = base._metadata;
     }
 
+    /**
+     * @since 2.6
+     */
+    protected BeanPropertyWriter(BeanPropertyWriter base, TypeSerializer typeSer)
+    {
+        _name = base._name;
+        _wrapperName = base._wrapperName;
+
+        _member = base._member;
+        _contextAnnotations = base._contextAnnotations;
+        _declaredType = base._declaredType;
+        _accessorMethod = base._accessorMethod;
+        _field = base._field;
+        _serializer = base._serializer;
+        _nullSerializer = base._nullSerializer;
+        _internalSettings = base._internalSettings; // safe, as per usage
+        _cfgSerializationType = base._cfgSerializationType;
+        _dynamicSerializers = base._dynamicSerializers;
+        _suppressNulls = base._suppressNulls;
+        _suppressableValue = base._suppressableValue;
+        _includeInViews = base._includeInViews;
+        _nonTrivialBaseType = base._nonTrivialBaseType;
+        _metadata = base._metadata;
+
+        _typeSerializer = typeSer;
+    }
+    
     public BeanPropertyWriter rename(NameTransformer transformer) {
         String newName = transformer.transform(_name.getValue());
         if (newName.equals(_name.toString())) {
@@ -330,6 +370,20 @@ public class BeanPropertyWriter extends PropertyWriter
         return new BeanPropertyWriter(this, PropertyName.construct(newName));
     }
 
+    /**
+     * Mutant factory to construct and return a new {@link BeanPropertyWriter} with
+     * specified type serializer, unless this instance already has that 
+     * type serializer configured.
+     * 
+     * @since 2.6
+     */
+    public BeanPropertyWriter withTypeSerializer(TypeSerializer typeSer) {
+        if (typeSer == _typeSerializer) {
+            return this;
+        }
+        return new BeanPropertyWriter(this, typeSer);
+    }
+
     /**
      * Method called to assign value serializer for property
      * 
@@ -355,7 +409,7 @@ public class BeanPropertyWriter extends PropertyWriter
         }
         _nullSerializer = nullSer;
     }
-    
+
     /**
      * Method called create an instance that handles details of unwrapping
      * contained value.
@@ -477,6 +531,11 @@ public class BeanPropertyWriter extends PropertyWriter
     public boolean hasSerializer() { return _serializer != null; }
     public boolean hasNullSerializer() { return _nullSerializer != null; }
 
+    /**
+     * @since 2.6
+     */
+    public TypeSerializer getTypeSerializer() { return _typeSerializer; }
+
     /**
      * Accessor that will return true if this bean property has to support
      * "unwrapping"; ability to replace POJO structural wrapping with optional
@@ -489,6 +548,21 @@ public class BeanPropertyWriter extends PropertyWriter
     public boolean isUnwrapping() { return false; }
     
     public boolean willSuppressNulls() { return _suppressNulls; }
+
+    /**
+     * Method called to check to see if this property has a name that would
+     * conflict with a given name.
+     *
+     * @since 2.6
+     */
+    public boolean wouldConflictWithName(PropertyName name) {
+        if (_wrapperName != null) {
+            return _wrapperName.equals(name);
+        }
+        // Bit convoluted since our support for namespaces is spotty but:
+        return name.hasSimpleName(_name.getValue())
+                && !name.hasNamespace();
+    }
     
     // Needed by BeanSerializer#getSchema
     public JsonSerializer<Object> getSerializer() { return _serializer; }
diff --git a/src/main/java/com/fasterxml/jackson/databind/ser/BeanSerializerFactory.java b/src/main/java/com/fasterxml/jackson/databind/ser/BeanSerializerFactory.java
index f32a47c2f..66b3265ec 100644
--- a/src/main/java/com/fasterxml/jackson/databind/ser/BeanSerializerFactory.java
+++ b/src/main/java/com/fasterxml/jackson/databind/ser/BeanSerializerFactory.java
@@ -4,6 +4,7 @@ import java.util.*;
 
 import com.fasterxml.jackson.annotation.ObjectIdGenerator;
 import com.fasterxml.jackson.annotation.ObjectIdGenerators;
+import com.fasterxml.jackson.annotation.JsonTypeInfo.As;
 import com.fasterxml.jackson.databind.*;
 import com.fasterxml.jackson.databind.cfg.SerializerFactoryConfig;
 import com.fasterxml.jackson.databind.introspect.*;
@@ -286,13 +287,17 @@ public class BeanSerializerFactory
     {
         AnnotationIntrospector ai = config.getAnnotationIntrospector();
         TypeResolverBuilder<?> b = ai.findPropertyTypeResolver(config, accessor, baseType);        
+        TypeSerializer typeSer;
+
         // Defaulting: if no annotations on member, check value class
         if (b == null) {
-            return createTypeSerializer(config, baseType);
+            typeSer = createTypeSerializer(config, baseType);
+        } else {
+            Collection<NamedType> subtypes = config.getSubtypeResolver().collectAndResolveSubtypesByClass(
+                    config, accessor, baseType);
+            typeSer = b.buildTypeSerializer(config, baseType, subtypes);
         }
-        Collection<NamedType> subtypes = config.getSubtypeResolver().collectAndResolveSubtypesByClass(
-                config, accessor, baseType);
-        return b.buildTypeSerializer(config, baseType, subtypes);
+        return typeSer;
     }
 
     /**
@@ -312,15 +317,19 @@ public class BeanSerializerFactory
         JavaType contentType = containerType.getContentType();
         AnnotationIntrospector ai = config.getAnnotationIntrospector();
         TypeResolverBuilder<?> b = ai.findPropertyContentTypeResolver(config, accessor, containerType);        
+        TypeSerializer typeSer;
+
         // Defaulting: if no annotations on member, check value class
         if (b == null) {
-            return createTypeSerializer(config, contentType);
+            typeSer = createTypeSerializer(config, contentType);
+        } else {
+            Collection<NamedType> subtypes = config.getSubtypeResolver().collectAndResolveSubtypesByClass(config,
+                    accessor, contentType);
+            typeSer = b.buildTypeSerializer(config, contentType, subtypes);
         }
-        Collection<NamedType> subtypes = config.getSubtypeResolver().collectAndResolveSubtypesByClass(config,
-                accessor, contentType);
-        return b.buildTypeSerializer(config, contentType, subtypes);
+        return typeSer;
     }
-    
+
     /*
     /**********************************************************
     /* Overridable non-public factory methods
@@ -351,7 +360,10 @@ public class BeanSerializerFactory
         List<BeanPropertyWriter> props = findBeanProperties(prov, beanDesc, builder);
         if (props == null) {
             props = new ArrayList<BeanPropertyWriter>();
+        } else {
+            props = removeOverlappingTypeIds(prov, beanDesc, builder, props);
         }
+        
         // [databind#638]: Allow injection of "virtual" properties:
         prov.getAnnotationIntrospector().findAndAddVirtualProperties(config, beanDesc.getClassInfo(), props);
 
@@ -690,6 +702,34 @@ public class BeanSerializerFactory
             }
         }
     }
+
+    /**
+     * Helper method called to ensure that we do not have "duplicate" type ids.
+     * Added to resolve [databind#222]
+     *
+     * @since 2.6
+     */
+    protected List<BeanPropertyWriter> removeOverlappingTypeIds(SerializerProvider prov,
+            BeanDescription beanDesc, BeanSerializerBuilder builder,
+            List<BeanPropertyWriter> props)
+    {
+        for (int i = 0, end = props.size(); i < end; ++i) {
+            BeanPropertyWriter bpw = props.get(i);
+            TypeSerializer td = bpw.getTypeSerializer();
+            if ((td == null) || (td.getTypeInclusion() != As.EXTERNAL_PROPERTY)) {
+                continue;
+            }
+            String n = td.getPropertyName();
+            PropertyName typePropName = PropertyName.construct(n);
+            for (BeanPropertyWriter w2 : props) {
+                if ((w2 != bpw) && w2.wouldConflictWithName(typePropName)) {
+                    props.set(i, bpw.withTypeSerializer(null));
+                    break;
+                }
+            }
+        }
+        return props;
+    }
     
     /*
     /**********************************************************
@@ -728,7 +768,8 @@ public class BeanSerializerFactory
         // And how about polymorphic typing? First special to cover JAXB per-field settings:
         TypeSerializer contentTypeSer = null;
         // 16-Feb-2014, cgc: contentType serializers for collection-like and map-like types
-        if (ClassUtil.isCollectionMapOrArray(type.getRawClass()) || type.isCollectionLikeType() || type.isMapLikeType()) {
+        if (ClassUtil.isCollectionMapOrArray(type.getRawClass())
+                || type.isCollectionLikeType() || type.isMapLikeType()) {
             contentTypeSer = findPropertyContentTypeSerializer(type, prov.getConfig(), accessor);
         }
         // and if not JAXB collection/array with annotations, maybe regular type info?
diff --git a/src/main/java/com/fasterxml/jackson/databind/ser/std/BeanSerializerBase.java b/src/main/java/com/fasterxml/jackson/databind/ser/std/BeanSerializerBase.java
index 1d40930bd..b4a879133 100644
--- a/src/main/java/com/fasterxml/jackson/databind/ser/std/BeanSerializerBase.java
+++ b/src/main/java/com/fasterxml/jackson/databind/ser/std/BeanSerializerBase.java
@@ -512,7 +512,18 @@ public abstract class BeanSerializerBase
         }
         return contextual;
     }
-    
+
+    /*
+    /**********************************************************
+    /* Accessors
+    /**********************************************************
+     */
+
+    @Override
+    public Iterator<PropertyWriter> properties() {
+        return Arrays.<PropertyWriter>asList(_props).iterator();
+    }
+
     /*
     /**********************************************************
     /* Partial JsonSerializer implementation
@@ -526,7 +537,7 @@ public abstract class BeanSerializerBase
     
     // Main serialization method left unimplemented
     @Override
-    public abstract void serialize(Object bean, JsonGenerator jgen, SerializerProvider provider)
+    public abstract void serialize(Object bean, JsonGenerator gen, SerializerProvider provider)
         throws IOException;
 
     // Type-info-augmented case implemented as it does not usually differ between impls
@@ -559,78 +570,78 @@ public abstract class BeanSerializerBase
     }
 
     protected final void _serializeWithObjectId(Object bean,
-            JsonGenerator jgen, SerializerProvider provider,
+            JsonGenerator gen, SerializerProvider provider,
             boolean startEndObject)
         throws IOException, JsonGenerationException
     {
         final ObjectIdWriter w = _objectIdWriter;
         WritableObjectId objectId = provider.findObjectId(bean, w.generator);
         // If possible, write as id already
-        if (objectId.writeAsId(jgen, provider, w)) {
+        if (objectId.writeAsId(gen, provider, w)) {
             return;
         }
         // If not, need to inject the id:
         Object id = objectId.generateId(bean);
         if (w.alwaysAsId) {
-            w.serializer.serialize(id, jgen, provider);
+            w.serializer.serialize(id, gen, provider);
             return;
         }
         if (startEndObject) {
-            jgen.writeStartObject();
+            gen.writeStartObject();
         }
-        objectId.writeAsField(jgen, provider, w);
+        objectId.writeAsField(gen, provider, w);
         if (_propertyFilterId != null) {
-            serializeFieldsFiltered(bean, jgen, provider);
+            serializeFieldsFiltered(bean, gen, provider);
         } else {
-            serializeFields(bean, jgen, provider);
+            serializeFields(bean, gen, provider);
         }
         if (startEndObject) {
-            jgen.writeEndObject();
+            gen.writeEndObject();
         }
     }
     
     protected final void _serializeWithObjectId(Object bean,
-            JsonGenerator jgen, SerializerProvider provider,
+            JsonGenerator gen, SerializerProvider provider,
             TypeSerializer typeSer)
         throws IOException, JsonGenerationException
     {
         final ObjectIdWriter w = _objectIdWriter;
         WritableObjectId objectId = provider.findObjectId(bean, w.generator);
         // If possible, write as id already
-        if (objectId.writeAsId(jgen, provider, w)) {
+        if (objectId.writeAsId(gen, provider, w)) {
             return;
         }
         // If not, need to inject the id:
         Object id = objectId.generateId(bean);
         if (w.alwaysAsId) {
-            w.serializer.serialize(id, jgen, provider);
+            w.serializer.serialize(id, gen, provider);
             return;
         }
 
-        _serializeObjectId(bean, jgen, provider, typeSer, objectId);
+        _serializeObjectId(bean, gen, provider, typeSer, objectId);
     }
 
     protected  void _serializeObjectId(Object bean,
-            JsonGenerator jgen,SerializerProvider provider,
+            JsonGenerator gen,SerializerProvider provider,
             TypeSerializer typeSer, WritableObjectId objectId)
         throws IOException, JsonProcessingException, JsonGenerationException {
         final ObjectIdWriter w = _objectIdWriter;
         String typeStr = (_typeId == null) ? null :_customTypeId(bean);
         if (typeStr == null) {
-            typeSer.writeTypePrefixForObject(bean, jgen);
+            typeSer.writeTypePrefixForObject(bean, gen);
         } else {
-            typeSer.writeCustomTypePrefixForObject(bean, jgen, typeStr);
+            typeSer.writeCustomTypePrefixForObject(bean, gen, typeStr);
         }
-        objectId.writeAsField(jgen, provider, w);
+        objectId.writeAsField(gen, provider, w);
         if (_propertyFilterId != null) {
-            serializeFieldsFiltered(bean, jgen, provider);
+            serializeFieldsFiltered(bean, gen, provider);
         } else {
-            serializeFields(bean, jgen, provider);
+            serializeFields(bean, gen, provider);
         }
         if (typeStr == null) {
-            typeSer.writeTypeSuffixForObject(bean, jgen);
+            typeSer.writeTypeSuffixForObject(bean, gen);
         } else {
-            typeSer.writeCustomTypeSuffixForObject(bean, jgen, typeStr);
+            typeSer.writeCustomTypeSuffixForObject(bean, gen, typeStr);
         }
     }
     
@@ -649,7 +660,7 @@ public abstract class BeanSerializerBase
     /**********************************************************
      */
 
-    protected void serializeFields(Object bean, JsonGenerator jgen, SerializerProvider provider)
+    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider)
         throws IOException, JsonGenerationException
     {
         final BeanPropertyWriter[] props;
@@ -663,11 +674,11 @@ public abstract class BeanSerializerBase
             for (final int len = props.length; i < len; ++i) {
                 BeanPropertyWriter prop = props[i];
                 if (prop != null) { // can have nulls in filtered list
-                    prop.serializeAsField(bean, jgen, provider);
+                    prop.serializeAsField(bean, gen, provider);
                 }
             }
             if (_anyGetterWriter != null) {
-                _anyGetterWriter.getAndSerialize(bean, jgen, provider);
+                _anyGetterWriter.getAndSerialize(bean, gen, provider);
             }
         } catch (Exception e) {
             String name = (i == props.length) ? "[anySetter]" : props[i].getName();
@@ -689,7 +700,7 @@ public abstract class BeanSerializerBase
      * {@link PropertyFilter} that needs to be called to determine
      * which properties are to be serialized (and possibly how)
      */
-    protected void serializeFieldsFiltered(Object bean, JsonGenerator jgen,
+    protected void serializeFieldsFiltered(Object bean, JsonGenerator gen,
             SerializerProvider provider)
         throws IOException, JsonGenerationException
     {
@@ -705,7 +716,7 @@ public abstract class BeanSerializerBase
         final PropertyFilter filter = findPropertyFilter(provider, _propertyFilterId, bean);
         // better also allow missing filter actually..
         if (filter == null) {
-            serializeFields(bean, jgen, provider);
+            serializeFields(bean, gen, provider);
             return;
         }
         int i = 0;
@@ -713,11 +724,11 @@ public abstract class BeanSerializerBase
             for (final int len = props.length; i < len; ++i) {
                 BeanPropertyWriter prop = props[i];
                 if (prop != null) { // can have nulls in filtered list
-                    filter.serializeAsField(bean, jgen, provider, prop);
+                    filter.serializeAsField(bean, gen, provider, prop);
                 }
             }
             if (_anyGetterWriter != null) {
-                _anyGetterWriter.getAndFilter(bean, jgen, provider, filter);
+                _anyGetterWriter.getAndFilter(bean, gen, provider, filter);
             }
         } catch (Exception e) {
             String name = (i == props.length) ? "[anySetter]" : props[i].getName();
diff --git a/src/main/java/com/fasterxml/jackson/databind/util/EmptyIterator.java b/src/main/java/com/fasterxml/jackson/databind/util/EmptyIterator.java
index fb11e30e2..43cf4bd92 100644
--- a/src/main/java/com/fasterxml/jackson/databind/util/EmptyIterator.java
+++ b/src/main/java/com/fasterxml/jackson/databind/util/EmptyIterator.java
@@ -15,7 +15,7 @@ public class EmptyIterator<T> implements Iterator<T> {
 
     @SuppressWarnings("unchecked")
     public static <T> Iterator<T> instance() { return (Iterator<T>) instance; }
-    
+
     @Override public boolean hasNext() { return false; }
     @Override public T next() { throw new NoSuchElementException(); }
     @Override public void remove() { throw new UnsupportedOperationException(); }
