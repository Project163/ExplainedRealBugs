diff --git a/src/main/java/com/fasterxml/jackson/databind/jsonFormatVisitors/JsonFormatVisitorWrapper.java b/src/main/java/com/fasterxml/jackson/databind/jsonFormatVisitors/JsonFormatVisitorWrapper.java
index 6f6e44ed5..773e553da 100644
--- a/src/main/java/com/fasterxml/jackson/databind/jsonFormatVisitors/JsonFormatVisitorWrapper.java
+++ b/src/main/java/com/fasterxml/jackson/databind/jsonFormatVisitors/JsonFormatVisitorWrapper.java
@@ -75,71 +75,71 @@ public interface JsonFormatVisitorWrapper extends JsonFormatVisitorWithSerialize
         public Base() { }
 
         public Base(SerializerProvider p) {
-             _provider = p;
+            _provider = p;
         }
 
         @Override
         public SerializerProvider getProvider() {
-             return _provider;
+            return _provider;
         }
 
         @Override
         public void setProvider(SerializerProvider p) {
-             _provider = p;
+            _provider = p;
         }
 
         @Override
         public JsonObjectFormatVisitor expectObjectFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
 
         @Override
         public JsonArrayFormatVisitor expectArrayFormat(JavaType type)
                   throws JsonMappingException {
-             return null;
+            return null;
         }
 
         @Override
         public JsonStringFormatVisitor expectStringFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
 
         @Override
         public JsonNumberFormatVisitor expectNumberFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
 
         @Override
         public JsonIntegerFormatVisitor expectIntegerFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
 
         @Override
         public JsonBooleanFormatVisitor expectBooleanFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
 
         @Override
         public JsonNullFormatVisitor expectNullFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
 
         @Override
         public JsonAnyFormatVisitor expectAnyFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
 
         @Override
         public JsonMapFormatVisitor expectMapFormat(JavaType type)
-                  throws JsonMappingException {
-             return null;
+                throws JsonMappingException {
+            return null;
         }
    }
 }
diff --git a/src/main/java/com/fasterxml/jackson/databind/ser/std/NumberSerializer.java b/src/main/java/com/fasterxml/jackson/databind/ser/std/NumberSerializer.java
index 5624624af..13118a0ee 100644
--- a/src/main/java/com/fasterxml/jackson/databind/ser/std/NumberSerializer.java
+++ b/src/main/java/com/fasterxml/jackson/databind/ser/std/NumberSerializer.java
@@ -78,7 +78,7 @@ public class NumberSerializer
         } else {
             Class<?> h = handledType();
             if (h == BigDecimal.class) {
-                visitFloatFormat(visitor, typeHint, JsonParser.NumberType.BIG_INTEGER);
+                visitFloatFormat(visitor, typeHint, JsonParser.NumberType.BIG_DECIMAL);
             } else {
                 // otherwise bit unclear what to call... but let's try:
                 /*JsonNumberFormatVisitor v2 =*/ visitor.expectNumberFormat(typeHint);
diff --git a/src/test/java/com/fasterxml/jackson/databind/BaseMapTest.java b/src/test/java/com/fasterxml/jackson/databind/BaseMapTest.java
index f00681385..7dae9422e 100644
--- a/src/test/java/com/fasterxml/jackson/databind/BaseMapTest.java
+++ b/src/test/java/com/fasterxml/jackson/databind/BaseMapTest.java
@@ -253,4 +253,8 @@ public abstract class BaseMapTest
     protected static String aposToQuotes(String json) {
         return json.replace("'", "\"");
     }
+
+    protected static String quotesToApos(String json) {
+        return json.replace("\"", "'");
+    }
 }
diff --git a/src/test/java/com/fasterxml/jackson/databind/jsonschema/NewSchemaTest.java b/src/test/java/com/fasterxml/jackson/databind/jsonschema/NewSchemaTest.java
index edccfb520..c17287f92 100644
--- a/src/test/java/com/fasterxml/jackson/databind/jsonschema/NewSchemaTest.java
+++ b/src/test/java/com/fasterxml/jackson/databind/jsonschema/NewSchemaTest.java
@@ -1,12 +1,15 @@
 package com.fasterxml.jackson.databind.jsonschema;
 
+import java.math.BigDecimal;
+import java.math.BigInteger;
 import java.util.*;
 
+import com.fasterxml.jackson.annotation.JsonPropertyOrder;
 import com.fasterxml.jackson.annotation.JsonValue;
+import com.fasterxml.jackson.core.JsonParser.NumberType;
 import com.fasterxml.jackson.databind.*;
-import com.fasterxml.jackson.databind.jsonFormatVisitors.JsonFormatVisitorWrapper;
-import com.fasterxml.jackson.databind.jsonFormatVisitors.JsonStringFormatVisitor;
-import com.fasterxml.jackson.databind.jsonFormatVisitors.JsonValueFormat;
+import com.fasterxml.jackson.databind.jsonFormatVisitors.*;
+import com.fasterxml.jackson.databind.ser.BeanPropertyWriter;
 
 /**
  * Basic tests to exercise low-level support added for JSON Schema module and
@@ -42,6 +45,12 @@ public class NewSchemaTest extends BaseMapTest
         public EnumMap<TestEnum,Double> weights;
     }
 
+    @JsonPropertyOrder({ "dec", "bigInt" })
+    static class Numbers {
+        public BigDecimal dec;
+        public BigInteger bigInt;
+    }
+
     /*
     /**********************************************************
     /* Test methods
@@ -125,4 +134,74 @@ public class NewSchemaTest extends BaseMapTest
         // and second, deserialize ok from that as well
         assertSame(JsonValueFormat.HOST_NAME, MAPPER.readValue(EXP, JsonValueFormat.class));
     }
+
+    // [databind#1045], regression wrt BigDecimal
+    public void testSimpleNumbers() throws Exception
+    {
+        final StringBuilder sb = new StringBuilder();
+        
+        MAPPER.acceptJsonFormatVisitor(Numbers.class,
+                new JsonFormatVisitorWrapper.Base() {
+            @Override
+            public JsonObjectFormatVisitor expectObjectFormat(final JavaType type) {
+                return new JsonObjectFormatVisitor.Base(getProvider()) {
+                    @Override
+                    public void optionalProperty(BeanProperty prop) throws JsonMappingException {
+                        sb.append("[optProp ").append(prop.getName()).append("(");
+                        JsonSerializer<Object> ser = null;
+                        if (prop instanceof BeanPropertyWriter) {
+                            BeanPropertyWriter bpw = (BeanPropertyWriter) prop;
+                            ser = bpw.getSerializer();
+                        }
+                        final SerializerProvider prov = getProvider();
+                        if (ser == null) {
+                            ser = prov.findValueSerializer(prop.getType(), prop);
+                        }
+                        ser.acceptJsonFormatVisitor(new JsonFormatVisitorWrapper.Base() {
+                            @Override
+                            public JsonNumberFormatVisitor expectNumberFormat(
+                                    JavaType type) throws JsonMappingException {
+                                return new JsonNumberFormatVisitor() {
+                                    @Override
+                                    public void format(JsonValueFormat format) {
+                                        sb.append("[numberFormat=").append(format).append("]");
+                                    }
+
+                                    @Override
+                                    public void enumTypes(Set<String> enums) { }
+
+                                    @Override
+                                    public void numberType(NumberType numberType) {
+                                        sb.append("[numberType=").append(numberType).append("]");
+                                    }
+                                };
+                            }
+
+                            @Override
+                            public JsonIntegerFormatVisitor expectIntegerFormat(JavaType type) throws JsonMappingException {
+                                return new JsonIntegerFormatVisitor() {
+                                    @Override
+                                    public void format(JsonValueFormat format) {
+                                        sb.append("[integerFormat=").append(format).append("]");
+                                    }
+
+                                    @Override
+                                    public void enumTypes(Set<String> enums) { }
+
+                                    @Override
+                                    public void numberType(NumberType numberType) {
+                                        sb.append("[numberType=").append(numberType).append("]");
+                                    }
+                                };
+                            }
+                        }, prop.getType());
+
+                        sb.append(")]");
+                    }
+                };
+            }
+        });
+        assertEquals("[optProp dec([numberType=BIG_DECIMAL])][optProp bigInt([numberType=BIG_INTEGER])]",
+                sb.toString());
+    }
 }
diff --git a/src/test/java/com/fasterxml/jackson/databind/jsonschema/TestGenerateJsonSchema.java b/src/test/java/com/fasterxml/jackson/databind/jsonschema/TestGenerateJsonSchema.java
index f9fac30d4..ea086d61b 100644
--- a/src/test/java/com/fasterxml/jackson/databind/jsonschema/TestGenerateJsonSchema.java
+++ b/src/test/java/com/fasterxml/jackson/databind/jsonschema/TestGenerateJsonSchema.java
@@ -1,10 +1,11 @@
 package com.fasterxml.jackson.databind.jsonschema;
 
+import java.math.BigDecimal;
+import java.math.BigInteger;
 import java.util.Collection;
 import java.util.Map;
 
 import com.fasterxml.jackson.annotation.*;
-
 import com.fasterxml.jackson.databind.JsonNode;
 import com.fasterxml.jackson.databind.ObjectMapper;
 import com.fasterxml.jackson.databind.node.ObjectNode;
@@ -105,6 +106,12 @@ public class TestGenerateJsonSchema
     static class Name {
         public String first, last;
     }
+
+    @JsonPropertyOrder({ "dec", "bigInt" })
+    static class Numbers {
+        public BigDecimal dec;
+        public BigInteger bigInt;
+    }
     
     /*
     /**********************************************************
@@ -117,8 +124,7 @@ public class TestGenerateJsonSchema
     /**
      * tests generating json-schema stuff.
      */
-    public void testGeneratingJsonSchema()
-        throws Exception
+    public void testOldSchemaGeneration() throws Exception
     {
         JsonSchema jsonSchema = MAPPER.generateJsonSchema(SimpleBean.class);
         
@@ -190,34 +196,18 @@ public class TestGenerateJsonSchema
      * Additional unit test for verifying that schema object itself
      * can be properly serialized
      */
-    public void testSchemaSerialization()
-            throws Exception
+    public void testSchemaSerialization() throws Exception
     {
         JsonSchema jsonSchema = MAPPER.generateJsonSchema(SimpleBean.class);
-	Map<String,Object> result = writeAndMap(MAPPER, jsonSchema);
-	assertNotNull(result);
-	// no need to check out full structure, just basics...
-	assertEquals("object", result.get("type"));
-	// only add 'required' if it is true...
-	assertNull(result.get("required"));
-	assertNotNull(result.get("properties"));
-    }
-
-    public void testInvalidCall()
-        throws Exception
-    {
-        // not ok to pass null
-        try {
-            MAPPER.generateJsonSchema(null);
-            fail("Should have failed");
-        } catch (IllegalArgumentException iae) {
-            verifyException(iae, "class must be provided");
-        }
+        Map<String,Object> result = writeAndMap(MAPPER, jsonSchema);
+        assertNotNull(result);
+        // no need to check out full structure, just basics...
+        assertEquals("object", result.get("type"));
+        // only add 'required' if it is true...
+        assertNull(result.get("required"));
+        assertNotNull(result.get("properties"));
     }
 
-    /**
-     * Test for [JACKSON-454]
-     */
     public void testThatObjectsHaveNoItems() throws Exception
     {
         JsonSchema jsonSchema = MAPPER.generateJsonSchema(TrivialBean.class);
@@ -236,7 +226,7 @@ public class TestGenerateJsonSchema
                 json);
     }
 
-    // [Issue#271]
+    // [databind#271]
     public void testUnwrapping()  throws Exception
     {
         JsonSchema jsonSchema = MAPPER.generateJsonSchema(UnwrappingRoot.class);
@@ -247,4 +237,14 @@ public class TestGenerateJsonSchema
         assertEquals(EXP, json);
     }
 
+    // 
+    public void testNumberTypes()  throws Exception
+    {
+        JsonSchema jsonSchema = MAPPER.generateJsonSchema(Numbers.class);
+        String json = quotesToApos(jsonSchema.toString());
+        String EXP = "{'type':'object',"
+                +"'properties':{'dec':{'type':'number'},"
+                +"'bigInt':{'type':'integer'}}}";
+        assertEquals(EXP, json);
+    }
 }
