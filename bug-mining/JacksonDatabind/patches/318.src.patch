diff --git a/src/main/java/com/fasterxml/jackson/databind/type/TypeParser.java b/src/main/java/com/fasterxml/jackson/databind/type/TypeParser.java
index fe2d09630..c3697f5e5 100644
--- a/src/main/java/com/fasterxml/jackson/databind/type/TypeParser.java
+++ b/src/main/java/com/fasterxml/jackson/databind/type/TypeParser.java
@@ -28,8 +28,7 @@ public class TypeParser
 
     public JavaType parse(String canonical) throws IllegalArgumentException
     {
-        canonical = canonical.trim();
-        MyTokenizer tokens = new MyTokenizer(canonical);
+        MyTokenizer tokens = new MyTokenizer(canonical.trim());
         JavaType type = parseType(tokens);
         // must be end, now
         if (tokens.hasMoreTokens()) {
@@ -90,19 +89,18 @@ public class TypeParser
 
     protected IllegalArgumentException _problem(MyTokenizer tokens, String msg)
     {
-        return new IllegalArgumentException("Failed to parse type '"+tokens.getAllInput()
-                +"' (remaining: '"+tokens.getRemainingInput()+"'): "+msg);
+        return new IllegalArgumentException(String.format("Failed to parse type '%s' (remaining: '%s'): %s",
+                tokens.getAllInput(), tokens.getRemainingInput(), msg));
     }
 
-    final static class MyTokenizer
-        extends StringTokenizer
+    final static class MyTokenizer extends StringTokenizer
     {
         protected final String _input;
 
         protected int _index;
 
         protected String _pushbackToken;
-        
+
         public MyTokenizer(String str) {            
             super(str, "<,>", true);
             _input = str;
@@ -121,18 +119,19 @@ public class TypeParser
                 _pushbackToken = null;
             } else {
                 token = super.nextToken();
+                _index += token.length();
+                token = token.trim();
             }
-            _index += token.length();
             return token;
         }
 
         public void pushBack(String token) {
             _pushbackToken = token;
-            _index -= token.length();
+            // let's NOT change index for now, since token may have been trim()ed
         }
-        
+
         public String getAllInput() { return _input; }
-        public String getUsedInput() { return _input.substring(0, _index); }
+//        public String getUsedInput() { return _input.substring(0, _index); }
         public String getRemainingInput() { return _input.substring(_index); }
     }
 }
diff --git a/src/test/java/com/fasterxml/jackson/databind/type/TestTypeFactory.java b/src/test/java/com/fasterxml/jackson/databind/type/TestTypeFactory.java
index dd075e573..a2350cbe9 100644
--- a/src/test/java/com/fasterxml/jackson/databind/type/TestTypeFactory.java
+++ b/src/test/java/com/fasterxml/jackson/databind/type/TestTypeFactory.java
@@ -231,7 +231,20 @@ public class TestTypeFactory
         assertEquals("java.util.EnumMap<com.fasterxml.jackson.databind.type.TestTypeFactory$EnumForCanonical,java.lang.String>",
                 can);
         assertEquals(t, tf.constructFromCanonical(can));
-        
+    }
+
+    // [databind#1768]
+    @SuppressWarnings("serial")
+    public void testCanonicalWithSpaces()
+    {
+        TypeFactory tf = TypeFactory.defaultInstance();
+        Object objects = new TreeMap<Object, Object>() { }; // to get subtype
+        String reflectTypeName = objects.getClass().getGenericSuperclass().getTypeName();
+        JavaType t1 = tf.constructType(objects.getClass().getGenericSuperclass());
+        // This will throw an Exception if you don't remove all white spaces from the String.
+        JavaType t2 = tf.constructFromCanonical(reflectTypeName);
+        assertNotNull(t2);
+        assertEquals(t2, t1);
     }
 
     /*
