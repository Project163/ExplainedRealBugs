{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/4626","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/4626/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/4626/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/4626/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/4626","id":2421404468,"node_id":"I_kwDOAC5e2c6QU7M0","number":4626,"title":"`@JsonIgnore` on Record property ignored for deserialization, if there is getter override","user":{"login":"yihtserns","id":3615932,"node_id":"MDQ6VXNlcjM2MTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/3615932?v=4","gravatar_id":"","url":"https://api.github.com/users/yihtserns","html_url":"https://github.com/yihtserns","followers_url":"https://api.github.com/users/yihtserns/followers","following_url":"https://api.github.com/users/yihtserns/following{/other_user}","gists_url":"https://api.github.com/users/yihtserns/gists{/gist_id}","starred_url":"https://api.github.com/users/yihtserns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihtserns/subscriptions","organizations_url":"https://api.github.com/users/yihtserns/orgs","repos_url":"https://api.github.com/users/yihtserns/repos","events_url":"https://api.github.com/users/yihtserns/events{/privacy}","received_events_url":"https://api.github.com/users/yihtserns/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2711043529,"node_id":"MDU6TGFiZWwyNzExMDQzNTI5","url":"https://api.github.com/repos/FasterXML/jackson-databind/labels/Record","name":"Record","color":"D4C5F9","default":false,"description":"Issue related to JDK17 java.lang.Record support"},{"id":6636564281,"node_id":"LA_kwDOAC5e2c8AAAABi5HvOQ","url":"https://api.github.com/repos/FasterXML/jackson-databind/labels/2.18","name":"2.18","color":"1D76DB","default":false,"description":"Issues planned at 2.18 or later"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-07-21T13:23:51Z","updated_at":"2024-07-25T15:37:00Z","closed_at":"2024-07-25T15:37:00Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Search before asking\r\n\r\n- [X] I searched in the [issues](https://github.com/FasterXML/jackson-databind/issues) and found nothing similar.\r\n\r\n### Describe the bug\r\n\r\n`@JsonIgnore` on a Record component is ignored when the corresponding accessor method is overridden.\r\n\r\n### Version Information\r\n\r\nSince `2.15.0`.\r\n\r\n### Reproduction\r\n\r\n```java\r\nrecord RecordWithJsonIgnore(int id, @JsonIgnore String name) {\r\n    @Override\r\n    public String name() {\r\n        return name;\r\n    }\r\n}\r\n\r\nRecordWithJsonIgnore deser = new ObjectMapper().readValue(\"{\\\"id\\\":123,\\\"name\\\":\\\"Bob\\\"}\", RecordWithJsonIgnore.class);\r\n\r\n// failed with:\r\n// org.opentest4j.AssertionFailedError: \r\n// Expected :RecordWithJsonIgnore[id=123, name=null]\r\n// Actual   :RecordWithJsonIgnore[id=123, name=Bob]\r\nassertEquals(new RecordWithJsonIgnore(123, null), deser);\r\n```\r\n\r\n### Expected behavior\r\n\r\n_No response_\r\n\r\n### Additional context\r\n\r\nThere are typically 3 places to get an annotation info from:\r\n<table>\r\n<thead>\r\n<tr>\r\n  <th>Where</th>\r\n  <th>For this scenario</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr>\r\n<td>Constructor parameter</td>\r\n<td>Can't have <code>@JsonIgnore</code> info because <code>@JsonIgnore</code>'s <code>@Target</code> does not include <code>ElementType.PARAMETER</code> <strong>UPDATE</strong>: Forgot to mention that the hardcoded <code>prop.addCtor(..., false)</code> in <code>POJOPropertiesCollector</code> also needs to be changed for this to work.</td>\r\n</tr>\r\n<tr>\r\n<td>Accessor method</td>\r\n<td>When overridden, <code>@JsonIgnore</code> will not be \"inherited\" from original method</td>\r\n</tr>\r\n<tr>\r\n<td>Field</td>\r\n<td>#3737 removed field info for deserialization, so it can't contribute the <code>@JsonIgnore</code> info</td>\r\n</tr>\r\n</tbody>\r\n</table>","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/4626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/4626/timeline","performed_via_github_app":null,"state_reason":"completed"}