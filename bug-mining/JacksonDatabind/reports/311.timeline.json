[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/321995465","html_url":"https://github.com/FasterXML/jackson-databind/issues/1730#issuecomment-321995465","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1730","id":321995465,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTk5NTQ2NQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T17:41:53Z","updated_at":"2017-08-12T17:41:53Z","body":"Ok. I think you are probably right. Thank you for reporting this.\r\n\r\nI would need a reproduction here. Ideally stand-alone against databind, but if need be I can manually verify against `bson4jackson` too.\r\nIf this is difficult to do, I may be able to cobble something together using `TokenBuffer`, but if you have something that would be of great help.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/321995465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1203676275,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyMDM2NzYyNzU=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1203676275","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-08-12T17:41:57Z","label":{"name":"2.9","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/322001313","html_url":"https://github.com/FasterXML/jackson-databind/issues/1730#issuecomment-322001313","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1730","id":322001313,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjAwMTMxMw==","user":{"login":"zigzago","id":603014,"node_id":"MDQ6VXNlcjYwMzAxNA==","avatar_url":"https://avatars.githubusercontent.com/u/603014?v=4","gravatar_id":"","url":"https://api.github.com/users/zigzago","html_url":"https://github.com/zigzago","followers_url":"https://api.github.com/users/zigzago/followers","following_url":"https://api.github.com/users/zigzago/following{/other_user}","gists_url":"https://api.github.com/users/zigzago/gists{/gist_id}","starred_url":"https://api.github.com/users/zigzago/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zigzago/subscriptions","organizations_url":"https://api.github.com/users/zigzago/orgs","repos_url":"https://api.github.com/users/zigzago/repos","events_url":"https://api.github.com/users/zigzago/events{/privacy}","received_events_url":"https://api.github.com/users/zigzago/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T19:34:15Z","updated_at":"2017-08-12T19:34:15Z","body":"Ok I've just pushed an upgrade to jackson 2.9.0 for this project: https://github.com/Litote/bson4jackson\r\n\r\n- clone the project\r\n- run the tests https://github.com/Litote/bson4jackson/blob/master/src/test/java/org/litote/bson4jackson/deserializers/BsonDeserializersTest.java\r\n\r\n-> the test \"symbol\" fails with this stacktrace:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `org.litote.bson4jackson.types.Symbol` from native value (`JsonToken.VALUE_EMBEDDED_OBJECT`) of type `org.litote.bson4jackson.types.Symbol`: incompatible types\r\n at [Source: org.litote.bson4jackson.io.LittleEndianInputStream@1e6d1014; pos: 9] (through reference chain: org.litote.bson4jackson.deserializers.BsonDeserializersTest$TC$S[\"obj\"])\r\n\r\n\tat com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.weirdNativeValueException(DeserializationContext.java:1568)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleWeirdNativeValue(DeserializationContext.java:975)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromEmbedded(BeanDeserializerBase.java:1471)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:176)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:161)\r\n\tat com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:136)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:287)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4001)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3058)\r\n\tat org.litote.bson4jackson.deserializers.BsonDeserializersTest.generateAndParse(BsonDeserializersTest.java:97)\r\n\tat org.litote.bson4jackson.deserializers.BsonDeserializersTest.symbol(BsonDeserializersTest.java:170)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) \r\n```\r\n\r\nHTH","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/322001313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zigzago","id":603014,"node_id":"MDQ6VXNlcjYwMzAxNA==","avatar_url":"https://avatars.githubusercontent.com/u/603014?v=4","gravatar_id":"","url":"https://api.github.com/users/zigzago","html_url":"https://github.com/zigzago","followers_url":"https://api.github.com/users/zigzago/followers","following_url":"https://api.github.com/users/zigzago/following{/other_user}","gists_url":"https://api.github.com/users/zigzago/gists{/gist_id}","starred_url":"https://api.github.com/users/zigzago/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zigzago/subscriptions","organizations_url":"https://api.github.com/users/zigzago/orgs","repos_url":"https://api.github.com/users/zigzago/repos","events_url":"https://api.github.com/users/zigzago/events{/privacy}","received_events_url":"https://api.github.com/users/zigzago/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1218847158,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTIxODg0NzE1OA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1218847158","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2017-08-23T23:58:51Z","rename":{"from":"InvalidFormatException ","to":"`InvalidFormatException` for `JsonToken.VALUE_EMBEDDED_OBJECT`"},"performed_via_github_app":null},{"id":1218847275,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyMTg4NDcyNzU=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1218847275","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-08-23T23:58:59Z","label":{"name":"ACTIVE","color":"0052cc"},"performed_via_github_app":null},{"id":1222687827,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDEyMjI2ODc4Mjc=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1222687827","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-08-27T04:15:52Z","milestone":{"title":"2.9,0.pr4"},"performed_via_github_app":null},{"id":1222687834,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50MTIyMjY4NzgzNA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1222687834","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2017-08-27T04:15:55Z","milestone":{"title":"2.9,0.pr4"},"performed_via_github_app":null},{"id":1222687840,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDEyMjI2ODc4NDA=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1222687840","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-08-27T04:15:59Z","milestone":{"title":"2.9.1"},"performed_via_github_app":null},{"id":1222687846,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTIyMjY4Nzg0Ng==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1222687846","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-08-27T04:16:02Z","label":{"name":"ACTIVE","color":"0052cc"},"performed_via_github_app":null},{"id":1222688060,"node_id":"MDExOkNsb3NlZEV2ZW50MTIyMjY4ODA2MA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1222688060","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"424f56c34fa7554b301ab8b1d96c28f067587d6c","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/424f56c34fa7554b301ab8b1d96c28f067587d6c","created_at":"2017-08-27T04:17:46Z","state_reason":null,"performed_via_github_app":null}]