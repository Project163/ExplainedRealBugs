{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2324","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2324/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2324/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2324/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/2324","id":442315154,"node_id":"MDU6SXNzdWU0NDIzMTUxNTQ=","number":2324,"title":"`StringCollectionDeserializer` fails with custom collection","user":{"login":"dbarvitsky","id":6224214,"node_id":"MDQ6VXNlcjYyMjQyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6224214?v=4","gravatar_id":"","url":"https://api.github.com/users/dbarvitsky","html_url":"https://github.com/dbarvitsky","followers_url":"https://api.github.com/users/dbarvitsky/followers","following_url":"https://api.github.com/users/dbarvitsky/following{/other_user}","gists_url":"https://api.github.com/users/dbarvitsky/gists{/gist_id}","starred_url":"https://api.github.com/users/dbarvitsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbarvitsky/subscriptions","organizations_url":"https://api.github.com/users/dbarvitsky/orgs","repos_url":"https://api.github.com/users/dbarvitsky/repos","events_url":"https://api.github.com/users/dbarvitsky/events{/privacy}","received_events_url":"https://api.github.com/users/dbarvitsky/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/96","html_url":"https://github.com/FasterXML/jackson-databind/milestone/96","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/96/labels","id":4044174,"node_id":"MDk6TWlsZXN0b25lNDA0NDE3NA==","number":96,"title":"2.9.9","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.9","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":7,"state":"closed","created_at":"2019-02-10T00:03:05Z","updated_at":"2021-03-04T04:12:08Z","due_on":"2019-05-16T07:00:00Z","closed_at":"2021-03-04T04:12:08Z"},"comments":7,"created_at":"2019-05-09T16:06:38Z","updated_at":"2019-05-13T23:43:27Z","closed_at":"2019-05-11T05:54:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Seeing this with Jackson 2.9.8.\r\n\r\nWe have a custom collection implementation, which is wired to use its \"immutable\" version for deserialization. The rationale is that we don't want accidental modifications to the data structures that come from the wire, so they all are forced to be immutable.\r\n\r\nAfter upgrade from 2.6.3 to 2.9.8, the deserialization started breaking with the message:\r\n\r\n>Cannot construct instance of `XXX` (although at least one Creator exists): no default no-arguments constructor found\r\n\r\n\r\nThis happens ONLY when you deserialize a custom collection of strings as a property of the other object. Deserializing the custom collection of strings directly works fine, and so does the deserialization of custom collection of non-strings. I believe either the `StringCollectionDeserializer` should not be invoked for custom collections, or perhaps it does not handle the delegation as expected.\r\n\r\nPlease see comments for repro and workaround.\r\n\r\nThanks!","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2324/timeline","performed_via_github_app":null,"state_reason":"completed"}