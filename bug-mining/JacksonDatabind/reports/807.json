{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/5165","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/5165/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/5165/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/5165/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/5165","id":3071350949,"node_id":"I_kwDOAC5e2c63ERil","number":5165,"title":"`JsonSetter.contentNulls` is ignored if the deserialization result from a token that is not `JsonToken.VALUE_NULL` is `null`.","user":{"login":"k163377","id":24751011,"node_id":"MDQ6VXNlcjI0NzUxMDEx","avatar_url":"https://avatars.githubusercontent.com/u/24751011?v=4","gravatar_id":"","url":"https://api.github.com/users/k163377","html_url":"https://github.com/k163377","followers_url":"https://api.github.com/users/k163377/followers","following_url":"https://api.github.com/users/k163377/following{/other_user}","gists_url":"https://api.github.com/users/k163377/gists{/gist_id}","starred_url":"https://api.github.com/users/k163377/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k163377/subscriptions","organizations_url":"https://api.github.com/users/k163377/orgs","repos_url":"https://api.github.com/users/k163377/repos","events_url":"https://api.github.com/users/k163377/events{/privacy}","received_events_url":"https://api.github.com/users/k163377/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2025-05-18T03:30:56Z","updated_at":"2025-10-13T00:41:41Z","closed_at":"2025-06-16T01:45:39Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Search before asking\n\n- [x] I searched in the [issues](https://github.com/FasterXML/jackson-databind/issues) and found nothing similar.\n\n### Describe the bug\n\nThis is a follow-up to the following issues\nhttps://github.com/FasterXML/jackson-databind/issues/5139 (fixed via PR #5140)\nhttps://github.com/FasterXML/jackson-module-kotlin/issues/976\n\nIn the deserializer inheriting from `ContainerDeserializerBase`, I found problems in the following classes\n\n- [EnumMapDeserializer](https://github.com/FasterXML/jackson-databind/blob/388b7dc6782c69a7bb8a2b3698e95582cda0a669/src/main/java/com/fasterxml/jackson/databind/deser/std/EnumMapDeserializer.java)\n- [MapDeserializer](https://github.com/FasterXML/jackson-databind/blob/896c1cfd290e99526ed7c0627d3ca040d8884d44/src/main/java/com/fasterxml/jackson/databind/deser/std/MapDeserializer.java)\n- [ObjectArrayDeserializer](https://github.com/FasterXML/jackson-databind/blob/896c1cfd290e99526ed7c0627d3ca040d8884d44/src/main/java/com/fasterxml/jackson/databind/deser/std/ObjectArrayDeserializer.java)\n- [StringCollectionDeserializer](https://github.com/FasterXML/jackson-databind/blob/6214e5c3b002841bf8415a44cac90ce60bf7b181/src/main/java/com/fasterxml/jackson/databind/deser/std/StringCollectionDeserializer.java)\n\nThe [StringArrayDeserializer](https://github.com/FasterXML/jackson-databind/blob/896c1cfd290e99526ed7c0627d3ca040d8884d44/src/main/java/com/fasterxml/jackson/databind/deser/std/StringArrayDeserializer.java) does not inherit from the `ContainerDeserializerBase`, but seems to have the same problem.\nThere may be other deserializers with similar problems, but I have not been able to verify them.\n\nThe [MapEntryDeserializer](https://github.com/FasterXML/jackson-databind/blob/de62c677b12c02967c9620a11c1c5208f701cfef/src/main/java/com/fasterxml/jackson/databind/deser/std/MapEntryDeserializer.java) was not using `_nullProvider`.\nHowever, it has not been confirmed that there is no problem with not using `_nullProvider`.\n\n\n### Version Information\n\n2.19.0(2.19.1-SNAPSHOT)\n\n### Reproduction\n\nSame as https://github.com/FasterXML/jackson-databind/issues/5139\n\n### Expected behavior\n\nIf the deserialization result of the value is `null`, then `JsonSetter.contentNulls` must work.\n\n### Additional context\n\n_No response_","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/5165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/5165/timeline","performed_via_github_app":null,"state_reason":"completed"}