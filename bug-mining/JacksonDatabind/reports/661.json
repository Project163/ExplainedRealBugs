{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3262","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3262/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3262/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3262/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/3262","id":981388671,"node_id":"MDU6SXNzdWU5ODEzODg2NzE=","number":3262,"title":"`InvalidDefinitionException` when calling `mapper.createObjectNode().putPOJO`","user":{"login":"jebbench","id":1029732,"node_id":"MDQ6VXNlcjEwMjk3MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1029732?v=4","gravatar_id":"","url":"https://api.github.com/users/jebbench","html_url":"https://github.com/jebbench","followers_url":"https://api.github.com/users/jebbench/followers","following_url":"https://api.github.com/users/jebbench/following{/other_user}","gists_url":"https://api.github.com/users/jebbench/gists{/gist_id}","starred_url":"https://api.github.com/users/jebbench/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebbench/subscriptions","organizations_url":"https://api.github.com/users/jebbench/orgs","repos_url":"https://api.github.com/users/jebbench/repos","events_url":"https://api.github.com/users/jebbench/events{/privacy}","received_events_url":"https://api.github.com/users/jebbench/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2457821256,"node_id":"MDU6TGFiZWwyNDU3ODIxMjU2","url":"https://api.github.com/repos/FasterXML/jackson-databind/labels/has-failing-test","name":"has-failing-test","color":"4e8a16","default":false,"description":"Indicates that there exists a test case (under `failing/`) to reproduce the issue"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/147","html_url":"https://github.com/FasterXML/jackson-databind/milestone/147","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/147/labels","id":8674405,"node_id":"MI_kwDOAC5e2c4AhFxl","number":147,"title":"2.15.0","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":37,"state":"closed","created_at":"2022-11-21T02:41:45Z","updated_at":"2025-10-30T23:29:18Z","due_on":null,"closed_at":"2025-10-30T23:29:18Z"},"comments":9,"created_at":"2021-08-27T16:03:24Z","updated_at":"2023-08-18T09:47:27Z","closed_at":"2023-02-08T01:39:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello,\r\n\r\nWhen running the code below I get the exception:\r\n```\r\nException in thread \"main\" java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module \"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\" to enable handling\r\n\tat com.fasterxml.jackson.databind.node.InternalNodeMapper.nodeToPrettyString(InternalNodeMapper.java:40)\r\n\tat com.fasterxml.jackson.databind.node.BaseJsonNode.toPrettyString(BaseJsonNode.java:141)\r\n\tat Main.main(Main.java:16)\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module \"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\" to enable handling\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module \"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\" to enable handling\r\n\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.defaultSerializeValue(SerializerProvider.java:1142)\r\n\tat com.fasterxml.jackson.databind.node.POJONode.serialize(POJONode.java:115)\r\n\tat com.fasterxml.jackson.databind.node.ObjectNode.serialize(ObjectNode.java:328)\r\n\tat com.fasterxml.jackson.databind.ser.std.SerializableSerializer.serialize(SerializableSerializer.java:39)\r\n\tat com.fasterxml.jackson.databind.ser.std.SerializableSerializer.serialize(SerializableSerializer.java:20)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518)\r\n\tat com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1219)\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1086)\r\n\tat com.fasterxml.jackson.databind.node.InternalNodeMapper.nodeToPrettyString(InternalNodeMapper.java:38)\r\n\t... 2 more\r\n```\r\n2.11.4 works as expected.\r\n2.13.0-rc2 fails with the same error.\r\n\r\nMain.java\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        ObjectMapper mapper = JsonMapper.builder()\r\n            .addModule(new JavaTimeModule())\r\n            .build();\r\n\r\n        ObjectNode node = mapper.createObjectNode().putPOJO(\"test\", LocalDateTime.now());\r\n        System.out.println(node.toPrettyString());\r\n    }\r\n\r\n}\r\n```\r\n\r\nbuild.gradle\r\n```groovy\r\nplugins {\r\n    id 'java'\r\n}\r\n\r\ngroup 'org.example'\r\nversion '1.0-SNAPSHOT'\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation platform(\"com.fasterxml.jackson:jackson-bom:2.12.5\")\r\n    implementation \"com.fasterxml.jackson.core:jackson-databind\"\r\n    implementation \"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\"\r\n}\r\n```\r\n\r\nI've tried using AdoptOpenJDK (OpenJ9) 11.0.11 and AdoptOpenJDK (Hotspot) 14.0.2 and I get the same result on both.","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3262/timeline","performed_via_github_app":null,"state_reason":"completed"}