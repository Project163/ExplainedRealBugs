[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244819627","html_url":"https://github.com/FasterXML/jackson-databind/issues/1363#issuecomment-244819627","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1363","id":244819627,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDgxOTYyNw==","user":{"login":"stuartwdouglas","id":328571,"node_id":"MDQ6VXNlcjMyODU3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/328571?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartwdouglas","html_url":"https://github.com/stuartwdouglas","followers_url":"https://api.github.com/users/stuartwdouglas/followers","following_url":"https://api.github.com/users/stuartwdouglas/following{/other_user}","gists_url":"https://api.github.com/users/stuartwdouglas/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartwdouglas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartwdouglas/subscriptions","organizations_url":"https://api.github.com/users/stuartwdouglas/orgs","repos_url":"https://api.github.com/users/stuartwdouglas/repos","events_url":"https://api.github.com/users/stuartwdouglas/events{/privacy}","received_events_url":"https://api.github.com/users/stuartwdouglas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-05T23:02:17Z","updated_at":"2016-09-05T23:02:17Z","body":"Looks like com.fasterxml.jackson.databind.type.TypeFactory#_typeCache has a similar issue\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244819627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stuartwdouglas","id":328571,"node_id":"MDQ6VXNlcjMyODU3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/328571?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartwdouglas","html_url":"https://github.com/stuartwdouglas","followers_url":"https://api.github.com/users/stuartwdouglas/followers","following_url":"https://api.github.com/users/stuartwdouglas/following{/other_user}","gists_url":"https://api.github.com/users/stuartwdouglas/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartwdouglas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartwdouglas/subscriptions","organizations_url":"https://api.github.com/users/stuartwdouglas/orgs","repos_url":"https://api.github.com/users/stuartwdouglas/repos","events_url":"https://api.github.com/users/stuartwdouglas/events{/privacy}","received_events_url":"https://api.github.com/users/stuartwdouglas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244848868","html_url":"https://github.com/FasterXML/jackson-databind/issues/1363#issuecomment-244848868","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1363","id":244848868,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDg0ODg2OA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T04:47:32Z","updated_at":"2016-09-06T04:47:32Z","body":"Yes, I can see how `ClassUtil.sCached` could be problematic in such a case. I'll have to think about it a bit: while use of soft/weak reference could help, it would basically render it useless on Android as far as I know (since VM doesn't really support these in a way to make them useful). So perhaps it'd just be best to remove it.\n\nPotential problem with `TypeFactory` is more difficult, as it is not directly due to static member (`_typeCached` is non-static member), nor is type factor itself accessed statically.\nUnfortunately... there is static \"default\" instance of `TypeFactory` itself, which makes it likely there is a similar problem. And this cache is quite essential for performance, much more so than metadata `ClassUtil` tries to cache.\n\nThank you for reporting this issue.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244848868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244850178","html_url":"https://github.com/FasterXML/jackson-databind/issues/1363#issuecomment-244850178","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1363","id":244850178,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDg1MDE3OA==","user":{"login":"stuartwdouglas","id":328571,"node_id":"MDQ6VXNlcjMyODU3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/328571?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartwdouglas","html_url":"https://github.com/stuartwdouglas","followers_url":"https://api.github.com/users/stuartwdouglas/followers","following_url":"https://api.github.com/users/stuartwdouglas/following{/other_user}","gists_url":"https://api.github.com/users/stuartwdouglas/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartwdouglas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartwdouglas/subscriptions","organizations_url":"https://api.github.com/users/stuartwdouglas/orgs","repos_url":"https://api.github.com/users/stuartwdouglas/repos","events_url":"https://api.github.com/users/stuartwdouglas/events{/privacy}","received_events_url":"https://api.github.com/users/stuartwdouglas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T05:00:20Z","updated_at":"2016-09-06T05:00:20Z","body":"I have hacked up this ugly thing to work around it in the meantime: https://github.com/wildfly/wildfly/pull/9173\n\nBasically I just clear the caches via reflection when something is undeployed. One possibility for working around this could be introducing some kind of SPI to allow the container to clear any static caches.  \n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244850178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stuartwdouglas","id":328571,"node_id":"MDQ6VXNlcjMyODU3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/328571?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartwdouglas","html_url":"https://github.com/stuartwdouglas","followers_url":"https://api.github.com/users/stuartwdouglas/followers","following_url":"https://api.github.com/users/stuartwdouglas/following{/other_user}","gists_url":"https://api.github.com/users/stuartwdouglas/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartwdouglas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartwdouglas/subscriptions","organizations_url":"https://api.github.com/users/stuartwdouglas/orgs","repos_url":"https://api.github.com/users/stuartwdouglas/repos","events_url":"https://api.github.com/users/stuartwdouglas/events{/privacy}","received_events_url":"https://api.github.com/users/stuartwdouglas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244853081","html_url":"https://github.com/FasterXML/jackson-databind/issues/1363#issuecomment-244853081","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1363","id":244853081,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDg1MzA4MQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-06T05:27:50Z","updated_at":"2016-09-06T05:27:50Z","body":"@stuartwdouglas yes, that might make sense as a short-term work-around until cleaner solution is found. I could and probably should add a static method in `ClassUtil` for clearing cached data. And to limit surface area for the work-around, that should probably then also trigger clean up of the default `TypeFactory`, so that only one call is needed. When handling is fixed in future, this method could become a no-op.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/244853081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":778849309,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Nzc4ODQ5MzA5","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/778849309","actor":{"login":"stuartwdouglas","id":328571,"node_id":"MDQ6VXNlcjMyODU3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/328571?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartwdouglas","html_url":"https://github.com/stuartwdouglas","followers_url":"https://api.github.com/users/stuartwdouglas/followers","following_url":"https://api.github.com/users/stuartwdouglas/following{/other_user}","gists_url":"https://api.github.com/users/stuartwdouglas/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartwdouglas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartwdouglas/subscriptions","organizations_url":"https://api.github.com/users/stuartwdouglas/orgs","repos_url":"https://api.github.com/users/stuartwdouglas/repos","events_url":"https://api.github.com/users/stuartwdouglas/events{/privacy}","received_events_url":"https://api.github.com/users/stuartwdouglas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-09-06T05:27:50Z","performed_via_github_app":null},{"id":778849310,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDc3ODg0OTMxMA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/778849310","actor":{"login":"stuartwdouglas","id":328571,"node_id":"MDQ6VXNlcjMyODU3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/328571?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartwdouglas","html_url":"https://github.com/stuartwdouglas","followers_url":"https://api.github.com/users/stuartwdouglas/followers","following_url":"https://api.github.com/users/stuartwdouglas/following{/other_user}","gists_url":"https://api.github.com/users/stuartwdouglas/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartwdouglas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartwdouglas/subscriptions","organizations_url":"https://api.github.com/users/stuartwdouglas/orgs","repos_url":"https://api.github.com/users/stuartwdouglas/repos","events_url":"https://api.github.com/users/stuartwdouglas/events{/privacy}","received_events_url":"https://api.github.com/users/stuartwdouglas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-09-06T05:27:50Z","performed_via_github_app":null},{"actor":{"login":"wolfc","id":161810,"node_id":"MDQ6VXNlcjE2MTgxMA==","avatar_url":"https://avatars.githubusercontent.com/u/161810?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfc","html_url":"https://github.com/wolfc","followers_url":"https://api.github.com/users/wolfc/followers","following_url":"https://api.github.com/users/wolfc/following{/other_user}","gists_url":"https://api.github.com/users/wolfc/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfc/subscriptions","organizations_url":"https://api.github.com/users/wolfc/orgs","repos_url":"https://api.github.com/users/wolfc/repos","events_url":"https://api.github.com/users/wolfc/events{/privacy}","received_events_url":"https://api.github.com/users/wolfc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T11:57:55Z","updated_at":"2016-09-12T11:57:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/wildfly/wildfly/issues/9173","repository_url":"https://api.github.com/repos/wildfly/wildfly","labels_url":"https://api.github.com/repos/wildfly/wildfly/issues/9173/labels{/name}","comments_url":"https://api.github.com/repos/wildfly/wildfly/issues/9173/comments","events_url":"https://api.github.com/repos/wildfly/wildfly/issues/9173/events","html_url":"https://github.com/wildfly/wildfly/pull/9173","id":175135157,"node_id":"MDExOlB1bGxSZXF1ZXN0ODQwNDQwNzg=","number":9173,"title":"WFLY-7037 Hack to clear Jackson caches via reflection to prevent clas…","user":{"login":"stuartwdouglas","id":328571,"node_id":"MDQ6VXNlcjMyODU3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/328571?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartwdouglas","html_url":"https://github.com/stuartwdouglas","followers_url":"https://api.github.com/users/stuartwdouglas/followers","following_url":"https://api.github.com/users/stuartwdouglas/following{/other_user}","gists_url":"https://api.github.com/users/stuartwdouglas/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartwdouglas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartwdouglas/subscriptions","organizations_url":"https://api.github.com/users/stuartwdouglas/orgs","repos_url":"https://api.github.com/users/stuartwdouglas/repos","events_url":"https://api.github.com/users/stuartwdouglas/events{/privacy}","received_events_url":"https://api.github.com/users/stuartwdouglas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-09-05T23:06:34Z","updated_at":"2016-09-15T07:50:45Z","closed_at":"2016-09-15T07:50:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":764708,"node_id":"MDEwOlJlcG9zaXRvcnk3NjQ3MDg=","name":"wildfly","full_name":"wildfly/wildfly","private":false,"owner":{"login":"wildfly","id":3066274,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMwNjYyNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3066274?v=4","gravatar_id":"","url":"https://api.github.com/users/wildfly","html_url":"https://github.com/wildfly","followers_url":"https://api.github.com/users/wildfly/followers","following_url":"https://api.github.com/users/wildfly/following{/other_user}","gists_url":"https://api.github.com/users/wildfly/gists{/gist_id}","starred_url":"https://api.github.com/users/wildfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wildfly/subscriptions","organizations_url":"https://api.github.com/users/wildfly/orgs","repos_url":"https://api.github.com/users/wildfly/repos","events_url":"https://api.github.com/users/wildfly/events{/privacy}","received_events_url":"https://api.github.com/users/wildfly/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wildfly/wildfly","description":"WildFly Application Server","fork":false,"url":"https://api.github.com/repos/wildfly/wildfly","forks_url":"https://api.github.com/repos/wildfly/wildfly/forks","keys_url":"https://api.github.com/repos/wildfly/wildfly/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wildfly/wildfly/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wildfly/wildfly/teams","hooks_url":"https://api.github.com/repos/wildfly/wildfly/hooks","issue_events_url":"https://api.github.com/repos/wildfly/wildfly/issues/events{/number}","events_url":"https://api.github.com/repos/wildfly/wildfly/events","assignees_url":"https://api.github.com/repos/wildfly/wildfly/assignees{/user}","branches_url":"https://api.github.com/repos/wildfly/wildfly/branches{/branch}","tags_url":"https://api.github.com/repos/wildfly/wildfly/tags","blobs_url":"https://api.github.com/repos/wildfly/wildfly/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wildfly/wildfly/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wildfly/wildfly/git/refs{/sha}","trees_url":"https://api.github.com/repos/wildfly/wildfly/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wildfly/wildfly/statuses/{sha}","languages_url":"https://api.github.com/repos/wildfly/wildfly/languages","stargazers_url":"https://api.github.com/repos/wildfly/wildfly/stargazers","contributors_url":"https://api.github.com/repos/wildfly/wildfly/contributors","subscribers_url":"https://api.github.com/repos/wildfly/wildfly/subscribers","subscription_url":"https://api.github.com/repos/wildfly/wildfly/subscription","commits_url":"https://api.github.com/repos/wildfly/wildfly/commits{/sha}","git_commits_url":"https://api.github.com/repos/wildfly/wildfly/git/commits{/sha}","comments_url":"https://api.github.com/repos/wildfly/wildfly/comments{/number}","issue_comment_url":"https://api.github.com/repos/wildfly/wildfly/issues/comments{/number}","contents_url":"https://api.github.com/repos/wildfly/wildfly/contents/{+path}","compare_url":"https://api.github.com/repos/wildfly/wildfly/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wildfly/wildfly/merges","archive_url":"https://api.github.com/repos/wildfly/wildfly/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wildfly/wildfly/downloads","issues_url":"https://api.github.com/repos/wildfly/wildfly/issues{/number}","pulls_url":"https://api.github.com/repos/wildfly/wildfly/pulls{/number}","milestones_url":"https://api.github.com/repos/wildfly/wildfly/milestones{/number}","notifications_url":"https://api.github.com/repos/wildfly/wildfly/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wildfly/wildfly/labels{/name}","releases_url":"https://api.github.com/repos/wildfly/wildfly/releases{/id}","deployments_url":"https://api.github.com/repos/wildfly/wildfly/deployments","created_at":"2010-07-08T20:46:07Z","updated_at":"2025-11-07T20:57:15Z","pushed_at":"2025-11-07T20:57:10Z","git_url":"git://github.com/wildfly/wildfly.git","ssh_url":"git@github.com:wildfly/wildfly.git","clone_url":"https://github.com/wildfly/wildfly.git","svn_url":"https://github.com/wildfly/wildfly","homepage":"https://wildfly.org","size":298190,"stargazers_count":3133,"watchers_count":3133,"language":"Java","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2250,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":111,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest"],"visibility":"public","forks":2250,"open_issues":111,"watchers":3133,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/wildfly/wildfly/pulls/9173","html_url":"https://github.com/wildfly/wildfly/pull/9173","diff_url":"https://github.com/wildfly/wildfly/pull/9173.diff","patch_url":"https://github.com/wildfly/wildfly/pull/9173.patch","merged_at":"2016-09-15T07:50:44Z"},"body":"…s loader leak\n","reactions":{"url":"https://api.github.com/repos/wildfly/wildfly/issues/9173/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/wildfly/wildfly/issues/9173/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":790218616,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDc5MDIxODYxNg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/790218616","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-09-15T05:26:27Z","milestone":{"title":"2.7.8"},"performed_via_github_app":null},{"id":790220218,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc5MDIyMDIxOA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/790220218","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ec327bdfe8f42aefcb5e13da0c78164d45a7b317","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/ec327bdfe8f42aefcb5e13da0c78164d45a7b317","created_at":"2016-09-15T05:29:09Z","performed_via_github_app":null},{"id":790221004,"node_id":"MDExOkNsb3NlZEV2ZW50NzkwMjIxMDA0","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/790221004","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"ec327bdfe8f42aefcb5e13da0c78164d45a7b317","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/ec327bdfe8f42aefcb5e13da0c78164d45a7b317","created_at":"2016-09-15T05:30:21Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/247238984","html_url":"https://github.com/FasterXML/jackson-databind/issues/1363#issuecomment-247238984","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1363","id":247238984,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzIzODk4NA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T05:33:46Z","updated_at":"2016-09-15T05:33:46Z","body":"I went ahead and ripped out the whole caching: while it could probably be made to work with `WeakHashMap` (although... might have issue wrt. value having reference...), this was mostly useful in pathological case of constructing new `ObjectMapper` for each call.\n\nAs to `TypeFactory`: although it would be nice to figure out how to avoid relying on static singleton default instance (and always create new instance for new `ObjectMapper`) -- and I'll create a new issue for that -- I think for now what has to suffice is existing (since 2.4) method of `TypeFactory.clearCache()`, called f.ex as:\n\n```\nTypeFactory.defaultInstance().clearCache()\n```\n\nwhich will clear cached entries from the shared default instance.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/247238984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T05:35:52Z","updated_at":"2016-09-15T05:35:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1373","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1373/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1373/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1373/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/1373","id":177093048,"node_id":"MDU6SXNzdWUxNzcwOTMwNDg=","number":1373,"title":"Consider removing use of global default `TypeFactory.defaultInstance()`","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1473129874,"node_id":"MDU6TGFiZWwxNDczMTI5ODc0","url":"https://api.github.com/repos/FasterXML/jackson-databind/labels/duplicate","name":"duplicate","color":"ef7a3b","default":true,"description":"Duplicate of an existing (usually earlier) issue"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-09-15T05:35:52Z","updated_at":"2024-12-01T02:36:13Z","closed_at":"2024-12-01T02:36:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-08T13:34:42Z","pushed_at":"2025-11-07T22:16:42Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83232,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":382,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":382,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"(See #1363 for background)\n\nWhile it is convenient to start with a shareable `TypeFactory` for `ObjectMapper`, using static singleton accessed through `TypeFactory.createInstance()`, this can lead to unintentional `Class` retention for app servers (et al) that support hot reloading. It may be relatively easy to just force construction of a new `TypeFactory` for new `ObjectMapper`s, which would remove this problem.\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1373/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1373/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"cymurg","id":27578868,"node_id":"MDQ6VXNlcjI3NTc4ODY4","avatar_url":"https://avatars.githubusercontent.com/u/27578868?v=4","gravatar_id":"","url":"https://api.github.com/users/cymurg","html_url":"https://github.com/cymurg","followers_url":"https://api.github.com/users/cymurg/followers","following_url":"https://api.github.com/users/cymurg/following{/other_user}","gists_url":"https://api.github.com/users/cymurg/gists{/gist_id}","starred_url":"https://api.github.com/users/cymurg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cymurg/subscriptions","organizations_url":"https://api.github.com/users/cymurg/orgs","repos_url":"https://api.github.com/users/cymurg/repos","events_url":"https://api.github.com/users/cymurg/events{/privacy}","received_events_url":"https://api.github.com/users/cymurg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T19:35:12Z","updated_at":"2018-01-05T19:35:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/75","repository_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention","labels_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/75/labels{/name}","comments_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/75/comments","events_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/75/events","html_url":"https://github.com/mjiderhamn/classloader-leak-prevention/issues/75","id":286383457,"node_id":"MDU6SXNzdWUyODYzODM0NTc=","number":75,"title":"FasterXML Jackson typeCache ClassLoader leak","user":{"login":"cymurg","id":27578868,"node_id":"MDQ6VXNlcjI3NTc4ODY4","avatar_url":"https://avatars.githubusercontent.com/u/27578868?v=4","gravatar_id":"","url":"https://api.github.com/users/cymurg","html_url":"https://github.com/cymurg","followers_url":"https://api.github.com/users/cymurg/followers","following_url":"https://api.github.com/users/cymurg/following{/other_user}","gists_url":"https://api.github.com/users/cymurg/gists{/gist_id}","starred_url":"https://api.github.com/users/cymurg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cymurg/subscriptions","organizations_url":"https://api.github.com/users/cymurg/orgs","repos_url":"https://api.github.com/users/cymurg/repos","events_url":"https://api.github.com/users/cymurg/events{/privacy}","received_events_url":"https://api.github.com/users/cymurg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-01-05T19:35:12Z","updated_at":"2018-01-15T18:25:31Z","closed_at":"2018-01-07T18:07:14Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3250009,"node_id":"MDEwOlJlcG9zaXRvcnkzMjUwMDA5","name":"classloader-leak-prevention","full_name":"mjiderhamn/classloader-leak-prevention","private":false,"owner":{"login":"mjiderhamn","id":837073,"node_id":"MDQ6VXNlcjgzNzA3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/837073?v=4","gravatar_id":"","url":"https://api.github.com/users/mjiderhamn","html_url":"https://github.com/mjiderhamn","followers_url":"https://api.github.com/users/mjiderhamn/followers","following_url":"https://api.github.com/users/mjiderhamn/following{/other_user}","gists_url":"https://api.github.com/users/mjiderhamn/gists{/gist_id}","starred_url":"https://api.github.com/users/mjiderhamn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjiderhamn/subscriptions","organizations_url":"https://api.github.com/users/mjiderhamn/orgs","repos_url":"https://api.github.com/users/mjiderhamn/repos","events_url":"https://api.github.com/users/mjiderhamn/events{/privacy}","received_events_url":"https://api.github.com/users/mjiderhamn/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mjiderhamn/classloader-leak-prevention","description":"ClassLoader leak prevention / protection","fork":false,"url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention","forks_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/forks","keys_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/teams","hooks_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/hooks","issue_events_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/events{/number}","events_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/events","assignees_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/assignees{/user}","branches_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/branches{/branch}","tags_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/tags","blobs_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/git/refs{/sha}","trees_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/statuses/{sha}","languages_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/languages","stargazers_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/stargazers","contributors_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/contributors","subscribers_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/subscribers","subscription_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/subscription","commits_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/commits{/sha}","git_commits_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/git/commits{/sha}","comments_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/comments{/number}","issue_comment_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/comments{/number}","contents_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/contents/{+path}","compare_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/merges","archive_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/downloads","issues_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues{/number}","pulls_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/pulls{/number}","milestones_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/milestones{/number}","notifications_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/labels{/name}","releases_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/releases{/id}","deployments_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/deployments","created_at":"2012-01-23T20:21:49Z","updated_at":"2025-10-14T16:05:57Z","pushed_at":"2024-02-22T00:08:36Z","git_url":"git://github.com/mjiderhamn/classloader-leak-prevention.git","ssh_url":"git@github.com:mjiderhamn/classloader-leak-prevention.git","clone_url":"https://github.com/mjiderhamn/classloader-leak-prevention.git","svn_url":"https://github.com/mjiderhamn/classloader-leak-prevention","homepage":"http://java.jiderhamn.se/2012/03/04/classloader-leaks-vi-this-means-war-leak-prevention-library/","size":824,"stargazers_count":366,"watchers_count":366,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":84,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":21,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":84,"open_issues":21,"watchers":366,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi ,\r\n\r\nFasterXML which bundled with WebLogic has a classloader leak that causes to hold application classloader.\r\n\r\n**com.fasterxml.jackson.databind.type.TypeFactory#_typeCache** holds some cache data that can refer application classes and application classloader at the same time.\r\n\r\nHere is a screenshot that shows the leak;\r\n![capture](https://user-images.githubusercontent.com/27578868/34624831-b31a7222-f267-11e7-9005-6084f88e289b.PNG)\r\nNote: **AgencyRequestHeader** class is loaded by our application class loader.\r\n\r\nThis problem had been reported on github but i think it is still exists at newest version. At least I know that it exists at weblogic 12.\r\nhttps://github.com/FasterXML/jackson-databind/issues/1363\r\n\r\nInvoking **TypeFactory.defaultInstance().clearCache()** at cleanup stage in leak-prevention api can solve the problem.\r\n  \r\n  ","reactions":{"url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/75/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mjiderhamn/classloader-leak-prevention/issues/75/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"djhworld","id":529730,"node_id":"MDQ6VXNlcjUyOTczMA==","avatar_url":"https://avatars.githubusercontent.com/u/529730?v=4","gravatar_id":"","url":"https://api.github.com/users/djhworld","html_url":"https://github.com/djhworld","followers_url":"https://api.github.com/users/djhworld/followers","following_url":"https://api.github.com/users/djhworld/following{/other_user}","gists_url":"https://api.github.com/users/djhworld/gists{/gist_id}","starred_url":"https://api.github.com/users/djhworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djhworld/subscriptions","organizations_url":"https://api.github.com/users/djhworld/orgs","repos_url":"https://api.github.com/users/djhworld/repos","events_url":"https://api.github.com/users/djhworld/events{/privacy}","received_events_url":"https://api.github.com/users/djhworld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-18T08:37:44Z","updated_at":"2019-01-18T08:37:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/apache/beam/issues/7552","repository_url":"https://api.github.com/repos/apache/beam","labels_url":"https://api.github.com/repos/apache/beam/issues/7552/labels{/name}","comments_url":"https://api.github.com/repos/apache/beam/issues/7552/comments","events_url":"https://api.github.com/repos/apache/beam/issues/7552/events","html_url":"https://github.com/apache/beam/pull/7552","id":400497993,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ1NjcyOTQx","number":7552,"title":"[BEAM-6460] Remove cached class references upon start/shutdown","user":{"login":"mxm","id":837221,"node_id":"MDQ6VXNlcjgzNzIyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/837221?v=4","gravatar_id":"","url":"https://api.github.com/users/mxm","html_url":"https://github.com/mxm","followers_url":"https://api.github.com/users/mxm/followers","following_url":"https://api.github.com/users/mxm/following{/other_user}","gists_url":"https://api.github.com/users/mxm/gists{/gist_id}","starred_url":"https://api.github.com/users/mxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mxm/subscriptions","organizations_url":"https://api.github.com/users/mxm/orgs","repos_url":"https://api.github.com/users/mxm/repos","events_url":"https://api.github.com/users/mxm/events{/privacy}","received_events_url":"https://api.github.com/users/mxm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-01-17T22:52:09Z","updated_at":"2023-11-14T08:45:17Z","closed_at":"2019-01-22T01:08:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":50904245,"node_id":"MDEwOlJlcG9zaXRvcnk1MDkwNDI0NQ==","name":"beam","full_name":"apache/beam","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/beam","description":"Apache Beam is a unified programming model for Batch and Streaming data processing.","fork":false,"url":"https://api.github.com/repos/apache/beam","forks_url":"https://api.github.com/repos/apache/beam/forks","keys_url":"https://api.github.com/repos/apache/beam/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/beam/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/beam/teams","hooks_url":"https://api.github.com/repos/apache/beam/hooks","issue_events_url":"https://api.github.com/repos/apache/beam/issues/events{/number}","events_url":"https://api.github.com/repos/apache/beam/events","assignees_url":"https://api.github.com/repos/apache/beam/assignees{/user}","branches_url":"https://api.github.com/repos/apache/beam/branches{/branch}","tags_url":"https://api.github.com/repos/apache/beam/tags","blobs_url":"https://api.github.com/repos/apache/beam/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/beam/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/beam/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/beam/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/beam/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/beam/languages","stargazers_url":"https://api.github.com/repos/apache/beam/stargazers","contributors_url":"https://api.github.com/repos/apache/beam/contributors","subscribers_url":"https://api.github.com/repos/apache/beam/subscribers","subscription_url":"https://api.github.com/repos/apache/beam/subscription","commits_url":"https://api.github.com/repos/apache/beam/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/beam/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/beam/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/beam/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/beam/contents/{+path}","compare_url":"https://api.github.com/repos/apache/beam/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/beam/merges","archive_url":"https://api.github.com/repos/apache/beam/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/beam/downloads","issues_url":"https://api.github.com/repos/apache/beam/issues{/number}","pulls_url":"https://api.github.com/repos/apache/beam/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/beam/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/beam/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/beam/labels{/name}","releases_url":"https://api.github.com/repos/apache/beam/releases{/id}","deployments_url":"https://api.github.com/repos/apache/beam/deployments","created_at":"2016-02-02T08:00:06Z","updated_at":"2025-11-08T15:49:20Z","pushed_at":"2025-11-08T17:38:42Z","git_url":"git://github.com/apache/beam.git","ssh_url":"git@github.com:apache/beam.git","clone_url":"https://github.com/apache/beam.git","svn_url":"https://github.com/apache/beam","homepage":"https://beam.apache.org/","size":918377,"stargazers_count":8361,"watchers_count":8361,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4428,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4243,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["batch","beam","big-data","golang","java","python","sql","streaming"],"visibility":"public","forks":4428,"open_issues":4243,"watchers":8361,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/apache/beam/pulls/7552","html_url":"https://github.com/apache/beam/pull/7552","diff_url":"https://github.com/apache/beam/pull/7552.diff","patch_url":"https://github.com/apache/beam/pull/7552.patch","merged_at":"2019-01-22T01:08:17Z"},"body":"The Flink Classloader can only be garbage collected if the classes it loaded are\r\nnot referenced anymore. Users have reported that old classes leaked through\r\nJackson's TypeFactory after pipeline restart. \r\n\r\n\r\nPost-Commit Tests Status (on master branch)\r\n------------------------------------------------------------------------------------------------\r\n\r\nLang | SDK | Apex | Dataflow | Flink | Gearpump | Samza | Spark\r\n--- | --- | --- | --- | --- | --- | --- | ---\r\nGo | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Go/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Go/lastCompletedBuild/) | --- | --- | --- | --- | --- | ---\r\nJava | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Java/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java/lastCompletedBuild/) | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Apex/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Apex/lastCompletedBuild/) | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/lastCompletedBuild/) | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Flink/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Flink/lastCompletedBuild/)<br>[![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_PVR_Flink_Batch/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_PVR_Flink_Batch/lastCompletedBuild/)<br>[![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_PVR_Flink_Streaming/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_PVR_Flink_Streaming/lastCompletedBuild/) | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Gearpump/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Gearpump/lastCompletedBuild/) | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Samza/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Samza/lastCompletedBuild/) | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Spark/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Spark/lastCompletedBuild/)\r\nPython | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Python_Verify/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Python_Verify/lastCompletedBuild/) | --- | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Py_VR_Dataflow/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Py_VR_Dataflow/lastCompletedBuild/) </br> [![Build Status](https://builds.apache.org/job/beam_PostCommit_Py_ValCont/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Py_ValCont/lastCompletedBuild/) | [![Build Status](https://builds.apache.org/job/beam_PostCommit_Python_VR_Flink/lastCompletedBuild/badge/icon)](https://builds.apache.org/job/beam_PostCommit_Python_VR_Flink/lastCompletedBuild/) | --- | --- | ---\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/beam/issues/7552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/apache/beam/issues/7552/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]