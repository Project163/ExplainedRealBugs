{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/403","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/403/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/403/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/403/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/403","id":27415977,"node_id":"MDU6SXNzdWUyNzQxNTk3Nw==","number":403,"title":"Make FAIL_ON_NULL_FOR_PRIMITIVES apply to primitive arrays and other types that wrap primitives","user":{"login":"harleensahni","id":5666087,"node_id":"MDQ6VXNlcjU2NjYwODc=","avatar_url":"https://avatars.githubusercontent.com/u/5666087?v=4","gravatar_id":"","url":"https://api.github.com/users/harleensahni","html_url":"https://github.com/harleensahni","followers_url":"https://api.github.com/users/harleensahni/followers","following_url":"https://api.github.com/users/harleensahni/following{/other_user}","gists_url":"https://api.github.com/users/harleensahni/gists{/gist_id}","starred_url":"https://api.github.com/users/harleensahni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harleensahni/subscriptions","organizations_url":"https://api.github.com/users/harleensahni/orgs","repos_url":"https://api.github.com/users/harleensahni/repos","events_url":"https://api.github.com/users/harleensahni/events{/privacy}","received_events_url":"https://api.github.com/users/harleensahni/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/70","html_url":"https://github.com/FasterXML/jackson-databind/milestone/70","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/70/labels","id":2368144,"node_id":"MDk6TWlsZXN0b25lMjM2ODE0NA==","number":70,"title":"2.9.0.pr2","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":8,"state":"closed","created_at":"2017-03-07T06:13:02Z","updated_at":"2021-03-04T04:04:08Z","due_on":null,"closed_at":"2021-03-04T04:04:08Z"},"comments":7,"created_at":"2014-02-12T08:01:27Z","updated_at":"2017-03-08T06:15:46Z","closed_at":"2017-03-08T06:15:16Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES` only seems to work on primitive properties on beans. It doesn't seem to work on reading straight values (I don't care that much about this), and reading primitive arrays. \n\nIn addition, it would be good if this functionality, or a new DeserializationFeature was added to support failing on nulls in Lists that store wrap primitive types since people often use List<Integer> as a property type instead of int[] for convenience. \n\nHere is a test case I wrote to demonstrate this:  \n\n``` java\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.Test;\n\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class TestNullPrimitives {\n\n    public static class PrimitiveTest{\n        public int value;\n        public int[] valueArray;\n        public List<Integer> valueList;\n    }\n\n    @Test(expected = JsonMappingException.class)\n    public void testReadNullInt() throws IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true);\n        // Reads value as 0\n        int value  = mapper.readValue(\"null\", int.class);\n        System.out.println(\"value:\" + value);\n\n    }\n\n    @Test(expected = JsonMappingException.class)\n    public void testObjectReadNullProperty() throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true);\n        // throws exception\n        PrimitiveTest testObject = mapper.readValue(\"{\\\"value\\\":null}\", PrimitiveTest.class);\n    }\n    @Test(expected = JsonMappingException.class)\n    public void testObjectReadNullArrayEntryInProperty() throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true);\n        // Reads valueArray as [0]\n        PrimitiveTest testObject = mapper.readValue(\"{\\\"valueArray\\\":[null]}\", PrimitiveTest.class);\n        System.out.println(\"Contents:\" + Arrays.toString(testObject.valueArray));\n        System.out.println(\"Size:\" + testObject.valueArray.length);\n    }\n\n    @Test(expected = JsonMappingException.class)\n    public void testObjectReadNullListEntryInProperty() throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true);\n        // Reads valueList as [null]\n        PrimitiveTest testObject = mapper.readValue(\"{\\\"valueList\\\":[null]}\", PrimitiveTest.class);\n        System.out.println(\"Contents:\" + testObject.valueList);\n        System.out.println(\"Size:\" + testObject.valueList.size());\n    }\n}\n```\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/403/timeline","performed_via_github_app":null,"state_reason":"completed"}