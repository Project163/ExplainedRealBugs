[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62100014","html_url":"https://github.com/FasterXML/jackson-databind/issues/604#issuecomment-62100014","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604","id":62100014,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTAwMDE0","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-07T05:54:55Z","updated_at":"2014-11-07T05:54:55Z","body":"There are no known open issues regarding concurrency or performance of `DeserializerCache` that I am aware of.\n\nBut looking at line in question, I suspect this is not a problem with Jackson as much as problem with caller somehow ending up not getting a cached instance. Two scenarios would be:\n1. `ObjectMapper` is not being reused, but re-created for new requests (which is a big performance problem on its own)\n2. Construction of deserializer somehow throwing an exception\n\nOtherwise, code should not get into this part of `DeserializerCache`. So question is not so much hot spot you see, but rather that why calls would end up getting there, not finding deserializer.\nAnd the very first thing is to make 100% sure that `ObjectMapper`s are being reused. If not, I wouldn't be surprised to see the hot spot.\n\nAnother question is as to why \"canDeserialize()\" is being called at all -- it is often unnecessary, and it'd be better to simply call `readValue()`. There are few cases where \"canDeserialize()\" would probide actual information on failing cases. But if it is called, it makes sense to call variant that takes two arguments; second being `AtomicReference` that will be set to `Throwable` that caused failure.\nIf `ObjectMapper` is properly reused, I would check to see if an exception is causing failure of deserializer construction.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62100014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ShawnTuatara","id":326589,"node_id":"MDQ6VXNlcjMyNjU4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/326589?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnTuatara","html_url":"https://github.com/ShawnTuatara","followers_url":"https://api.github.com/users/ShawnTuatara/followers","following_url":"https://api.github.com/users/ShawnTuatara/following{/other_user}","gists_url":"https://api.github.com/users/ShawnTuatara/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnTuatara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnTuatara/subscriptions","organizations_url":"https://api.github.com/users/ShawnTuatara/orgs","repos_url":"https://api.github.com/users/ShawnTuatara/repos","events_url":"https://api.github.com/users/ShawnTuatara/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnTuatara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-07T18:03:53Z","updated_at":"2014-11-07T18:03:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/spring-projects/spring-boot/issues/1855","repository_url":"https://api.github.com/repos/spring-projects/spring-boot","labels_url":"https://api.github.com/repos/spring-projects/spring-boot/issues/1855/labels{/name}","comments_url":"https://api.github.com/repos/spring-projects/spring-boot/issues/1855/comments","events_url":"https://api.github.com/repos/spring-projects/spring-boot/issues/1855/events","html_url":"https://github.com/spring-projects/spring-boot/issues/1855","id":48112300,"node_id":"MDU6SXNzdWU0ODExMjMwMA==","number":1855,"title":"Concurrency issue with ObjectMapper on RESTful http call","user":{"login":"ShawnTuatara","id":326589,"node_id":"MDQ6VXNlcjMyNjU4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/326589?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnTuatara","html_url":"https://github.com/ShawnTuatara","followers_url":"https://api.github.com/users/ShawnTuatara/followers","following_url":"https://api.github.com/users/ShawnTuatara/following{/other_user}","gists_url":"https://api.github.com/users/ShawnTuatara/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnTuatara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnTuatara/subscriptions","organizations_url":"https://api.github.com/users/ShawnTuatara/orgs","repos_url":"https://api.github.com/users/ShawnTuatara/repos","events_url":"https://api.github.com/users/ShawnTuatara/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnTuatara/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":16916894,"node_id":"MDU6TGFiZWwxNjkxNjg5NA==","url":"https://api.github.com/repos/spring-projects/spring-boot/labels/status:%20invalid","name":"status: invalid","color":"fef2c0","default":false,"description":"An issue that we don't feel is valid"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2014-11-07T18:03:53Z","updated_at":"2014-11-10T20:16:12Z","closed_at":"2014-11-10T20:16:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6296790,"node_id":"MDEwOlJlcG9zaXRvcnk2Mjk2Nzkw","name":"spring-boot","full_name":"spring-projects/spring-boot","private":false,"owner":{"login":"spring-projects","id":317776,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/317776?v=4","gravatar_id":"","url":"https://api.github.com/users/spring-projects","html_url":"https://github.com/spring-projects","followers_url":"https://api.github.com/users/spring-projects/followers","following_url":"https://api.github.com/users/spring-projects/following{/other_user}","gists_url":"https://api.github.com/users/spring-projects/gists{/gist_id}","starred_url":"https://api.github.com/users/spring-projects/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spring-projects/subscriptions","organizations_url":"https://api.github.com/users/spring-projects/orgs","repos_url":"https://api.github.com/users/spring-projects/repos","events_url":"https://api.github.com/users/spring-projects/events{/privacy}","received_events_url":"https://api.github.com/users/spring-projects/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/spring-projects/spring-boot","description":"Spring Boot helps you to create Spring-powered, production-grade applications and services with absolute minimum fuss.","fork":false,"url":"https://api.github.com/repos/spring-projects/spring-boot","forks_url":"https://api.github.com/repos/spring-projects/spring-boot/forks","keys_url":"https://api.github.com/repos/spring-projects/spring-boot/keys{/key_id}","collaborators_url":"https://api.github.com/repos/spring-projects/spring-boot/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/spring-projects/spring-boot/teams","hooks_url":"https://api.github.com/repos/spring-projects/spring-boot/hooks","issue_events_url":"https://api.github.com/repos/spring-projects/spring-boot/issues/events{/number}","events_url":"https://api.github.com/repos/spring-projects/spring-boot/events","assignees_url":"https://api.github.com/repos/spring-projects/spring-boot/assignees{/user}","branches_url":"https://api.github.com/repos/spring-projects/spring-boot/branches{/branch}","tags_url":"https://api.github.com/repos/spring-projects/spring-boot/tags","blobs_url":"https://api.github.com/repos/spring-projects/spring-boot/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/spring-projects/spring-boot/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/spring-projects/spring-boot/git/refs{/sha}","trees_url":"https://api.github.com/repos/spring-projects/spring-boot/git/trees{/sha}","statuses_url":"https://api.github.com/repos/spring-projects/spring-boot/statuses/{sha}","languages_url":"https://api.github.com/repos/spring-projects/spring-boot/languages","stargazers_url":"https://api.github.com/repos/spring-projects/spring-boot/stargazers","contributors_url":"https://api.github.com/repos/spring-projects/spring-boot/contributors","subscribers_url":"https://api.github.com/repos/spring-projects/spring-boot/subscribers","subscription_url":"https://api.github.com/repos/spring-projects/spring-boot/subscription","commits_url":"https://api.github.com/repos/spring-projects/spring-boot/commits{/sha}","git_commits_url":"https://api.github.com/repos/spring-projects/spring-boot/git/commits{/sha}","comments_url":"https://api.github.com/repos/spring-projects/spring-boot/comments{/number}","issue_comment_url":"https://api.github.com/repos/spring-projects/spring-boot/issues/comments{/number}","contents_url":"https://api.github.com/repos/spring-projects/spring-boot/contents/{+path}","compare_url":"https://api.github.com/repos/spring-projects/spring-boot/compare/{base}...{head}","merges_url":"https://api.github.com/repos/spring-projects/spring-boot/merges","archive_url":"https://api.github.com/repos/spring-projects/spring-boot/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/spring-projects/spring-boot/downloads","issues_url":"https://api.github.com/repos/spring-projects/spring-boot/issues{/number}","pulls_url":"https://api.github.com/repos/spring-projects/spring-boot/pulls{/number}","milestones_url":"https://api.github.com/repos/spring-projects/spring-boot/milestones{/number}","notifications_url":"https://api.github.com/repos/spring-projects/spring-boot/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/spring-projects/spring-boot/labels{/name}","releases_url":"https://api.github.com/repos/spring-projects/spring-boot/releases{/id}","deployments_url":"https://api.github.com/repos/spring-projects/spring-boot/deployments","created_at":"2012-10-19T15:02:57Z","updated_at":"2025-11-08T17:47:53Z","pushed_at":"2025-11-08T03:15:34Z","git_url":"git://github.com/spring-projects/spring-boot.git","ssh_url":"git@github.com:spring-projects/spring-boot.git","clone_url":"https://github.com/spring-projects/spring-boot.git","svn_url":"https://github.com/spring-projects/spring-boot","homepage":"https://spring.io/projects/spring-boot","size":208573,"stargazers_count":78914,"watchers_count":78914,"language":"Java","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":41619,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":560,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["framework","java","spring","spring-boot"],"visibility":"public","forks":41619,"open_issues":560,"watchers":78914,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I had originally asked about this issue on the Jackson side of things but thought it relevant to post this here as well.\n\nhttps://github.com/FasterXML/jackson-databind/issues/604\n\nThere was a comment on my original issue about why the canDeserialize() is being called instead of readValue() as well as if the ObjectMapper is being re-used. I am hoping that someone can take a look at how the spring-boot project is interacting with the ObjectMapper on the deserializing the json http request to see if there is any issues that would cause the problem I am having.\n","reactions":{"url":"https://api.github.com/repos/spring-projects/spring-boot/issues/1855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/spring-projects/spring-boot/issues/1855/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62186726","html_url":"https://github.com/FasterXML/jackson-databind/issues/604#issuecomment-62186726","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604","id":62186726,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg2NzI2","user":{"login":"ShawnTuatara","id":326589,"node_id":"MDQ6VXNlcjMyNjU4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/326589?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnTuatara","html_url":"https://github.com/ShawnTuatara","followers_url":"https://api.github.com/users/ShawnTuatara/followers","following_url":"https://api.github.com/users/ShawnTuatara/following{/other_user}","gists_url":"https://api.github.com/users/ShawnTuatara/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnTuatara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnTuatara/subscriptions","organizations_url":"https://api.github.com/users/ShawnTuatara/orgs","repos_url":"https://api.github.com/users/ShawnTuatara/repos","events_url":"https://api.github.com/users/ShawnTuatara/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnTuatara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-07T18:05:38Z","updated_at":"2014-11-07T18:05:38Z","body":"Cross posted to the spring-boot project as that is the component that is creating the ObjectMapper and objects that call the ObjectMapper. Hopefully they can provide some insight into the questions you are asking.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62186726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ShawnTuatara","id":326589,"node_id":"MDQ6VXNlcjMyNjU4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/326589?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnTuatara","html_url":"https://github.com/ShawnTuatara","followers_url":"https://api.github.com/users/ShawnTuatara/followers","following_url":"https://api.github.com/users/ShawnTuatara/following{/other_user}","gists_url":"https://api.github.com/users/ShawnTuatara/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnTuatara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnTuatara/subscriptions","organizations_url":"https://api.github.com/users/ShawnTuatara/orgs","repos_url":"https://api.github.com/users/ShawnTuatara/repos","events_url":"https://api.github.com/users/ShawnTuatara/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnTuatara/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62194952","html_url":"https://github.com/FasterXML/jackson-databind/issues/604#issuecomment-62194952","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604","id":62194952,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTk0OTUy","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-07T19:03:21Z","updated_at":"2014-11-07T19:03:21Z","body":"Thanks! Historically there have been a few cases where high contention has led to finding other root causes, so this is not totally unusual finding. So I hope it turns out to be something simple.\n\nI also think that later versions of Spring started using `canDeserialize()` variant that obtains underlying `Exception`, to give more information on failure. So if you are not using the latest version, make sure to upgrade and/or check list of fixes in later versions.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62194952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62228892","html_url":"https://github.com/FasterXML/jackson-databind/issues/604#issuecomment-62228892","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604","id":62228892,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjI4ODky","user":{"login":"ShawnTuatara","id":326589,"node_id":"MDQ6VXNlcjMyNjU4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/326589?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnTuatara","html_url":"https://github.com/ShawnTuatara","followers_url":"https://api.github.com/users/ShawnTuatara/followers","following_url":"https://api.github.com/users/ShawnTuatara/following{/other_user}","gists_url":"https://api.github.com/users/ShawnTuatara/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnTuatara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnTuatara/subscriptions","organizations_url":"https://api.github.com/users/ShawnTuatara/orgs","repos_url":"https://api.github.com/users/ShawnTuatara/repos","events_url":"https://api.github.com/users/ShawnTuatara/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnTuatara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-07T23:06:35Z","updated_at":"2014-11-07T23:06:35Z","body":"Looks like we resolved the issue in the other thread. It was because I was using a Map and that deserializer isn't cached so it kept calling into that method to check. Now I am curious why the Map deserializer doesn't get cached.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62228892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ShawnTuatara","id":326589,"node_id":"MDQ6VXNlcjMyNjU4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/326589?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnTuatara","html_url":"https://github.com/ShawnTuatara","followers_url":"https://api.github.com/users/ShawnTuatara/followers","following_url":"https://api.github.com/users/ShawnTuatara/following{/other_user}","gists_url":"https://api.github.com/users/ShawnTuatara/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnTuatara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnTuatara/subscriptions","organizations_url":"https://api.github.com/users/ShawnTuatara/orgs","repos_url":"https://api.github.com/users/ShawnTuatara/repos","events_url":"https://api.github.com/users/ShawnTuatara/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnTuatara/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62233834","html_url":"https://github.com/FasterXML/jackson-databind/issues/604#issuecomment-62233834","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604","id":62233834,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjMzODM0","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-08T00:05:55Z","updated_at":"2014-11-08T00:06:31Z","body":"Hmmh. Could be historical thing; assumption being that introspection needed for POJOs is expensive, but one for `Map`s less so. Although over time, cost of handling `Map` types has increased a lot too, so is probably incorrect assumption.\n\nSounds like I should check into caching aspects to ensure that these deserializers (and ones for `Collection`s too) will get cached as well.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62233834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":190242726,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTkwMjQyNzI2","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/190242726","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2014-11-08T00:13:09Z","rename":{"from":"Concurrency issue with DeserializerCache","to":"Concurrency issue with DeserializerCache (due to `Map` deserializers not getting cached)"},"performed_via_github_app":null},{"id":190243009,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE5MDI0MzAwOQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/190243009","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6b9d2c53a6bb301db5b4c88bd4aff5fdcd9553ad","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/6b9d2c53a6bb301db5b4c88bd4aff5fdcd9553ad","created_at":"2014-11-08T00:14:00Z","performed_via_github_app":null},{"id":190243133,"node_id":"MDExOkNsb3NlZEV2ZW50MTkwMjQzMTMz","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/190243133","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"6b9d2c53a6bb301db5b4c88bd4aff5fdcd9553ad","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/6b9d2c53a6bb301db5b4c88bd4aff5fdcd9553ad","created_at":"2014-11-08T00:14:35Z","state_reason":null,"performed_via_github_app":null},{"id":190243134,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5MDI0MzEzNA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/190243134","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2014-11-08T00:14:37Z","milestone":{"title":"2.4.4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62235742","html_url":"https://github.com/FasterXML/jackson-databind/issues/604#issuecomment-62235742","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604","id":62235742,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjM1NzQy","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-08T00:33:08Z","updated_at":"2014-11-08T00:33:08Z","body":"Ok: I changed 2.4 branch so that 2.4.4 should be caching `Map` deserializers. For 2.5 I will probably change baseline so that more deserializers (at least all collection types) are cached.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/62235742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-25T22:24:50Z","updated_at":"2014-11-25T22:24:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/635","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/635/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/635/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/635/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/635","id":50092602,"node_id":"MDU6SXNzdWU1MDA5MjYwMg==","number":635,"title":"Reduce cachability of `Map` deserializers, to avoid problems with per-property config changes","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/25","html_url":"https://github.com/FasterXML/jackson-databind/milestone/25","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/25/labels","id":880542,"node_id":"MDk6TWlsZXN0b25lODgwNTQy","number":25,"title":"2.4.5","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":1,"state":"closed","created_at":"2014-11-25T22:24:55Z","updated_at":"2021-03-04T04:03:16Z","due_on":null,"closed_at":"2021-03-04T04:03:16Z"},"comments":1,"created_at":"2014-11-25T22:23:57Z","updated_at":"2014-11-25T22:25:11Z","closed_at":"2014-11-25T22:25:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-08T13:34:42Z","pushed_at":"2025-11-07T22:16:42Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83232,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":382,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":382,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Looks like there are some problems in extended cachability of `Map` deserializers, related to polymorphic value handling. While it is not exactly clear what triggers this, it seems prudent to prevent caching in cases where values are polymorphic types. In future it may be possible to either fix the cause for conflicts, or reduce need for caching. But for now, let's try to resolve immediate issue seen with JAXB annotations module.\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/635/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-03-26T19:00:00Z","updated_at":"2015-03-26T19:00:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/735","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/735/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/735/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/735/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/735","id":64492416,"node_id":"MDU6SXNzdWU2NDQ5MjQxNg==","number":735,"title":"@JsonDeserialize on Map with contentUsing custom deserializer overwrites default behavior","user":{"login":"joerglaumann","id":11662106,"node_id":"MDQ6VXNlcjExNjYyMTA2","avatar_url":"https://avatars.githubusercontent.com/u/11662106?v=4","gravatar_id":"","url":"https://api.github.com/users/joerglaumann","html_url":"https://github.com/joerglaumann","followers_url":"https://api.github.com/users/joerglaumann/followers","following_url":"https://api.github.com/users/joerglaumann/following{/other_user}","gists_url":"https://api.github.com/users/joerglaumann/gists{/gist_id}","starred_url":"https://api.github.com/users/joerglaumann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joerglaumann/subscriptions","organizations_url":"https://api.github.com/users/joerglaumann/orgs","repos_url":"https://api.github.com/users/joerglaumann/repos","events_url":"https://api.github.com/users/joerglaumann/events{/privacy}","received_events_url":"https://api.github.com/users/joerglaumann/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/30","html_url":"https://github.com/FasterXML/jackson-databind/milestone/30","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/30/labels","id":1041073,"node_id":"MDk6TWlsZXN0b25lMTA0MTA3Mw==","number":30,"title":"2.4.5.1","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":1,"state":"closed","created_at":"2015-03-27T03:06:45Z","updated_at":"2021-03-04T04:03:25Z","due_on":null,"closed_at":"2021-03-04T04:03:25Z"},"comments":7,"created_at":"2015-03-26T10:36:31Z","updated_at":"2015-03-30T05:07:32Z","closed_at":"2015-03-30T05:07:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-08T13:34:42Z","pushed_at":"2025-11-07T22:16:42Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83232,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":382,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":382,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I recently updated from version 2.3.3 to 2.5.1 and encountered a new issue with our custom deserializers. They either seemed to stop working or were active on the wrong fields.\nI could narrow it down to some change in version 2.4.4 (2.4.3 is still working for me)\n\nI wrote a test to show this behavior. It seems to appear when there a two maps with the same key and value types in a bean, and only one of them has a custom deserializer. The deserializer is then falsely used either for both or none of the maps.\n\nThis test works for me in version 2.4.3 and fails with higher versions.\n\n``` java\nimport static org.junit.Assert.assertEquals;\n\nimport java.io.IOException;\nimport java.util.Map;\n\nimport org.junit.Test;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\npublic class DeserializeTest {\n\n    @Test\n    public void testIt() throws Exception {\n        ObjectMapper om = new ObjectMapper();\n        String json = \"{\\\"map1\\\":{\\\"a\\\":1},\\\"map2\\\":{\\\"a\\\":1}}\";\n        TestBean bean = om.readValue(json.getBytes(), TestBean.class);\n\n        assertEquals(100, bean.getMap1().get(\"a\").intValue());\n        assertEquals(1, bean.getMap2().get(\"a\").intValue());\n    }\n\n    public static class TestBean {\n\n        @JsonProperty(\"map1\")\n        @JsonDeserialize(contentUsing = CustomDeserializer.class)\n        Map<String, Integer> map1;\n\n        @JsonProperty(\"map2\")\n        Map<String, Integer> map2;\n\n        public Map<String, Integer> getMap1() {\n            return map1;\n        }\n\n        public void setMap1(Map<String, Integer> map1) {\n            this.map1 = map1;\n        }\n\n        public Map<String, Integer> getMap2() {\n            return map2;\n        }\n\n        public void setMap2(Map<String, Integer> map2) {\n            this.map2 = map2;\n        }\n    }\n\n    public static class CustomDeserializer extends StdDeserializer<Integer> {\n\n        public CustomDeserializer() {\n            super(Integer.class);\n        }\n\n        @Override\n        public Integer deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n            Integer value = p.readValueAs(Integer.class);\n            return value * 100;\n        }\n    }\n}\n```\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/735/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"winitzki","id":2163489,"node_id":"MDQ6VXNlcjIxNjM0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/2163489?v=4","gravatar_id":"","url":"https://api.github.com/users/winitzki","html_url":"https://github.com/winitzki","followers_url":"https://api.github.com/users/winitzki/followers","following_url":"https://api.github.com/users/winitzki/following{/other_user}","gists_url":"https://api.github.com/users/winitzki/gists{/gist_id}","starred_url":"https://api.github.com/users/winitzki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winitzki/subscriptions","organizations_url":"https://api.github.com/users/winitzki/orgs","repos_url":"https://api.github.com/users/winitzki/repos","events_url":"https://api.github.com/users/winitzki/events{/privacy}","received_events_url":"https://api.github.com/users/winitzki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-01T01:13:05Z","updated_at":"2016-10-01T01:13:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1394","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1394/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1394/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1394/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/1394","id":180429894,"node_id":"MDU6SXNzdWUxODA0Mjk4OTQ=","number":1394,"title":"Non-cachable deserializers are still created in a single-threaded way","user":{"login":"winitzki","id":2163489,"node_id":"MDQ6VXNlcjIxNjM0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/2163489?v=4","gravatar_id":"","url":"https://api.github.com/users/winitzki","html_url":"https://github.com/winitzki","followers_url":"https://api.github.com/users/winitzki/followers","following_url":"https://api.github.com/users/winitzki/following{/other_user}","gists_url":"https://api.github.com/users/winitzki/gists{/gist_id}","starred_url":"https://api.github.com/users/winitzki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winitzki/subscriptions","organizations_url":"https://api.github.com/users/winitzki/orgs","repos_url":"https://api.github.com/users/winitzki/repos","events_url":"https://api.github.com/users/winitzki/events{/privacy}","received_events_url":"https://api.github.com/users/winitzki/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2016-10-01T01:13:05Z","updated_at":"2024-12-12T02:19:18Z","closed_at":"2024-12-12T02:19:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-08T13:34:42Z","pushed_at":"2025-11-07T22:16:42Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83232,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":382,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":382,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This is related to issues https://github.com/FasterXML/jackson-databind/issues/735 and https://github.com/FasterXML/jackson-databind/issues/604.\n\nDeserializers are created and cached in `com.fasterxml.jackson.databind.deser.DeserializerCache#_createAndCacheValueDeserializer` within a `synchronized` block. The comment in that file explains that \"Only one thread to construct deserializers at any given point in time; limitations necessary to ensure that only completely initialized ones are visible and used\". In case the deserializer is not cachable, we do not need to lock the cache with the `synchronized` block; we can just create a new deserializer and return it. However, the code still creates a lock and calls `_createAndCache2`, which then checks whether the deserializer is cachable.\n\nSo, for a deserializer that is not cachable, the lock is created even though cache is not being updated, so no locking is needed.\n\nThe result of this is a multithreading lock contention for non-cachable deserializer. In scenarios where many threads are deserializing at once, this contention leads to severe degradation of performance.\n\nThis problem has been mitigated as of version 2.8.x by enabling more deserializers to be cached. However, if serializers are not cached (because they are custom serializers with complicated behavior), performance degradation due to unnecessary locking will still occur.\n\nPerhaps it is possible to rearrange the logic in `DeserializerCache#_createAndCache2` and `DeserializerCache#_createAndCacheValueDeserializer` so that non-cachable deserializers are created without a global lock.\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1394/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1394/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"}]