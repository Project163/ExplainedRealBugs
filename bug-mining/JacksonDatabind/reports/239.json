{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1324","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1324/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1324/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1324/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/1324","id":169575476,"node_id":"MDU6SXNzdWUxNjk1NzU0NzY=","number":1324,"title":"Boolean parsing with `StdDeserializer` is too slow with huge integer value","user":{"login":"pavankumar-parankusam","id":20856713,"node_id":"MDQ6VXNlcjIwODU2NzEz","avatar_url":"https://avatars.githubusercontent.com/u/20856713?v=4","gravatar_id":"","url":"https://api.github.com/users/pavankumar-parankusam","html_url":"https://github.com/pavankumar-parankusam","followers_url":"https://api.github.com/users/pavankumar-parankusam/followers","following_url":"https://api.github.com/users/pavankumar-parankusam/following{/other_user}","gists_url":"https://api.github.com/users/pavankumar-parankusam/gists{/gist_id}","starred_url":"https://api.github.com/users/pavankumar-parankusam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavankumar-parankusam/subscriptions","organizations_url":"https://api.github.com/users/pavankumar-parankusam/orgs","repos_url":"https://api.github.com/users/pavankumar-parankusam/repos","events_url":"https://api.github.com/users/pavankumar-parankusam/events{/privacy}","received_events_url":"https://api.github.com/users/pavankumar-parankusam/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/64","html_url":"https://github.com/FasterXML/jackson-databind/milestone/64","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/64/labels","id":2027761,"node_id":"MDk6TWlsZXN0b25lMjAyNzc2MQ==","number":64,"title":"2.8.4","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8.4","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":9,"state":"closed","created_at":"2016-09-26T06:09:27Z","updated_at":"2021-03-04T04:36:37Z","due_on":"2016-10-14T07:00:00Z","closed_at":"2021-03-04T04:36:37Z"},"comments":6,"created_at":"2016-08-05T10:10:55Z","updated_at":"2016-10-14T03:32:20Z","closed_at":"2016-10-14T03:32:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"JSON Version 2.6.5 and later\n\nWe tried a use case to provide a big chunk of numbers to the boolean value in JSON.\nEg. \n{\n  isRead: 1010101010101010101010101010101010101010101010101010101010101010101 //(big chunk of numbers, length of 97000 digits, truncated for readibility)\n}\n\nThis takes a lot more time to parse isRead value to boolean datatype. \nThe problem is when it tries to determine the JsonParser.getNumberType() in method StdDeserializer._parseBoolean.\n\nThe JsonParser.getNumberType() calls ends up in ParserBase._parseSlowInt where it create a BigInteger object with provided value. This BigInteger creation takes a long time to parse a numbers of length 97000 digits.\n\nThis big integer object is created just to detect the valid number type and it is discarded.\nFor a boolean parsing, can we not be more strict and say the length of the digits should be only 1.\nThen we can avoid all this heavy parsing of value with BigInteger.\n\nAs the parsing takes more than 10 seconds, we end up in Denial of Service situation. \n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1324/timeline","performed_via_github_app":null,"state_reason":"completed"}