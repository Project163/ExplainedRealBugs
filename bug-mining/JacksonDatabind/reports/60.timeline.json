[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/64428167","html_url":"https://github.com/FasterXML/jackson-databind/issues/633#issuecomment-64428167","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/633","id":64428167,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDI4MTY3","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-25T16:31:42Z","updated_at":"2014-11-25T16:31:42Z","body":"Sounds reasonable to me.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/64428167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":198713834,"node_id":"MDExOkNsb3NlZEV2ZW50MTk4NzEzODM0","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/198713834","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"04db8f751e935940efc7d6978da513c8de237fc7","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/04db8f751e935940efc7d6978da513c8de237fc7","created_at":"2014-11-26T04:02:38Z","state_reason":null,"performed_via_github_app":null},{"id":198713840,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5ODcxMzg0MA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/198713840","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2014-11-26T04:02:41Z","milestone":{"title":"2.5.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/64512197","html_url":"https://github.com/FasterXML/jackson-databind/issues/633#issuecomment-64512197","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/633","id":64512197,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTEyMTk3","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-26T04:03:23Z","updated_at":"2014-11-26T04:03:23Z","body":"I made the simplest change, and just removed exception throwing. May be refined in future if there is need, but for now this hopefully suffices.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/64512197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/64774504","html_url":"https://github.com/FasterXML/jackson-databind/issues/633#issuecomment-64774504","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/633","id":64774504,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Nzc0NTA0","user":{"login":"Antibrumm","id":3802537,"node_id":"MDQ6VXNlcjM4MDI1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/3802537?v=4","gravatar_id":"","url":"https://api.github.com/users/Antibrumm","html_url":"https://github.com/Antibrumm","followers_url":"https://api.github.com/users/Antibrumm/followers","following_url":"https://api.github.com/users/Antibrumm/following{/other_user}","gists_url":"https://api.github.com/users/Antibrumm/gists{/gist_id}","starred_url":"https://api.github.com/users/Antibrumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Antibrumm/subscriptions","organizations_url":"https://api.github.com/users/Antibrumm/orgs","repos_url":"https://api.github.com/users/Antibrumm/repos","events_url":"https://api.github.com/users/Antibrumm/events{/privacy}","received_events_url":"https://api.github.com/users/Antibrumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-11-27T10:46:34Z","updated_at":"2014-11-27T10:46:34Z","body":"Perfect. Thanks.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/64774504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Antibrumm","id":3802537,"node_id":"MDQ6VXNlcjM4MDI1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/3802537?v=4","gravatar_id":"","url":"https://api.github.com/users/Antibrumm","html_url":"https://github.com/Antibrumm","followers_url":"https://api.github.com/users/Antibrumm/followers","following_url":"https://api.github.com/users/Antibrumm/following{/other_user}","gists_url":"https://api.github.com/users/Antibrumm/gists{/gist_id}","starred_url":"https://api.github.com/users/Antibrumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Antibrumm/subscriptions","organizations_url":"https://api.github.com/users/Antibrumm/orgs","repos_url":"https://api.github.com/users/Antibrumm/repos","events_url":"https://api.github.com/users/Antibrumm/events{/privacy}","received_events_url":"https://api.github.com/users/Antibrumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71838965","html_url":"https://github.com/FasterXML/jackson-databind/issues/633#issuecomment-71838965","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/633","id":71838965,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODM4OTY1","user":{"login":"Antibrumm","id":3802537,"node_id":"MDQ6VXNlcjM4MDI1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/3802537?v=4","gravatar_id":"","url":"https://api.github.com/users/Antibrumm","html_url":"https://github.com/Antibrumm","followers_url":"https://api.github.com/users/Antibrumm/followers","following_url":"https://api.github.com/users/Antibrumm/following{/other_user}","gists_url":"https://api.github.com/users/Antibrumm/gists{/gist_id}","starred_url":"https://api.github.com/users/Antibrumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Antibrumm/subscriptions","organizations_url":"https://api.github.com/users/Antibrumm/orgs","repos_url":"https://api.github.com/users/Antibrumm/repos","events_url":"https://api.github.com/users/Antibrumm/events{/privacy}","received_events_url":"https://api.github.com/users/Antibrumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T14:03:22Z","updated_at":"2015-01-28T14:03:49Z","body":"I also took a look at this and from what i can tell from your implementation it will still write the result of the TypeIdResolver, just that it might be null.\nIs this as you intended or should a `null` type id not be written at all? \n\nIn the second case you could introduce the OptionalAsPropertyTypeSerializer as a new serializer, if you don't want to adapt all existing ones?\n\nMy current version is very specific in that case that it will only create type information for objects, never for scalars nor for arrays. I post the code anyway and I could work on it to take also the other types into account if you like.\n\n``` java\n    public class OptionalAsPropertyTypeSerializer extends TypeSerializerBase {\n\n        /** The _type property name. */\n        private final String _typePropertyName;\n\n       public OptionalAsPropertyTypeSerializer(final TypeIdResolver idRes, final BeanProperty property,\n            final String propName) {\n            super(idRes, property);\n            if (propName != null) {\n                _typePropertyName = propName;\n            } else {\n                _typePropertyName = \"_class\";\n            }\n        }\n\n        @Override\n        public OptionalAsPropertyTypeSerializer forProperty(final BeanProperty prop) {\n            return (_property == prop) ? this : new OptionalAsPropertyTypeSerializer(this._idResolver, prop,\n                    this._typePropertyName);\n        }\n\n        @Override\n        public String getPropertyName() {\n            return _typePropertyName;\n        }\n\n        @Override\n        public As getTypeInclusion() {\n            return As.PROPERTY;\n        }\n\n        @Override\n        protected String idFromValue(final Object value) {\n            return _idResolver.idFromValue(value);\n        }\n\n        @Override\n        protected String idFromValueAndType(final Object value, final Class<?> type) {\n            return _idResolver.idFromValueAndType(value, type);\n        }\n\n        @Override\n        public void writeCustomTypePrefixForArray(final Object value, final JsonGenerator jgen, final String typeId)\n                throws IOException {\n            jgen.writeStartArray();\n        }\n\n        @Override\n        public void writeCustomTypePrefixForObject(final Object value, final JsonGenerator jgen, final String typeId)\n                throws IOException {\n            jgen.writeStartObject();\n        }\n\n        @Override\n        public void writeCustomTypePrefixForScalar(final Object value, final JsonGenerator jgen, final String typeId)\n                throws IOException {\n        }\n\n        @Override\n        public void writeCustomTypeSuffixForArray(final Object value, final JsonGenerator jgen, final String typeId)\n                throws IOException {\n            if (!jgen.canWriteTypeId()) {\n                writeTypeSuffixForArray(value, jgen); // standard impl works fine\n            }\n        }\n\n        @Override\n        public void writeCustomTypeSuffixForObject(final Object value, final JsonGenerator jgen, final String typeId)\n                throws IOException {\n            if (!jgen.canWriteTypeId()) {\n                writeTypeSuffixForObject(value, jgen); // standard impl works fine\n            }\n        }\n\n        @Override\n        public void writeCustomTypeSuffixForScalar(final Object value, final JsonGenerator jgen, final String typeId)\n                throws IOException {\n            if (!jgen.canWriteTypeId()) {\n                writeTypeSuffixForScalar(value, jgen); // standard impl works fine\n            }\n        }\n\n        @Override\n        public void writeTypePrefixForArray(final Object value, final JsonGenerator jgen) throws IOException {\n            jgen.writeStartArray();\n        }\n\n        @Override\n        public void writeTypePrefixForArray(final Object value, final JsonGenerator jgen, final Class<?> type)\n                throws IOException {\n            jgen.writeStartArray();\n        }\n\n        @Override\n        public void writeTypePrefixForObject(final Object value, final JsonGenerator jgen) throws IOException {\n            final String typeId = idFromValue(value);\n            if (typeId == null) {\n                jgen.writeStartObject();\n            } else if (jgen.canWriteTypeId()) {\n                jgen.writeTypeId(typeId);\n                jgen.writeStartObject();\n            } else {\n                jgen.writeStartObject();\n                jgen.writeStringField(_typePropertyName, typeId);\n            }\n        }\n\n        @Override\n        public void writeTypePrefixForObject(final Object value, final JsonGenerator jgen, final Class<?> type)\n                throws IOException {\n            final String typeId = idFromValueAndType(value, type);\n            if (typeId == null) {\n                jgen.writeStartObject();\n            } else if (jgen.canWriteTypeId()) {\n                jgen.writeTypeId(typeId);\n                jgen.writeStartObject();\n            } else {\n                jgen.writeStartObject();\n                jgen.writeStringField(_typePropertyName, typeId);\n            }\n        }\n\n        @Override\n        public void writeTypePrefixForScalar(final Object value, final JsonGenerator jgen) throws IOException {\n        }\n\n        @Override\n        public void writeTypePrefixForScalar(final Object value, final JsonGenerator jgen, final Class<?> type)\n                throws IOException {\n        }\n\n        @Override\n        public void writeTypeSuffixForArray(final Object value, final JsonGenerator jgen) throws IOException {\n            jgen.writeEndArray();\n        }\n\n        @Override\n        public void writeTypeSuffixForObject(final Object value, final JsonGenerator jgen) throws IOException {\n            jgen.writeEndObject();\n        }\n\n        @Override\n        public void writeTypeSuffixForScalar(final Object value, final JsonGenerator jgen) throws IOException {\n\n        }\n    }\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71838965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Antibrumm","id":3802537,"node_id":"MDQ6VXNlcjM4MDI1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/3802537?v=4","gravatar_id":"","url":"https://api.github.com/users/Antibrumm","html_url":"https://github.com/Antibrumm","followers_url":"https://api.github.com/users/Antibrumm/followers","following_url":"https://api.github.com/users/Antibrumm/following{/other_user}","gists_url":"https://api.github.com/users/Antibrumm/gists{/gist_id}","starred_url":"https://api.github.com/users/Antibrumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Antibrumm/subscriptions","organizations_url":"https://api.github.com/users/Antibrumm/orgs","repos_url":"https://api.github.com/users/Antibrumm/repos","events_url":"https://api.github.com/users/Antibrumm/events{/privacy}","received_events_url":"https://api.github.com/users/Antibrumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71854741","html_url":"https://github.com/FasterXML/jackson-databind/issues/633#issuecomment-71854741","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/633","id":71854741,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODU0NzQx","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-28T15:36:39Z","updated_at":"2015-01-28T15:36:39Z","body":"I see what you mean, and yes, I think you are right. I was not thinking through. I don't think writing of `null` type id makes sense.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71854741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":226146807,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyMjYxNDY4MDc=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/226146807","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2015-01-28T15:36:39Z","state_reason":null,"performed_via_github_app":null},{"id":226565185,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNjU2NTE4NQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/226565185","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"102abfbdfb0ecf90df1b9c49a95fd5221066eb63","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/102abfbdfb0ecf90df1b9c49a95fd5221066eb63","created_at":"2015-01-29T03:03:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71961616","html_url":"https://github.com/FasterXML/jackson-databind/issues/633#issuecomment-71961616","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/633","id":71961616,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTYxNjE2","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T03:06:30Z","updated_at":"2015-01-29T03:06:30Z","body":"I went ahead and retrofitted existing type serializers, since I think it does make sense to omit information if possible. Adding new type id serializers is possible if there is need; thank you for sharing the code.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71961616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71961638","html_url":"https://github.com/FasterXML/jackson-databind/issues/633#issuecomment-71961638","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/633","id":71961638,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTYxNjM4","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-01-29T03:06:50Z","updated_at":"2015-01-29T03:06:50Z","body":"Fix will be in 2.5.1\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/71961638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":226566095,"node_id":"MDExOkNsb3NlZEV2ZW50MjI2NTY2MDk1","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/226566095","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-01-29T03:06:50Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"jonfreedman","id":1092134,"node_id":"MDQ6VXNlcjEwOTIxMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1092134?v=4","gravatar_id":"","url":"https://api.github.com/users/jonfreedman","html_url":"https://github.com/jonfreedman","followers_url":"https://api.github.com/users/jonfreedman/followers","following_url":"https://api.github.com/users/jonfreedman/following{/other_user}","gists_url":"https://api.github.com/users/jonfreedman/gists{/gist_id}","starred_url":"https://api.github.com/users/jonfreedman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonfreedman/subscriptions","organizations_url":"https://api.github.com/users/jonfreedman/orgs","repos_url":"https://api.github.com/users/jonfreedman/repos","events_url":"https://api.github.com/users/jonfreedman/events{/privacy}","received_events_url":"https://api.github.com/users/jonfreedman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-17T16:54:14Z","updated_at":"2019-12-17T16:54:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/584","repository_url":"https://api.github.com/repos/FasterXML/jackson-core","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/584/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/584/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/584/events","html_url":"https://github.com/FasterXML/jackson-core/issues/584","id":539191147,"node_id":"MDU6SXNzdWU1MzkxOTExNDc=","number":584,"title":"JsonGenerator#writeTypePrefix writes an id \"null\" and cannot be set up to skip the id completely","user":{"login":"jonfreedman","id":1092134,"node_id":"MDQ6VXNlcjEwOTIxMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1092134?v=4","gravatar_id":"","url":"https://api.github.com/users/jonfreedman","html_url":"https://github.com/jonfreedman","followers_url":"https://api.github.com/users/jonfreedman/followers","following_url":"https://api.github.com/users/jonfreedman/following{/other_user}","gists_url":"https://api.github.com/users/jonfreedman/gists{/gist_id}","starred_url":"https://api.github.com/users/jonfreedman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonfreedman/subscriptions","organizations_url":"https://api.github.com/users/jonfreedman/orgs","repos_url":"https://api.github.com/users/jonfreedman/repos","events_url":"https://api.github.com/users/jonfreedman/events{/privacy}","received_events_url":"https://api.github.com/users/jonfreedman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2019-12-17T16:54:14Z","updated_at":"2022-01-17T18:15:31Z","closed_at":"2022-01-17T18:15:31Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3037907,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM3OTA3","name":"jackson-core","full_name":"FasterXML/jackson-core","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-core","description":"Core part of Jackson that defines Streaming API as well as basic shared abstractions","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-core","forks_url":"https://api.github.com/repos/FasterXML/jackson-core/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-core/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-core/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-core/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-core/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-core/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-core/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-core/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-core/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-core/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-core/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-core/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-core/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-core/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-core/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-core/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-core/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-core/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-core/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-core/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-core/deployments","created_at":"2011-12-23T02:00:51Z","updated_at":"2025-11-08T23:31:36Z","pushed_at":"2025-11-07T22:08:31Z","git_url":"git://github.com/FasterXML/jackson-core.git","ssh_url":"git@github.com:FasterXML/jackson-core.git","clone_url":"https://github.com/FasterXML/jackson-core.git","svn_url":"https://github.com/FasterXML/jackson-core","homepage":"","size":27088,"stargazers_count":2332,"watchers_count":2332,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":820,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":27,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","json"],"visibility":"public","forks":820,"open_issues":27,"watchers":2332,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I have a `TypeIdResolver` implementation which works around generic type erasure to allow marshaling/unmarshaling of a parameterized type.  This works fine when the underlying parameterized type maps directly onto a JSON type e.g. `java.lang.Double` but when it's a type that needs to be converted to a JSON string e.g. `java.time.LocalDate` then my `TypeIdResolver` is asked for a type and I can either return the String \"java.time.LocalDate\" or a null value.\r\n\r\nIf I return a null then `TypeSerializerBase#handleMissingId` currently does nothing as per https://github.com/FasterXML/jackson-databind/issues/633 but it looks like the control of how to write the typeId is now handed off to `JsonGenerator#writeTypePrefix` @ https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/JsonGenerator.java#L1061\r\n\r\nIt would be great if writeTypePrefix  did nothign if `typeIdDef.id` is null - I don't want to monkey-patch this unless it's going to make it into master...","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/584/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]