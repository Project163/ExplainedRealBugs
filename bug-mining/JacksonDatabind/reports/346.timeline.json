[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/310487103","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-310487103","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":310487103,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDQ4NzEwMw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T20:02:47Z","updated_at":"2017-06-22T20:02:47Z","body":"I am not sure I know what \"templated\" class here means.\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/310487103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311460828","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-311460828","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":311460828,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQ2MDgyOA==","user":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T19:30:33Z","updated_at":"2017-06-27T19:30:33Z","body":"@cowtowncoder I meant any generic class or interface that is parameterized over types. More specifically, my problem occurs on instances of classes/interfaces whos GenericType is abstract\r\nexample myGenericClass<AbstractComponentClass> {}\r\nor List<AnyAbstractClass>","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311460828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1141154375,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE0MTE1NDM3NQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1141154375","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-06-27T19:30:33Z","performed_via_github_app":null},{"id":1141154376,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNDExNTQzNzY=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1141154376","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-06-27T19:30:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311462802","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-311462802","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":311462802,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQ2MjgwMg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T19:38:23Z","updated_at":"2017-06-27T19:38:23Z","body":"@pwhissell Ok.\r\n\r\nI guess I am not quite sure what is being asked then. If this is about ability to handle nested generic type information, answer is likely \"no, this goes beyond what Jackson can do\".\r\n\r\nExample itself seems something that should already work, so I am probably missing something: `AbstractItemDto` is declared to be polymorphic, so all elements within `List` that contains them will have type information.\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311462802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1141166215,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE0MTE2NjIxNQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1141166215","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-06-27T19:38:23Z","performed_via_github_app":null},{"id":1141166216,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNDExNjYyMTY=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1141166216","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-06-27T19:38:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311506413","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-311506413","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":311506413,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUwNjQxMw==","user":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T22:41:13Z","updated_at":"2017-06-27T22:48:08Z","body":"Given the example \r\nI have a list of item's who's classes are part of a polymorphic hierarchy \r\n```\r\nList<AbstractItemDto> items = new ArrayList<>();\r\nitems.add(new ItemADto());\r\nitems.add(new ItemBDto());\r\n```\r\nWhen I serialize this list, \r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nString itemsJson = mapper.writeValueAsString(items);\r\n```\r\nthen the type information concerning ItemADto and ItemBDto are not serialized and therefor lost.\r\n```\r\n/* \r\nitemsJson == \r\n\"[\r\n    {},\r\n    {}\r\n]\"\r\n*/\r\n```\r\n\r\nSince AbstractItemDto specifies the usage of a \"type\" attribute for JsonTypeInfo\r\n```@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.PROPERTY, property = \"type\") ```\r\n\r\nI would expect the serialized string to contain the \"type\" attribute necessary for the list's deserialization\r\n```\r\n/* \r\nitemsJson == \r\n\"[\r\n    {type: \"ItemADto\"},\r\n    {type: \"ItemBDto\"}\r\n]\"\r\n*/\r\n```\r\n\r\nthis would allow me to effectively deserialise itemsJson into a list containing one instance of ItemADto  and one instance of ItemBDto ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311506413/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1141434257,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTE0MTQzNDI1Nw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1141434257","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2017-06-27T22:43:11Z","rename":{"from":"Serialising templated whos component class uses @JsonTypeInfo for its class hiarchy","to":"Serialising Generic Classes whos parameterized class is polymorphic and uses @JsonTypeInfo for its class hierarchy"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311718653","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-311718653","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":311718653,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTcxODY1Mw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T16:44:28Z","updated_at":"2017-06-28T16:44:28Z","body":"@pwhissell Ah. No, it's not because this is not supported, but due to Java Type Erasure. This is a FAQ.\r\n(type erasure meaning that runtime type can not be detected as anything but `List<?>`)\r\n\r\nMy main suggestion is really to avoid ever using generic types as root value (that is, value directly passed to ObjectMapper/ObjectWriter). They are fine everywhere else, when reached via property, since generic signature is actually retained in class definition, and thereby accessible.\r\n\r\nInstead, either:\r\n\r\n1. Use temporary sub-class that binds type parameters (like `class MyList extends ArrayList<Pojo> { }`\r\n2. Use wrapper POJO that has generic type.\r\n\r\nBut if you really really want to use `List`s, `Map`s or generic POJOs as root values, you need to pass type parameter to work around type erasure:\r\n\r\n```java\r\nmapper.writerFor(new TypeReference<List<AbstractDTO.>>() { })\r\n    .writeValueAsBytes(value);\r\n```\r\n\r\nAs things are, there may be issues here too, unfortunately, as this forces type for serializer to use `AbstractDTO`, and not just as base type. This may or may be a problem, depending on exactly where properties for subtypes exist.\r\nThere is a filed issue to allow specifying just the base type (distinct from full value types), but it has not been implemented.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/311718653/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1142732906,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE0MjczMjkwNg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1142732906","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-06-28T16:44:28Z","performed_via_github_app":null},{"id":1142732907,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNDI3MzI5MDc=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1142732907","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-06-28T16:44:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/313382413","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-313382413","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":313382413,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzM4MjQxMw==","user":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-06T12:31:05Z","updated_at":"2017-07-06T12:31:05Z","body":"@cowtowncoder thank you for your detailed answer.\r\nI understand that type erasure is the fact that the java compiler removes all metadata pertaining to Genericness of a class. In effect the generic parameters are replaced with their bound classes which is, by default Object.class. \r\nSo if I have an instance of a generic class:\r\n```\r\npublic MyGenericClass<T> {\r\n    public T genericProperty;\r\n    ...\r\n}\r\n\r\npublic MyParameterClass {\r\n    ...\r\n}\r\n\r\nMyGenericClass<MyParameterClass> myGenericClassInstance = new MyGenericClass<MyParameterClass>();\r\nmyGenericClassInstance.genericProperty = new MyParameterClass();\r\n```\r\nBecause of type erasure, the code rather looks something like this after compilation:\r\n\r\n```\r\npublic MyGenericClass {\r\n    public Object genericProperty;\r\n    ...\r\n}\r\n\r\npublic MyParameterClass {\r\n    ...\r\n}\r\n\r\nMyGenericClass myGenericClassInstance = new MyGenericClass();\r\n```\r\nThis is why there is no way to use reflection with `MyGenericClass` to find the parameter class of `myGenericClassInstance`\r\n\r\n```\r\nParameterizedType parameterizedType = (ParameterizedType)myGenericClassInstance.getClass().getGenericSuperclass();\r\nparameterizedType.getActualTypeArguments()[0]; // returns the Bound class (in this example it would be java.lang.Object)\r\n```\r\n\r\nThat being said, the instance of the property which's type is parameterized (in my case `genericProperty`) still has metadata pertaining to its own class. And so i could use reflection on that particular instance to get the information I need on the class.\r\n\r\n```\r\nfor (Field field : myGenericClassInstance.getClass().getFields()) {\r\n\tfield.get(myGenericClassInstance).getClass();// this would return the actual Class for the property instance. In this example MyParameterClass\r\n}\r\n```\r\n\r\nThis is true for any generic class including ```List``` s which can be iterated over to get the information of each object inside. Using my List example from my previous posts one could do something like:\r\n```\r\nfor (Object parameterizedObject : items) {\r\nitems.getClass()// this would return ItemADto.class and ItemBDto.class for my list example\r\n// from these classes you can get the superclass information therefore the annotations needed for Jackson's JsonTypeInfo\r\n}\r\n```\r\n\r\nAll that being said, would it be possible for jackson to implement such logic in a future version?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/313382413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1152627095,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE1MjYyNzA5NQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1152627095","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-07-06T12:31:05Z","performed_via_github_app":null},{"id":1152627097,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNTI2MjcwOTc=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1152627097","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-07-06T12:31:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314530588","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-314530588","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":314530588,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDUzMDU4OA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-11T18:23:47Z","updated_at":"2017-07-11T18:23:47Z","body":"@pwhissell Jackson does indeed resolve any and all generic type information that is retained by field, method, super-type declarations.\r\n\r\nBut this is not where the problem occurs: rather, your `List` does not retain type information. And since Jackson does require homogenous base type (for purpose of generic type handling for elements), this is problematic. It is also a fundamental part of how serialization/deserialization works, and will not be changed (to, for example, try to determine specific polymorphic handling for each and every element -- polymorphoc type handler is created once for the whole `Collection`/array/`Map`).\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314530588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1159341111,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE1OTM0MTExMQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1159341111","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-07-11T18:23:47Z","performed_via_github_app":null},{"id":1159341112,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNTkzNDExMTI=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1159341112","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-07-11T18:23:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314562095","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-314562095","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":314562095,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDU2MjA5NQ==","user":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-11T20:29:24Z","updated_at":"2017-07-11T20:29:24Z","body":"@cowtowncoder I hadn't realized how the problem only occurs in lists and other iterables, this actually fixes half of my problem.\r\n\r\nWhat are the reasons for which the polymorphic type handler is only defined once for ```Collention/Array/Map/etc.``` instead of each underliing instance? Is it done for performance reasons?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314562095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1159540456,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE1OTU0MDQ1Ng==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1159540456","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-07-11T20:29:24Z","performed_via_github_app":null},{"id":1159540457,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNTk1NDA0NTc=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1159540457","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-07-11T20:29:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314644030","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-314644030","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":314644030,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDY0NDAzMA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-12T04:55:31Z","updated_at":"2017-07-12T04:55:31Z","body":"@pwhissell It's due to multiple reasons, including performance but not as the main reason.\r\nI think biggest thing was that common base type really must be known for deserialization and so while it'd be possible for it to vary (or, rather, that no such concept exists) for serialization, things would not work for deserialization when using type name (it would work with class name as type id -- except for \"minimal\" class); or that definitions could be inconsistent. It just really seemed like proper handling would rely on commonly determined base type (design for polymorphic types took rather long, for Jackson 1.5, but it has been a while and I did not write down reasons -- I'd probably bump into problems I solved back then if I tried to change handling).\r\n\r\nCome to think of this through again, I think a real show-stopper would be that there really is no way to reliably figure out polymorphic type handling (`@JsonTypeInfo`) without starting from some base type. Looking solely at JSON content does not give reliable information -- after all, any and all JSON content, structures, are legal representation of some Java types -- considering that inclusion can be using wrapper array, wrapper object, property of an Object, or even property of parent object.\r\n\r\nSo I am actually not sure how polymorphic deserialization could be implemented on per-element basis without mandating either additional metadata, or limitation on kinds of type ids that were allowed for `Collection`, array and `Map` values.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314644030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1160000333,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE2MDAwMDMzMw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1160000333","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-07-12T04:55:31Z","performed_via_github_app":null},{"id":1160000335,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNjAwMDAzMzU=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1160000335","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-07-12T04:55:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314821510","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-314821510","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":314821510,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDgyMTUxMA==","user":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-12T16:20:55Z","updated_at":"2017-07-12T16:20:55Z","body":"@cowtowncoder You are absolutely right with a JSON string there is no way of knowing what Type is represented by the JSON object. However is limitation stil applies when polymorphism isn't in play. I'm not sure what the implementation is but deserializing already works with jackson out of the box for example, if I wrap my earlier polymorphic list in a Foo class like so\r\n```\r\npublic class Foo {\r\n    public List<AbstractItemDto> itemList();\r\n\r\n    public Foo() {\r\n         list.add(new ItemADto());\r\n         list.add(new ItemBDto());\r\n    }\r\n}\r\n```\r\nand I force the definition of the type attribute in my earlier classes like so in order to work around the serialisation problem:\r\n```\r\npublic class ItemADto {\r\n    public String type = \"ItemADto\";\r\n...\r\n}\r\n\r\npublic class ItemBDto {\r\n    public String type = \"ItemBDto\";\r\n...\r\n}\r\n```\r\n\r\nthen deserialization with jackson works out of the box:\r\n\r\n```\r\nFoo initialFoo = new Foo();\r\nFoo deserializedFoo = null;\r\n\r\nObjectMapper objMapper = new ObjectMapper();\r\nString json = objMapper.writeValueAsString(initialFoo);\r\n\r\ndeserializedFoo = objMapper.readValue(json, Foo.class); // works well\r\n```\r\nAs for Lists that aren't wrapped in an object, we could use jackson's overloaded implementation of objMapper.readValue and specify a type argument for the destination class like so:\r\n\r\n```\r\nObjectMapper objMapper = new ObjectMapper();\r\nString jsonList = objMapper.writeValueAsString(items);\r\n\r\nCollectionType destinationType = mapper.getTypeFactory().constructCollectionType(List.class, AbstractItemDto.class);\r\nList<MyDto> deserializedItems = mapper.readValue(jsonList, destinationType); // works well\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314821510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pwhissell","id":2479197,"node_id":"MDQ6VXNlcjI0NzkxOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2479197?v=4","gravatar_id":"","url":"https://api.github.com/users/pwhissell","html_url":"https://github.com/pwhissell","followers_url":"https://api.github.com/users/pwhissell/followers","following_url":"https://api.github.com/users/pwhissell/following{/other_user}","gists_url":"https://api.github.com/users/pwhissell/gists{/gist_id}","starred_url":"https://api.github.com/users/pwhissell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwhissell/subscriptions","organizations_url":"https://api.github.com/users/pwhissell/orgs","repos_url":"https://api.github.com/users/pwhissell/repos","events_url":"https://api.github.com/users/pwhissell/events{/privacy}","received_events_url":"https://api.github.com/users/pwhissell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1161054184,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE2MTA1NDE4NA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1161054184","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-07-12T16:20:55Z","performed_via_github_app":null},{"id":1161054185,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNjEwNTQxODU=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1161054185","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-07-12T16:20:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314841340","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-314841340","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":314841340,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDg0MTM0MA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-12T17:33:47Z","updated_at":"2017-07-12T17:33:47Z","body":"I am not sure why you think this is against what I am saying -- your _root value_ is NOT generic type.\r\nIt is perfectly fine to use generics that are reached via properties, since generic type info is retained.\r\nIt is only problematic for root value where `Class` is only info available, unless caller explicitly specifies type.\r\n\r\nAnd specifying type does work as you suggested as long as you use it ALSO for serialization -- this is where base type comes into play. Deserialization side is fine.\r\nFor serialization it is necessary to use `ObjectWriter` methods:\r\n\r\n    mapper.writerFor(typeToUse).writeValue(destination, value);\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/314841340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/338724945","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-338724945","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":338724945,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODcyNDk0NQ==","user":{"login":"brharrington","id":1289028,"node_id":"MDQ6VXNlcjEyODkwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1289028?v=4","gravatar_id":"","url":"https://api.github.com/users/brharrington","html_url":"https://github.com/brharrington","followers_url":"https://api.github.com/users/brharrington/followers","following_url":"https://api.github.com/users/brharrington/following{/other_user}","gists_url":"https://api.github.com/users/brharrington/gists{/gist_id}","starred_url":"https://api.github.com/users/brharrington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brharrington/subscriptions","organizations_url":"https://api.github.com/users/brharrington/orgs","repos_url":"https://api.github.com/users/brharrington/repos","events_url":"https://api.github.com/users/brharrington/events{/privacy}","received_events_url":"https://api.github.com/users/brharrington/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T16:55:35Z","updated_at":"2017-10-23T16:55:35Z","body":"> It is perfectly fine to use generics that are reached via properties, since generic type info is retained.\r\n\r\nDoes it matter how many levels it goes down? For example, if a non generic type has a field that is an AtomicReference to a List of a polymorphic type. Currently that case does not work with 2.9 (https://github.com/FasterXML/jackson-module-scala/issues/346#issuecomment-336648400).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/338724945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brharrington","id":1289028,"node_id":"MDQ6VXNlcjEyODkwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1289028?v=4","gravatar_id":"","url":"https://api.github.com/users/brharrington","html_url":"https://github.com/brharrington","followers_url":"https://api.github.com/users/brharrington/followers","following_url":"https://api.github.com/users/brharrington/following{/other_user}","gists_url":"https://api.github.com/users/brharrington/gists{/gist_id}","starred_url":"https://api.github.com/users/brharrington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brharrington/subscriptions","organizations_url":"https://api.github.com/users/brharrington/orgs","repos_url":"https://api.github.com/users/brharrington/repos","events_url":"https://api.github.com/users/brharrington/events{/privacy}","received_events_url":"https://api.github.com/users/brharrington/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/338744640","html_url":"https://github.com/FasterXML/jackson-databind/issues/1673#issuecomment-338744640","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1673","id":338744640,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODc0NDY0MA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-23T17:59:33Z","updated_at":"2017-10-23T17:59:33Z","body":"@brharrington Hmmh. I can not actually answer that definitely: nesting of types would work fine for, say, parameterized elements of a `Collection` or `AtomicReference`. But it is possible that nesting of types like `Collection` and `AtomicReference`, both of which require more elaborate handling, can cause complications.\r\n\r\nI think I'd need to see specific case, with Java reproduction. Scala module, further, has its own issues that could be problematic.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/338744640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}}]