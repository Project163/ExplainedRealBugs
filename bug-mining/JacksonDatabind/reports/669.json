{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3938","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3938/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3938/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3938/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/3938","id":1716325964,"node_id":"I_kwDOAC5e2c5mTQ5M","number":3938,"title":"Record setter not included from interface (2.15 regression)","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2711043529,"node_id":"MDU6TGFiZWwyNzExMDQzNTI5","url":"https://api.github.com/repos/FasterXML/jackson-databind/labels/Record","name":"Record","color":"D4C5F9","default":false,"description":"Issue related to JDK17 java.lang.Record support"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/154","html_url":"https://github.com/FasterXML/jackson-databind/milestone/154","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/154/labels","id":9414144,"node_id":"MI_kwDOAC5e2c4Aj6YA","number":154,"title":"2.15.2","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":2,"state":"closed","created_at":"2023-05-18T23:39:24Z","updated_at":"2025-10-30T23:29:36Z","due_on":null,"closed_at":"2025-10-30T23:29:36Z"},"comments":3,"created_at":"2023-05-18T22:05:21Z","updated_at":"2023-05-18T23:48:29Z","closed_at":"2023-05-18T23:48:29Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"A technique used to handle \"unknown\" properties of Records, wherein something like this is done:\r\n\r\n```\r\ninterface NoOptionsCommand {\r\n  @JsonProperty(\"options\")\r\n  default void setOptions(JsonNode value) {\r\n    if (value.isNull()) {\r\n       return;\r\n    }\r\n    throw new IllegalArgumentException(\"Non-null 'options' not allowed for \"+getClass().getName());\r\n  }\r\n}\r\n\r\n\r\npublic record FindOneCommand(int id, String filter)\r\n    implements NoOptionsCommand {\r\n}\r\n```\r\n\r\nworks with Jackson 2.14, but started failing with 2.15. It looks like \"options\" is sort of recognized as failure message lists it as known property, but setter is not used or called.\r\n\r\n**EDIT**: actually, the real thing is that buffering is needed: above type is fine, but content MUST not include both `id` and `filter` properties.\r\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3938/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3938/timeline","performed_via_github_app":null,"state_reason":"completed"}