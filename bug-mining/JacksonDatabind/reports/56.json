{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/604","id":48037649,"node_id":"MDU6SXNzdWU0ODAzNzY0OQ==","number":604,"title":"Concurrency issue with DeserializerCache (due to `Map` deserializers not getting cached)","user":{"login":"ShawnTuatara","id":326589,"node_id":"MDQ6VXNlcjMyNjU4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/326589?v=4","gravatar_id":"","url":"https://api.github.com/users/ShawnTuatara","html_url":"https://github.com/ShawnTuatara","followers_url":"https://api.github.com/users/ShawnTuatara/followers","following_url":"https://api.github.com/users/ShawnTuatara/following{/other_user}","gists_url":"https://api.github.com/users/ShawnTuatara/gists{/gist_id}","starred_url":"https://api.github.com/users/ShawnTuatara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShawnTuatara/subscriptions","organizations_url":"https://api.github.com/users/ShawnTuatara/orgs","repos_url":"https://api.github.com/users/ShawnTuatara/repos","events_url":"https://api.github.com/users/ShawnTuatara/events{/privacy}","received_events_url":"https://api.github.com/users/ShawnTuatara/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/23","html_url":"https://github.com/FasterXML/jackson-databind/milestone/23","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/23/labels","id":844648,"node_id":"MDk6TWlsZXN0b25lODQ0NjQ4","number":23,"title":"2.4.4","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":4,"state":"closed","created_at":"2014-10-29T03:33:01Z","updated_at":"2021-03-04T04:03:07Z","due_on":null,"closed_at":"2021-03-04T04:03:07Z"},"comments":6,"created_at":"2014-11-07T01:31:57Z","updated_at":"2014-11-08T00:33:08Z","closed_at":"2014-11-08T00:14:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Running some load tests on a Spring Boot based service whereby I am trying to reach 2000 requests per second. The service was responding fine up to 1000 rps but now trying to push 2000 is causing issues. Reviewing the code path with AppDynamics the thread is getting stuck in the DeserializerCache._createAndCacheValueDeserializer() method.\n\n![jackson-synchronization-issue](https://cloud.githubusercontent.com/assets/326589/4947061/8822eda8-661d-11e4-8ef5-939162d7c58e.png)\n\nI have multiple stack traces that show the same method having over 200ms execution time on that method. Reviewing some of the old (2012) mailing lists posts shows that there was some issues around this but nothing concrete to fix / get around the issue. This is using the latest 2.4.3 version of jackson-databind.\n\nAnyone able to provide recommendations on how to resolve this issue?\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/604/timeline","performed_via_github_app":null,"state_reason":"completed"}