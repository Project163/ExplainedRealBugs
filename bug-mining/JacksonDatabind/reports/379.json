{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2015","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2015/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2015/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2015/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/2015","id":318794931,"node_id":"MDU6SXNzdWUzMTg3OTQ5MzE=","number":2015,"title":"`@Jsonsetter with Nulls.SKIP` collides with `DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL` when parsing enum","user":{"login":"ndori","id":7961651,"node_id":"MDQ6VXNlcjc5NjE2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7961651?v=4","gravatar_id":"","url":"https://api.github.com/users/ndori","html_url":"https://github.com/ndori","followers_url":"https://api.github.com/users/ndori/followers","following_url":"https://api.github.com/users/ndori/following{/other_user}","gists_url":"https://api.github.com/users/ndori/gists{/gist_id}","starred_url":"https://api.github.com/users/ndori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ndori/subscriptions","organizations_url":"https://api.github.com/users/ndori/orgs","repos_url":"https://api.github.com/users/ndori/repos","events_url":"https://api.github.com/users/ndori/events{/privacy}","received_events_url":"https://api.github.com/users/ndori/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/92","html_url":"https://github.com/FasterXML/jackson-databind/milestone/92","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/92/labels","id":3246804,"node_id":"MDk6TWlsZXN0b25lMzI0NjgwNA==","number":92,"title":"2.9.6","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.6","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":23,"state":"closed","created_at":"2018-04-06T03:10:15Z","updated_at":"2021-03-04T04:11:20Z","due_on":"2018-06-12T07:00:00Z","closed_at":"2021-03-04T04:11:20Z"},"comments":1,"created_at":"2018-04-30T06:16:38Z","updated_at":"2018-05-05T19:43:39Z","closed_at":"2018-05-05T19:43:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi, I've noticed a behavior I think should be different with\r\n@jsonsetter(value = \"foo\", nulls = Nulls.SKIP)\r\nprivate String foo;\r\nand with .configure(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL, true)\r\n\r\nin that case, I would expect that if there is an unknown enum the setter will skip the null set, as I told him I don't want you to set null.\r\n\r\nbut what is probably happening is that it sees a value which is not null so it tries to set it, then when it can't set it, it becomes null.\r\n\r\nI realize that it will be probably hard to fix, but on the other hand, the whole point of the nulls attribute is to do something else with nulls...\r\n\r\ntest case:\r\n\r\n\r\n```\r\n    public enum NUMS{\r\n        ONE, TWO\r\n    }\r\n\r\n    public static class Pojo {\r\n        @JsonSetter(value = \"number\", nulls = Nulls.SKIP)\r\n        NUMS number = NUMS.TWO;\r\n    }\r\n    public void foo() {\r\n        ObjectMapper parser = new ObjectMapper();\r\n        parser.configure(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL, true);\r\n\r\n        String json = \"{\\\"number\\\":\\\"THREE\\\"}\";\r\n\r\n        try {\r\n            Pojo p = parser.readValue(json, Pojo.class);\r\n            //p.number == null , should be TWO\r\n        } catch (IOException e) { }\r\n    }\r\n```","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2015/timeline","performed_via_github_app":null,"state_reason":"completed"}