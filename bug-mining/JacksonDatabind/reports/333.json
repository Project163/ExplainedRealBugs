{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1842","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1842/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1842/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1842/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/1842","id":277284743,"node_id":"MDU6SXNzdWUyNzcyODQ3NDM=","number":1842,"title":"`null` String for `Exception`s deserialized as String \"null\" instead of `null`","user":{"login":"ZeleniJure","id":8946847,"node_id":"MDQ6VXNlcjg5NDY4NDc=","avatar_url":"https://avatars.githubusercontent.com/u/8946847?v=4","gravatar_id":"","url":"https://api.github.com/users/ZeleniJure","html_url":"https://github.com/ZeleniJure","followers_url":"https://api.github.com/users/ZeleniJure/followers","following_url":"https://api.github.com/users/ZeleniJure/following{/other_user}","gists_url":"https://api.github.com/users/ZeleniJure/gists{/gist_id}","starred_url":"https://api.github.com/users/ZeleniJure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZeleniJure/subscriptions","organizations_url":"https://api.github.com/users/ZeleniJure/orgs","repos_url":"https://api.github.com/users/ZeleniJure/repos","events_url":"https://api.github.com/users/ZeleniJure/events{/privacy}","received_events_url":"https://api.github.com/users/ZeleniJure/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/86","html_url":"https://github.com/FasterXML/jackson-databind/milestone/86","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/86/labels","id":2849363,"node_id":"MDk6TWlsZXN0b25lMjg0OTM2Mw==","number":86,"title":"2.9.3","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.3","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":9,"state":"closed","created_at":"2017-10-19T00:13:37Z","updated_at":"2021-03-04T04:48:06Z","due_on":"2017-12-09T08:00:00Z","closed_at":"2021-03-04T04:48:06Z"},"comments":5,"created_at":"2017-11-28T07:31:44Z","updated_at":"2019-11-05T19:17:01Z","closed_at":"2017-11-30T06:03:22Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi!\r\nI have been trying to solve this problem for over a day now, and what research I did showed that this should work, but it does not in my case, e.g. default behaviour should deserialize null objects to null objects, right?\r\n\r\nThe problem is that while serialization of string object properties with null value is fine, the deserialization is not.\r\n\r\nWhat I want is, if string property value\r\n\r\n- is \"null\" -> deserialize to string \"null\"\r\n- is null -> deserialize to null object\r\n- is \"\" -> deserialize to empty string (\"\")\r\n- is \"ladida\" -> deserialize to string \"ladida\"\r\n\r\nExample code to reproduce the error:\r\n```\r\n        final ObjectMapper mapper = new ObjectMapper();\r\n        // so that the error is visible at the beginning of the output :)\r\n        mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);\r\n        final NullPointerException ex = new NullPointerException();\r\n        String json;\r\n        try {\r\n            json = mapper.writeValueAsString(ex);\r\n            System.out.println(\"OK\\t-> \" + json);\r\n            final NullPointerException parsed = mapper.readValue(json, NullPointerException.class);\r\n            json = mapper.writeValueAsString(parsed);\r\n            System.out.println(\"Not OK\\t<- \" + json);\r\n        } catch (final IOException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n```\r\n\r\nOutput:\r\nSee 'localizedMessage' and 'message' strings in serialized and deserialized output. Serialization is OK (null), deserialized is not ok (string containing \"null\")\r\n```\r\nOK\t-> {\"cause\":null,\"localizedMessage\":null,\"message\":null,\"stackTrace\":[{\"className\":\"com.cosylab.tcs.commons.communication.model.Test\",\"fileName\":\"Test.java\",\"lineNumber\":87,\"methodName\":\"main\",\"nativeMethod\":false}],\"suppressed\":[]}\r\nNot OK\t<- {\"cause\":null,\"localizedMessage\":\"null\",\"message\":\"null\",\"stackTrace\":[{\"className\":\"com.cosylab.tcs.commons.communication.model.Test\",\"fileName\":\"Test.java\",\"lineNumber\":87,\"methodName\":\"main\",\"nativeMethod\":false}],\"suppressed\":[]}\r\n```\r\n\r\nVersion: 2.9.1\r\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1842/timeline","performed_via_github_app":null,"state_reason":"completed"}