{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2534","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2534/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2534/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2534/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/2534","id":518975497,"node_id":"MDU6SXNzdWU1MTg5NzU0OTc=","number":2534,"title":"Add `BasicPolymorphicTypeValidator.Builder.allowIfSubTypeIsArray()`","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-11-07T00:54:43Z","updated_at":"2019-11-07T01:14:46Z","closed_at":"2019-11-07T01:14:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"(follow up to #2532)\r\n\r\nSince Java array types are real non-generic types, distinct from type of elements contained, there is a use case where one might want to accept all Array-valued subtypes, regardless of elements contained. This does not actually allow all possible element values within since polymorphic type handling should be applied separately to values themselves (and as far as I can tell, is the case for all standard `DefaultTyping` cases, and annotation-based approach as well).\r\n\r\nTo support this, let's add `allowIfSubTypeIsArray()` in `Builder` of `BasicPolymorphicTypeValidator`: it will still need to be explicitly enabled (to avoid any possibility of otherwise leaking gadget types in case developer has managed to implement custom inclusion criteria), but is simple addition for cases where Array values are stored as polymorphic values.\r\n\r\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2534/timeline","performed_via_github_app":null,"state_reason":"completed"}