[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/300989688","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-300989688","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":300989688,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDk4OTY4OA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-12T05:49:33Z","updated_at":"2017-05-12T05:49:33Z","body":"Could you please provide piece of sample code to show exactly what you are doing, so I can reproduce the issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/300989688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/301369685","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-301369685","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":301369685,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM2OTY4NQ==","user":{"login":"simon998yang","id":18102688,"node_id":"MDQ6VXNlcjE4MTAyNjg4","avatar_url":"https://avatars.githubusercontent.com/u/18102688?v=4","gravatar_id":"","url":"https://api.github.com/users/simon998yang","html_url":"https://github.com/simon998yang","followers_url":"https://api.github.com/users/simon998yang/followers","following_url":"https://api.github.com/users/simon998yang/following{/other_user}","gists_url":"https://api.github.com/users/simon998yang/gists{/gist_id}","starred_url":"https://api.github.com/users/simon998yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simon998yang/subscriptions","organizations_url":"https://api.github.com/users/simon998yang/orgs","repos_url":"https://api.github.com/users/simon998yang/repos","events_url":"https://api.github.com/users/simon998yang/events{/privacy}","received_events_url":"https://api.github.com/users/simon998yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T03:44:33Z","updated_at":"2017-05-15T03:44:33Z","body":"Thanks cowtowncoder for your response. \r\n\r\nHashMap variables = new HashMap();\r\n    List list = new ArrayList();\r\n    list.add(\"a\");\r\n    variables.put(\"list\", list);\r\n    objectMapper.readerForUpdating(variables).readValue(\"{\\\"list\\\":[\\\"b\\\"]}\");\r\n    list = (List) variables.get(\"list\");\r\n\r\nI expect list = [\"b\"], but it is [\"a\",\"b\"]\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/301369685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"simon998yang","id":18102688,"node_id":"MDQ6VXNlcjE4MTAyNjg4","avatar_url":"https://avatars.githubusercontent.com/u/18102688?v=4","gravatar_id":"","url":"https://api.github.com/users/simon998yang","html_url":"https://github.com/simon998yang","followers_url":"https://api.github.com/users/simon998yang/followers","following_url":"https://api.github.com/users/simon998yang/following{/other_user}","gists_url":"https://api.github.com/users/simon998yang/gists{/gist_id}","starred_url":"https://api.github.com/users/simon998yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simon998yang/subscriptions","organizations_url":"https://api.github.com/users/simon998yang/orgs","repos_url":"https://api.github.com/users/simon998yang/repos","events_url":"https://api.github.com/users/simon998yang/events{/privacy}","received_events_url":"https://api.github.com/users/simon998yang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/307951334","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-307951334","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":307951334,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzk1MTMzNA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T22:25:10Z","updated_at":"2017-06-12T22:25:10Z","body":"Actually, this is the way merging should work as per #1399. I'll see whether default merge settings take effect here, will add notes.\r\nAlso, may want to consider whether List/array merging (which is done by appending) should be something that can be toggled on/off via new `DeserializationFeature`.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/307951334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/307958250","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-307958250","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":307958250,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzk1ODI1MA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-12T22:56:24Z","updated_at":"2017-06-12T22:56:24Z","body":"Ok, so, yes, merging is occurring here. Part of the problem is that this is root-level value, and since call via `readerForUpdating()` enables merging, there is nothing preventing merge of values as well. This is a feature, new in 2.9.\r\n\r\nUnfortunately settings that would otherwise be applicable (such as disabling mergeability of types like `List`s) are not available here as nominal type is `Map<?,?>`. Although in theory specifying non-mergeability of `Object` would do the trick...\r\n\r\nI'll have to see what could be done. \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/307958250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1120684506,"node_id":"MDEyOkxhYmVsZWRFdmVudDExMjA2ODQ1MDY=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1120684506","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-06-13T05:14:32Z","label":{"name":"2.9","color":"0e8a16"},"performed_via_github_app":null},{"id":1120684507,"node_id":"MDEyOkxhYmVsZWRFdmVudDExMjA2ODQ1MDc=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1120684507","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-06-13T05:14:32Z","label":{"name":"ACTIVE","color":"0052cc"},"performed_via_github_app":null},{"id":1120704586,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDExMjA3MDQ1ODY=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1120704586","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e61e8ae3b45ac2e1dc5835a1411c92f999debf59","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/e61e8ae3b45ac2e1dc5835a1411c92f999debf59","created_at":"2017-06-13T05:42:30Z","performed_via_github_app":null},{"id":1123966988,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDExMjM5NjY5ODg=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1123966988","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9974be0f537892b28251fa6c4aefdee90b130b88","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/9974be0f537892b28251fa6c4aefdee90b130b88","created_at":"2017-06-14T20:03:00Z","performed_via_github_app":null},{"id":1124170499,"node_id":"MDExOkNsb3NlZEV2ZW50MTEyNDE3MDQ5OQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1124170499","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"7a4fce5e0b81b69c17f190906e8058ef1d3886fd","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/7a4fce5e0b81b69c17f190906e8058ef1d3886fd","created_at":"2017-06-14T22:30:57Z","state_reason":null,"performed_via_github_app":null},{"id":1124170561,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDExMjQxNzA1NjE=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1124170561","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-06-14T22:31:01Z","milestone":{"title":"2.9,0.pr4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/308577178","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-308577178","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":308577178,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODU3NzE3OA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-14T22:33:44Z","updated_at":"2017-06-14T22:33:44Z","body":"Ok, so... I added support for disabling merging for root-value `Map`s, when nominal value is `Object`.\r\nIf so, disabling mergability in general, or for type `Object.class` will make merge shallow:\r\n\r\n```java\r\nmapper.setDefaultMergeable(false); // global default, no merging except where annotated\r\nmapper.configOverride(Object.class) // prevent merging of values with type `Object`\r\n            .setMergeable(false);\r\n```\r\n\r\nThis is somewhat limited, and similar handling could be added for other types.\r\nI will have to think whether something more generic could be done for `Collection` types (and/or arrays); supporting both shallow and deep merge is tricky to handle.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/308577178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1180843287,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTE4MDg0MzI4Nw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1180843287","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-07-26T23:12:29Z","label":{"name":"ACTIVE","color":"0052cc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1342968307","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-1342968307","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":1342968307,"node_id":"IC_kwDOAC5e2c5QDBHz","user":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-08T16:16:56Z","updated_at":"2022-12-08T16:18:54Z","body":"Has there been an update since this was initially implemented? We are dealing with a JSON list that has many requirements for unique properties, so ideally we'd just be able to replace an entire list instead of having to worry about merging it correctly.\r\n\r\nThis (pseudo-) code is my current situation:\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nJsonNode listA = mapper.readTree(\"{\\\"list\\\": [ \\\"A\\\" ] }\");\r\nJsonNode listB = mapper.readTree(\"{\\\"list\\\": [ \\\"B\\\" ] }\");\r\n\r\nJsonNode result = mapper.readerForUpdating(listA).readValue(listB);\r\n\r\nSystem.out.println(result.toPrettyString()); // prints {\"list\":[\"A\",\"B\"]}\r\n```\r\n\r\nBut ideally, I would only have a single element in the list (being B). I've tried adding the mapper options from the previous comment, but without any luck. Any suggestions? We're currently using Jackson **2.13.3**.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1342968307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1343448398","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-1343448398","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":1343448398,"node_id":"IC_kwDOAC5e2c5QE2VO","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-08T22:18:37Z","updated_at":"2022-12-08T22:18:37Z","body":"@SAJLinders No, the default behavior is addition. For overrides you could try applying those to `JsonNode` or `ArrayNode` and see if either (esp. latter) works (if you have not tried those targets yet). Specifying `Object.class` would not apply to `JsonNode` (it must be exact target, not a super type).\r\n\r\nIf that does not work I don't think there are other options at this point.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1343448398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7993454587,"node_id":"MEE_lADOAC5e2c4NmevRzwAAAAHccm_7","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/7993454587","actor":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-12-08T22:18:38Z","performed_via_github_app":null},{"id":7993454593,"node_id":"SE_lADOAC5e2c4NmevRzwAAAAHccnAB","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/7993454593","actor":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-12-08T22:18:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1344022992","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-1344022992","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":1344022992,"node_id":"IC_kwDOAC5e2c5QHCnQ","user":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-09T08:53:09Z","updated_at":"2022-12-09T08:53:09Z","body":"@cowtowncoder thanks a lot, I wasn't aware that it had to be exact type, not super type. Since yesterday I was able to figure out what was going on though. This behaviour was only patched in Jackson 2.14 as per #3338, so I just had to use that version. For anyone reading this in the future, the following test will pass:\r\n\r\n```java\r\n@Test\r\npublic void testMergeArrays_shouldReplace() throws IOException {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configOverride(ArrayNode.class).setMergeable(false);\r\n\r\n    JsonNode listA = mapper.readTree(\"{\\\"list\\\": [ \\\"A\\\" ] }\");\r\n    JsonNode listB = mapper.readTree(\"{\\\"list\\\": [ \\\"B\\\" ] }\");\r\n\r\n    JsonNode result = mapper.readerForUpdating(listA).readValue(listB);\r\n\r\n    assertEquals(listB, result);\r\n}\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1344022992/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7996696880,"node_id":"MEE_lADOAC5e2c4NmevRzwAAAAHco-kw","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/7996696880","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-12-09T08:53:10Z","performed_via_github_app":null},{"id":7996696887,"node_id":"SE_lADOAC5e2c4NmevRzwAAAAHco-k3","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/7996696887","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-12-09T08:53:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1345457340","html_url":"https://github.com/FasterXML/jackson-databind/issues/1625#issuecomment-1345457340","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1625","id":1345457340,"node_id":"IC_kwDOAC5e2c5QMgy8","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-11T04:50:49Z","updated_at":"2022-12-11T04:50:49Z","body":"@SAJLinders Ok great! Thank you for adding an update, that should help others who might have hit the issue.\r\n\r\nAnd yes, the requirement for exact type match is non-obvious.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/1345457340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8006574280,"node_id":"MEE_lADOAC5e2c4NmevRzwAAAAHdOqDI","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/8006574280","actor":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-12-11T04:50:50Z","performed_via_github_app":null},{"id":8006574283,"node_id":"SE_lADOAC5e2c4NmevRzwAAAAHdOqDL","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/8006574283","actor":{"login":"SAJLinders","id":14110905,"node_id":"MDQ6VXNlcjE0MTEwOTA1","avatar_url":"https://avatars.githubusercontent.com/u/14110905?v=4","gravatar_id":"","url":"https://api.github.com/users/SAJLinders","html_url":"https://github.com/SAJLinders","followers_url":"https://api.github.com/users/SAJLinders/followers","following_url":"https://api.github.com/users/SAJLinders/following{/other_user}","gists_url":"https://api.github.com/users/SAJLinders/gists{/gist_id}","starred_url":"https://api.github.com/users/SAJLinders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SAJLinders/subscriptions","organizations_url":"https://api.github.com/users/SAJLinders/orgs","repos_url":"https://api.github.com/users/SAJLinders/repos","events_url":"https://api.github.com/users/SAJLinders/events{/privacy}","received_events_url":"https://api.github.com/users/SAJLinders/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-12-11T04:50:50Z","performed_via_github_app":null}]