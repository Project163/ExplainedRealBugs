[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/294960579","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-294960579","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":294960579,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDk2MDU3OQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T19:54:24Z","updated_at":"2017-04-18T19:54:24Z","body":"Thank you reporting this. I agree in that handling is sub-optimal, but I am not quite sure what to do about that at this point. I do not really look forward to having to add elaborate handling.\r\nOne option would be to add default (de)serializers that just throw an exception, to force users to provide handler of their own, but that would not work well wrt backwards compatibility.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/294960579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/295006332","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-295006332","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":295006332,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NTAwNjMzMg==","user":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T22:45:54Z","updated_at":"2017-04-18T22:45:54Z","body":"What level of backwards compatibility is required for a minor version like 2.9? What about 3.0? If we can agree on a strategy, I’d be happy to prepare a pull request.\r\n\r\nA simple improvement would be to always serialize to the address—never the hostname. This would be a net reduction in code and would eliminate the possibility of network access upon deserialization for JSON produced using this library, at least.\r\n\r\nIf hostname preservation is important, we could serialize to the `InetAddress.toString()` format (`\"hostname/address\"`) if a hostname is known. The deserializer could handle the `/` delimiter if present without much code, and otherwise behave as it does today.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/295006332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/295048130","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-295048130","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":295048130,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NTA0ODEzMA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-19T02:48:49Z","updated_at":"2017-04-19T02:48:49Z","body":"@2is10 I assume that the critical think would be to support deserialization from both textual and numeric representations. Serialization compatibility is probably little bit less critical.\r\nOne possibility regarding serialization would be to allow configuration using `@JsonFormat.shape`, since use of, say, `Shape.NUMBER` (or `Shape.ARRAY`) vs `Shape.STRING` could be used to allow switching between serializing host name, for those who prefer it despite problems there are.\r\nI like the simple idea of just serializing address, regardless; good point about performance ramifications as well.\r\nCompatibility wrt 2.9 vs 3.0 is interesting: we could choose to honor old defaults for 2.9 and change in 3.0, as an example. \r\n\r\nIf you are interesting in tackling this, I'd be happy to help -- I am bit overloaded with issues in general, but can help with reviewing and getting things merged. This change could still make it in 2.9: I am planning to do `pr3` soon, but that does not constitute feature freeze.\r\n\r\n\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/295048130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1047763209,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTA0Nzc2MzIwOQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1047763209","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-04-19T02:48:49Z","performed_via_github_app":null},{"id":1047763211,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwNDc3NjMyMTE=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1047763211","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-04-19T02:48:49Z","performed_via_github_app":null},{"id":1049507181,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEwNDk1MDcxODE=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1049507181","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"28462636033d27e4b8025f423c5062c8eb6016a3","commit_url":"https://api.github.com/repos/2is10/jackson-databind/commits/28462636033d27e4b8025f423c5062c8eb6016a3","created_at":"2017-04-19T22:37:27Z","performed_via_github_app":null},{"id":1055988551,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDEwNTU5ODg1NTE=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1055988551","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-04-25T05:19:23Z","milestone":{"title":"2.9.0.p3"},"performed_via_github_app":null},{"id":1055988584,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50MTA1NTk4ODU4NA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1055988584","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2017-04-25T05:19:25Z","milestone":{"title":"2.9.0.p3"},"performed_via_github_app":null},{"id":1055988613,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDEwNTU5ODg2MTM=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1055988613","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-04-25T05:19:28Z","milestone":{"title":"2.9.0.pr3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/296912852","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-296912852","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":296912852,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjkxMjg1Mg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T05:21:55Z","updated_at":"2017-04-25T05:21:55Z","body":"Actually I think that maybe leaving default serialization unchanged makes sense for 2.9.\r\nBased on my experiences there are often users who find changes unexpected and harmful, even despite there being solid reason for change like here.\r\n\r\nSo: what I will do is to support use of `@JsonFormat(shape=)`, and its per-type defaulting:\r\n\r\n```java\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configOverride(InetAddress.class)\r\n            .setFormat(JsonFormat.Value.forShape(JsonFormat.Shape.NUMBER));\r\n```\r\n\r\nto allow changing output to use host address when \"use number\" is indicated.\r\n\r\nAnd for 3.0 we can and should change the default (whether to allow textual is an open question; but amount of code for that is rather small so not a big deal.\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/296912852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1055991357,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTA1NTk5MTM1Nw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1055991357","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2017-04-25T05:22:49Z","rename":{"from":"InetAddressSerializer discards IP address, InetAddressDeserializer accesses network","to":"Allow serialization of `InetAddress` as simple numeric host address"},"performed_via_github_app":null},{"id":1055993779,"node_id":"MDExOkNsb3NlZEV2ZW50MTA1NTk5Mzc3OQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1055993779","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"534abb14054fc429239e4427a5af5c1f50b6a87b","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/534abb14054fc429239e4427a5af5c1f50b6a87b","created_at":"2017-04-25T05:25:32Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/296925284","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-296925284","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":296925284,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjkyNTI4NA==","user":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T06:20:14Z","updated_at":"2017-04-25T06:20:14Z","body":"Thanks! No changes to default behavior on a minor version release seems like a reasonable policy.\r\n\r\nIt could be a little surprising that `shape=NUMBER` and `shape=ARRAY` still produce a JSON string, albeit a different one. Maybe that already occurs for other types; I just haven’t seen it before. Still, it seems like a reasonable compromise for a minor version.\r\n\r\nHere’s some brainstorming for 3.0 formats. Depending on whether the hostname is known:\r\n- `shape=ARRAY` could serialize to `[\"0.0.0.0\"]` or `[\"0.0.0.0\", \"hostname\"]`.\r\n- `shape=STRING` could serialize to `\"0.0.0.0\"` or `\"hostname/0.0.0.0\"`.\r\n- `shape=NUMBER` could always serialize to `\"0.0.0.0\"`.\r\n\r\nI suppose `shape=STRING` would be the natural default.\r\n\r\nNotes:\r\n- `InetAddress.toString()` can be used to determine whether an `InetAddress` contains a hostname without triggering a lookup.\r\n- `InetAddress.getByAddress(byte[])` and `InetAddress.getByAddress(String, byte[])` can be used to instantiate without triggering a lookup.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/296925284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/296925968","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-296925968","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":296925968,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjkyNTk2OA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T06:23:52Z","updated_at":"2017-04-25T06:23:52Z","body":"@2is10 I agree that such choice for \"number\" is bit too clever, but given that `JsonFormat` definition is quite stable I think that'll have to do.\r\nARRAY could be refined as suggested or perhaps even as array of numeric components.\r\n\r\nInteresting wrt methods that can avoid lookup. Maybe something based on those could still be used for deserialization, even for 2.9?\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/296925968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1056042681,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTA1NjA0MjY4MQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1056042681","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-04-25T06:23:52Z","performed_via_github_app":null},{"id":1056042682,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwNTYwNDI2ODI=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1056042682","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-04-25T06:23:52Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/297078498","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-297078498","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":297078498,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzA3ODQ5OA==","user":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T16:00:53Z","updated_at":"2017-04-25T16:00:53Z","body":"> Interesting wrt methods that can avoid lookup. Maybe something based on those could still be used for deserialization, even for 2.9?\r\n\r\nDeserialization currently uses `InetAddress.getByName(String)`, which triggers a lookup if the argument isn’t an IP address (since the type requires an IP address), and does no lookup if the argument _is_ an IP address. As long as serialization sometimes discards the IP address, I don’t see a way to improve the deserialization.\r\n\r\nIn 2.9, if `shape=NUMBER` is specified, serialization always preserves the IP address, and deserialization already doesn’t do a lookup for valid addresses (yay!). Deserialization _would_ still attempt name resolution for _invalid_ addresses. Avoiding that behavior would require logic to test whether a string is a valid IP address. As far as I know, this functionality isn’t exposed in the Java API. Behind the scenes in Oracle’s JRE, `InetAddress.getByName` uses [sun.net.util.IPAddressUtil](http://www.docjar.com/docs/api/sun/net/util/IPAddressUtil.html), whose methods are public but [shouldn’t be used](http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html). I’m not sure if rejecting invalid addresses gracefully is worth adding your own IP address validation code or the weight of a dependency. In short, I’d probably leave deserialization alone for 2.9.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/297078498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/297193767","html_url":"https://github.com/FasterXML/jackson-databind/issues/1605#issuecomment-297193767","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1605","id":297193767,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzE5Mzc2Nw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T23:25:30Z","updated_at":"2017-04-25T23:25:30Z","body":"@2is10 Thank you for thorough explanation: makes sense, good to know there are heuristics so things will work sort of acceptably for now.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/297193767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1057606750,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTA1NzYwNjc1MA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1057606750","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-04-25T23:25:30Z","performed_via_github_app":null},{"id":1057606751,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwNTc2MDY3NTE=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1057606751","actor":{"login":"2is10","id":647851,"node_id":"MDQ6VXNlcjY0Nzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/647851?v=4","gravatar_id":"","url":"https://api.github.com/users/2is10","html_url":"https://github.com/2is10","followers_url":"https://api.github.com/users/2is10/followers","following_url":"https://api.github.com/users/2is10/following{/other_user}","gists_url":"https://api.github.com/users/2is10/gists{/gist_id}","starred_url":"https://api.github.com/users/2is10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2is10/subscriptions","organizations_url":"https://api.github.com/users/2is10/orgs","repos_url":"https://api.github.com/users/2is10/repos","events_url":"https://api.github.com/users/2is10/events{/privacy}","received_events_url":"https://api.github.com/users/2is10/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-04-25T23:25:30Z","performed_via_github_app":null}]