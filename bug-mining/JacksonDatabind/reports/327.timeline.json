[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/293978871","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-293978871","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":293978871,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzk3ODg3MQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T18:11:36Z","updated_at":"2017-04-13T18:11:36Z","body":"And this is with late(st) version, like 2.8.8?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/293978871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/294121997","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-294121997","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":294121997,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDEyMTk5Nw==","user":{"login":"Raniz85","id":4972103,"node_id":"MDQ6VXNlcjQ5NzIxMDM=","avatar_url":"https://avatars.githubusercontent.com/u/4972103?v=4","gravatar_id":"","url":"https://api.github.com/users/Raniz85","html_url":"https://github.com/Raniz85","followers_url":"https://api.github.com/users/Raniz85/followers","following_url":"https://api.github.com/users/Raniz85/following{/other_user}","gists_url":"https://api.github.com/users/Raniz85/gists{/gist_id}","starred_url":"https://api.github.com/users/Raniz85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Raniz85/subscriptions","organizations_url":"https://api.github.com/users/Raniz85/orgs","repos_url":"https://api.github.com/users/Raniz85/repos","events_url":"https://api.github.com/users/Raniz85/events{/privacy}","received_events_url":"https://api.github.com/users/Raniz85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T09:11:53Z","updated_at":"2017-04-14T09:11:53Z","body":"This is with 2.8.8","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/294121997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Raniz85","id":4972103,"node_id":"MDQ6VXNlcjQ5NzIxMDM=","avatar_url":"https://avatars.githubusercontent.com/u/4972103?v=4","gravatar_id":"","url":"https://api.github.com/users/Raniz85","html_url":"https://github.com/Raniz85","followers_url":"https://api.github.com/users/Raniz85/followers","following_url":"https://api.github.com/users/Raniz85/following{/other_user}","gists_url":"https://api.github.com/users/Raniz85/gists{/gist_id}","starred_url":"https://api.github.com/users/Raniz85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Raniz85/subscriptions","organizations_url":"https://api.github.com/users/Raniz85/orgs","repos_url":"https://api.github.com/users/Raniz85/repos","events_url":"https://api.github.com/users/Raniz85/events{/privacy}","received_events_url":"https://api.github.com/users/Raniz85/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/335917427","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-335917427","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":335917427,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTkxNzQyNw==","user":{"login":"wlp1979","id":224610,"node_id":"MDQ6VXNlcjIyNDYxMA==","avatar_url":"https://avatars.githubusercontent.com/u/224610?v=4","gravatar_id":"","url":"https://api.github.com/users/wlp1979","html_url":"https://github.com/wlp1979","followers_url":"https://api.github.com/users/wlp1979/followers","following_url":"https://api.github.com/users/wlp1979/following{/other_user}","gists_url":"https://api.github.com/users/wlp1979/gists{/gist_id}","starred_url":"https://api.github.com/users/wlp1979/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wlp1979/subscriptions","organizations_url":"https://api.github.com/users/wlp1979/orgs","repos_url":"https://api.github.com/users/wlp1979/repos","events_url":"https://api.github.com/users/wlp1979/events{/privacy}","received_events_url":"https://api.github.com/users/wlp1979/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T19:13:42Z","updated_at":"2017-10-11T19:13:42Z","body":"I am able to recreate this bug without using polymorphism. Using the following code, the GoodOuter can be serialized correctly, but BadOuter fails. I've tested this with both 2.8.4 and 2.8.10.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class JacksonBug {\r\n\tpublic static class Data<T> {\r\n\t\tprivate T data;\r\n\r\n\t\tpublic Data(T data) {\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\r\n\t\tpublic T getData() {\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\tpublic static <T> Data<List<T>> of(List<T> data) {\r\n\t\t\treturn new DataList<>(data);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class DataList<T> extends Data<List<T>> {\r\n\r\n\t\tpublic DataList(List<T> data) {\r\n\t\t\tsuper(data);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class Inner {\r\n\t\tprivate int index;\r\n\r\n\t\tpublic Inner(int index) {\r\n\t\t\tthis.index = index;\r\n\t\t}\r\n\r\n\t\tpublic int getIndex() {\r\n\t\t\treturn index;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class BadOuter {\r\n\t\tprivate Data<List<Inner>> inner;\r\n\r\n\t\tpublic BadOuter(Data<List<Inner>> inner) {\r\n\t\t\tthis.inner = inner;\r\n\t\t}\r\n\r\n\t\tpublic Data<List<Inner>> getInner() {\r\n\t\t\treturn inner;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class GoodOuter {\r\n\t\tprivate DataList<Inner> inner;\r\n\r\n\t\tpublic GoodOuter(DataList<Inner> inner) {\r\n\t\t\tthis.inner = inner;\r\n\t\t}\r\n\r\n\t\tpublic DataList<Inner> getInner() {\r\n\t\t\treturn inner;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws JsonProcessingException {\r\n\t\tList<Inner> inners = new ArrayList<>();\r\n\t\tfor (int i = 0; i < 10; i++) {\r\n\t\t\tinners.add(new Inner(i));\r\n\t\t}\r\n\t\tGoodOuter goodOuter = new GoodOuter(new DataList<>(inners));\r\n\t\tBadOuter badOuter = new BadOuter(Data.of(inners));\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tSystem.out.println(\"GoodOuter: \" + objectMapper.writeValueAsString(goodOuter));\r\n\t\tSystem.out.println(\"BadOuter: \" + objectMapper.writeValueAsString(badOuter));\r\n\t}\r\n}\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/335917427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wlp1979","id":224610,"node_id":"MDQ6VXNlcjIyNDYxMA==","avatar_url":"https://avatars.githubusercontent.com/u/224610?v=4","gravatar_id":"","url":"https://api.github.com/users/wlp1979","html_url":"https://github.com/wlp1979","followers_url":"https://api.github.com/users/wlp1979/followers","following_url":"https://api.github.com/users/wlp1979/following{/other_user}","gists_url":"https://api.github.com/users/wlp1979/gists{/gist_id}","starred_url":"https://api.github.com/users/wlp1979/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wlp1979/subscriptions","organizations_url":"https://api.github.com/users/wlp1979/orgs","repos_url":"https://api.github.com/users/wlp1979/repos","events_url":"https://api.github.com/users/wlp1979/events{/privacy}","received_events_url":"https://api.github.com/users/wlp1979/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/335927057","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-335927057","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":335927057,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTkyNzA1Nw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T19:48:37Z","updated_at":"2017-10-11T19:48:37Z","body":"@wlp1979 Thank you for sharing.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/335927057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1288938374,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI4ODkzODM3NA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1288938374","actor":{"login":"wlp1979","id":224610,"node_id":"MDQ6VXNlcjIyNDYxMA==","avatar_url":"https://avatars.githubusercontent.com/u/224610?v=4","gravatar_id":"","url":"https://api.github.com/users/wlp1979","html_url":"https://github.com/wlp1979","followers_url":"https://api.github.com/users/wlp1979/followers","following_url":"https://api.github.com/users/wlp1979/following{/other_user}","gists_url":"https://api.github.com/users/wlp1979/gists{/gist_id}","starred_url":"https://api.github.com/users/wlp1979/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wlp1979/subscriptions","organizations_url":"https://api.github.com/users/wlp1979/orgs","repos_url":"https://api.github.com/users/wlp1979/repos","events_url":"https://api.github.com/users/wlp1979/events{/privacy}","received_events_url":"https://api.github.com/users/wlp1979/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-10-11T19:48:37Z","performed_via_github_app":null},{"id":1288938375,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyODg5MzgzNzU=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1288938375","actor":{"login":"wlp1979","id":224610,"node_id":"MDQ6VXNlcjIyNDYxMA==","avatar_url":"https://avatars.githubusercontent.com/u/224610?v=4","gravatar_id":"","url":"https://api.github.com/users/wlp1979","html_url":"https://github.com/wlp1979","followers_url":"https://api.github.com/users/wlp1979/followers","following_url":"https://api.github.com/users/wlp1979/following{/other_user}","gists_url":"https://api.github.com/users/wlp1979/gists{/gist_id}","starred_url":"https://api.github.com/users/wlp1979/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wlp1979/subscriptions","organizations_url":"https://api.github.com/users/wlp1979/orgs","repos_url":"https://api.github.com/users/wlp1979/repos","events_url":"https://api.github.com/users/wlp1979/events{/privacy}","received_events_url":"https://api.github.com/users/wlp1979/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-10-11T19:48:37Z","performed_via_github_app":null},{"id":1288958858,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEyODg5NTg4NTg=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1288958858","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d6f24a167a2d0a221d658afffd9203c157250451","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/d6f24a167a2d0a221d658afffd9203c157250451","created_at":"2017-10-11T19:59:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/335930842","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-335930842","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":335930842,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTkzMDg0Mg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T20:02:06Z","updated_at":"2017-10-11T20:02:06Z","body":"Yes, I can reproduce this. Looks like code path may be slightly different, but at least there's something to dig into.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/335930842/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336473285","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-336473285","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":336473285,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjQ3MzI4NQ==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T14:43:22Z","updated_at":"2017-10-13T14:43:22Z","body":"@cowtowncoder I isolated this down to a change introduced in 2.7.4.  Serialization of both of these object graphs succeeds starting back as far as 2.5.3 and works through 2.7.3.  I'll look at the changes to databind in 2.7.4 to see if there's something obvious.  I'm a long-time Jackson user, but have never had cause to modify the codebase, so it may take me a bit ;)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336473285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1292418362,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI5MjQxODM2Mg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1292418362","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-10-13T14:43:22Z","performed_via_github_app":null},{"id":1292418365,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyOTI0MTgzNjU=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1292418365","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-10-13T14:43:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336482250","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-336482250","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":336482250,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjQ4MjI1MA==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T15:14:46Z","updated_at":"2017-10-13T15:15:21Z","body":"Scanning through the diff, this looks fishy: \r\n\r\n```$ git diff jackson-databind-2.7.3 jackson-databind-2.7.4 -- src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java\r\ndiff --git a/src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java b/src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java\r\nindex bf01aaef5..88def8c54 100644\r\n--- a/src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java\r\n+++ b/src/main/java/com/fasterxml/jackson/databind/type/TypeFactory.java\r\n@@ -364,19 +364,22 @@ public final class TypeFactory\r\n                 }\r\n             }\r\n             // (3) Sub-class does not take type parameters -- just resolve subtype\r\n-            if (subclass.getTypeParameters().length == 0) {\r\n+            int typeParamCount = subclass.getTypeParameters().length;\r\n+            if (typeParamCount == 0) {\r\n                 newType = _fromClass(null, subclass, TypeBindings.emptyBindings());     \r\n                 break;\r\n             }\r\n-\r\n+            \r\n             // If not, we'll need to do more thorough forward+backwards resolution. Sigh.\r\n             // !!! TODO (as of 28-Jan-2016, at least)\r\n-\r\n+            \r\n             // 20-Oct-2015, tatu: Container, Map-types somewhat special. There is\r\n             //    a way to fully resolve and merge hierarchies; but that gets expensive\r\n             //    so let's, for now, try to create close-enough approximation that\r\n             //    is not 100% same, structurally, but has equivalent information for\r\n             //    our specific neeeds.\r\n+            // 29-Mar-2016, tatu: See [databind#1173]  (and test `TypeResolverTest`)\r\n+            //  for a case where this code does get invoked: not ideal\r\n             if (baseType.isInterface()) {\r\n                 newType = baseType.refine(subclass, TypeBindings.emptyBindings(), null,\r\n                         new JavaType[] { baseType });\r\n@@ -388,7 +391,20 @@ public final class TypeFactory\r\n             if (newType == null) {\r\n                 // But otherwise gets bit tricky, as we need to partially resolve the type hierarchy\r\n                 // (hopefully passing null Class for root is ok)\r\n-                newType = _fromClass(null, subclass, TypeBindings.emptyBindings());        \r\n+                TypeBindings tb = null;\r\n+\r\n+                // 14-Apr-2016, tatu: One possible short-cut; if type parameter counts\r\n+                //   match, chances are they ought to match. Let's take our chances...\r\n+                if (baseType.containedTypeCount() == typeParamCount) {\r\n+                    if (typeParamCount == 1) {\r\n+                        tb = TypeBindings.create(subclass, baseType.containedType(0));\r\n+                    } else if (typeParamCount == 2) {\r\n+                        tb = TypeBindings.create(subclass, baseType.containedType(0),\r\n+                                baseType.containedType(1));\r\n+                    }\r\n+                }\r\n+                newType = _fromClass(null, subclass,\r\n+                        (tb == null) ? TypeBindings.emptyBindings() : tb);\r\n             }\r\n         } while (false);\r\n```\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336482250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336546955","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-336546955","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":336546955,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU0Njk1NQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T19:32:04Z","updated_at":"2017-10-13T19:32:04Z","body":"@epollan Excellent detective work. This is bit concerning, mostly since I do not think that undoing change would work here. Code would rather have to do better resolution of type parameterization, ideally \"pushing\" type variables through hierarchy and get binding that way.\r\n\r\nBut it does make sense that this would cause false match of bindings.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336546955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1292900037,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI5MjkwMDAzNw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1292900037","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-10-13T19:32:04Z","performed_via_github_app":null},{"id":1292900038,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyOTI5MDAwMzg=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1292900038","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-10-13T19:32:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336579521","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-336579521","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":336579521,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU3OTUyMQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T22:10:40Z","updated_at":"2017-10-13T22:10:40Z","body":"Yes, I think what goes wrong here is resolution of\r\n\r\n    Data<List<Inner>>\r\n\r\nwith sub-type of \r\n\r\n     DataList\r\n\r\nwhich short-circuits with assumption that matching number of type variables means that simple substitution works; not true in this case.\r\n\r\nProper resolution would resolve original type, retaining type variable, and then sort of back-tracking...\r\nand the reason this is not done is that it's rather difficult thing to do. `java-classmate` does handle this, but it is unencumbered by API level complexity Jackson's type system has, and code can not be directly used.\r\n\r\nThis may be very difficult to solve, esp. for 2.9.x (I won't even attempt changing any older versions since risks for change will be non-trivial)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336579521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336584400","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-336584400","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":336584400,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU4NDQwMA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T22:44:07Z","updated_at":"2017-10-13T22:44:07Z","body":"And this essentially goes wrong in the fallback case, in which subtype (one being specialized as) is given existing `TypeBindings` of base type.\r\n\r\nRemoving handling and only using base type as-is would fix this case, but breaks one of existing tests (#1186), in which (conversely) existing handling works ok.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/336584400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1293138079,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyOTMxMzgwNzk=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1293138079","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-10-13T22:44:14Z","label":{"name":"2.9","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337005190","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337005190","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337005190,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzAwNTE5MA==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T19:21:58Z","updated_at":"2017-10-16T19:21:58Z","body":"Looks like the problem is in `TypeFactory._bindingsForSubtype`.  Specifically, the `baseCount == typeParamCount` branch is being entered, with the variable's `JavaType` (`Data<List<Inner>>`) containing _one_ immediate binding (`Data<T>` reifies `T` to `List<Inner>`), and the `Class<?>` (`DataList<Inner>`) also has one type parameter.  ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337005190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337008255","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337008255","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337008255,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzAwODI1NQ==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T19:30:17Z","updated_at":"2017-10-16T19:30:17Z","body":"@cowtowncoder is there a README/doc that describes how to get the jackson code compiling locally?  The tip of master references a parent pom of `com.fasterxml.jackson:jackson-base:3.0.0-SNAPSHOT`, which leads to: \r\n```[ERROR]   The project com.fasterxml.jackson.core:jackson-databind:3.0.0-SNAPSHOT (/Users/epollan/src/jackson-databind/pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM: Could not find artifact com.fasterxml.jackson:jackson-base:pom:3.0.0-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 5, column 11 -> [Help 2]\r\n```\r\nI pinned the parent to the latest released version I found on maven central (2.9.2).  I then get an error from the enforcer plugin complaining about jacoco: \r\n```\r\n[INFO] --- maven-enforcer-plugin:3.0.0-M1:enforce (enforce-java) @ jackson-databind ---\r\n[WARNING] Rule 2: org.apache.maven.plugins.enforcer.RequirePluginVersions failed with message:\r\nSome plugins are missing valid versions:(LATEST RELEASE SNAPSHOT are not allowed )\r\norg.jacoco:jacoco-maven-plugin. \tThe version currently in use is 0.7.9\r\n[ERROR] Best Practice is to always define plugin versions!\r\n```\r\nI pinned jacoco to `0.7.9`, and now get java 8 compilation errors: \r\n```\r\n[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ jackson-databind ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 415 source files to /Users/epollan/src/jackson-databind/target/classes\r\n[INFO] -------------------------------------------------------------\r\n[WARNING] COMPILATION WARNING : \r\n[INFO] -------------------------------------------------------------\r\n[WARNING] bootstrap class path not set in conjunction with -source 1.7\r\n[INFO] 1 warning\r\n[INFO] -------------------------------------------------------------\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /Users/epollan/src/jackson-databind/src/main/java/com/fasterxml/jackson/databind/ext/jdk8/Jdk8StreamSerializer.java:[74,28] lambda expressions are not supported in -source 1.7\r\n  (use -source 8 or higher to enable lambda expressions)\r\n[ERROR] /Users/epollan/src/jackson-databind/src/main/java/com/fasterxml/jackson/databind/ext/jdk8/LongStreamSerializer.java:[37,30] lambda expressions are not supported in -source 1.7\r\n  (use -source 8 or higher to enable lambda expressions)\r\n[ERROR] /Users/epollan/src/jackson-databind/src/main/java/com/fasterxml/jackson/databind/ext/jdk8/IntStreamSerializer.java:[39,30] lambda expressions are not supported in -source 1.7\r\n  (use -source 8 or higher to enable lambda expressions)\r\n[ERROR] /Users/epollan/src/jackson-databind/src/main/java/com/fasterxml/jackson/databind/ext/jdk8/DoubleStreamSerializer.java:[39,30] lambda expressions are not supported in -source 1.7\r\n  (use -source 8 or higher to enable lambda expressions)\r\n```\r\nI suspect there's some basic local config I need to do to get the jackson-xxx modules building locally...","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337008255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1295529059,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI5NTUyOTA1OQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1295529059","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-10-16T19:30:17Z","performed_via_github_app":null},{"id":1295529060,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyOTU1MjkwNjA=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1295529060","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-10-16T19:30:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337086616","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337086616","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337086616,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzA4NjYxNg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T01:02:17Z","updated_at":"2017-10-17T01:02:17Z","body":"@epollan I would recommend using branch `2.9` actually. I can push snapshots of components for 3.0.0 (that is, `master`), but that is far away from being released.\r\nThere should be no special set up needed in general, but `jackson-databind` does have some dependencies. With 2.9 it is easier to somewhat reduce that (parent poms can be release versions, not snapshots).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337086616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1295953067,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI5NTk1MzA2Nw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1295953067","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-10-17T01:02:17Z","performed_via_github_app":null},{"id":1295953069,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyOTU5NTMwNjk=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1295953069","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-10-17T01:02:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337235780","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337235780","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337235780,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzIzNTc4MA==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T13:43:51Z","updated_at":"2017-10-17T13:43:51Z","body":"I checked out the 2.9.2 tag & it builds fine now.\r\n\r\nThat type binding transfer to the subclass that's at issue here is pretty concerning...  I can see how it would help immensely for retaining type parameterization data for collection/map values, but it's so easy for it to do the wrong thing...\r\n\r\nQuestion: what's the implication of the fall-through case (i.e. `EMPTY_BINDINGS`)?  What's lost in the serialization process in this case?\r\n\r\nI'm wondering if maybe specializing this branch to _just_ apply to collection/map would work?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337235780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337264859","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337264859","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337264859,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzI2NDg1OQ==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T15:12:46Z","updated_at":"2017-10-17T15:12:46Z","body":"As I suspected, restricting that branch of type binding transfer to just collection-like types causes tests to fail: \r\n\r\n```\r\nResults :\r\n\r\nFailed tests: \r\n  MapEntryFormatTest.testInclusionWithReference:159 expected:<{[]}> but was:<{[\"entry\":{\"a\":null}]}>\r\n  MapEntryFormatTest.testInclusion:143 expected:<{[]}> but was:<{[\"entry\":{\"a\":\"\"}]}>\r\n  AbstractTypeMapping1186Test.testDeserializeMyContainer:45 expected:<class com.fasterxml.jackson.databind.jsontype.AbstractTypeMapping1186Test$MyObject> but was:<class java.util.LinkedHashMap>\r\n\r\nTests in error: \r\n  TypeRefinementForMapTest.testMapRefinement:108  InvalidDefinition Cannot cons...\r\n\r\nTests run: 2047, Failures: 3, Errors: 1, Skipped: 0\r\n```\r\n\r\nI think what actually needs to happen is to \"unwind\" the base type's type bindings in this situation.  E.g., given `A<T>` and `B<T>`, a value of a type defined as `C<X> extends A<B<X>>` and assigned to a field of `A<B<X>>` would inherit _only_ the type binding of the field's `JavaType` to `X`.  Noodling around for implementations of this algorithm that wouldn't be too expensive...","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337264859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337274709","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337274709","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337274709,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzI3NDcwOQ==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T15:42:44Z","updated_at":"2017-10-17T15:42:44Z","body":"blargh.  search space is large.  I'm just now appreciating that the type parameterization info available on `JavaType` is a list of N-ary trees.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337274709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337305963","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337305963","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337305963,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzMwNTk2Mw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T17:28:04Z","updated_at":"2017-10-17T17:28:04Z","body":"Actually I know what the problem is and how to approach it -- did it for `java-classmate` -- but as things are, code in question only tries simplest of heuristics. This is guaranteed pretty much not to work in general; it can only cover limited number of cases, and perhaps use sub-optimal heuristics for other.\r\n\r\nBut the approach that would work really is to resolve the subtype (class), but keeping context of resolved super-type (base type), and once resolution hits unbound parent type of same type-erased type, bind it.\r\n\r\nFor example: we have `Data<List<Inner>>` as base type, and `DataList<?>` as subtype.\r\nWe would try to resolve `DataList<?>` and descend down type hierarchy normal way, with incomplete/missing bindings, which would essentially resolve to `Data<List<?>>`, which for Jackson then becomes `Data<List<Object>>`. However: during traversal, check for each parent type would check if we happen to have \"external\" binding: and encountering `Data<List<?>>` resolving that with bound+resolved `Data<List<Inner>>`. This should probably do some basic sanity checks... I don't know if it is possible to have inconsistent bindings; or more importantly, if so, is that a problem (given that thanks to Type Erasure, one can have, say, `Numbers` within what is declared as `List<String>` -- ability to resolve incompatible types might be a feature, not bug).\r\n\r\nDoes this make more sense? Challenge within `TypeFactory` is that of how to pipe through extra bind information -- it may make sense to duplicate part of code path. Or not. Adding more information in `TypeContext`, cleanly, may not be trivial thing to do, since this is the only code path where it is needed.\r\nNote, too, that type of binding here is different: instead of named type variables to bind this binds specific \"layer\", by type-erased `Class`.\r\n\r\nFor what it is worth, Classmate:\r\n\r\nhttps://github.com/FasterXML/java-classmate\r\n\r\nhas functionality for this. Whether having a look at it helps or not I don't know; APIs are quite different since Jackson adds more usage-specific semantics (f.ex. `CollectionType` and `MapType` being distinct types -- classmate does not do that, but separates by \"physical\" differences only).\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337305963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337324804","html_url":"https://github.com/FasterXML/jackson-databind/issues/1604#issuecomment-337324804","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1604","id":337324804,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzMyNDgwNA==","user":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T18:29:04Z","updated_at":"2017-10-17T18:29:04Z","body":"Yes -- verifying that `DataList<?>` is equivalent to `Data<List<?>>` is the key bit.  I'm trying to code that up now.  Thanks for the pointers to `classmate`, BTW.\r\n\r\nMy plan is to code up a guard against the type binding transfer for exactly this case (albeit simplified for the arity-1 type binding case) and see what tests break.\r\n\r\nTBH, I think we're going to end up changing our code to avoid the problem.  But, I kind of want to dig a little deeper in case there's a reasonable way out of this.  At the very least, I'll have greater understanding of the bug and where it might bite me in the future.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/337324804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"epollan","id":1180781,"node_id":"MDQ6VXNlcjExODA3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1180781?v=4","gravatar_id":"","url":"https://api.github.com/users/epollan","html_url":"https://github.com/epollan","followers_url":"https://api.github.com/users/epollan/followers","following_url":"https://api.github.com/users/epollan/following{/other_user}","gists_url":"https://api.github.com/users/epollan/gists{/gist_id}","starred_url":"https://api.github.com/users/epollan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epollan/subscriptions","organizations_url":"https://api.github.com/users/epollan/orgs","repos_url":"https://api.github.com/users/epollan/repos","events_url":"https://api.github.com/users/epollan/events{/privacy}","received_events_url":"https://api.github.com/users/epollan/received_events","type":"User","user_view_type":"public","site_admin":false}}]