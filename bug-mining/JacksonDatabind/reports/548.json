{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2118","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2118/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2118/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2118/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/2118","id":353217443,"node_id":"MDU6SXNzdWUzNTMyMTc0NDM=","number":2118,"title":"`JsonProperty.Access.READ_ONLY` does not work with \"getter-as-setter\" `Collection`s","user":{"login":"zhangyangyu","id":3690895,"node_id":"MDQ6VXNlcjM2OTA4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3690895?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyangyu","html_url":"https://github.com/zhangyangyu","followers_url":"https://api.github.com/users/zhangyangyu/followers","following_url":"https://api.github.com/users/zhangyangyu/following{/other_user}","gists_url":"https://api.github.com/users/zhangyangyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyangyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyangyu/subscriptions","organizations_url":"https://api.github.com/users/zhangyangyu/orgs","repos_url":"https://api.github.com/users/zhangyangyu/repos","events_url":"https://api.github.com/users/zhangyangyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyangyu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/113","html_url":"https://github.com/FasterXML/jackson-databind/milestone/113","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/113/labels","id":5361484,"node_id":"MDk6TWlsZXN0b25lNTM2MTQ4NA==","number":113,"title":"2.12.0","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12\r\n","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":33,"state":"closed","created_at":"2020-04-29T00:21:48Z","updated_at":"2024-02-04T01:58:03Z","due_on":"2020-11-28T08:00:00Z","closed_at":"2021-03-04T04:05:57Z"},"comments":6,"created_at":"2018-08-23T04:16:36Z","updated_at":"2020-05-17T03:21:41Z","closed_at":"2020-05-17T03:19:59Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I could still encounter the problem that `JsonProperty.Access.READ_ONLY` not work. I have read  #1805 , and my _jackson.databind_ version is **2.9.5**. I also checked **2.9.6**.\r\n\r\nI have reduced my example as:\r\n```\r\n//AppTest.java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.junit.Test;\r\n\r\npublic class AppTest {\r\n    @Test\r\n    public void test() throws Exception {\r\n        String data =\"{\\\"security_group_rules\\\": [{\\\"id\\\": \\\"id1\\\"}, {\\\"id\\\": \\\"id2\\\"}, {\\\"id\\\": \\\"id3\\\"}, {\\\"id\\\": \\\"id4\\\"}]}\";\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        SecurityGroup sg = mapper.readValue(data, SecurityGroup.class);\r\n        System.out.println(mapper.writeValueAsString(sg));\r\n    }\r\n}\r\n```\r\n```\r\n//SecurityGroup.java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.google.common.collect.Lists;\r\nimport java.util.List;\r\n\r\npublic class SecurityGroup {\r\n\r\n    private List<SecurityGroupRule> securityGroupRules;\r\n\r\n    public SecurityGroup() {\r\n        this.securityGroupRules = Lists.newArrayList();\r\n    }\r\n\r\n    @JsonProperty(value=\"security_group_rules\", access=JsonProperty.Access.READ_ONLY)\r\n    public List<SecurityGroupRule> getSecurityGroupRules() {\r\n        return securityGroupRules;\r\n    }\r\n\r\n    public SecurityGroup setSecurityGroupRules(List<SecurityGroupRule> securityGroupRules) {\r\n        this.securityGroupRules = securityGroupRules;\r\n        return this;\r\n    }\r\n}\r\n```\r\n```\r\n//SecurityGroupRule.java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class SecurityGroupRule {\r\n\r\n    private String id;\r\n\r\n    public SecurityGroupRule() {\r\n\r\n    }\r\n\r\n    @JsonProperty\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\nI hope `securityGroupRules` won't be deserialized but it still is. If I change `JsonProperty(value=\"security_group_rules\", access=JsonProperty.Access.READ_ONLY)` to `JsonIgnoreProperties(value=\"security_group_rules\", allowGetters=true)` as metioned in #1805, it throws `UnrecognizedPropertyException` instead of printing `{\"security_group_rules\":[{\"id\":\"id1\"},{\"id\":\"id2\"},{\"id\":\"id3\"},{\"id\":\"id4\"}]}`. I'd like the former behaviour since in project I can set `FAIL_ON_UNKNOWN_PROPERTIES` to avoid the error.\r\n\r\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2118/timeline","performed_via_github_app":null,"state_reason":"completed"}