[{"id":817215549,"node_id":"MDEyOkxhYmVsZWRFdmVudDgxNzIxNTU0OQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/817215549","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-10-08T23:51:06Z","label":{"name":"2.9","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252454933","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-252454933","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":252454933,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MjQ1NDkzMw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-08T23:52:27Z","updated_at":"2016-10-08T23:52:27Z","body":"@fabriziocucci Thank you for reporting this. My first thought here was that the documentation is wrong, since all similar read methods do this. But I also know that there is a difference in that whereas regular data-binding is limited to just `null`, Tree-variant could choose to return `NullNode` for JSON null, and Java `null` for missing content. So in a way both options are possible...\n\nI will have to think about this bit more.\n\nIn the meantime, if you do need to allow for optional content, you may choose to use `ObjectReader.readValues()` as sometimes that does allow iteration over multiple root-level values; including cases of no content and just one value (i.e. not necessary to actually have more than 0).\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252454933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":817215691,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODE3MjE1Njkx","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/817215691","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-08T23:52:27Z","performed_via_github_app":null},{"id":817215692,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxNzIxNTY5Mg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/817215692","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-08T23:52:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252490690","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-252490690","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":252490690,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MjQ5MDY5MA==","user":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-09T14:48:21Z","updated_at":"2016-10-09T15:13:44Z","body":"@cowtowncoder thanks for your prompt reply.\n\nI see your point but, probably, using `readValues` in my specific use case would be a bit misleading. In my use case, each `InputStream` should be the source of a single json/yaml root object which represents a configuration. Empty files should be treated as empty configurations.\n\nIf I'm not wrong, based on your suggestion, I would need to do something like this:\n\n``` java\npublic static JsonNode fromInputStream(InputStream inputStream) {\n    try {\n        MappingIterator<JsonNode> configurations = YAML_OBJECT_MAPPER.reader(JsonNode.class).readValues(inputStream);\n        if (configurations.hasNext()) {\n            JsonNode configuration = configurations.next();\n            if (configurations.hasNext()) {\n                throw new IllegalStateException(\"Found multiple configurations!\");\n            } else {\n                return configuration;\n            }\n        } else {\n            return emptyConfiguration();\n        }\n    } catch (Exception exception) {\n        throw new IllegalStateException(exception);\n    }\n}\n```\n\nwhich probably does the trick but...it looks a bit messy, doesn't it?\n\nI was currently doing something like this:\n\n``` java\npublic static JsonNode fromInputStream(InputStream inputStream) {\n    try {\n        return (inputStream.available() > 0) ?\n                YAML_OBJECT_MAPPER.readTree(inputStream) :\n                emptyConfiguration();\n    } catch (Exception exception) {\n        throw new IllegalStateException(exception);\n    }\n}\n```\n\nwhich is not good either because highly relies on how the `InputStream` subclass overrides the `available` method. In case of `FileInputStream` it seems to work just fine.\n\nBy the way, I'm asking because I'm kind of having fun with [this](https://github.com/fabriziocucci/yacl4j) library and I'm sure your insights will be more than helpful!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252490690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":817370762,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODE3MzcwNzYy","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/817370762","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-09T14:48:21Z","performed_via_github_app":null},{"id":817370763,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxNzM3MDc2Mw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/817370763","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-09T14:48:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252676674","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-252676674","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":252676674,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MjY3NjY3NA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-10T16:49:16Z","updated_at":"2016-10-10T16:49:16Z","body":"I don't see why use of `readValues()` would have any specific meanings. I just mean that it would actually work, and do what you want -- it may seem odd to whoever reads the code, but that's what comments are for; or, creating a helper method that explains the logic similarly.\n\nHowever: if you prefer alternate method, you could also create a `YAMLParser` via `YAMLFactory`, try to see if `nextToken()` returns `null` (end of content) or a token; and only call `mapper.readValue(parser, type)` in latter case. That is cleaner in a way.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252676674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252749719","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-252749719","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":252749719,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Mjc0OTcxOQ==","user":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-10T21:22:09Z","updated_at":"2016-10-10T21:22:09Z","body":"> it may seem odd to whoever reads the code\n\nExactly, that was my point and yes, I prefer the second solution for now, thanks a lot for the suggestion! :wink:\n\nBut while I was playing with the JsonParser API, I noticed something else (sorry, bear with me).\n\nWe said that the following line:\n\n`YAML_OBJECT_MAPPER.readTree(inputStream);`\n\ncorrectly throws in case of empty streams and its Javadoc will be aligned to reflect this.\n\nBut the following line:\n\n`YAML_OBJECT_MAPPER.getFactory().createParser(inputStream).readValueAsTree();`\n\nactually returns `null` in case of empty streams and its Javadoc is aligned with this!\n\nNow my question is: shouldn't the two API be aligned?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252749719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252839743","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-252839743","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":252839743,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MjgzOTc0Mw==","user":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T07:58:08Z","updated_at":"2016-10-11T07:58:08Z","body":"I was curious to see why that happens and I ended up swimming in debug mode! :sweat_smile:\n\nWhile the second option (i.e. `JsonParser#readValueAsTree`) moves straight to the `ObjectMapper#readTree` method:\n\n``` java\npublic <T extends TreeNode> T readTree(JsonParser p)\n    throws IOException, JsonProcessingException\n{\n    /* 02-Mar-2009, tatu: One twist; deserialization provider\n     *   will map JSON null straight into Java null. But what\n     *   we want to return is the \"null node\" instead.\n     */\n    /* 05-Aug-2011, tatu: Also, must check for EOF here before\n     *   calling readValue(), since that'll choke on it otherwise\n     */\n    DeserializationConfig cfg = getDeserializationConfig();\n    JsonToken t = p.getCurrentToken();\n    if (t == null) {\n        t = p.nextToken();\n        if (t == null) {\n            return null;\n        }\n    }\n    JsonNode n = (JsonNode) _readValue(cfg, p, JSON_NODE_TYPE);\n    if (n == null) {\n        n = getNodeFactory().nullNode();\n    }\n    @SuppressWarnings(\"unchecked\")\n    T result = (T) n;\n    return result;\n}\n```\n\nthe first one (i.e. `ObjectMapper#readTree`) stops by the `ObjectMapper#_initForReading` method:\n\n``` java\nprotected JsonToken _initForReading(JsonParser p) throws IOException\n{\n    _deserializationConfig.initialize(p); // since 2.5\n\n    /* First: must point to a token; if not pointing to one, advance.\n     * This occurs before first read from JsonParser, as well as\n     * after clearing of current token.\n     */\n    JsonToken t = p.getCurrentToken();\n    if (t == null) {\n        // and then we must get something...\n        t = p.nextToken();\n        if (t == null) {\n            // Throw mapping exception, since it's failure to map,\n            //   not an actual parsing problem\n            throw JsonMappingException.from(p, \"No content to map due to end-of-input\");\n        }\n    }\n    return t;\n}\n```\n\nNow, it may be perfectly OK to have different behaviors but, as a user, I'm a bit [surprised](https://en.wikipedia.org/wiki/Principle_of_least_astonishment) to discover this difference.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/252839743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/253010202","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-253010202","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":253010202,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzAxMDIwMg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T18:53:36Z","updated_at":"2016-10-11T18:53:36Z","body":"@fabriziocucci at this point, I am sorry I ever added various `JsonParser.readXxx()` methods... they are problematic at many levels. Ideally behavior would be aligned, but given that they are not things get more complex since any change is, at least theoretically, breaking change. And more often than not someone somewhere observes a breakage. :)\n\nNow. I am beginning to think that perhaps documentation-indicated behavior does make sense to support. Returning `null` is not ambiguous; and it seems unlikely anyone is actually relying on exception being thrown. And so while it does make behavior between `readTree()` and `readValue()`-with-JsonNode different, it seems like a lesser of evils.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/253010202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":819952207,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODE5OTUyMjA3","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/819952207","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-11T18:53:37Z","performed_via_github_app":null},{"id":819952208,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxOTk1MjIwOA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/819952208","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-11T18:53:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/253021465","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-253021465","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":253021465,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzAyMTQ2NQ==","user":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T19:36:36Z","updated_at":"2016-10-11T19:36:36Z","body":"@cowtowncoder I'm sorry if my obsession for consistency gave you some headache :sweat_smile: but I understand how hard it is changing at this stage!\n\nAlthough my preference is always for returning an _empty_ `JsonNode`, I agree with you that returning `null` in this case is probably better then throwing an exception! :+1: \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/253021465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fabriziocucci","id":8156463,"node_id":"MDQ6VXNlcjgxNTY0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8156463?v=4","gravatar_id":"","url":"https://api.github.com/users/fabriziocucci","html_url":"https://github.com/fabriziocucci","followers_url":"https://api.github.com/users/fabriziocucci/followers","following_url":"https://api.github.com/users/fabriziocucci/following{/other_user}","gists_url":"https://api.github.com/users/fabriziocucci/gists{/gist_id}","starred_url":"https://api.github.com/users/fabriziocucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabriziocucci/subscriptions","organizations_url":"https://api.github.com/users/fabriziocucci/orgs","repos_url":"https://api.github.com/users/fabriziocucci/repos","events_url":"https://api.github.com/users/fabriziocucci/events{/privacy}","received_events_url":"https://api.github.com/users/fabriziocucci/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":820007484,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODIwMDA3NDg0","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/820007484","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-11T19:36:36Z","performed_via_github_app":null},{"id":820007485,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgyMDAwNzQ4NQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/820007485","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-11T19:36:36Z","performed_via_github_app":null},{"id":839587324,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50ODM5NTg3MzI0","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/839587324","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2016-10-28T05:04:24Z","rename":{"from":"readTree(InputStream in) behavior not aligned with its contract","to":"`ObjectMapper.readTree()` methods do not return `null` on end-of-input"},"performed_via_github_app":null},{"id":839587915,"node_id":"MDExOkNsb3NlZEV2ZW50ODM5NTg3OTE1","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/839587915","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"b8b0e72c640de1c6001a497636173c70d14807a8","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/b8b0e72c640de1c6001a497636173c70d14807a8","created_at":"2016-10-28T05:05:43Z","state_reason":null,"performed_via_github_app":null},{"id":839587975,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDgzOTU4Nzk3NQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/839587975","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-10-28T05:05:50Z","milestone":{"title":"2.9.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/456676789","html_url":"https://github.com/FasterXML/jackson-databind/issues/1406#issuecomment-456676789","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1406","id":456676789,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjY3Njc4OQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T05:37:37Z","updated_at":"2019-01-23T05:37:37Z","body":"Note to curious readers: there was yet more wailing and gnashing of teeth, for... #2211 was found.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/456676789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-23T05:37:58Z","updated_at":"2019-01-23T05:37:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2211","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2211/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2211/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2211/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/2211","id":392328515,"node_id":"MDU6SXNzdWUzOTIzMjg1MTU=","number":2211,"title":"Change of behavior (2.8 -> 2.9) with `ObjectMapper.readTree(input)` with no content","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/94","html_url":"https://github.com/FasterXML/jackson-databind/milestone/94","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/94/labels","id":3436724,"node_id":"MDk6TWlsZXN0b25lMzQzNjcyNA==","number":94,"title":"2.10.0","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.10\r\n","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":44,"state":"open","created_at":"2018-06-19T18:52:40Z","updated_at":"2025-10-03T17:55:08Z","due_on":"2019-09-26T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-12-18T20:45:27Z","updated_at":"2020-04-12T18:14:21Z","closed_at":"2019-01-24T06:52:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-10T02:17:47Z","pushed_at":"2025-11-10T02:17:44Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83236,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":383,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":383,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"So, it looks like `readTree()` methods in `ObjectMapper`, `ObjectReader` that take input OTHER than `JsonParser`, and are given \"empty input\" (only white-space available before end), will\r\n\r\n* Return `NullNode` (Jackson 2.x up to and including 2.8)\r\n* Return `null` (Jackson 2.9)\r\n\r\nLatter behavior is what `readTree(JsonParser)` has and will do; but this accidentally changed other methods due to refactoring that unified underlying call handling (and add checking for new `DeserializationFeature.FAIL_ON_TRAILING_TOKENS`). \r\nBehavior for this edge case was not being tested, apparently.\r\n\r\nNow: since behavior has been changed for all 2.9.x patch versions, I am not sure it should be changed for 2.9 branch. But it seems sub-optimal as behavior, and something to definitely change for 3.0... but probably also for 2.10.\r\n\r\nThere are multiple things we could do.\r\n\r\n1. Change it back to 2.8, to return `NullNode`\r\n2. Change to throw exception, as \"not valid\" use case\r\n3. Change it to return `MissingNode`\r\n4. Leave as-is, for rest of 2.x.\r\n\r\nAlthough it might seem best to revert it to (1), that seems somewhat wrong, problematic, as it would now not be possible to distinguish between JSON `null` value and missing content.\r\nAnd although (2) would probably make sense, if designing API from scratch, it is probably too intrusive.\r\n\r\nSo I think (3) is the best way: it avoids returning `null` or throwing Exception (both being likely to break 2.9 code), but still allows distinguishing between all possible input cases.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2211/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"sschuberth","id":349154,"node_id":"MDQ6VXNlcjM0OTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/349154?v=4","gravatar_id":"","url":"https://api.github.com/users/sschuberth","html_url":"https://github.com/sschuberth","followers_url":"https://api.github.com/users/sschuberth/followers","following_url":"https://api.github.com/users/sschuberth/following{/other_user}","gists_url":"https://api.github.com/users/sschuberth/gists{/gist_id}","starred_url":"https://api.github.com/users/sschuberth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschuberth/subscriptions","organizations_url":"https://api.github.com/users/sschuberth/orgs","repos_url":"https://api.github.com/users/sschuberth/repos","events_url":"https://api.github.com/users/sschuberth/events{/privacy}","received_events_url":"https://api.github.com/users/sschuberth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T09:26:53Z","updated_at":"2021-04-09T09:26:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/3861","repository_url":"https://api.github.com/repos/oss-review-toolkit/ort","labels_url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/3861/labels{/name}","comments_url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/3861/comments","events_url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/3861/events","html_url":"https://github.com/oss-review-toolkit/ort/issues/3861","id":854328485,"node_id":"MDU6SXNzdWU4NTQzMjg0ODU=","number":3861,"title":"ORT should ignore empty .ort.yml files","user":{"login":"sschuberth","id":349154,"node_id":"MDQ6VXNlcjM0OTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/349154?v=4","gravatar_id":"","url":"https://api.github.com/users/sschuberth","html_url":"https://github.com/sschuberth","followers_url":"https://api.github.com/users/sschuberth/followers","following_url":"https://api.github.com/users/sschuberth/following{/other_user}","gists_url":"https://api.github.com/users/sschuberth/gists{/gist_id}","starred_url":"https://api.github.com/users/sschuberth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschuberth/subscriptions","organizations_url":"https://api.github.com/users/sschuberth/orgs","repos_url":"https://api.github.com/users/sschuberth/repos","events_url":"https://api.github.com/users/sschuberth/events{/privacy}","received_events_url":"https://api.github.com/users/sschuberth/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":766704547,"node_id":"MDU6TGFiZWw3NjY3MDQ1NDc=","url":"https://api.github.com/repos/oss-review-toolkit/ort/labels/analyzer","name":"analyzer","color":"65f79d","default":false,"description":"About the analyzer tool"}],"state":"closed","locked":false,"assignee":{"login":"sschuberth","id":349154,"node_id":"MDQ6VXNlcjM0OTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/349154?v=4","gravatar_id":"","url":"https://api.github.com/users/sschuberth","html_url":"https://github.com/sschuberth","followers_url":"https://api.github.com/users/sschuberth/followers","following_url":"https://api.github.com/users/sschuberth/following{/other_user}","gists_url":"https://api.github.com/users/sschuberth/gists{/gist_id}","starred_url":"https://api.github.com/users/sschuberth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschuberth/subscriptions","organizations_url":"https://api.github.com/users/sschuberth/orgs","repos_url":"https://api.github.com/users/sschuberth/repos","events_url":"https://api.github.com/users/sschuberth/events{/privacy}","received_events_url":"https://api.github.com/users/sschuberth/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sschuberth","id":349154,"node_id":"MDQ6VXNlcjM0OTE1NA==","avatar_url":"https://avatars.githubusercontent.com/u/349154?v=4","gravatar_id":"","url":"https://api.github.com/users/sschuberth","html_url":"https://github.com/sschuberth","followers_url":"https://api.github.com/users/sschuberth/followers","following_url":"https://api.github.com/users/sschuberth/following{/other_user}","gists_url":"https://api.github.com/users/sschuberth/gists{/gist_id}","starred_url":"https://api.github.com/users/sschuberth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschuberth/subscriptions","organizations_url":"https://api.github.com/users/sschuberth/orgs","repos_url":"https://api.github.com/users/sschuberth/repos","events_url":"https://api.github.com/users/sschuberth/events{/privacy}","received_events_url":"https://api.github.com/users/sschuberth/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2021-04-09T09:03:18Z","updated_at":"2025-02-10T14:10:18Z","closed_at":"2021-06-07T06:05:59Z","author_association":"MEMBER","type":{"id":9983966,"node_id":"IT_kwDOAuBIHs4AmFfe","name":"Enhancement","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-02-02T12:26:54Z","updated_at":"2024-07-26T12:38:28Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":107540288,"node_id":"MDEwOlJlcG9zaXRvcnkxMDc1NDAyODg=","name":"ort","full_name":"oss-review-toolkit/ort","private":false,"owner":{"login":"oss-review-toolkit","id":48252958,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ4MjUyOTU4","avatar_url":"https://avatars.githubusercontent.com/u/48252958?v=4","gravatar_id":"","url":"https://api.github.com/users/oss-review-toolkit","html_url":"https://github.com/oss-review-toolkit","followers_url":"https://api.github.com/users/oss-review-toolkit/followers","following_url":"https://api.github.com/users/oss-review-toolkit/following{/other_user}","gists_url":"https://api.github.com/users/oss-review-toolkit/gists{/gist_id}","starred_url":"https://api.github.com/users/oss-review-toolkit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oss-review-toolkit/subscriptions","organizations_url":"https://api.github.com/users/oss-review-toolkit/orgs","repos_url":"https://api.github.com/users/oss-review-toolkit/repos","events_url":"https://api.github.com/users/oss-review-toolkit/events{/privacy}","received_events_url":"https://api.github.com/users/oss-review-toolkit/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/oss-review-toolkit/ort","description":"A suite of tools to automate software compliance checks.","fork":false,"url":"https://api.github.com/repos/oss-review-toolkit/ort","forks_url":"https://api.github.com/repos/oss-review-toolkit/ort/forks","keys_url":"https://api.github.com/repos/oss-review-toolkit/ort/keys{/key_id}","collaborators_url":"https://api.github.com/repos/oss-review-toolkit/ort/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/oss-review-toolkit/ort/teams","hooks_url":"https://api.github.com/repos/oss-review-toolkit/ort/hooks","issue_events_url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/events{/number}","events_url":"https://api.github.com/repos/oss-review-toolkit/ort/events","assignees_url":"https://api.github.com/repos/oss-review-toolkit/ort/assignees{/user}","branches_url":"https://api.github.com/repos/oss-review-toolkit/ort/branches{/branch}","tags_url":"https://api.github.com/repos/oss-review-toolkit/ort/tags","blobs_url":"https://api.github.com/repos/oss-review-toolkit/ort/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/oss-review-toolkit/ort/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/oss-review-toolkit/ort/git/refs{/sha}","trees_url":"https://api.github.com/repos/oss-review-toolkit/ort/git/trees{/sha}","statuses_url":"https://api.github.com/repos/oss-review-toolkit/ort/statuses/{sha}","languages_url":"https://api.github.com/repos/oss-review-toolkit/ort/languages","stargazers_url":"https://api.github.com/repos/oss-review-toolkit/ort/stargazers","contributors_url":"https://api.github.com/repos/oss-review-toolkit/ort/contributors","subscribers_url":"https://api.github.com/repos/oss-review-toolkit/ort/subscribers","subscription_url":"https://api.github.com/repos/oss-review-toolkit/ort/subscription","commits_url":"https://api.github.com/repos/oss-review-toolkit/ort/commits{/sha}","git_commits_url":"https://api.github.com/repos/oss-review-toolkit/ort/git/commits{/sha}","comments_url":"https://api.github.com/repos/oss-review-toolkit/ort/comments{/number}","issue_comment_url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/comments{/number}","contents_url":"https://api.github.com/repos/oss-review-toolkit/ort/contents/{+path}","compare_url":"https://api.github.com/repos/oss-review-toolkit/ort/compare/{base}...{head}","merges_url":"https://api.github.com/repos/oss-review-toolkit/ort/merges","archive_url":"https://api.github.com/repos/oss-review-toolkit/ort/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/oss-review-toolkit/ort/downloads","issues_url":"https://api.github.com/repos/oss-review-toolkit/ort/issues{/number}","pulls_url":"https://api.github.com/repos/oss-review-toolkit/ort/pulls{/number}","milestones_url":"https://api.github.com/repos/oss-review-toolkit/ort/milestones{/number}","notifications_url":"https://api.github.com/repos/oss-review-toolkit/ort/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/oss-review-toolkit/ort/labels{/name}","releases_url":"https://api.github.com/repos/oss-review-toolkit/ort/releases{/id}","deployments_url":"https://api.github.com/repos/oss-review-toolkit/ort/deployments","created_at":"2017-10-19T11:59:49Z","updated_at":"2025-11-09T21:25:45Z","pushed_at":"2025-11-10T12:55:44Z","git_url":"git://github.com/oss-review-toolkit/ort.git","ssh_url":"git@github.com:oss-review-toolkit/ort.git","clone_url":"https://github.com/oss-review-toolkit/ort.git","svn_url":"https://github.com/oss-review-toolkit/ort","homepage":"https://oss-review-toolkit.org","size":147616,"stargazers_count":1850,"watchers_count":1850,"language":"Kotlin","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":356,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":307,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["compliance","copyright","cra","cyclonedx","dependencies","dependency-graph","dora","hacktoberfest","license","license-management","open-source-licensing","ospo","oss-compliance","package-manager","sbom","sbom-generator","sca","spdx"],"visibility":"public","forks":356,"open_issues":307,"watchers":1850,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Currently, ORT chokes on empty `.ort.yml` files:\r\n\r\n```\r\nException in thread \"main\" com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n at [Source: (File); line: 3, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4688)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4586)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3433)\r\n\tat org.ossreviewtoolkit.analyzer.Analyzer.analyze(Analyzer.kt:170)\r\n\tat org.ossreviewtoolkit.commands.AnalyzerCommand.run(AnalyzerCommand.kt:166)\r\n\tat com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:180)\r\n\tat com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:189)\r\n\tat com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:17)\r\n\tat com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:396)\r\n\tat com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:393)\r\n\tat com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:411)\r\n\tat com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:436)\r\n\tat org.ossreviewtoolkit.OrtMainKt.main(OrtMain.kt:217)\r\n```\r\n\r\nWe should simply ignore empty files instead of failing. but still fail on files with real syntax errors.","reactions":{"url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/3861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/oss-review-toolkit/ort/issues/3861/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]