[{"actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-07T05:16:31Z","updated_at":"2016-06-07T05:16:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1255","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1255/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1255/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1255/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/1255","id":157756095,"node_id":"MDU6SXNzdWUxNTc3NTYwOTU=","number":1255,"title":"JsonIdentityInfo incorrectly serializing forward references","user":{"login":"Xfel","id":2306230,"node_id":"MDQ6VXNlcjIzMDYyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2306230?v=4","gravatar_id":"","url":"https://api.github.com/users/Xfel","html_url":"https://github.com/Xfel","followers_url":"https://api.github.com/users/Xfel/followers","following_url":"https://api.github.com/users/Xfel/following{/other_user}","gists_url":"https://api.github.com/users/Xfel/gists{/gist_id}","starred_url":"https://api.github.com/users/Xfel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xfel/subscriptions","organizations_url":"https://api.github.com/users/Xfel/orgs","repos_url":"https://api.github.com/users/Xfel/repos","events_url":"https://api.github.com/users/Xfel/events{/privacy}","received_events_url":"https://api.github.com/users/Xfel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/54","html_url":"https://github.com/FasterXML/jackson-databind/milestone/54","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/54/labels","id":1808825,"node_id":"MDk6TWlsZXN0b25lMTgwODgyNQ==","number":54,"title":"2.6.7","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.6.7","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":1,"state":"closed","created_at":"2016-06-05T03:25:23Z","updated_at":"2021-03-04T04:10:42Z","due_on":"2016-06-05T07:00:00Z","closed_at":"2021-03-04T04:10:42Z"},"comments":11,"created_at":"2016-05-31T19:55:53Z","updated_at":"2016-06-07T05:16:31Z","closed_at":"2016-06-05T03:29:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-08T13:34:42Z","pushed_at":"2025-11-07T22:16:42Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83232,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":382,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":382,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I wrote this small test program to demonstrate the issue:\n\n``` java\nimport com.fasterxml.jackson.annotation.JsonIdentityInfo;\nimport com.fasterxml.jackson.annotation.JsonIdentityReference;\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class ObjectIdTest {\n\n    public static class Foo {\n\n        @JsonIdentityReference(alwaysAsId = true)\n        public Bar bar1;\n\n        @JsonIdentityReference()\n        public Bar bar2;\n    }\n\n    @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\n    public static class Bar {\n\n    }\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n\n        // create structure to serialize\n        Foo mo = new Foo();\n        mo.bar1 = new Bar();\n        mo.bar2 = mo.bar1;\n\n        // serialize it\n        System.out.println(mapper.writeValueAsString(mo));\n    }\n\n}\n```\n\nWhen executing this test program in the latest version (2.7.4), the output will be `{\"bar1\":1,\"bar2\":{\"@id\":2}}` - the second field will be written with a new id even though both fields reference the same object. Because of this, writing forward references is essentially impossible.\n\nThe issue seems to be the fact that BeanSerializerBase will always call WritableObjectId.generateId if the referenced object has not been written in plain format yet (https://github.com/FasterXML/jackson-databind/blob/master/src/main/java/com/fasterxml/jackson/databind/ser/std/BeanSerializerBase.java#L600). This will also happen if an id has been generated before.\nIt might also be smarter to only generate a new id in WritableObjectId.generateId if that hasn't happened before; as that method doesn't have a javadoc I can't tell how it is supposed to work.\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1255/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224182455","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224182455","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224182455,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDE4MjQ1NQ==","user":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-07T05:34:43Z","updated_at":"2016-06-07T05:34:43Z","body":"I've attached a new version of the test project that also includes forward references. You can see that problem is the same for the cyclical reference to the parent and for the forward reference.\n[jackson-test2.zip](https://github.com/FasterXML/jackson-databind/files/301899/jackson-test2.zip)\n[forward-both.txt](https://github.com/FasterXML/jackson-databind/files/301900/forward-both.txt)\n[forward-first.txt](https://github.com/FasterXML/jackson-databind/files/301901/forward-first.txt)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224182455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224256468","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224256468","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224256468,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDI1NjQ2OA==","user":{"login":"jannispl","id":838818,"node_id":"MDQ6VXNlcjgzODgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/838818?v=4","gravatar_id":"","url":"https://api.github.com/users/jannispl","html_url":"https://github.com/jannispl","followers_url":"https://api.github.com/users/jannispl/followers","following_url":"https://api.github.com/users/jannispl/following{/other_user}","gists_url":"https://api.github.com/users/jannispl/gists{/gist_id}","starred_url":"https://api.github.com/users/jannispl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jannispl/subscriptions","organizations_url":"https://api.github.com/users/jannispl/orgs","repos_url":"https://api.github.com/users/jannispl/repos","events_url":"https://api.github.com/users/jannispl/events{/privacy}","received_events_url":"https://api.github.com/users/jannispl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-07T11:46:17Z","updated_at":"2016-06-07T11:48:27Z","body":"I think I'm experiencing a similar issue regarding deserialization and cyclic references - during deserialization, Jackson attempts to resolve some fields (like the `@class` field) in a wrong object (wrong scope, the scope before). This results in exceptions like `Unexpected token (END_OBJECT), expected FIELD_NAME: missing property '@class' that is to contain type id` but also `Unrecognized field`. Very hard to explain and visualize. @arifogel Do you think this is relevant to the original issue?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224256468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jannispl","id":838818,"node_id":"MDQ6VXNlcjgzODgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/838818?v=4","gravatar_id":"","url":"https://api.github.com/users/jannispl","html_url":"https://github.com/jannispl","followers_url":"https://api.github.com/users/jannispl/followers","following_url":"https://api.github.com/users/jannispl/following{/other_user}","gists_url":"https://api.github.com/users/jannispl/gists{/gist_id}","starred_url":"https://api.github.com/users/jannispl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jannispl/subscriptions","organizations_url":"https://api.github.com/users/jannispl/orgs","repos_url":"https://api.github.com/users/jannispl/repos","events_url":"https://api.github.com/users/jannispl/events{/privacy}","received_events_url":"https://api.github.com/users/jannispl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":684237976,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njg0MjM3OTc2","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/684237976","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-06-07T11:46:17Z","performed_via_github_app":null},{"id":684237978,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY4NDIzNzk3OA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/684237978","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-06-07T11:46:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224421250","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224421250","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224421250,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQyMTI1MA==","user":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-07T21:32:57Z","updated_at":"2016-06-07T21:36:00Z","body":"What happens is that when an unresolved reference is encountered, an UnresolvedForwardReference is thrown. If you look at the code, this is only caught properly in CollectionDeserializer and MapDeserializer. It does not appear to be handled correctly in BeanDeserializer. So what happens is that when an UnresolvedReference is encountered as a field of a bean, an exception gets thrown that goes down the stack until a MapDeserializer or a CollectionDeserializer catch block is encountered. If there is no such deserializer on the stack, then the error message that eventually gets output is correct (a message about an unresolved forward reference). However if it gets caught in a MapDeserializer or CollectionDeserializer, then all hell breaks loose. Deserialization continues on the bean fields in JSON, but the deserializer thinks it's in a map or collection down the stack. So then nonsensical error messages get output about how the next field after the UnresolvedForwardReference is not compatible with the value type in the map or collection being deserialized.\nI attempted to fix this by adding catch block in BeanDeserializer (the 2nd patch I provided in discussion of bug #1255), but while it stops the crashes, the resulting deserialized objects can still have incorrect values in the case of forward/cyclical references (as noted in this bug description).\nEDIT:\n@jannispl is this explanation consistent with your observations?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224421250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":685006389,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njg1MDA2Mzg5","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685006389","actor":{"login":"jannispl","id":838818,"node_id":"MDQ6VXNlcjgzODgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/838818?v=4","gravatar_id":"","url":"https://api.github.com/users/jannispl","html_url":"https://github.com/jannispl","followers_url":"https://api.github.com/users/jannispl/followers","following_url":"https://api.github.com/users/jannispl/following{/other_user}","gists_url":"https://api.github.com/users/jannispl/gists{/gist_id}","starred_url":"https://api.github.com/users/jannispl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jannispl/subscriptions","organizations_url":"https://api.github.com/users/jannispl/orgs","repos_url":"https://api.github.com/users/jannispl/repos","events_url":"https://api.github.com/users/jannispl/events{/privacy}","received_events_url":"https://api.github.com/users/jannispl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-06-07T21:36:00Z","performed_via_github_app":null},{"id":685006390,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY4NTAwNjM5MA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685006390","actor":{"login":"jannispl","id":838818,"node_id":"MDQ6VXNlcjgzODgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/838818?v=4","gravatar_id":"","url":"https://api.github.com/users/jannispl","html_url":"https://github.com/jannispl","followers_url":"https://api.github.com/users/jannispl/followers","following_url":"https://api.github.com/users/jannispl/following{/other_user}","gists_url":"https://api.github.com/users/jannispl/gists{/gist_id}","starred_url":"https://api.github.com/users/jannispl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jannispl/subscriptions","organizations_url":"https://api.github.com/users/jannispl/orgs","repos_url":"https://api.github.com/users/jannispl/repos","events_url":"https://api.github.com/users/jannispl/events{/privacy}","received_events_url":"https://api.github.com/users/jannispl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-06-07T21:36:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224471982","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224471982","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224471982,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ3MTk4Mg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T02:38:03Z","updated_at":"2016-06-08T02:38:03Z","body":"Lack of catching for beans is particularly puzzling since that is the main use case.\nSo going back to the original pr, #388 (and issue #351) (they were missing from release notes for reason, added), I think that bean property handling should be included via `ObjectIdReferenceProperty`, and question would be why this isn't triggered in test cases. I will try to see what tests uncover.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224471982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224472224","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224472224","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224472224,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ3MjIyNA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T02:39:46Z","updated_at":"2016-06-08T02:40:14Z","body":"Hmmh. So tests use Creators (constructors). That's typically something that does not mix very well with Object ids, so that's bit of a warning sign. But would explain why it could be an as-of-yet-not-working case.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224472224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224474622","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224474622","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224474622,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ3NDYyMg==","user":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T02:57:40Z","updated_at":"2016-06-08T02:57:40Z","body":"Yes. Unfortunately I cannot avoid using creators in my use case without very significant rewrites to my data model. So I am effectively blocked on this bug at work. Please let me know if there is anything else I can do to help.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224474622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224474839","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224474839","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224474839,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ3NDgzOQ==","user":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T02:59:25Z","updated_at":"2016-06-08T02:59:25Z","body":"Oh and I should comment that the Creators don't seem to be a problem when the field is wrapped in a list (as in the test cases provided), so I'm hoping it won't be too hard to generalize what has been done for objects in maps and collections to beans.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224474839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224481212","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224481212","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224481212,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ4MTIxMg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T03:59:17Z","updated_at":"2016-06-08T03:59:17Z","body":"Looks like failure that I see is `No _idValue when handleIdValue called`, so in some ways it looks like initialization might be missing. This could be a good sign.\n\nFundamental theoretical problem with Creators is that not all cycles can be ever resolved: if a refers to b, and b refers to a (directly or indirectly), then only one of references can be passed via creator.\nSo although I hope many cases can be supported, there are some hard limits to keep in mind.\n\nAnother thing to keep in mind is this: even when using `@JsonCreator`, it is also possible to use setters: so -- for example -- all non-reference properties can be passed via Creator, and references then passed via setter (or directly assigned to Field).\nSo hybrid schemes are possible.\n\nI think I will try to see if locally modifying properties to use setters or fields would make specific test pass. That gives some information on where problems reside.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224481212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224481820","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224481820","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224481820,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ4MTgyMA==","user":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T04:05:03Z","updated_at":"2016-06-08T04:05:03Z","body":"But why does this case work properly for the parentAsList property, but not\nthe parent property? This suggests to be that we are not dealing with a\nfundamental theoretical limitation here, but an implementation problem.\nOn Jun 7, 2016 8:59 PM, \"Tatu Saloranta\" notifications@github.com wrote:\n\n> Looks like failure that I see is No _idValue when handleIdValue called,\n> so in some ways it looks like initialization might be missing. This could\n> be a good sign.\n> \n> Fundamental theoretical problem with Creators is that not all cycles can\n> be ever resolved: if a refers to b, and b refers to a (directly or\n> indirectly), then only one of references can be passed via creator.\n> So although I hope many cases can be supported, there are some hard limits\n> to keep in mind.\n> \n> Another thing to keep in mind is this: even when using @JsonCreator, it\n> is also possible to use setters: so -- for example -- all non-reference\n> properties can be passed via Creator, and references then passed via setter\n> (or directly assigned to Field).\n> So hybrid schemes are possible.\n> \n> I think I will try to see if locally modifying properties to use setters\n> or fields would make specific test pass. That gives some information on\n> where problems reside.\n> \n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224481212,\n> or mute the thread\n> https://github.com/notifications/unsubscribe/AHYSEneiHN6j2ScTgguyVlo1U_IcgSU2ks5qJj4agaJpZM4IvkKy\n> .\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224481820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224482826","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224482826","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224482826,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ4MjgyNg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T04:14:42Z","updated_at":"2016-06-08T04:14:42Z","body":"@arifogel I agree. But I did want to mention eventual challenge in trying to use Creators for Object Id references, to make sure limitations are not a surprise.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224482826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":685269415,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njg1MjY5NDE1","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685269415","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-06-08T04:14:42Z","performed_via_github_app":null},{"id":685269416,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY4NTI2OTQxNg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685269416","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-06-08T04:14:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224483088","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224483088","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224483088,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ4MzA4OA==","user":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T04:17:37Z","updated_at":"2016-06-08T04:17:37Z","body":"So what discipline do you recommend exactly?\nShould JsonCreator still set every field?\nShould reference fields always be non-final and have a corresponding setter\n(and is that irrelevant when using JsonCreator)?\nHow exactly does one instantiate the hybrid approach?\nOn Jun 7, 2016 9:14 PM, \"Tatu Saloranta\" notifications@github.com wrote:\n\n> @arifogel https://github.com/arifogel I agree. But I did want to\n> mention eventual challenge in trying to use Creators for Object Id\n> references, to make sure limitations are not a surprise.\n> \n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224482826,\n> or mute the thread\n> https://github.com/notifications/unsubscribe/AHYSEj42CDhAespjTzS89wRPVukhgdMLks5qJkG3gaJpZM4IvkKy\n> .\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224483088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":685270738,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njg1MjcwNzM4","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685270738","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-06-08T04:17:37Z","performed_via_github_app":null},{"id":685270739,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY4NTI3MDczOQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685270739","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-06-08T04:17:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224485455","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224485455","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224485455,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ4NTQ1NQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T04:41:14Z","updated_at":"2016-06-08T04:41:14Z","body":"@arifogel I would suggest using fields (or setters) for reference properties (except that Collection/Map values appear to be safe as per your comments), and creator for everything else. Nice thing about using fields is that it is possible to keep them private or protected.\n\nAs to resolving issues with creator-passed references: looks like test case passes if only fields (or setters) are used, for what that is worth. I did not try anything fancier, just simple replacement.\nNext step is to reintroduce a failure and see why expected handling is by-passed.\nIt is possible that this could be related to other known issues with Creator property handling (to be worked on 2.9 I hope). That would be both good and bad; good in that it would get resolved along with other work; bad in that I know that work involved is sizable and requires rewrite of property discovery and resolution.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224485455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":685281205,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njg1MjgxMjA1","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685281205","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-06-08T04:41:14Z","performed_via_github_app":null},{"id":685281206,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY4NTI4MTIwNg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685281206","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-06-08T04:41:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224489648","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224489648","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224489648,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ4OTY0OA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T05:14:47Z","updated_at":"2016-06-08T05:14:47Z","body":"@arifogel I actually suspect the example case is indeed impossible (either in general, even with straight java; or with the Jackson deserialization works, more on that below): note that setup code itself does not pass `child5` as \"favorite child\" for constructor of `parent` -- it can't. Instead test calls setter for that.\nThis is needed to break the cycle.\n\nSo what object model needs to do is the same here; remove \"favorite child\" property from constructor, and leave setter. With that modification test passes locally for me.\n\nAs to Jackson limitations: when dealing with Creators, all parameters must be resolvable when matching JSON Object is complete. Unlike with setter/field injection where deferral of Object Id resolution is possible with catching of exception, it can not be done with Creators because they can only be called once; and further Creator must be called to create the instance. For Collections this is different: they are not created using Creator, but simple no-arguments constructor; and elements may be added afterwards. It would be possible to force failure if custom Creator creator, taking all elements as array/Collection argument, was used; test does not do it and I don't think it is common usage pattern. I think this explains difference you saw wrt Collection/Map case compared to POJOs-with-creator.\n\nI'll try to think of better exception to throw, however; current message is not useful at all.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224489648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":685299614,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njg1Mjk5NjE0","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685299614","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-06-08T05:14:47Z","performed_via_github_app":null},{"id":685299615,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY4NTI5OTYxNQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685299615","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-06-08T05:14:47Z","performed_via_github_app":null},{"id":685318446,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDY4NTMxODQ0Ng==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685318446","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9d1fb75645b528b988005fab2452cda1b514f617","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/9d1fb75645b528b988005fab2452cda1b514f617","created_at":"2016-06-08T05:47:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224494674","html_url":"https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224494674","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1261","id":224494674,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDQ5NDY3NA==","user":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-08T05:49:16Z","updated_at":"2016-06-08T05:49:16Z","body":"Thanks! I don't think I need to set references in constructors in my main\nproject, so at least now I know how to modify my code to avoid this problem.\nOn Jun 7, 2016 10:14 PM, \"Tatu Saloranta\" notifications@github.com wrote:\n\n> @arifogel https://github.com/arifogel I actually suspect the example\n> case is indeed impossible (either in general, even with straight java; or\n> with the Jackson deserialization works, more on that below): note that\n> setup code itself does not pass child5 as \"favorite child\" for\n> constructor of parent -- it can't. Instead test calls setter for that.\n> This is needed to break the cycle.\n> \n> So what object model needs to do is the same here; remove \"favorite child\"\n> property from constructor, and leave setter. With that modification test\n> passes locally for me.\n> \n> As to Jackson limitations: when dealing with Creators, all parameters must\n> be resolvable when matching JSON Object is complete. Unlike with\n> setter/field injection where deferral of Object Id resolution is possible\n> with catching of exception, it can not be done with Creators because they\n> can only be called once; and further Creator must be called to create the\n> instance. For Collections this is different: they are not created using\n> Creator, but simple no-arguments constructor; and elements may be added\n> afterwards. It would be possible to force failure if custom Creator\n> creator, taking all elements as array/Collection argument, was used; test\n> does not do it and I don't think it is common usage pattern. I think this\n> explains difference you saw wrt Collection/Map case compared to\n> POJOs-with-creator.\n> \n> I'll try to think of better exception to throw, however; current message\n> is not useful at all.\n> \n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/FasterXML/jackson-databind/issues/1261#issuecomment-224489648,\n> or mute the thread\n> https://github.com/notifications/unsubscribe/AHYSEuUD55tTQ2cIZzIhdukZPiZPoJ0rks5qJk_MgaJpZM4IvkKy\n> .\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/224494674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":685319630,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njg1MzE5NjMw","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685319630","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-06-08T05:49:17Z","performed_via_github_app":null},{"id":685319631,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY4NTMxOTYzMQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/685319631","actor":{"login":"arifogel","id":7737874,"node_id":"MDQ6VXNlcjc3Mzc4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7737874?v=4","gravatar_id":"","url":"https://api.github.com/users/arifogel","html_url":"https://github.com/arifogel","followers_url":"https://api.github.com/users/arifogel/followers","following_url":"https://api.github.com/users/arifogel/following{/other_user}","gists_url":"https://api.github.com/users/arifogel/gists{/gist_id}","starred_url":"https://api.github.com/users/arifogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arifogel/subscriptions","organizations_url":"https://api.github.com/users/arifogel/orgs","repos_url":"https://api.github.com/users/arifogel/repos","events_url":"https://api.github.com/users/arifogel/events{/privacy}","received_events_url":"https://api.github.com/users/arifogel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-06-08T05:49:17Z","performed_via_github_app":null}]