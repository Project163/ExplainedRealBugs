[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43826721","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-43826721","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":43826721,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODI2NzIx","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-21T23:18:42Z","updated_at":"2014-05-21T23:18:42Z","body":"Hmmh. That is rather involved case; and use of `@JsonValue` in conjunction with type information may cause the problem.  But I don't know why type name would not be used as expected.\n\nIf you could write a unit test (ideally as small as possible, but reproducing the problem), I could try figuring out what is causing it.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43826721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43923970","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-43923970","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":43923970,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTIzOTcw","user":{"login":"brianv0","id":549395,"node_id":"MDQ6VXNlcjU0OTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549395?v=4","gravatar_id":"","url":"https://api.github.com/users/brianv0","html_url":"https://github.com/brianv0","followers_url":"https://api.github.com/users/brianv0/followers","following_url":"https://api.github.com/users/brianv0/following{/other_user}","gists_url":"https://api.github.com/users/brianv0/gists{/gist_id}","starred_url":"https://api.github.com/users/brianv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianv0/subscriptions","organizations_url":"https://api.github.com/users/brianv0/orgs","repos_url":"https://api.github.com/users/brianv0/repos","events_url":"https://api.github.com/users/brianv0/events{/privacy}","received_events_url":"https://api.github.com/users/brianv0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-22T18:12:44Z","updated_at":"2014-05-22T18:12:44Z","body":"I think this is as small that I can make it. I've included the case where it fails, when using a `java.math.BigDecimal`, and a case where it succeeds, using a `java.lang.Double`, for comparison. You could probably omit the `java.lang.Double` case.\n\nhttps://gist.github.com/brianv0/5ac674f36afd04610a17\n\nI'd just like to mention my reasoning for doing this. I mostly want an object to create a view of several different types of metadata (decimals, integers, strings, and hopefully timestamps in the future) so I don't have several different metadata collections. Since I mainly deal with metadata describing physics, I've found it's just necessary to use the BigDecimal or BigInteger types (regardless of what javascript does with BigDecimals).\n\nSome additional reasoning is has to do with the fact that most of this code is also serialized with JAXB to XML, so this was the best way I could come up with having the code coexist. That code actually works pretty good.\n\nI realize I may have to do some other things in order to get the full functionality out of what I want, but this might still be useful for me if it's fixed (and I suppose other people as well).\n\nThanks!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43923970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brianv0","id":549395,"node_id":"MDQ6VXNlcjU0OTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549395?v=4","gravatar_id":"","url":"https://api.github.com/users/brianv0","html_url":"https://github.com/brianv0","followers_url":"https://api.github.com/users/brianv0/followers","following_url":"https://api.github.com/users/brianv0/following{/other_user}","gists_url":"https://api.github.com/users/brianv0/gists{/gist_id}","starred_url":"https://api.github.com/users/brianv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianv0/subscriptions","organizations_url":"https://api.github.com/users/brianv0/orgs","repos_url":"https://api.github.com/users/brianv0/repos","events_url":"https://api.github.com/users/brianv0/events{/privacy}","received_events_url":"https://api.github.com/users/brianv0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43924685","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-43924685","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":43924685,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTI0Njg1","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-22T18:18:24Z","updated_at":"2014-05-22T18:18:24Z","body":"Thank you, much appreciated!\n\nOne thing that may or may not be relevant here is this: there are 4 special types -- `int`, `double`, `boolean`, `String` -- for which type information is always omitted. They are called \"natural\" types, and omission is intentional to reduce overhead for common case of `String` values. But this may not be the root cause here: it should not affect `BigInteger` or `BigDecimal`, for example; nor should it be problematic if natural and other types are mixed.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43924685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43928330","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-43928330","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":43928330,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTI4MzMw","user":{"login":"brianv0","id":549395,"node_id":"MDQ6VXNlcjU0OTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549395?v=4","gravatar_id":"","url":"https://api.github.com/users/brianv0","html_url":"https://github.com/brianv0","followers_url":"https://api.github.com/users/brianv0/followers","following_url":"https://api.github.com/users/brianv0/following{/other_user}","gists_url":"https://api.github.com/users/brianv0/gists{/gist_id}","starred_url":"https://api.github.com/users/brianv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianv0/subscriptions","organizations_url":"https://api.github.com/users/brianv0/orgs","repos_url":"https://api.github.com/users/brianv0/repos","events_url":"https://api.github.com/users/brianv0/events{/privacy}","received_events_url":"https://api.github.com/users/brianv0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-22T18:47:42Z","updated_at":"2014-05-22T18:47:42Z","body":"I just checked and it runs into the same issue when serializing `java.lang.Long`, but doesn't when you use `java.lang.Integer` so it could be related.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/43928330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brianv0","id":549395,"node_id":"MDQ6VXNlcjU0OTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549395?v=4","gravatar_id":"","url":"https://api.github.com/users/brianv0","html_url":"https://github.com/brianv0","followers_url":"https://api.github.com/users/brianv0/followers","following_url":"https://api.github.com/users/brianv0/following{/other_user}","gists_url":"https://api.github.com/users/brianv0/gists{/gist_id}","starred_url":"https://api.github.com/users/brianv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianv0/subscriptions","organizations_url":"https://api.github.com/users/brianv0/orgs","repos_url":"https://api.github.com/users/brianv0/repos","events_url":"https://api.github.com/users/brianv0/events{/privacy}","received_events_url":"https://api.github.com/users/brianv0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/44368478","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-44368478","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":44368478,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MzY4NDc4","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-28T05:57:27Z","updated_at":"2014-05-28T05:57:27Z","body":"Actually yes, it is sort of related; code paths do differ, and that is due to work-around added for natural types. But I am not quite sure why and how regular path doesn't work here.\n`@JsonValue` is pretty nasty construct in that I am not quite sure how type info is even supposed to work: should it be on \"outer type\" (nominal type that contains method/property marked with `@JsonValue`), or inner one. And I think this is where type name problem comes from, as well.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/44368478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":125414059,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEyNTQxNDA1OQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/125414059","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f317a0fc0300cbf2f0b1b3af72853db5406640fd","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/f317a0fc0300cbf2f0b1b3af72853db5406640fd","created_at":"2014-05-28T05:59:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/55478819","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-55478819","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":55478819,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDc4ODE5","user":{"login":"brianv0","id":549395,"node_id":"MDQ6VXNlcjU0OTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549395?v=4","gravatar_id":"","url":"https://api.github.com/users/brianv0","html_url":"https://github.com/brianv0","followers_url":"https://api.github.com/users/brianv0/followers","following_url":"https://api.github.com/users/brianv0/following{/other_user}","gists_url":"https://api.github.com/users/brianv0/gists{/gist_id}","starred_url":"https://api.github.com/users/brianv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianv0/subscriptions","organizations_url":"https://api.github.com/users/brianv0/orgs","repos_url":"https://api.github.com/users/brianv0/repos","events_url":"https://api.github.com/users/brianv0/events{/privacy}","received_events_url":"https://api.github.com/users/brianv0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-13T02:08:41Z","updated_at":"2014-09-13T02:08:41Z","body":"At least for other native-ish types (Float, Long) types, is this because in `com.fasterxml.jackson.databind.ser.std.NumberSerializers` they use the default `serializeWithType` method from  `com.fasterxml.jackson.databind.ser.std.StdScalarSerializer`? Both Integer and Double in `NumberSerializers` override the method (and they both work), so would it be possible to just override the method for the other types so all numbers behave at least behave the same?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/55478819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brianv0","id":549395,"node_id":"MDQ6VXNlcjU0OTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549395?v=4","gravatar_id":"","url":"https://api.github.com/users/brianv0","html_url":"https://github.com/brianv0","followers_url":"https://api.github.com/users/brianv0/followers","following_url":"https://api.github.com/users/brianv0/following{/other_user}","gists_url":"https://api.github.com/users/brianv0/gists{/gist_id}","starred_url":"https://api.github.com/users/brianv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianv0/subscriptions","organizations_url":"https://api.github.com/users/brianv0/orgs","repos_url":"https://api.github.com/users/brianv0/repos","events_url":"https://api.github.com/users/brianv0/events{/privacy}","received_events_url":"https://api.github.com/users/brianv0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/55479694","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-55479694","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":55479694,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDc5Njk0","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-13T02:51:49Z","updated_at":"2014-09-13T02:51:49Z","body":"Unfortunately it gets bit more complicated here: difference between `int` and `long` (and similarly, `double` vs `float`) is that one of the pair is consider natural, other not. Being \"natural\" simply means that in absence of type information, integral JSON Number becomes `Integer`, and JSON floating-point number `Double`. So handling for `int` and `long` can not unfortunately be identical.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/55479694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"SamBarker","id":2833578,"node_id":"MDQ6VXNlcjI4MzM1Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2833578?v=4","gravatar_id":"","url":"https://api.github.com/users/SamBarker","html_url":"https://github.com/SamBarker","followers_url":"https://api.github.com/users/SamBarker/followers","following_url":"https://api.github.com/users/SamBarker/following{/other_user}","gists_url":"https://api.github.com/users/SamBarker/gists{/gist_id}","starred_url":"https://api.github.com/users/SamBarker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SamBarker/subscriptions","organizations_url":"https://api.github.com/users/SamBarker/orgs","repos_url":"https://api.github.com/users/SamBarker/repos","events_url":"https://api.github.com/users/SamBarker/events{/privacy}","received_events_url":"https://api.github.com/users/SamBarker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-19T22:02:24Z","updated_at":"2015-10-19T22:02:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/975","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/975/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/975/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/975/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/975","id":112242456,"node_id":"MDU6SXNzdWUxMTIyNDI0NTY=","number":975,"title":"Jackson long serialisation can't be read by deserialsier","user":{"login":"SamBarker","id":2833578,"node_id":"MDQ6VXNlcjI4MzM1Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2833578?v=4","gravatar_id":"","url":"https://api.github.com/users/SamBarker","html_url":"https://github.com/SamBarker","followers_url":"https://api.github.com/users/SamBarker/followers","following_url":"https://api.github.com/users/SamBarker/following{/other_user}","gists_url":"https://api.github.com/users/SamBarker/gists{/gist_id}","starred_url":"https://api.github.com/users/SamBarker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SamBarker/subscriptions","organizations_url":"https://api.github.com/users/SamBarker/orgs","repos_url":"https://api.github.com/users/SamBarker/repos","events_url":"https://api.github.com/users/SamBarker/events{/privacy}","received_events_url":"https://api.github.com/users/SamBarker/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-10-19T22:02:24Z","updated_at":"2016-04-22T05:00:37Z","closed_at":"2016-04-22T05:00:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-10T02:17:47Z","pushed_at":"2025-11-10T02:17:44Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83236,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":383,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":383,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"We've been tripped up by an inconsistency between how the jackson serialiser treats long (presumably all non \"natural\" numbers) when generics are involved. \n\nI've pulled out a simplified test case. \n\n``` java\npackage com.x.configuration;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.annotation.JsonTypeName;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.jsontype.TypeResolverBuilder;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.slf4j.Logger;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.junit.Assert.assertThat;\nimport static org.slf4j.LoggerFactory.getLogger;\n\npublic class JacksonLongTest {\n\n    private static final long EXPECTED_LONG = 1L;\n    private ObjectMapper objectMapper;\n    private static final Logger logger = getLogger(JacksonLongTest.class);\n\n    @Before\n    public void setUp() throws Exception {\n        objectMapper = new ObjectMapper();\n        objectMapper.addMixIn(List.class, ListMixin.class);\n        TypeResolverBuilder<?> typer = new ObjectMapper.DefaultTypeResolverBuilder(ObjectMapper.DefaultTyping.NON_FINAL) {\n        };\n        typer = typer.init(JsonTypeInfo.Id.NAME, null);\n        typer = typer.inclusion(JsonTypeInfo.As.PROPERTY);\n        typer = typer.typeIdVisibility(true);\n        objectMapper.setDefaultTyping(typer);\n\n    }\n\n    @Test\n    public void shouldDeserialize() throws IOException {\n        //Given\n        final ArrayList<Long> longs = new ArrayList<Long>();\n        longs.add(EXPECTED_LONG);\n        final Data data = new Data(EXPECTED_LONG, longs);\n        final String s = objectMapper.writerWithType(objectMapper.constructType(Data.class)).writeValueAsString(data);\n        logger.info(\"serialized: {}\", s);\n\n        //When\n        final Data actualLong = objectMapper.readValue(s, Data.class);\n\n        //Then\n        assertThat(actualLong, equalTo(data));\n    }\n\n    @JsonTypeName(\"data\")\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\n    public static class Data {\n        @JsonProperty\n        private final long longField;\n\n        @JsonProperty\n        private final List<? extends Number> longsList;\n\n        @JsonCreator\n        public Data(@JsonProperty(\"longField\") long longField,\n                    @JsonProperty(\"longsList\") List<Long> longsList) {\n            this.longField = longField;\n            this.longsList = longsList;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Data data = (Data) o;\n            return longField == data.longField &&\n                    Objects.equals(longsList, data.longsList);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(longField, longsList);\n        }\n    }\n\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\n    @JsonSubTypes(@JsonSubTypes.Type(value = ArrayList.class, name = \"ArrayList\"))\n    public static class ListMixin {\n    }\n}\n```\n\nThis is serialised as:\n\n``` json\n{\"@type\":\"data\",\"longField\":1,\"longsList\":[\"ArrayList\",[[\"Long\",1]]]}\n```\n\nI don't understand why the same value is represented differently in each case.\n\nTrying to read that value back in results in:\n\n```\ncom.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.Long out of START_ARRAY token\n at [Source: {\"@type\":\"data\",\"longField\":1,\"longsList\":[\"ArrayList\",[[\"Long\",1]]]}; line: 1, column: 57] (through reference chain: com.x.configuration.Data[\"longsList\"]->java.util.ArrayList[0])\n```\n\nI think https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-55479694 is probably related here (it certainly gave me a good idea what was going on). However I'm not clear from that what we can do to avoid the problem.\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/975/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":812596438,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDgxMjU5NjQzOA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/812596438","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-10-05T00:17:20Z","milestone":{"title":"2.8.4"},"performed_via_github_app":null},{"id":812596765,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDgxMjU5Njc2NQ==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/812596765","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a1a87936b12a8b254fb780ac7d91c786fa180e5c","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/a1a87936b12a8b254fb780ac7d91c786fa180e5c","created_at":"2016-10-05T00:17:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251550205","html_url":"https://github.com/FasterXML/jackson-databind/issues/466#issuecomment-251550205","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/466","id":251550205,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTU1MDIwNQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-05T00:18:23Z","updated_at":"2016-10-05T00:18:23Z","body":"Somewhat surprisingly, this is now fixed: suspecting this is due to #1385 fix.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251550205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":812597268,"node_id":"MDExOkNsb3NlZEV2ZW50ODEyNTk3MjY4","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/812597268","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"a1a87936b12a8b254fb780ac7d91c786fa180e5c","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/a1a87936b12a8b254fb780ac7d91c786fa180e5c","created_at":"2016-10-05T00:18:39Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"onderson","id":1903588,"node_id":"MDQ6VXNlcjE5MDM1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1903588?v=4","gravatar_id":"","url":"https://api.github.com/users/onderson","html_url":"https://github.com/onderson","followers_url":"https://api.github.com/users/onderson/followers","following_url":"https://api.github.com/users/onderson/following{/other_user}","gists_url":"https://api.github.com/users/onderson/gists{/gist_id}","starred_url":"https://api.github.com/users/onderson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onderson/subscriptions","organizations_url":"https://api.github.com/users/onderson/orgs","repos_url":"https://api.github.com/users/onderson/repos","events_url":"https://api.github.com/users/onderson/events{/privacy}","received_events_url":"https://api.github.com/users/onderson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-16T20:02:04Z","updated_at":"2017-06-16T20:02:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1385","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1385/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1385/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1385/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/1385","id":179175380,"node_id":"MDU6SXNzdWUxNzkxNzUzODA=","number":1385,"title":"Polymorphic type lost when using `@JsonValue`","user":{"login":"TomMarkuske","id":22442708,"node_id":"MDQ6VXNlcjIyNDQyNzA4","avatar_url":"https://avatars.githubusercontent.com/u/22442708?v=4","gravatar_id":"","url":"https://api.github.com/users/TomMarkuske","html_url":"https://github.com/TomMarkuske","followers_url":"https://api.github.com/users/TomMarkuske/followers","following_url":"https://api.github.com/users/TomMarkuske/following{/other_user}","gists_url":"https://api.github.com/users/TomMarkuske/gists{/gist_id}","starred_url":"https://api.github.com/users/TomMarkuske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TomMarkuske/subscriptions","organizations_url":"https://api.github.com/users/TomMarkuske/orgs","repos_url":"https://api.github.com/users/TomMarkuske/repos","events_url":"https://api.github.com/users/TomMarkuske/events{/privacy}","received_events_url":"https://api.github.com/users/TomMarkuske/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/64","html_url":"https://github.com/FasterXML/jackson-databind/milestone/64","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/64/labels","id":2027761,"node_id":"MDk6TWlsZXN0b25lMjAyNzc2MQ==","number":64,"title":"2.8.4","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8.4","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":9,"state":"closed","created_at":"2016-09-26T06:09:27Z","updated_at":"2021-03-04T04:36:37Z","due_on":"2016-10-14T07:00:00Z","closed_at":"2021-03-04T04:36:37Z"},"comments":5,"created_at":"2016-09-26T09:08:33Z","updated_at":"2017-06-16T20:02:04Z","closed_at":"2016-09-28T22:49:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-10T02:17:47Z","pushed_at":"2025-11-10T02:17:44Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83236,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":383,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":383,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When suppressing all getters but one with @JsonIgnore and choosing to use a byte array for serialization (marking its getter with @JsonValue), the typing of the object is changed to \"[B\", which is deserialized to a byte array. I would have expected verbose typing and usage of the constructor  marked with @JsonCreator that accepts the byte array to construct the object on deserialization. The behavior is as expected when choosing more fields for serialization, which is redundant data in this case.\n\nRunning  jackson-databind 2.7.4 on Java 1.8.0_91.\n\nConfiguration of the ObjectMapper:\n\n```\nprivate final ObjectMapper mapper;\npublic JsonFilter() {\n    this.mapper = new ObjectMapper();\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n    mapper.enableDefaultTyping();\n}\n```\n\nSerialization: `mapper.writeValueAsString(message)`\nDeserialization: `mapper.readValue(json, RemoteCall.class)`\n\nGetter and field:\n\n```\n/** @serial */\nprivate byte[] apdu;\n\n@JsonValue\npublic byte[] getBytes() {\n    return apdu.clone();\n}\n```\n\nConstructor:\n\n```\n@JsonCreator\npublic CommandAPDU(@JsonProperty(value = \"bytes\") byte[] apdu) {\n    this.apdu = apdu.clone();\n    parse();\n    LOG.v(\"com.ubitricity.devices.common.pal.CommandAPDU creator (1)\");\n}\n```\n\nSerializes to `\"args\":[[\"[B\",\"AKQEAAnw8fLz9AAAAgA=\"],[\"net.sf.lipermi.call.RemoteInstance\",{\"instanceId\":\"b0e15098-f49e-4328-b072-fc5df42799bd\",\"className\":\"com.ubitricity.devices.common.tasks.ResponseReceiver\"}]]` where \"args\" is an Object array field of the enclosing object.\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1385/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]