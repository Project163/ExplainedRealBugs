{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3006","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3006/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3006/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3006/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/3006","id":778047639,"node_id":"MDU6SXNzdWU3NzgwNDc2Mzk=","number":3006,"title":"Argument type mismatch for `enum` with `@JsonCreator` that takes String, gets JSON Number","user":{"login":"GrozaAnton","id":4939659,"node_id":"MDQ6VXNlcjQ5Mzk2NTk=","avatar_url":"https://avatars.githubusercontent.com/u/4939659?v=4","gravatar_id":"","url":"https://api.github.com/users/GrozaAnton","html_url":"https://github.com/GrozaAnton","followers_url":"https://api.github.com/users/GrozaAnton/followers","following_url":"https://api.github.com/users/GrozaAnton/following{/other_user}","gists_url":"https://api.github.com/users/GrozaAnton/gists{/gist_id}","starred_url":"https://api.github.com/users/GrozaAnton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GrozaAnton/subscriptions","organizations_url":"https://api.github.com/users/GrozaAnton/orgs","repos_url":"https://api.github.com/users/GrozaAnton/repos","events_url":"https://api.github.com/users/GrozaAnton/events{/privacy}","received_events_url":"https://api.github.com/users/GrozaAnton/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/133","html_url":"https://github.com/FasterXML/jackson-databind/milestone/133","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/133/labels","id":7302784,"node_id":"MI_kwDOAC5e2c4Ab26A","number":133,"title":"2.13.1","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":5,"state":"open","created_at":"2021-10-29T01:37:58Z","updated_at":"2021-12-11T00:38:45Z","due_on":null,"closed_at":null},"comments":7,"created_at":"2021-01-04T12:04:01Z","updated_at":"2021-12-04T03:40:28Z","closed_at":"2021-10-13T02:42:08Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nArray of number does not parse.\r\nproblem: argument type mismatch (through reference chain: java.lang.Object[][0])\r\n\r\n**Version information**\r\n2.12.0\r\n\r\n**To Reproduce**\r\nSample in Java\r\n\r\n```\r\npublic class Foo {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Type type = Operation[].class;\r\n        List<String> sources = List.of(\"[1,3]\", \"[\\\"1\\\",\\\"3\\\"]\");\r\n\r\n        ObjectMapper mapper = new CustomObjectMapper();\r\n\r\n            sources.forEach(s -> {\r\n                try {\r\n                    mapper.readValue(s, mapper.constructType(type));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n\r\n    }\r\n\r\n    public static class CustomJsonFactory extends JsonFactory {\r\n        public CustomJsonFactory() {\r\n            super();\r\n            enable(JsonGenerator.Feature.WRITE_BIGDECIMAL_AS_PLAIN);\r\n            enable(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);\r\n        }\r\n    }\r\n\r\n    public static class CustomObjectMapper extends ObjectMapper {\r\n        public CustomObjectMapper() {\r\n            super(new CustomJsonFactory());\r\n\r\n            setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\n            // Disabling failure on received unknown properties\r\n            configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            configure(JsonParser.Feature.INCLUDE_SOURCE_IN_LOCATION, false);\r\n            configure(DeserializationFeature.ACCEPT_FLOAT_AS_INT, false);\r\n\r\n            // Disabling getter and setter during bean mapping\r\n            setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            setVisibility(PropertyAccessor.GETTER, JsonAutoDetect.Visibility.NONE);\r\n            setVisibility(PropertyAccessor.SETTER, JsonAutoDetect.Visibility.NONE);\r\n            setVisibility(PropertyAccessor.IS_GETTER, JsonAutoDetect.Visibility.NONE);\r\n        }\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    enum Operation {\r\n        ONE(1L),\r\n        TWO(2L),\r\n        THREE(3L);\r\n\r\n        private static final Map<Long, Operation> mapping;\r\n\r\n        static {\r\n            HashMap<Long, Operation> operations = new HashMap<>();\r\n            for (Operation operation : Operation.values()) {\r\n                operations.put(operation.getId(), operation);\r\n            }\r\n\r\n            mapping = Collections.unmodifiableMap(operations);\r\n        }\r\n\r\n        @Getter\r\n        private final long id;\r\n\r\n        @JsonCreator\r\n        public static Operation forValue(@NonNull final String idStr) {\r\n            Operation candidate = mapping.get(Long.parseLong(idStr));\r\n            if (candidate == null) {\r\n                throw new IllegalArgumentException(\"Unable \" + idStr);\r\n            }\r\n            return candidate;\r\n        }\r\n\r\n        @JsonValue\r\n        public long toValue() {\r\n            return id;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Expected behavior**\r\nOn version 2.10.5.1 I have two works cases for my sample \"[1,3]\" and \"[\\\"1\\\",\\\"3\\\"]\"\r\nSince 2.11.0 case with JSON \"[1,3]\" does not work;\r\nI did not find in the change logs changes of this behavior.\r\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3006/timeline","performed_via_github_app":null,"state_reason":"completed"}