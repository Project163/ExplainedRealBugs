{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3234","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3234/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3234/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3234/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/3234","id":962897386,"node_id":"MDU6SXNzdWU5NjI4OTczODY=","number":3234,"title":"`StdDeserializer` rejects blank (all-whitespace) strings for ints","user":{"login":"pburka","id":3958987,"node_id":"MDQ6VXNlcjM5NTg5ODc=","avatar_url":"https://avatars.githubusercontent.com/u/3958987?v=4","gravatar_id":"","url":"https://api.github.com/users/pburka","html_url":"https://github.com/pburka","followers_url":"https://api.github.com/users/pburka/followers","following_url":"https://api.github.com/users/pburka/following{/other_user}","gists_url":"https://api.github.com/users/pburka/gists{/gist_id}","starred_url":"https://api.github.com/users/pburka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pburka/subscriptions","organizations_url":"https://api.github.com/users/pburka/orgs","repos_url":"https://api.github.com/users/pburka/repos","events_url":"https://api.github.com/users/pburka/events{/privacy}","received_events_url":"https://api.github.com/users/pburka/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/126","html_url":"https://github.com/FasterXML/jackson-databind/milestone/126","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/126/labels","id":6339120,"node_id":"MDk6TWlsZXN0b25lNjMzOTEyMA==","number":126,"title":"2.13.0","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"open","created_at":"2021-01-22T02:20:01Z","updated_at":"2025-10-16T01:27:23Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2021-08-06T16:52:08Z","updated_at":"2021-09-24T03:35:51Z","closed_at":"2021-09-24T03:34:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nIn Jackson 2.10.2 the standard deserializer converts empty strings and all-whitespace strings to zero when deserializing to ints. In 2.12 the default behavior changed: it accepts blank strings but not strings consisting only of whitespace (e.g. `\"  \"`). Instead of deserializing to zero, it throws `InvalidFormatException`. I imagine this is related to the changes to leniency handling in 2.12. While it's great to be able to configure leniency, for backwards compatibility the library should maintain the old default behavior.\r\n\r\n**Version information**\r\n2.12.4\r\n\r\n**To Reproduce**\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n\r\n@JsonDeserialize\r\npublic class Jack {\r\n    private final int j;\r\n\r\n    @JsonCreator\r\n    public Jack(@JsonProperty(\"J\") int j) {\r\n        this.j = j;\r\n    }\r\n\r\n    private static void test(String s) {\r\n        final String json = \"{ \\\"J\\\" : \\\"\" + s + \"\\\" }\";\r\n        try {\r\n            final Jack jack = new ObjectMapper().readValue(json, Jack.class);\r\n            System.out.println(\"j=\" + jack.j);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // With Jackson 2.10.2 these all print j=0\r\n        test(\"0\");\r\n        test(\"0 \");\r\n        test(\" 0\");\r\n        test(\" 0 \");\r\n        test(\"\");\r\n        // With Jackson 2.12.4 these throw InvalidFormatException\r\n        test(\" \");\r\n        test(\"    \");\r\n        test(\"\\\\n\");\r\n    }\r\n}\r\n```\r\n\r\n**Expected behavior**\r\n\r\nExpected behavior: the default deserializer should behave consistently in 2.10 and 2.12.\r\n\r\nActual behavior: the 2.12 deserializer is less lenient and rejects non-empty strings that contain only whitespace.\r\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/3234/timeline","performed_via_github_app":null,"state_reason":"completed"}