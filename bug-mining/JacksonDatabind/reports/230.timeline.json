[{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251277680","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-251277680","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":251277680,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTI3NzY4MA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-04T02:08:27Z","updated_at":"2016-10-04T02:25:55Z","body":"@UghZan3 Quick fix is to change field type to be `Long` (wrapper type), instead of primitive `long`.\nI am not yet sure how mechanics work here, and I hope there is a way to handle this. But in the meantime, work-around should be useful.\n\nAs to why `int` works: I suspect this actually is related to \"natural type\" handling, so it's a special case, along with a small number of types (`double`, `boolean` and `String` being others).\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251277680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":811157545,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODExMTU3NTQ1","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811157545","actor":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-04T02:08:27Z","performed_via_github_app":null},{"id":811157546,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxMTE1NzU0Ng==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811157546","actor":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-04T02:08:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251280160","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-251280160","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":251280160,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTI4MDE2MA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-04T02:30:21Z","updated_at":"2016-10-04T02:39:16Z","body":"Ok, actually this is not a bug in Jackson but one in usage of `StdTypeResolverBuilder`. Problem is that if you directly use it, it will try to add type information for literally every property; and while this works ok for many types, it does not work for primitives (because of discrepancy between primitives and wrapper types, during Reflection processing). If you look at `DefaultTypeResolverBuilder` (defined as inner class of `ObjectMapper`) you can see how inclusion constraining is handled.\nSo if you don't want to change field type, you will want to add a check like:\n\n```\n If (baseType.isPrimitive()) {\n   return null;\n}\n```\n\nin `buildTypeSerializer()` and `buildTypeDeserializer()`; this requires sub-classing it.\nOr, you might want be able to just use `DefaultTypeResolverBuilder`.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251280160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":811172516,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDgxMTE3MjUxNg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811172516","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-10-04T02:33:58Z","milestone":{"title":"2.8"},"performed_via_github_app":null},{"id":811172693,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50ODExMTcyNjkz","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811172693","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2016-10-04T02:34:17Z","rename":{"from":"Deserialize primitive long field while using TypeResolverBuilder","to":"Problems deserializing primitive `long` field while using `TypeResolverBuilder`"},"performed_via_github_app":null},{"id":811174752,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDgxMTE3NDc1Mg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811174752","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"82c346ae999e1e250fb52732419aff9a86b1f455","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/82c346ae999e1e250fb52732419aff9a86b1f455","created_at":"2016-10-04T02:37:31Z","performed_via_github_app":null},{"id":811174920,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50ODExMTc0OTIw","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811174920","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2016-10-04T02:37:46Z","milestone":{"title":"2.8"},"performed_via_github_app":null},{"id":811174942,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDgxMTE3NDk0Mg==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811174942","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-10-04T02:37:49Z","milestone":{"title":"2.8.4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251281293","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-251281293","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":251281293,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTI4MTI5Mw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-04T02:39:41Z","updated_at":"2016-10-04T02:39:41Z","body":"I was able to make a change that prevents use of type info for all primitive types, since I don't see any benefit from allowing it. An alternative would be to always use type info for matching wrapper.\nI suspect this only affects uses like here, where `StdTypeResolverBuilder` is directly used.\n\nAnyway, with 2.8.4 code should work even without modifications.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251281293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":811176219,"node_id":"MDExOkNsb3NlZEV2ZW50ODExMTc2MjE5","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811176219","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"82c346ae999e1e250fb52732419aff9a86b1f455","commit_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits/82c346ae999e1e250fb52732419aff9a86b1f455","created_at":"2016-10-04T02:39:58Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251318858","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-251318858","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":251318858,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTMxODg1OA==","user":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-04T07:52:58Z","updated_at":"2016-10-04T07:52:58Z","body":"@cowtowncoder  I am very grateful for your fast solution to this issue. It has held me back in a certain avenue of my work for some days now. I will buy you a beer if I ever see you. Thanks.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251318858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":811363683,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODExMzYzNjgz","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811363683","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-04T07:52:58Z","performed_via_github_app":null},{"id":811363684,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxMTM2MzY4NA==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811363684","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-04T07:52:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251411919","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-251411919","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":251411919,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTQxMTkxOQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-04T14:53:10Z","updated_at":"2016-10-04T14:53:10Z","body":"@UghZan3 Glad to be of service! And thank you for reporting this, one less bug for anyone to stumble upon.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/251411919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":811874792,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODExODc0Nzky","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811874792","actor":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-04T14:53:10Z","performed_via_github_app":null},{"id":811874793,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxMTg3NDc5Mw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/811874793","actor":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-04T14:53:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/306174961","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-306174961","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":306174961,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjE3NDk2MQ==","user":{"login":"Madhu147","id":17875270,"node_id":"MDQ6VXNlcjE3ODc1Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/17875270?v=4","gravatar_id":"","url":"https://api.github.com/users/Madhu147","html_url":"https://github.com/Madhu147","followers_url":"https://api.github.com/users/Madhu147/followers","following_url":"https://api.github.com/users/Madhu147/following{/other_user}","gists_url":"https://api.github.com/users/Madhu147/gists{/gist_id}","starred_url":"https://api.github.com/users/Madhu147/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Madhu147/subscriptions","organizations_url":"https://api.github.com/users/Madhu147/orgs","repos_url":"https://api.github.com/users/Madhu147/repos","events_url":"https://api.github.com/users/Madhu147/events{/privacy}","received_events_url":"https://api.github.com/users/Madhu147/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-05T12:24:18Z","updated_at":"2017-06-05T12:24:18Z","body":"I am facing similar issue using the jackson-databind-2.8.8 with date fields. Could you please help me on this \r\n\r\nClass java.util.GregorianCalendar not subtype of [simple type, class javax.xml.datatype.XMLGregorianCalendar]","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/306174961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Madhu147","id":17875270,"node_id":"MDQ6VXNlcjE3ODc1Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/17875270?v=4","gravatar_id":"","url":"https://api.github.com/users/Madhu147","html_url":"https://github.com/Madhu147","followers_url":"https://api.github.com/users/Madhu147/followers","following_url":"https://api.github.com/users/Madhu147/following{/other_user}","gists_url":"https://api.github.com/users/Madhu147/gists{/gist_id}","starred_url":"https://api.github.com/users/Madhu147/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Madhu147/subscriptions","organizations_url":"https://api.github.com/users/Madhu147/orgs","repos_url":"https://api.github.com/users/Madhu147/repos","events_url":"https://api.github.com/users/Madhu147/events{/privacy}","received_events_url":"https://api.github.com/users/Madhu147/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/306265405","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-306265405","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":306265405,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjI2NTQwNQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-05T18:25:23Z","updated_at":"2017-06-05T18:25:23Z","body":"@MadhuMalluri Please file separate issue; this may or may not be related, and a reproduction will be needed.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/306265405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1110453056,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTExMDQ1MzA1Ng==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1110453056","actor":{"login":"Madhu147","id":17875270,"node_id":"MDQ6VXNlcjE3ODc1Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/17875270?v=4","gravatar_id":"","url":"https://api.github.com/users/Madhu147","html_url":"https://github.com/Madhu147","followers_url":"https://api.github.com/users/Madhu147/followers","following_url":"https://api.github.com/users/Madhu147/following{/other_user}","gists_url":"https://api.github.com/users/Madhu147/gists{/gist_id}","starred_url":"https://api.github.com/users/Madhu147/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Madhu147/subscriptions","organizations_url":"https://api.github.com/users/Madhu147/orgs","repos_url":"https://api.github.com/users/Madhu147/repos","events_url":"https://api.github.com/users/Madhu147/events{/privacy}","received_events_url":"https://api.github.com/users/Madhu147/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-06-05T18:25:23Z","performed_via_github_app":null},{"id":1110453057,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExMTA0NTMwNTc=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/1110453057","actor":{"login":"Madhu147","id":17875270,"node_id":"MDQ6VXNlcjE3ODc1Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/17875270?v=4","gravatar_id":"","url":"https://api.github.com/users/Madhu147","html_url":"https://github.com/Madhu147","followers_url":"https://api.github.com/users/Madhu147/followers","following_url":"https://api.github.com/users/Madhu147/following{/other_user}","gists_url":"https://api.github.com/users/Madhu147/gists{/gist_id}","starred_url":"https://api.github.com/users/Madhu147/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Madhu147/subscriptions","organizations_url":"https://api.github.com/users/Madhu147/orgs","repos_url":"https://api.github.com/users/Madhu147/repos","events_url":"https://api.github.com/users/Madhu147/events{/privacy}","received_events_url":"https://api.github.com/users/Madhu147/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-06-05T18:25:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/641279477","html_url":"https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-641279477","issue_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/1395","id":641279477,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTI3OTQ3Nw==","user":{"login":"obroomhall","id":4409652,"node_id":"MDQ6VXNlcjQ0MDk2NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4409652?v=4","gravatar_id":"","url":"https://api.github.com/users/obroomhall","html_url":"https://github.com/obroomhall","followers_url":"https://api.github.com/users/obroomhall/followers","following_url":"https://api.github.com/users/obroomhall/following{/other_user}","gists_url":"https://api.github.com/users/obroomhall/gists{/gist_id}","starred_url":"https://api.github.com/users/obroomhall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/obroomhall/subscriptions","organizations_url":"https://api.github.com/users/obroomhall/orgs","repos_url":"https://api.github.com/users/obroomhall/repos","events_url":"https://api.github.com/users/obroomhall/events{/privacy}","received_events_url":"https://api.github.com/users/obroomhall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T13:08:45Z","updated_at":"2020-06-09T13:08:45Z","body":"This fix breaks a use case in which a field should to be serialised as a boxed primitive. If I modify the test given by @antantantan slightly to include some additional annotations, including a `@JsonSubTypes.Type` annotation, the test fails to box the serialised value.\r\n\r\nThe problem is solved by reverting this commit, I have tested on 2.8.4 and 2.11.0 with the reverted commit and can confirm my test case passes. Would it be possible to solve my issue, without reverting the current fix?\r\n\r\n```java\r\npackage com.fasterxml.jackson.databind.jsontype;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.jsontype.impl.StdTypeResolverBuilder;\r\nimport org.junit.Ignore;\r\nimport java.util.*;\r\n\r\n// [databind#1395]: prevent attempts at including type info for primitives\r\npublic class DefaultTypingWithPrimitivesTest extends BaseMapTest\r\n{\r\n    static class Data {\r\n\r\n        private long key;\r\n\r\n        @JsonCreator\r\n        private Data(@JsonProperty(\"key\") Long key) {\r\n            this.key = key;\r\n        }\r\n\r\n        @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"@class\")\r\n        @JsonSubTypes.Type(value = Long.class)\r\n        public long key() {\r\n            return key;\r\n        }\r\n    }\r\n\r\n    @Ignore\r\n    public void testDefaultTypingWithLong() throws Exception\r\n    {\r\n        Data data = new Data(1L);\r\n        Map<String, Object> mapData = new HashMap<String, Object>();\r\n        mapData.put(\"longInMap\", 2L);\r\n        mapData.put(\"longAsField\", data);\r\n\r\n        // Configure Jackson to preserve types\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        StdTypeResolverBuilder resolver = new StdTypeResolverBuilder();\r\n        resolver.init(JsonTypeInfo.Id.CLASS, null);\r\n        resolver.inclusion(JsonTypeInfo.As.PROPERTY);\r\n        resolver.typeProperty(\"__t\");\r\n        mapper.setDefaultTyping(resolver);\r\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        // Serialize\r\n        String json = mapper.writeValueAsString(mapData);\r\n\r\n        // Deserialize\r\n        Map<?,?> result = mapper.readValue(json, Map.class);\r\n        assertNotNull(result);\r\n        assertEquals(2, result.size());\r\n    }\r\n}\r\n```\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (VALUE_NUMBER_INT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class java.lang.Long\r\n at [Source: (String)\"{\r\n  \"__t\" : \"java.util.HashMap\",\r\n  \"longInMap\" : [ \"java.lang.Long\", 2 ],\r\n  \"longAsField\" : {\r\n    \"__t\" : \"com.fasterxml.jackson.databind.jsontype.DefaultTypingWithPrimitivesTest$Data\",\r\n    \"key\" : 1\r\n  }\r\n}\"; line: 6, column: 13] (through reference chain: java.util.HashMap[\"longAsField\"]->com.fasterxml.jackson.databind.jsontype.DefaultTypingWithPrimitivesTest$Data[\"key\"])\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments/641279477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"obroomhall","id":4409652,"node_id":"MDQ6VXNlcjQ0MDk2NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4409652?v=4","gravatar_id":"","url":"https://api.github.com/users/obroomhall","html_url":"https://github.com/obroomhall","followers_url":"https://api.github.com/users/obroomhall/followers","following_url":"https://api.github.com/users/obroomhall/following{/other_user}","gists_url":"https://api.github.com/users/obroomhall/gists{/gist_id}","starred_url":"https://api.github.com/users/obroomhall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/obroomhall/subscriptions","organizations_url":"https://api.github.com/users/obroomhall/orgs","repos_url":"https://api.github.com/users/obroomhall/repos","events_url":"https://api.github.com/users/obroomhall/events{/privacy}","received_events_url":"https://api.github.com/users/obroomhall/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3424789963,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzQyNDc4OTk2Mw==","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/3424789963","actor":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-06-09T13:08:45Z","performed_via_github_app":null},{"id":3424789970,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM0MjQ3ODk5NzA=","url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events/3424789970","actor":{"login":"antantantan","id":22540168,"node_id":"MDQ6VXNlcjIyNTQwMTY4","avatar_url":"https://avatars.githubusercontent.com/u/22540168?v=4","gravatar_id":"","url":"https://api.github.com/users/antantantan","html_url":"https://github.com/antantantan","followers_url":"https://api.github.com/users/antantantan/followers","following_url":"https://api.github.com/users/antantantan/following{/other_user}","gists_url":"https://api.github.com/users/antantantan/gists{/gist_id}","starred_url":"https://api.github.com/users/antantantan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antantantan/subscriptions","organizations_url":"https://api.github.com/users/antantantan/orgs","repos_url":"https://api.github.com/users/antantantan/repos","events_url":"https://api.github.com/users/antantantan/events{/privacy}","received_events_url":"https://api.github.com/users/antantantan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-06-09T13:08:45Z","performed_via_github_app":null},{"actor":{"login":"obroomhall","id":4409652,"node_id":"MDQ6VXNlcjQ0MDk2NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4409652?v=4","gravatar_id":"","url":"https://api.github.com/users/obroomhall","html_url":"https://github.com/obroomhall","followers_url":"https://api.github.com/users/obroomhall/followers","following_url":"https://api.github.com/users/obroomhall/following{/other_user}","gists_url":"https://api.github.com/users/obroomhall/gists{/gist_id}","starred_url":"https://api.github.com/users/obroomhall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/obroomhall/subscriptions","organizations_url":"https://api.github.com/users/obroomhall/orgs","repos_url":"https://api.github.com/users/obroomhall/repos","events_url":"https://api.github.com/users/obroomhall/events{/privacy}","received_events_url":"https://api.github.com/users/obroomhall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T13:11:11Z","updated_at":"2020-06-09T13:11:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2753","repository_url":"https://api.github.com/repos/FasterXML/jackson-databind","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2753/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2753/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2753/events","html_url":"https://github.com/FasterXML/jackson-databind/issues/2753","id":635416995,"node_id":"MDU6SXNzdWU2MzU0MTY5OTU=","number":2753,"title":"Fix #1395 changes behaviour for boxed primitive subtypes","user":{"login":"obroomhall","id":4409652,"node_id":"MDQ6VXNlcjQ0MDk2NTI=","avatar_url":"https://avatars.githubusercontent.com/u/4409652?v=4","gravatar_id":"","url":"https://api.github.com/users/obroomhall","html_url":"https://github.com/obroomhall","followers_url":"https://api.github.com/users/obroomhall/followers","following_url":"https://api.github.com/users/obroomhall/following{/other_user}","gists_url":"https://api.github.com/users/obroomhall/gists{/gist_id}","starred_url":"https://api.github.com/users/obroomhall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/obroomhall/subscriptions","organizations_url":"https://api.github.com/users/obroomhall/orgs","repos_url":"https://api.github.com/users/obroomhall/repos","events_url":"https://api.github.com/users/obroomhall/events{/privacy}","received_events_url":"https://api.github.com/users/obroomhall/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/114","html_url":"https://github.com/FasterXML/jackson-databind/milestone/114","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones/114/labels","id":5382606,"node_id":"MDk6TWlsZXN0b25lNTM4MjYwNg==","number":114,"title":"2.11.1","description":"Release notes: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.11.1","creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":10,"state":"closed","created_at":"2020-05-04T21:18:01Z","updated_at":"2021-03-04T04:21:58Z","due_on":"2020-06-25T07:00:00Z","closed_at":"2021-03-04T04:21:58Z"},"comments":4,"created_at":"2020-06-09T13:11:10Z","updated_at":"2020-06-20T02:31:03Z","closed_at":"2020-06-20T02:31:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3038937,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM4OTM3","name":"jackson-databind","full_name":"FasterXML/jackson-databind","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-databind","description":"General data-binding package for Jackson (2.x): works on streaming API (core) implementation(s)","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-databind","forks_url":"https://api.github.com/repos/FasterXML/jackson-databind/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-databind/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-databind/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-databind/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-databind/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-databind/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-databind/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-databind/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-databind/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-databind/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-databind/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-databind/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-databind/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-databind/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-databind/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-databind/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-databind/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-databind/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-databind/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-databind/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-databind/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-databind/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-databind/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-databind/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-databind/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-databind/deployments","created_at":"2011-12-23T07:17:41Z","updated_at":"2025-11-08T13:34:42Z","pushed_at":"2025-11-07T22:16:42Z","git_url":"git://github.com/FasterXML/jackson-databind.git","ssh_url":"git@github.com:FasterXML/jackson-databind.git","clone_url":"https://github.com/FasterXML/jackson-databind.git","svn_url":"https://github.com/FasterXML/jackson-databind","homepage":"","size":83232,"stargazers_count":3644,"watchers_count":3644,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1446,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":382,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","jackson-databind","json"],"visibility":"public","forks":1446,"open_issues":382,"watchers":3644,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This fix breaks a use case in which a field should to be serialised as a boxed primitive. If I modify the test given by @antantantan slightly to include some additional annotations, including a `@JsonSubTypes.Type` annotation, the test fails to box the serialised value.\r\n\r\nThe problem is solved by reverting this commit, I have tested on 2.8.4 and 2.11.0 with the reverted commit and can confirm my test case passes. Would it be possible to solve my issue, without reverting the current fix?\r\n\r\n```java\r\npackage com.fasterxml.jackson.databind.jsontype;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.jsontype.impl.StdTypeResolverBuilder;\r\nimport org.junit.Ignore;\r\nimport java.util.*;\r\n\r\n// [databind#1395]: prevent attempts at including type info for primitives\r\npublic class DefaultTypingWithPrimitivesTest extends BaseMapTest\r\n{\r\n    static class Data {\r\n\r\n        private long key;\r\n\r\n        @JsonCreator\r\n        private Data(@JsonProperty(\"key\") Long key) {\r\n            this.key = key;\r\n        }\r\n\r\n        @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"@class\")\r\n        @JsonSubTypes.Type(value = Long.class)\r\n        public long key() {\r\n            return key;\r\n        }\r\n    }\r\n\r\n    @Ignore\r\n    public void testDefaultTypingWithLong() throws Exception\r\n    {\r\n        Data data = new Data(1L);\r\n        Map<String, Object> mapData = new HashMap<String, Object>();\r\n        mapData.put(\"longInMap\", 2L);\r\n        mapData.put(\"longAsField\", data);\r\n\r\n        // Configure Jackson to preserve types\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        StdTypeResolverBuilder resolver = new StdTypeResolverBuilder();\r\n        resolver.init(JsonTypeInfo.Id.CLASS, null);\r\n        resolver.inclusion(JsonTypeInfo.As.PROPERTY);\r\n        resolver.typeProperty(\"__t\");\r\n        mapper.setDefaultTyping(resolver);\r\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        // Serialize\r\n        String json = mapper.writeValueAsString(mapData);\r\n\r\n        // Deserialize\r\n        Map<?,?> result = mapper.readValue(json, Map.class);\r\n        assertNotNull(result);\r\n        assertEquals(2, result.size());\r\n    }\r\n}\r\n```\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (VALUE_NUMBER_INT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class java.lang.Long\r\n at [Source: (String)\"{\r\n  \"__t\" : \"java.util.HashMap\",\r\n  \"longInMap\" : [ \"java.lang.Long\", 2 ],\r\n  \"longAsField\" : {\r\n    \"__t\" : \"com.fasterxml.jackson.databind.jsontype.DefaultTypingWithPrimitivesTest$Data\",\r\n    \"key\" : 1\r\n  }\r\n}\"; line: 6, column: 13] (through reference chain: java.util.HashMap[\"longAsField\"]->com.fasterxml.jackson.databind.jsontype.DefaultTypingWithPrimitivesTest$Data[\"key\"])\r\n```\r\n\r\n_Originally posted by @obroomhall in https://github.com/FasterXML/jackson-databind/issues/1395#issuecomment-641279477_","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-databind/issues/2753/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]