{"url":"https://api.github.com/repos/prettier/prettier/issues/16897","repository_url":"https://api.github.com/repos/prettier/prettier","labels_url":"https://api.github.com/repos/prettier/prettier/issues/16897/labels{/name}","comments_url":"https://api.github.com/repos/prettier/prettier/issues/16897/comments","events_url":"https://api.github.com/repos/prettier/prettier/issues/16897/events","html_url":"https://github.com/prettier/prettier/issues/16897","id":2697949653,"node_id":"I_kwDOBHn_e86gz3HV","number":16897,"title":"Output changing between 2 options (regression?)","user":{"login":"tiagoskaneta","id":7189039,"node_id":"MDQ6VXNlcjcxODkwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/7189039?v=4","gravatar_id":"","url":"https://api.github.com/users/tiagoskaneta","html_url":"https://github.com/tiagoskaneta","followers_url":"https://api.github.com/users/tiagoskaneta/followers","following_url":"https://api.github.com/users/tiagoskaneta/following{/other_user}","gists_url":"https://api.github.com/users/tiagoskaneta/gists{/gist_id}","starred_url":"https://api.github.com/users/tiagoskaneta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiagoskaneta/subscriptions","organizations_url":"https://api.github.com/users/tiagoskaneta/orgs","repos_url":"https://api.github.com/users/tiagoskaneta/repos","events_url":"https://api.github.com/users/tiagoskaneta/events{/privacy}","received_events_url":"https://api.github.com/users/tiagoskaneta/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":684255870,"node_id":"MDU6TGFiZWw2ODQyNTU4NzA=","url":"https://api.github.com/repos/prettier/prettier/labels/lang:jsx","name":"lang:jsx","color":"006b75","default":false,"description":"Issues affecting JSX (not general JS issues)"},{"id":985033474,"node_id":"MDU6TGFiZWw5ODUwMzM0NzQ=","url":"https://api.github.com/repos/prettier/prettier/labels/locked-due-to-inactivity","name":"locked-due-to-inactivity","color":"000000","default":false,"description":"Please open a new issue and fill out the template instead of commenting."},{"id":1202288109,"node_id":"MDU6TGFiZWwxMjAyMjg4MTA5","url":"https://api.github.com/repos/prettier/prettier/labels/area:idempotency","name":"area:idempotency","color":"fbca04","default":false,"description":"Issues with re-printing Prettierâ€™s output"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-11-27T10:03:09Z","updated_at":"2025-03-03T19:19:55Z","closed_at":"2024-12-01T10:00:36Z","author_association":"NONE","type":{"id":5763486,"node_id":"IT_kwDOAYoGC84AV_Ge","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-30T10:19:56Z","updated_at":"2024-07-26T11:33:03Z","is_enabled":true},"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n\r\nBEFORE SUBMITTING AN ISSUE:\r\n\r\n1.  Search for your issue on GitHub: https://github.com/prettier/prettier/issues\r\n    A large number of opened issues are duplicates of existing issues.\r\n    If someone has already opened an issue for what you are experiencing,\r\n    you do not need to open a new issue â€” please add a ðŸ‘ reaction to the\r\n    existing issue instead.\r\n\r\n2.  We get a lot of requests for adding options, but Prettier is\r\n    built on the principle of being opinionated about code formatting.\r\n    This means we add options only in the case of strict technical necessity.\r\n    Find out more: https://prettier.io/docs/en/option-philosophy.html\r\n\r\nDon't fill the form below manually! Let a program create a report for you:\r\n\r\n1. Go to https://prettier.io/playground\r\n2. Paste your code and set options\r\n3. Press the \"Report issue\" button in the lower right\r\n\r\n-->\r\n\r\n**Prettier 3.4.1**\r\n[Playground link](https://prettier.io/playground/#N4Igxg9gdgLgprEAuEAzArlMMCW0AEAEnADYkQDqEATiQCYAUAlPsADpT77VwzrWcGHLlwA8dHADcAfMJFiJMufK6oIEZStEAjavgD0sziq7aAhtWAByfFYC+m+aIDOABzOcwJM8+cA5MwBbOABeNjRoGABaZzhAnG0IenCjE3k1CHM9DKz8HIs89VyARgAmAGYAFgBWRxFRfTcPaQAaQsyC-OyiizqGxVT6-QG5Jg4HKA4MLFwCYjJKGnpmVjkePgF8IWMFKUGnEZ2VDLqxXQN9lSzrWwm0-Bd3T29fAOCwiNgYuISkuhSuu1coDAWUqtUGk0oJd5G0QT1uh1qH1hntNP00cYxlAJiAWiAIK5ZlBnMhQBZqBAAO4ABQsCFJKDMJCpZgAnqT8bozGAANa8ADKQTgABkcFA4MhUMzYlzqDz+TABe4wOKAObIGDUdBwfGxeJSmW6kBwAAerjg1BwwVgzIAKpaoBYcHBGdKSLKQM51SQ4ABFdAQeCa7XGgBWzlNAp9-sDwaQ7s9AEc43AaZTXIzwNBvc54Ih8VqzDgSOqAMIQQKBMzIEDMkh4r0xgCCMC1CXQ8BplrFEpDOvxAAsYIESBRBzh4E0wHABQzJ1JJ2za2BfI3JDqAJJQOgIJVgK1E5s7gUwNm+w0e42uSmxCjy1y1m+uy2SSX48WxagwdNmNXVy9PXcagv1rcxtFIRsb3FGAKBwOgYEHZAAA4AAZ8R4FMcB4X9-xrBMjULMxtDghCkKQUp8XQWI7WIt1CJNQIILoXc6BFDw1XQP84AAMRoas23VWszE7CAQDsOwgA)\r\n\r\n```sh\r\n# Options (if any):\r\n--print-width 80\r\n--tab-width 2\r\n```\r\n\r\n**Input:**\r\n\r\n```jsx\r\nfunction HelloWorld() {\r\n  return (\r\n    <div>\r\n      <div>\r\n        foo\r\n        <br />\r\n        bar{' '}\r\n        <span className=\"font-semibold\">\r\n          foobar foobar foobar foobar 12345\r\n        </span>, foobar foobar foobar\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction HelloWorld() {\r\n  return (\r\n    <div>\r\n      <div>\r\n        foo\r\n        <br />\r\n        bar{' '}\r\n        <span className=\"font-semibold\">foobar foobar foobar foobar 12345</span>\r\n        , foobar foobar foobar\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n```\r\n\r\n**Output:**\r\n\r\n```jsx\r\nfunction HelloWorld() {\r\n  return (\r\n    <div>\r\n      <div>\r\n        foo\r\n        <br />\r\n        bar{\" \"}\r\n        <span className=\"font-semibold\">foobar foobar foobar foobar 12345</span>\r\n        , foobar foobar foobar\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction HelloWorld() {\r\n  return (\r\n    <div>\r\n      <div>\r\n        foo\r\n        <br />\r\n        bar{\" \"}\r\n        <span className=\"font-semibold\">\r\n          foobar foobar foobar foobar 12345\r\n        </span>, foobar foobar foobar\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n```\r\n\r\n**Expected output:**\r\nEither one but consistently the same\r\n\r\n**Why?**\r\nThe same code keeps alternating between 2 possible outputs on every execution. Both outputs are reported as invalid tho, leading to the format checking never passing. It looks like a regression on 3.4, given that the same code format was stable previously.\r\n","closed_by":{"login":"sosukesuzuki","id":14838850,"node_id":"MDQ6VXNlcjE0ODM4ODUw","avatar_url":"https://avatars.githubusercontent.com/u/14838850?v=4","gravatar_id":"","url":"https://api.github.com/users/sosukesuzuki","html_url":"https://github.com/sosukesuzuki","followers_url":"https://api.github.com/users/sosukesuzuki/followers","following_url":"https://api.github.com/users/sosukesuzuki/following{/other_user}","gists_url":"https://api.github.com/users/sosukesuzuki/gists{/gist_id}","starred_url":"https://api.github.com/users/sosukesuzuki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sosukesuzuki/subscriptions","organizations_url":"https://api.github.com/users/sosukesuzuki/orgs","repos_url":"https://api.github.com/users/sosukesuzuki/repos","events_url":"https://api.github.com/users/sosukesuzuki/events{/privacy}","received_events_url":"https://api.github.com/users/sosukesuzuki/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/prettier/prettier/issues/16897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/prettier/prettier/issues/16897/timeline","performed_via_github_app":null,"state_reason":"completed"}