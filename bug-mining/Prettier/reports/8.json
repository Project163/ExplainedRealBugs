{"url":"https://api.github.com/repos/prettier/prettier/issues/11553","repository_url":"https://api.github.com/repos/prettier/prettier","labels_url":"https://api.github.com/repos/prettier/prettier/issues/11553/labels{/name}","comments_url":"https://api.github.com/repos/prettier/prettier/issues/11553/comments","events_url":"https://api.github.com/repos/prettier/prettier/issues/11553/events","html_url":"https://github.com/prettier/prettier/issues/11553","id":1000449509,"node_id":"I_kwDOBHn_e847oaXl","number":11553,"title":"Special treatment of package.json is apparently undocumented","user":{"login":"aspiers","id":100738,"node_id":"MDQ6VXNlcjEwMDczOA==","avatar_url":"https://avatars.githubusercontent.com/u/100738?v=4","gravatar_id":"","url":"https://api.github.com/users/aspiers","html_url":"https://github.com/aspiers","followers_url":"https://api.github.com/users/aspiers/followers","following_url":"https://api.github.com/users/aspiers/following{/other_user}","gists_url":"https://api.github.com/users/aspiers/gists{/gist_id}","starred_url":"https://api.github.com/users/aspiers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aspiers/subscriptions","organizations_url":"https://api.github.com/users/aspiers/orgs","repos_url":"https://api.github.com/users/aspiers/repos","events_url":"https://api.github.com/users/aspiers/events{/privacy}","received_events_url":"https://api.github.com/users/aspiers/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":540329469,"node_id":"MDU6TGFiZWw1NDAzMjk0Njk=","url":"https://api.github.com/repos/prettier/prettier/labels/type:docs","name":"type:docs","color":"0052cc","default":false,"description":"Issues about adding or improving documentation"},{"id":743026250,"node_id":"MDU6TGFiZWw3NDMwMjYyNTA=","url":"https://api.github.com/repos/prettier/prettier/labels/lang:json","name":"lang:json","color":"006b75","default":false,"description":"Issues affecting JSON"},{"id":985033474,"node_id":"MDU6TGFiZWw5ODUwMzM0NzQ=","url":"https://api.github.com/repos/prettier/prettier/labels/locked-due-to-inactivity","name":"locked-due-to-inactivity","color":"000000","default":false,"description":"Please open a new issue and fill out the template instead of commenting."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2021-09-19T23:29:27Z","updated_at":"2024-11-09T00:03:51Z","closed_at":"2024-08-09T23:28:10Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I was seeing some confusing behaviour with how prettier was formatting one of my JSON files (which happened to be a `package.json`), and after some head-scratching, stumbled across #10876 which helped me figure out that files called `package.json` are treated specially:\r\n\r\n```\r\n% prettier --file-info package.json | jq .inferredParser     \r\n\"json-stringify\"\r\n% prettier --file-info package-copy.json | jq .inferredParser\r\n\"json\"\r\n```\r\n\r\nAccording to #10876, that is intentional, but there was no explanation of *why* it's intentional, nor can I find it explained in the documentation (e.g. try a search for `package.json`, and none of the matches are relevant).\r\n\r\nUnfortunately a GitHub actions bot automatically locked the issue due to inactivity, so unfortunately I need to file this duplicate to re-emphasise the point made by @KonradHoeffner, which is that we both the current behaviour somewhat violates the Principle of Least Surprise (especially since it's apparently undocumented).  So it would be great if the documentation could be expanded to cover not only the existence of these special cases, but also the rationale behind *why* they exist.\r\n\r\nI would offer a PR for this, but I have no idea what the rationale is.","closed_by":{"login":"kachkaev","id":608862,"node_id":"MDQ6VXNlcjYwODg2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/608862?v=4","gravatar_id":"","url":"https://api.github.com/users/kachkaev","html_url":"https://github.com/kachkaev","followers_url":"https://api.github.com/users/kachkaev/followers","following_url":"https://api.github.com/users/kachkaev/following{/other_user}","gists_url":"https://api.github.com/users/kachkaev/gists{/gist_id}","starred_url":"https://api.github.com/users/kachkaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kachkaev/subscriptions","organizations_url":"https://api.github.com/users/kachkaev/orgs","repos_url":"https://api.github.com/users/kachkaev/repos","events_url":"https://api.github.com/users/kachkaev/events{/privacy}","received_events_url":"https://api.github.com/users/kachkaev/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/prettier/prettier/issues/11553/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/prettier/prettier/issues/11553/timeline","performed_via_github_app":null,"state_reason":"completed"}