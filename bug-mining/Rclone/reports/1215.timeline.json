[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1410420736","html_url":"https://github.com/rclone/rclone/issues/6733#issuecomment-1410420736","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6733","id":1410420736,"node_id":"IC_kwDOAQ-n5M5UEVAA","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-31T14:09:45Z","updated_at":"2023-01-31T14:09:45Z","body":"> I have a samba drive with port 9445\r\n>\r\n> It is hosted by Arch Linux samba.\r\n\r\nI'd guess this is because it is mis-reporting the block size, or rclone is mis-reading it somehow.\r\n\r\nIf you use Windows to mount the same smb drive do you see the same thing?\r\n\r\nWhat does this show?\r\n\r\n    rclone.exe about mysmbdrive:/Library","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1410420736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1412948038","html_url":"https://github.com/rclone/rclone/issues/6733#issuecomment-1412948038","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6733","id":1412948038,"node_id":"IC_kwDOAQ-n5M5UN-BG","user":{"login":"laggykiller","id":61652821,"node_id":"MDQ6VXNlcjYxNjUyODIx","avatar_url":"https://avatars.githubusercontent.com/u/61652821?v=4","gravatar_id":"","url":"https://api.github.com/users/laggykiller","html_url":"https://github.com/laggykiller","followers_url":"https://api.github.com/users/laggykiller/followers","following_url":"https://api.github.com/users/laggykiller/following{/other_user}","gists_url":"https://api.github.com/users/laggykiller/gists{/gist_id}","starred_url":"https://api.github.com/users/laggykiller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laggykiller/subscriptions","organizations_url":"https://api.github.com/users/laggykiller/orgs","repos_url":"https://api.github.com/users/laggykiller/repos","events_url":"https://api.github.com/users/laggykiller/events{/privacy}","received_events_url":"https://api.github.com/users/laggykiller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-02T00:19:16Z","updated_at":"2023-02-02T00:19:16Z","body":"Normal size if I mount on Windows with port 445\r\n```\r\nrclone about mysmbdrive:/Library\r\nTotal:   3.609 TiB\r\nUsed:    2.619 TiB\r\nFree:    1014.424 GiB\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1412948038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"laggykiller","id":61652821,"node_id":"MDQ6VXNlcjYxNjUyODIx","avatar_url":"https://avatars.githubusercontent.com/u/61652821?v=4","gravatar_id":"","url":"https://api.github.com/users/laggykiller","html_url":"https://github.com/laggykiller","followers_url":"https://api.github.com/users/laggykiller/followers","following_url":"https://api.github.com/users/laggykiller/following{/other_user}","gists_url":"https://api.github.com/users/laggykiller/gists{/gist_id}","starred_url":"https://api.github.com/users/laggykiller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laggykiller/subscriptions","organizations_url":"https://api.github.com/users/laggykiller/orgs","repos_url":"https://api.github.com/users/laggykiller/repos","events_url":"https://api.github.com/users/laggykiller/events{/privacy}","received_events_url":"https://api.github.com/users/laggykiller/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-02T11:20:40Z","updated_at":"2023-02-02T11:20:40Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/72","repository_url":"https://api.github.com/repos/hirochachacha/go-smb2","labels_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/72/labels{/name}","comments_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/72/comments","events_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/72/events","html_url":"https://github.com/hirochachacha/go-smb2/issues/72","id":1567853302,"node_id":"I_kwDOA8lA1M5dc4r2","number":72,"title":"Statfs.BlockSize() is returning an incorrect value","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-02-02T11:20:39Z","updated_at":"2023-02-02T11:20:39Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":63520980,"node_id":"MDEwOlJlcG9zaXRvcnk2MzUyMDk4MA==","name":"go-smb2","full_name":"hirochachacha/go-smb2","private":false,"owner":{"login":"hirochachacha","id":898442,"node_id":"MDQ6VXNlcjg5ODQ0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/898442?v=4","gravatar_id":"","url":"https://api.github.com/users/hirochachacha","html_url":"https://github.com/hirochachacha","followers_url":"https://api.github.com/users/hirochachacha/followers","following_url":"https://api.github.com/users/hirochachacha/following{/other_user}","gists_url":"https://api.github.com/users/hirochachacha/gists{/gist_id}","starred_url":"https://api.github.com/users/hirochachacha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hirochachacha/subscriptions","organizations_url":"https://api.github.com/users/hirochachacha/orgs","repos_url":"https://api.github.com/users/hirochachacha/repos","events_url":"https://api.github.com/users/hirochachacha/events{/privacy}","received_events_url":"https://api.github.com/users/hirochachacha/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hirochachacha/go-smb2","description":"SMB2/3 client library written in Go.","fork":false,"url":"https://api.github.com/repos/hirochachacha/go-smb2","forks_url":"https://api.github.com/repos/hirochachacha/go-smb2/forks","keys_url":"https://api.github.com/repos/hirochachacha/go-smb2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hirochachacha/go-smb2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hirochachacha/go-smb2/teams","hooks_url":"https://api.github.com/repos/hirochachacha/go-smb2/hooks","issue_events_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/events{/number}","events_url":"https://api.github.com/repos/hirochachacha/go-smb2/events","assignees_url":"https://api.github.com/repos/hirochachacha/go-smb2/assignees{/user}","branches_url":"https://api.github.com/repos/hirochachacha/go-smb2/branches{/branch}","tags_url":"https://api.github.com/repos/hirochachacha/go-smb2/tags","blobs_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/refs{/sha}","trees_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hirochachacha/go-smb2/statuses/{sha}","languages_url":"https://api.github.com/repos/hirochachacha/go-smb2/languages","stargazers_url":"https://api.github.com/repos/hirochachacha/go-smb2/stargazers","contributors_url":"https://api.github.com/repos/hirochachacha/go-smb2/contributors","subscribers_url":"https://api.github.com/repos/hirochachacha/go-smb2/subscribers","subscription_url":"https://api.github.com/repos/hirochachacha/go-smb2/subscription","commits_url":"https://api.github.com/repos/hirochachacha/go-smb2/commits{/sha}","git_commits_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/commits{/sha}","comments_url":"https://api.github.com/repos/hirochachacha/go-smb2/comments{/number}","issue_comment_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/comments{/number}","contents_url":"https://api.github.com/repos/hirochachacha/go-smb2/contents/{+path}","compare_url":"https://api.github.com/repos/hirochachacha/go-smb2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hirochachacha/go-smb2/merges","archive_url":"https://api.github.com/repos/hirochachacha/go-smb2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hirochachacha/go-smb2/downloads","issues_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues{/number}","pulls_url":"https://api.github.com/repos/hirochachacha/go-smb2/pulls{/number}","milestones_url":"https://api.github.com/repos/hirochachacha/go-smb2/milestones{/number}","notifications_url":"https://api.github.com/repos/hirochachacha/go-smb2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hirochachacha/go-smb2/labels{/name}","releases_url":"https://api.github.com/repos/hirochachacha/go-smb2/releases{/id}","deployments_url":"https://api.github.com/repos/hirochachacha/go-smb2/deployments","created_at":"2016-07-17T07:57:33Z","updated_at":"2025-11-08T05:54:32Z","pushed_at":"2023-09-28T09:09:36Z","git_url":"git://github.com/hirochachacha/go-smb2.git","ssh_url":"git@github.com:hirochachacha/go-smb2.git","clone_url":"https://github.com/hirochachacha/go-smb2.git","svn_url":"https://github.com/hirochachacha/go-smb2","homepage":"","size":297,"stargazers_count":391,"watchers_count":391,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":110,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","smb","smb2"],"visibility":"public","forks":110,"open_issues":43,"watchers":391,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"An rclone user reported that the free/used/total sizes were half what they should be in the smb backend: https://github.com/rclone/rclone/issues/6733\r\n\r\nI have verified this against this docker image https://hub.docker.com/r/dperson/samba and also that if you mount that disk from Windows it gets the free/used/total sizes correct.\r\n\r\nPutting in a bit of debugging I see the Statfs block is returned as\r\n\r\n```go\r\nstat{\r\n    TotalAllocationUnits: 959122528,\r\n    CallerAvailableAllocationUnits: 407504932,\r\n    ActualAvailableAllocationUnits: 407504932,\r\n    SectorsPerAllocationUnit: 2,\r\n    BytesPerSector: 512,\r\n}\r\n```\r\n\r\nWheras the `BlockSize` is calculated like this\r\n\r\nhttps://github.com/hirochachacha/go-smb2/blob/c8e61c7a5fa7bcd1143359f071f9425a9f4dda3f/client.go#L1438-L1440\r\n\r\nI suspect it should be calculated like this instead - this would make the sizes come out correctly.\r\n\r\n```go\r\nfunc (fi *fileFsFullSizeInformation) BlockSize() uint64 {\r\n\treturn uint64(fi.BytesPerSector) * uint64(fi.SectorsPerAllocationUnit)\r\n}\r\n```\r\n\r\nHowever I have no knowledge of the SMB protocol so that might be completely wrong.\r\n\r\nIf you think that is good then I can make a PR with that in.","reactions":{"url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/72/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/72/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1413579885","html_url":"https://github.com/rclone/rclone/issues/6733#issuecomment-1413579885","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6733","id":1413579885,"node_id":"IC_kwDOAQ-n5M5UQYRt","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-02T11:21:12Z","updated_at":"2023-02-02T11:21:12Z","body":"I think this is a problem with the upstream library and I've reported an issue there: https://github.com/hirochachacha/go-smb2/issues/72","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1413579885/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8449509299,"node_id":"LE_lADOAQ-n5M5dIQaqzwAAAAH3oUez","url":"https://api.github.com/repos/rclone/rclone/issues/events/8449509299","actor":{"login":"animosity022","id":5088712,"node_id":"MDQ6VXNlcjUwODg3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5088712?v=4","gravatar_id":"","url":"https://api.github.com/users/animosity022","html_url":"https://github.com/animosity022","followers_url":"https://api.github.com/users/animosity022/followers","following_url":"https://api.github.com/users/animosity022/following{/other_user}","gists_url":"https://api.github.com/users/animosity022/gists{/gist_id}","starred_url":"https://api.github.com/users/animosity022/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/animosity022/subscriptions","organizations_url":"https://api.github.com/users/animosity022/orgs","repos_url":"https://api.github.com/users/animosity022/repos","events_url":"https://api.github.com/users/animosity022/events{/privacy}","received_events_url":"https://api.github.com/users/animosity022/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-02-06T16:42:33Z","label":{"name":"waiting for upstream...","color":"5319E7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1817537706","html_url":"https://github.com/rclone/rclone/issues/6733#issuecomment-1817537706","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6733","id":1817537706,"node_id":"IC_kwDOAQ-n5M5sVWyq","user":{"login":"Woodie-07","id":40068306,"node_id":"MDQ6VXNlcjQwMDY4MzA2","avatar_url":"https://avatars.githubusercontent.com/u/40068306?v=4","gravatar_id":"","url":"https://api.github.com/users/Woodie-07","html_url":"https://github.com/Woodie-07","followers_url":"https://api.github.com/users/Woodie-07/followers","following_url":"https://api.github.com/users/Woodie-07/following{/other_user}","gists_url":"https://api.github.com/users/Woodie-07/gists{/gist_id}","starred_url":"https://api.github.com/users/Woodie-07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Woodie-07/subscriptions","organizations_url":"https://api.github.com/users/Woodie-07/orgs","repos_url":"https://api.github.com/users/Woodie-07/repos","events_url":"https://api.github.com/users/Woodie-07/events{/privacy}","received_events_url":"https://api.github.com/users/Woodie-07/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-18T15:27:22Z","updated_at":"2023-11-18T15:27:22Z","body":"I ran into this same issue when trying to use a Hetzner storage box over SMB. The [hirochachacha/go-smb2](https://github.com/hirochachacha/go-smb2) repo hasn't had any updates in over a year, but the [CloudSoda/go-smb2 ](https://github.com/CloudSoda/go-smb2) repo is a fork which gets frequent updates and has [a patch for this issue](https://github.com/CloudSoda/go-smb2/issues/5). After switching rclone to use this fork instead of the original and rebuilding, the issue seems to be fixed (although I have not yet tested it thoroughly).\r\n\r\nBefore:\r\n![image](https://github.com/rclone/rclone/assets/40068306/a9f4fece-6eb0-4905-80f5-de409104403c)\r\n\r\nAfter:\r\n![image](https://github.com/rclone/rclone/assets/40068306/2525f48d-43cd-44e4-8248-1c773922634d)\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1817537706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Woodie-07","id":40068306,"node_id":"MDQ6VXNlcjQwMDY4MzA2","avatar_url":"https://avatars.githubusercontent.com/u/40068306?v=4","gravatar_id":"","url":"https://api.github.com/users/Woodie-07","html_url":"https://github.com/Woodie-07","followers_url":"https://api.github.com/users/Woodie-07/followers","following_url":"https://api.github.com/users/Woodie-07/following{/other_user}","gists_url":"https://api.github.com/users/Woodie-07/gists{/gist_id}","starred_url":"https://api.github.com/users/Woodie-07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Woodie-07/subscriptions","organizations_url":"https://api.github.com/users/Woodie-07/orgs","repos_url":"https://api.github.com/users/Woodie-07/repos","events_url":"https://api.github.com/users/Woodie-07/events{/privacy}","received_events_url":"https://api.github.com/users/Woodie-07/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11014254200,"node_id":"REFE_lADOAQ-n5M5dIQaqzwAAAAKQgC54","url":"https://api.github.com/repos/rclone/rclone/issues/events/11014254200","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d9d265de06b1726ad6a8eab8c9bc704446e38713","commit_url":"https://api.github.com/repos/rclone/rclone/commits/d9d265de06b1726ad6a8eab8c9bc704446e38713","created_at":"2023-11-20T16:38:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1819426335","html_url":"https://github.com/rclone/rclone/issues/6733#issuecomment-1819426335","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6733","id":1819426335,"node_id":"IC_kwDOAQ-n5M5scj4f","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-20T16:38:51Z","updated_at":"2023-11-20T16:38:51Z","body":"@Woodie-07 that fork has some nice fixes in it. Its a shame its in a fork though...\r\n\r\nI looked through the history and the patches looks sensible to me.\r\n\r\nI've decided to switch rclone to this fork as the integration tests all pass with it and it has this fix.\r\n\r\nPlease give this a test :-)\r\n\r\n[v1.65.0-beta.7508.d9d265de0.fix-6733-smb-size](https://beta.rclone.org/branch/fix-6733-smb-size/v1.65.0-beta.7508.d9d265de0.fix-6733-smb-size/) on branch [fix-6733-smb-size](https://github.com/rclone/rclone/tree/fix-6733-smb-size) (uploaded in 15-30 mins)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1819426335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11014262488,"node_id":"MEE_lADOAQ-n5M5dIQaqzwAAAAKQgE7Y","url":"https://api.github.com/repos/rclone/rclone/issues/events/11014262488","actor":{"login":"Woodie-07","id":40068306,"node_id":"MDQ6VXNlcjQwMDY4MzA2","avatar_url":"https://avatars.githubusercontent.com/u/40068306?v=4","gravatar_id":"","url":"https://api.github.com/users/Woodie-07","html_url":"https://github.com/Woodie-07","followers_url":"https://api.github.com/users/Woodie-07/followers","following_url":"https://api.github.com/users/Woodie-07/following{/other_user}","gists_url":"https://api.github.com/users/Woodie-07/gists{/gist_id}","starred_url":"https://api.github.com/users/Woodie-07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Woodie-07/subscriptions","organizations_url":"https://api.github.com/users/Woodie-07/orgs","repos_url":"https://api.github.com/users/Woodie-07/repos","events_url":"https://api.github.com/users/Woodie-07/events{/privacy}","received_events_url":"https://api.github.com/users/Woodie-07/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-11-20T16:38:51Z","performed_via_github_app":null},{"id":11014262499,"node_id":"SE_lADOAQ-n5M5dIQaqzwAAAAKQgE7j","url":"https://api.github.com/repos/rclone/rclone/issues/events/11014262499","actor":{"login":"Woodie-07","id":40068306,"node_id":"MDQ6VXNlcjQwMDY4MzA2","avatar_url":"https://avatars.githubusercontent.com/u/40068306?v=4","gravatar_id":"","url":"https://api.github.com/users/Woodie-07","html_url":"https://github.com/Woodie-07","followers_url":"https://api.github.com/users/Woodie-07/followers","following_url":"https://api.github.com/users/Woodie-07/following{/other_user}","gists_url":"https://api.github.com/users/Woodie-07/gists{/gist_id}","starred_url":"https://api.github.com/users/Woodie-07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Woodie-07/subscriptions","organizations_url":"https://api.github.com/users/Woodie-07/orgs","repos_url":"https://api.github.com/users/Woodie-07/repos","events_url":"https://api.github.com/users/Woodie-07/events{/privacy}","received_events_url":"https://api.github.com/users/Woodie-07/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-11-20T16:38:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1819732408","html_url":"https://github.com/rclone/rclone/issues/6733#issuecomment-1819732408","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6733","id":1819732408,"node_id":"IC_kwDOAQ-n5M5sdum4","user":{"login":"Woodie-07","id":40068306,"node_id":"MDQ6VXNlcjQwMDY4MzA2","avatar_url":"https://avatars.githubusercontent.com/u/40068306?v=4","gravatar_id":"","url":"https://api.github.com/users/Woodie-07","html_url":"https://github.com/Woodie-07","followers_url":"https://api.github.com/users/Woodie-07/followers","following_url":"https://api.github.com/users/Woodie-07/following{/other_user}","gists_url":"https://api.github.com/users/Woodie-07/gists{/gist_id}","starred_url":"https://api.github.com/users/Woodie-07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Woodie-07/subscriptions","organizations_url":"https://api.github.com/users/Woodie-07/orgs","repos_url":"https://api.github.com/users/Woodie-07/repos","events_url":"https://api.github.com/users/Woodie-07/events{/privacy}","received_events_url":"https://api.github.com/users/Woodie-07/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-20T20:13:03Z","updated_at":"2023-11-20T20:13:03Z","body":"Tested the new beta and all seems to be working, thanks!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1819732408/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Woodie-07","id":40068306,"node_id":"MDQ6VXNlcjQwMDY4MzA2","avatar_url":"https://avatars.githubusercontent.com/u/40068306?v=4","gravatar_id":"","url":"https://api.github.com/users/Woodie-07","html_url":"https://github.com/Woodie-07","followers_url":"https://api.github.com/users/Woodie-07/followers","following_url":"https://api.github.com/users/Woodie-07/following{/other_user}","gists_url":"https://api.github.com/users/Woodie-07/gists{/gist_id}","starred_url":"https://api.github.com/users/Woodie-07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Woodie-07/subscriptions","organizations_url":"https://api.github.com/users/Woodie-07/orgs","repos_url":"https://api.github.com/users/Woodie-07/repos","events_url":"https://api.github.com/users/Woodie-07/events{/privacy}","received_events_url":"https://api.github.com/users/Woodie-07/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-21T08:08:46Z","updated_at":"2023-11-21T08:08:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/79","repository_url":"https://api.github.com/repos/hirochachacha/go-smb2","labels_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/79/labels{/name}","comments_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/79/comments","events_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/79/events","html_url":"https://github.com/hirochachacha/go-smb2/pull/79","id":1798598130,"node_id":"PR_kwDOA8lA1M5VLzEs","number":79,"title":"DFS support in the library","user":{"login":"ashutoshbhole-Druva","id":138203823,"node_id":"U_kgDOCDzSrw","avatar_url":"https://avatars.githubusercontent.com/u/138203823?v=4","gravatar_id":"","url":"https://api.github.com/users/ashutoshbhole-Druva","html_url":"https://github.com/ashutoshbhole-Druva","followers_url":"https://api.github.com/users/ashutoshbhole-Druva/followers","following_url":"https://api.github.com/users/ashutoshbhole-Druva/following{/other_user}","gists_url":"https://api.github.com/users/ashutoshbhole-Druva/gists{/gist_id}","starred_url":"https://api.github.com/users/ashutoshbhole-Druva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashutoshbhole-Druva/subscriptions","organizations_url":"https://api.github.com/users/ashutoshbhole-Druva/orgs","repos_url":"https://api.github.com/users/ashutoshbhole-Druva/repos","events_url":"https://api.github.com/users/ashutoshbhole-Druva/events{/privacy}","received_events_url":"https://api.github.com/users/ashutoshbhole-Druva/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-07-11T10:13:27Z","updated_at":"2023-11-21T08:08:47Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"repository":{"id":63520980,"node_id":"MDEwOlJlcG9zaXRvcnk2MzUyMDk4MA==","name":"go-smb2","full_name":"hirochachacha/go-smb2","private":false,"owner":{"login":"hirochachacha","id":898442,"node_id":"MDQ6VXNlcjg5ODQ0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/898442?v=4","gravatar_id":"","url":"https://api.github.com/users/hirochachacha","html_url":"https://github.com/hirochachacha","followers_url":"https://api.github.com/users/hirochachacha/followers","following_url":"https://api.github.com/users/hirochachacha/following{/other_user}","gists_url":"https://api.github.com/users/hirochachacha/gists{/gist_id}","starred_url":"https://api.github.com/users/hirochachacha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hirochachacha/subscriptions","organizations_url":"https://api.github.com/users/hirochachacha/orgs","repos_url":"https://api.github.com/users/hirochachacha/repos","events_url":"https://api.github.com/users/hirochachacha/events{/privacy}","received_events_url":"https://api.github.com/users/hirochachacha/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hirochachacha/go-smb2","description":"SMB2/3 client library written in Go.","fork":false,"url":"https://api.github.com/repos/hirochachacha/go-smb2","forks_url":"https://api.github.com/repos/hirochachacha/go-smb2/forks","keys_url":"https://api.github.com/repos/hirochachacha/go-smb2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hirochachacha/go-smb2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hirochachacha/go-smb2/teams","hooks_url":"https://api.github.com/repos/hirochachacha/go-smb2/hooks","issue_events_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/events{/number}","events_url":"https://api.github.com/repos/hirochachacha/go-smb2/events","assignees_url":"https://api.github.com/repos/hirochachacha/go-smb2/assignees{/user}","branches_url":"https://api.github.com/repos/hirochachacha/go-smb2/branches{/branch}","tags_url":"https://api.github.com/repos/hirochachacha/go-smb2/tags","blobs_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/refs{/sha}","trees_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hirochachacha/go-smb2/statuses/{sha}","languages_url":"https://api.github.com/repos/hirochachacha/go-smb2/languages","stargazers_url":"https://api.github.com/repos/hirochachacha/go-smb2/stargazers","contributors_url":"https://api.github.com/repos/hirochachacha/go-smb2/contributors","subscribers_url":"https://api.github.com/repos/hirochachacha/go-smb2/subscribers","subscription_url":"https://api.github.com/repos/hirochachacha/go-smb2/subscription","commits_url":"https://api.github.com/repos/hirochachacha/go-smb2/commits{/sha}","git_commits_url":"https://api.github.com/repos/hirochachacha/go-smb2/git/commits{/sha}","comments_url":"https://api.github.com/repos/hirochachacha/go-smb2/comments{/number}","issue_comment_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/comments{/number}","contents_url":"https://api.github.com/repos/hirochachacha/go-smb2/contents/{+path}","compare_url":"https://api.github.com/repos/hirochachacha/go-smb2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hirochachacha/go-smb2/merges","archive_url":"https://api.github.com/repos/hirochachacha/go-smb2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hirochachacha/go-smb2/downloads","issues_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues{/number}","pulls_url":"https://api.github.com/repos/hirochachacha/go-smb2/pulls{/number}","milestones_url":"https://api.github.com/repos/hirochachacha/go-smb2/milestones{/number}","notifications_url":"https://api.github.com/repos/hirochachacha/go-smb2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hirochachacha/go-smb2/labels{/name}","releases_url":"https://api.github.com/repos/hirochachacha/go-smb2/releases{/id}","deployments_url":"https://api.github.com/repos/hirochachacha/go-smb2/deployments","created_at":"2016-07-17T07:57:33Z","updated_at":"2025-11-08T05:54:32Z","pushed_at":"2023-09-28T09:09:36Z","git_url":"git://github.com/hirochachacha/go-smb2.git","ssh_url":"git@github.com:hirochachacha/go-smb2.git","clone_url":"https://github.com/hirochachacha/go-smb2.git","svn_url":"https://github.com/hirochachacha/go-smb2","homepage":"","size":297,"stargazers_count":391,"watchers_count":391,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":110,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","smb","smb2"],"visibility":"public","forks":110,"open_issues":43,"watchers":391,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/hirochachacha/go-smb2/pulls/79","html_url":"https://github.com/hirochachacha/go-smb2/pull/79","diff_url":"https://github.com/hirochachacha/go-smb2/pull/79.diff","patch_url":"https://github.com/hirochachacha/go-smb2/pull/79.patch","merged_at":null},"body":"This PR implements the DFS requests & responses via IOCTL call where we have handled multiple referral entries. Please note that DFS requests are invoked on IPC$.\r\n\r\nThis enabled us to invoke the Readdir, and other RPC calls using DFS.\r\n\r\n**NOTE**:  In the DFS request, if the NAS device is Windows DFS, for converting dirname in the request, we need to append one extra space. If not done, the response is not formed properly. This is not required for DFS based on Nutanix setups. I am not sure why this behavior and need inputs to understand.\r\n\r\nBelow is the code snippet for the\r\ndfsRefReq := DFSReferralRequest{\r\nMaxReferralLevel: 4,\r\nRequestFileName: fmt.Sprintf(\"%s \", dfsname), //   ---> This works with Windows DFS\r\n//RequestFileName: fmt.Sprintf(\"%s\", dfsname), // ---> This will work with Non-Windows DFS\r\n}\r\n\r\nKindly refer to the example and let me know if any changes are necessary!","reactions":{"url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/79/reactions","total_count":4,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":1,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/hirochachacha/go-smb2/issues/79/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11061291147,"node_id":"CE_lADOAQ-n5M5dIQaqzwAAAAKTTeiL","url":"https://api.github.com/repos/rclone/rclone/issues/events/11061291147","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"edb5ccdd0b0e6915eaf6ed38dc5a8c55c6dd8adc","commit_url":"https://api.github.com/repos/rclone/rclone/commits/edb5ccdd0b0e6915eaf6ed38dc5a8c55c6dd8adc","created_at":"2023-11-25T18:48:21Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1826396920","html_url":"https://github.com/rclone/rclone/issues/6733#issuecomment-1826396920","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6733","id":1826396920,"node_id":"IC_kwDOAQ-n5M5s3Jr4","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-25T18:49:03Z","updated_at":"2023-11-25T18:49:03Z","body":"I've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org/) in 15-30 minutes and released in v1.65\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1826396920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11605291841,"node_id":"REFE_lADOAQ-n5M5dIQaqzwAAAAKzurNB","url":"https://api.github.com/repos/rclone/rclone/issues/events/11605291841","actor":{"login":"GerHobbelt","id":402462,"node_id":"MDQ6VXNlcjQwMjQ2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/402462?v=4","gravatar_id":"","url":"https://api.github.com/users/GerHobbelt","html_url":"https://github.com/GerHobbelt","followers_url":"https://api.github.com/users/GerHobbelt/followers","following_url":"https://api.github.com/users/GerHobbelt/following{/other_user}","gists_url":"https://api.github.com/users/GerHobbelt/gists{/gist_id}","starred_url":"https://api.github.com/users/GerHobbelt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GerHobbelt/subscriptions","organizations_url":"https://api.github.com/users/GerHobbelt/orgs","repos_url":"https://api.github.com/users/GerHobbelt/repos","events_url":"https://api.github.com/users/GerHobbelt/events{/privacy}","received_events_url":"https://api.github.com/users/GerHobbelt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"edb5ccdd0b0e6915eaf6ed38dc5a8c55c6dd8adc","commit_url":"https://api.github.com/repos/GerHobbelt/rclone/commits/edb5ccdd0b0e6915eaf6ed38dc5a8c55c6dd8adc","created_at":"2024-01-26T06:09:44Z","performed_via_github_app":null},{"id":13697926446,"node_id":"REFE_lADOAQ-n5M5dIQaqzwAAAAMwdcUu","url":"https://api.github.com/repos/rclone/rclone/issues/events/13697926446","actor":{"login":"Fornax96","id":1247928,"node_id":"MDQ6VXNlcjEyNDc5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1247928?v=4","gravatar_id":"","url":"https://api.github.com/users/Fornax96","html_url":"https://github.com/Fornax96","followers_url":"https://api.github.com/users/Fornax96/followers","following_url":"https://api.github.com/users/Fornax96/following{/other_user}","gists_url":"https://api.github.com/users/Fornax96/gists{/gist_id}","starred_url":"https://api.github.com/users/Fornax96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fornax96/subscriptions","organizations_url":"https://api.github.com/users/Fornax96/orgs","repos_url":"https://api.github.com/users/Fornax96/repos","events_url":"https://api.github.com/users/Fornax96/events{/privacy}","received_events_url":"https://api.github.com/users/Fornax96/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c0105514fc312bb675ca532b76b72eeedb3e9247","commit_url":"https://api.github.com/repos/Fornaxian/rclone/commits/c0105514fc312bb675ca532b76b72eeedb3e9247","created_at":"2024-07-30T15:34:56Z","performed_via_github_app":null},{"actor":{"login":"jyxjjj","id":16695261,"node_id":"MDQ6VXNlcjE2Njk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/16695261?v=4","gravatar_id":"","url":"https://api.github.com/users/jyxjjj","html_url":"https://github.com/jyxjjj","followers_url":"https://api.github.com/users/jyxjjj/followers","following_url":"https://api.github.com/users/jyxjjj/following{/other_user}","gists_url":"https://api.github.com/users/jyxjjj/gists{/gist_id}","starred_url":"https://api.github.com/users/jyxjjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jyxjjj/subscriptions","organizations_url":"https://api.github.com/users/jyxjjj/orgs","repos_url":"https://api.github.com/users/jyxjjj/repos","events_url":"https://api.github.com/users/jyxjjj/events{/privacy}","received_events_url":"https://api.github.com/users/jyxjjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-24T01:46:58Z","updated_at":"2025-09-24T01:46:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/1342","repository_url":"https://api.github.com/repos/OpenListTeam/OpenList","labels_url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/1342/labels{/name}","comments_url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/1342/comments","events_url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/1342/events","html_url":"https://github.com/OpenListTeam/OpenList/issues/1342","id":3446869948,"node_id":"I_kwDOO6LMm87Ncw-8","number":1342,"title":"[BUG] 4.1.3版本SMB识别硬盘大小错误","user":{"login":"mouzi3102","id":46465612,"node_id":"MDQ6VXNlcjQ2NDY1NjEy","avatar_url":"https://avatars.githubusercontent.com/u/46465612?v=4","gravatar_id":"","url":"https://api.github.com/users/mouzi3102","html_url":"https://github.com/mouzi3102","followers_url":"https://api.github.com/users/mouzi3102/followers","following_url":"https://api.github.com/users/mouzi3102/following{/other_user}","gists_url":"https://api.github.com/users/mouzi3102/gists{/gist_id}","starred_url":"https://api.github.com/users/mouzi3102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouzi3102/subscriptions","organizations_url":"https://api.github.com/users/mouzi3102/orgs","repos_url":"https://api.github.com/users/mouzi3102/repos","events_url":"https://api.github.com/users/mouzi3102/events{/privacy}","received_events_url":"https://api.github.com/users/mouzi3102/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":8767941076,"node_id":"LA_kwDOO6LMm88AAAACCpwp1A","url":"https://api.github.com/repos/OpenListTeam/OpenList/labels/bug","name":"bug","color":"FF0000","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2025-09-23T22:41:34Z","updated_at":"2025-10-06T17:37:11Z","closed_at":"2025-09-29T15:26:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":1000524955,"node_id":"R_kgDOO6LMmw","name":"OpenList","full_name":"OpenListTeam/OpenList","private":false,"owner":{"login":"OpenListTeam","id":215780325,"node_id":"O_kgDODNyL5Q","avatar_url":"https://avatars.githubusercontent.com/u/215780325?v=4","gravatar_id":"","url":"https://api.github.com/users/OpenListTeam","html_url":"https://github.com/OpenListTeam","followers_url":"https://api.github.com/users/OpenListTeam/followers","following_url":"https://api.github.com/users/OpenListTeam/following{/other_user}","gists_url":"https://api.github.com/users/OpenListTeam/gists{/gist_id}","starred_url":"https://api.github.com/users/OpenListTeam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OpenListTeam/subscriptions","organizations_url":"https://api.github.com/users/OpenListTeam/orgs","repos_url":"https://api.github.com/users/OpenListTeam/repos","events_url":"https://api.github.com/users/OpenListTeam/events{/privacy}","received_events_url":"https://api.github.com/users/OpenListTeam/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/OpenListTeam/OpenList","description":"A new AList Fork to Anti Trust Crisis","fork":false,"url":"https://api.github.com/repos/OpenListTeam/OpenList","forks_url":"https://api.github.com/repos/OpenListTeam/OpenList/forks","keys_url":"https://api.github.com/repos/OpenListTeam/OpenList/keys{/key_id}","collaborators_url":"https://api.github.com/repos/OpenListTeam/OpenList/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/OpenListTeam/OpenList/teams","hooks_url":"https://api.github.com/repos/OpenListTeam/OpenList/hooks","issue_events_url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/events{/number}","events_url":"https://api.github.com/repos/OpenListTeam/OpenList/events","assignees_url":"https://api.github.com/repos/OpenListTeam/OpenList/assignees{/user}","branches_url":"https://api.github.com/repos/OpenListTeam/OpenList/branches{/branch}","tags_url":"https://api.github.com/repos/OpenListTeam/OpenList/tags","blobs_url":"https://api.github.com/repos/OpenListTeam/OpenList/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/OpenListTeam/OpenList/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/OpenListTeam/OpenList/git/refs{/sha}","trees_url":"https://api.github.com/repos/OpenListTeam/OpenList/git/trees{/sha}","statuses_url":"https://api.github.com/repos/OpenListTeam/OpenList/statuses/{sha}","languages_url":"https://api.github.com/repos/OpenListTeam/OpenList/languages","stargazers_url":"https://api.github.com/repos/OpenListTeam/OpenList/stargazers","contributors_url":"https://api.github.com/repos/OpenListTeam/OpenList/contributors","subscribers_url":"https://api.github.com/repos/OpenListTeam/OpenList/subscribers","subscription_url":"https://api.github.com/repos/OpenListTeam/OpenList/subscription","commits_url":"https://api.github.com/repos/OpenListTeam/OpenList/commits{/sha}","git_commits_url":"https://api.github.com/repos/OpenListTeam/OpenList/git/commits{/sha}","comments_url":"https://api.github.com/repos/OpenListTeam/OpenList/comments{/number}","issue_comment_url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/comments{/number}","contents_url":"https://api.github.com/repos/OpenListTeam/OpenList/contents/{+path}","compare_url":"https://api.github.com/repos/OpenListTeam/OpenList/compare/{base}...{head}","merges_url":"https://api.github.com/repos/OpenListTeam/OpenList/merges","archive_url":"https://api.github.com/repos/OpenListTeam/OpenList/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/OpenListTeam/OpenList/downloads","issues_url":"https://api.github.com/repos/OpenListTeam/OpenList/issues{/number}","pulls_url":"https://api.github.com/repos/OpenListTeam/OpenList/pulls{/number}","milestones_url":"https://api.github.com/repos/OpenListTeam/OpenList/milestones{/number}","notifications_url":"https://api.github.com/repos/OpenListTeam/OpenList/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/OpenListTeam/OpenList/labels{/name}","releases_url":"https://api.github.com/repos/OpenListTeam/OpenList/releases{/id}","deployments_url":"https://api.github.com/repos/OpenListTeam/OpenList/deployments","created_at":"2025-06-11T23:35:02Z","updated_at":"2025-11-09T23:16:25Z","pushed_at":"2025-11-09T12:43:14Z","git_url":"git://github.com/OpenListTeam/OpenList.git","ssh_url":"git@github.com:OpenListTeam/OpenList.git","clone_url":"https://github.com/OpenListTeam/OpenList.git","svn_url":"https://github.com/OpenListTeam/OpenList","homepage":"https://doc.oplist.org","size":7192,"stargazers_count":17642,"watchers_count":17642,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1396,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":136,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["alist","aliyunpan","baidupan","openlist"],"visibility":"public","forks":1396,"open_issues":136,"watchers":17642,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### 请确认以下事项\n\n- [x] 我已确认阅读并同意 [AGPL-3.0 第15条](https://www.gnu.org/licenses/agpl-3.0.txt#:~:text=15.%20Disclaimer%20of%20Warranty.) 。\n本程序不提供任何明示或暗示的担保，使用风险由您自行承担。\n\n- [x] 我已确认阅读并同意 [AGPL-3.0 第16条](https://www.gnu.org/licenses/agpl-3.0.txt#:~:text=16.%20Limitation%20of%20Liability.) 。\n无论何种情况，版权持有人或其他分发者均不对使用本程序所造成的任何损失承担责任。\n\n- [x] 我确认我的描述清晰，语法礼貌，能帮助开发者快速定位问题，并符合社区规则。\n\n- [x] 我已确认阅读了[OpenList文档](https://doc.oplist.org)。\n\n- [x] 我已确认没有重复的问题或讨论。\n\n- [x] 我已确认是`OpenList`的问题，而不是其他原因（例如 [网络](https://doc.oplist.org/faq/howto#tls-handshake-timeout-read-connection-reset-by-peer-dns-lookup-failed-connect-connection-refused-client-timeout-exceeded-while-awaiting-headers-no-such-host-1) ，`依赖`或`操作`）。\n\n- [x] 我认为此问题必须由`OpenList`处理，而非第三方。\n\n- [x] 我已确认这个问题在最新版本中没有被修复。\n\n\n### OpenList 版本（必填）\n\nv4.1.3\n\n### 使用的存储驱动（必填）\n\nSMB\n\n### 问题描述（必填）\n\n4.1.3版本SMB识别硬盘大小错误\n\n### 配置文件内容（必填）\n\n4.1.3版本SMB识别硬盘大小错误，主机硬盘233G被识别成125G\n小主机为debian12，系统SMB配置如下\n[global]\n    server signing = off\n    client signing = off\n    workgroup = WORKGROUP\n    server min protocol = SMB3_11\n    server max protocol = SMB3_11\n    smb encrypt = off\n    max xmit = 65535\n    aio read size = 16384\n    aio write size = 16384\n    max open files = 65535\n    case sensitive = true\n    default case = lower\n    preserve case = no\n    short prserve case = no\n    workgroup = WORKGROUP\n    server string = %h server (Samba, Ubuntu)\n    map to guest = bad user\n    usershare allow guests = yes\n    security = user\n    dead time = 15\n    getwd cache = yes\n    socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=524288 SO_SNDBUF=524288\n    server multi channel support = yes\n\n[Shared]\n   path = /Anime/Anime\n   writable = yes\n   guest ok = yes\n   read only = no\n   force user = nobody\n   browseable = yes\n   create mask = 777\n   directory mask = 777\n\n### 日志（可选）\n\n<img width=\"1280\" height=\"279\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f82b9084-eda7-433f-a65a-f9519d2b40c5\" />\n\n<img width=\"493\" height=\"361\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4abc0e30-b64f-4282-93ca-b07829a63a86\" />\n\n<img width=\"368\" height=\"948\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/57452801-8d0b-4e5d-917f-509af0cffdbb\" />\n\n<img width=\"436\" height=\"153\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d9793583-ba2f-450e-a54a-6c58306e5007\" />\n\n\n### 复现链接（可选）\n\n_No response_","reactions":{"url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/1342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/OpenListTeam/OpenList/issues/1342/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]