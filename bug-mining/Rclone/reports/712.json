{"url":"https://api.github.com/repos/rclone/rclone/issues/3656","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3656/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3656/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3656/events","html_url":"https://github.com/rclone/rclone/issues/3656","id":511408150,"node_id":"MDU6SXNzdWU1MTE0MDgxNTA=","number":3656,"title":"SFTP Error doesn't seem to be retried","user":{"login":"sbrandtb","id":1580789,"node_id":"MDQ6VXNlcjE1ODA3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/1580789?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrandtb","html_url":"https://github.com/sbrandtb","followers_url":"https://api.github.com/users/sbrandtb/followers","following_url":"https://api.github.com/users/sbrandtb/following{/other_user}","gists_url":"https://api.github.com/users/sbrandtb/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrandtb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrandtb/subscriptions","organizations_url":"https://api.github.com/users/sbrandtb/orgs","repos_url":"https://api.github.com/users/sbrandtb/repos","events_url":"https://api.github.com/users/sbrandtb/events{/privacy}","received_events_url":"https://api.github.com/users/sbrandtb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":608259405,"node_id":"MDU6TGFiZWw2MDgyNTk0MDU=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20SFTP","name":"Remote: SFTP","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/38","html_url":"https://github.com/rclone/rclone/milestone/38","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/38/labels","id":4606532,"node_id":"MDk6TWlsZXN0b25lNDYwNjUzMg==","number":38,"title":"v1.51","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":45,"state":"closed","created_at":"2019-08-27T09:35:50Z","updated_at":"2020-02-01T14:10:46Z","due_on":"2020-02-01T08:00:00Z","closed_at":"2020-02-01T14:09:58Z"},"comments":4,"created_at":"2019-10-23T15:34:46Z","updated_at":"2019-11-14T12:50:05Z","closed_at":"2019-11-14T12:50:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\n\r\nWe are pulling data from an apparently rather unreliable data source, hence we enabled retrying with sleep in between. That also works for most errors, but one error leads to rclone immediately exit and seemingly not retrying:\r\n\r\n\r\n`2019/10/23 10:45:37 Failed to create file system for \"foo:\": NewFs: couldn't initialise SFTP: EOF`\r\n\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\nrclone v1.49.5\r\n- os/arch: linux/amd64\r\n- go version: go1.13.1\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\n\r\nlinux/amd64\r\n\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\n\r\nSFTP\r\n\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n\r\n`rclone copy foo: s3:bar`\r\n\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n```\r\n2019/10/23 12:13:21 DEBUG : rclone: Version \"v1.49.5\" starting with parameters [\"/usr/bin/rclone\" \"copy\" \"foo:\" \"s3:bar\" \"--config\" \"/root/rclone/config\" \"--filter\" \"+ /bar/**\" \"--filter\" \"+ /baz/**\" \"--filter\" \"- *\" \"--retries-sleep\" \"10s\" \"--backup-dir\" \"s3:foo/backup\" \"--max-delete\" \"0\" \"--size-only\" \"-vv\"]\r\n2019/10/23 12:13:21 DEBUG : Using config file from \"/root/rclone/config\"\r\n2019/10/23 12:13:27 DEBUG : sftp://xxx@yyy:22/: New connection 100.96.2.187:51900->176.9.117.162:22 to \"SSH-2.0-OpenSSH_6.7p1 Debian-5\"\r\n2019/10/23 12:13:31 Failed to create file system for \"foo:\": NewFs: couldn't initialise SFTP: EOF\r\n```\r\n\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3656/timeline","performed_via_github_app":null,"state_reason":"completed"}