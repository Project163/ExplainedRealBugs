{"url":"https://api.github.com/repos/rclone/rclone/issues/4395","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4395/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4395/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4395/events","html_url":"https://github.com/rclone/rclone/issues/4395","id":647527782,"node_id":"MDU6SXNzdWU2NDc1Mjc3ODI=","number":4395,"title":"Apply bandwidth limit to file listing","user":{"login":"aetonsi","id":18366087,"node_id":"MDQ6VXNlcjE4MzY2MDg3","avatar_url":"https://avatars.githubusercontent.com/u/18366087?v=4","gravatar_id":"","url":"https://api.github.com/users/aetonsi","html_url":"https://github.com/aetonsi","followers_url":"https://api.github.com/users/aetonsi/followers","following_url":"https://api.github.com/users/aetonsi/following{/other_user}","gists_url":"https://api.github.com/users/aetonsi/gists{/gist_id}","starred_url":"https://api.github.com/users/aetonsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aetonsi/subscriptions","organizations_url":"https://api.github.com/users/aetonsi/orgs","repos_url":"https://api.github.com/users/aetonsi/repos","events_url":"https://api.github.com/users/aetonsi/events{/privacy}","received_events_url":"https://api.github.com/users/aetonsi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":2506959204,"node_id":"MDU6TGFiZWwyNTA2OTU5MjA0","url":"https://api.github.com/repos/rclone/rclone/labels/bandwidth","name":"bandwidth","color":"9090e0","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/41","html_url":"https://github.com/rclone/rclone/milestone/41","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/41/labels","id":5478342,"node_id":"MDk6TWlsZXN0b25lNTQ3ODM0Mg==","number":41,"title":"v1.54","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":55,"state":"closed","created_at":"2020-05-29T14:52:51Z","updated_at":"2021-02-03T16:09:01Z","due_on":"2021-01-30T08:00:00Z","closed_at":"2021-02-03T16:05:14Z"},"comments":16,"created_at":"2020-06-29T16:57:09Z","updated_at":"2021-01-30T19:44:52Z","closed_at":"2021-01-30T19:43:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is your current rclone version (output from `rclone version`)?\r\nI tried with 2 versions:\r\n```\r\nrclone v1.50.2\r\n- os/arch: windows/amd64\r\n- go version: go1.13.4\r\n```\r\n```\r\nrclone v1.51.0-151-gfc663d98-beta\r\n- os/arch: windows/amd64\r\n- go version: go1.14.1\r\n```\r\n#### command line switches used\r\n```--verbose --copy-links --create-empty-src-dirs --retries 6 --retries-sleep 30s --stats 60s --stats-file-name-length 0 --buffer-size 16M --tpslimit 1 --transfers 1 --checkers=1 --bwlimit 5k```\r\n\r\nI tried with many different `--bwlimit` values, even `512b`.\r\n\r\n#### What problem are you are trying to solve?\r\nrclone kills my internet connection due to exaggerated network activity during file listing.\r\nIt happens because i have a pretty bad connection, and i have thousands of files synchronized on different cloud services.\r\nSo, whenever i run my script to `sync` between my local folders and the cloud folders, even if there are no files changed, rclone still saturates my bandwidth to do the file listing.\r\nInternet consequently becomes unusable for everyone connected to my access point for a few seconds. This happens whenever i have a \"full on\" upload, it's not limited to rclone.\r\n\r\nBriefly: not having a `bwlimit` on the file listing is deleterious, in case you have a weak internet connection.\r\nIt probably does not make any difference if you have a good connection.\r\n\r\n#### How do you think rclone should be changed to solve that?\r\nThe switch `--bwlimit` could be applied also to the file listing.\r\nAs an alternative, a switch like `--filelistingbwlimit` could be added.\r\nAs an alternative, a switch like `--applybwlimittofilelisting` could be added to be used alongside `--bwlimit`\r\n\r\n#### Example screenshots\r\n![image](https://user-images.githubusercontent.com/18366087/86033864-ef5d6900-ba39-11ea-9068-3b7ba7d3a847.png)\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4395/timeline","performed_via_github_app":null,"state_reason":"completed"}