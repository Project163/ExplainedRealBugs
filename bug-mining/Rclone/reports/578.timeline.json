[{"id":2040906888,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwNDA5MDY4ODg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2040906888","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-12-21T14:12:52Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":2040906972,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDIwNDA5MDY5NzI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2040906972","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-12-21T14:12:55Z","milestone":{"title":"v1.46"},"performed_via_github_app":null},{"id":2040908124,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwNDA5MDgxMjQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2040908124","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-12-21T14:13:25Z","label":{"name":"Remote: Qingstor","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/449399184","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-449399184","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":449399184,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTM5OTE4NA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T14:14:48Z","updated_at":"2018-12-21T14:14:48Z","body":"Thanks for reporting this.\r\n\r\nCan you follow the instructions here: https://rclone.org/rc/#debugging-memory-use\r\n\r\nAnd get a memory profile while rclone is running.  Remember to add the `--rc` parameter to your command line.\r\n\r\nThat should tell us where the memory is going - thanks.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/449399184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/450728899","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-450728899","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":450728899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDcyODg5OQ==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-01T13:27:04Z","updated_at":"2019-01-01T13:27:04Z","body":"Here's the `go tool pprof -text` output : \r\n```\r\nFile: rclone\r\nType: inuse_space\r\nTime: Dec 30, 2018 at 6:59pm (CET)\r\nShowing nodes accounting for 2.52GB, 99.66% of 2.53GB total\r\nDropped 84 nodes (cum <= 0.01GB)\r\n      flat  flat%   sum%        cum   cum%\r\n    2.50GB 98.86% 98.86%     2.50GB 98.86%  github.com/ncw/rclone/backend/qingstor.(*uploader).nextReader\r\n    0.02GB   0.8% 99.66%     0.02GB   0.8%  github.com/ncw/rclone/fs/asyncreader.newBuffer (inline)\r\n         0     0% 99.66%     2.50GB 98.86%  github.com/ncw/rclone/backend/qingstor.(*Fs).Put\r\n         0     0% 99.66%     2.50GB 98.86%  github.com/ncw/rclone/backend/qingstor.(*Object).Update\r\n         0     0% 99.66%     2.25GB 88.97%  github.com/ncw/rclone/backend/qingstor.(*multiUploader).multiPartUpload\r\n         0     0% 99.66%     2.50GB 98.86%  github.com/ncw/rclone/backend/qingstor.(*uploader).upload\r\n         0     0% 99.66%     0.02GB   0.8%  github.com/ncw/rclone/fs/asyncreader.(*AsyncReader).getBuffer\r\n         0     0% 99.66%     0.02GB   0.8%  github.com/ncw/rclone/fs/asyncreader.(*AsyncReader).init.func1\r\n         0     0% 99.66%     0.02GB   0.8%  github.com/ncw/rclone/fs/asyncreader.glob..func1\r\n         0     0% 99.66%     2.50GB 98.88%  github.com/ncw/rclone/fs/operations.Copy\r\n         0     0% 99.66%     2.50GB 98.88%  github.com/ncw/rclone/fs/sync.(*syncCopyMove).pairCopyOrMove\r\n         0     0% 99.66%     0.02GB   0.8%  sync.(*Pool).Get\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/450728899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/450728968","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-450728968","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":450728968,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDcyODk2OA==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-01T13:28:36Z","updated_at":"2019-01-01T13:28:36Z","body":"(again, it just crashes running out of memory)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/450728968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2053075353,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIwNTMwNzUzNTM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2053075353","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"25e50a7467c4cccb96b822e3b2b7052afce44aed","commit_url":"https://api.github.com/repos/rclone/rclone/commits/25e50a7467c4cccb96b822e3b2b7052afce44aed","created_at":"2019-01-03T18:57:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451242208","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451242208","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451242208,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTI0MjIwOA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T18:58:10Z","updated_at":"2019-01-03T18:58:10Z","body":"Hmm... Looking at the code it uses 64M of memory for the buffer size.  The default concurrency is 4 so it is using 4 of these in the queue and it is uploading another 4 with another 1 waiting to go in the queue in the worst case.  That is 9 * 64M = 576M which is a bit large..\r\n\r\nAssuming that `--transfers` is at the default 4 there can be 4 of these going on at once, so 4 * 576M of memory = 2.25GB of memory.\r\n\r\nHow many transfers were running at once when you took the memory dump?\r\n\r\nHow much memory (RSS) do you see rclone using.\r\n\r\nTry reducing `--transfers` does that help it to go through - say `--transfers 1`?\r\n\r\nHow much memory do you have in your machine?\r\n\r\nThe qingstor backend could do with\r\n- a control on the buffer size `--qingstor-chunk-size`\r\n- a control on the concurrency `--qingstor-concurrency`\r\n- a control on the cutoff between single and multi part `--qingstor-upload-cutoff`.\r\n\r\nThe MD5SUM calculations look wrong as they appear to rely on the chunks finishing in order.\r\n\r\nA possible cause for the memory leak s clear in your backtrace above - there are 20 go routines `created by github.com/ncw/rclone/backend/qingstor.(*multiUploader).multiPartUpload`.  Since there is only one transfer active at the time of the crash these must have been leaked.  In your log we can also see low level retries - these must be leaking the connections.\r\n\r\nCan you try this to see if it make it better?\r\n\r\nhttps://beta.rclone.org/branch/v1.45-057-g25e50a74-fix-2851-qingstor-leak-beta/ (uploaded in 15-30 mins)\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451242208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451270190","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451270190","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451270190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTI3MDE5MA==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T20:40:00Z","updated_at":"2019-01-03T20:40:00Z","body":"Trying right now, with traces & stuffs. I'll keep you updated","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451270190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451275919","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451275919","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451275919,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTI3NTkxOQ==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T21:01:44Z","updated_at":"2019-01-03T21:02:18Z","body":"```\r\n# in a tmux\r\nwatch -n 60 \"go tool pprof -text http://localhost:5572/debug/pprof/heap > ta_\\$(ls -la | wc -l)\"\r\n# in another pane\r\nrclone --rc -vv copy repository:repository/files/ china:ivs-repository/files/ 2>&1 | tee traces\r\n# with\r\ncloudyks@dbx4:~$ rclone --version\r\nrclone v1.45-057-g25e50a74-fix-2851-qingstor-leak-beta\r\n- os/arch: linux/amd64\r\n- go version: go1.11.4\r\n# over \r\n2 cores / 4GB RAM\r\n\r\n```\r\n\r\nSee traces : https://gist.githubusercontent.com/131/51a54910099872a125d95024170404e9/raw/ff618fd77c86e6d884b3bb4ef6d674b7e8663ba9/traces_rclone_fuu\r\n\r\nAnd profiling : \r\n```\r\nFile: rclone\r\nType: inuse_space\r\nTime: Jan 3, 2019 at 9:52pm (CET)\r\nShowing nodes accounting for 1.38GB, 99.14% of 1.39GB total\r\nDropped 63 nodes (cum <= 0.01GB)\r\n      flat  flat%   sum%        cum   cum%\r\n    1.38GB 99.14% 99.14%     1.38GB 99.14%  github.com/ncw/rclone/backend/qingstor.(*uploader).nextReader\r\n         0     0% 99.14%     1.38GB 99.14%  github.com/ncw/rclone/backend/qingstor.(*Fs).Put\r\n         0     0% 99.14%     1.38GB 99.14%  github.com/ncw/rclone/backend/qingstor.(*Object).Update\r\n         0     0% 99.14%     1.12GB 81.11%  github.com/ncw/rclone/backend/qingstor.(*multiUploader).multiPartUpload\r\n         0     0% 99.14%     1.38GB 99.14%  github.com/ncw/rclone/backend/qingstor.(*uploader).upload\r\n         0     0% 99.14%     1.38GB 99.14%  github.com/ncw/rclone/fs/operations.Copy\r\n         0     0% 99.14%     1.38GB 99.14%  github.com/ncw/rclone/fs/sync.(*syncCopyMove).pairCopyOrMove\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451275919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451276509","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451276509","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451276509,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTI3NjUwOQ==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T21:04:08Z","updated_at":"2019-01-03T22:39:51Z","body":"Trying with `--transfert 1` in the meantime\r\n- it crashed again\r\n- starting again with a trace every 5s (instead of 60s)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451276509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451305798","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451305798","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451305798,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTMwNTc5OA==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T23:02:59Z","updated_at":"2019-01-03T23:02:59Z","body":"I'll gladly tests `--qingstor-concurrency 1`,  but i understand this is not an available flag","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451305798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451407653","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451407653","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451407653,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQwNzY1Mw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T10:28:17Z","updated_at":"2019-01-04T10:28:17Z","body":"Looking at the traces it seems the memory leak is solved which is good.  However it is still using far too much memory.\r\n\r\nThese errors in the log are worrying\r\n\r\n    2019/01/03 21:39:12 ERROR : 04/0/040fbc5c5a9e4cdea24fd9a597623b20: corrupted on transfer: MD5 hash differ \"040fbc5c5a9e4cdea24fd9a597623b20\" vs \"9761940975d1989215f4b648f8b84dd6\"\r\n\r\n\r\nI think setting `--transfers 1` should now solve the using too much memory.\r\n\r\nHow much memory does your machine have?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451407653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2054323967,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIwNTQzMjM5Njc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2054323967","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"54208b026b708cf6ea33a9f68f245d356cecef24","commit_url":"https://api.github.com/repos/rclone/rclone/commits/54208b026b708cf6ea33a9f68f245d356cecef24","created_at":"2019-01-04T11:50:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451427118","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451427118","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451427118,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQyNzExOA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T12:07:37Z","updated_at":"2019-01-04T12:07:37Z","body":"Here is a new version \r\n\r\nhttps://beta.rclone.org/branch/v1.45-058-g54208b02-fix-2851-qingstor-leak-beta/ (uploaded in 15-30 mins)\r\n\r\nwith some more parameters.  I've set these to the same defaults that S3 uses which may not be correct for qingstor.  The defaults should use a lot less memory.\r\n\r\nCan you experiment with these?\r\n\r\n#### --qingstor-upload-cutoff\r\n\r\nCutoff for switching to chunked upload\r\n\r\nAny files larger than this will be uploaded in chunks of chunk_size.\r\nThe minimum is 0 and the maximum is 5GB.\r\n\r\n- Config:      upload_cutoff\r\n- Env Var:     RCLONE_QINGSTOR_UPLOAD_CUTOFF\r\n- Type:        SizeSuffix\r\n- Default:     200M\r\n\r\n#### --qingstor-chunk-size\r\n\r\nChunk size to use for uploading.\r\n\r\nWhen uploading files larger than upload_cutoff they will be uploaded\r\nas multipart uploads using this chunk size.\r\n\r\nNote that \"--qingstor-upload-concurrency\" chunks of this size are buffered\r\nin memory per transfer.\r\n\r\nIf you are transferring large files over high speed links and you have\r\nenough memory, then increasing this will speed up the transfers.\r\n\r\n- Config:      chunk_size\r\n- Env Var:     RCLONE_QINGSTOR_CHUNK_SIZE\r\n- Type:        SizeSuffix\r\n- Default:     4M\r\n\r\n#### --qingstor-upload-concurrency\r\n\r\nConcurrency for multipart uploads.\r\n\r\nThis is the number of chunks of the same file that are uploaded\r\nconcurrently.\r\n\r\nIf you are uploading small numbers of large file over high speed link\r\nand these uploads do not fully utilize your bandwidth, then increasing\r\nthis may help to speed up the transfers.\r\n\r\n- Config:      upload_concurrency\r\n- Env Var:     RCLONE_QINGSTOR_UPLOAD_CONCURRENCY\r\n- Type:        int\r\n- Default:     4\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451427118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451431365","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451431365","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451431365,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQzMTM2NQ==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T12:28:58Z","updated_at":"2019-01-04T12:28:58Z","body":"> \r\n> \r\n> Looking at the traces it seems the memory leak is solved which is good. However it is still using far too much memory.\r\n> \r\n> These errors in the log are worrying\r\n> \r\n> ```\r\n> 2019/01/03 21:39:12 ERROR : 04/0/040fbc5c5a9e4cdea24fd9a597623b20: corrupted on transfer: MD5 hash differ \"040fbc5c5a9e4cdea24fd9a597623b20\" vs \"9761940975d1989215f4b648f8b84dd6\"\r\n> ```\r\n> \r\n> I think setting `--transfers 1` should now solve the using too much memory.\r\n> \r\n> How much memory does your machine have?\r\n\r\nMy machine has 4GB of RAM.\r\n\r\nI don't understand how you can identify that memory is no longer an issue (the [full trace](https://gist.githubusercontent.com/131/51a54910099872a125d95024170404e9/raw/ff618fd77c86e6d884b3bb4ef6d674b7e8663ba9/traces_rclone_fuu)  crashes with \"fatal error: runtime: out of memory\") \r\n\r\nI'm taking profiling snapshots (using go pprof) every minute, i'm guessing it's not enough to see memory spikes. (i'm now testing with a snapshot every 5s)\r\n \r\nI'm now testing with  `rlone --rc -vv --transfers 1 --qingstor-upload-concurrency 1 --qingstor-chunk-size 100M copy repository:repository/files/ china:ivs-repository/files`\r\n(using `rclone v1.45-058-g54208b02-fix-2851-qingstor-leak-beta`)\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451431365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451434387","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451434387","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451434387,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQzNDM4Nw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T12:44:49Z","updated_at":"2019-01-04T12:44:49Z","body":"> My machine has 4GB of RAM.\r\n> \r\n> I don't understand how you can identify that memory is no longer an issue (the [full trace](https://gist.githubusercontent.com/131/51a54910099872a125d95024170404e9/raw/ff618fd77c86e6d884b3bb4ef6d674b7e8663ba9/traces_rclone_fuu) crashes with \"fatal error: runtime: out of memory\")\r\n\r\nI can see from the trace that the go-routines which were holding onto memory aren't there any more....\r\n\r\nThe code is still using too much memory which I've fixed in the binary I posted above - the `058`.  You should find that uses a lot less memory.  If that one runs out of memory then there is a bug I haven't found yet!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451434387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451557938","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-451557938","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":451557938,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTU1NzkzOA==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T20:22:30Z","updated_at":"2019-01-04T20:22:30Z","body":"The Great Firewall God is not among us today (and i cannot transfer files anymore). I'll try again tomorrow...","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/451557938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/452795190","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-452795190","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":452795190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mjc5NTE5MA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-09T18:05:40Z","updated_at":"2019-01-09T18:05:40Z","body":"How did it go?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/452795190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/452894407","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-452894407","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":452894407,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mjg5NDQwNw==","user":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-09T22:32:46Z","updated_at":"2019-01-09T22:32:46Z","body":"Crashing all the time, eating all the 4GB memory.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/452894407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"131","id":13545,"node_id":"MDQ6VXNlcjEzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/13545?v=4","gravatar_id":"","url":"https://api.github.com/users/131","html_url":"https://github.com/131","followers_url":"https://api.github.com/users/131/followers","following_url":"https://api.github.com/users/131/following{/other_user}","gists_url":"https://api.github.com/users/131/gists{/gist_id}","starred_url":"https://api.github.com/users/131/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/131/subscriptions","organizations_url":"https://api.github.com/users/131/orgs","repos_url":"https://api.github.com/users/131/repos","events_url":"https://api.github.com/users/131/events{/privacy}","received_events_url":"https://api.github.com/users/131/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/453481977","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-453481977","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":453481977,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzQ4MTk3Nw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T11:01:13Z","updated_at":"2019-01-11T11:01:13Z","body":"> Crashing all the time, eating all the 4GB memory.\r\n\r\nWhat parameters are you using? Can you post a memory trace?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/453481977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2083181274,"node_id":"MDExOkNsb3NlZEV2ZW50MjA4MzE4MTI3NA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2083181274","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"9685be64cd410ae97b73af2eb96293c9100434e5","commit_url":"https://api.github.com/repos/rclone/rclone/commits/9685be64cd410ae97b73af2eb96293c9100434e5","created_at":"2019-01-18T15:21:10Z","state_reason":null,"performed_via_github_app":null},{"id":2083181279,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIwODMxODEyNzk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2083181279","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a2341cc412a0cf4b84c0ec729231e88bc32f5acf","commit_url":"https://api.github.com/repos/rclone/rclone/commits/a2341cc412a0cf4b84c0ec729231e88bc32f5acf","created_at":"2019-01-18T15:21:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/455582104","html_url":"https://github.com/rclone/rclone/issues/2851#issuecomment-455582104","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2851","id":455582104,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTU4MjEwNA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-18T15:21:32Z","updated_at":"2019-01-18T15:21:32Z","body":"I've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org) in 15-30 mins and released in v1.46\r\n\r\nI think that you should be able to control the memory usage with the new parameters now.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/455582104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2207597590,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMDc1OTc1OTA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2207597590","actor":{"login":"gcornut","id":939567,"node_id":"MDQ6VXNlcjkzOTU2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/939567?v=4","gravatar_id":"","url":"https://api.github.com/users/gcornut","html_url":"https://github.com/gcornut","followers_url":"https://api.github.com/users/gcornut/followers","following_url":"https://api.github.com/users/gcornut/following{/other_user}","gists_url":"https://api.github.com/users/gcornut/gists{/gist_id}","starred_url":"https://api.github.com/users/gcornut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gcornut/subscriptions","organizations_url":"https://api.github.com/users/gcornut/orgs","repos_url":"https://api.github.com/users/gcornut/repos","events_url":"https://api.github.com/users/gcornut/events{/privacy}","received_events_url":"https://api.github.com/users/gcornut/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a540ed03b3a7c1bf00cb0c8c8330c14b776565d7","commit_url":"https://api.github.com/repos/gcornut/rclone/commits/a540ed03b3a7c1bf00cb0c8c8330c14b776565d7","created_at":"2019-03-15T20:54:18Z","performed_via_github_app":null},{"id":2207597593,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMDc1OTc1OTM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2207597593","actor":{"login":"gcornut","id":939567,"node_id":"MDQ6VXNlcjkzOTU2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/939567?v=4","gravatar_id":"","url":"https://api.github.com/users/gcornut","html_url":"https://github.com/gcornut","followers_url":"https://api.github.com/users/gcornut/followers","following_url":"https://api.github.com/users/gcornut/following{/other_user}","gists_url":"https://api.github.com/users/gcornut/gists{/gist_id}","starred_url":"https://api.github.com/users/gcornut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gcornut/subscriptions","organizations_url":"https://api.github.com/users/gcornut/orgs","repos_url":"https://api.github.com/users/gcornut/repos","events_url":"https://api.github.com/users/gcornut/events{/privacy}","received_events_url":"https://api.github.com/users/gcornut/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e1562ef71f4dc881ec9d608374097879f8b403f4","commit_url":"https://api.github.com/repos/gcornut/rclone/commits/e1562ef71f4dc881ec9d608374097879f8b403f4","created_at":"2019-03-15T20:54:19Z","performed_via_github_app":null},{"id":2207610661,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMDc2MTA2NjE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2207610661","actor":{"login":"gcornut","id":939567,"node_id":"MDQ6VXNlcjkzOTU2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/939567?v=4","gravatar_id":"","url":"https://api.github.com/users/gcornut","html_url":"https://github.com/gcornut","followers_url":"https://api.github.com/users/gcornut/followers","following_url":"https://api.github.com/users/gcornut/following{/other_user}","gists_url":"https://api.github.com/users/gcornut/gists{/gist_id}","starred_url":"https://api.github.com/users/gcornut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gcornut/subscriptions","organizations_url":"https://api.github.com/users/gcornut/orgs","repos_url":"https://api.github.com/users/gcornut/repos","events_url":"https://api.github.com/users/gcornut/events{/privacy}","received_events_url":"https://api.github.com/users/gcornut/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b660f4a87931d90a6d938dcd95cace63576445b6","commit_url":"https://api.github.com/repos/gcornut/rclone/commits/b660f4a87931d90a6d938dcd95cace63576445b6","created_at":"2019-03-15T21:00:58Z","performed_via_github_app":null},{"id":2207610663,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMDc2MTA2NjM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2207610663","actor":{"login":"gcornut","id":939567,"node_id":"MDQ6VXNlcjkzOTU2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/939567?v=4","gravatar_id":"","url":"https://api.github.com/users/gcornut","html_url":"https://github.com/gcornut","followers_url":"https://api.github.com/users/gcornut/followers","following_url":"https://api.github.com/users/gcornut/following{/other_user}","gists_url":"https://api.github.com/users/gcornut/gists{/gist_id}","starred_url":"https://api.github.com/users/gcornut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gcornut/subscriptions","organizations_url":"https://api.github.com/users/gcornut/orgs","repos_url":"https://api.github.com/users/gcornut/repos","events_url":"https://api.github.com/users/gcornut/events{/privacy}","received_events_url":"https://api.github.com/users/gcornut/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"784b2a84d3fbc599dda83b8b2ae79dfc14502360","commit_url":"https://api.github.com/repos/gcornut/rclone/commits/784b2a84d3fbc599dda83b8b2ae79dfc14502360","created_at":"2019-03-15T21:00:58Z","performed_via_github_app":null}]