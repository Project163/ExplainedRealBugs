{"url":"https://api.github.com/repos/rclone/rclone/issues/8518","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/8518/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/8518/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/8518/events","html_url":"https://github.com/rclone/rclone/issues/8518","id":3009956315,"node_id":"I_kwDOAQ-n5M6zaEnb","number":8518,"title":"[Local] Expensive hash calculation runs even when hashType is None","user":{"login":"oleksiys","id":420750,"node_id":"MDQ6VXNlcjQyMDc1MA==","avatar_url":"https://avatars.githubusercontent.com/u/420750?v=4","gravatar_id":"","url":"https://api.github.com/users/oleksiys","html_url":"https://github.com/oleksiys","followers_url":"https://api.github.com/users/oleksiys/followers","following_url":"https://api.github.com/users/oleksiys/following{/other_user}","gists_url":"https://api.github.com/users/oleksiys/gists{/gist_id}","starred_url":"https://api.github.com/users/oleksiys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleksiys/subscriptions","organizations_url":"https://api.github.com/users/oleksiys/orgs","repos_url":"https://api.github.com/users/oleksiys/repos","events_url":"https://api.github.com/users/oleksiys/events{/privacy}","received_events_url":"https://api.github.com/users/oleksiys/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-04-22T05:53:55Z","updated_at":"2025-06-03T14:40:52Z","closed_at":"2025-06-03T14:40:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\n\n`rclone serve s3` supports `--etag-hash=` option that disables MD5 hash.\nHowever when I use a local backend (expose it via s3), I noticed that the Hash function still reads the file content, but ignores the result, since the hash function type is None. Which still makes this function extremely expensive for no reason.\n\n#### What is your rclone version (output from `rclone version`)\n1.69.1\n\n\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\nMacOS\n\n\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\nrclone serve s3 /tmp --read-only --s3-region us-east-1 --no-modtime --etag-hash=\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/8518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/8518/timeline","performed_via_github_app":null,"state_reason":"completed"}