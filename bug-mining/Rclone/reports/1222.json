{"url":"https://api.github.com/repos/rclone/rclone/issues/7371","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7371/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7371/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7371/events","html_url":"https://github.com/rclone/rclone/issues/7371","id":1943587890,"node_id":"I_kwDOAQ-n5M5z2Mwy","number":7371,"title":"oracleobjectstorage  oos- archive storage - should allow to do a \"backend restore\"","user":{"login":"jmichler","id":2754419,"node_id":"MDQ6VXNlcjI3NTQ0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/2754419?v=4","gravatar_id":"","url":"https://api.github.com/users/jmichler","html_url":"https://github.com/jmichler","followers_url":"https://api.github.com/users/jmichler/followers","following_url":"https://api.github.com/users/jmichler/following{/other_user}","gists_url":"https://api.github.com/users/jmichler/gists{/gist_id}","starred_url":"https://api.github.com/users/jmichler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmichler/subscriptions","organizations_url":"https://api.github.com/users/jmichler/orgs","repos_url":"https://api.github.com/users/jmichler/repos","events_url":"https://api.github.com/users/jmichler/events{/privacy}","received_events_url":"https://api.github.com/users/jmichler/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":4853983250,"node_id":"LA_kwDOAQ-n5M8AAAABIVHoEg","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Oracle%20Object%20Storage","name":"Remote: Oracle Object Storage","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2023-10-14T22:36:18Z","updated_at":"2024-01-09T09:43:38Z","closed_at":"2024-01-09T09:43:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### The associated forum post URL from `https://forum.rclone.org`\r\nhttps://forum.rclone.org/t/rclone-backed-restore-oracle-oci/32571\r\n\r\n\r\n#### What is your current rclone version (output from `rclone version`)?\r\npi@raspberrypi:~ $ rclone version\r\nrclone v1.64.0\r\n- os/version: raspbian 11.8 (64 bit)\r\n- os/kernel: 6.1.21-v8+ (aarch64)\r\n- os/type: linux\r\n- os/arch: arm64 (ARMv8 compatible)\r\n- go/version: go1.21.1\r\n- go/linking: static\r\n- go/tags: none\r\n\r\n\r\n\r\n#### What problem are you are trying to solve?\r\nUsing the Oracle Cloud Infrastructure (OCI) Object storage I'd like to backup and restore to archive storage ().\r\nI can setup a backup to Archive storage (as also described here: https://rclone.org/oracleobjectstorage/)\r\n\r\n#### --oos-storage-tier\r\n\r\nThe storage class to use when storing new objects in storage. https://docs.oracle.com/en-us/iaas/Content/Object/Concepts/understandingstoragetiers.htm\r\n\r\nProperties:\r\n\r\n- Config:      storage_tier\r\n- Env Var:     RCLONE_OOS_STORAGE_TIER\r\n- Type:        string\r\n- Default:     \"Standard\"\r\n- Examples:\r\n    - \"Standard\"\r\n        - Standard storage tier, this is the default tier\r\n    - \"InfrequentAccess\"\r\n        - InfrequentAccess storage tier\r\n    - \"Archive\"\r\n        - Archive storage tier\r\n\r\n\r\n\r\nCreating backups is working fine, but restore fails:\r\n rclone sync -v jmichlerace_archive:archive-rclone-tests sync-tests2\r\n\r\n Error returned by ObjectStorage Service. Http Status Code: 409. Error Code: NotRestored. Opc request id: fra-1:0TggNoT3SZI2uWyfZEvUNIr8J72Hy0TrKAixJtFpCpQqQWY7pU-48llRfdmAfscy. Message: The object is in Archive tier and needs to be restored.\r\n\r\nI could probably over the OCI UI \"restore\" every single file, but this is highly inconvenient.\r\n\r\nI tried as in the forum post to run a backend restore; but that gives me:\r\npi@raspberrypi:~ $ rclone backend restore jmichlerace_archive:archive-rclone-tests/ -n\r\n2023/10/14 23:29:46 Failed to backend: \"restore\" command not found\r\n\r\n\r\n#### How do you think rclone should be changed to solve that?\r\n\r\ndynamically restore on a failed access or provide the \"rclone backend restore\" command for oos as well that is available for s3.\r\n\r\nDocumentation from Oracle side is over there: https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/managingobjects_topic-To_restore_objects_from_Archive_Storage.htm\r\n\r\n\r\n<!--- Please keep the note below for others who read your feature request. -->\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7371/timeline","performed_via_github_app":null,"state_reason":"completed"}