{"url":"https://api.github.com/repos/rclone/rclone/issues/7661","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7661/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7661/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7661/events","html_url":"https://github.com/rclone/rclone/issues/7661","id":2171021938,"node_id":"I_kwDOAQ-n5M6BZypy","number":7661,"title":"Combined remotes - moving directory within different remotes fails","user":{"login":"akuropka","id":22570574,"node_id":"MDQ6VXNlcjIyNTcwNTc0","avatar_url":"https://avatars.githubusercontent.com/u/22570574?v=4","gravatar_id":"","url":"https://api.github.com/users/akuropka","html_url":"https://github.com/akuropka","followers_url":"https://api.github.com/users/akuropka/followers","following_url":"https://api.github.com/users/akuropka/following{/other_user}","gists_url":"https://api.github.com/users/akuropka/gists{/gist_id}","starred_url":"https://api.github.com/users/akuropka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akuropka/subscriptions","organizations_url":"https://api.github.com/users/akuropka/orgs","repos_url":"https://api.github.com/users/akuropka/repos","events_url":"https://api.github.com/users/akuropka/events{/privacy}","received_events_url":"https://api.github.com/users/akuropka/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":430778096,"node_id":"MDU6TGFiZWw0MzA3NzgwOTY=","url":"https://api.github.com/repos/rclone/rclone/labels/VFS%20/%20mount","name":"VFS / mount","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-03-06T09:20:32Z","updated_at":"2024-03-07T11:12:14Z","closed_at":"2024-03-07T11:11:47Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What are you trying to do?\r\n\r\nMoving a folder from one remote to another.\r\n\r\nIt works within a combined remote with the `rclone move` command.\r\nIt works while the remotes are separately mounted (using `rclone mount` for each remote and then `mv`).\r\n\r\n#### What is the problem you are having with rclone?\r\n\r\nMoving a folder within two remotes while mounted as combined throws an e/a-error.\r\nMoving a file or copying a folder this way works.\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\n```\r\nrclone v1.65.2\r\n- os/version: arch (64 bit)\r\n- os/kernel: 6.6.18-1-rpi-16k (aarch64)\r\n- os/type: linux\r\n- os/arch: arm64 (ARMv8 compatible)\r\n- go/version: go1.21.7\r\n- go/linking: dynamic\r\n- go/tags: none\r\n```\r\n\r\n#### Which cloud storage systems are you using?\r\n\r\nDropbox, OneDrive, pCloud\r\n\r\n#### The command you were trying to run\r\n\r\n`root@raspberry ~ # rclone mount cloud: /mnt/cloud`\r\n`root@raspberry ~ # mv /mnt/cloud/pcloud/8 /mnt/cloud/dropbox/`\r\n\r\n#### A log from the command with the `-vv` flag\r\n\r\n> 2024/03/06 10:08:28 DEBUG : rclone: Version \"v1.65.2\" starting with parameters [\"rclone\" \"mount\" \"cloud:\" \"/mnt/cloud\" \"--config\" \"/etc/rclone.conf\" \"--log-level\" \"DEBUG\" \"--vfs-cache-mode\" \"writes\"]\r\n> 2024/03/06 10:08:28 DEBUG : Creating backend with remote \"cloud:\"\r\n> 2024/03/06 10:08:28 DEBUG : Using config file from \"/etc/rclone.conf\"\r\n> 2024/03/06 10:08:28 DEBUG : Creating backend with remote \"pcloud:\"\r\n> 2024/03/06 10:08:28 DEBUG : Creating backend with remote \"dropbox:\"\r\n> 2024/03/06 10:08:28 DEBUG : Creating backend with remote \"onedrive:\"\r\n> 2024/03/06 10:08:29 DEBUG : vfs cache: root is \"/root/.cache/rclone\"\r\n> 2024/03/06 10:08:29 DEBUG : vfs cache: data root is \"/root/.cache/rclone/vfs/cloud\"\r\n> 2024/03/06 10:08:29 DEBUG : vfs cache: metadata root is \"/root/.cache/rclone/vfsMeta/cloud\"\r\n> 2024/03/06 10:08:29 DEBUG : Creating backend with remote \"/root/.cache/rclone/vfs/cloud/\"\r\n> 2024/03/06 10:08:29 DEBUG : fs cache: renaming cache item \"/root/.cache/rclone/vfs/cloud/\" to be canonical \"/root/.cache/rclone/vfs/cloud\"\r\n> 2024/03/06 10:08:29 DEBUG : Creating backend with remote \"/root/.cache/rclone/vfsMeta/cloud/\"\r\n> 2024/03/06 10:08:29 DEBUG : fs cache: renaming cache item \"/root/.cache/rclone/vfsMeta/cloud/\" to be canonical \"/root/.cache/rclone/vfsMeta/cloud\"\r\n> 2024/03/06 10:08:29 INFO  : vfs cache: cleaned: objects 0 (was 0) in use 0, to upload 0, uploading 0, total size 0 (was 0)\r\n> 2024/03/06 10:08:29 DEBUG : combine root '': Mounting on \"/mnt/cloud\"\r\n> 2024/03/06 10:08:29 DEBUG : : Root:\r\n> 2024/03/06 10:08:29 DEBUG : : >Root: node=/, err=<nil>\r\n> 2024/03/06 10:08:30 DEBUG : OneDrive root '': Next delta token is: NDslMjM0OyUyMzE7Mzs1M2NmZmNmZC0zOGQwLTQwNDYtODZkOC01OTdlNWMwN2U0YTY7NjM4NDUzMTI5MDk5NjMwMDAwOzg1Nzc1NzE2OyUyMzslMjM7JTIzMDslMjM\r\n> 2024/03/06 10:08:35 DEBUG : /: Lookup: name=\"pcloud\"\r\n> 2024/03/06 10:08:35 DEBUG : /: >Lookup: node=pcloud/, err=<nil>\r\n> 2024/03/06 10:08:35 DEBUG : pcloud/: Attr:\r\n> 2024/03/06 10:08:35 DEBUG : pcloud/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-xr-x, err=<nil>\r\n> 2024/03/06 10:08:35 DEBUG : pcloud/: Lookup: name=\"8\"\r\n> 2024/03/06 10:08:35 DEBUG : pcloud/: >Lookup: node=pcloud/8/, err=<nil>\r\n> 2024/03/06 10:08:35 DEBUG : pcloud/8/: Attr:\r\n> 2024/03/06 10:08:35 DEBUG : pcloud/8/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-xr-x, err=<nil>\r\n> 2024/03/06 10:08:35 DEBUG : /: Lookup: name=\"dropbox\"\r\n> 2024/03/06 10:08:35 DEBUG : /: >Lookup: node=dropbox/, err=<nil>\r\n> 2024/03/06 10:08:35 DEBUG : dropbox/: Attr:\r\n> 2024/03/06 10:08:35 DEBUG : dropbox/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-xr-x, err=<nil>\r\n> 2024/03/06 10:08:35 DEBUG : dropbox/: Lookup: name=\"8\"\r\n> 2024/03/06 10:08:36 DEBUG : dropbox/: >Lookup: node=<nil>, err=no such file or directory\r\n> 2024/03/06 10:08:36 DEBUG : dropbox/: Lookup: name=\"8\"\r\n> 2024/03/06 10:08:36 DEBUG : dropbox/: >Lookup: node=<nil>, err=no such file or directory\r\n> 2024/03/06 10:08:36 DEBUG : dropbox/: Lookup: name=\"8\"\r\n> 2024/03/06 10:08:36 DEBUG : dropbox/: >Lookup: node=<nil>, err=no such file or directory\r\n> 2024/03/06 10:08:36 DEBUG : pcloud/: Rename: oldName=\"8\", newName=\"8\", newDir=dropbox/\r\n> 2024/03/06 10:08:36 NOTICE: Dropbox root '': srcU.f=pcloud root '', srcURemote=\"8\", dstURemote=\"8\"\r\n> 2024/03/06 10:08:36 DEBUG : <nil>: Can't move directory - not same remote type\r\n> 2024/03/06 10:08:36 ERROR : pcloud/8: Dir.Rename error: can't move directory - incompatible remotes\r\n> 2024/03/06 10:08:36 ERROR : IO error: can't move directory - incompatible remotes\r\n> 2024/03/06 10:08:36 DEBUG : pcloud/: >Rename: err=can't move directory - incompatible remotes\r\n> 2024/03/06 10:08:36 DEBUG : dropbox/: Lookup: name=\"8\"\r\n> 2024/03/06 10:08:36 DEBUG : dropbox/: >Lookup: node=<nil>, err=no such file or directory\r\n\r\n#### Additional information\r\n\r\nThe folder exists on source but not destination:\r\n\r\n> root@raspberry ~ # ls -al /mnt/cloud/pcloud/8\r\n> insgesamt 1750\r\n> drwxr-xr-x 1 root root      0  6. M√§r 09:51 .\r\n> drwxr-xr-x 1 root root      0  6. M√§r 10:12 ..\r\n> -rw-r--r-- 1 root root 666846  6. M√§r 09:51 Freunde.jpg\r\n> -rw-r--r-- 1 root root 189628  6. M√§r 09:52 Glueckliche-familie.jpg\r\n> -rw-r--r-- 1 root root  32905  6. M√§r 09:51 Im-himmel.jpg\r\n> -rw-r--r-- 1 root root 500130  6. M√§r 09:51 Liebhaber.jpg\r\n> -rw-r--r-- 1 root root 238222  6. M√§r 09:51 Romantik.jpg\r\n> -rw-r--r-- 1 root root 162388  6. M√§r 09:51 Suessigkeiten.jpg\r\n> root@raspberry ~ # ls -al /mnt/cloud/dropbox/8\r\n> ls: Zugriff auf '/mnt/cloud/dropbox/8' nicht m√∂glich: Datei oder Verzeichnis nicht gefunden\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7661/timeline","performed_via_github_app":null,"state_reason":"completed"}