{"url":"https://api.github.com/repos/rclone/rclone/issues/7856","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7856/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7856/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7856/events","html_url":"https://github.com/rclone/rclone/issues/7856","id":2304770090,"node_id":"I_kwDOAQ-n5M6JYAAq","number":7856,"title":"fichier: server-side rename, move is broken","user":{"login":"disconnect5852","id":16463255,"node_id":"MDQ6VXNlcjE2NDYzMjU1","avatar_url":"https://avatars.githubusercontent.com/u/16463255?v=4","gravatar_id":"","url":"https://api.github.com/users/disconnect5852","html_url":"https://github.com/disconnect5852","followers_url":"https://api.github.com/users/disconnect5852/followers","following_url":"https://api.github.com/users/disconnect5852/following{/other_user}","gists_url":"https://api.github.com/users/disconnect5852/gists{/gist_id}","starred_url":"https://api.github.com/users/disconnect5852/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/disconnect5852/subscriptions","organizations_url":"https://api.github.com/users/disconnect5852/orgs","repos_url":"https://api.github.com/users/disconnect5852/repos","events_url":"https://api.github.com/users/disconnect5852/events{/privacy}","received_events_url":"https://api.github.com/users/disconnect5852/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1429903275,"node_id":"MDU6TGFiZWwxNDI5OTAzMjc1","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Fichier","name":"Remote: Fichier","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-05-19T20:28:49Z","updated_at":"2024-09-06T17:21:12Z","closed_at":"2024-09-06T17:20:59Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm using 1fichier as backup also mounted with clone, and it have many limitations, and here is one that makes work rclone not so well, however this can be workarounded, but it would be nice if rclone would respect this.\r\nAs i see, on 1 fichier renaming, so server-side move only inside the same folder, but not between different folders, even if one is a subfolder. When i try to move a file from an 1fichier folder to a different one on the same server, error, happens:\r\n`2024/05/19 21:55:18 ERROR : gopro/20240306.mp4: Dir.Rename error: couldn't rename file: No file has been renamed #312\r\n2024/05/19 21:55:18 ERROR : IO error: couldn't rename file: No file has been renamed #312`, the error is appears in file manager too\r\n\r\nFor this the WA is to copy the file to the other folder, then delete the original, manually, which happens like this: rclone dowloads the file to the vfs cache, then re-uploads the file to the other folder. But 1fichier supports server-side copy, i usually sync a folder to another, on the same 1fichier account, and all files are copied server side.\r\n\r\nSo even if server side move is very limited, it would be nice to prepare rclone for these limitations, so do the usualy rename in the same folder, but on moving a file, do a server-side-copy, and delete the original automatically, thus making it transparent to the user.\r\n\r\n`rclone mount hasher1fichier:/ /home/sanyika/cloudkripta/ --daemon --vfs-cache-mode minimal --vfs-fast-fingerprint --server-side-across-configs --hasher-auto-size 1P --log-file /home/sanyika/logs/cloudkripta.log --fast-list -v`\r\n\r\n```\r\nrclone v1.66.0\r\n- os/version: linuxmint 21.3 (64 bit)\r\n- os/kernel: 5.15.0-102-generic (x86_64)\r\n- os/type: linux\r\n- os/arch: amd64\r\n- go/version: go1.22.1\r\n- go/linking: static\r\n- go/tags: none\r\n```\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7856/timeline","performed_via_github_app":null,"state_reason":"completed"}