{"url":"https://api.github.com/repos/rclone/rclone/issues/6547","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/6547/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/6547/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/6547/events","html_url":"https://github.com/rclone/rclone/issues/6547","id":1438451132,"node_id":"I_kwDOAQ-n5M5VvQW8","number":6547,"title":"MailRu synchronization fails with \"panic: Invalid UInt64 -1\" in addFileMetaData()","user":{"login":"dmak","id":366965,"node_id":"MDQ6VXNlcjM2Njk2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/366965?v=4","gravatar_id":"","url":"https://api.github.com/users/dmak","html_url":"https://github.com/dmak","followers_url":"https://api.github.com/users/dmak/followers","following_url":"https://api.github.com/users/dmak/following{/other_user}","gists_url":"https://api.github.com/users/dmak/gists{/gist_id}","starred_url":"https://api.github.com/users/dmak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmak/subscriptions","organizations_url":"https://api.github.com/users/dmak/orgs","repos_url":"https://api.github.com/users/dmak/repos","events_url":"https://api.github.com/users/dmak/events{/privacy}","received_events_url":"https://api.github.com/users/dmak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1624846095,"node_id":"MDU6TGFiZWwxNjI0ODQ2MDk1","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Mailru","name":"Remote: Mailru","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-11-07T14:22:45Z","updated_at":"2022-11-10T11:35:55Z","closed_at":"2022-11-10T11:28:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am using rclone v1.60.0 in Linux x64. When running synchronization with mailru cloud the following error occurs:\r\n```\r\n$ rclone sync -vvv --dump headers,bodies --track-renames ~/cloud mailru:\r\n\r\n2022/11/07 15:09:47 DEBUG : HTTP REQUEST (req 0xc000247f00)\r\n2022/11/07 15:09:47 DEBUG : PUT /upload/?client_id=cloud-win&token=a201d82985197c86a6ac4f636145b8d0ad76333737363830 HTTP/1.1\r\nHost: cld-uploader8.cloud.mail.ru\r\nUser-Agent: rclone/v1.60.0\r\nContent-Length: 1970770\r\nAccept: */*\r\nAccept-Encoding: gzip\r\n...\r\n2022/11/07 15:09:47 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n2022/11/07 15:09:48 DEBUG : <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n2022/11/07 15:09:48 DEBUG : HTTP RESPONSE (req 0xc000247f00)\r\n2022/11/07 15:09:48 DEBUG : HTTP/1.1 201 Created\r\nContent-Length: 40\r\nConnection: keep-alive\r\nContent-Type: text/plain\r\nDate: Mon, 07 Nov 2022 14:09:48 GMT\r\nServer: nginx/1.20.1\r\nX-Host: cld-uploader8\r\nX-Req-Id: rUkT5F7kzD\r\nX-Req-Id: rUkT5F7kzD\r\nX-Server: Streamer/1.0\r\nX-Started: 1667830187.87987\r\n\r\nF8F7DEC4EE581EF8E03BCD672BDD840B9AF72F29\r\n2022/11/07 15:09:48 DEBUG : <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\npanic: Invalid UInt64 -1\r\n\r\ngoroutine 73 [running]:\r\ngithub.com/rclone/rclone/backend/mailru/api.(*BinWriter).WritePu64(0xc0006b97e8?, 0xc000d373b0?)\r\n        github.com/rclone/rclone/backend/mailru/api/helpers.go:67 +0xe8\r\ngithub.com/rclone/rclone/backend/mailru.(*Object).addFileMetaData(0xc0013c6420, {0x2334130?, 0xc000cf1280}, 0x1)\r\n        github.com/rclone/rclone/backend/mailru/mailru.go:2061 +0x33c\r\ngithub.com/rclone/rclone/backend/mailru.(*Object).Update(0xc0013c6420, {0x2334130, 0xc000cf1280}, {0x231f2a0, 0xc00238c600}, {0x7f7538811318, 0xc0011d3ec0}, {0xc002166b90, 0x1, 0x1})\r\n        github.com/rclone/rclone/backend/mailru/mailru.go:1737 +0xf26\r\ngithub.com/rclone/rclone/backend/mailru.(*Fs).Put(0xc0005c31e0, {0x2334130, 0xc000cf1280}, {0x231f2a0, 0xc00238c600}, {0x7f7538811318?, 0xc0011d3ec0?}, {0xc002166b90, 0x1, 0x1})\r\n        github.com/rclone/rclone/backend/mailru/mailru.go:1598 +0x1d6\r\ngithub.com/rclone/rclone/fs/operations.Copy({0x2334130, 0xc000cf1280}, {0x2345f40, 0xc0005c31e0}, {0x0?, 0x0?}, {0xc000ea0270, 0x2c}, {0x2345ed0, 0xc0011d3ec0})\r\n        github.com/rclone/rclone/fs/operations/operations.go:501 +0x1b6e\r\ngithub.com/rclone/rclone/fs/sync.(*syncCopyMove).pairCopyOrMove(0xc0008c98c0, {0x2334130, 0xc000cf1280}, 0x0?, {0x2345f40, 0xc0005c31e0}, 0x0?, 0x0?)\r\n        github.com/rclone/rclone/fs/sync/sync.go:423 +0x1bb\r\ncreated by github.com/rclone/rclone/fs/sync.(*syncCopyMove).startTransfers\r\n        github.com/rclone/rclone/fs/sync/sync.go:450 +0x45\r\n```\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/6547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/6547/timeline","performed_via_github_app":null,"state_reason":"completed"}