[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429535376","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-429535376","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":429535376,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTUzNTM3Ng==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-13T11:45:56Z","updated_at":"2018-10-13T11:45:56Z","body":"Rclone's idle timer is 5minues by default, not 1 minute so I'm guessing this is something internal to the Azure SDK.\r\n\r\nThe only 1 minute timers I see in the SDK source are here\r\n\r\nhttps://github.com/ncw/rclone/blob/249a523dd3646d6933bcff19bdd633b3d0ba693f/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob/zc_policy_retry.go#L97-L106\r\n\r\nThat looks like something we could override.\r\n\r\n@sandeepkru can you replicate this?  Any ideas?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429535376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1902131239,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwMjEzMTIzOQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902131239","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-10-13T11:45:56Z","performed_via_github_app":null},{"id":1902131240,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDIxMzEyNDA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902131240","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-10-13T11:45:56Z","performed_via_github_app":null},{"id":1902131331,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5MDIxMzEzMzE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902131331","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-13T11:46:10Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":1902131332,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5MDIxMzEzMzI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902131332","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-13T11:46:10Z","label":{"name":"Remote: Azure Blob","color":"fbca04"},"performed_via_github_app":null},{"id":1902131359,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5MDIxMzEzNTk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902131359","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-10-13T11:46:13Z","milestone":{"title":"v1.44"},"performed_via_github_app":null},{"id":1902131597,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTkwMjEzMTU5Nw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902131597","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2018-10-13T11:47:00Z","rename":{"from":"DEBUG : Received error: context deadline exceeded - low level retry 1/10","to":"azureblob : Received error: context deadline exceeded after 1m0s transfer"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429535779","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-429535779","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":429535779,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTUzNTc3OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-13T11:53:16Z","updated_at":"2018-10-13T11:53:16Z","body":"I tried to replicate this by copying a file with a bwlimit so it took longer than a minute, but it didn't show the problem.\r\n\r\n    rclone --bwlimit 100k -vv --stats 1s copyto azure:rclone-test1/10M /tmp/10M.copy\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429535779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1902371055,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50MTkwMjM3MTA1NQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902371055","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2018-10-13T23:03:13Z","milestone":{"title":"v1.44"},"performed_via_github_app":null},{"id":1902371056,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5MDIzNzEwNTY=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902371056","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-10-13T23:03:13Z","milestone":{"title":"v1.45"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429592712","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-429592712","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":429592712,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTU5MjcxMg==","user":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-14T03:07:40Z","updated_at":"2018-10-14T03:07:40Z","body":"I think the problem is clear when you get the error output I do. I'm not sure why the errors are so different for @ccvalley .\r\n\r\n> Put https\\://ZZZ.blob.core.windows.net/test/test.bin?comp=blocklist&**timeout=61**: context canceled\r\n\r\nIt's best not to use the timeout parameter. You can't increase the timeout beyond 30 seconds for all but the data transfer operations and by setting timeout on blob transfer operations you actually override the default rate based limit (10 minutes per megabyte for uploads). See [Timeouts for Blob Service](https://docs.microsoft.com/en-us/rest/api/storageservices/setting-timeouts-for-blob-service-operations).\r\n\r\nEven though my transfer is almost certainly failing at 1 minutes, I don't get an error reported until almost 5 minutes. Also you'll notice the status output below is broken in multiple ways. It immediately and erroneously reports 100% has been transferred. It's actually transferring at about 1.4MiB/s according to iftop. It also doesn't show any errors have occurred even though the transfer is failing and retrying. \r\n\r\nI'm running 1.43.1 on Ubuntu 18.04.1. \r\n\r\n<details>\r\n<summary>(click for output)$ rclone -vv --stats=10s copy test.bin azure_test:test/</summary>\r\n\r\n<pre>\r\nwill@volta:~/dev$ rclone -vv --stats=10s copy test.bin azure_test:test/\r\n2018/10/13 19:39:47 DEBUG : rclone: Version \"v1.43.1\" starting with parameters [\"rclone\" \"-vv\" \"--stats=10s\" \"copy\" \"test.bin\" \"azure_test:test/\"]\r\n2018/10/13 19:39:47 DEBUG : Using config file from \"/home/will/.config/rclone/rclone.conf\"\r\n2018/10/13 19:39:47 DEBUG : test.bin: Couldn't find file - need to transfer\r\n\r\n2018/10/13 19:39:57 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 21.973 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:         10s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 24.441M/s, 0s\r\n\r\n2018/10/13 19:40:07 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 10.993 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:         20s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 11.328M/s, 0s\r\n\r\n2018/10/13 19:40:17 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 7.330 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:         30s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 5.941M/s, 0s\r\n\r\n2018/10/13 19:40:27 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 5.498 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:         40s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 3.116M/s, 0s\r\n\r\n[ ... redundant updates removed ... ]\r\n\r\n2018/10/13 19:43:37 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 979.426 kBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       3m50s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 15/s, 0s\r\n\r\n2018/10/13 19:43:47 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 938.618 kBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:        4m0s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 8/s, 0s\r\n\r\n2018/10/13 19:43:57 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 901.075 kBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       4m10s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 4/s, 0s\r\n\r\n2018/10/13 19:44:07 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 866.420 kBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       4m20s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 2/s, 0s\r\n\r\n2018/10/13 19:44:17 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 834.332 kBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       4m30s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 1/s, 0s\r\n\r\n2018/10/13 19:44:27 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 804.536 kBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       4m40s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 0/s, 0s\r\n\r\n2018/10/13 19:44:35 ERROR : test.bin: Failed to copy: -> github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline.newDefaultHTTPClientFactory.func1.1, /home/travis/gopath/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline/core.go:234\r\nHTTP request failed\r\n\r\nPut https://ZZZ.blob.core.windows.net/test/test.bin?comp=blocklist&timeout=61: context canceled\r\n2018/10/13 19:44:35 ERROR : Attempt 1/3 failed with 1 errors and: -> github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline.newDefaultHTTPClientFactory.func1.1, /home/travis/gopath/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline/core.go:234\r\nHTTP request failed\r\n\r\nPut https://ZZZ.blob.core.windows.net/test/test.bin?comp=blocklist&timeout=61: context canceled\r\n2018/10/13 19:44:35 DEBUG : test.bin: Couldn't find file - need to transfer\r\n2018/10/13 19:44:37 INFO  : \r\nTransferred:   \t      220M / 440 MBytes, 50%, 776.794 kBytes/s, ETA 4m50s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       4m50s\r\nTransferring:\r\n *                                      test.bin:  0% /220M, 0/s, -\r\n\r\n2018/10/13 19:44:47 INFO  : \r\nTransferred:   \t      440M / 440 MBytes, 100%, 1.467 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:        5m0s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 19.997M/s, 0s\r\n\r\n2018/10/13 19:44:57 INFO  : \r\nTransferred:   \t      440M / 440 MBytes, 100%, 1.419 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       5m10s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 9.956M/s, 0s\r\n\r\n2018/10/13 19:45:07 INFO  : \r\nTransferred:   \t      440M / 440 MBytes, 100%, 1.375 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       5m20s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 5.222M/s, 0s\r\n\r\n2018/10/13 19:45:17 INFO  : \r\nTransferred:   \t      440M / 440 MBytes, 100%, 1.333 MBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       5m30s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 2.739M/s, 0s\r\n\r\n^C\r\nwill@volta:~/dev$ \r\n</pre>\r\n\r\n</details>","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429592712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1902423665,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwMjQyMzY2NQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902423665","actor":{"login":"ccvalley","id":34656873,"node_id":"MDQ6VXNlcjM0NjU2ODcz","avatar_url":"https://avatars.githubusercontent.com/u/34656873?v=4","gravatar_id":"","url":"https://api.github.com/users/ccvalley","html_url":"https://github.com/ccvalley","followers_url":"https://api.github.com/users/ccvalley/followers","following_url":"https://api.github.com/users/ccvalley/following{/other_user}","gists_url":"https://api.github.com/users/ccvalley/gists{/gist_id}","starred_url":"https://api.github.com/users/ccvalley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccvalley/subscriptions","organizations_url":"https://api.github.com/users/ccvalley/orgs","repos_url":"https://api.github.com/users/ccvalley/repos","events_url":"https://api.github.com/users/ccvalley/events{/privacy}","received_events_url":"https://api.github.com/users/ccvalley/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-10-14T03:07:40Z","performed_via_github_app":null},{"id":1902423666,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDI0MjM2NjY=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902423666","actor":{"login":"ccvalley","id":34656873,"node_id":"MDQ6VXNlcjM0NjU2ODcz","avatar_url":"https://avatars.githubusercontent.com/u/34656873?v=4","gravatar_id":"","url":"https://api.github.com/users/ccvalley","html_url":"https://github.com/ccvalley","followers_url":"https://api.github.com/users/ccvalley/followers","following_url":"https://api.github.com/users/ccvalley/following{/other_user}","gists_url":"https://api.github.com/users/ccvalley/gists{/gist_id}","starred_url":"https://api.github.com/users/ccvalley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccvalley/subscriptions","organizations_url":"https://api.github.com/users/ccvalley/orgs","repos_url":"https://api.github.com/users/ccvalley/repos","events_url":"https://api.github.com/users/ccvalley/events{/privacy}","received_events_url":"https://api.github.com/users/ccvalley/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-10-14T03:07:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429652655","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-429652655","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":429652655,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTY1MjY1NQ==","user":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-14T19:03:36Z","updated_at":"2018-10-14T19:40:20Z","body":"I noticed in my log above the error was for `comp=blocklist`. But I know in the past that I've seen the error with `comp=block`. Neither of which makes sense because my blob is 220MiB, < 256MiB chunking cutoff. It looks like `azblob.UploadStreamToBlockBlob` used for the non-chunk rclone backend is always using the chunking REST API (see the methods of `uploadStreamToBlockBlobOptions`). This would still work, but its still including that timeout=61 even for the block PUTs. You might not notice this if you use the default 4MiB chunk size. However, I had set the chunk size very large, so with the 1min timeout, even the chunk puts are presumably timing out.\r\n\r\nThe timeouts are being injected in the pipeline by `azblob.NewRetryPolicyFactory`. \r\n\r\nWith chunksize 100MiB:\r\n```\r\nBufferSize:      int(o.fs.opt.ChunkSize) + 1, // +1 Needed until https://github.com/Azure/azure-storage-blob-go/pull/75 is merged\r\n```\r\nAlso the +1 here is causing the valid chunksize config of 100MiB to fail:\r\n\r\n```\r\n===== RESPONSE ERROR (ServiceCode=RequestBodyTooLarge) =====\r\nDescription=The request body is too large and exceeds the maximum permissible limit.\r\nRequestId:5d959ea2-101e-013b-68e9-6391bf000000\r\nTime:2018-10-14T18:15:16.2425545Z, Details: \r\n   Code: RequestBodyTooLarge\r\n   MaxLimit: 104857600\r\n   PUT https://XXX.blob.core.windows.net/test/test.bin?blockid=qkxnTsOcTjxCS6f1LQKlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%3D%3D&comp=block&timeout=61\r\n   Authorization: REDACTED\r\n   Content-Length: [104857601]\r\n   User-Agent: [Azure-Storage/0.1 (go1.11.1; linux)]\r\n   X-Ms-Client-Request-Id: [b836bff9-97ee-4239-56ab-df850cc21f84]\r\n   X-Ms-Date: [Sun, 14 Oct 2018 18:15:16 GMT]\r\n   X-Ms-Version: [2018-03-28]\r\n   --------------------------------------------------------------------------------\r\n   RESPONSE Status: 413 The request body is too large and exceeds the maximum permissible limit.\r\n   Content-Length: [290]\r\n   Content-Type: [application/xml]\r\n   Date: [Sun, 14 Oct 2018 18:15:15 GMT]\r\n   Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]\r\n   X-Ms-Error-Code: [RequestBodyTooLarge]\r\n   X-Ms-Request-Id: [5d959ea2-101e-013b-68e9-6391bf000000]\r\n   X-Ms-Version: [2018-03-28]\r\n\r\n```\r\nI tried chunk size 99MiB:\r\nIt runs for 5 minutes then I get:\r\n<pre>\r\n2018/10/14 13:25:52 INFO  : \r\nTransferred:   \t      220M / 220 MBytes, 100%, 804.531 kBytes/s, ETA 0s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:       4m40s\r\nTransferring:\r\n *                                      test.bin: 100% /220M, 1/s, 0s\r\n\r\n2018/10/14 13:25:54 DEBUG : pacer: Rate limited, increasing sleep to 20ms\r\n2018/10/14 13:25:54 DEBUG : pacer: low level retry 1/1 (error -> github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline.newDefaultHTTPClientFactory.func1.1, /home/will/go/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline/core.go:234\r\nHTTP request failed\r\n\r\nPut https://XXX.blob.core.windows.net/test/test.bin?blockid=TfHODY8dT%2Fx12JewNOE6xwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%3D%3D&comp=block&timeout=61: context deadline exceeded\r\n)\r\n2018/10/14 13:25:54 DEBUG : test.bin: Received error: -> github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline.newDefaultHTTPClientFactory.func1.1, /home/will/go/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-pipeline-go/pipeline/core.go:234\r\nHTTP request failed\r\n\r\nPut https://XXX.blob.core.windows.net/test/test.bin?blockid=TfHODY8dT%2Fx12JewNOE6xwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%3D%3D&comp=block&timeout=61: context deadline exceeded\r\n - low level retry 1/10\r\n2018/10/14 13:26:54 INFO  : \r\nTransferred:   \t      220M / 440 MBytes, 50%, 658.732 kBytes/s, ETA 5m41s\r\nErrors:                 0\r\nChecks:                 0 / 0, -\r\nTransferred:            0 / 1, 0%\r\nElapsed time:     5m41.9s\r\nTransferring:\r\n *                                      test.bin:  0% /220M, 0/s, -\r\n</pre>\r\nI tested the blob API with curl and it respects timeout and the transfer fails exactly at the time limit. So the transfers are probably timing out here in this last test and the code is not detecting it?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429652655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-15T07:31:47Z","updated_at":"2018-10-15T07:31:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/2653","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2653/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2653/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2653/events","html_url":"https://github.com/rclone/rclone/issues/2653","id":370033218,"node_id":"MDU6SXNzdWUzNzAwMzMyMTg=","number":2653,"title":"azureblob: a file of exactly the chunk size can't be uploaded","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1043114791,"node_id":"MDU6TGFiZWwxMDQzMTE0Nzkx","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Azure%20Blob","name":"Remote: Azure Blob","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/31","html_url":"https://github.com/rclone/rclone/milestone/31","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/31/labels","id":3430251,"node_id":"MDk6TWlsZXN0b25lMzQzMDI1MQ==","number":31,"title":"v1.44","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":39,"state":"closed","created_at":"2018-06-17T16:06:43Z","updated_at":"2018-12-20T12:12:18Z","due_on":"2018-10-13T07:00:00Z","closed_at":"2018-10-19T14:55:35Z"},"comments":0,"created_at":"2018-10-15T07:31:47Z","updated_at":"2018-10-15T08:07:03Z","closed_at":"2018-10-15T08:07:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"```\r\ntruncate -s 4M 4M\r\nrclone -vv copyto --azureblob-chunk-size 4M  --azureblob-upload-cutoff 100M 4M azure:rclone-test1/4M.11\r\n```\r\n\r\nWhich produces the error\r\n\r\n```\r\n2018/10/15 08:12:50 ERROR : 4M: Failed to copy: -> github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob.NewResponseError, /home/ncw/go/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob/zz_generated_response_error.go:28\r\n===== RESPONSE ERROR (ServiceCode=Md5Mismatch) =====\r\nDescription=The MD5 value specified in the request did not match with the MD5 value calculated by the server.\r\nRequestId:a8b67947-601e-0057-6e56-647399000000\r\nTime:2018-10-15T07:12:50.1784098Z, Details: \r\n   Code: Md5Mismatch\r\n   ServerCalculatedMd5: 1B2M2Y8AsgTpgAmY7PhCfg==\r\n   UserSpecifiedMd5: tc+p1sj+vWGPkawoQ9UKHA==\r\n   PUT https://rclone.blob.core.windows.net/rclone-test1/4M.11?timeout=61\r\n   Authorization: REDACTED\r\n   Content-Length: [0]\r\n   User-Agent: [Azure-Storage/0.1 (go1.11; linux)]\r\n   X-Ms-Blob-Cache-Control: []\r\n   X-Ms-Blob-Content-Disposition: []\r\n   X-Ms-Blob-Content-Encoding: []\r\n   X-Ms-Blob-Content-Language: []\r\n   X-Ms-Blob-Content-Md5: [tc+p1sj+vWGPkawoQ9UKHA==]\r\n   X-Ms-Blob-Content-Type: [application/octet-stream]\r\n   X-Ms-Blob-Type: [BlockBlob]\r\n   X-Ms-Client-Request-Id: [f2406fff-cd95-43da-6caf-4859f52144d0]\r\n   X-Ms-Date: [Mon, 15 Oct 2018 07:12:50 GMT]\r\n   X-Ms-Meta-Mtime: [2018-10-15T08:11:58.111712681+01:00]\r\n   X-Ms-Version: [2018-03-28]\r\n   --------------------------------------------------------------------------------\r\n   RESPONSE Status: 400 The MD5 value specified in the request did not match with the MD5 value calculated by the server.\r\n   Content-Length: [405]\r\n   Content-Type: [application/xml]\r\n   Date: [Mon, 15 Oct 2018 07:12:49 GMT]\r\n   Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]\r\n   X-Ms-Error-Code: [Md5Mismatch]\r\n   X-Ms-Request-Id: [a8b67947-601e-0057-6e56-647399000000]\r\n   X-Ms-Version: [2018-03-28]\r\n```\r\n\r\nThis was tracked down to an off-by-one error in the azureblob SDK and a PR made: https://github.com/Azure/azure-storage-blob-go/pull/75\r\n\r\nAn initial fix for this was made in 6a773289e7b8aab46b2dda0b5fa89fbae022409d however in https://github.com/ncw/rclone/issues/2647#issuecomment-429652655 it was pointed out that this breaks setting the chunk_size to the maximum value.\r\n\r\n```\r\ntruncate -s 101M 101M\r\nrclone --retries 1 --low-level-retries 1 -vv copyto --azureblob-chunk-size 100M  --azureblob-upload-cutoff 200M 101M azure:rclone-test1/101M.1\r\n```\r\n\r\nProduces\r\n\r\n```\r\n2018/10/15 08:29:50 Failed to copyto: -> github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob.NewResponseError, /home/ncw/go/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob/zz_generated_response_error.go:28\r\n===== RESPONSE ERROR (ServiceCode=RequestBodyTooLarge) =====\r\nDescription=The request body is too large and exceeds the maximum permissible limit.\r\nRequestId:17f56a55-601e-003a-7858-64d9b7000000\r\nTime:2018-10-15T07:29:50.6114345Z, Details: \r\n   Code: RequestBodyTooLarge\r\n   MaxLimit: 104857600\r\n   PUT https://rclone.blob.core.windows.net/rclone-test1/101M.1?blockid=nVa7f3paSkVyDiTwJw6atAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%3D%3D&comp=block&timeout=61\r\n   Authorization: REDACTED\r\n   Content-Length: [104857601]\r\n   User-Agent: [Azure-Storage/0.1 (go1.11; linux)]\r\n   X-Ms-Client-Request-Id: [54c44a61-4b1a-4cd3-6763-aa9feefe8ac2]\r\n   X-Ms-Date: [Mon, 15 Oct 2018 07:29:50 GMT]\r\n   X-Ms-Version: [2018-03-28]\r\n   --------------------------------------------------------------------------------\r\n   RESPONSE Status: 413 The request body is too large and exceeds the maximum permissible limit.\r\n   Content-Length: [290]\r\n   Content-Type: [application/xml]\r\n   Date: [Mon, 15 Oct 2018 07:29:50 GMT]\r\n   Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]\r\n   X-Ms-Error-Code: [RequestBodyTooLarge]\r\n   X-Ms-Request-Id: [17f56a55-601e-003a-7858-64d9b7000000]\r\n   X-Ms-Version: [2018-03-28]\r\n```\r\n\r\nIndicating that a better fix is needed.","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2653/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429738275","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-429738275","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":429738275,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTczODI3NQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-15T07:34:06Z","updated_at":"2018-10-15T07:34:06Z","body":"@wpbrown - thanks for your analysis - it sounds like you are getting somewhere :-)\r\n\r\n> I noticed in my log above the error was for comp=blocklist. But I know in the past that I've seen the error with comp=block. Neither of which makes sense because my blob is 220MiB, < 256MiB chunking cutoff. It looks like azblob.UploadStreamToBlockBlob used for the non-chunk rclone backend is always using the chunking REST API (see the methods of uploadStreamToBlockBlobOptions).\r\n\r\nYes, that was the conclusion I came to when investigating the problem that the `+1` you noticed fixed.\r\n\r\n> This would still work, but its still including that timeout=61 even for the block PUTs. You might not notice this if you use the default 4MiB chunk size. However, I had set the chunk size very large, so with the 1min timeout, even the chunk puts are presumably timing out.\r\n\r\nI haven't been able to figure out how to change or remove that timeout using the SDK - any ideas?\r\n\r\n> With chunksize 100MiB:\r\n> \r\n> ```\r\n> BufferSize:      int(o.fs.opt.ChunkSize) + 1, // +1 Needed until https://github.com/Azure/azure-storage-blob-go/pull/75 is merged\r\n> ```\r\n> Also the +1 here is causing the valid chunksize config of 100MiB to fail:\r\n\r\nI added the +1 in order to work around a problem where if you tried to upload a file of exactly the chunk size but below the upload cutoff it would fail.  I [found and fixed the problem](https://github.com/Azure/azure-storage-blob-go/pull/75) but I wasn't aware it would have that side effect.\r\n\r\nI've made another issue #2653 to fix that in a better way.\r\n\r\n> I tested the blob API with curl and it respects timeout and the transfer fails exactly at the time limit. So the transfers are probably timing out here in this last test and the code is not detecting it?\r\n\r\nYes the 5m timeout is suspiciously the default value for the IO idle timeout `--timeout` - you could try setting that to something different to prove that.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429738275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1903283913,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwMzI4MzkxMw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1903283913","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-10-15T07:34:06Z","performed_via_github_app":null},{"id":1903283914,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDMyODM5MTQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1903283914","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-10-15T07:34:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429747720","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-429747720","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":429747720,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTc0NzcyMA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-15T08:08:23Z","updated_at":"2018-10-15T08:08:23Z","body":"@wpbrown I made a much better fix for the SDK bug in 7f0b2042925b88c0f510df15026fdb1f7b5a8601 which should enable uploading with chunk size of 100M again.\r\n\r\nhttps://beta.rclone.org/v1.43-173-g7f0b2042-beta/ (uploaded in 15-30 mins)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/429747720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1903351713,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwMzM1MTcxMw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1903351713","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-10-15T08:08:23Z","performed_via_github_app":null},{"id":1903351714,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDMzNTE3MTQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1903351714","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-10-15T08:08:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/430095705","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-430095705","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":430095705,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDA5NTcwNQ==","user":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-16T04:20:03Z","updated_at":"2018-10-16T04:20:03Z","body":"@ncw Thanks for all the help. The timeout is coming from the default pipeline `RetryPolicy`. Unfortunately the `RetryPolicy` unconditionally adds a timeout which defaults to one minute. It looks like you can configure it with `PipelineOptions` passed to `NewPipeline` in `NewFs`. The timeout query parameter is set to the sooner of the `TryTimeout` option or the context deadline. It seems you can set a very long timeout, but I didn't probe for what the max allowed is yet.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/430095705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1905741837,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwNTc0MTgzNw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1905741837","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-10-16T04:20:03Z","performed_via_github_app":null},{"id":1905741838,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDU3NDE4Mzg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1905741838","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-10-16T04:20:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/430161189","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-430161189","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":430161189,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDE2MTE4OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-16T09:08:53Z","updated_at":"2018-10-16T09:08:53Z","body":"@wpbrown \r\n\r\nGreat investigation - thanks.\r\n\r\nIf we want to change this, it looks related to the fix needed for #2647 - making a new Pipeline.\r\n\r\nWhat do you think @sandeepkru ?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/430161189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1906212827,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwNjIxMjgyNw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1906212827","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-10-16T09:08:54Z","performed_via_github_app":null},{"id":1906212830,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDYyMTI4MzA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1906212830","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-10-16T09:08:54Z","performed_via_github_app":null},{"id":1906212834,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwNjIxMjgzNA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1906212834","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-10-16T09:08:54Z","performed_via_github_app":null},{"id":1906212835,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDYyMTI4MzU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1906212835","actor":{"login":"wpbrown","id":5326080,"node_id":"MDQ6VXNlcjUzMjYwODA=","avatar_url":"https://avatars.githubusercontent.com/u/5326080?v=4","gravatar_id":"","url":"https://api.github.com/users/wpbrown","html_url":"https://github.com/wpbrown","followers_url":"https://api.github.com/users/wpbrown/followers","following_url":"https://api.github.com/users/wpbrown/following{/other_user}","gists_url":"https://api.github.com/users/wpbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/wpbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wpbrown/subscriptions","organizations_url":"https://api.github.com/users/wpbrown/orgs","repos_url":"https://api.github.com/users/wpbrown/repos","events_url":"https://api.github.com/users/wpbrown/events{/privacy}","received_events_url":"https://api.github.com/users/wpbrown/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-10-16T09:08:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/430624994","html_url":"https://github.com/rclone/rclone/issues/2647#issuecomment-430624994","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2647","id":430624994,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDYyNDk5NA==","user":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-17T13:19:48Z","updated_at":"2018-10-17T13:19:48Z","body":"@wpbrown - Agree, these are good points on retry policy behavior. Since rclone has generic pacer implementation around all calls, we did not change any pipe line options with SDK. As @ncw  mentioned we can consider exploring on this with #2654 fix.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/430624994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false}}]