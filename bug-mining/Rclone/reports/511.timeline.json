[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418384863","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418384863","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418384863,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODM4NDg2Mw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T14:20:14Z","updated_at":"2018-09-04T14:20:14Z","body":"Is this repeatable?\r\n\r\nDoes it do it if you leave out the `--azureblob-chunk-size 100M`?\r\n\r\n@sandeepkru any thoughts?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418384863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1825417368,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgyNTQxNzM2OA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825417368","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-04T14:20:14Z","performed_via_github_app":null},{"id":1825417370,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MjU0MTczNzA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825417370","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-04T14:20:14Z","performed_via_github_app":null},{"id":1825417767,"node_id":"MDEyOkxhYmVsZWRFdmVudDE4MjU0MTc3Njc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825417767","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-09-04T14:20:22Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":1825417773,"node_id":"MDEyOkxhYmVsZWRFdmVudDE4MjU0MTc3NzM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825417773","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-09-04T14:20:22Z","label":{"name":"Remote: Azure Blob","color":"fbca04"},"performed_via_github_app":null},{"id":1825417954,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE4MjU0MTc5NTQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825417954","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-09-04T14:20:25Z","milestone":{"title":"v1.44"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418387089","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418387089","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418387089,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODM4NzA4OQ==","user":{"login":"jbergstroem","id":176984,"node_id":"MDQ6VXNlcjE3Njk4NA==","avatar_url":"https://avatars.githubusercontent.com/u/176984?v=4","gravatar_id":"","url":"https://api.github.com/users/jbergstroem","html_url":"https://github.com/jbergstroem","followers_url":"https://api.github.com/users/jbergstroem/followers","following_url":"https://api.github.com/users/jbergstroem/following{/other_user}","gists_url":"https://api.github.com/users/jbergstroem/gists{/gist_id}","starred_url":"https://api.github.com/users/jbergstroem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbergstroem/subscriptions","organizations_url":"https://api.github.com/users/jbergstroem/orgs","repos_url":"https://api.github.com/users/jbergstroem/repos","events_url":"https://api.github.com/users/jbergstroem/events{/privacy}","received_events_url":"https://api.github.com/users/jbergstroem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T14:26:10Z","updated_at":"2018-09-04T14:28:02Z","body":"> @ncw said: Does it do it if you leave out the `--azureblob-chunk-size 100M`?\r\n\r\nUnfortunately not. I tried without initially. It seems to bail at second chunk:\r\n```console\r\n2018/09/04 14:27:12 INFO  : Azure container backup: Waiting for transfers to finish\r\n2018/09/04 14:27:12 DEBUG : 1536066268_2018_09_04_11.2.3-ee_gitlab_backup.tar: Multipart upload session started for 434 parts of size 4M\r\n2018/09/04 14:27:12 DEBUG : 1536066268_2018_09_04_11.2.3-ee_gitlab_backup.tar: Uploading part 1/434 offset 0/1.692G part size 4M\r\n2018/09/04 14:27:12 DEBUG : 1536066268_2018_09_04_11.2.3-ee_gitlab_backup.tar: Uploading part 2/434 offset 4M/1.692G part size 4M\r\n2018/09/04 14:27:12 ERROR : 1536066268_2018_09_04_11.2.3-ee_gitlab_backup.tar: Failed to copy: multipart upload failed to upload part: -> github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob.createError, /home/travis/gopath/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob/zz_generated_validation.go:365\r\nvalidation failed: parameter=body constraint=Null value=azureblob.readSeeker{Reader:(*accounting.accountStream)(0xc0005d2080), Seeker:(*bytes.Reader)(0xc00014c450)} details: field \"body\" doesn't exist\r\n\r\n2018/09/04 14:27:12 ERROR : Azure container backup: not deleting files as there were IO errors\r\n2018/09/04 14:27:12 ERROR : Azure container backup: not deleting directories as there were IO errors\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418387089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jbergstroem","id":176984,"node_id":"MDQ6VXNlcjE3Njk4NA==","avatar_url":"https://avatars.githubusercontent.com/u/176984?v=4","gravatar_id":"","url":"https://api.github.com/users/jbergstroem","html_url":"https://github.com/jbergstroem","followers_url":"https://api.github.com/users/jbergstroem/followers","following_url":"https://api.github.com/users/jbergstroem/following{/other_user}","gists_url":"https://api.github.com/users/jbergstroem/gists{/gist_id}","starred_url":"https://api.github.com/users/jbergstroem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbergstroem/subscriptions","organizations_url":"https://api.github.com/users/jbergstroem/orgs","repos_url":"https://api.github.com/users/jbergstroem/repos","events_url":"https://api.github.com/users/jbergstroem/events{/privacy}","received_events_url":"https://api.github.com/users/jbergstroem/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1825434264,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgyNTQzNDI2NA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825434264","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-04T14:26:10Z","performed_via_github_app":null},{"id":1825434265,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MjU0MzQyNjU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825434265","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-04T14:26:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418402502","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418402502","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418402502,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODQwMjUwMg==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T15:04:47Z","updated_at":"2018-09-04T15:04:47Z","body":"I've managed to replicate that.  It seems all multipart uploads are broken :-(\r\n\r\nTime for me to get out the [brown paper bag](http://www.catb.org/jargon/html/B/brown-paper-bag-bug.html).\r\n\r\nI suggest you revert back to 1.42 for the moment.\r\n\r\nIn the mean time we'll work on\r\n * fixing it\r\n * work out why did this break - I'm sure it got tested\r\n * working out why it isn't in the integration tests\r\n\r\nI git bisected the problem. I had to skip quite a few commits as the test wouldn't run, but the first breaking change in in these which contain most of the azureblob update changes.\r\n\r\ned4f1b2936392e23ed4796bbb33210d28e467c29\r\n144c1a04d4b1aeff1dacaa468c1f99555988e5f2\r\n4c2fbf9b36ed1bff82b0f761b1875514e152df81\r\n25ec7f5c00f6992aad3b9603e24a23f371d34961\r\n4fe6614ae11ec7d0131c78b93360dba642ebea8d\r\n793f594b079ccef29ea10871e46c5662397cb85a\r\nb15603d5ea4f59ca983e5f97398de24beae54151\r\n71c974bf9af383947701e6bda9e27bc250f4d530\r\nb1bd17a22088fe7c015f38fd7db0c430e780f3ab\r\n03c5b8232e0dfb1bdda86350c73759b70f3768d8\r\na3d9a38f51af72e86dd2c060d694d782d765bcd0\r\n6efedc4043914eea7b82db1fcd090beb2ab6a59d\r\n72392a2d726be9439508b0c6d714c6d5e6584971\r\n5ad8bcb43a97c9ab559409396c31bb68e344a738\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418402502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1825546103,"node_id":"MDEyOkxhYmVsZWRFdmVudDE4MjU1NDYxMDM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1825546103","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-09-04T15:04:54Z","label":{"name":"IMPORTANT","color":"d93f0b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418406106","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418406106","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418406106,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODQwNjEwNg==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T15:14:07Z","updated_at":"2018-09-04T15:14:07Z","body":"It occurs to me that this might be breakage at Azure too...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418406106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418559832","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418559832","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418559832,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODU1OTgzMg==","user":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T00:27:38Z","updated_at":"2018-09-05T00:27:38Z","body":"Apologies, looks like this is due to my changes  :-( (first commit of porting to new SDK), I was able to repro as well, looks like its last minute changes related to accounting streams, not sure how I missed testing, trying to work on bug fix.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418559832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418562384","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418562384","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418562384,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODU2MjM4NA==","user":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T00:44:43Z","updated_at":"2018-09-05T00:44:43Z","body":"> It occurs to me that this might be breakage at Azure too...\r\n\r\nCorrect, it looks like they are not validating correctly other interfaces, after removing this https://github.com/ncw/rclone/blob/c6f1c3c7f6b26233467ada6765dca3c010c44668/backend/azureblob/azureblob.go#L1025 and passing this `bufferReader` https://github.com/ncw/rclone/blob/c6f1c3c7f6b26233467ada6765dca3c010c44668/backend/azureblob/azureblob.go#L1129\r\ndirectly to `StageBlock` seems to be working fine.\r\n```console\r\n018/09/04 17:40:19 DEBUG : foo.dat: Uploading part 14/977 offset 52M/3.815G part size 4M\r\n2018/09/04 17:40:27 DEBUG : foo.dat: Uploading part 15/977 offset 56M/3.815G part size 4M\r\n2018/09/04 17:40:31 DEBUG : foo.dat: Uploading part 16/977 offset 60M/3.815G part size 4M\r\n2018/09/04 17:40:33 DEBUG : foo.dat: Uploading part 17/977 offset 64M/3.815G part size 4M\r\n2018/09/04 17:40:37 DEBUG : foo.dat: Uploading part 18/977 offset 68M/3.815G part size 4M\r\n2018/09/04 17:40:48 DEBUG : foo.dat: Uploading part 19/977 offset 72M/3.815G part size 4M\r\n2018/09/04 17:40:56 DEBUG : foo.dat: Uploading part 20/977 offset 76M/3.815G part size 4M\r\n2018/09/04 17:40:56 DEBUG : foo.dat: Uploading part 21/977 offset 80M/3.815G part size 4M\r\n2018/09/04 17:41:02 DEBUG : foo.dat: Uploading part 22/977 offset 84M/3.815G part size 4M\r\n2018/09/04 17:41:04 DEBUG : foo.dat: Uploading part 23/977 offset 88M/3.815G part size 4M\r\n2018/09/04 17:41:13 INFO  :\r\nTransferred:   \t       96M / 3.815 GBytes, 2%, 819.148 kBytes/s, ETA 1h19m23s\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418562384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418567567","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418567567","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418567567,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODU2NzU2Nw==","user":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T01:17:33Z","updated_at":"2018-09-05T01:18:50Z","body":"More Information:\r\nIt is failing here https://github.com/Azure/azure-storage-blob-go/blob/197d1c0aea1b9eedbbaee0a1a32bf81e879bde80/2018-03-28/azblob/zz_generated_block_blob.go#L250, validation gets this triggered as `Struct` here https://github.com/Azure/azure-storage-blob-go/blob/197d1c0aea1b9eedbbaee0a1a32bf81e879bde80/2018-03-28/azblob/zz_generated_validation.go#L66 and that fails on readseeker wrapper interface. Where as using regular `*Reader` evaluates at same place as `Ptr` https://github.com/Azure/azure-storage-blob-go/blob/197d1c0aea1b9eedbbaee0a1a32bf81e879bde80/2018-03-28/azblob/zz_generated_validation.go#L62 and this succeeds validation. \r\n***************************\r\n@ncw - Please let me know how shall we proceed?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418567567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1826666249,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgyNjY2NjI0OQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1826666249","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-05T01:18:50Z","performed_via_github_app":null},{"id":1826666250,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MjY2NjYyNTA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1826666250","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-05T01:18:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418640396","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418640396","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418640396,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODY0MDM5Ng==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T08:13:29Z","updated_at":"2018-09-05T08:13:29Z","body":"That code is really strange - I have no idea what it is doing!\r\n\r\nDo we need to pass in a Seeker?  I can't remember why we needed that wrapper - was it an old SDK version?  What are we losing if we don't pass in a Seeker - retries?\r\n\r\nI had this idea too, but it didn't seem to work...\r\n\r\n```patch\r\ndiff --git a/backend/azureblob/azureblob.go b/backend/azureblob/azureblob.go\r\nindex bd3f5211..7f4c5533 100644\r\n--- a/backend/azureblob/azureblob.go\r\n+++ b/backend/azureblob/azureblob.go\r\n@@ -1129,7 +1129,7 @@ outer:\r\n \t\t\t\tbufferReader := bytes.NewReader(buf)\r\n \t\t\t\twrappedReader := wrap(bufferReader)\r\n \t\t\t\trs := readSeeker{wrappedReader, bufferReader}\r\n-\t\t\t\t_, err = blockBlobURL.StageBlock(ctx, blockID, rs, ac)\r\n+\t\t\t\t_, err = blockBlobURL.StageBlock(ctx, blockID, &rs, ac)\r\n \t\t\t\treturn o.fs.shouldRetry(err)\r\n \t\t\t})\r\n \r\n```\r\n\r\nproducing this\r\n\r\n```\r\n2018/09/05 09:06:05 ERROR : 10M: Failed to copy: multipart upload failed to finalize: -> github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob.NewResponseError, /home/ncw/go/src/github.com/ncw/rclone/vendor/github.com/Azure/azure-storage-blob-go/2018-03-28/azblob/zz_generated_response_error.go:28\r\n===== RESPONSE ERROR (ServiceCode=InvalidXmlDocument) =====\r\nDescription=XML specified is not syntactically valid.\r\nRequestId:798e5f93-901e-0006-71ef-446d6c000000\r\nTime:2018-09-05T08:06:05.5082257Z, Details: \r\n   LineNumber: 1\r\n   LinePosition: 22\r\n   Reason: Block ID cannot be empty\r\n   PUT https://rclone.blob.core.windows.net/rclone-test1/10M?comp=blocklist&timeout=61\r\n   Authorization: REDACTED\r\n   Content-Length: [161]\r\n   Content-Type: [application/xml]\r\n   User-Agent: [Azure-Storage/0.1 (go1.11; linux)]\r\n   X-Ms-Blob-Cache-Control: []\r\n   X-Ms-Blob-Content-Disposition: []\r\n   X-Ms-Blob-Content-Encoding: []\r\n   X-Ms-Blob-Content-Language: []\r\n   X-Ms-Blob-Content-Type: [application/octet-stream]\r\n   X-Ms-Client-Request-Id: [cd7c84e3-c618-47e1-4518-d2dde2cc77cc]\r\n   X-Ms-Date: [Wed, 05 Sep 2018 08:06:05 GMT]\r\n   X-Ms-Meta-Mtime: [2018-09-04T15:58:28.702310269+01:00]\r\n   X-Ms-Version: [2018-03-28]\r\n   --------------------------------------------------------------------------------\r\n   RESPONSE Status: 400 XML specified is not syntactically valid.\r\n   Content-Length: [326]\r\n   Content-Type: [application/xml]\r\n   Date: [Wed, 05 Sep 2018 08:06:04 GMT]\r\n   Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]\r\n   X-Ms-Error-Code: [InvalidXmlDocument]\r\n   X-Ms-Request-Id: [798e5f93-901e-0006-71ef-446d6c000000]\r\n   X-Ms-Version: [2018-03-28]\r\n```\r\n\r\nWhat I'd like to do is work around this problem ASAP.  I'll then issue a point release with this fix and the hubic fix :-)\r\n\r\nI'd like to also add chunked files to the integration tests which needs a bit of thought.  I think it might need a big of config to say what size of file to upload to test the chunked uploading - maybe it should set parameters to minimize the size of the file (eg `--azureblob-upload-cutoff 1M` then upload a 10M file).  I'd like to do this for all remotes as I see this as a major weakness in the integration tests right now!  I'll think on that further and come up with something.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418640396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418714230","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418714230","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418714230,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODcxNDIzMA==","user":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T12:36:01Z","updated_at":"2018-09-05T12:36:01Z","body":"> Do we need to pass in a Seeker? I can't remember why we needed that wrapper - was it an old SDK version? What are we losing if we don't pass in a Seeker - retries?\r\n\r\nYes, we need to pass in a Seeker, it wasn't required in older SDK. It accepts only seeker, not sure it has to do anything with retries.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418714230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418769066","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418769066","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418769066,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODc2OTA2Ng==","user":{"login":"jbergstroem","id":176984,"node_id":"MDQ6VXNlcjE3Njk4NA==","avatar_url":"https://avatars.githubusercontent.com/u/176984?v=4","gravatar_id":"","url":"https://api.github.com/users/jbergstroem","html_url":"https://github.com/jbergstroem","followers_url":"https://api.github.com/users/jbergstroem/followers","following_url":"https://api.github.com/users/jbergstroem/following{/other_user}","gists_url":"https://api.github.com/users/jbergstroem/gists{/gist_id}","starred_url":"https://api.github.com/users/jbergstroem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbergstroem/subscriptions","organizations_url":"https://api.github.com/users/jbergstroem/orgs","repos_url":"https://api.github.com/users/jbergstroem/repos","events_url":"https://api.github.com/users/jbergstroem/events{/privacy}","received_events_url":"https://api.github.com/users/jbergstroem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T15:15:43Z","updated_at":"2018-09-05T15:15:43Z","body":"@sandeepkru would it be unreasonable to expect this to be fixed upstream then?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418769066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jbergstroem","id":176984,"node_id":"MDQ6VXNlcjE3Njk4NA==","avatar_url":"https://avatars.githubusercontent.com/u/176984?v=4","gravatar_id":"","url":"https://api.github.com/users/jbergstroem","html_url":"https://github.com/jbergstroem","followers_url":"https://api.github.com/users/jbergstroem/followers","following_url":"https://api.github.com/users/jbergstroem/following{/other_user}","gists_url":"https://api.github.com/users/jbergstroem/gists{/gist_id}","starred_url":"https://api.github.com/users/jbergstroem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbergstroem/subscriptions","organizations_url":"https://api.github.com/users/jbergstroem/orgs","repos_url":"https://api.github.com/users/jbergstroem/repos","events_url":"https://api.github.com/users/jbergstroem/events{/privacy}","received_events_url":"https://api.github.com/users/jbergstroem/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1828136104,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgyODEzNjEwNA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1828136104","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-05T15:15:43Z","performed_via_github_app":null},{"id":1828136105,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MjgxMzYxMDU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1828136105","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-05T15:15:43Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418780398","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418780398","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418780398,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODc4MDM5OA==","user":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T15:46:13Z","updated_at":"2018-09-05T15:46:13Z","body":"@jbergstroem - I believe Azure SDK team should fix this, I'll open an issue and follow up.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418780398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1828220060,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgyODIyMDA2MA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1828220060","actor":{"login":"jbergstroem","id":176984,"node_id":"MDQ6VXNlcjE3Njk4NA==","avatar_url":"https://avatars.githubusercontent.com/u/176984?v=4","gravatar_id":"","url":"https://api.github.com/users/jbergstroem","html_url":"https://github.com/jbergstroem","followers_url":"https://api.github.com/users/jbergstroem/followers","following_url":"https://api.github.com/users/jbergstroem/following{/other_user}","gists_url":"https://api.github.com/users/jbergstroem/gists{/gist_id}","starred_url":"https://api.github.com/users/jbergstroem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbergstroem/subscriptions","organizations_url":"https://api.github.com/users/jbergstroem/orgs","repos_url":"https://api.github.com/users/jbergstroem/repos","events_url":"https://api.github.com/users/jbergstroem/events{/privacy}","received_events_url":"https://api.github.com/users/jbergstroem/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-05T15:46:13Z","performed_via_github_app":null},{"id":1828220062,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MjgyMjAwNjI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1828220062","actor":{"login":"jbergstroem","id":176984,"node_id":"MDQ6VXNlcjE3Njk4NA==","avatar_url":"https://avatars.githubusercontent.com/u/176984?v=4","gravatar_id":"","url":"https://api.github.com/users/jbergstroem","html_url":"https://github.com/jbergstroem","followers_url":"https://api.github.com/users/jbergstroem/followers","following_url":"https://api.github.com/users/jbergstroem/following{/other_user}","gists_url":"https://api.github.com/users/jbergstroem/gists{/gist_id}","starred_url":"https://api.github.com/users/jbergstroem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbergstroem/subscriptions","organizations_url":"https://api.github.com/users/jbergstroem/orgs","repos_url":"https://api.github.com/users/jbergstroem/repos","events_url":"https://api.github.com/users/jbergstroem/events{/privacy}","received_events_url":"https://api.github.com/users/jbergstroem/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-05T15:46:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418869101","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418869101","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418869101,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODg2OTEwMQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T20:24:29Z","updated_at":"2018-09-05T20:24:29Z","body":"@sandeepkru an issue with a follow PR would be perfect.  However they are working on the `dev` branch which appears to have broken the API we are using.\r\n\r\nGetting it to be fixed upstream would be the right long term solution, but I'd really like a work-around to issue in a point release...  I guess we could comment out the accounting for the moment which means uploads will work again, and fix the accounting later.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418869101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1828832646,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgyODgzMjY0Ng==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1828832646","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-05T20:24:29Z","performed_via_github_app":null},{"id":1828832648,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4Mjg4MzI2NDg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1828832648","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-05T20:24:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418932729","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-418932729","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":418932729,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODkzMjcyOQ==","user":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T01:22:45Z","updated_at":"2018-09-06T01:22:45Z","body":"> issue with a follow PR would be perfect. However they are working on the dev branch which appears to have broken the API we are using.\r\n\r\nI think it has bunch of auto-generated code coming from swagger I believe. I'll try to get fix and PR on that. Looks like they are changing some APIs, I think we will need to accommodate some of the changes like,`StageBlock` in older SDK,  it had an option to validate `Content-MD5` on `4MB` uploads, which has been deprecated in latest SDK, and actual `PutBlock` AzureStorage API still supports hence they are planning to add it back to `StageBlock`. We will need to pull those changes to ensure data integrity during uploads.\r\n\r\n> I guess we could comment out the accounting for the moment which means uploads will work again, and fix the accounting later\r\n\r\nAgree, for now, we can disable accounting on azureblob transfers to unblock, please let me know if you want me to send the fix.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/418932729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sandeepkru","id":1176922,"node_id":"MDQ6VXNlcjExNzY5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1176922?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeepkru","html_url":"https://github.com/sandeepkru","followers_url":"https://api.github.com/users/sandeepkru/followers","following_url":"https://api.github.com/users/sandeepkru/following{/other_user}","gists_url":"https://api.github.com/users/sandeepkru/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeepkru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeepkru/subscriptions","organizations_url":"https://api.github.com/users/sandeepkru/orgs","repos_url":"https://api.github.com/users/sandeepkru/repos","events_url":"https://api.github.com/users/sandeepkru/events{/privacy}","received_events_url":"https://api.github.com/users/sandeepkru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/419045320","html_url":"https://github.com/rclone/rclone/issues/2518#issuecomment-419045320","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2518","id":419045320,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTA0NTMyMA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T10:30:25Z","updated_at":"2018-09-06T10:30:25Z","body":"> Agree, for now, we can disable accounting on azureblob transfers to unblock, please let me know if you want me to send the fix.\r\n\r\nYes, please send a PR.  If you could comment out the accounting with a `// FIXME` then we'll remember that we need to put it back!\r\n\r\nBTW https://github.com/Azure/azure-storage-blob-go/issues/52 appears to be fixed in the dev branch.  I sent a PR to fix it, but when I was asked to rebase against dev I saw that they had implemented the fix already.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/419045320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}}]