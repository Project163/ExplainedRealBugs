[{"id":2064065398,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwNjQwNjUzOTg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2064065398","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-01-09T20:04:14Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":2064065518,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDIwNjQwNjU1MTg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2064065518","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-01-09T20:04:18Z","milestone":{"title":"v1.46"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/452839779","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-452839779","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":452839779,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjgzOTc3OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-09T20:10:14Z","updated_at":"2019-01-09T20:10:14Z","body":"> I guess that somewhere in the implementation of `--fast-list` there is an implicit assumption that path names are unique identifiers, a rather silly idea if you ask whoever is in charge of Google Drive.\r\n\r\nYes you are right, there is...\r\n\r\nIt would be very useful if `--fast-list` worked with dedupe.\r\n\r\n### Ideas\r\n\r\nWhat this needs is a new file iteration scheme.  dedupe uses `walk.Walk` which if used with `--fast-list` will build an in memory tree so it iterates exactly the same as `walk.Walk` without fast list.\r\n\r\nWhat we should be using is something like `walk.WalkUnordered` this could then pass through the output of fast list directly.  This could use the ListR callback so it would effectively be ListR for backends supporting that.\r\n\r\nThis would be useful in `rclone size` for instance.  Perhaps `operations.ListFn` should use this iteration scheme.  This would be fine for hash/ls/lsl/lsd/delete/settier.  Maybe cat would be the only one which really cares...\r\n\r\nWhich probably means dedupe should be using ListFn too.\r\n\r\nNote that in cmd/serve/restic/restic.go there is a workaround for exactly this issue (using ListR instead of recursive walk) and there may be other places.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/452839779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/455691253","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-455691253","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":455691253,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTY5MTI1Mw==","user":{"login":"splitice","id":468579,"node_id":"MDQ6VXNlcjQ2ODU3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/468579?v=4","gravatar_id":"","url":"https://api.github.com/users/splitice","html_url":"https://github.com/splitice","followers_url":"https://api.github.com/users/splitice/followers","following_url":"https://api.github.com/users/splitice/following{/other_user}","gists_url":"https://api.github.com/users/splitice/gists{/gist_id}","starred_url":"https://api.github.com/users/splitice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/splitice/subscriptions","organizations_url":"https://api.github.com/users/splitice/orgs","repos_url":"https://api.github.com/users/splitice/repos","events_url":"https://api.github.com/users/splitice/events{/privacy}","received_events_url":"https://api.github.com/users/splitice/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-18T21:21:17Z","updated_at":"2019-01-18T21:21:17Z","body":"damn, just hit this with Google Drive. Time to find out how long dedupe will take without fast-list.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/455691253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"splitice","id":468579,"node_id":"MDQ6VXNlcjQ2ODU3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/468579?v=4","gravatar_id":"","url":"https://api.github.com/users/splitice","html_url":"https://github.com/splitice","followers_url":"https://api.github.com/users/splitice/followers","following_url":"https://api.github.com/users/splitice/following{/other_user}","gists_url":"https://api.github.com/users/splitice/gists{/gist_id}","starred_url":"https://api.github.com/users/splitice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/splitice/subscriptions","organizations_url":"https://api.github.com/users/splitice/orgs","repos_url":"https://api.github.com/users/splitice/repos","events_url":"https://api.github.com/users/splitice/events{/privacy}","received_events_url":"https://api.github.com/users/splitice/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2086925141,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIwODY5MjUxNDE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2086925141","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"752be4b91592a694637e5426708e1615b7103a04","commit_url":"https://api.github.com/repos/rclone/rclone/commits/752be4b91592a694637e5426708e1615b7103a04","created_at":"2019-01-21T17:04:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/456142295","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-456142295","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":456142295,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjE0MjI5NQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-21T17:05:52Z","updated_at":"2019-01-21T17:05:52Z","body":"I've made a start on this - can you have a go with\r\n\r\nhttps://beta.rclone.org/branch/v1.45-107-g517486f7-fix-2902-listr-beta/ (uploaded in 15-30 mins)\r\n\r\nIn my tests it was 7x faster!  There is no need to use the `--fast-list` flag, it will use it automatically.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/456142295/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/456166240","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-456166240","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":456166240,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjE2NjI0MA==","user":{"login":"o-tho","id":5766455,"node_id":"MDQ6VXNlcjU3NjY0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5766455?v=4","gravatar_id":"","url":"https://api.github.com/users/o-tho","html_url":"https://github.com/o-tho","followers_url":"https://api.github.com/users/o-tho/followers","following_url":"https://api.github.com/users/o-tho/following{/other_user}","gists_url":"https://api.github.com/users/o-tho/gists{/gist_id}","starred_url":"https://api.github.com/users/o-tho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/o-tho/subscriptions","organizations_url":"https://api.github.com/users/o-tho/orgs","repos_url":"https://api.github.com/users/o-tho/repos","events_url":"https://api.github.com/users/o-tho/events{/privacy}","received_events_url":"https://api.github.com/users/o-tho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-21T18:40:03Z","updated_at":"2019-01-21T18:40:03Z","body":"This looks awesome! Playing around, I can't get it to not find duplicates!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/456166240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"o-tho","id":5766455,"node_id":"MDQ6VXNlcjU3NjY0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/5766455?v=4","gravatar_id":"","url":"https://api.github.com/users/o-tho","html_url":"https://github.com/o-tho","followers_url":"https://api.github.com/users/o-tho/followers","following_url":"https://api.github.com/users/o-tho/following{/other_user}","gists_url":"https://api.github.com/users/o-tho/gists{/gist_id}","starred_url":"https://api.github.com/users/o-tho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/o-tho/subscriptions","organizations_url":"https://api.github.com/users/o-tho/orgs","repos_url":"https://api.github.com/users/o-tho/repos","events_url":"https://api.github.com/users/o-tho/events{/privacy}","received_events_url":"https://api.github.com/users/o-tho/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/456335937","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-456335937","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":456335937,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjMzNTkzNw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-22T09:47:33Z","updated_at":"2019-01-22T09:47:33Z","body":"> This looks awesome! Playing around, I can't get it to not find duplicates!\r\n\r\nLet me know if you find any problems!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/456335937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2128848349,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50MjEyODg0ODM0OQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2128848349","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2019-02-09T18:12:00Z","milestone":{"title":"v1.46"},"performed_via_github_app":null},{"id":2128848351,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDIxMjg4NDgzNTE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2128848351","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-02-09T18:12:00Z","milestone":{"title":"v1.47"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/465845599","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-465845599","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":465845599,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTg0NTU5OQ==","user":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-21T03:14:59Z","updated_at":"2019-02-21T03:14:59Z","body":"Found two folders that should get deduped on first glance but don't with this test build. I'll try to debug or at least isolate a test case in the next few days.\r\n\r\nIf I don't get around to it, take this as a heads-up that here be dragons.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/465845599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2194766373,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxOTQ3NjYzNzM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2194766373","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0da7b40d72efb14fe3b4158fffdbf083676cd14e","commit_url":"https://api.github.com/repos/rclone/rclone/commits/0da7b40d72efb14fe3b4158fffdbf083676cd14e","created_at":"2019-03-11T17:53:47Z","performed_via_github_app":null},{"id":2208290745,"node_id":"MDExOkNsb3NlZEV2ZW50MjIwODI5MDc0NQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2208290745","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"43760190620b45aeb0f9ff337af88623f6d6733d","commit_url":"https://api.github.com/repos/rclone/rclone/commits/43760190620b45aeb0f9ff337af88623f6d6733d","created_at":"2019-03-16T17:42:58Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473569053","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-473569053","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":473569053,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzU2OTA1Mw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-16T17:43:52Z","updated_at":"2019-03-16T17:43:52Z","body":"I've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org) in 15-30 mins and released in v1.47\r\n\r\n@LingMan if you can reproduce your problem then please let me know.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473569053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2208291078,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIwODI5MTA3OA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2208291078","actor":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-16T17:43:52Z","performed_via_github_app":null},{"id":2208291079,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMDgyOTEwNzk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2208291079","actor":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-16T17:43:52Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473594699","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-473594699","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":473594699,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzU5NDY5OQ==","user":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-16T21:36:29Z","updated_at":"2019-03-16T21:38:45Z","body":"@ncw Thanks for the ping.\r\n\r\nThe problem is that `walk.ListR` processes the entries of a folder in batches of 100. In my case the duplicate folders happen to be split across two different batches and thus don't get detected as dupes.\r\nIn contrast, `walk.Walk` calls the callback just once but with all 980 subfolders in the `entries` array.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473594699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2208387274,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIwODM4NzI3NA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2208387274","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-16T21:36:29Z","performed_via_github_app":null},{"id":2208387275,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMDgzODcyNzU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2208387275","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-16T21:36:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473654918","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-473654918","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":473654918,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzY1NDkxOA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-17T11:01:35Z","updated_at":"2019-03-17T11:01:35Z","body":"> The problem is that `walk.ListR` processes the entries of a folder in batches of 100. In my case the duplicate folders happen to be split across two different batches and thus don't get detected as dupes.\r\n> In contrast, `walk.Walk` calls the callback just once but with all 980 subfolders in the `entries` array.\r\n\r\nDuh, you are right!  Thanks for pointing this out.\r\n\r\nI've merged a fix for this to master now which means it will be in [the latest beta](https://beta.rclone.org) in 15-30 mins and released in v1.47\r\n\r\nPlease can you give it a go?\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473654918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2208633412,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMDg2MzM0MTI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2208633412","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"14ef4437e52d51a8b28d419f1b79b61a93701b7a","commit_url":"https://api.github.com/repos/rclone/rclone/commits/14ef4437e52d51a8b28d419f1b79b61a93701b7a","created_at":"2019-03-17T11:01:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473676427","html_url":"https://github.com/rclone/rclone/issues/2902#issuecomment-473676427","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2902","id":473676427,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzY3NjQyNw==","user":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-17T15:29:34Z","updated_at":"2019-03-17T15:29:34Z","body":"Yes, this works. Thank you.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/473676427/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LingMan","id":18645382,"node_id":"MDQ6VXNlcjE4NjQ1Mzgy","avatar_url":"https://avatars.githubusercontent.com/u/18645382?v=4","gravatar_id":"","url":"https://api.github.com/users/LingMan","html_url":"https://github.com/LingMan","followers_url":"https://api.github.com/users/LingMan/followers","following_url":"https://api.github.com/users/LingMan/following{/other_user}","gists_url":"https://api.github.com/users/LingMan/gists{/gist_id}","starred_url":"https://api.github.com/users/LingMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LingMan/subscriptions","organizations_url":"https://api.github.com/users/LingMan/orgs","repos_url":"https://api.github.com/users/LingMan/repos","events_url":"https://api.github.com/users/LingMan/events{/privacy}","received_events_url":"https://api.github.com/users/LingMan/received_events","type":"User","user_view_type":"public","site_admin":false}}]