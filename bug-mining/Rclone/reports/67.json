{"url":"https://api.github.com/repos/rclone/rclone/issues/158","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/158/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/158/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/158/events","html_url":"https://github.com/rclone/rclone/issues/158","id":109558147,"node_id":"MDU6SXNzdWUxMDk1NTgxNDc=","number":158,"title":"drive: unable to verify on headless machine","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/6","html_url":"https://github.com/rclone/rclone/milestone/6","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/6/labels","id":1327630,"node_id":"MDk6TWlsZXN0b25lMTMyNzYzMA==","number":6,"title":"1.23","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":6,"state":"closed","created_at":"2015-09-28T18:50:45Z","updated_at":"2015-10-03T15:38:30Z","due_on":null,"closed_at":"2015-10-03T15:38:30Z"},"comments":5,"created_at":"2015-10-02T19:36:44Z","updated_at":"2015-12-02T19:09:47Z","closed_at":"2015-10-03T15:34:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm trying to use rclone on a system that doesn't have a browser or even a desktop.\nrclone is version 1.22, system is CentOS 6 something, rclone binary is the 64 bit one downloaded from the rclone web site.\n\nThe transcript of my rclone config session is below:\n(rclone is installed in ~/bin not in /usr/bin, and is being run as the mhkohne user)\n\n2015/10/02 13:58:22 Failed to load config file /home/mhkohne/.rclone.conf - using defaults: open /home/mhkohne/.rclone.conf: no such file or directory\nNo remotes found - make a new one\nn) New remote\nq) Quit config\nn/q> n\nname> rdrive\nWhat type of source is it?\nChoose a number from below\n 1) amazon cloud drive\n 2) drive\n 3) dropbox\n 4) google cloud storage\n 5) local\n 6) s3\n 7) swift\ntype> 2\nGoogle Application Client Id - leave blank to use rclone's.\nclient_id>\nGoogle Application Client Secret - leave blank to use rclone's.\nclient_secret>\nRemote config\nUse auto config?\n- Say Y if not sure\n- Say N if you are working on a remote or headless machine\n  y) Yes\n  n) No\n  y/n> n\n  If your browser doesn't open automatically go to the following link: https://accounts.google.com/o/oauth2/auth?client_id=202264815644.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A53682%2F&response_type=code&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive&state=acc8a46e5988323e34828af1574585cf\n  Log in and authorize rclone for access\n  Enter verification code>\n\nNow, I take that big https URL, paste it into a browser (Chrome, on a desktop PC), and then get asked whether to allow it to have access or not. I grant access, and the browser tries to redirect to http://127.0.0.1, which obviously fails. \n\nWhat's going on here? Clearly what's given isn't going to work. Is the 127.0.0.1 supposed to be the address of the server that rclone is running on? \nIf so, why did it use 127.0.0.1 when I've already told it the server is headless, and therefore implied that I'm running a browser on another system.\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/158/timeline","performed_via_github_app":null,"state_reason":"completed"}