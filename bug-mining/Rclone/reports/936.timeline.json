[{"id":3989291573,"node_id":"MDEyOkxhYmVsZWRFdmVudDM5ODkyOTE1NzM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3989291573","actor":{"login":"darthShadow","id":6824881,"node_id":"MDQ6VXNlcjY4MjQ4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/6824881?v=4","gravatar_id":"","url":"https://api.github.com/users/darthShadow","html_url":"https://github.com/darthShadow","followers_url":"https://api.github.com/users/darthShadow/followers","following_url":"https://api.github.com/users/darthShadow/following{/other_user}","gists_url":"https://api.github.com/users/darthShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/darthShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darthShadow/subscriptions","organizations_url":"https://api.github.com/users/darthShadow/orgs","repos_url":"https://api.github.com/users/darthShadow/repos","events_url":"https://api.github.com/users/darthShadow/events{/privacy}","received_events_url":"https://api.github.com/users/darthShadow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-12T15:35:03Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":3989291577,"node_id":"MDEyOkxhYmVsZWRFdmVudDM5ODkyOTE1Nzc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3989291577","actor":{"login":"darthShadow","id":6824881,"node_id":"MDQ6VXNlcjY4MjQ4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/6824881?v=4","gravatar_id":"","url":"https://api.github.com/users/darthShadow","html_url":"https://github.com/darthShadow","followers_url":"https://api.github.com/users/darthShadow/followers","following_url":"https://api.github.com/users/darthShadow/following{/other_user}","gists_url":"https://api.github.com/users/darthShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/darthShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darthShadow/subscriptions","organizations_url":"https://api.github.com/users/darthShadow/orgs","repos_url":"https://api.github.com/users/darthShadow/repos","events_url":"https://api.github.com/users/darthShadow/events{/privacy}","received_events_url":"https://api.github.com/users/darthShadow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-12T15:35:03Z","label":{"name":"VFS / mount","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726158366","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-726158366","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":726158366,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjE1ODM2Ng==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-12T15:42:52Z","updated_at":"2020-11-12T15:42:52Z","body":"I can replicate this.\r\n\r\n    rclone mount -vv --vfs-cache-mode full --dir-cache-time 10s s3:rclone /mnt/tmp/\r\n\r\nThe minimal steps are\r\n\r\n- edit a text file with nano\r\n- change the file\r\n- write it out with ^O\r\n- wait for the writeback period (5s by default)\r\n- change the file\r\n- write it out with ^O\r\n- get error that the the file has changed from nano\r\n\r\nI ran\r\n\r\n```\r\n$ while true ; do ls -l --full-time /mnt/tmp/text.txt ; sleep 1 ; done\r\n```\r\n\r\nIn a terminal while doing this and I see\r\n\r\n```\r\n-rw-rw-r-- 1 ncw ncw 13 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 13 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 13 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 13 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt <- save from nano here at 2020/11/12 12:35:16\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:32:59.325780069 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:35:16.499006400 +0000 /mnt/tmp/text.txt <- writeback completes\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:35:16.499006400 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:35:16.499006400 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 14 2020-11-12 12:35:16.499006400 +0000 /mnt/tmp/text.txt\r\n```\r\n\r\nSo what it looks like happened is that the modification time wasn't updated until the writeback completed rather than when the file was written.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726158366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3989331610,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDM5ODkzMzE2MTA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3989331610","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-11-12T15:43:03Z","milestone":{"title":"v1.54"},"performed_via_github_app":null},{"id":3989542497,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM5ODk1NDI0OTc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3989542497","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"01836ad6197991935843479647b627b27d46d0b9","commit_url":"https://api.github.com/repos/rclone/rclone/commits/01836ad6197991935843479647b627b27d46d0b9","created_at":"2020-11-12T16:25:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726185149","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-726185149","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":726185149,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjE4NTE0OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-12T16:26:05Z","updated_at":"2020-11-12T16:26:05Z","body":"Try this fix - I think it should work. I didn't write tests for it yet though.\r\n\r\n[v1.54.0-beta.4890.01836ad61.fix-4763-vfs-modtime](https://beta.rclone.org/branch/fix-4763-vfs-modtime/v1.54.0-beta.4890.01836ad61.fix-4763-vfs-modtime/) on branch [fix-4763-vfs-modtime](https://github.com/rclone/rclone/tree/fix-4763-vfs-modtime) (uploaded in 15-30 mins)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726185149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3989971701,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM5ODk5NzE3MDE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3989971701","actor":{"login":"darthShadow","id":6824881,"node_id":"MDQ6VXNlcjY4MjQ4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/6824881?v=4","gravatar_id":"","url":"https://api.github.com/users/darthShadow","html_url":"https://github.com/darthShadow","followers_url":"https://api.github.com/users/darthShadow/followers","following_url":"https://api.github.com/users/darthShadow/following{/other_user}","gists_url":"https://api.github.com/users/darthShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/darthShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darthShadow/subscriptions","organizations_url":"https://api.github.com/users/darthShadow/orgs","repos_url":"https://api.github.com/users/darthShadow/repos","events_url":"https://api.github.com/users/darthShadow/events{/privacy}","received_events_url":"https://api.github.com/users/darthShadow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"567472c318bb660ab08ef3e727ec6b1409ac6605","commit_url":"https://api.github.com/repos/darthShadow/rclone/commits/567472c318bb660ab08ef3e727ec6b1409ac6605","created_at":"2020-11-12T18:00:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726312361","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-726312361","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":726312361,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjMxMjM2MQ==","user":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-12T20:07:19Z","updated_at":"2020-11-12T20:07:19Z","body":"I have tested it (on the QNAP) and it works perfectly.\r\nAlso my original problem is solved now (that the file change causes the markdown editor to truncate the file on a subsequent save).\r\nThanks for the quick fix!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726312361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726328409","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-726328409","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":726328409,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjMyODQwOQ==","user":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-12T20:37:17Z","updated_at":"2020-11-12T20:38:12Z","body":"Correction: it is not fixed yet. I am still detecting a file change after roughly 10 seconds.\r\nI have the following setup.\r\n* rclone on the QNAP (server) that shares the cloud drives over SAMBA in the local network.\r\n* I edit a file on this share in Windows (with notepad++).\r\n\r\nWhen I do the following.\r\n* Edit a text file with notepad++ and save it.\r\n* After roughly 10 seconds it detects that that file has changed\r\n* I do not have the problem anymore that files get truncated (this happened both with notepad++ and typora, so that problem was fixed by your change).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726328409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726392373","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-726392373","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":726392373,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjM5MjM3Mw==","user":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-12T22:58:44Z","updated_at":"2020-11-12T22:58:44Z","body":"@nsw. When I use your script to monitor file changes, I do not see the same behavior as in my previous post, but I *sometimes* see strange behavior\r\n\r\n```\r\n-rw-r----- 1 user none 0 2020-11-12 23:45:02.568774610 +0100 tmp.txt   <-- touch tmp.txt\r\n-rw-r----- 1 user none 0 2020-11-12 23:45:02.568774610 +0100 tmp.txt\r\n-rw-r----- 1 user none 0 2020-11-12 23:45:02.568774610 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt   <-- first save (with nano)\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 7 2020-11-12 23:45:10.728518829 +0100 tmp.txt\r\n-rw-r----- 1 user none 0 2020-11-12 23:45:25.548846613 +0100 tmp.txt  <-- second save (with nano). Size should not be 0 (!!!)\r\n-rw-r----- 1 user none 0 2020-11-12 23:45:25.548846613 +0100 tmp.txt\r\n-rw-r----- 1 user none 0 2020-11-12 23:45:25.548846613 +0100 tmp.txt\r\n-rw-r----- 1 user none 13 2020-11-12 23:45:28.531262170 +0100 tmp.txt    <-- no change, but the file size magically changes\r\n-rw-r----- 1 user none 13 2020-11-12 23:45:28.531262170 +0100 tmp.txt\r\n-rw-r----- 1 user none 13 2020-11-12 23:45:28.531262170 +0100 tmp.txt\r\n-rw-r----- 1 user none 13 2020-11-12 23:45:28.531262170 +0100 tmp.txt\r\n-rw-r----- 1 user none 13 2020-11-12 23:45:28.531262170 +0100 tmp.txt\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/726392373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3991027561,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzk5MTAyNzU2MQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/3991027561","actor":{"login":"nsw","id":7012188,"node_id":"MDQ6VXNlcjcwMTIxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7012188?v=4","gravatar_id":"","url":"https://api.github.com/users/nsw","html_url":"https://github.com/nsw","followers_url":"https://api.github.com/users/nsw/followers","following_url":"https://api.github.com/users/nsw/following{/other_user}","gists_url":"https://api.github.com/users/nsw/gists{/gist_id}","starred_url":"https://api.github.com/users/nsw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsw/subscriptions","organizations_url":"https://api.github.com/users/nsw/orgs","repos_url":"https://api.github.com/users/nsw/repos","events_url":"https://api.github.com/users/nsw/events{/privacy}","received_events_url":"https://api.github.com/users/nsw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-11-12T22:58:44Z","performed_via_github_app":null},{"id":3991027566,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM5OTEwMjc1NjY=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3991027566","actor":{"login":"nsw","id":7012188,"node_id":"MDQ6VXNlcjcwMTIxODg=","avatar_url":"https://avatars.githubusercontent.com/u/7012188?v=4","gravatar_id":"","url":"https://api.github.com/users/nsw","html_url":"https://github.com/nsw","followers_url":"https://api.github.com/users/nsw/followers","following_url":"https://api.github.com/users/nsw/following{/other_user}","gists_url":"https://api.github.com/users/nsw/gists{/gist_id}","starred_url":"https://api.github.com/users/nsw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsw/subscriptions","organizations_url":"https://api.github.com/users/nsw/orgs","repos_url":"https://api.github.com/users/nsw/repos","events_url":"https://api.github.com/users/nsw/events{/privacy}","received_events_url":"https://api.github.com/users/nsw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-11-12T22:58:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/728247721","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-728247721","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":728247721,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODI0NzcyMQ==","user":{"login":"darthShadow","id":6824881,"node_id":"MDQ6VXNlcjY4MjQ4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/6824881?v=4","gravatar_id":"","url":"https://api.github.com/users/darthShadow","html_url":"https://github.com/darthShadow","followers_url":"https://api.github.com/users/darthShadow/followers","following_url":"https://api.github.com/users/darthShadow/following{/other_user}","gists_url":"https://api.github.com/users/darthShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/darthShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darthShadow/subscriptions","organizations_url":"https://api.github.com/users/darthShadow/orgs","repos_url":"https://api.github.com/users/darthShadow/repos","events_url":"https://api.github.com/users/darthShadow/events{/privacy}","received_events_url":"https://api.github.com/users/darthShadow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T18:36:08Z","updated_at":"2020-11-16T18:36:08Z","body":"Looks like a typo in the ping. Pinging @ncw.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/728247721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"darthShadow","id":6824881,"node_id":"MDQ6VXNlcjY4MjQ4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/6824881?v=4","gravatar_id":"","url":"https://api.github.com/users/darthShadow","html_url":"https://github.com/darthShadow","followers_url":"https://api.github.com/users/darthShadow/followers","following_url":"https://api.github.com/users/darthShadow/following{/other_user}","gists_url":"https://api.github.com/users/darthShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/darthShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darthShadow/subscriptions","organizations_url":"https://api.github.com/users/darthShadow/orgs","repos_url":"https://api.github.com/users/darthShadow/repos","events_url":"https://api.github.com/users/darthShadow/events{/privacy}","received_events_url":"https://api.github.com/users/darthShadow/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4001762855,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDAwMTc2Mjg1NQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4001762855","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-11-16T18:36:08Z","performed_via_github_app":null},{"id":4001762861,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwMDE3NjI4NjE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4001762861","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-11-16T18:36:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/736864160","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-736864160","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":736864160,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg2NDE2MA==","user":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T22:36:43Z","updated_at":"2020-12-01T22:36:43Z","body":"@ncw. Did you manage to replicate the behavior I described? Sorry, for the 'ping' typo.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/736864160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4059545961,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA1OTU0NTk2MQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4059545961","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-01T22:36:43Z","performed_via_github_app":null},{"id":4059545966,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNTk1NDU5NjY=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4059545966","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-01T22:36:43Z","performed_via_github_app":null},{"id":4076816122,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQwNzY4MTYxMjI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4076816122","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"145e62446e42a91e4fa7cab958e9a86b832046c1","commit_url":"https://api.github.com/repos/rclone/rclone/commits/145e62446e42a91e4fa7cab958e9a86b832046c1","created_at":"2020-12-06T17:22:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/739534531","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-739534531","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":739534531,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTUzNDUzMQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T17:24:22Z","updated_at":"2020-12-06T17:24:22Z","body":"@Piscator74 I can't replicate the problem with the fix-4763-vfs-modtime fix.\r\n\r\nI rebased the fix - can you try this\r\n\r\n[v1.54.0-beta.4957.145e62446.fix-4763-vfs-modtime](https://beta.rclone.org/branch/fix-4763-vfs-modtime/v1.54.0-beta.4957.145e62446.fix-4763-vfs-modtime/) on branch [fix-4763-vfs-modtime](https://github.com/rclone/rclone/tree/fix-4763-vfs-modtime) (uploaded in 15-30 mins)\r\n\r\nAnd if you can get to fail then please provided detailed instructions on how to reproduce - thanks!\r\n\r\nI can't test anything on Windows so if you could reproduce the problem on Linux directly on the mount with nano.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/739534531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4076817660,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA3NjgxNzY2MA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4076817660","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-06T17:24:22Z","performed_via_github_app":null},{"id":4076817661,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNzY4MTc2NjE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4076817661","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-06T17:24:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/740660385","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-740660385","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":740660385,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDY2MDM4NQ==","user":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T14:41:59Z","updated_at":"2020-12-08T14:42:53Z","body":"@ncw. I am still able to reproduce it. What happens in general is the following:\r\n* Make an update with nano to temp.txt (write it out with ^O)\r\n* After roughly 6 to 7 seconds, the timestamp of the file is changed (slightly rounded down). This happens consistently.\r\n* Sometimes I see a file size of 0 (for a few seconds) when saving\r\n\r\nThe output with your one-liner\r\n```\r\nwhile true ; do ls -l --full-time ./text.txt ; sleep 1 ; done\r\n```\r\n-rw-r----- 1 user none 10 2020-12-08 13:41:41.713000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 10 2020-12-08 13:41:41.713000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 10 2020-12-08 13:41:41.713000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978319702 +0100 ./text.txt   <-- 1st save with nano\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978319702 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978319702 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978319702 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978319702 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978319702 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978319702 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt   <-- timestamp magically changed (rounded down)\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt\r\n<snip>\r\n\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 18 2020-12-08 13:42:02.978000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 0 2020-12-08 13:42:33.474461435 +0100 ./text.txt    <-- 2nd save with nano\r\n-rw-r----- 1 user none 33 2020-12-08 13:42:33.475229443 +0100 ./text.txt  <-- but 1s later it shows the correct siize\r\n-rw-r----- 1 user none 33 2020-12-08 13:42:33.475229443 +0100 ./text.txt\r\n-rw-r----- 1 user none 33 2020-12-08 13:42:33.475229443 +0100 ./text.txt\r\n-rw-r----- 1 user none 33 2020-12-08 13:42:33.475229443 +0100 ./text.txt\r\n-rw-r----- 1 user none 33 2020-12-08 13:42:33.475229443 +0100 ./text.txt\r\n-rw-r----- 1 user none 33 2020-12-08 13:42:33.475229443 +0100 ./text.txt\r\n<snip>\r\n\r\n-rw-r----- 1 user none 0 2020-12-08 15:15:52.309000000 +0100 ./text.txt   <-- touch temp.txt (after rm)\r\n-rw-r----- 1 user none 0 2020-12-08 15:15:52.309000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 0 2020-12-08 15:15:52.309000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 0 2020-12-08 15:15:52.309000000 +0100 ./text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160417657 +0100 ./text.txt   <--- save with nano\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160417657 +0100 ./text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160417657 +0100 ./text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160417657 +0100 ./text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160417657 +0100 ./text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160417657 +0100 ./text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160000000 +0100 ./text.txt  <-- timestamp magically changed (rounded down)\r\n-rw-r----- 1 user none 7 2020-12-08 15:16:08.160000000 +0100 ./text.txt\r\n\r\nMy rclone settings\r\n```\r\n#!/bin/bash\r\nAUTH=\"--rc-user=$USERNAME --rc-pass=$PASSWORD\"\r\n\r\n./rclone rcd --rc-web-gui --rc-web-gui-no-open-browser --cache-dir /share/cloud/user/.cache --rc-addr :5572 $AUTH &\r\nsleep 5\r\n\r\n./rclone rc options/set --json '{\"main\": { \"Transfers\": 4 }, \"vfs\" : {\"UID\": '$PUID', \"GID\": '$PGID', \"Umask\": 23, \"CacheMode\": 3, \"CacheMaxAge\": 31622400000000000, \"DirCacheTime\": 31536000000000000}, \"mount\": {\"AllowOther\": true}}' $AUTH\r\n./rclone rc mount/mount fs=googledrive: mountPoint=/share/cloud/user/googledrive $AUTH\r\n```\r\n\r\nI hope this helps. If you want me to test something different, please let me know.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/740660385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4085105471,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA4NTEwNTQ3MQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4085105471","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-08T14:41:59Z","performed_via_github_app":null},{"id":4085105472,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwODUxMDU0NzI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4085105472","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-08T14:41:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/740803116","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-740803116","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":740803116,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDgwMzExNg==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T17:59:21Z","updated_at":"2020-12-08T17:59:21Z","body":"I know what causes the magically rounded down timestamps - that is when the writeback completes, rclone reads the actual time set on the object back and Google Drive can only store times accurate to the millisecond.\r\n\r\nI can reproduce that, but I haven't managed to reproduce the file showing as 0 length for a moment.\r\n\r\nCan you make a log for me with `-vv` of this event happening please? If you could supply the notated output of my shell script that would be really helpful - then I can correlate the logs in the mount with the actions taken by you.\r\n\r\nThanks for your help.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/740803116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/740870378","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-740870378","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":740870378,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDg3MDM3OA==","user":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T19:08:29Z","updated_at":"2020-12-08T19:13:39Z","body":"You have to get 'lucky' when you want to get the '0 bytes' to occur.\r\n\r\nRepeatedly hitting save with nano gets me the following error in the log file:\r\n```\r\n2020/12/08 20:00:18 ERROR : text.txt: Failed to copy: can't copy - source file is being updated (mod time changed from 2020-12-08 20:00:06.942148516 +0100 CET to 2020-12-08 20:00:14.337166273 +0100 CET)\r\n2020/12/08 20:00:18 ERROR : text.txt: vfs cache: failed to upload try #1, will retry in 10s: vfs cache: failed to transfer file from cache to remote: can't copy - source file is being updated (mod time changed from 2020-12-08 20:00:06.942148516 +0100 CET to 2020-12-08 20:00:14.337166273 +0100 CET)\r\n\r\nEDIT: this appeared a while later in the log\r\n2020/12/08 20:09:55 ERROR : text.txt: corrupted on transfer: MD5 hash differ \"0e5d2dc0db8b4407625b8bf633b75055\" vs \"b1946ac92492d2347c6235b4d2611184\"\r\n2020/12/08 20:09:56 ERROR : text.txt: vfs cache: failed to upload try #1, will retry in 10s: vfs cache: failed to transfer file from cache to remote: corrupted on transfer: MD5 hash differ \"0e5d2dc0db8b4407625b8bf633b75055\" vs \"b1946ac92492d2347c6235b4d2611184\"\r\n```\r\n\r\nAnd the output:\r\n```\r\n-rw-r----- 1 user none 7 2020-12-08 19:59:53.225336214 +0100 text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 19:59:53.225336214 +0100 text.txt\r\n-rw-r----- 1 user none 7 2020-12-08 19:59:53.225336214 +0100 text.txt\r\n-rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt  <-- update\r\n-rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n-rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n-rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n-rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n-rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n-rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt  <-- update\r\n-rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n-rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n-rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n-rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n-rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n-rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n-rw-r----- 1 user none 0 2020-12-08 20:00:18.746845412 +0100 text.txt  <-- update (and see the error above)\r\n-rw-r----- 1 user none 28 2020-12-08 20:00:18.935354670 +0100 text.txt\r\n-rw-r----- 1 user none 28 2020-12-08 20:00:18.935354670 +0100 text.txt\r\n```\r\n\r\nIt looks like updating the file at exact the same time as when the mod time is updating?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/740870378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/741904819","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-741904819","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":741904819,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTkwNDgxOQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T16:57:20Z","updated_at":"2020-12-09T16:57:20Z","body":"> You have to get 'lucky' when you want to get the '0 bytes' to occur.\r\n> \r\n> Repeatedly hitting save with nano gets me the following error in the log file:\r\n> \r\n> ```\r\n> 2020/12/08 20:00:18 ERROR : text.txt: Failed to copy: can't copy - source file is being updated (mod time changed from 2020-12-08 20:00:06.942148516 +0100 CET to 2020-12-08 20:00:14.337166273 +0100 CET)\r\n> 2020/12/08 20:00:18 ERROR : text.txt: vfs cache: failed to upload try #1, will retry in 10s: vfs cache: failed to transfer file from cache to remote: can't copy - source file is being updated (mod time changed from 2020-12-08 20:00:06.942148516 +0100 CET to 2020-12-08 20:00:14.337166273 +0100 CET)```\r\n\r\nThis error is because you modified the file while it was being uploaded. The upload should have been retried.\r\n\r\n> ```EDIT: this appeared a while later in the log\r\n> 2020/12/08 20:09:55 ERROR : text.txt: corrupted on transfer: MD5 hash differ \"0e5d2dc0db8b4407625b8bf633b75055\" vs \"b1946ac92492d2347c6235b4d2611184\"\r\n> 2020/12/08 20:09:56 ERROR : text.txt: vfs cache: failed to upload try #1, will retry in 10s: vfs cache: failed to transfer file from cache to remote: corrupted on transfer: MD5 hash differ \"0e5d2dc0db8b4407625b8bf633b75055\" vs \"b1946ac92492d2347c6235b4d2611184\"\r\n> ```\r\n\r\nAnd this has the same cause - the file was changed while being uploaded so the MD5 didn't match. It should have caused the file to be re-uploaded.\r\n\r\n> ```\r\n> -rw-r----- 1 user none 7 2020-12-08 19:59:53.225336214 +0100 text.txt\r\n> -rw-r----- 1 user none 7 2020-12-08 19:59:53.225336214 +0100 text.txt\r\n> -rw-r----- 1 user none 7 2020-12-08 19:59:53.225336214 +0100 text.txt\r\n> -rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt  <-- update\r\n> -rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n> -rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n> -rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n> -rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n> -rw-r----- 1 user none 13 2020-12-08 20:00:00.377140221 +0100 text.txt\r\n> -rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt  <-- update\r\n> -rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n> -rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n> -rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n> -rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n> -rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n> -rw-r----- 1 user none 19 2020-12-08 20:00:06.942148516 +0100 text.txt\r\n> -rw-r----- 1 user none 0 2020-12-08 20:00:18.746845412 +0100 text.txt  <-- update (and see the error above)\r\n> -rw-r----- 1 user none 28 2020-12-08 20:00:18.935354670 +0100 text.txt\r\n> -rw-r----- 1 user none 28 2020-12-08 20:00:18.935354670 +0100 text.txt\r\n> ```\r\n> \r\n> It looks like updating the file at exact the same time as when the mod time is updating?\r\n\r\nI managed to reproduce this eventually with a lot of button mashing :-)\r\n\r\n```\r\n-rw-rw-r-- 1 ncw ncw 30 2020-12-09 16:36:20.299582147 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 30 2020-12-09 16:36:20.299582147 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 30 2020-12-09 16:36:20.299582147 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 30 2020-12-09 16:36:20.299582147 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 0 2020-12-09 16:36:25.368080163 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 31 2020-12-09 16:36:27.248897410 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 31 2020-12-09 16:36:27.248897410 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 31 2020-12-09 16:36:27.248897410 +0000 /mnt/tmp/text.txt\r\n-rw-rw-r-- 1 ncw ncw 31 2020-12-09 16:36:27.248897410 +0000 /mnt/tmp/text.txt\r\n```\r\n\r\nThe relevant parts of the mount log are\r\n\r\nFile is normal size here\r\n\r\n    2020/12/09 16:36:24 DEBUG : text.txt: Attr: \r\n    2020/12/09 16:36:24 DEBUG : text.txt: >Attr: a=valid=1s ino=0 size=30 mode=-rw-rw-r--, err=<nil>\r\n\r\nPrevious upload started\r\n\r\n    2020/12/09 16:36:25 DEBUG : text.txt: vfs cache: starting upload\r\n\r\nFile is opened by nano\r\n\r\n    2020/12/09 16:36:25 DEBUG : text.txt: Open: flags=OpenWriteOnly\r\n    2020/12/09 16:36:25 DEBUG : text.txt: Open: flags=O_WRONLY\r\n    2020/12/09 16:36:25 DEBUG : text.txt: newRWFileHandle: \r\n    2020/12/09 16:36:25 DEBUG : text.txt: >newRWFileHandle: err=<nil>\r\n    2020/12/09 16:36:25 DEBUG : text.txt: >Open: fd=text.txt (rw), err=<nil>\r\n    2020/12/09 16:36:25 DEBUG : text.txt: >Open: fh=&{text.txt (rw)}, err=<nil>\r\n\r\nnano truncates the file to 0 size (Settattr size=0) - this call doesn't finish until the upload is cancelled, so the file stays at 0 time for some time\r\n\r\n    2020/12/09 16:36:25 DEBUG : text.txt: Setattr: a=Setattr [ID=0x17e Node=0x2 Uid=1000 Gid=1000 Pid=2548343] size=0 handle=INVALID-0x0 lockowner\r\n    2020/12/09 16:36:25 DEBUG : text.txt: Truncating 1 file handles\r\n    2020/12/09 16:36:25 DEBUG : text.txt(0xc00045bec0): openPending: \r\n    2020/12/09 16:36:25 DEBUG : text.txt: vfs cache: checking remote fingerprint \"29,2020-12-09 16:36:11.431 +0000 UTC,53f4758304bf114664d802db15988ec3\" against cached fingerprint \"29,2020-12-09 16:36:11.431 +0000 UTC,53f4758304bf114664d802db15988ec3\"\r\n    2020/12/09 16:36:25 DEBUG : text.txt: vfs cache: truncate to size=30\r\n    2020/12/09 16:36:25 DEBUG : : Added virtual directory entry vAddFile: \"text.txt\"\r\n    2020/12/09 16:36:25 DEBUG : text.txt(0xc00045bec0): >openPending: err=<nil>\r\n    2020/12/09 16:36:25 DEBUG : text.txt: vfs cache: truncate to size=0\r\n\r\nWriteback is then cancelled because the file is changed\r\n\r\n    2020/12/09 16:36:25 DEBUG : text.txt: vfs cache: cancelling writeback (uploading true) 0xc0004b6ee0 item 1\r\n    2020/12/09 16:36:25 DEBUG : text.txt: vfs cache: cancelling upload\r\n    2020/12/09 16:36:25 DEBUG : text.txt: Attr: \r\n    2020/12/09 16:36:25 DEBUG : text.txt: >Attr: a=valid=1s ino=0 size=0 mode=-rw-rw-r--, err=<nil>\r\n    2020/12/09 16:36:26 DEBUG : text.txt: MD5 = d41d8cd98f00b204e9800998ecf8427e (Local file system at /home/ncw/.cache/rclone/vfs/TestDrive)\r\n    2020/12/09 16:36:26 DEBUG : text.txt: MD5 = cc5a48fae507bdb37c3adc6f6dd7e3c9 (Google drive root '')\r\n    2020/12/09 16:36:26 ERROR : text.txt: corrupted on transfer: MD5 hash differ \"d41d8cd98f00b204e9800998ecf8427e\" vs \"cc5a48fae507bdb37c3adc6f6dd7e3c9\"\r\n    2020/12/09 16:36:26 INFO  : text.txt: Removing failed copy\r\n\r\nThe upload fails instead of being cancelled (common for short files)\r\n\r\nThe file appears 0 length here (size=0)\r\n\r\n    2020/12/09 16:36:26 DEBUG : text.txt: Attr: \r\n    2020/12/09 16:36:26 DEBUG : text.txt: >Attr: a=valid=1s ino=0 size=0 mode=-rw-rw-r--, err=<nil>\r\n\r\nThe file is queued for retry, then cancelled\r\n\r\n    2020/12/09 16:36:27 ERROR : text.txt: vfs cache: failed to upload try #1, will retry in 10s: vfs cache: failed to transfer file from cache to remote: corrupted on transfer: MD5 hash differ \"d41d8cd98f00b204e9800998ecf8427e\" vs \"cc5a48fae507bdb37c3adc6f6dd7e3c9\"\r\n    2020/12/09 16:36:27 DEBUG : text.txt: vfs cache: cancelled upload\r\n    2020/12/09 16:36:27 DEBUG : text.txt: >Setattr: err=<nil>\r\n\r\nThe Setattr call finally finishes here. File size still reads 0\r\n\r\n    2020/12/09 16:36:27 DEBUG : text.txt: Attr: \r\n    2020/12/09 16:36:27 DEBUG : text.txt: >Attr: a=valid=1s ino=0 size=0 mode=-rw-rw-r--, err=<nil>\r\n\r\nNow nano writes to the file and closes it\r\n\r\n    2020/12/09 16:36:27 DEBUG : &{text.txt (rw)}: Write: len=31, offset=0\r\n    2020/12/09 16:36:27 DEBUG : text.txt(0xc00045bec0): _writeAt: size=31, off=0\r\n    2020/12/09 16:36:27 DEBUG : text.txt(0xc00045bec0): >_writeAt: n=31, err=<nil>\r\n    2020/12/09 16:36:27 DEBUG : &{text.txt (rw)}: >Write: written=31, err=<nil>\r\n    2020/12/09 16:36:27 DEBUG : &{text.txt (rw)}: Flush: \r\n    2020/12/09 16:36:27 DEBUG : text.txt(0xc00045bec0): RWFileHandle.Flush\r\n    2020/12/09 16:36:27 DEBUG : &{text.txt (rw)}: >Flush: err=<nil>\r\n    2020/12/09 16:36:27 DEBUG : &{text.txt (rw)}: Release: \r\n    2020/12/09 16:36:27 DEBUG : text.txt(0xc00045bec0): RWFileHandle.Release\r\n    2020/12/09 16:36:27 DEBUG : text.txt(0xc00045bec0): close: \r\n\r\nAnd only now (2 seconds later) does the file actually appear as the correct length again\r\n\r\nIn summary, nano truncates the file before writing it - this is pretty common. However if this happens when the file is being uploaded, it takes long enough for the 0 size file to be visible because rclone cancels the ongoing upload. Normally this would happen extrememly quickly so you wouldn't notice the non-zero length file.\r\n\r\nSo I think this, despite the 0 length and error messages, is working properly and should have uploaded your file correctly.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/741904819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/743818718","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-743818718","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":743818718,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzgxODcxOA==","user":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T20:17:11Z","updated_at":"2020-12-12T21:57:31Z","body":"I also tried the following script with various delays to see if I could reproduce the problem, but with this script I could never reproduce it. Perhaps because it just concatenates to a file.\r\n\r\n```\r\n#!/bin/bash\r\ntrap \"pkill test.sh\" SIGINT\r\n\r\nrm text.txt\r\n( while true ; do echo \"write now!\" && (echo hello >> text.txt) ; sleep 6 ; done ) &\r\n( while true ; do ls -l --full-time text.txt ; sleep 1 ; done )| tee log.txt\r\n```\r\n\r\nThe original problem I have: when I save a file with typora via rclone on google drive, it says \"save failed\" and the file is immediately truncated (example here: test.md). I have included the rclone logfile with -vv. Perhaps you can see why this is happening (btw typora is also available under linux). If I could find another way to reproduce it, I would ;-)\r\n\r\n```\r\n2020/12/12 20:42:22 DEBUG : rclone: Version \"v1.54.0-beta.4957.145e62446.fix-4763-vfs-modtime\" starting with parameters [\"./rclone\" \"rcd\" \"-vv\" \"--log-file=log.txt\" \"--rc-web-gui\" \"--rc-web-gui-no-open-browser\" \"--cache-dir\" \"/share/cloud/user/.cache\" \"--rc-addr\" \":5572\" \"--rc-user=XXXXX\" \"--rc-pass=XXXXX\"]\r\n2020/12/12 20:42:22 DEBUG : Current tag: v2.0.3, Release tag: v2.0.3\r\n2020/12/12 20:42:22 NOTICE: Web GUI exists. Update skipped.\r\n2020/12/12 20:42:22 NOTICE: Serving Web GUI\r\n2020/12/12 20:42:22 INFO  : Using --user XXXXX --pass XXXX as authenticated user\r\n2020/12/12 20:42:22 NOTICE: Serving remote control on http://[::]:5572/\r\n2020/12/12 20:42:22 DEBUG : login_token \"cmNsb25lOnJjbG9uZQ==\"\r\n2020/12/12 20:42:22 NOTICE: Web GUI is not automatically opening browser. Navigate to http://XXXXX:XXXXX@[::]:5572/?login_token=XXXXXXXXXXXXXXXXXXXXXX to use.\r\n2020/12/12 20:42:27 DEBUG : rc: \"options/set\": with parameters map[main:map[Transfers:4] mount:map[AllowOther:true] vfs:map[CacheMaxAge:3.16224e+16 CacheMode:3 DirCacheTime:3.1536e+16 GID:1004 UID:1000 Umask:23]]\r\n2020/12/12 20:42:27 DEBUG : rc: \"options/set\": reply map[]: <nil>\r\n2020/12/12 20:42:27 DEBUG : rc: \"mount/mount\": with parameters map[fs:googledrive: mountPoint:/share/cloud/user/googledrive]\r\n2020/12/12 20:42:27 DEBUG : Creating backend with remote \"googledrive:\"\r\n2020/12/12 20:42:27 DEBUG : Using config file from \"/share/system/admin/.config/rclone/rclone.conf\"\r\n2020/12/12 20:42:27 DEBUG : Google drive root '': root_folder_id = \"XXXXXXXXXXXXXXXXXXX\" - save this in the config to speed up startup\r\n2020/12/12 20:42:27 DEBUG : vfs cache: root is \"/share/cloud/user/.cache/vfs/googledrive\"\r\n2020/12/12 20:42:27 DEBUG : vfs cache: metadata root is \"/share/cloud/user/.cache/vfs/googledrive\"\r\n2020/12/12 20:42:27 DEBUG : Creating backend with remote \"/share/cloud/user/.cache/vfs/googledrive\"\r\n2020/12/12 20:42:27 DEBUG : Google drive root '': Mounting on \"/share/cloud/user/googledrive\"\r\n2020/12/12 20:42:27 DEBUG : Mount for Google drive root '' created at /share/cloud/user/googledrive using mount\r\n2020/12/12 20:42:27 DEBUG : rc: \"mount/mount\": reply map[]: <nil>\r\n2020/12/12 20:42:27 DEBUG : : Root: \r\n2020/12/12 20:42:27 DEBUG : : >Root: node=/, err=<nil>\r\n2020/12/12 20:42:30 DEBUG : /: Lookup: name=\"test\"\r\n2020/12/12 20:42:31 DEBUG : /: >Lookup: node=test/, err=<nil>\r\n2020/12/12 20:42:31 DEBUG : test/: Attr: \r\n2020/12/12 20:42:31 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:31 DEBUG : test/: Lookup: name=\"test.md\"\r\n2020/12/12 20:42:31 DEBUG : test/: >Lookup: node=test/test.md, err=<nil>\r\n2020/12/12 20:42:31 DEBUG : test/test.md: Attr: \r\n2020/12/12 20:42:31 DEBUG : test/test.md: >Attr: a=valid=1s ino=0 size=9044 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:31 DEBUG : /: Attr: \r\n2020/12/12 20:42:31 DEBUG : /: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : /: Attr: \r\n2020/12/12 20:42:33 DEBUG : /: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : /: Lookup: name=\"test\"\r\n2020/12/12 20:42:33 DEBUG : /: >Lookup: node=test/, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/: Attr: \r\n2020/12/12 20:42:33 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/: Lookup: name=\".~test.md\"\r\n2020/12/12 20:42:33 DEBUG : test/: >Lookup: node=<nil>, err=no such file or directory\r\n2020/12/12 20:42:33 DEBUG : test/: Lookup: name=\".~test.md\"\r\n2020/12/12 20:42:33 DEBUG : test/: >Lookup: node=<nil>, err=no such file or directory\r\n2020/12/12 20:42:33 DEBUG : test/: ReadDirAll: \r\n2020/12/12 20:42:33 DEBUG : test/: >ReadDirAll: item=1, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/: Attr: \r\n2020/12/12 20:42:33 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/: Lookup: name=\".~test.md\"\r\n2020/12/12 20:42:33 DEBUG : test/: >Lookup: node=<nil>, err=no such file or directory\r\n2020/12/12 20:42:33 DEBUG : test/: Create: name=\".~test.md\"\r\n2020/12/12 20:42:33 DEBUG : test/.~test.md: Open: flags=O_RDWR|O_CREATE|O_EXCL\r\n2020/12/12 20:42:33 DEBUG : test/.~test.md: newRWFileHandle: \r\n2020/12/12 20:42:33 DEBUG : test/.~test.md(0xc0001a4840): openPending: \r\n2020/12/12 20:42:33 DEBUG : test/.~test.md: vfs cache: truncate to size=0\r\n2020/12/12 20:42:33 DEBUG : test: Added virtual directory entry vAddFile: \".~test.md\"\r\n2020/12/12 20:42:33 DEBUG : test/.~test.md(0xc0001a4840): >openPending: err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/.~test.md: >newRWFileHandle: err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test: Added virtual directory entry vAddFile: \".~test.md\"\r\n2020/12/12 20:42:33 DEBUG : test/.~test.md: >Open: fd=test/.~test.md (rw), err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/: >Create: node=test/.~test.md, handle=&{test/.~test.md (rw)}, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/.~test.md: Attr: \r\n2020/12/12 20:42:33 DEBUG : test/.~test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : test/: Attr: \r\n2020/12/12 20:42:33 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:33 DEBUG : : Statfs: \r\n2020/12/12 20:42:33 DEBUG : : >Statfs: stat={Blocks:3932160 Bfree:2349983 Bavail:2349983 Files:1000000000 Ffree:1000000000 Bsize:4096 Namelen:255 Frsize:4096}, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : &{test/.~test.md (rw)}: Release: \r\n2020/12/12 20:42:34 DEBUG : test/.~test.md(0xc0001a4840): RWFileHandle.Release\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md(0xc0001a4840): close: \r\n2020/12/12 20:42:34 DEBUG : /: Lookup: name=\"test\"\r\n2020/12/12 20:42:34 DEBUG : /: >Lookup: node=test/, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/: Attr: \r\n2020/12/12 20:42:34 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: Attr: \r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: vfs cache: setting modification time to 2020-12-12 20:42:33.569299116 +0100 CET m=+11.211492322\r\n2020/12/12 20:42:34 INFO  : test/.~test.md: vfs cache: queuing for upload in 5s\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md(0xc0001a4840): >close: err=<nil>\r\n2020/12/12 20:42:34 DEBUG : &{test/.~test.md (rw)}: >Release: err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: Setattr: a=Setattr [ID=0x19 Node=0x4 Uid=1000 Gid=100 Pid=11722] atime=2020-12-12 20:42:33.569299116 +0100 CET mtime=2020-12-12 20:42:34.505705432 +0100 CET handle=INVALID-0x0\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: vfs cache: setting modification time to 2020-12-12 20:42:34.505705432 +0100 CET\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: >Setattr: err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: Attr: \r\n2020/12/12 20:42:34 DEBUG : test/.~test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/: Lookup: name=\"test.md\"\r\n2020/12/12 20:42:34 DEBUG : test/: >Lookup: node=test/test.md, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/test.md: Attr: \r\n2020/12/12 20:42:34 DEBUG : test/test.md: >Attr: a=valid=1s ino=0 size=9044 mode=-rw-r-----, err=<nil>\r\n 2020/12/12 20:42:34 DEBUG : test/test.md: Open: flags=OpenReadWrite\r\n2020/12/12 20:42:34 DEBUG : test/test.md: Open: flags=O_RDWR\r\n2020/12/12 20:42:34 DEBUG : test/test.md: newRWFileHandle: \r\n2020/12/12 20:42:34 DEBUG : test/test.md: >newRWFileHandle: err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/test.md: >Open: fd=test/test.md (rw), err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/test.md: >Open: fh=&{test/test.md (rw)}, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/test.md: Setattr: a=Setattr [ID=0x1c Node=0x3 Uid=1000 Gid=100 Pid=11722] size=0 handle=0x1 lockowner\r\n2020/12/12 20:42:34 DEBUG : test/test.md: Truncating 1 file handles\r\n2020/12/12 20:42:34 DEBUG : test/test.md(0xc0000a1d40): openPending: \r\n2020/12/12 20:42:34 DEBUG : test/test.md: vfs cache: checking remote fingerprint \"9044,2020-11-20 22:54:01 +0000 UTC,fbf70a833928b7dc3388ac1a8d77dfed\" against cached fingerprint \"9044,2020-11-20 22:54:01 +0000 UTC,fbf70a833928b7dc3388ac1a8d77dfed\"\r\n2020/12/12 20:42:34 DEBUG : test/test.md: vfs cache: truncate to size=9044\r\n2020/12/12 20:42:34 DEBUG : test: Added virtual directory entry vAddFile: \"test.md\"\r\n2020/12/12 20:42:34 DEBUG : test/test.md(0xc0000a1d40): >openPending: err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/test.md: vfs cache: truncate to size=0\r\n2020/12/12 20:42:34 DEBUG : test/test.md: >Setattr: err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/test.md: Attr: \r\n2020/12/12 20:42:34 DEBUG : test/test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/: Lookup: name=\"._test.md\"\r\n2020/12/12 20:42:34 DEBUG : test/: >Lookup: node=<nil>, err=no such file or directory\r\n2020/12/12 20:42:34 DEBUG : : Statfs: \r\n2020/12/12 20:42:34 DEBUG : : >Statfs: stat={Blocks:3932160 Bfree:2349983 Bavail:2349983 Files:1000000000 Ffree:1000000000 Bsize:4096 Namelen:255 Frsize:4096}, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Attr: \r\n2020/12/12 20:42:35 DEBUG : /: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: ReadDirAll: \r\n2020/12/12 20:42:35 DEBUG : /: >ReadDirAll: item=7, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Lookup: name=\"Other\"\r\n2020/12/12 20:42:35 DEBUG : /: >Lookup: node=Other/, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : Other/: Attr: \r\n2020/12/12 20:42:35 DEBUG : Other/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Lookup: name=\"Private\"\r\n2020/12/12 20:42:35 DEBUG : /: >Lookup: node=Private/, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : Private/: Attr: \r\n2020/12/12 20:42:35 DEBUG : Private/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Lookup: name=\"Scripts\"\r\n2020/12/12 20:42:35 DEBUG : /: >Lookup: node=Scripts/, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : Scripts/: Attr: \r\n2020/12/12 20:42:35 DEBUG : Scripts/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Lookup: name=\"Security\"\r\n2020/12/12 20:42:35 DEBUG : /: >Lookup: node=Security/, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : Security/: Attr: \r\n2020/12/12 20:42:35 DEBUG : Security/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Lookup: name=\"log.txt\"\r\n2020/12/12 20:42:35 DEBUG : /: >Lookup: node=log.txt, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : log.txt: Attr: \r\n2020/12/12 20:42:35 DEBUG : log.txt: >Attr: a=valid=1s ino=0 size=1555 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Lookup: name=\"text.txt\"\r\n2020/12/12 20:42:35 DEBUG : /: >Lookup: node=text.txt, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : text.txt: Attr: \r\n2020/12/12 20:42:35 DEBUG : text.txt: >Attr: a=valid=1s ino=0 size=24 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Attr: \r\n2020/12/12 20:42:35 DEBUG : /: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: ReadDirAll: \r\n2020/12/12 20:42:35 DEBUG : /: >ReadDirAll: item=7, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Attr: \r\n2020/12/12 20:42:35 DEBUG : /: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : test/: ReadDirAll: \r\n2020/12/12 20:42:35 DEBUG : test/: >ReadDirAll: item=2, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : test/: Attr: \r\n2020/12/12 20:42:35 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : /: Lookup: name=\"test\"\r\n2020/12/12 20:42:35 DEBUG : /: >Lookup: node=test/, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : test/: Attr: \r\n2020/12/12 20:42:35 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : &{test/test.md (rw)}: Release: \r\n2020/12/12 20:42:35 DEBUG : test/test.md(0xc0000a1d40): RWFileHandle.Release\r\n2020/12/12 20:42:35 DEBUG : test/test.md(0xc0000a1d40): close: \r\n2020/12/12 20:42:35 DEBUG : vfs cache: looking for range={Pos:0 Size:0} in [] - present true\r\n2020/12/12 20:42:35 DEBUG : test/: Lookup: name=\"test.md\"\r\n2020/12/12 20:42:35 DEBUG : test/: >Lookup: node=test/test.md, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : test/test.md: Attr: \r\n2020/12/12 20:42:35 DEBUG : test/test.md: vfs cache: setting modification time to 2020-12-12 20:42:34.809802328 +0100 CET m=+12.451995524\r\n2020/12/12 20:42:35 INFO  : test/test.md: vfs cache: queuing for upload in 5s\r\n2020/12/12 20:42:35 DEBUG : test/test.md(0xc0000a1d40): >close: err=<nil>\r\n2020/12/12 20:42:35 DEBUG : &{test/test.md (rw)}: >Release: err=<nil>\r\n2020/12/12 20:42:35 DEBUG : test/test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:35 DEBUG : test/test.md: Setattr: a=Setattr [ID=0x40 Node=0x3 Uid=1000 Gid=100 Pid=11722] atime=2020-12-12 20:42:34.809802328 +0100 CET mtime=2020-12-12 20:42:35.588013361 +0100 CET handle=INVALID-0x0\r\n2020/12/12 20:42:35 DEBUG : test/test.md: vfs cache: setting modification time to 2020-12-12 20:42:35.588013361 +0100 CET\r\n2020/12/12 20:42:36 DEBUG : test/test.md: Applied pending mod time 2020-12-12 20:42:35.588013361 +0100 CET OK\r\n2020/12/12 20:42:36 DEBUG : test/test.md: >Setattr: err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/test.md: Attr: \r\n2020/12/12 20:42:36 DEBUG : test/test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/.~test.md: Attr: \r\n2020/12/12 20:42:36 DEBUG : test/.~test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: Lookup: name=\"._.~test.md\"\r\n2020/12/12 20:42:36 DEBUG : test/: >Lookup: node=<nil>, err=no such file or directory\r\n2020/12/12 20:42:36 DEBUG : test/: ReadDirAll: \r\n2020/12/12 20:42:36 DEBUG : test/: >ReadDirAll: item=2, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: Attr: \r\n2020/12/12 20:42:36 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: Lookup: name=\"._.~test.md\"\r\n2020/12/12 20:42:36 DEBUG : test/: >Lookup: node=<nil>, err=no such file or directory\r\n2020/12/12 20:42:36 DEBUG : test/: Lookup: name=\"._.~test.md\"\r\n2020/12/12 20:42:36 DEBUG : test/: >Lookup: node=<nil>, err=no such file or directory\r\n2020/12/12 20:42:36 DEBUG : test/: Remove: name=\".~test.md\"\r\n2020/12/12 20:42:36 DEBUG : test/.~test.md: Remove: \r\n2020/12/12 20:42:36 DEBUG : test/.~test.md: vfs cache: cancelling writeback (uploading false) 0xc00032c1c0 item 1\r\n2020/12/12 20:42:36 INFO  : test/.~test.md: vfs cache: removed cache file as file deleted\r\n2020/12/12 20:42:36 DEBUG : test/.~test.md: vfs cache: removed metadata from cache as file deleted\r\n2020/12/12 20:42:36 DEBUG : test: Added virtual directory entry vDel: \".~test.md\"\r\n2020/12/12 20:42:36 DEBUG : test/.~test.md: >Remove: err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: >Remove: err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: Attr: \r\n2020/12/12 20:42:36 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: ReadDirAll: \r\n2020/12/12 20:42:36 DEBUG : test/: >ReadDirAll: item=1, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: Attr: \r\n2020/12/12 20:42:36 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: ReadDirAll: \r\n2020/12/12 20:42:36 DEBUG : /: >ReadDirAll: item=7, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Lookup: name=\"Other\"\r\n2020/12/12 20:42:36 DEBUG : /: >Lookup: node=Other/, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : Other/: Attr: \r\n2020/12/12 20:42:36 DEBUG : Other/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Lookup: name=\"Private\"\r\n2020/12/12 20:42:36 DEBUG : /: >Lookup: node=Private/, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : Private/: Attr: \r\n2020/12/12 20:42:36 DEBUG : Private/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Lookup: name=\"Scripts\"\r\n2020/12/12 20:42:36 DEBUG : /: >Lookup: node=Scripts/, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : Scripts/: Attr: \r\n2020/12/12 20:42:36 DEBUG : Scripts/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Lookup: name=\"Security\"\r\n2020/12/12 20:42:36 DEBUG : /: >Lookup: node=Security/, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : Security/: Attr: \r\n2020/12/12 20:42:36 DEBUG : Security/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Lookup: name=\"log.txt\"\r\n2020/12/12 20:42:36 DEBUG : /: >Lookup: node=log.txt, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : log.txt: Attr: \r\n2020/12/12 20:42:36 DEBUG : log.txt: >Attr: a=valid=1s ino=0 size=1555 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Lookup: name=\"text.txt\"\r\n2020/12/12 20:42:36 DEBUG : /: >Lookup: node=text.txt, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : text.txt: Attr: \r\n2020/12/12 20:42:36 DEBUG : text.txt: >Attr: a=valid=1s ino=0 size=24 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Attr: \r\n2020/12/12 20:42:36 DEBUG : /: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : /: Lookup: name=\"test\"\r\n2020/12/12 20:42:36 DEBUG : /: >Lookup: node=test/, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: Attr: \r\n2020/12/12 20:42:36 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/: Lookup: name=\"test.md\"\r\n2020/12/12 20:42:36 DEBUG : test/: >Lookup: node=test/test.md, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/test.md: Attr: \r\n2020/12/12 20:42:36 DEBUG : test/test.md: >Attr: a=valid=1s ino=0 size=0 mode=-rw-r-----, err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/test.md: Open: flags=OpenReadOnly\r\n2020/12/12 20:42:36 DEBUG : test/test.md: Open: flags=O_RDONLY\r\n2020/12/12 20:42:36 DEBUG : test/test.md: newRWFileHandle: \r\n2020/12/12 20:42:36 DEBUG : test/test.md: >newRWFileHandle: err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/test.md: >Open: fd=test/test.md (rw), err=<nil>\r\n2020/12/12 20:42:36 DEBUG : test/test.md: >Open: fh=&{test/test.md (rw)}, err=<nil>\r\n2020/12/12 20:42:37 DEBUG : test/: ReadDirAll: \r\n2020/12/12 20:42:37 DEBUG : test/: >ReadDirAll: item=1, err=<nil>\r\n2020/12/12 20:42:37 DEBUG : test/: Attr: \r\n2020/12/12 20:42:37 DEBUG : test/: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-x---, err=<nil>\r\n2020/12/12 20:42:40 DEBUG : test/test.md: vfs cache: starting upload\r\n2020/12/12 20:42:41 DEBUG : test/test.md: MD5 = d41d8cd98f00b204e9800998ecf8427e OK\r\n2020/12/12 20:42:41 INFO  : test/test.md: Copied (replaced existing)\r\n2020/12/12 20:42:41 DEBUG : test/test.md: vfs cache: fingerprint now \"0,2020-12-12 19:42:35.588 +0000 UTC,d41d8cd98f00b204e9800998ecf8427e\"\r\n2020/12/12 20:42:41 DEBUG : test/test.md: vfs cache: writeback object to VFS layer\r\n2020/12/12 20:42:41 DEBUG : test: Added virtual directory entry vAddFile: \"test.md\"\r\n2020/12/12 20:42:41 INFO  : test/test.md: vfs cache: upload succeeded try #1\r\n2020/12/12 20:42:47 DEBUG : &{test/test.md (rw)}: Flush: \r\n2020/12/12 20:42:47 DEBUG : test/test.md(0xc000152440): RWFileHandle.Flush\r\n2020/12/12 20:42:47 DEBUG : &{test/test.md (rw)}: >Flush: err=<nil>\r\n2020/12/12 20:42:47 DEBUG : &{test/test.md (rw)}: Release: \r\n2020/12/12 20:42:47 DEBUG : test/test.md(0xc000152440): RWFileHandle.Release\r\n2020/12/12 20:42:47 DEBUG : test/test.md(0xc000152440): close: \r\n2020/12/12 20:42:47 DEBUG : test/test.md(0xc000152440): >close: err=<nil>\r\n2020/12/12 20:42:47 DEBUG : &{test/test.md (rw)}: >Release: err=<nil>\r\n```\r\n\r\nI can see here it is being truncated (line 98 - 101), but why is hard to get.\r\n```\r\n2020/12/12 20:42:34 DEBUG : test/test.md: vfs cache: truncate to size=9044\r\n2020/12/12 20:42:34 DEBUG : test: Added virtual directory entry vAddFile: \"test.md\"\r\n2020/12/12 20:42:34 DEBUG : test/test.md(0xc0000a1d40): >openPending: err=<nil>\r\n2020/12/12 20:42:34 DEBUG : test/test.md: vfs cache: truncate to size=0\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/743818718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Piscator74","id":62544318,"node_id":"MDQ6VXNlcjYyNTQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/62544318?v=4","gravatar_id":"","url":"https://api.github.com/users/Piscator74","html_url":"https://github.com/Piscator74","followers_url":"https://api.github.com/users/Piscator74/followers","following_url":"https://api.github.com/users/Piscator74/following{/other_user}","gists_url":"https://api.github.com/users/Piscator74/gists{/gist_id}","starred_url":"https://api.github.com/users/Piscator74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Piscator74/subscriptions","organizations_url":"https://api.github.com/users/Piscator74/orgs","repos_url":"https://api.github.com/users/Piscator74/repos","events_url":"https://api.github.com/users/Piscator74/events{/privacy}","received_events_url":"https://api.github.com/users/Piscator74/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/743989826","html_url":"https://github.com/rclone/rclone/issues/4763#issuecomment-743989826","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4763","id":743989826,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzk4OTgyNg==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T11:02:57Z","updated_at":"2020-12-13T11:02:57Z","body":"> I also tried the following script with various delays to see if I could reproduce the problem, but with this script I could never reproduce it. Perhaps because it just concatenates to a file.\r\n\r\nI think that is right. I tried a similar thing when trying to reproduce the problem originally.\r\n\r\n\r\n\r\n> The original problem I have: when I save a file with typora via rclone on google drive, it says \"save failed\" and the file is immediately truncated (example here: test.md). I have included the rclone logfile with -vv. Perhaps you can see why this is happening (btw typora is also available under linux). If I could find another way to reproduce it, I would ;-)\r\n\r\nI can't see anyting obviously wrong with that log. There are no errors returned and the save appears to go OK.\r\n\r\nI'll try installing typora later (I'm in the car at the moment), but if you could strace typora around the time that it fails that would be really useful. So run `strace typora` and get to the point just before you save, then what I do is type a whole lot of returns in the terminal to leave a gap, then do the save then more returns in the terminal.  Then paste the middle bit between the returns here!\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/743989826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}}]