[{"id":17342689386,"node_id":"LE_lADOAQ-n5M6zXCTezwAAAAQJtHBq","url":"https://api.github.com/repos/rclone/rclone/issues/events/17342689386","actor":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-04-21T19:42:36Z","label":{"name":"Support Contract","color":"D93F0B"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2819351971","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2819351971","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2819351971,"node_id":"IC_kwDOAQ-n5M6oC-Wj","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-21T19:42:45Z","updated_at":"2025-04-21T19:42:45Z","body":"Heads up @rclone/support - the \"Support Contract\" label was applied to this issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2819351971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17342690992,"node_id":"SE_lADOAQ-n5M6zXCTezwAAAAQJtHaw","url":"https://api.github.com/repos/rclone/rclone/issues/events/17342690992","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-04-21T19:42:46Z","performed_via_github_app":null},{"id":17342691000,"node_id":"SE_lADOAQ-n5M6zXCTezwAAAAQJtHa4","url":"https://api.github.com/repos/rclone/rclone/issues/events/17342691000","actor":{"login":"edc-w","id":138211970,"node_id":"U_kgDOCDzygg","avatar_url":"https://avatars.githubusercontent.com/u/138211970?v=4","gravatar_id":"","url":"https://api.github.com/users/edc-w","html_url":"https://github.com/edc-w","followers_url":"https://api.github.com/users/edc-w/followers","following_url":"https://api.github.com/users/edc-w/following{/other_user}","gists_url":"https://api.github.com/users/edc-w/gists{/gist_id}","starred_url":"https://api.github.com/users/edc-w/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edc-w/subscriptions","organizations_url":"https://api.github.com/users/edc-w/orgs","repos_url":"https://api.github.com/users/edc-w/repos","events_url":"https://api.github.com/users/edc-w/events{/privacy}","received_events_url":"https://api.github.com/users/edc-w/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-04-21T19:42:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2822347451","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2822347451","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2822347451,"node_id":"IC_kwDOAQ-n5M6oOZq7","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-22T19:59:54Z","updated_at":"2025-04-22T20:02:25Z","body":"What appears to be happening is that when rclone tries to upade the metadata for `Certifications` it tries to find this file first by listing\n\n```\n2025/04/21 11:29:41 DEBUG : HTTP REQUEST (req 0xc0003e0f00)\n2025/04/21 11:29:41 DEBUG : GET /drive/v3/files?alt=json&corpora=drive&driveId=0AANTrkKukcbeUk9PVA&fields=files%28id%2Cname%2Csize%2Cmd5Checksum%2Csha1Checksum\n%2Csha256Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks%2CresourceKey%2\nCcopyRequiresWriterPermission%2Cdescription%2CfolderColorRgb%2ChasAugmentedPermissions%2Cowners%2CpermissionIds%2Cpermissions%2Cproperties%2Cstarred%2CviewedBy\nMe%2CviewedByMeTime%2CwritersCanShare%29%2CnextPageToken%2CincompleteSearch&includeItemsFromAllDrives=true&pageSize=1000&prettyPrint=false&q=trashed%3Dfalse+an\nd+%28%270AANTrkKukcbeUk9PVA%27+in+parents%29+and+%28name%3D%27Certifications%27%29+and+%28mimeType%3D%27application%2Fvnd.google-apps.folder%27+or+mimeType%3D%\n27application%2Fvnd.google-apps.shortcut%27%29&supportsAllDrives=true HTTP/1.1\nHost: www.googleapis.com\nUser-Agent: ISV|Transend Corporation|TMCTools/1.0\nAuthorization: XXX\nX-Goog-Api-Client: gl-go/1.24.0 gdcl/0.211.0\nAccept-Encoding: gzip\n\n2025/04/21 11:29:41 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n2025/04/21 11:29:41 DEBUG : <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n2025/04/21 11:29:41 DEBUG : HTTP RESPONSE (req 0xc0003e0f00)\n2025/04/21 11:29:41 DEBUG : HTTP/1.1 200 OK\nTransfer-Encoding: chunked\nAlt-Svc: h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nContent-Type: application/json; charset=UTF-8\nDate: Mon, 21 Apr 2025 18:29:41 GMT\nExpires: Mon, 01 Jan 1990 00:00:00 GMT\nPragma: no-cache\nServer: ESF\nVary: Origin, X-Origin\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-Xss-Protection: 0\n\n25\n{\"incompleteSearch\":false,\"files\":[]}\n0\n```\n\nDecoding that query it is\n\n```\nGET /drive/v3/files\n?alt=json\n&corpora=drive\n&driveId=0AANTrkKukcbeUk9PVA\n&fields=...\n&includeItemsFromAllDrives=true\n&pageSize=1000\n&prettyPrint=false\n&q=trashed%3Dfalse+and+%28%270AANTrkKukcbeUk9PVA%27+in+parents%29+and+%28name%3D%27Certifications%27%29+and+%28mimeType%3D%27application%2Fvnd.google-apps.folder%27+or+mimeType%3D%\n27application%2Fvnd.google-apps.shortcut%27%29\n&supportsAllDrives=true HTTP/1.1\n```\n\nWhich decoded further is a listing with the query string\n\n```\ntrashed=false\nand ('0AANTrkKukcbeUk9PVA' in parents)\nand (name='Certifications')\nand (mimeType='application/vnd.google-apps.folder' or mimeType='application/vnd.google-apps.shortcut')\n```\n\nThis is rclone just checking it isn't about to overwrite something on the destination - the ID matches the `Target` in the config you sent me. So I guess it being empty is OK.\n\nI haven't managed to track down the code path rclone is taking yet though but your theory about missing ID looks plausible.\n\nIs there anything special about the `Collections` directory? Is it a shortcut?\n\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2822347451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2822380442","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2822380442","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2822380442,"node_id":"IC_kwDOAQ-n5M6oOhua","user":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-22T20:17:00Z","updated_at":"2025-04-22T20:18:07Z","body":"> This is rclone just checking it isn't about to overwrite something on the destination - the ID matches the `Target` in the config you sent me.\n\nThe request is a file listing on the _target_? If I have that right, it could be an important clue. I have seen cases where Google Drive's internal indexing isn't immediate, which leads to this type of scenario:\n\n1. Copy/move file to target\n2. Get a listing of the target\n3. The file from Step 1 is missing in the listing\n4. Wait a bit\n5. Get a listing of the target\n6. The file from Step 1 is present in the listing\n\nTo work around that, I had to introduce a delay mechanism (Step 4) that would allow enough time for Google Drive's internal indexing to catch the new file and expose it via its APIs. I'm wondering if we might need something like that here, as well. If we know the file was transferred, then an empty response might need to be treated as a retriable error.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2822380442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2824594789","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2824594789","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2824594789,"node_id":"IC_kwDOAQ-n5M6oW-Vl","user":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-23T14:55:42Z","updated_at":"2025-04-23T14:55:42Z","body":"@ncw Just checking back on this one to see if there's anything I can do to help. We're getting some pressure from this customer to resolve the problem as soon as possible.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2824594789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17372922527,"node_id":"MEE_lADOAQ-n5M6zXCTezwAAAAQLgcKf","url":"https://api.github.com/repos/rclone/rclone/issues/events/17372922527","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-04-23T14:55:43Z","performed_via_github_app":null},{"id":17372922543,"node_id":"SE_lADOAQ-n5M6zXCTezwAAAAQLgcKv","url":"https://api.github.com/repos/rclone/rclone/issues/events/17372922543","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-04-23T14:55:43Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2824899706","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2824899706","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2824899706,"node_id":"IC_kwDOAQ-n5M6oYIx6","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-23T16:38:52Z","updated_at":"2025-04-23T16:38:52Z","body":"I was just working on this as your message came in!\n\nI've worked out the sequence of events causing the 400 error\n\nWhat rclone is doing when it does\n\n```\nPOST /drive/v3/files\n\n{\"copyRequiresWriterPermission\":true,\"folderColorRgb\":\"#8f8f8f\",\"mimeType\":\"application/vnd.google-apps.folder\",\"modifiedTime\":\"2022-10-18T16:18:05.107Z\",\"name\":\"Certifications\",\"parents\":[\"0AANTrkKukcbeUk9PVA\"]}\n```\n\nIs creating the directory `Certifications` on the destination root since it figured out it didn't exist in the previous call. The ID in the parents is the correct ID for this.\n\nWhat I suspect is that some metadata is being rejected by google which is causing the 400 error.\n\nCandidates:\n\n- `copyRequiresWriterPermission` - docs only mention **files** so this is a likely candidate\n- `folderColorRgb` - probably OK\n- `mimeType` - OK that is how you create directories with mime type `application/vnd.google-apps.folder`\n- `modifiedTime` - probably OK\n\nCan you remove `copyRequiresWriterPermission` in the response from the metadata mapper and see if that fixes it? If that doesn't help try removing other bits of metadata.\n\nIn the mean time I'll try to reproduce the problem here.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2824899706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2824956961","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2824956961","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2824956961,"node_id":"IC_kwDOAQ-n5M6oYWwh","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-23T17:00:01Z","updated_at":"2025-04-23T17:00:35Z","body":"I managed to reproduce this.\n\nRemoving the `\"copy-requires-writer-permission\"` from the metadata mapper output for directories should fix this and provide a quick fix for you.\n\nIn the longer term rclone should probably reject this for directories. Did you add this? Or did it come from metadata read on a directory? I guess a shortcut might have that field.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2824956961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2825101581","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2825101581","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2825101581,"node_id":"IC_kwDOAQ-n5M6oY6EN","user":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-23T18:01:28Z","updated_at":"2025-04-23T18:01:28Z","body":"@ncw The `copy-requires-writer-permission` property is being sent from Rclone, so it is in the object that is returned. That is shown here:\n\n```\n2025/04/21 11:29:38 DEBUG : Metadata mapper sent: \n{\n\t\"SrcFs\": \"Source{ynmXe}:\",\n\t\"SrcFsType\": \"drive\",\n\t\"DstFs\": \"Target{ynmXe}:\",\n\t\"DstFsType\": \"drive\",\n\t\"Remote\": \"Certifications\",\n\t\"Size\": 0,\n\t\"MimeType\": \"application/vnd.google-apps.folder\",\n\t\"ModTime\": \"2022-10-18T16:18:05.107Z\",\n\t\"IsDir\": false,\n\t\"ID\": \"1nqPz4WLPbEiMu_ZXTJVeSu7BXng-z2EH\",\n\t\"Metadata\": {\n\t\t\"btime\": \"2022-10-18T16:18:05.107Z\",\n\t\t\"content-type\": \"application/vnd.google-apps.folder\",\n\t\t\"copy-requires-writer-permission\": \"true\",\n\t\t\"folder-color-rgb\": \"#8f8f8f\",\n\t\t\"mtime\": \"2022-10-18T16:18:05.107Z\",\n\t\t\"starred\": \"false\",\n\t\t\"viewed-by-me\": \"false\",\n\t\t\"writers-can-share\": \"false\"\n\t}\n}\n2025/04/21 11:29:41 DEBUG : Metadata mapper received: \n{\n  \"SrcFs\": \"Source{ynmXe}:\",\n  \"SrcFsType\": \"drive\",\n  \"DstFs\": \"Target{ynmXe}:\",\n  \"DstFsType\": \"drive\",\n  \"Remote\": \"Certifications\",\n  \"Size\": 0,\n  \"MimeType\": \"application/vnd.google-apps.folder\",\n  \"ModTime\": \"2022-10-18T16:18:05.107Z\",\n  \"IsDir\": false,\n  \"ID\": \"1nqPz4WLPbEiMu_ZXTJVeSu7BXng-z2EH\",\n  \"Metadata\": {\n    \"btime\": \"2022-10-18T16:18:05.107Z\",\n    \"content-type\": \"application/vnd.google-apps.folder\",\n    \"copy-requires-writer-permission\": \"true\",\n    \"folder-color-rgb\": \"#8f8f8f\",\n    \"mtime\": \"2022-10-18T16:18:05.107Z\",\n    \"starred\": \"false\",\n    \"viewed-by-me\": \"false\",\n    \"writers-can-share\": \"false\"\n  }\n}\n```\n\nAre you saying it should be removed by the mapper in all cases where the MimeType is `application/vnd.google-apps.folder`? We've done many migrations with this code, so I'm not sure why this is the first we've seen of the problem.\n\nI can try it to see what happens.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2825101581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17376051695,"node_id":"MEE_lADOAQ-n5M6zXCTezwAAAAQLsYHv","url":"https://api.github.com/repos/rclone/rclone/issues/events/17376051695","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-04-23T18:01:30Z","performed_via_github_app":null},{"id":17376051709,"node_id":"SE_lADOAQ-n5M6zXCTezwAAAAQLsYH9","url":"https://api.github.com/repos/rclone/rclone/issues/events/17376051709","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-04-23T18:01:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2825190790","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2825190790","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2825190790,"node_id":"IC_kwDOAQ-n5M6oZP2G","user":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-23T18:42:21Z","updated_at":"2025-04-23T18:42:21Z","body":"I think I can explain the root cause of this issue. When Rclone receives `\"copy-requires-folder-permission\" \"true\"`, it includes that property in the POST. For example:\n\n```\n2025/04/23 13:32:15 DEBUG : POST /drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Csha1Checksum%2Csha256Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks%2CresourceKey%2CcopyRequiresWriterPermission%2Cdescription%2CfolderColorRgb%2ChasAugmentedPermissions%2Cowners%2CpermissionIds%2Cpermissions%2Cproperties%2Cstarred%2CviewedByMe%2CviewedByMeTime%2CwritersCanShare&prettyPrint=false&supportsAllDrives=true HTTP/1.1\n{\"copyRequiresWriterPermission\":true,\"description\":\"Test\",\"folderColorRgb\":\"#8f8f8f\",\"mimeType\":\"application/vnd.google-apps.folder\",\"modifiedTime\":\"2024-04-25T16:27:03.731Z\",\"name\":\"Test\",\"parents\":[\"0AMsRfMitPrtiUk9PVA\"]}\n\n2025/04/23 13:32:15 DEBUG : HTTP RESPONSE (req 0xc000a4edc0)\n2025/04/23 13:32:15 DEBUG : HTTP/1.1 400 Bad Request\n```\n\nBut when Rclone receives `\"copy-requires-folder-permission\" \"false\"`, that property is omitted from the POST, like here:\n\n```\n2025/04/23 13:21:24 DEBUG : POST /drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Csha1Checksum%2Csha256Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks%2CresourceKey%2CcopyRequiresWriterPermission%2Cdescription%2CfolderColorRgb%2ChasAugmentedPermissions%2Cowners%2CpermissionIds%2Cpermissions%2Cproperties%2Cstarred%2CviewedByMe%2CviewedByMeTime%2CwritersCanShare&prettyPrint=false&supportsAllDrives=true HTTP/1.1\n{\"description\":\"Test\",\"folderColorRgb\":\"#8f8f8f\",\"mimeType\":\"application/vnd.google-apps.folder\",\"modifiedTime\":\"2024-04-25T16:27:03.731Z\",\"name\":\"Test\",\"parents\":[\"0AMsRfMitPrtiUk9PVA\"]}\n\n2025/04/23 13:21:24 DEBUG : HTTP RESPONSE (req 0xc0009d28c0)\n2025/04/23 13:21:24 DEBUG : HTTP/1.1 200 OK\n```\n\nThat property is configured on the shared drive, as shown below. When toggled, `copy-requires-folder-permission` is `false`, and when untoggled, it is `true`. In my environment, it is toggled by default, so I've never seen this problem manifest.\n\n![Image](https://github.com/user-attachments/assets/765d16a7-f9b8-40d5-ba6d-f90bb31e57a5)\n\nNote that this can also be configured at the tenant level, here:\n\n![Image](https://github.com/user-attachments/assets/1074e07a-c197-494e-9049-199456280949)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2825190790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17389916650,"node_id":"REFE_lADOAQ-n5M6zXCTezwAAAAQMhRHq","url":"https://api.github.com/repos/rclone/rclone/issues/events/17389916650","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"febe508ca79df8314872bb4b5dd41c9778d5c74d","commit_url":"https://api.github.com/repos/rclone/rclone/commits/febe508ca79df8314872bb4b5dd41c9778d5c74d","created_at":"2025-04-24T12:54:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2827531893","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2827531893","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2827531893,"node_id":"IC_kwDOAQ-n5M6oiLZ1","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-24T12:57:04Z","updated_at":"2025-04-24T12:57:04Z","body":"> The `copy-requires-writer-permission` property is being sent from Rclone, so it is in the object that is returned. That is shown here:\n\nAh, so rclone should remove that if it is a directory. That would fix things I think.\n\n> Are you saying it should be removed by the mapper in all cases where the MimeType is `application/vnd.google-apps.folder`? We've done many migrations with this code, so I'm not sure why this is the first we've seen of the problem.\n\nYes that is correct. It should be a quick workaround. I will get rclone to ignore it if provided which will fix the problem properly.\n\n> I can try it to see what happens.\n\nDid it work?\n\n> I think I can explain the root cause of this issue. When Rclone receives \"copy-requires-folder-permission\" \"true\", it includes that property in the POST.\n\nI think you meant \"copy-requires-writer-permission\" above instead of \"copy-requires-folder-permission\" - assuming that then I agree with the diagnosis - when `copy-requires-writer-permission=false` it is left out of the update JSON and when `copy-requires-writer-permission=true` it is included. This is a direct consequence of this line in the Google SDK\n\n```go\ntype File struct {\n        // ...\n\tCopyRequiresWriterPermission bool `json:\"copyRequiresWriterPermission,omitempty\"`\n\t// CreatedTime: The time at which the file was created (RFC 3339 date-time).\n```\n\nThe `omitempty` says omit the field if it is at its default, ie `false`.\n\nSo that explains why we haven't seen the problem before.\n\nI've fixed this in rclone by ignoring \"copy-requires-folder-permission\" when it is supplied to rclone (I didn't stop it being returned to the mapper).\n\n[v1.70.0-beta.8715.febe508ca.fix-8517-drive-metadata](https://beta.rclone.org/branch/fix-8517-drive-metadata/v1.70.0-beta.8715.febe508ca.fix-8517-drive-metadata/) on branch [fix-8517-drive-metadata](https://github.com/rclone/rclone/tree/fix-8517-drive-metadata) (uploaded in 15-30 mins)\n\nThis will give a debug\n\n```\n2025/04/24 13:51:56 DEBUG : Google drive root '': Ignoring copy-requires-writer-permission=true as can't set on folders\n```\n\n\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2827531893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2827747509","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2827747509","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2827747509,"node_id":"IC_kwDOAQ-n5M6ojAC1","user":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-24T14:03:37Z","updated_at":"2025-04-24T14:03:37Z","body":"> Did it work?\n\nYep, working well if I omit that from what the mapper returns to Rclone.\n\n> I think you meant \"copy-requires-writer-permission\" above instead of \"copy-requires-folder-permission\" - assuming that then I agree with the diagnosis - when `copy-requires-writer-permission=false` it is left out of the update JSON and when `copy-requires-writer-permission=true` it is included. This is a direct consequence of this line in the Google SDK\n\n> [v1.70.0-beta.8715.febe508ca.fix-8517-drive-metadata](https://beta.rclone.org/branch/fix-8517-drive-metadata/v1.70.0-beta.8715.febe508ca.fix-8517-drive-metadata/) on branch [fix-8517-drive-metadata](https://github.com/rclone/rclone/tree/fix-8517-drive-metadata) (uploaded in 15-30 mins)\n> \n> This will give a debug\n> \n> ```\n> 2025/04/24 13:51:56 DEBUG : Google drive root '': Ignoring copy-requires-writer-permission=true as can't set on folders\n> ```\n\nI'll give this a shot and confirm.\n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2827747509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2827783266","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2827783266","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2827783266,"node_id":"IC_kwDOAQ-n5M6ojIxi","user":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-24T14:13:42Z","updated_at":"2025-04-24T14:13:42Z","body":"The fix works. Thank you for the quick turnaround!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2827783266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chscott","id":9805298,"node_id":"MDQ6VXNlcjk4MDUyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/9805298?v=4","gravatar_id":"","url":"https://api.github.com/users/chscott","html_url":"https://github.com/chscott","followers_url":"https://api.github.com/users/chscott/followers","following_url":"https://api.github.com/users/chscott/following{/other_user}","gists_url":"https://api.github.com/users/chscott/gists{/gist_id}","starred_url":"https://api.github.com/users/chscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chscott/subscriptions","organizations_url":"https://api.github.com/users/chscott/orgs","repos_url":"https://api.github.com/users/chscott/repos","events_url":"https://api.github.com/users/chscott/events{/privacy}","received_events_url":"https://api.github.com/users/chscott/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17404786908,"node_id":"CE_lADOAQ-n5M6zXCTezwAAAAQNZ_jc","url":"https://api.github.com/repos/rclone/rclone/issues/events/17404786908","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"1f8373fae8a2a059aa5a0d5d145ef434ca3feb3e","commit_url":"https://api.github.com/repos/rclone/rclone/commits/1f8373fae8a2a059aa5a0d5d145ef434ca3feb3e","created_at":"2025-04-25T11:15:55Z","state_reason":null,"performed_via_github_app":null},{"id":17404789793,"node_id":"REFE_lADOAQ-n5M6zXCTezwAAAAQNaAQh","url":"https://api.github.com/repos/rclone/rclone/issues/events/17404789793","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1f8373fae8a2a059aa5a0d5d145ef434ca3feb3e","commit_url":"https://api.github.com/repos/dreamoeu/rclone/commits/1f8373fae8a2a059aa5a0d5d145ef434ca3feb3e","created_at":"2025-04-25T11:16:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2830131008","html_url":"https://github.com/rclone/rclone/issues/8517#issuecomment-2830131008","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8517","id":2830131008,"node_id":"IC_kwDOAQ-n5M6osF9A","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-25T11:16:21Z","updated_at":"2025-04-25T11:16:21Z","body":"Glad it is working :-)\n\nI've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org/) in 15-30 minutes and released in v1.70 ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2830131008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17404793686,"node_id":"MIE_lADOAQ-n5M6zXCTezwAAAAQNaBNW","url":"https://api.github.com/repos/rclone/rclone/issues/events/17404793686","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2025-04-25T11:16:30Z","milestone":{"title":"v1.70"},"performed_via_github_app":null},{"id":17475030087,"node_id":"REFE_lADOAQ-n5M6zXCTezwAAAAQRl8xH","url":"https://api.github.com/repos/rclone/rclone/issues/events/17475030087","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"07bb122d474b8df3ec684378e48e09816a38ff1b","commit_url":"https://api.github.com/repos/rclone/rclone/commits/07bb122d474b8df3ec684378e48e09816a38ff1b","created_at":"2025-04-30T15:14:01Z","performed_via_github_app":null}]