{"url":"https://api.github.com/repos/rclone/rclone/issues/4517","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4517/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4517/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4517/events","html_url":"https://github.com/rclone/rclone/issues/4517","id":681150761,"node_id":"MDU6SXNzdWU2ODExNTA3NjE=","number":4517,"title":"drive: Server side copy for sheets/docs does not set the correct modtime","user":{"login":"hinterland-1","id":69861817,"node_id":"MDQ6VXNlcjY5ODYxODE3","avatar_url":"https://avatars.githubusercontent.com/u/69861817?v=4","gravatar_id":"","url":"https://api.github.com/users/hinterland-1","html_url":"https://github.com/hinterland-1","followers_url":"https://api.github.com/users/hinterland-1/followers","following_url":"https://api.github.com/users/hinterland-1/following{/other_user}","gists_url":"https://api.github.com/users/hinterland-1/gists{/gist_id}","starred_url":"https://api.github.com/users/hinterland-1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hinterland-1/subscriptions","organizations_url":"https://api.github.com/users/hinterland-1/orgs","repos_url":"https://api.github.com/users/hinterland-1/repos","events_url":"https://api.github.com/users/hinterland-1/events{/privacy}","received_events_url":"https://api.github.com/users/hinterland-1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":306062764,"node_id":"MDU6TGFiZWwzMDYwNjI3NjQ=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Drive","name":"Remote: Drive","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/18","html_url":"https://github.com/rclone/rclone/milestone/18","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/18/labels","id":1832726,"node_id":"MDk6TWlsZXN0b25lMTgzMjcyNg==","number":18,"title":"Known Problem","description":"This milestone contains issues which are known problems which are proving difficult to fix, or are awaiting an external fix or we haven't got round to yet.","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":70,"closed_issues":148,"state":"open","created_at":"2016-06-16T16:59:54Z","updated_at":"2025-08-25T17:05:37Z","due_on":null,"closed_at":null},"comments":11,"created_at":"2020-08-18T15:52:05Z","updated_at":"2020-11-11T19:51:57Z","closed_at":"2020-08-19T12:45:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n\r\nWelcome :-) We understand you are having a problem with rclone; we want to help you with that!\r\n\r\nIf you've just got a question or aren't sure if you've found a bug then please use the rclone forum:\r\n\r\n    https://forum.rclone.org/\r\n\r\ninstead of filing an issue for a quick response.\r\n\r\nIf you think you might have found a bug, please can you try to replicate it with the latest beta?\r\n\r\n    https://beta.rclone.org/\r\n    \r\nIf you can still replicate it with the latest beta, then please fill in the info below which makes our lives much easier.  A log with -vv will make our day :-)\r\n\r\nThank you\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n#### What is the problem you are having with rclone?\r\nRclone sync with server side copy enable does not copy the modtime correctly for google files which results in duplicates being made every time rclone sync is run. \r\n\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nrclone v1.52.3\r\n- os/arch: windows/amd64\r\n- go version: go1.14.7\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\nWindows 10, 64 bit\r\n\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\nGoogle Team Drive syncing to another Google Team Drive\r\n\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\nrclone sync \"Academic Resources:Test Folder\" \"Archive:Test Folder\" --drive-server-side-across-configs -vv\r\n\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n**Original Command**\r\nC:\\rclone>rclone sync \"Academic Resources:Test Folder\" \"Archive:Test Folder\" --drive-server-side-across-configs -vv\r\n2020/08/15 10:25:34 DEBUG : rclone: Version \"v1.52.2\" starting with parameters [\"rclone\" \"sync\" \"Academic Resources:Test Folder\" \"Archive:Test Folder\" \"--drive-server-side-across-configs\" \"-vv\"]\r\n2020/08/15 10:25:34 DEBUG : Using config file from \"C:\\\\Users\\\\Qiang\\\\.config\\\\rclone\\\\rclone.conf\"\r\n2020/08/15 10:25:36 DEBUG : Google drive root 'Test Folder': Waiting for checks to finish\r\n2020/08/15 10:25:36 DEBUG : Google drive root 'Test Folder': Waiting for transfers to finish\r\n2020/08/15 10:25:39 INFO  : Test Google Sheets.xlsx: Copied (server side copy)\r\n2020/08/15 10:25:39 DEBUG : Waiting for deletions to finish\r\n2020/08/15 10:25:39 INFO  :\r\nTransferred:           off / off, -, 0 Bytes/s, ETA -\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         3.0s\r\n\r\n2020/08/15 10:25:39 DEBUG : 6 go routines active\r\n\r\nC:\\rclone>rclone sync \"Academic Resources:Test Folder\" \"Archive:Test Folder\" --drive-server-side-across-configs -vv\r\n2020/08/15 10:25:40 DEBUG : rclone: Version \"v1.52.2\" starting with parameters [\"rclone\" \"sync\" \"Academic Resources:Test Folder\" \"Archive:Test Folder\" \"--drive-server-side-across-configs\" \"-vv\"]\r\n2020/08/15 10:25:40 DEBUG : Using config file from \"C:\\\\Users\\\\Qiang\\\\.config\\\\rclone\\\\rclone.conf\"\r\n2020/08/15 10:25:42 DEBUG : Google drive root 'Test Folder': Waiting for checks to finish\r\n2020/08/15 10:25:42 DEBUG : Test Google Sheets.xlsx: Modification times differ by 8m6.607s: 2020-08-15 14:17:30.645 +0000 UTC, 2020-08-15 14:25:37.252 +0000 UTC\r\n2020/08/15 10:25:42 DEBUG : Google drive root 'Test Folder': Waiting for transfers to finish\r\n2020/08/15 10:25:46 INFO  : Test Google Sheets.xlsx: Copied (server side copy)\r\n2020/08/15 10:25:46 DEBUG : Waiting for deletions to finish\r\n2020/08/15 10:25:46 INFO  :\r\nTransferred:           off / off, -, 0 Bytes/s, ETA -\r\nChecks:                 1 / 1, 100%\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         4.1s\r\n\r\n2020/08/15 10:25:46 DEBUG : 6 go routines active\r\n\r\n\r\n\r\n\r\n**I Emptied the Destination Folder and Reran with the same command except I added the flag--size-only:**\r\nC:\\rclone>rclone sync \"Academic Resources:Test Folder\" \"Archive:Test Folder\" --drive-server-side-across-configs -vv --size-only\r\n2020/08/15 10:34:08 DEBUG : rclone: Version \"v1.52.2\" starting with parameters [\"rclone\" \"sync\" \"Academic Resources:Test Folder\" \"Archive:Test Folder\" \"--drive-server-side-across-configs\" \"-vv\" \"--size-only\"]\r\n2020/08/15 10:34:08 DEBUG : Using config file from \"C:\\\\Users\\\\Qiang\\\\.config\\\\rclone\\\\rclone.conf\"\r\n2020/08/15 10:34:10 DEBUG : Google drive root 'Test Folder': Waiting for checks to finish\r\n2020/08/15 10:34:10 DEBUG : Google drive root 'Test Folder': Waiting for transfers to finish\r\n2020/08/15 10:34:14 INFO  : Test Google Sheets.xlsx: Copied (server side copy)\r\n2020/08/15 10:34:14 DEBUG : Waiting for deletions to finish\r\n2020/08/15 10:34:14 INFO  :\r\nTransferred:           off / off, -, 0 Bytes/s, ETA -\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         3.6s\r\n\r\n2020/08/15 10:34:14 DEBUG : 6 go routines active\r\n\r\nC:\\rclone>rclone sync \"Academic Resources:Test Folder\" \"Archive:Test Folder\" --drive-server-side-across-configs -vv --size-only\r\n2020/08/15 10:34:17 DEBUG : rclone: Version \"v1.52.2\" starting with parameters [\"rclone\" \"sync\" \"Academic Resources:Test Folder\" \"Archive:Test Folder\" \"--drive-server-side-across-configs\" \"-vv\" \"--size-only\"]\r\n2020/08/15 10:34:17 DEBUG : Using config file from \"C:\\\\Users\\\\Qiang\\\\.config\\\\rclone\\\\rclone.conf\"\r\n2020/08/15 10:34:18 DEBUG : Google drive root 'Test Folder': Waiting for checks to finish\r\n2020/08/15 10:34:18 DEBUG : Test Google Sheets.xlsx: Sizes identical\r\n2020/08/15 10:34:18 DEBUG : Test Google Sheets.xlsx: Unchanged skipping\r\n2020/08/15 10:34:18 DEBUG : Google drive root 'Test Folder': Waiting for transfers to finish\r\n2020/08/15 10:34:18 DEBUG : Waiting for deletions to finish\r\n2020/08/15 10:34:18 INFO  : There was nothing to transfer\r\n2020/08/15 10:34:18 INFO  :\r\nTransferred:             0 / 0 Bytes, -, 0 Bytes/s, ETA -\r\nChecks:                 1 / 1, 100%\r\nElapsed time:         0.0s\r\n\r\n2020/08/15 10:34:18 DEBUG : 6 go routines active\r\n\r\n\r\n\r\n\r\n**I Emptied the destination folder again and I removed the flag and I turned on sharing by link on the original file:**\r\nC:\\rclone>rclone sync \"Academic Resources:Test Folder\" \"Archive:Test Folder\" --drive-server-side-across-configs -vv\r\n2020/08/15 10:37:52 DEBUG : rclone: Version \"v1.52.2\" starting with parameters [\"rclone\" \"sync\" \"Academic Resources:Test Folder\" \"Archive:Test Folder\" \"--drive-server-side-across-configs\" \"-vv\"]\r\n2020/08/15 10:37:52 DEBUG : Using config file from \"C:\\\\Users\\\\Qiang\\\\.config\\\\rclone\\\\rclone.conf\"\r\n2020/08/15 10:37:55 DEBUG : Google drive root 'Test Folder': Waiting for checks to finish\r\n2020/08/15 10:37:55 DEBUG : Google drive root 'Test Folder': Waiting for transfers to finish\r\n2020/08/15 10:37:58 INFO  : Test Google Sheets.xlsx: Copied (server side copy)\r\n2020/08/15 10:37:58 DEBUG : Waiting for deletions to finish\r\n2020/08/15 10:37:58 INFO  :\r\nTransferred:           off / off, -, 0 Bytes/s, ETA -\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         3.0s\r\n\r\n2020/08/15 10:37:58 DEBUG : 6 go routines active\r\n\r\nC:\\rclone>rclone sync \"Academic Resources:Test Folder\" \"Archive:Test Folder\" --drive-server-side-across-configs -vv\r\n2020/08/15 10:38:00 DEBUG : rclone: Version \"v1.52.2\" starting with parameters [\"rclone\" \"sync\" \"Academic Resources:Test Folder\" \"Archive:Test Folder\" \"--drive-server-side-across-configs\" \"-vv\"]\r\n2020/08/15 10:38:00 DEBUG : Using config file from \"C:\\\\Users\\\\Qiang\\\\.config\\\\rclone\\\\rclone.conf\"\r\n2020/08/15 10:38:01 DEBUG : Google drive root 'Test Folder': Waiting for checks to finish\r\n2020/08/15 10:38:01 DEBUG : Test Google Sheets.xlsx: Modification times differ by 1m16.902s: 2020-08-15 14:36:39.536 +0000 UTC, 2020-08-15 14:37:56.438 +0000 UTC\r\n2020/08/15 10:38:01 DEBUG : Google drive root 'Test Folder': Waiting for transfers to finish\r\n2020/08/15 10:38:06 INFO  : Test Google Sheets.xlsx: Copied (server side copy)\r\n2020/08/15 10:38:06 DEBUG : Waiting for deletions to finish\r\n2020/08/15 10:38:06 INFO  :\r\nTransferred:           off / off, -, 0 Bytes/s, ETA -\r\nChecks:                 1 / 1, 100%\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         4.5s\r\n\r\n2020/08/15 10:38:06 DEBUG : 6 go routines active","closed_by":{"login":"hinterland-1","id":69861817,"node_id":"MDQ6VXNlcjY5ODYxODE3","avatar_url":"https://avatars.githubusercontent.com/u/69861817?v=4","gravatar_id":"","url":"https://api.github.com/users/hinterland-1","html_url":"https://github.com/hinterland-1","followers_url":"https://api.github.com/users/hinterland-1/followers","following_url":"https://api.github.com/users/hinterland-1/following{/other_user}","gists_url":"https://api.github.com/users/hinterland-1/gists{/gist_id}","starred_url":"https://api.github.com/users/hinterland-1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hinterland-1/subscriptions","organizations_url":"https://api.github.com/users/hinterland-1/orgs","repos_url":"https://api.github.com/users/hinterland-1/repos","events_url":"https://api.github.com/users/hinterland-1/events{/privacy}","received_events_url":"https://api.github.com/users/hinterland-1/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4517/timeline","performed_via_github_app":null,"state_reason":"completed"}