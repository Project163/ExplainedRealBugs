{"url":"https://api.github.com/repos/rclone/rclone/issues/2215","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2215/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2215/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2215/events","html_url":"https://github.com/rclone/rclone/issues/2215","id":311739878,"node_id":"MDU6SXNzdWUzMTE3Mzk4Nzg=","number":2215,"title":"Plex integration with HTTPS requires a valid certificate if securitymode=required","user":{"login":"kelinger","id":11468127,"node_id":"MDQ6VXNlcjExNDY4MTI3","avatar_url":"https://avatars.githubusercontent.com/u/11468127?v=4","gravatar_id":"","url":"https://api.github.com/users/kelinger","html_url":"https://github.com/kelinger","followers_url":"https://api.github.com/users/kelinger/followers","following_url":"https://api.github.com/users/kelinger/following{/other_user}","gists_url":"https://api.github.com/users/kelinger/gists{/gist_id}","starred_url":"https://api.github.com/users/kelinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kelinger/subscriptions","organizations_url":"https://api.github.com/users/kelinger/orgs","repos_url":"https://api.github.com/users/kelinger/repos","events_url":"https://api.github.com/users/kelinger/events{/privacy}","received_events_url":"https://api.github.com/users/kelinger/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-04-05T19:29:39Z","updated_at":"2018-09-10T20:19:26Z","closed_at":"2018-09-10T20:19:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"From this discussion:  [https://forum.rclone.org/t/is-this-normal-plex-websocket-eof/5240](url)\r\n\r\n#### What is the problem you are having with rclone?\r\n\r\nBasically, when using HTTPS because the Plex Server has \"required\" enabled for secure connections, the Plex clients have no issues connecting to the server, even if the server is using a self-signed certificate (browsers, of course, complain, but even plex.tv integration still works without complaint).  However, rclone itself does not integrate but gives the very cryptic error:\r\n\r\n`ERROR : plex: websocket.Dial ws://1.2.3.4:32400/:/websockets/notifications?X-Plex-Token=---redacted---: unexpected EOF`\r\n\r\nSince even those using valid certificates are most likely connecting from rclone to Plex via the LAN instead of the WAN, the certificate may still appear invalid for 127.0.0.1 or internal IP addresses (which, as far as I know, aren't supported by Let's Encrypt for obvious reasons).  Of course, one could workaround this issue with creating DNS or host-file entries but, ideally, there would be a flag/option to tell rclone to ignore certificate errors.\r\n\r\n#### What is your rclone version (eg output from `rclone -V`)\r\n\r\nHappens on all versions with Plex-integration support up to and including current beta.  I'm using v1.40-043-g92c5aa37Î² right now.\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\n\r\nUbuntu 17.10 64-bit\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\n\r\nGoogle Drive\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n\r\nPlex integration configuration in rclone.conf\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n`2018/04/01 13:36:02 INFO  : GoogleCache: Connected to Plex server: https://10.10.10.11:32400\r\n2018/04/01 13:36:02 ERROR : plex: websocket.Dial ws://10.10.10.11:32400/:/websockets/notifications?X-Plex-Token=---redacted---: unexpected EOF`\r\n\r\n(note that 10.10.10.11 is the Plex server which, in my case, is NOT the same server running rclone mount)","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2215/timeline","performed_via_github_app":null,"state_reason":"completed"}