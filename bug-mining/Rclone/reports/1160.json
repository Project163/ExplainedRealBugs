{"url":"https://api.github.com/repos/rclone/rclone/issues/6964","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/6964/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/6964/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/6964/events","html_url":"https://github.com/rclone/rclone/issues/6964","id":1678057814,"node_id":"I_kwDOAQ-n5M5kBSFW","number":6964,"title":"Webdav: server side copy or move doesn't overwrite","user":{"login":"WeidiDeng","id":28780594,"node_id":"MDQ6VXNlcjI4NzgwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/28780594?v=4","gravatar_id":"","url":"https://api.github.com/users/WeidiDeng","html_url":"https://github.com/WeidiDeng","followers_url":"https://api.github.com/users/WeidiDeng/followers","following_url":"https://api.github.com/users/WeidiDeng/following{/other_user}","gists_url":"https://api.github.com/users/WeidiDeng/gists{/gist_id}","starred_url":"https://api.github.com/users/WeidiDeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeidiDeng/subscriptions","organizations_url":"https://api.github.com/users/WeidiDeng/orgs","repos_url":"https://api.github.com/users/WeidiDeng/repos","events_url":"https://api.github.com/users/WeidiDeng/events{/privacy}","received_events_url":"https://api.github.com/users/WeidiDeng/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":795993695,"node_id":"MDU6TGFiZWw3OTU5OTM2OTU=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20WebDAV","name":"Remote: WebDAV","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-04-21T07:59:15Z","updated_at":"2023-04-24T13:36:20Z","closed_at":"2023-04-24T13:35:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello, I'm using webdav to sync two folders on my webdav server. But the sync always fail with 419 precondition failed.\r\n\r\nThe two folders have files with the same name and these files are causing the problems. The server is customized golang webdav server and it reproducible using `rclone serve webdav`.\r\n\r\nAfter digging the request log and reading source code. I find it's because rclone specifying the wrong `Overwrite` header [here](https://github.com/rclone/rclone/blob/master/backend/webdav/webdav.go#L1050) and [here](https://github.com/rclone/rclone/blob/master/backend/webdav/webdav.go#L1150).\r\n\r\nGolang webdav handles this header [here](https://github.com/golang/net/blob/master/webdav/webdav.go#L373) and [here](https://github.com/golang/net/blob/master/webdav/webdav.go#L390).","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/6964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/6964/timeline","performed_via_github_app":null,"state_reason":"completed"}