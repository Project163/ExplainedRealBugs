{"url":"https://api.github.com/repos/rclone/rclone/issues/2801","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2801/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2801/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2801/events","html_url":"https://github.com/rclone/rclone/issues/2801","id":385547520,"node_id":"MDU6SXNzdWUzODU1NDc1MjA=","number":2801,"title":"Use same or relative path for backups when files will be modified/deleted: --suffix without --backup-dir","user":{"login":"imthenachoman","id":83817,"node_id":"MDQ6VXNlcjgzODE3","avatar_url":"https://avatars.githubusercontent.com/u/83817?v=4","gravatar_id":"","url":"https://api.github.com/users/imthenachoman","html_url":"https://github.com/imthenachoman","followers_url":"https://api.github.com/users/imthenachoman/followers","following_url":"https://api.github.com/users/imthenachoman/following{/other_user}","gists_url":"https://api.github.com/users/imthenachoman/gists{/gist_id}","starred_url":"https://api.github.com/users/imthenachoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imthenachoman/subscriptions","organizations_url":"https://api.github.com/users/imthenachoman/orgs","repos_url":"https://api.github.com/users/imthenachoman/repos","events_url":"https://api.github.com/users/imthenachoman/events{/privacy}","received_events_url":"https://api.github.com/users/imthenachoman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/36","html_url":"https://github.com/rclone/rclone/milestone/36","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/36/labels","id":4231972,"node_id":"MDk6TWlsZXN0b25lNDIzMTk3Mg==","number":36,"title":"v1.49","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2019-04-15T17:12:48Z","updated_at":"2019-08-27T09:35:39Z","due_on":"2019-08-24T07:00:00Z","closed_at":"2019-08-27T09:35:39Z"},"comments":4,"created_at":"2018-11-29T02:58:39Z","updated_at":"2019-07-01T09:47:34Z","closed_at":"2019-07-01T09:46:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I think it would be awesome if `rclone` could make backups in the same folder as the original file and/or a folder relative to the same folder.\r\n\r\nFor example:\r\n\r\n- backup `remote:drive:/path/to/file.txt` to `remote:drive:/path/to/file.txt.20181124`\r\n- backup `remote:drive:/path/to/file.txt` to `remote:drive:/path/to/backups/file.txt.20181124`\r\n\r\nI was hoping to add this enhancement to the code myself but I cannot figure out the code. I know, at minimum, lines 147-148 in `rclone/fs/config/configflags/configflags.go` would need to be modified to allow `--suffix` without `--backup-dir`. I can tell some other files need to be updated like `sync.go` but can't make sense of `rclone`'s code structure to know everywhere that would need to be updated. If someone is willing to point me in the right direction I would add and test the enhancement myself then submit a pull request. ","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2801/timeline","performed_via_github_app":null,"state_reason":"completed"}