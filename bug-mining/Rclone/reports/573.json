{"url":"https://api.github.com/repos/rclone/rclone/issues/2911","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2911/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2911/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2911/events","html_url":"https://github.com/rclone/rclone/issues/2911","id":398761240,"node_id":"MDU6SXNzdWUzOTg3NjEyNDA=","number":2911,"title":"fuse: panic in handler for Rename - runtime error: invalid memory address or nil pointer dereference","user":{"login":"xkvnn","id":15854252,"node_id":"MDQ6VXNlcjE1ODU0MjUy","avatar_url":"https://avatars.githubusercontent.com/u/15854252?v=4","gravatar_id":"","url":"https://api.github.com/users/xkvnn","html_url":"https://github.com/xkvnn","followers_url":"https://api.github.com/users/xkvnn/followers","following_url":"https://api.github.com/users/xkvnn/following{/other_user}","gists_url":"https://api.github.com/users/xkvnn/gists{/gist_id}","starred_url":"https://api.github.com/users/xkvnn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xkvnn/subscriptions","organizations_url":"https://api.github.com/users/xkvnn/orgs","repos_url":"https://api.github.com/users/xkvnn/repos","events_url":"https://api.github.com/users/xkvnn/events{/privacy}","received_events_url":"https://api.github.com/users/xkvnn/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":430778096,"node_id":"MDU6TGFiZWw0MzA3NzgwOTY=","url":"https://api.github.com/repos/rclone/rclone/labels/VFS%20/%20mount","name":"VFS / mount","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/33","html_url":"https://github.com/rclone/rclone/milestone/33","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/33/labels","id":3752396,"node_id":"MDk6TWlsZXN0b25lMzc1MjM5Ng==","number":33,"title":"v1.46","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"closed","created_at":"2018-10-19T14:56:28Z","updated_at":"2019-02-09T18:12:01Z","due_on":"2019-02-09T08:00:00Z","closed_at":"2019-02-09T18:11:23Z"},"comments":9,"created_at":"2019-01-14T06:19:45Z","updated_at":"2019-01-15T17:35:52Z","closed_at":"2019-01-14T12:08:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\nThe disk mounted on Ubuntu Server. Rename file from Windows via samba service.\r\n\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nv1.45\r\n\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\nUbuntu Server 18.04 64 bit\r\n\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\nGoogle Drive\r\n\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n> rclone mount drive: /mnt/GDrive1/ --allow-non-empty --allow-other -no-modtime --dir-cache-time 1h\r\n\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n```\r\n2019/01/14 13:06:56 DEBUG : Media/: Rename: oldName=\"01 - 1080p.mkv\", newName=\"01.mkv\", newDir=Media/\r\n2019/01/14 13:06:56 NOTICE: Media/01 - 1080p.mkv: Not moving as --dry-run\r\n2019/01/14 13:06:56 DEBUG : Media/01 - 1080p.mkv: Updating file with <nil> 0xc0003af400\r\n2019/01/14 13:06:56 DEBUG : Media/: >Rename: err=<nil>\r\n2019/01/14 13:06:56 fuse: panic in handler for Rename [ID=0x230 Node=0x10 Uid=1000 Gid=1004 Pid=22603] from \"01 - 1080p.mkv\" to dirnode 0x10 \"01.mkv\": runtime error: invalid memory address or nil pointer dereference\r\ngoroutine 620 [running]:\r\ngithub.com/ncw/rclone/vendor/bazil.org/fuse/fs.(*Server).serve.func2(0x13a8f40, 0xc0000726c0, 0xc00048fef8, 0xc00048fe77)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vendor/bazil.org/fuse/fs/serve.go:857 +0x1ac\r\npanic(0x1066d80, 0x1cf2f20)\r\n        /home/travis/.gimme/versions/go1.11.2.linux.amd64/src/runtime/panic.go:513 +0x1b9\r\ngithub.com/ncw/rclone/vfs.(*File).rename.func1(0x1126500, 0xc00063b860)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vfs/file.go:132 +0x267\r\ngithub.com/ncw/rclone/vfs.(*File).rename(0xc0003af400, 0xc000520360, 0xc0002ceb00, 0x1c, 0xc000454580, 0x1)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vfs/file.go:148 +0x22f\r\ngithub.com/ncw/rclone/vfs.(*Dir).Rename(0xc000520360, 0xc0004f2270, 0x24, 0xc0002ceb00, 0x1c, 0xc000520360, 0x1, 0xc00063b830)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vfs/dir.go:569 +0x712\r\ngithub.com/ncw/rclone/cmd/mount.(*Dir).Rename(0xc0000b00b0, 0x13aa840, 0xc0004115c0, 0xc0000726c0, 0x139d900, 0xc0000b00b0, 0x1, 0x1)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/cmd/mount/dir.go:166 +0x30f\r\ngithub.com/ncw/rclone/vendor/bazil.org/fuse/fs.(*Server).handleRequest(0xc0001343c0, 0x13aa840, 0xc0004115c0, 0x139d900, 0xc0000b00b0, 0xc000507f80, 0x13a8f40, 0xc0000726c0, 0xc00048fef8, 0x0, ...)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vendor/bazil.org/fuse/fs/serve.go:1335 +0x228b\r\ngithub.com/ncw/rclone/vendor/bazil.org/fuse/fs.(*Server).serve(0xc0001343c0, 0x13a8f40, 0xc0000726c0)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vendor/bazil.org/fuse/fs/serve.go:878 +0x410\r\ngithub.com/ncw/rclone/vendor/bazil.org/fuse/fs.(*Server).Serve.func1(0xc0001343c0, 0x13a8f40, 0xc0000726c0)\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vendor/bazil.org/fuse/fs/serve.go:425 +0x6e\r\ncreated by github.com/ncw/rclone/vendor/bazil.org/fuse/fs.(*Server).Serve\r\n        /home/travis/gopath/src/github.com/ncw/rclone/vendor/bazil.org/fuse/fs/serve.go:423 +0x31e\r\n2019/01/14 13:06:56 DEBUG : Media/01 - 1080p.mkv: Open: flags=OpenReadOnly+0x20000\r\n```\r\n\r\nUpdated by ncw to Fix formatting","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2911/timeline","performed_via_github_app":null,"state_reason":"completed"}