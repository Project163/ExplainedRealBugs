[{"id":4641633667,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDY0MTYzMzY2Nw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4641633667","actor":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-04-25T20:57:11Z","rename":{"from":"tar ","to":"VFS mount: tar command gets warning messages of \"file changed as we read it\" for unchanging files"},"performed_via_github_app":null},{"id":4644835231,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NDQ4MzUyMzE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4644835231","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"88eaae2f7439799bf322553a10b1330cfa072beb","commit_url":"https://api.github.com/repos/rclone/rclone/commits/88eaae2f7439799bf322553a10b1330cfa072beb","created_at":"2021-04-26T13:21:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/826830789","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-826830789","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":826830789,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjgzMDc4OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T13:21:38Z","updated_at":"2021-04-26T13:21:38Z","body":"I've attempted to fix this here\r\n\r\n[v1.56.0-beta.5432.88eaae2f7.fix-5277-vfs-modtime-changing](https://beta.rclone.org/branch/fix-5277-vfs-modtime-changing/v1.56.0-beta.5432.88eaae2f7.fix-5277-vfs-modtime-changing/) on branch [fix-5277-vfs-modtime-changing](https://github.com/rclone/rclone/tree/fix-5277-vfs-modtime-changing) (uploaded in 15-30 mins)\r\n\r\nWhat do you think - does that work for you? Patch look OK?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/826830789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4644838673,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ2NDQ4Mzg2NzM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4644838673","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-26T13:21:44Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":4644839171,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ2NDQ4MzkxNzE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4644839171","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-26T13:21:49Z","label":{"name":"VFS / mount","color":"0e8a16"},"performed_via_github_app":null},{"id":4644839559,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ2NDQ4Mzk1NTk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4644839559","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-04-26T13:21:53Z","milestone":{"title":"v1.56"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827040377","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-827040377","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":827040377,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzA0MDM3Nw==","user":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T18:04:50Z","updated_at":"2021-04-26T18:07:00Z","body":"@ncw I retried the tests and this fix seems to work.   However, this fix reminds me of the question of how the item.metaDirty field is used for.  This field is set to true or false in multiple places and it's currently checked during the cache purge/item reset process.  Items with this field being true are not touched during purge/reset.   Do we really need to avoid purge/reset items with metaDirty being true?  If not, this field seems to be redundant and it causes confusion.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827040377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4646523884,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY0NjUyMzg4NA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4646523884","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-26T18:07:00Z","performed_via_github_app":null},{"id":4646523889,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2NDY1MjM4ODk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4646523889","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-26T18:07:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827102414","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-827102414","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":827102414,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzEwMjQxNA==","user":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T19:54:07Z","updated_at":"2021-04-26T20:03:07Z","body":"Reading the metaDirty related code, I guess maybe an intended real use of the item.metaDirty field is for the item._save() function call (or the IO within it) to be bypassed (currently not done)?  But it appears that whenever item._save() call is made, there is something changed in the item.Info field that we want to save it to the metadata file.   The checks of item.metaDIrty in item.inUse() may be redundant?  It looks like item.opens won't be zero if item.metaDirty is true. https://github.com/rclone/rclone/blob/5d799431a74568ac24c9b9023320fa7aa87b7d46/vfs/vfscache/item.go#L173\r\n\r\nThe check for item.metaDirty in reset does not seem necessary.  https://github.com/rclone/rclone/blob/5d799431a74568ac24c9b9023320fa7aa87b7d46/vfs/vfscache/item.go#L938\r\nWe would be removing the cache item anyway if the item satisfies other checks. \r\n\r\nAm I missing something for a true reason for having item.metaDirty.  ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827102414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827374428","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-827374428","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":827374428,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzM3NDQyOA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T07:16:54Z","updated_at":"2021-04-27T07:16:54Z","body":"> I retried the tests and this fix seems to work.\r\n\r\nGreat\r\n\r\n> However, this fix reminds me of the question of how the item.metaDirty field is used for. This field is set to true or false in multiple places and it's currently checked during the cache purge/item reset process. Items with this field being true are not touched during purge/reset. Do we really need to avoid purge/reset items with metaDirty being true? If not, this field seems to be redundant and it causes confusion.\r\n\r\nThat is a good question. The purpose of `metaDirty` is to show that the metadata in memory is out of sync with that on disk and needs to be written back.\r\n\r\nhttps://github.com/rclone/rclone/blob/08a2df51bea9b3bb71c463956a211e8dd37fb620/vfs/vfscache/item.go#L66\r\n\r\nSpecifically by metadata we mean the data that is written from the `Info` member to the `json` file.\r\n\r\nSo whenever we change the `Info` member we set `metaDirty = true` and at some time later we write that out to disk.\r\n\r\n> Reading the metaDirty related code, I guess maybe an intended real use of the item.metaDirty field is for the item._save() function call (or the IO within it) to be bypassed (currently not done)? But it appears that whenever item._save() call is made, there is something changed in the item.Info field that we want to save it to the metadata file. The checks of item.metaDIrty in item.inUse() may be redundant? It looks like item.opens won't be zero if item.metaDirty is true.\r\n\r\nYes I see what you mean - we never avoid that IO.\r\n\r\nAll the uses of metaDirty actually seem to be wrong if it is just a flag to note whether the in memory data is out of date with respect to disk.\r\n\r\nIt looks like I got confused about the real purpose of metaDirty at some point.\r\n\r\n> https://github.com/rclone/rclone/blob/5d799431a74568ac24c9b9023320fa7aa87b7d46/vfs/vfscache/item.go#L173\r\n> \r\n> The check for item.metaDirty in reset does not seem necessary.\r\n> \r\n> https://github.com/rclone/rclone/blob/5d799431a74568ac24c9b9023320fa7aa87b7d46/vfs/vfscache/item.go#L938\r\n> \r\n> We would be removing the cache item anyway if the item satisfies other checks.\r\n> Am I missing something for a true reason for having item.metaDirty.\r\n\r\nI think we have two options\r\n\r\n1. Just remove `metaDirty` completely\r\n\r\n2. Remove all the comparisons for `metaDirty` (since they are all wrong) and add a new one in `_save` to not write the file if we don't have to. I'm not sure that would win us much though looking through the code noting where we call `_save`.\r\n\r\nI'm probably thinking option 1. is the best - what do you think?\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827374428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827399248","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-827399248","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":827399248,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzM5OTI0OA==","user":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T07:55:50Z","updated_at":"2021-04-27T07:55:50Z","body":"I agree. Option 1 seems better.  The item.metaDirty field contributes to a good deal of confusion when reading the code. :)\r\nSince Close changes Atime and that needs to be written to the meta file, I don't see how ._save can avoid the meta file write.\r\nhttps://github.com/rclone/rclone/blob/08a2df51bea9b3bb71c463956a211e8dd37fb620/vfs/vfscache/item.go#L641","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827399248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4649735851,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NDk3MzU4NTE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4649735851","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"28fcc3dacea9d60d542fd39eaeb1e44f84c6fd29","commit_url":"https://api.github.com/repos/rclone/rclone/commits/28fcc3dacea9d60d542fd39eaeb1e44f84c6fd29","created_at":"2021-04-27T09:31:45Z","performed_via_github_app":null},{"id":4649735864,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NDk3MzU4NjQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4649735864","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a0a0d6f6069c1f2c1768950d57c2948fe6626e96","commit_url":"https://api.github.com/repos/rclone/rclone/commits/a0a0d6f6069c1f2c1768950d57c2948fe6626e96","created_at":"2021-04-27T09:31:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827464047","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-827464047","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":827464047,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzQ2NDA0Nw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T09:32:22Z","updated_at":"2021-04-27T09:32:22Z","body":"OK I did that here\r\n\r\n[v1.56.0-beta.5447.a0a0d6f60.fix-5277-vfs-modtime-changing](https://beta.rclone.org/branch/fix-5277-vfs-modtime-changing/v1.56.0-beta.5447.a0a0d6f60.fix-5277-vfs-modtime-changing/) on branch [fix-5277-vfs-modtime-changing](https://github.com/rclone/rclone/tree/fix-5277-vfs-modtime-changing) (uploaded in 15-30 mins)\r\n\r\nI ran the VFS torture test on it - looks fine!\r\n\r\nLook OK to you?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827464047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827974174","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-827974174","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":827974174,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzk3NDE3NA==","user":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T22:22:43Z","updated_at":"2021-04-27T22:22:43Z","body":"Yes, the fix looks great.  I have run a multi-hour test against the fix branch and it is working fine so far.  ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/827974174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leoluan1","id":68583173,"node_id":"MDQ6VXNlcjY4NTgzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/68583173?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan1","html_url":"https://github.com/leoluan1","followers_url":"https://api.github.com/users/leoluan1/followers","following_url":"https://api.github.com/users/leoluan1/following{/other_user}","gists_url":"https://api.github.com/users/leoluan1/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan1/subscriptions","organizations_url":"https://api.github.com/users/leoluan1/orgs","repos_url":"https://api.github.com/users/leoluan1/repos","events_url":"https://api.github.com/users/leoluan1/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/828264087","html_url":"https://github.com/rclone/rclone/issues/5277#issuecomment-828264087","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5277","id":828264087,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODI2NDA4Nw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T08:33:56Z","updated_at":"2021-04-28T08:33:56Z","body":"Thanks! I'll merge both those fixes now.\r\n\r\nI've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org/) in 15-30 minutes and released in v1.56","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/828264087/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4655316208,"node_id":"MDExOkNsb3NlZEV2ZW50NDY1NTMxNjIwOA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4655316208","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"00a0ee189959bf71913981482119f4836d25b632","commit_url":"https://api.github.com/repos/rclone/rclone/commits/00a0ee189959bf71913981482119f4836d25b632","created_at":"2021-04-28T08:34:07Z","state_reason":null,"performed_via_github_app":null},{"id":4655316220,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NTUzMTYyMjA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4655316220","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"16d1da2c1e22a36b1d93701116b47be8325f76cb","commit_url":"https://api.github.com/repos/rclone/rclone/commits/16d1da2c1e22a36b1d93701116b47be8325f76cb","created_at":"2021-04-28T08:34:08Z","performed_via_github_app":null},{"id":5153937627,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxNTM5Mzc2Mjc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5153937627","actor":{"login":"negative0","id":12236512,"node_id":"MDQ6VXNlcjEyMjM2NTEy","avatar_url":"https://avatars.githubusercontent.com/u/12236512?v=4","gravatar_id":"","url":"https://api.github.com/users/negative0","html_url":"https://github.com/negative0","followers_url":"https://api.github.com/users/negative0/followers","following_url":"https://api.github.com/users/negative0/following{/other_user}","gists_url":"https://api.github.com/users/negative0/gists{/gist_id}","starred_url":"https://api.github.com/users/negative0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/negative0/subscriptions","organizations_url":"https://api.github.com/users/negative0/orgs","repos_url":"https://api.github.com/users/negative0/repos","events_url":"https://api.github.com/users/negative0/events{/privacy}","received_events_url":"https://api.github.com/users/negative0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"27a8c680e769f8492968b9ca0e04d67b95975599","commit_url":"https://api.github.com/repos/negative0/rclone/commits/27a8c680e769f8492968b9ca0e04d67b95975599","created_at":"2021-08-13T06:10:44Z","performed_via_github_app":null},{"id":5153937637,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxNTM5Mzc2Mzc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5153937637","actor":{"login":"negative0","id":12236512,"node_id":"MDQ6VXNlcjEyMjM2NTEy","avatar_url":"https://avatars.githubusercontent.com/u/12236512?v=4","gravatar_id":"","url":"https://api.github.com/users/negative0","html_url":"https://github.com/negative0","followers_url":"https://api.github.com/users/negative0/followers","following_url":"https://api.github.com/users/negative0/following{/other_user}","gists_url":"https://api.github.com/users/negative0/gists{/gist_id}","starred_url":"https://api.github.com/users/negative0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/negative0/subscriptions","organizations_url":"https://api.github.com/users/negative0/orgs","repos_url":"https://api.github.com/users/negative0/repos","events_url":"https://api.github.com/users/negative0/events{/privacy}","received_events_url":"https://api.github.com/users/negative0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"58f6201408aaef1982c66afbaa96621cf3d9f860","commit_url":"https://api.github.com/repos/negative0/rclone/commits/58f6201408aaef1982c66afbaa96621cf3d9f860","created_at":"2021-08-13T06:10:44Z","performed_via_github_app":null}]