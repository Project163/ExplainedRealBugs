{"url":"https://api.github.com/repos/rclone/rclone/issues/3597","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3597/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3597/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3597/events","html_url":"https://github.com/rclone/rclone/issues/3597","id":503184362,"node_id":"MDU6SXNzdWU1MDMxODQzNjI=","number":3597,"title":"[BUG] VFS issue. Google Cloud can not create new (empty directory) on mount","user":{"login":"thestigma","id":11866923,"node_id":"MDQ6VXNlcjExODY2OTIz","avatar_url":"https://avatars.githubusercontent.com/u/11866923?v=4","gravatar_id":"","url":"https://api.github.com/users/thestigma","html_url":"https://github.com/thestigma","followers_url":"https://api.github.com/users/thestigma/followers","following_url":"https://api.github.com/users/thestigma/following{/other_user}","gists_url":"https://api.github.com/users/thestigma/gists{/gist_id}","starred_url":"https://api.github.com/users/thestigma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thestigma/subscriptions","organizations_url":"https://api.github.com/users/thestigma/orgs","repos_url":"https://api.github.com/users/thestigma/repos","events_url":"https://api.github.com/users/thestigma/events{/privacy}","received_events_url":"https://api.github.com/users/thestigma/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":306063008,"node_id":"MDU6TGFiZWwzMDYwNjMwMDg=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Google%20Cloud%20Storage","name":"Remote: Google Cloud Storage","color":"fbca04","default":false,"description":null},{"id":430778096,"node_id":"MDU6TGFiZWw0MzA3NzgwOTY=","url":"https://api.github.com/repos/rclone/rclone/labels/VFS%20/%20mount","name":"VFS / mount","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/37","html_url":"https://github.com/rclone/rclone/milestone/37","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/37/labels","id":4423541,"node_id":"MDk6TWlsZXN0b25lNDQyMzU0MQ==","number":37,"title":"v1.50","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":53,"state":"closed","created_at":"2019-06-19T08:40:02Z","updated_at":"2023-06-23T16:59:46Z","due_on":"2019-10-12T07:00:00Z","closed_at":"2019-11-14T16:50:09Z"},"comments":5,"created_at":"2019-10-07T00:35:08Z","updated_at":"2020-11-02T19:05:14Z","closed_at":"2019-10-26T17:22:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What is the problem you are having with rclone?\r\nGoogle Cloud can not create new (empty directory) on mount\r\nThis problem likely extends to other backends that don't treat folders as objects as well.\r\nNCW mentioned this was likely a bug in the VFS layer\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nrclone v1.49.4-003-gb5ea6af6-v1.49-fixes-beta\r\n- os/arch: windows/amd64\r\n- go version: go1.12.10\r\n\r\nBut the problem has been observed all the way back to 1.48 I believe.\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\nWin10-64\r\nLinux replication not tested yet, but assumed to also be affected.\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\nGCP / Google Cloud bucket\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\nRight click - create new folder. Input name => \"The file or folder does not exist\"\r\n\r\nHere is the relevant reminders from the discussion we had.\r\nConfig:\r\n\r\n```\r\n[Gcloud]\r\ntype = google cloud storage\r\nproject_number = REDACTED\r\nservice_account_file = C:\\rclone\\SA\\rcloneonegcp.json\r\nobject_acl = bucketOwnerFullControl\r\nlocation = us-central1\r\n\r\nrclone mount Gcloud:rclonestore P: ^\r\n--cache-dir \"E:\\---RCLONE_VFSCACHE_GCLOUD\" ^\r\n--vfs-cache-mode writes ^\r\n--vfs-read-chunk-size 128M ^\r\n--vfs-read-chunk-size-limit off ^\r\n--attr-timeout 1s ^\r\n--dir-cache-time 8700h ^\r\n--vfs-cache-max-age 8760h ^\r\n--vfs-cache-poll-interval 1m ^\r\n--vfs-cache-max-size 1024G ^\r\n--poll-interval 10s ^\r\n--allow-other ^\r\n--buffer-size 64M ^\r\n--multi-thread-cutoff 512M ^\r\n--multi-thread-streams 0 ^\r\n--stats 5s ^\r\n-v\r\n```\r\nreproduction steps - (on windows) - right click and \"make new folder\". Input name and hit enter --> ERROR\r\nI assume most Linux GUIs will do the exact same thing\r\n\r\n\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3597/timeline","performed_via_github_app":null,"state_reason":"completed"}