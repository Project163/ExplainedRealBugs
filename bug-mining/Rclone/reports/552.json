{"url":"https://api.github.com/repos/rclone/rclone/issues/2799","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2799/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2799/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2799/events","html_url":"https://github.com/rclone/rclone/issues/2799","id":385413551,"node_id":"MDU6SXNzdWUzODU0MTM1NTE=","number":2799,"title":"Slow list / download for Azure Blob Storage","user":{"login":"sheerun","id":292365,"node_id":"MDQ6VXNlcjI5MjM2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/292365?v=4","gravatar_id":"","url":"https://api.github.com/users/sheerun","html_url":"https://github.com/sheerun","followers_url":"https://api.github.com/users/sheerun/followers","following_url":"https://api.github.com/users/sheerun/following{/other_user}","gists_url":"https://api.github.com/users/sheerun/gists{/gist_id}","starred_url":"https://api.github.com/users/sheerun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sheerun/subscriptions","organizations_url":"https://api.github.com/users/sheerun/orgs","repos_url":"https://api.github.com/users/sheerun/repos","events_url":"https://api.github.com/users/sheerun/events{/privacy}","received_events_url":"https://api.github.com/users/sheerun/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":1043114791,"node_id":"MDU6TGFiZWwxMDQzMTE0Nzkx","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Azure%20Blob","name":"Remote: Azure Blob","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/33","html_url":"https://github.com/rclone/rclone/milestone/33","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/33/labels","id":3752396,"node_id":"MDk6TWlsZXN0b25lMzc1MjM5Ng==","number":33,"title":"v1.46","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"closed","created_at":"2018-10-19T14:56:28Z","updated_at":"2019-02-09T18:12:01Z","due_on":"2019-02-09T08:00:00Z","closed_at":"2019-02-09T18:11:23Z"},"comments":12,"created_at":"2018-11-28T19:04:39Z","updated_at":"2018-12-03T09:38:38Z","closed_at":"2018-12-02T20:59:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\n\r\nI have container on Azure Blob Storage with 30M files. Listing these files (and downloading them) is slow and limited to around 100/second. With simple ruby script I'm able to reach 1000/second for listing. It also affects download speed which is capped to around 100/second.\r\n\r\n```ruby\r\nrequire 'azure/storage/blob'\r\n\r\nclient = Azure::Storage::Blob::BlobService.create(storage_account_name: 'yyy', storage_access_key: 'xxxx')\r\n\r\nmarker = nil\r\nwhile true\r\n  blobs = client.list_blobs('rails', max_results: 5000, marker: marker)\r\n  marker = blobs.continuation_token\r\n  puts blobs.map { |b| b.name }.join(\"\\n\")\r\n  break if marker.nil? || marker.empty?\r\nend\r\n```\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\n```\r\nrclone v1.45-006-geb412537-beta\r\n- os/arch: linux/amd64\r\n- go version: go1.11.2\r\n```\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\n\r\nUbuntu 18.04.1 LTS\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\n\r\nAzure Blob Storage\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n\r\nrclone lsf --files-only --recursive azure://rails\r\n\r\nor \r\n\r\nrclone copy azure://rails /mnt/data/rails --transfers 100 --checkers 100\r\n\r\nI tried different combinations of flags to speed it up but no results\r\n\r\n\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2799/timeline","performed_via_github_app":null,"state_reason":"completed"}