{"url":"https://api.github.com/repos/rclone/rclone/issues/8029","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/8029/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/8029/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/8029/events","html_url":"https://github.com/rclone/rclone/issues/8029","id":2478542110,"node_id":"I_kwDOAQ-n5M6Tu40e","number":8029,"title":"nfsmount broken in 1.68.0 beta","user":{"login":"claudio-tinnirello-filescom","id":179031882,"node_id":"U_kgDOCqvPSg","avatar_url":"https://avatars.githubusercontent.com/u/179031882?v=4","gravatar_id":"","url":"https://api.github.com/users/claudio-tinnirello-filescom","html_url":"https://github.com/claudio-tinnirello-filescom","followers_url":"https://api.github.com/users/claudio-tinnirello-filescom/followers","following_url":"https://api.github.com/users/claudio-tinnirello-filescom/following{/other_user}","gists_url":"https://api.github.com/users/claudio-tinnirello-filescom/gists{/gist_id}","starred_url":"https://api.github.com/users/claudio-tinnirello-filescom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claudio-tinnirello-filescom/subscriptions","organizations_url":"https://api.github.com/users/claudio-tinnirello-filescom/orgs","repos_url":"https://api.github.com/users/claudio-tinnirello-filescom/repos","events_url":"https://api.github.com/users/claudio-tinnirello-filescom/events{/privacy}","received_events_url":"https://api.github.com/users/claudio-tinnirello-filescom/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":7360407270,"node_id":"LA_kwDOAQ-n5M8AAAABtrbm5g","url":"https://api.github.com/repos/rclone/rclone/labels/serve%20nfs","name":"serve nfs","color":"0052CC","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/56","html_url":"https://github.com/rclone/rclone/milestone/56","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/56/labels","id":10662391,"node_id":"MI_kwDOAQ-n5M4AorH3","number":56,"title":"v1.68","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":13,"state":"closed","created_at":"2024-03-10T12:33:56Z","updated_at":"2024-09-11T21:18:36Z","due_on":"2024-09-08T07:00:00Z","closed_at":"2024-09-11T21:18:36Z"},"comments":16,"created_at":"2024-08-21T17:02:48Z","updated_at":"2024-08-28T06:10:37Z","closed_at":"2024-08-28T06:09:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\n\r\nThe nfsmount command doesn't work properly in version 1.68.0 of rclone. It mounts the remote but, in the Finder, shows certain subfolders and as having \"no entry\" icons. Those subfolders cannot be accessed. Also, some files are unable to be accessed.\r\n\r\nThe mount itself seems to work, but items within the mount are unaccessible, even if I have full permissions on the remote.\r\n\r\nTrying to list these subfolders from the command line gives the following error:\r\n\r\n```\r\nls: ./ERP: Stale NFS file handle\r\n```\r\n\r\nWhen trying to access these items from Mac Finder, a popup occurs with the following message: `The folder ‚ÄúERP‚Äù can‚Äôt be opened because you don‚Äôt have permission to see its contents.`\r\n\r\nWhen using version 1.67.0, on the exact same remote, with the exact same authentication options, there are none of these issues.\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\n1.68.0\r\n\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\n\r\nMacOS Sonoma 14.6.1\r\n\r\n#### Which cloud storage system are you using? (e.g. Google Drive)\r\n\r\nReproduced with AWS S3 and Pcloud type remotes.\r\n\r\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\r\n\r\nrclone --vfs-cache-mode writes --cache-dir ./cache nfsmount aws: ./mount1  --allow-other --default-permissions\r\n\r\n#### A log from the command with the `-vv` flag (e.g. output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752891 (nfs.GetAttr)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=D90872F95AB048679EB4CF0444C8F98B\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=<nil>\r\n2024/08/21 10:00:54 DEBUG : : Lstat:\r\n2024/08/21 10:00:54 DEBUG : : >Lstat: fi=/, err=<nil>\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752892 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752893 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752894 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752895 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752896 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752897 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752898 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752899 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752900 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752901 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:54 DEBUG : [NFS DEBUG] request: RPC #1628752902 (nfs.Access)\r\n2024/08/21 10:00:54 DEBUG : nfs: FromHandle: handle=0F83C09216C342ED92C1516F387EB179\r\n2024/08/21 10:00:54 DEBUG : nfs: >FromHandle: path=[], err=Invalid file handle\r\n2024/08/21 10:00:56 DEBUG : [NFS DEBUG] request: RPC #1628752903 (nfs.GetAttr)\r\n2024/08/21 10:00:56 DEBUG : nfs: FromHandle: handle=36AC9F2B18094C61AFFA050948BCE103\r\n2024/08/21 10:00:56 DEBUG : nfs: >FromHandle: path=[\"filescom-product\" \"Claudio\"], err=<nil>\r\n2024/08/21 10:00:56 DEBUG : filescom-product/Claudio: Lstat:\r\n2024/08/21 10:00:56 DEBUG : filescom-product/Claudio: >Lstat: fi=filescom-product/Claudio/, err=<nil>\r\n2024/08/21 10:01:01 DEBUG : [NFS DEBUG] request: RPC #1628752904 (nfs.GetAttr)\r\n\r\n<!--- Please keep the note below for others who read your bug report. -->\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/8029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/8029/timeline","performed_via_github_app":null,"state_reason":"completed"}