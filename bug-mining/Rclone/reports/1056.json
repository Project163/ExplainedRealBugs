{"url":"https://api.github.com/repos/rclone/rclone/issues/4643","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4643/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4643/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4643/events","html_url":"https://github.com/rclone/rclone/issues/4643","id":712275062,"node_id":"MDU6SXNzdWU3MTIyNzUwNjI=","number":4643,"title":"B2 backend should be able to automatically size chunks to fit in to 10,000 chunk limit","user":{"login":"Adam-BZ","id":72167432,"node_id":"MDQ6VXNlcjcyMTY3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/72167432?v=4","gravatar_id":"","url":"https://api.github.com/users/Adam-BZ","html_url":"https://github.com/Adam-BZ","followers_url":"https://api.github.com/users/Adam-BZ/followers","following_url":"https://api.github.com/users/Adam-BZ/following{/other_user}","gists_url":"https://api.github.com/users/Adam-BZ/gists{/gist_id}","starred_url":"https://api.github.com/users/Adam-BZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Adam-BZ/subscriptions","organizations_url":"https://api.github.com/users/Adam-BZ/orgs","repos_url":"https://api.github.com/users/Adam-BZ/repos","events_url":"https://api.github.com/users/Adam-BZ/events{/privacy}","received_events_url":"https://api.github.com/users/Adam-BZ/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":306063207,"node_id":"MDU6TGFiZWwzMDYwNjMyMDc=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Backblaze%20B2","name":"Remote: Backblaze B2","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-30T20:57:05Z","updated_at":"2022-05-13T08:25:54Z","closed_at":"2022-05-13T08:25:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n\r\nWelcome :-)\r\n\r\nSo you've got an idea to improve rclone? We love that! You'll be glad to hear we've incorporated hundreds of ideas from contributors already.\r\n\r\nHere is a checklist of things to do:\r\n\r\n  1. Please search the old issues first for your idea and +1 or comment on an existing issue if possible.\r\n  2. Discuss on the forum first: https://forum.rclone.org/\r\n  3. Make a feature request issue (this is the right place!).\r\n  4. Be prepared to get involved making the feature :-)\r\n\r\nLooking forward to your great idea!\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n\r\n#### What is your current rclone version (output from `rclone version`)?\r\n1.53.1\r\n\r\n\r\n#### What problem are you are trying to solve?\r\nJust like Amazon S3, Backblaze B2 has a 10,000 chunk limit per file. Any user trying to upload a file larger than 937.5G (the default chunk size of 96M * 10000 chunks) has to manually configure a chunk size.\r\n\r\nrclone's S3 backend supports automatically increasing chunk size to fit a file within that 10000 chunk limit, however rclone's B2 backend does not currently have that feature.\r\n\r\n#### How do you think rclone should be changed to solve that?\r\n\r\nAdd the same automatic chunk size feature to the B2 backend, so instead of failing on files that are larger than chunk_size * 10000, it would increase chunk_size to accommodate them.\r\n\r\nncw mentioned there might be some concerns with memory usage since it may unpredictably increase depending on what file size rclone encounters, so perhaps this could be a non-default flag, or disabled with a flag if it is default. I think since the behavior between S3 and B2 is identical, any defaults or flags should be the same between the two backends if possible, just to keep a consistent user experience.\r\n\r\nhttps://forum.rclone.org/t/b2-backend-dynamically-increasing-chunk-size/19288","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4643/timeline","performed_via_github_app":null,"state_reason":"completed"}