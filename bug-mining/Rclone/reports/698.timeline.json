[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499574955","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-499574955","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":499574955,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTU3NDk1NQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T16:43:20Z","updated_at":"2019-06-06T16:43:20Z","body":"This feature is modeled on rsync.\r\n\r\nHere is the rsync man page\r\n\r\n```\r\n      -u, --update\r\n              This  forces rsync to skip any files which exist on the destina‐\r\n              tion and have a modified time that  is  newer  than  the  source\r\n              file.   (If an existing destination file has a modification time\r\n              equal to the source file’s, it will be updated if the sizes  are\r\n              different.)\r\n\r\n              Note that this does not affect the copying of dirs, symlinks, or\r\n              other special files.  Also, a difference of file format  between\r\n              the  sender  and  receiver  is always considered to be important\r\n              enough for an update, no matter what date is on the objects.  In\r\n              other words, if the source has a directory where the destination\r\n              has a file, the transfer would occur  regardless  of  the  time‐\r\n              stamps.\r\n\r\n              This  option  is  a transfer rule, not an exclude, so it doesn’t\r\n              affect the data that goes  into  the  file-lists,  and  thus  it\r\n              doesn’t affect deletions.  It just limits the files that the re‐\r\n              ceiver requests to be transferred.\r\n```\r\n\r\nCan you see what rsync does in this case?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499574955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499754143","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-499754143","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":499754143,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTc1NDE0Mw==","user":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T04:40:57Z","updated_at":"2019-06-07T04:40:57Z","body":"I'm not very familiar with rsync, but from what I gathered, rsync doesn't do checksum comparison even in default mode, so it makes sense that its \"update\" mode doesn't do checksum comparison either.\r\n\r\nI interpret the man page to mean that \"update\" mode should only reduce data transfer, not increase.\r\nIn rclone's case, because it already does checksum comparison before transfer in default mode, it makes more sense that rclone should also do checksum comparison in update mode.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499754143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499846448","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-499846448","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":499846448,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTg0NjQ0OA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T11:09:54Z","updated_at":"2019-06-07T11:09:54Z","body":"This is what the rclone docs say about [-u, --update](https://rclone.org/docs/#u-update):\r\n\r\n> This forces rclone to skip any files which exist on the destination and have a modified time that is newer than the source file.\r\n> \r\n> If an existing destination file has a modification time equal (within the computed modify window precision) to the source file’s, it will be updated if the sizes are different.\r\n\r\nSo in pseudocode\r\n\r\n- if dest modification time newer than source - **skip**\r\n- if dest modification time older than source - **transfer**\r\n- if dest modification time equal to source\r\n    - if sizes different - **transfer**\r\n    - if sizes the same - **skip**\r\n\r\nI think this is what you are proposing - is that correct?\r\n\r\n- if dest modification time newer than source - **skip**\r\n- if dest modification time older than source - **transfer**\r\n- if dest modification time equal to source\r\n    - if sizes different - **transfer**\r\n    - if sizes the same\r\n        - if checksum not available - **transfer**\r\n        - if checksums differ - **transfer**\r\n        - otherwise **skip**\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499846448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500088871","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-500088871","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":500088871,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDA4ODg3MQ==","user":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T03:10:16Z","updated_at":"2019-06-08T03:10:16Z","body":"Not exactly. What I have in mind is:\r\n* if dest modification time newer than source - **skip**\r\n* if dest modification time older than or equal to source\r\n  * if sizes different - **transfer**\r\n  * if sizes the same\r\n    * if checksum not available - **transfer**\r\n    * if checksums differ - **transfer**\r\n    * otherwise **skip** (or maybe **update modtime**?)\r\n\r\nIn other words, the only difference between `sync --update` and `sync` (without `--update`) is that, at the beginning of the file comparison logic, the update mode skips files with newer modtimes at dest, but rest of the comparison logic is the same as the default sync mode.\r\n\r\nAt least, this is what I thought `sync --update` should do, and what I want personally. I also think this is what the rsync man page of `--update` means. When I read the docs, I thought `--update` would only\r\n* introduce more checks based on modtimes, but not mess with checksum comparison\r\n* reduce but never increase data transfer\r\n\r\nMaybe I was mistaken, but I was rather surprised that a lot of unnecessary data transfer happened due to the `--update` flag.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500088871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2398940280,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIzOTg5NDAyODA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2398940280","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"43e2f95b66bcc554a411868630939c6d55f11ddf","commit_url":"https://api.github.com/repos/rclone/rclone/commits/43e2f95b66bcc554a411868630939c6d55f11ddf","created_at":"2019-06-08T13:11:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500123223","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-500123223","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":500123223,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDEyMzIyMw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T13:13:19Z","updated_at":"2019-06-08T13:13:19Z","body":"I did a test with rsync.\r\n\r\nFrom the below I gather that\r\n- rsync transfers the file if the modtime is different (like rclone) without `-u`\r\n- rsync transfer the file only if it is newer with `-u`\r\n\r\n```\r\n$ mkdir src\r\n$ truncate -s 10M src/one.txt\r\n$ cp -av src dst\r\n\r\n$ touch src/one.txt \r\n$ rsync -avv src/ dst/\r\nsending incremental file list\r\ndelta-transmission disabled for local transfer or --whole-file\r\none.txt\r\ntotal: matches=0  hash_hits=0  false_alarms=0 data=10485760\r\n\r\nsent 10,488,439 bytes  received 105 bytes  20,977,088.00 bytes/sec\r\ntotal size is 10,485,760  speedup is 1.00\r\n\r\n$ touch dst/one.txt \r\n$ rsync -avv src/ dst/\r\nsending incremental file list\r\ndelta-transmission disabled for local transfer or --whole-file\r\none.txt\r\ntotal: matches=0  hash_hits=0  false_alarms=0 data=10485760\r\n\r\nsent 10,488,439 bytes  received 105 bytes  20,977,088.00 bytes/sec\r\ntotal size is 10,485,760  speedup is 1.00\r\n\r\n$ touch src/one.txt \r\n$ rsync -auvv src/ dst/\r\nsending incremental file list\r\ndelta-transmission disabled for local transfer or --whole-file\r\none.txt\r\ntotal: matches=0  hash_hits=0  false_alarms=0 data=10485760\r\n\r\nsent 10,488,438 bytes  received 105 bytes  20,977,086.00 bytes/sec\r\ntotal size is 10,485,760  speedup is 1.00\r\n\r\n$ touch dst/one.txt \r\n$ rsync -auvv src/ dst/\r\nsending incremental file list\r\ndelta-transmission disabled for local transfer or --whole-file\r\none.txt is newer\r\ntotal: matches=0  hash_hits=0  false_alarms=0 data=0\r\n\r\nsent 83 bytes  received 107 bytes  380.00 bytes/sec\r\ntotal size is 10,485,760  speedup is 55,188.21\r\n$\r\n```\r\n\r\nSo as far as rsync is concerned your statement below is correct.  As part of the transfer rsync is doing the equivalent of checking the --checksum\r\n\r\n> In other words, the only difference between sync --update and sync (without --update) is that, at the beginning of the file comparison logic, the update mode skips files with newer modtimes at dest, but rest of the comparison logic is the same as the default sync mode.\r\n\r\nIn rclone terms, your pseudo code would be equivalent to using `--checksum` but skipping newer files first.  I think that would be easy to explain at least!\r\n\r\nSo I'd propose something like this in the docs for `--update`\r\n\r\n> This forces rclone to skip any files which exist on the destination and have a modified time that is newer than the source file.\r\n>\r\n> If an existing destination file has a modification time equal (within the computed modify window precision) or older than the source file’s, it will be updated if either of the size or checksum are different..\r\n\r\nI had a go at implementing this here - can you give it a go and see if you think it works as you expect.\r\n\r\nhttps://beta.rclone.org/branch/v1.47.0-108-g43e2f95b-fix-3232-update-beta/ (uploaded in 15-30 mins)\r\n\r\nPS I just have a nagging suspicion that people rely on the current behavior but I can't find evidence for it at the moment!\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500123223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500488324","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-500488324","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":500488324,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDQ4ODMyNA==","user":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T16:42:16Z","updated_at":"2019-06-10T16:42:16Z","body":"Oops! My pseudocode isn't actually what I want! Sorry!\r\n\r\n> In other words, the only difference between sync --update and sync (without --update) is that, at the beginning of the file comparison logic, the update mode skips files with newer modtimes at dest, but rest of the comparison logic is the same as the default sync mode.\r\n\r\nThis description is still correct, but my pseudocode is wrong. What I had in mind is without the `--checksum` flag, i.e. the only effect of `--update` is to skip newer files first. Does such behaviour make sense?\r\nIf users want to check all checksums, the `--checksum` flag can still be added on top of `--update`.\r\n\r\nThe correct pseudocode that actually describes what I want is:\r\n\r\n* if dest modification time newer than source - **skip**\r\n* if dest modification time equal to source\r\n  * if sizes different - **transfer**\r\n  * if sizes the same - **skip**\r\n* if dest modification time older than source\r\n  * if sizes different - **transfer**\r\n  * if sizes the same\r\n    * if checksum not available - **transfer**\r\n    * if checksums differ - **transfer**\r\n    * otherwise - **update modtime**\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500488324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2401912889,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI0MDE5MTI4ODk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2401912889","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bd3f2c646dc1bbcc631b6bc8b489a6c2e4cba8f1","commit_url":"https://api.github.com/repos/rclone/rclone/commits/bd3f2c646dc1bbcc631b6bc8b489a6c2e4cba8f1","created_at":"2019-06-10T19:04:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500550020","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-500550020","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":500550020,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDU1MDAyMA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T19:06:20Z","updated_at":"2019-06-10T19:06:20Z","body":"> The correct pseudocode that actually describes what I want is:\r\n> \r\n> * if dest modification time newer than source - **skip**\r\n> * if dest modification time equal to source\r\n>   \r\n>   * if sizes different - **transfer**\r\n>   * if sizes the same - **skip**\r\n> * if dest modification time older than source\r\n>   \r\n>   * if sizes different - **transfer**\r\n>   * if sizes the same\r\n>     \r\n>     * if checksum not available - **transfer**\r\n>     * if checksums differ - **transfer**\r\n>     * otherwise - **update modtime**\r\n\r\nThat is actually quite a lot closer to the original algorithm.\r\n\r\nI've had a go at that here\r\n\r\nhttps://beta.rclone.org/branch/v1.47.0-120-gbd3f2c64-fix-3232-update-2-beta/ (uploaded in 15-30 mins)\r\n\r\nIt doesn't update the modtime though as it is using the existing `--checksum` path which doesn't do that.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500550020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/501108732","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-501108732","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":501108732,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTEwODczMg==","user":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T03:41:32Z","updated_at":"2019-06-12T03:41:32Z","body":"The tests/build seem to have failed?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/501108732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/501216521","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-501216521","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":501216521,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTIxNjUyMQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T10:35:34Z","updated_at":"2019-06-12T10:35:34Z","body":"Sorry I messed that up and broke some tests.  Will have another go in a bit!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/501216521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2702307786,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI3MDIzMDc3ODY=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2702307786","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a007919d41954b65fb8beb16611daab25b230a50","commit_url":"https://api.github.com/repos/rclone/rclone/commits/a007919d41954b65fb8beb16611daab25b230a50","created_at":"2019-10-10T11:15:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540523118","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-540523118","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":540523118,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDUyMzExOA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T11:17:11Z","updated_at":"2019-10-10T11:17:11Z","body":"Sorry I dropped the ball on this!\r\n\r\nHere is the latest code which implements this pseudo code\r\n\r\nhttps://beta.rclone.org/branch/v1.49.5-197-ga007919d-fix-3232-update-2-beta/ (uploaded in 15-30 mins)\r\n\r\n* if dest modification time newer than source - **skip**\r\n* if dest modification time equal to source\r\n  * if sizes different - **transfer**\r\n  * if `---checksum` is set then and sums different then **transfer**\r\n  * if sizes the same - **skip**\r\n* if dest modification time older than source\r\n  * if sizes different - **transfer**\r\n  * if sizes the same\r\n    * if checksum not available - **transfer**\r\n    * if checksums differ - **transfer**\r\n    * otherwise - **update modtime** (this is implemented now)\r\n\r\nWhat do you think?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540523118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540593452","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-540593452","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":540593452,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDU5MzQ1Mg==","user":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T13:50:10Z","updated_at":"2019-10-10T13:50:10Z","body":"You never need to apologize for your FOSS work!\r\n\r\nI just tried it out. It looks great!\r\nI understand that the \"update modtime\" part isn't yet included in this beta build, right?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540593452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540670154","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-540670154","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":540670154,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDY3MDE1NA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T16:37:02Z","updated_at":"2019-10-10T16:37:02Z","body":"> I just tried it out. It looks great!\r\n\r\nThanks\r\n\r\n> I understand that the \"update modtime\" part isn't yet included in this beta build, right?\r\n\r\nIt should be - did it not work?\r\n\r\nThough whether the update modtime works depends on which backend you use it on.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540670154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540704634","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-540704634","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":540704634,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDcwNDYzNA==","user":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T18:06:18Z","updated_at":"2019-10-10T18:06:18Z","body":"> It should be - did it not work?\r\n\r\nNot in my tests.\r\n\r\n> Though whether the update modtime works depends on which backend you use it on.\r\n\r\nI tried both local and Google Drive. Neither updated modtime.\r\n\r\n```plain\r\n>rclone lsl test\r\n 16777216 2019-10-10 13:55:26.452649100 random\r\n\r\n>rclone sync test test2\r\n\r\n>rclone touch test\\random\r\n\r\n>rclone lsl test\r\n 16777216 2019-10-10 14:02:09.440698700 random\r\n\r\n>rclone lsl test2\r\n 16777216 2019-10-10 13:55:26.452649100 random\r\n\r\n>rclone sync -u -vv --stats 0 test test2\r\n2019/10/10 14:02:47 DEBUG : rclone: Version \"v1.49.5-197-ga007919d-fix-3232-update-2-beta\" starting with parameters [\"rclone\" \"sync\" \"-u\" \"-vv\" \"--stats\" \"0\" \"test\" \"test2\"]\r\n2019/10/10 14:02:47 DEBUG : Using config file from \"C:\\\\Users\\\\Chenfeng\\\\My Docs\\\\Local\\\\rclone.conf\"\r\n2019/10/10 14:02:47 INFO  : Local file system at //?/C:/Users/Chenfeng/test2: Waiting for checks to finish\r\n2019/10/10 14:02:47 DEBUG : random: MD5 = 4c59a34e3b174eb51ef53b4ffc6432db OK\r\n2019/10/10 14:02:47 DEBUG : random: Size and MD5 of src and dst objects identical\r\n2019/10/10 14:02:47 DEBUG : random: Unchanged skipping\r\n2019/10/10 14:02:47 INFO  : Local file system at //?/C:/Users/Chenfeng/test2: Waiting for transfers to finish\r\n2019/10/10 14:02:47 INFO  : Waiting for deletions to finish\r\n2019/10/10 14:02:47 DEBUG : 4 go routines active\r\n2019/10/10 14:02:47 DEBUG : rclone: Version \"v1.49.5-197-ga007919d-fix-3232-update-2-beta\" finishing with parameters [\"rclone\" \"sync\" \"-u\" \"-vv\" \"--stats\" \"0\" \"test\" \"test2\"]\r\n\r\n>rclone lsl test\r\n 16777216 2019-10-10 14:02:09.440698700 random\r\n\r\n>rclone lsl test2\r\n 16777216 2019-10-10 13:55:26.452649100 random\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/540704634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2706513246,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI3MDY1MTMyNDY=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2706513246","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"00b29e84cdfb6618c1f1deb9d37530795b79f0c3","commit_url":"https://api.github.com/repos/rclone/rclone/commits/00b29e84cdfb6618c1f1deb9d37530795b79f0c3","created_at":"2019-10-11T15:11:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/541105030","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-541105030","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":541105030,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTEwNTAzMA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-11T15:12:00Z","updated_at":"2019-10-11T15:12:00Z","body":"Ah, I see what is wrong!  Try this :-)\r\n\r\nhttps://beta.rclone.org/branch/v1.49.5-203-g00b29e84-fix-3232-update-2-beta/ (uploaded in 15-30 mins)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/541105030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/541120006","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-541120006","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":541120006,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTEyMDAwNg==","user":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-11T15:51:44Z","updated_at":"2019-10-11T15:51:44Z","body":"Just tested all scenarios I could think of, and it works flawlessly!\r\nThanks a lot!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/541120006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cfbao","id":8552945,"node_id":"MDQ6VXNlcjg1NTI5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8552945?v=4","gravatar_id":"","url":"https://api.github.com/users/cfbao","html_url":"https://github.com/cfbao","followers_url":"https://api.github.com/users/cfbao/followers","following_url":"https://api.github.com/users/cfbao/following{/other_user}","gists_url":"https://api.github.com/users/cfbao/gists{/gist_id}","starred_url":"https://api.github.com/users/cfbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfbao/subscriptions","organizations_url":"https://api.github.com/users/cfbao/orgs","repos_url":"https://api.github.com/users/cfbao/repos","events_url":"https://api.github.com/users/cfbao/events{/privacy}","received_events_url":"https://api.github.com/users/cfbao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2708015248,"node_id":"MDExOkNsb3NlZEV2ZW50MjcwODAxNTI0OA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2708015248","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"f3b0f8a9f06b4e3407ea04c37e23b1ebee34cc79","commit_url":"https://api.github.com/repos/rclone/rclone/commits/f3b0f8a9f06b4e3407ea04c37e23b1ebee34cc79","created_at":"2019-10-12T10:57:16Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/541313744","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-541313744","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":541313744,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTMxMzc0NA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-12T10:57:19Z","updated_at":"2019-10-12T10:57:19Z","body":"Thanks for testing :-)\r\n\r\nI've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org) in 15-30 mins and released in v1.50","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/541313744/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1897625171","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-1897625171","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":1897625171,"node_id":"IC_kwDOAQ-n5M5xG3ZT","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-18T01:42:26Z","updated_at":"2024-01-18T01:42:26Z","body":"> * I think the problem here is because rclone is not a tool designed for two-way synchronization (to be exact, it is a one-way synchronization tool), so it does not keep a ledger to track files changes (modtime, size, checksum) in different places to compare and decide which to keep, which to discard or at least create duplicate files and notify the user.\r\n> \r\n> I wonder if there is any solution to this problem?\r\n\r\n@anhduong0811 This is exactly what [`rclone bisync`](https://rclone.org/bisync/) is designed for.\r\n\r\nFrom your script example it looks like you are using `bisync` only the first time, and only with the `--resync` flag. Then after this, you use `sync` and `copy` instead of `bisync`. Is there a reason for doing that instead of just using `bisync` (without `--resync`) the way it's intended? I think it would help with the problems you mentioned.\r\n\r\n\r\n> Sorry for bringing up this topic again. But I have a few lingering questions but don't know where else to ask.\r\n\r\nGenerally [the forum](https://forum.rclone.org/latest) is the best place 🙂 ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1897625171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1898916914","html_url":"https://github.com/rclone/rclone/issues/3232#issuecomment-1898916914","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3232","id":1898916914,"node_id":"IC_kwDOAQ-n5M5xLywy","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-18T17:29:31Z","updated_at":"2024-01-18T17:29:31Z","body":"> `bisync` does not work well with `inotifywait`, I got \"fatal error, need resync\" almost at the time it runs\r\n\r\nThere are some new features coming soon that should significantly improve this:\r\n\r\n- https://github.com/rclone/rclone/pull/7501\r\n- https://github.com/rclone/rclone/pull/7529\r\n- https://github.com/rclone/rclone/pull/7410\r\n\r\nAs you correctly noted, `copy` and `sync` are one-way synchronization tools, and are not intended for two-way sync because of issues like the ones you described. I'd encourage you to give bisync another try once the new features are available -- I think it will be a better fit for your use case.\r\n\r\nHappy to chat through your questions in more detail with you if you'd like (but let's do it on a new issue or in the forum, as this is an old closed issue from 2019.)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1898916914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}}]