{"url":"https://api.github.com/repos/rclone/rclone/issues/4085","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4085/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4085/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4085/events","html_url":"https://github.com/rclone/rclone/issues/4085","id":585634924,"node_id":"MDU6SXNzdWU1ODU2MzQ5MjQ=","number":4085,"title":"The --no-check-certificate flag is not honored by oauth2 token fetch","user":{"login":"mspieth","id":1940984,"node_id":"MDQ6VXNlcjE5NDA5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1940984?v=4","gravatar_id":"","url":"https://api.github.com/users/mspieth","html_url":"https://github.com/mspieth","followers_url":"https://api.github.com/users/mspieth/followers","following_url":"https://api.github.com/users/mspieth/following{/other_user}","gists_url":"https://api.github.com/users/mspieth/gists{/gist_id}","starred_url":"https://api.github.com/users/mspieth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mspieth/subscriptions","organizations_url":"https://api.github.com/users/mspieth/orgs","repos_url":"https://api.github.com/users/mspieth/repos","events_url":"https://api.github.com/users/mspieth/events{/privacy}","received_events_url":"https://api.github.com/users/mspieth/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/39","html_url":"https://github.com/rclone/rclone/milestone/39","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/39/labels","id":4787007,"node_id":"MDk6TWlsZXN0b25lNDc4NzAwNw==","number":39,"title":"v1.52","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":35,"state":"closed","created_at":"2019-10-26T17:18:37Z","updated_at":"2020-05-29T14:52:38Z","due_on":"2020-03-14T07:00:00Z","closed_at":"2020-05-29T14:52:38Z"},"comments":2,"created_at":"2020-03-22T03:12:45Z","updated_at":"2020-03-22T12:28:52Z","closed_at":"2020-03-22T12:28:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\n\r\nWhen configuring a remote for onedrive and using --no-check-certificate, oauth2 token fetch fails with `x509: certificate signed by unknown authority`.\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\nmaster e569977c06972f4dc073c73937acf794a99e77c5\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\n\r\nLinux debian 64 bit.\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\n\r\nonedrive\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n\r\nrclone --no-check-certificate config\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n`\r\n$ ./rclone -vv --no-check-certificate config\r\n2020/03/22 14:11:45 DEBUG : rclone: Version \"v1.51.0-125-g87fb997b-beta\" starting with parameters [\"./rclone\" \"-vv\" \"--no-check-certificate\" \"config\"]\r\n2020/03/22 14:11:45 DEBUG : Using config file from \"/home/mark/.config/rclone/rclone.conf\"\r\nCurrent remotes:\r\n\r\nName                 Type\r\n====                 ====\r\nremote               onedrive\r\n\r\ne) Edit existing remote\r\nn) New remote\r\nd) Delete remote\r\nr) Rename remote\r\nc) Copy remote\r\ns) Set configuration password\r\nq) Quit config\r\ne/n/d/r/c/s/q> n\r\nname> test_remote\r\nType of storage to configure.\r\nEnter a string value. Press Enter for the default (\"\").\r\nChoose a number from below, or type in your own value\r\n 1 / 1Fichier\r\n   \\ \"fichier\"\r\n 2 / Alias for an existing remote\r\n   \\ \"alias\"\r\n 3 / Amazon Drive\r\n   \\ \"amazon cloud drive\"\r\n 4 / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)\r\n   \\ \"s3\"\r\n 5 / Backblaze B2\r\n   \\ \"b2\"\r\n 6 / Box\r\n   \\ \"box\"\r\n 7 / Cache a remote\r\n   \\ \"cache\"\r\n 8 / Citrix Sharefile\r\n   \\ \"sharefile\"\r\n 9 / Dropbox\r\n   \\ \"dropbox\"\r\n10 / Encrypt/Decrypt a remote\r\n   \\ \"crypt\"\r\n11 / FTP Connection\r\n   \\ \"ftp\"\r\n12 / Google Cloud Storage (this is not Google Drive)\r\n   \\ \"google cloud storage\"\r\n13 / Google Drive\r\n   \\ \"drive\"\r\n14 / Google Photos\r\n   \\ \"google photos\"\r\n15 / Hubic\r\n   \\ \"hubic\"\r\n16 / In memory object storage system.\r\n   \\ \"memory\"\r\n17 / JottaCloud\r\n   \\ \"jottacloud\"\r\n18 / Koofr\r\n   \\ \"koofr\"\r\n19 / Local Disk\r\n   \\ \"local\"\r\n20 / Mail.ru Cloud\r\n   \\ \"mailru\"\r\n21 / Mega\r\n   \\ \"mega\"\r\n22 / Microsoft Azure Blob Storage\r\n   \\ \"azureblob\"\r\n23 / Microsoft OneDrive\r\n   \\ \"onedrive\"\r\n24 / OpenDrive\r\n   \\ \"opendrive\"\r\n25 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH)\r\n   \\ \"swift\"\r\n26 / Pcloud\r\n   \\ \"pcloud\"\r\n27 / Put.io\r\n   \\ \"putio\"\r\n28 / QingCloud Object Storage\r\n   \\ \"qingstor\"\r\n29 / SSH/SFTP Connection\r\n   \\ \"sftp\"\r\n30 / Sugarsync\r\n   \\ \"sugarsync\"\r\n31 / Transparently chunk/split large files\r\n   \\ \"chunker\"\r\n32 / Union merges the contents of several upstream fs\r\n   \\ \"union\"\r\n33 / Webdav\r\n   \\ \"webdav\"\r\n34 / Yandex Disk\r\n   \\ \"yandex\"\r\n35 / http Connection\r\n   \\ \"http\"\r\n36 / premiumize.me\r\n   \\ \"premiumizeme\"\r\nStorage> 23\r\n** See help for onedrive backend at: https://rclone.org/onedrive/ **\r\n\r\nMicrosoft App Client Id\r\nLeave blank normally.\r\nEnter a string value. Press Enter for the default (\"\").\r\nclient_id> \r\nMicrosoft App Client Secret\r\nLeave blank normally.\r\nEnter a string value. Press Enter for the default (\"\").\r\nclient_secret> \r\nEdit advanced config? (y/n)\r\ny) Yes\r\nn) No (default)\r\ny/n> n\r\nRemote config\r\nUse auto config?\r\n * Say Y if not sure\r\n * Say N if you are working on a remote or headless machine\r\ny) Yes (default)\r\nn) No\r\ny/n> y\r\n2020/03/22 14:12:04 DEBUG : Starting auth server on 127.0.0.1:53682\r\nIf your browser doesn't open automatically go to the following link: http://127.0.0.1:53682/auth?state=qiX6hhWMl7wo0_cQUEAj1Q\r\nLog in and authorize rclone for access\r\nWaiting for code...\r\n2020/03/22 14:12:10 DEBUG : Received GET request on auth server to \"/\"\r\nGot code\r\n2020/03/22 14:12:10 DEBUG : Closing auth server\r\n2020/03/22 14:12:10 DEBUG : Closed auth server with error: accept tcp 127.0.0.1:53682: use of closed network connection\r\n2020/03/22 14:12:10 Failed to configure token: failed to get token: Post \"https://login.microsoftonline.com/common/oauth2/v2.0/token\": x509: certificate signed by unknown authority\r\n`\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4085/timeline","performed_via_github_app":null,"state_reason":"completed"}