{"url":"https://api.github.com/repos/rclone/rclone/issues/3492","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3492/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3492/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3492/events","html_url":"https://github.com/rclone/rclone/issues/3492","id":486267197,"node_id":"MDU6SXNzdWU0ODYyNjcxOTc=","number":3492,"title":"Not saved random generated password in config for \"crypt\"","user":{"login":"lithium0003","id":4783887,"node_id":"MDQ6VXNlcjQ3ODM4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4783887?v=4","gravatar_id":"","url":"https://api.github.com/users/lithium0003","html_url":"https://github.com/lithium0003","followers_url":"https://api.github.com/users/lithium0003/followers","following_url":"https://api.github.com/users/lithium0003/following{/other_user}","gists_url":"https://api.github.com/users/lithium0003/gists{/gist_id}","starred_url":"https://api.github.com/users/lithium0003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lithium0003/subscriptions","organizations_url":"https://api.github.com/users/lithium0003/orgs","repos_url":"https://api.github.com/users/lithium0003/repos","events_url":"https://api.github.com/users/lithium0003/events{/privacy}","received_events_url":"https://api.github.com/users/lithium0003/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/38","html_url":"https://github.com/rclone/rclone/milestone/38","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/38/labels","id":4606532,"node_id":"MDk6TWlsZXN0b25lNDYwNjUzMg==","number":38,"title":"v1.51","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":45,"state":"closed","created_at":"2019-08-27T09:35:50Z","updated_at":"2020-02-01T14:10:46Z","due_on":"2020-02-01T08:00:00Z","closed_at":"2020-02-01T14:09:58Z"},"comments":4,"created_at":"2019-08-28T09:37:59Z","updated_at":"2019-11-16T19:21:14Z","closed_at":"2019-08-28T11:11:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## What is the problem you are having with rclone?\r\nIn version v1.49.0, configure crypt remote password is not working with randomly generate password, manual password is correct. In saved conf file, password obscure's IV (16 bytes) are saved but nothing followed, so it treated null password / salt. It seems be working correctly crypt remote but its password is null. In display, random generated password is shown but is not saved and gone.\r\n\r\n## Version\r\nv1.49.0 is not working, v1.48.0 is correctly woking.\r\n\r\n## Log\r\n\r\n### v1.49.0\r\n\r\n#### version\r\n\r\n``` bash\r\nrclone v1.49.0\r\n- os/arch: darwin/amd64\r\n- go version: go1.12.9\r\n```\r\n\r\n#### configure\r\n``` bash\r\n$ rclone config\r\n[snip.]\r\nPassword or pass phrase for encryption.\r\ny) Yes type in my own password\r\ng) Generate random password\r\nn) No leave this optional password blank\r\ny/g/n> g\r\nPassword strength in bits.\r\n64 is just about memorable\r\n128 is secure\r\n1024 is the maximum\r\nBits> 128\r\nYour password is: S9zb1bBPVvH35w5_mM41WA\r\nUse this password? Please note that an obscured version of this \r\npassword (and not the password itself) will be stored under your \r\nconfiguration file, so keep this generated password in a safe place.\r\ny) Yes\r\nn) No\r\ny/n> y\r\nPassword or pass phrase for salt. Optional but recommended.\r\nShould be different to the previous password.\r\ny) Yes type in my own password\r\ng) Generate random password\r\nn) No leave this optional password blank\r\ny/g/n> g\r\nPassword strength in bits.\r\n64 is just about memorable\r\n128 is secure\r\n1024 is the maximum\r\nBits> 128\r\nYour password is: 489hSmaFItYDRODJczgxsg\r\nUse this password? Please note that an obscured version of this \r\npassword (and not the password itself) will be stored under your \r\nconfiguration file, so keep this generated password in a safe place.\r\ny) Yes\r\nn) No\r\ny/n> y\r\nRemote config\r\n--------------------\r\n[crypttest]\r\ntype = crypt\r\nremote = google:rclonetest2\r\nfilename_encryption = standard\r\npassword = *** ENCRYPTED ***\r\npassword2 = *** ENCRYPTED ***\r\n--------------------\r\ny) Yes this is OK\r\ne) Edit this remote\r\nd) Delete this remote\r\ny/e/d> y\r\n```\r\n\r\n#### result\r\n``` bash\r\n$ cat .config/rclone/rclone.conf \r\n[crypttest]\r\ntype = crypt\r\nremote = google:rclonetest2\r\nfilename_encryption = standard\r\npassword = BXBvmcEnAMMcCJEKl1Sy_w\r\npassword2 = uq75aIIZxnh8nHdD9yYt9Q\r\n```\r\n\r\n### v1.48.0\r\n\r\n#### version\r\n\r\n``` bash\r\nrclone v1.48.0\r\n- os/arch: darwin/amd64\r\n- go version: go1.12.6\r\n```\r\n\r\n#### configure\r\n``` bash\r\n$ rclone config\r\n[snip.]\r\nPassword or pass phrase for encryption.\r\ny) Yes type in my own password\r\ng) Generate random password\r\nn) No leave this optional password blank\r\ny/g/n> g\r\nPassword strength in bits.\r\n64 is just about memorable\r\n128 is secure\r\n1024 is the maximum\r\nBits> 128\r\nYour password is: ZFY2FeiBGTZzY-xkp9DPOQ\r\nUse this password? Please note that an obscured version of this \r\npassword (and not the password itself) will be stored under your \r\nconfiguration file, so keep this generated password in a safe place.\r\ny) Yes\r\nn) No\r\ny/n> y\r\nPassword or pass phrase for salt. Optional but recommended.\r\nShould be different to the previous password.\r\ny) Yes type in my own password\r\ng) Generate random password\r\nn) No leave this optional password blank\r\ny/g/n> g\r\nPassword strength in bits.\r\n64 is just about memorable\r\n128 is secure\r\n1024 is the maximum\r\nBits> 128\r\nYour password is: ymPHKpbHWBDvTobV-iiqJA\r\nUse this password? Please note that an obscured version of this \r\npassword (and not the password itself) will be stored under your \r\nconfiguration file, so keep this generated password in a safe place.\r\ny) Yes\r\nn) No\r\ny/n> y\r\nEdit advanced config? (y/n)\r\ny) Yes\r\nn) No\r\ny/n> n\r\nRemote config\r\n--------------------\r\n[crypttest]\r\ntype = crypt\r\nremote = google:rclonetest2\r\nfilename_encryption = standard\r\npassword = *** ENCRYPTED ***\r\npassword2 = *** ENCRYPTED ***\r\n--------------------\r\ny) Yes this is OK\r\ne) Edit this remote\r\nd) Delete this remote\r\ny/e/d> y\r\n```\r\n\r\n#### result\r\n``` bash\r\n$ cat .config/rclone/rclone.conf \r\n[crypttest]\r\ntype = crypt\r\nremote = google:rclonetest2\r\nfilename_encryption = standard\r\npassword = 4ZLoW0upuVFuyTvxEhdil3LMOawVAHvJqF6_qSrkY8F7YL44IOo\r\npassword2 = kk0M92t7yMTseIcXWm8-uBXlBEVJyfwneYe-bJfKpjW93eyxaUc\r\n```","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3492/timeline","performed_via_github_app":null,"state_reason":"completed"}