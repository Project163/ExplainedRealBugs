[{"id":4586889983,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1ODY4ODk5ODM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4586889983","actor":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-13T09:21:18Z","label":{"name":"OS: Unix","color":"e8d466"},"performed_via_github_app":null},{"id":4586892343,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1ODY4OTIzNDM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4586892343","actor":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-13T09:21:46Z","label":{"name":"VFS / mount","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/818624584","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-818624584","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":818624584,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODYyNDU4NA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T10:18:48Z","updated_at":"2021-04-13T10:18:48Z","body":"I can replicate this with\r\n\r\n```\r\n$ rclone-v1.55.0  -vv --config /tmp/rclone.conf mount /tmp/ /mnt/tmp/ --daemon --log-file /tmp/log.log\r\nEnter configuration password:\r\npassword:\r\n```\r\n\r\nWhich gives this in the log\r\n\r\n```\r\n2021/04/12 20:12:25 DEBUG : Using config file from \"/tmp/rclone.conf\"\r\n2021/04/12 20:12:25 DEBUG : rclone: Version \"v1.55.0\" starting with parameters [\"rclone-v1.55.0\" \"-vv\" \"--config\" \"/tmp/rclone.conf\" \"mount\" \"/tmp/\" \"/mnt/tmp/\" \"--daemon\" \"--log-file\" \"/tmp/log.log\"]\r\n2021/04/12 20:12:25 DEBUG : Creating backend with remote \"/tmp/\"\r\n2021/04/12 20:12:25 DEBUG : rclone: Version \"v1.55.0\" finishing with parameters [\"rclone-v1.55.0\" \"-vv\" \"--config\" \"/tmp/rclone.conf\" \"mount\" \"/tmp/\" \"/mnt/tmp/\" \"--daemon\" \"--log-file\" \"/tmp/log.log\"]\r\n2021/04/12 20:12:25 ERROR : Couldn't decrypt configuration, most likely wrong password.\r\n2021/04/12 20:12:25 Failed to read line: EOF\r\n```\r\n\r\nThis does not replicate with v1.54 so it is a regression, alas.\r\n\r\n@albertony do you fancy taking a look at this? It is almost certainly to do with the config re-org that you've been fixing up!\r\n\r\nPS Note that you can use this as a workaround\r\n\r\n```\r\nread -s RCLONE_CONFIG_PASS\r\nexport RCLONE_CONFIG_PASS\r\nrclone mount ... --daemon\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/818624584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4587175653,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDU4NzE3NTY1Mw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4587175653","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-13T10:18:48Z","performed_via_github_app":null},{"id":4587175661,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1ODcxNzU2NjE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4587175661","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-13T10:18:48Z","performed_via_github_app":null},{"id":4587176258,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1ODcxNzYyNTg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4587176258","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-13T10:18:57Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":4587176798,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1ODcxNzY3OTg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4587176798","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-13T10:19:05Z","label":{"name":"configuration","color":"8ccedb"},"performed_via_github_app":null},{"id":4587177269,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ1ODcxNzcyNjk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4587177269","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-04-13T10:19:11Z","milestone":{"title":"v1.56"},"performed_via_github_app":null},{"id":4587178842,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDU4NzE3ODg0Mg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4587178842","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-04-13T10:19:31Z","rename":{"from":"rclone mount fails with --daemon flag","to":"rclone mount fails with --daemon flag when asking for config password"},"performed_via_github_app":null},{"id":4587698455,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1ODc2OTg0NTU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4587698455","actor":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-13T12:16:00Z","label":{"name":"Point Release Candidate","color":"b60205"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/818746355","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-818746355","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":818746355,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODc0NjM1NQ==","user":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T13:42:48Z","updated_at":"2021-04-13T13:42:48Z","body":"> @albertony do you fancy taking a look at this? It is almost certainly to do with the config re-org that you've been fixing up!\r\n\r\nI may take a look, but I don't have a working linux environment with mount/fuse capabilities at the moment. Don't know when I will be able to debug it properly..","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/818746355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4588156732,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDU4ODE1NjczMg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4588156732","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-13T13:42:48Z","performed_via_github_app":null},{"id":4588156737,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1ODgxNTY3Mzc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4588156737","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-13T13:42:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/819356332","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-819356332","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":819356332,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTM1NjMzMg==","user":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T08:59:09Z","updated_at":"2021-04-14T08:59:09Z","body":"I tried changing the config file loading to more \"delay loaded\" approach as it was before,  but don't think that was it. I only tested without a working mount, though, so cannot tell 100% (beta here: https://github.com/albertony/rclone/releases/tag/v1.56.0-delayconfig01).\r\n\r\n@ncw: Should we do something like [this](https://github.com/albertony/rclone/commit/9ad4e004fb29d1ca53b500f1016ff4242f56d303) anyway? To avoid needing the \"memory-only\" config workaround to run simple commands like `help`, `version` and `config file` without having to enter configuration password, or did you want it to be loaded once and at a specific time early in the startup?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/819356332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4592351910,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDU5MjM1MTkxMA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4592351910","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-14T08:59:09Z","performed_via_github_app":null},{"id":4592351914,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1OTIzNTE5MTQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4592351914","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-14T08:59:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/820581304","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-820581304","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":820581304,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDU4MTMwNA==","user":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T16:53:31Z","updated_at":"2021-04-15T16:53:31Z","body":"Actually.. after fixing a small stupid mistake in the first proof of concept hack, it seems the strategy does solves it!\r\n\r\nI took the time necessary to get back a working linux devenv, and tested with a working fuse/mount:\r\n\r\n```\r\n$ ./rclone mount /tmp ./mnt --daemon --log-file ./rclone.log\r\nEnter configuration password:\r\npassword:$ cat rclone.log\r\n\r\n$ ls mnt\r\nsome-file\r\n$ ls /tmp\r\nsome-file\r\n```\r\n\r\n(trying to illustrate the log file is empty, and the mounted path contains the same content as the source of the mount).\r\n\r\nRepeating with -vv, the log contains:\r\n\r\n```\r\n2021/04/15 18:38:37 DEBUG : Creating backend with remote \"/tmp\"\r\n\r\n2021/04/15 18:38:39 DEBUG : saving configKey to temp file\r\n2021/04/15 18:38:39 DEBUG : Using config file from \"/home/user/projects/rclone/rclone.conf\"\r\n2021/04/15 18:38:39 DEBUG : rclone: Version \"v1.56.0-DEV\" finishing with parameters [\"./rclone\" \"mount\" \"/tmp\" \"./mnt\" \"--daemon\" \"--log-file\" \"./rclone.log\" \"-vv\"]\r\n2021/04/15 18:38:39 DEBUG : rclone: Version \"v1.56.0-DEV\" starting with parameters [\"./rclone\" \"mount\" \"/tmp\" \"./mnt\" \"--daemon\" \"--log-file\" \"./rclone.log\" \"-vv\"]\r\n2021/04/15 18:38:39 DEBUG : Creating backend with remote \"/tmp\"\r\n2021/04/15 18:38:39 DEBUG : attempting to obtain configKey from temp file /tmp/rclone117424569\r\n2021/04/15 18:38:39 DEBUG : using _RCLONE_CONFIG_KEY_FILE for configKey\r\n2021/04/15 18:38:39 DEBUG : Using config file from \"/home/user/projects/rclone/rclone.conf\"\r\n2021/04/15 18:38:39 INFO  : Local file system at /tmp: poll-interval is not supported by this remote\r\n2021/04/15 18:38:39 DEBUG : Local file system at /tmp: Mounting on \"./mnt\"\r\n2021/04/15 18:38:39 DEBUG : : Root:\r\n2021/04/15 18:38:39 DEBUG : : >Root: node=/, err=<nil>\r\n2021/04/15 18:38:39 DEBUG : /: Attr:\r\n2021/04/15 18:38:39 DEBUG : /: >Attr: attr=valid=1s ino=0 size=0 mode=drwxr-xr-x, err=<nil>\r\n```\r\n\r\nPushed an update, which is now a beta 2: https://github.com/albertony/rclone/releases/tag/v1.56.0-delayconfig02\r\n\r\nSo, the question to @ncw is then: Is this the way we want to solve this, or do we want to keep the v1.55 strategy of pre-loading the config and solve the `--daemon` issue in another way â“ \r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/820581304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4600476306,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDYwMDQ3NjMwNg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4600476306","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-15T16:53:31Z","performed_via_github_app":null},{"id":4600476311,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2MDA0NzYzMTE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4600476311","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-15T16:53:31Z","performed_via_github_app":null},{"actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T09:05:37Z","updated_at":"2021-04-16T09:05:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/5228","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5228/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5228/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5228/events","html_url":"https://github.com/rclone/rclone/issues/5228","id":854990264,"node_id":"MDU6SXNzdWU4NTQ5OTAyNjQ=","number":5228,"title":"Regression: --version requires configuration password","user":{"login":"dandv","id":33569,"node_id":"MDQ6VXNlcjMzNTY5","avatar_url":"https://avatars.githubusercontent.com/u/33569?v=4","gravatar_id":"","url":"https://api.github.com/users/dandv","html_url":"https://github.com/dandv","followers_url":"https://api.github.com/users/dandv/followers","following_url":"https://api.github.com/users/dandv/following{/other_user}","gists_url":"https://api.github.com/users/dandv/gists{/gist_id}","starred_url":"https://api.github.com/users/dandv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dandv/subscriptions","organizations_url":"https://api.github.com/users/dandv/orgs","repos_url":"https://api.github.com/users/dandv/repos","events_url":"https://api.github.com/users/dandv/events{/privacy}","received_events_url":"https://api.github.com/users/dandv/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1710413418,"node_id":"MDU6TGFiZWwxNzEwNDEzNDE4","url":"https://api.github.com/repos/rclone/rclone/labels/Point%20Release%20Candidate","name":"Point Release Candidate","color":"b60205","default":false,"description":""},{"id":2504903272,"node_id":"MDU6TGFiZWwyNTA0OTAzMjcy","url":"https://api.github.com/repos/rclone/rclone/labels/configuration","name":"configuration","color":"8ccedb","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-04-10T05:55:00Z","updated_at":"2021-04-26T21:37:49Z","closed_at":"2021-04-26T21:37:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"In v1.50.2, running `rclone --version` with an encrypted config file would output the version.\r\n\r\nIn v1.55.0, the same command asks for the configuration password first. This should not be necessary, as none of the information output by `--version` seems related to the configuration.\r\n\r\n```\r\n$ rclone --version\r\nEnter configuration password:\r\npassword:\r\nrclone v1.55.0\r\n- os/type: linux\r\n- os/arch: amd64\r\n- go/version: go1.16.2\r\n- go/linking: static\r\n- go/tags: cmount\r\n```\r\n\r\n(Also, the password prompt is doubled, but that's a separate issue.)","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5228/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/821857899","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-821857899","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":821857899,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTg1Nzg5OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-17T17:28:12Z","updated_at":"2021-04-17T17:28:12Z","body":"> @ncw: Should we do something like [this](https://github.com/albertony/rclone/commit/9ad4e004fb29d1ca53b500f1016ff4242f56d303) anyway? To avoid needing the \"memory-only\" config workaround to run simple commands like `help`, `version` and `config file` without having to enter configuration password, or did you want it to be loaded once and at a specific time early in the startup?\r\n\r\nNot sure what has changed in that - it seems to be a lot of renaming stuff!\r\n\r\nCan you do the minimum fix without renaming stuff? Note also that if you don't pass `ctx` to LoadConfig then it won't pick up changes to the config location set by the API.\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/821857899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4608172555,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDYwODE3MjU1NQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4608172555","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-04-17T17:28:12Z","performed_via_github_app":null},{"id":4608172557,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2MDgxNzI1NTc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4608172557","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-04-17T17:28:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/821865505","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-821865505","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":821865505,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTg2NTUwNQ==","user":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-17T18:19:31Z","updated_at":"2021-04-17T18:19:31Z","body":"#### Current version (on master):\r\n- cmd.initConfig() calls configfile.LoadConfig(ctx)\r\n- configfile.LoadConfig does:\r\n\t```\r\n\tconfig.Data = &Storage{}\r\n\tconfig.LoadConfig(ctx)\r\n\t```\r\n- config.LoadConfig calls data.Load()\r\n  ... which reads the config file, decrypting it if necessary!\r\n\r\nSo in effect: config file is read (and decrypted) on rclone startup!\r\n  \r\n#### New version (on my delayload_config branch):\r\n- cmd.initConfig() calls configfile.Install(ctx)\r\n- configfile.Install does:\r\n\t```\r\n\tconfig.SetData(&Storage{})\r\n\t```\r\n- config uses the data/storage like this:\r\n\t```\r\n\tfunc SetData(newData Storage) {\r\n\t\tdata = newData\r\n\t\tdataLoaded = false\r\n\t}\r\n\r\n\tfunc LoadedData() Storage {\r\n\t\tif !dataLoaded {\r\n\t\t\tdata.Load()\r\n\t\t\tdataLoaded = true\r\n\t\t}\r\n\t}\r\n\r\n\tfunc SetValueAndSave(name, key, value string) error {\r\n\t\t// Set the value in config in case we fail to reload it\r\n\t\tLoadedData().SetValue(name, key, value)\r\n\t\t// Save it again\r\n\t\tSaveConfig()\r\n\t\treturn nil\r\n\t}\r\n\r\n\tfunc FileGetFlag(section, key string) (string, bool) {\r\n\t\treturn LoadedData().GetValue(section, key)\r\n\t}\r\n\r\n\t```\r\n\r\nSo delay-loading configuration, on first use.\r\n\r\n#### Regarding:\r\n\r\n> Not sure what has changed in that - it seems to be a lot of renaming stuff!\r\n\r\nYes, renaming old LoadConfig to Install because it only \"installs\" the configfile implementation into config, but does not load it anymore.\r\n\r\n> Note also that if you don't pass ctx to LoadConfig then it won't pick up changes to the config location set by the API.\r\n\r\nMust admit I do not understand the ctx use.. Does it have this effect even when not referenced, which existing code also did not:\r\nhttps://github.com/rclone/rclone/blob/3e96752079c14c3a9051f52e4db4940238540d36/fs/config/config.go#L338-L354","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/821865505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/821867461","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-821867461","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":821867461,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTg2NzQ2MQ==","user":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-17T18:31:58Z","updated_at":"2021-04-17T18:32:30Z","body":"The essence of it is \"delay loading\" or \"on-demand loading\" of the configfile, as seen in the first line of function LoadedData and calls to it further down in the file fs/config/config.go:\r\n\r\n```\r\nfunc LoadedData() Storage {\r\n\tif !dataLoaded {\r\n```\r\n\r\nhttps://github.com/albertony/rclone/blob/80b5a0bf4ebf21cc2b5d7af6d979445375582236/fs/config/config.go#L349-L350","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/821867461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/822589925","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-822589925","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":822589925,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjU4OTkyNQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T16:08:08Z","updated_at":"2021-04-19T16:08:08Z","body":"> #### Current version (on master):\r\n> * cmd.initConfig() calls configfile.LoadConfig(ctx)\r\n> * configfile.LoadConfig does:\r\n>   ```\r\n>    config.Data = &Storage{}\r\n>    config.LoadConfig(ctx)\r\n>   ```\r\n> * config.LoadConfig calls data.Load()\r\n>   ... which reads the config file, decrypting it if necessary!\r\n> \r\n> So in effect: config file is read (and decrypted) on rclone startup!\r\n\r\nOK\r\n \r\n> #### New version (on my delayload_config branch):\r\n> * cmd.initConfig() calls configfile.Install(ctx)\r\n> * configfile.Install does:\r\n>   ```\r\n>    config.SetData(&Storage{})\r\n>   ```\r\n> * config uses the data/storage like this:\r\n>   ```\r\n>    func SetData(newData Storage) {\r\n>    \tdata = newData\r\n>    \tdataLoaded = false\r\n>    }\r\n>   \r\n>    func LoadedData() Storage {\r\n>    \tif !dataLoaded {\r\n>    \t\tdata.Load()\r\n>    \t\tdataLoaded = true\r\n>    \t}\r\n>    }\r\n>   \r\n>    func SetValueAndSave(name, key, value string) error {\r\n>    \t// Set the value in config in case we fail to reload it\r\n>    \tLoadedData().SetValue(name, key, value)\r\n>    \t// Save it again\r\n>    \tSaveConfig()\r\n>    \treturn nil\r\n>    }\r\n>   \r\n>    func FileGetFlag(section, key string) (string, bool) {\r\n>    \treturn LoadedData().GetValue(section, key)\r\n>    }\r\n>   ```\r\n> \r\n> So delay-loading configuration, on first use.\r\n> \r\n> #### Regarding:\r\n> > Not sure what has changed in that - it seems to be a lot of renaming stuff!\r\n> \r\n> Yes, renaming old LoadConfig to Install because it only \"installs\" the configfile implementation into config, but does not load it anymore.\r\n\r\nCan you do that as a separate commit so the real changes don't get lost in the noise?\r\n \r\n> > Note also that if you don't pass ctx to LoadConfig then it won't pick up changes to the config location set by the API.\r\n> \r\n> Must admit I do not understand the ctx use.. Does it have this effect even when not referenced, which existing code also did not:\r\n> https://github.com/rclone/rclone/blob/3e96752079c14c3a9051f52e4db4940238540d36/fs/config/config.go#L338-L354\r\n\r\nPerhaps it was for future compatibility.... Passing ctx is a good idea anyway. I've had to add it in to just about every function in every backend now which gets tiring.\r\n\r\nYou can remove it if the function doesn't use it.\r\n\r\nAre you going to submit a PR with this in at some point?\r\n\r\nThank you for having a look at this.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/822589925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/822608151","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-822608151","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":822608151,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjYwODE1MQ==","user":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T16:32:34Z","updated_at":"2021-04-19T16:32:34Z","body":"> Are you going to submit a PR with this in at some point?\r\n\r\nYes, I will do that (and split the commits as you mention).\r\nI initially just wanted to try out a proof-of-concept to see if this fixed it, and when it did I wanted to ask you if that switch from delay-loaded config introduced in latest release was done for a (good) reason, so we had to keep that change and then would have to fix this issue in a completely different way!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/822608151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/822627085","html_url":"https://github.com/rclone/rclone/issues/5236#issuecomment-822627085","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5236","id":822627085,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjYyNzA4NQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T17:01:11Z","updated_at":"2021-04-19T17:01:11Z","body":"> > Are you going to submit a PR with this in at some point?\r\n> \r\n> Yes, I will do that (and split the commits as you mention).\r\n> I initially just wanted to try out a proof-of-concept to see if this fixed it, and when it did I wanted to ask you if that switch from delay-loaded config introduced in latest release was done for a (good) reason, so we had to keep that change and then would have to fix this issue in a completely different way!\r\n\r\nIt seems like a good idea :-) Looking forward to the PR","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/822627085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4614136609,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2MTQxMzY2MDk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/4614136609","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4d66d6ec3d07f3a8133810f3f4800decc9189bc3","commit_url":"https://api.github.com/repos/albertony/rclone/commits/4d66d6ec3d07f3a8133810f3f4800decc9189bc3","created_at":"2021-04-19T17:41:44Z","performed_via_github_app":null},{"actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T17:45:16Z","updated_at":"2021-04-19T17:45:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/5258","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5258/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5258/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5258/events","html_url":"https://github.com/rclone/rclone/pull/5258","id":861598275,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE4MjQxNjE5","number":5258,"title":"Delay load config file","user":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2504903272,"node_id":"MDU6TGFiZWwyNTA0OTAzMjcy","url":"https://api.github.com/repos/rclone/rclone/labels/configuration","name":"configuration","color":"8ccedb","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-19T17:45:16Z","updated_at":"2021-10-25T10:39:08Z","closed_at":"2021-04-26T21:37:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/5258","html_url":"https://github.com/rclone/rclone/pull/5258","diff_url":"https://github.com/rclone/rclone/pull/5258.diff","patch_url":"https://github.com/rclone/rclone/pull/5258.patch","merged_at":"2021-04-26T21:37:49Z"},"body":"<!--\r\nThank you very much for contributing code or documentation to rclone! Please\r\nfill out the following questions to make it easier for us to review your\r\nchanges.\r\n\r\nYou do not need to check all the boxes below all at once, feel free to take\r\nyour time and add more commits. If you're done and ready for review, please\r\ncheck the last box.\r\n-->\r\n\r\n#### What is the purpose of this change?\r\n\r\nRestructuring of config code in v1.55 resulted in config file being loaded early at process startup. If configuration file is encrypted this means user will need to supply the password, even when running commands that does not use config. This also lead to an issue where mount with --deamon failed to decrypt the config file when it had to prompt user for passord.\r\n\r\nThis PR removes the forced config file loading at startup, and instead waits until first actual config access.\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\nFixes #5236\r\nFixes #5228\r\n\r\n#### Checklist\r\n\r\n- [X] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-pull-request).\r\n- [X] I have added tests for all changes in this PR if appropriate.\r\n- [X] I have added documentation for the changes if appropriate.\r\n- [X] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [X] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5258/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]