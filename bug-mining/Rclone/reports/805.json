{"url":"https://api.github.com/repos/rclone/rclone/issues/3991","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3991/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3991/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3991/events","html_url":"https://github.com/rclone/rclone/issues/3991","id":569255896,"node_id":"MDU6SXNzdWU1NjkyNTU4OTY=","number":3991,"title":"b2: Failed to set modification time: Copy source too big - need multipart copy","user":{"login":"dsampson01","id":4681377,"node_id":"MDQ6VXNlcjQ2ODEzNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4681377?v=4","gravatar_id":"","url":"https://api.github.com/users/dsampson01","html_url":"https://github.com/dsampson01","followers_url":"https://api.github.com/users/dsampson01/followers","following_url":"https://api.github.com/users/dsampson01/following{/other_user}","gists_url":"https://api.github.com/users/dsampson01/gists{/gist_id}","starred_url":"https://api.github.com/users/dsampson01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsampson01/subscriptions","organizations_url":"https://api.github.com/users/dsampson01/orgs","repos_url":"https://api.github.com/users/dsampson01/repos","events_url":"https://api.github.com/users/dsampson01/events{/privacy}","received_events_url":"https://api.github.com/users/dsampson01/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":306063207,"node_id":"MDU6TGFiZWwzMDYwNjMyMDc=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Backblaze%20B2","name":"Remote: Backblaze B2","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/40","html_url":"https://github.com/rclone/rclone/milestone/40","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/40/labels","id":5062622,"node_id":"MDk6TWlsZXN0b25lNTA2MjYyMg==","number":40,"title":"v1.53","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"closed","created_at":"2020-02-01T14:11:00Z","updated_at":"2020-09-05T13:46:47Z","due_on":"2020-08-31T07:00:00Z","closed_at":"2020-09-05T13:46:47Z"},"comments":23,"created_at":"2020-02-22T01:06:31Z","updated_at":"2020-06-29T20:14:25Z","closed_at":"2020-06-05T12:28:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n\r\nWelcome :-) We understand you are having a problem with rclone; we want to help you with that!\r\n\r\nIf you've just got a question or aren't sure if you've found a bug then please use the rclone forum:\r\n\r\n    https://forum.rclone.org/\r\n\r\ninstead of filing an issue for a quick response.\r\n\r\nIf you think you might have found a bug, please can you try to replicate it with the latest beta?\r\n\r\n    https://beta.rclone.org/\r\n    \r\nIf you can still replicate it with the latest beta, then please fill in the info below which makes our lives much easier.  A log with -vv will make our day :-)\r\n\r\nThank you\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n#### What is the problem you are having with rclone?\r\nAm trying to set modification time on tow large files in our BackBlaze B2 bucket and it errors out. This is similar to a post I filed on the rclone support forum last fall (https://forum.rclone.org/t/failed-to-set-modification-time-copy-source-too-big-backblaze/12416). At that time, I was told to use a beta version and to use the clunker mode in my configuration file. It appeared to have fixed that. However, it returned just this month.\r\n\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nroot@rclone:~ # /usr/local/bin/rclone version\r\nrclone v1.51.0\r\n- os/arch: freebsd/amd64\r\n- go version: go1.13.7\r\nroot@rclone:~ # \r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\nFreeNAS 11.3-RELEASE-p6\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\n\r\nBackBlaze B2\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n I run a script as follows:\r\n\r\n#!/bin/sh\r\n\r\nsrc=/mnt/storage\r\ndest=b2-backup:DawnSign-0001\r\nfold=FreeNAS\r\nemail=admin@example.com\r\nlog_level=INFO\r\nlog_time=`date \"+%Y%m%d_%H:%M\"`\r\nlog_path=/var/log\r\nlog_file=${log_path}/rclone-${log_time}.log\r\nmin_age=15m\r\nb2_chunk_size=48M\r\ntransfers=20\r\n\r\n#/usr/local/bin/rclone sync \\\r\n/usr/bin/rclone sync \\\r\n    --copy-links \\\r\n    --fast-list \\\r\n    --exclude .DS_Store \\\r\n    --exclude-if-present .ignore \\\r\n    --min-age ${min_age} \\\r\n    --b2-chunk-size ${b2_chunk_size} \\\r\n    --transfers ${transfers} \\\r\n    --log-level ${log_level} \\\r\n    --log-file ${log_file} \\\r\n     ${src} ${dest}/${fold} $@\r\nrc=$?\r\n\r\nif [ $rc != 0 ]; then\r\n    touch /root/bin/B2-error-${log_time}.txt\r\n    cat /root/bin/B2-error.txt > /root/bin/B2-error-${log_time}.txt\r\n    cat ${log_file} >> /root/bin/B2-error-${log_time}.txt \r\n    cat /root/bin/B2-error-${log_time}.txt | /usr/local/bin/mini_sendmail -fadmin@example.com -smail.example.com ${email}\r\n\r\nelse\r\n    touch /root/bin/B2-success-${log_time}.txt\r\n    cat /root/bin/B2-success.txt > /root/bin/B2-success-${log_time}.txt\r\n    cat ${log_file} >> /root/bin/B2-success-${log_time}.txt \r\n    cat /root/bin/B2-success-${log_time}.txt | /usr/local/bin/mini_sendmail -fadmin@example.com -smail.example.com ${email}\r\nfi\r\n\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\nHere's a snippet of the error log:\r\n\r\n2020/02/21 16:54:09 INFO  : \r\nTransferred:             0 / 0 Bytes, -, 0 Bytes/s, ETA -\r\nErrors:                 0\r\nChecks:            632429 / 640943, 99%\r\nTransferred:            0 / 0, -\r\nElapsed time:      18m16s\r\nChecking:\r\n * Signing Naturally/SN 2â€¦l 2 Student Part 2.mov: checking\r\n * Signing Naturally/SN Lâ€¦l_1_Student_011119.mov: checking\r\n\r\n2020/02/21 16:54:55 ERROR : Signing Naturally/SN Level 1/MOV/Signing_Naturally_Level_1_Student_011119.mov: Failed to set modification time: Copy source too big: 38922974256 (400 bad_request)\r\n2020/02/21 16:55:02 ERROR : Signing Naturally/SN 2 & 3/SN 2/Signing Naturally Level 2 Student Part 2.mov: Failed to set modification time: Copy source too big: 40300155482 (400 bad_request)\r\n2020/02/21 16:55:09 INFO  : \r\nTransferred:             0 / 0 Bytes, -, 0 Bytes/s, ETA -\r\nErrors:                 2 (retrying may help)\r\nChecks:            661355 / 661355, 100%\r\nTransferred:            0 / 0, -\r\nElapsed time:     19m9.5s\r\n\r\n2020/02/21 16:55:30 INFO  : B2 bucket DawnSign-0001 path FreeNAS: Waiting for checks to finish\r\n2020/02/21 16:55:30 INFO  : B2 bucket DawnSign-0001 path FreeNAS: Waiting for transfers to finish\r\n2020/02/21 16:55:30 ERROR : B2 bucket DawnSign-0001 path FreeNAS: not deleting files as there were IO errors\r\n2020/02/21 16:55:30 ERROR : B2 bucket DawnSign-0001 path FreeNAS: not deleting directories as there were IO errors\r\n2020/02/21 16:55:30 ERROR : Attempt 3/3 failed with 3 errors and: not deleting files as there were IO errors\r\n2020/02/21 16:55:30 Failed to sync with 3 errors: last error was: not deleting files as there were IO errors\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3991/timeline","performed_via_github_app":null,"state_reason":"completed"}