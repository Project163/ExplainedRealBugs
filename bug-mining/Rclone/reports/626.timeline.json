[{"id":2250755697,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNTA3NTU2OTc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2250755697","actor":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2fb39f771dfc6175103f1e006687a97ac0d24b7b","commit_url":"https://api.github.com/repos/jeffquinn-bluevoyant/rclone/commits/2fb39f771dfc6175103f1e006687a97ac0d24b7b","created_at":"2019-04-03T18:35:29Z","performed_via_github_app":null},{"actor":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T18:35:59Z","updated_at":"2019-04-03T18:35:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/3087","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3087/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3087/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3087/events","html_url":"https://github.com/rclone/rclone/pull/3087","id":428915257,"node_id":"MDExOlB1bGxSZXF1ZXN0MjY3MTYzOTQ2","number":3087,"title":"Add FTP list timeout","user":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-04-03T18:35:59Z","updated_at":"2019-05-11T16:26:25Z","closed_at":"2019-05-11T16:26:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/3087","html_url":"https://github.com/rclone/rclone/pull/3087","diff_url":"https://github.com/rclone/rclone/pull/3087.diff","patch_url":"https://github.com/rclone/rclone/pull/3087.patch","merged_at":"2019-05-11T16:26:24Z"},"body":"#### What is the purpose of this change?\r\n\r\nAdds 60s timeout for the FTP List command.\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\n#3086\r\n\r\n#### Checklist\r\n\r\n- [ x ] I have read the [contribution guidelines](https://github.com/ncw/rclone/blob/master/CONTRIBUTING.md#submitting-a-pull-request).\r\n- [ x ] I have added tests for all changes in this PR if appropriate.\r\n- [ x ] I have added documentation for the changes if appropriate.\r\n- [ x ] All commit messages are in [house style](https://github.com/ncw/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [ x ] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3087/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/479979936","html_url":"https://github.com/rclone/rclone/issues/3086#issuecomment-479979936","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3086","id":479979936,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk3OTkzNg==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T16:58:22Z","updated_at":"2019-04-04T16:58:22Z","body":"> Running a copy command from FTP to GS, the process hangs indefinitely. The thread dump of the hanging process (running for 16 hours, with essentially no network activity) seems to indicate it is waiting for the FTP list command to return:\r\n\r\nWhat do you think the underlying cause of the FTP server not responding to LIST is? It is likely a bug in the ftp library.\r\n\r\nI'd rather fix that that put a timeout in the rclone List command.\r\n\r\nWhich FTP server is it? Can you make an easy reproduction?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/479979936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/479984651","html_url":"https://github.com/rclone/rclone/issues/3086#issuecomment-479984651","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3086","id":479984651,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk4NDY1MQ==","user":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T17:11:51Z","updated_at":"2019-04-04T17:11:51Z","body":"At our company we have a bunch of 3rd party vendors who prefer to send us data via FTP. So I have limited insight into what's going on on the other end unfortunately..\r\n\r\nWhen you say bug in the FTP library do you mean the client library rclone is using or the remote server? I agree the remote server in this case is probably at fault, but that should be no reason not to try and be robust on our side. I think future data engineers who pick up rclone will be thankful :)\r\n\r\nIf there was a way to reset the timeout when data actually comes over the wire that would be ideal, because with the patch I have written here, theoretically we could be interrupting a successful command that is sending 1G of LIST results back over the wire, or something.\r\n\r\nI'm going to try using `--fast-list` in the mean time, which I think should issue fewer LIST commands, and thus have a better chance of success maybe.\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/479984651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/480339331","html_url":"https://github.com/rclone/rclone/issues/3086#issuecomment-480339331","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3086","id":480339331,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDMzOTMzMQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T16:28:46Z","updated_at":"2019-04-05T16:28:46Z","body":"> At our company we have a bunch of 3rd party vendors who prefer to send us data via FTP. So I have limited insight into what's going on on the other end unfortunately..\r\n\r\nAh OK.  Could you take an wireshark dump?\r\n \r\n> When you say bug in the FTP library do you mean the client library rclone is using or the remote server? I agree the remote server in this case is probably at fault, but that should be no reason not to try and be robust on our side. I think future data engineers who pick up rclone will be thankful :)\r\n\r\nI think it is probably a bug in the [ftp client library rclone](https://github.com/jlaffaye/ftp) is using.\r\n \r\n> If there was a way to reset the timeout when data actually comes over the wire that would be ideal, because with the patch I have written here, theoretically we could be interrupting a successful command that is sending 1G of LIST results back over the wire, or something.\r\n\r\nRclone implements exactly that for the http based remotes:\r\n\r\nhttps://github.com/ncw/rclone/blob/1c301f9f7ab8bf00d04331acc26b5195820ed1cf/fs/fshttp/http.go#L48\r\n\r\nSo if we could figure out how to wedge it in to jlaffaye/ftp that would be a great improvement and it would mean the ftp backend would start obeying the `--timeout` flag like all the other backends.\r\n \r\n> I'm going to try using `--fast-list` in the mean time, which I think should issue fewer LIST commands, and thus have a better chance of success maybe.\r\n\r\nI think `--fast-list` won't help as FTP doesn't support it.  GS does though so it might make some difference.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/480339331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/482188147","html_url":"https://github.com/rclone/rclone/issues/3086#issuecomment-482188147","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3086","id":482188147,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjE4ODE0Nw==","user":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T16:31:20Z","updated_at":"2019-04-11T16:31:20Z","body":"About fast-list, I figured that flag meant it would do one top level recursive list and store the results in memory, instead of listing each directory as needed, but you're saying for FTP its a no-op?\r\n\r\nUpon closer inspection of the trace, and after hitting this problem again last night, I see that the line `github.com/jlaffaye/ftp.(*Response).Close(0xc00054a900, 0x5, 0xc0000cbc70)` is present in the stacktrace, so it seems the library is trying to close the connection perhaps here: https://github.com/jlaffaye/ftp/blob/master/ftp.go#L469\r\n\r\nThis seems to point to the same Close timeout we hit before.\r\n\r\nAre you using the latest version of `jlaffaye/ftp`? If so I'll go and try to patch this there, I don't think there's any other way since this `Close` is internal to that library.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/482188147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/482564230","html_url":"https://github.com/rclone/rclone/issues/3086#issuecomment-482564230","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3086","id":482564230,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjU2NDIzMA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T12:56:45Z","updated_at":"2019-04-12T12:56:45Z","body":"> About fast-list, I figured that flag meant it would do one top level recursive list and store the results in memory, instead of listing each directory as needed, but you're saying for FTP its a no-op?\r\n\r\nIt is a no-op for FTP but not for GCS.\r\n\r\n> Are you using the latest version of jlaffaye/ftp? If so I'll go and try to patch this there, I don't think there's any other way since this Close is internal to that library.\r\n\r\nRclone is using  github.com/jlaffaye/ftp@8019e6774408 which isn't quite the latest but is only 4 commits off the HEAD.\r\n\r\nSetting a deadline on the list socket of 5 minutes from now every time something is read from the socket would probably fix the problem with a 5 minute delay...\r\n\r\nIf you send a patch upstream, can you link it here?\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/482564230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/483341018","html_url":"https://github.com/rclone/rclone/issues/3086#issuecomment-483341018","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3086","id":483341018,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM0MTAxOA==","user":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T17:17:54Z","updated_at":"2019-04-15T17:17:54Z","body":"It seems like the author recently marked this issue as TODO:\nhttps://github.com/jlaffaye/ftp/issues/117\n\nI believe it will fix this issue the correct way it gets closed. I looked\nbriefly at what is required and it seemed a bit beyond what I'm comfortable\ndoing.\n\nI tried putting a timeout on list but it ended up being too short, so that\nmakes me think it might be hard to come up with a reasonable timeout that\nwill not break people's flows.\n\nOn Fri, Apr 12, 2019 at 5:56 AM Nick Craig-Wood <notifications@github.com>\nwrote:\n\n> About fast-list, I figured that flag meant it would do one top level\n> recursive list and store the results in memory, instead of listing each\n> directory as needed, but you're saying for FTP its a no-op?\n>\n> It is a no-op for FTP but not for GCS.\n>\n> Are you using the latest version of jlaffaye/ftp? If so I'll go and try to\n> patch this there, I don't think there's any other way since this Close is\n> internal to that library.\n>\n> Rclone is using github.com/jlaffaye/ftp@8019e6774408 which isn't quite\n> the latest but is only 4 commits off the HEAD.\n>\n> Setting a deadline on the list socket of 5 minutes from now every time\n> something is read from the socket would probably fix the problem with a 5\n> minute delay...\n>\n> If you send a patch upstream, can you link it here?\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ncw/rclone/issues/3086#issuecomment-482564230>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/Au99J7etubpDOz45Y0wdv61eMqdLWRDZks5vgIKYgaJpZM4cbBUF>\n> .\n>\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/483341018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeffquinn-bluevoyant","id":49249575,"node_id":"MDQ6VXNlcjQ5MjQ5NTc1","avatar_url":"https://avatars.githubusercontent.com/u/49249575?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffquinn-bluevoyant","html_url":"https://github.com/jeffquinn-bluevoyant","followers_url":"https://api.github.com/users/jeffquinn-bluevoyant/followers","following_url":"https://api.github.com/users/jeffquinn-bluevoyant/following{/other_user}","gists_url":"https://api.github.com/users/jeffquinn-bluevoyant/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffquinn-bluevoyant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffquinn-bluevoyant/subscriptions","organizations_url":"https://api.github.com/users/jeffquinn-bluevoyant/orgs","repos_url":"https://api.github.com/users/jeffquinn-bluevoyant/repos","events_url":"https://api.github.com/users/jeffquinn-bluevoyant/events{/privacy}","received_events_url":"https://api.github.com/users/jeffquinn-bluevoyant/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2279492102,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyNzk0OTIxMDI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2279492102","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-04-16T12:22:34Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":2279492238,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDIyNzk0OTIyMzg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2279492238","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-04-16T12:22:37Z","milestone":{"title":"Known Problem"},"performed_via_github_app":null},{"id":2279492442,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyNzk0OTI0NDI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2279492442","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-04-16T12:22:42Z","label":{"name":"Remote FTP","color":"fbca04"},"performed_via_github_app":null},{"id":2334839680,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIzMzQ4Mzk2ODA=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2334839680","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e2b45f683da3190840124b1c1d4a925b611f2d91","commit_url":"https://api.github.com/repos/jeffquinn-bluevoyant/rclone/commits/e2b45f683da3190840124b1c1d4a925b611f2d91","created_at":"2019-05-11T16:24:10Z","performed_via_github_app":null},{"id":2334840667,"node_id":"MDExOkNsb3NlZEV2ZW50MjMzNDg0MDY2Nw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2334840667","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"c809334b3dc0b96af35dca2628aeab9b4872a2bf","commit_url":"https://api.github.com/repos/rclone/rclone/commits/c809334b3dc0b96af35dca2628aeab9b4872a2bf","created_at":"2019-05-11T16:26:33Z","state_reason":null,"performed_via_github_app":null},{"id":2338120257,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIzMzgxMjAyNTc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2338120257","actor":{"login":"id01","id":19232106,"node_id":"MDQ6VXNlcjE5MjMyMTA2","avatar_url":"https://avatars.githubusercontent.com/u/19232106?v=4","gravatar_id":"","url":"https://api.github.com/users/id01","html_url":"https://github.com/id01","followers_url":"https://api.github.com/users/id01/followers","following_url":"https://api.github.com/users/id01/following{/other_user}","gists_url":"https://api.github.com/users/id01/gists{/gist_id}","starred_url":"https://api.github.com/users/id01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/id01/subscriptions","organizations_url":"https://api.github.com/users/id01/orgs","repos_url":"https://api.github.com/users/id01/repos","events_url":"https://api.github.com/users/id01/events{/privacy}","received_events_url":"https://api.github.com/users/id01/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b10581fee8864273f25b3f5cf7d09e88ac412e99","commit_url":"https://api.github.com/repos/id01/rclone/commits/b10581fee8864273f25b3f5cf7d09e88ac412e99","created_at":"2019-05-13T20:18:51Z","performed_via_github_app":null}]