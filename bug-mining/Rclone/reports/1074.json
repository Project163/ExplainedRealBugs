{"url":"https://api.github.com/repos/rclone/rclone/issues/6217","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/6217/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/6217/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/6217/events","html_url":"https://github.com/rclone/rclone/issues/6217","id":1260903683,"node_id":"I_kwDOAQ-n5M5LJ90D","number":6217,"title":"Google Drive API (and other remotes) errors should be logged at ERROR or WARNING log level","user":{"login":"lordyod","id":6539626,"node_id":"MDQ6VXNlcjY1Mzk2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6539626?v=4","gravatar_id":"","url":"https://api.github.com/users/lordyod","html_url":"https://github.com/lordyod","followers_url":"https://api.github.com/users/lordyod/followers","following_url":"https://api.github.com/users/lordyod/following{/other_user}","gists_url":"https://api.github.com/users/lordyod/gists{/gist_id}","starred_url":"https://api.github.com/users/lordyod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lordyod/subscriptions","organizations_url":"https://api.github.com/users/lordyod/orgs","repos_url":"https://api.github.com/users/lordyod/repos","events_url":"https://api.github.com/users/lordyod/events{/privacy}","received_events_url":"https://api.github.com/users/lordyod/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":430778096,"node_id":"MDU6TGFiZWw0MzA3NzgwOTY=","url":"https://api.github.com/repos/rclone/rclone/labels/VFS%20/%20mount","name":"VFS / mount","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/47","html_url":"https://github.com/rclone/rclone/milestone/47","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/47/labels","id":7313007,"node_id":"MI_kwDOAQ-n5M4Ab5Zv","number":47,"title":"v1.59","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2021-11-01T17:02:19Z","updated_at":"2022-07-09T20:30:36Z","due_on":"2022-07-08T07:00:00Z","closed_at":"2022-07-09T20:30:36Z"},"comments":1,"created_at":"2022-06-04T22:19:24Z","updated_at":"2022-06-16T21:14:17Z","closed_at":"2022-06-16T21:14:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### The associated forum post URL from `https://forum.rclone.org`\r\n\r\nhttps://forum.rclone.org/t/rclone-fails-to-log-google-drive-403-errors/18879 is the closest I found to the error I'm getting and led me here.\r\n\r\n#### What is your current rclone version (output from `rclone version`)?\r\n\r\n```\r\nrclone v1.58.0\r\n- os/version: ubuntu 20.04 (64 bit)\r\n- os/kernel: 5.4.0-113-generic (x86_64)\r\n- os/type: linux\r\n- os/arch: amd64\r\n- go/version: go1.17.8\r\n- go/linking: static\r\n- go/tags: none\r\n```\r\n\r\n#### What problem are you are trying to solve?\r\n\r\nBecause rclone fails to log critical error messages from Google Drive's API, it has in effect a silent failure condition that can be infuriating to debug. Your user application may give you errors which indicate some other kind of critical error:\r\n\r\n```\r\nroot@server:/mnt/media/downloads# file /mnt/media/downloads/Show/banner.jpg\r\n/mnt/media/downloads/Show/banner.jpg: ERROR: cannot read `/mnt/media/downloads/Show/banner.jpg' (Input/output error)\r\n\r\nroot@server:/mnt/media# rsync -avp --link-dest=\"$PWD/downloads\" \"$PWD/downloads/Show\"  /mnt/media/\r\nsending incremental file list\r\nrsync: link \"/mnt/media/downloads/Show/banner.jpg\" => /mnt/media/downloads/Show/banner.jpg failed: Function not implemented (38)\r\nrsync: read \"/mnt/media/downloads/Show/banner.jpg\": Input/output error (5)\r\n````\r\n\r\nAfter investigating things like hard drives, NFS mounts, and debugging mergerfs configuration, you might think it's a problem with your rclone mount. The problem is that if you do not enable DEBUG logging (with `--verbosity 2` or `-vv` etc) you will not receive error messages like this:\r\n\r\n```\r\nJun  4 15:02:14 server rclone-crypt[180098]: DEBUG : &{media/downloads/Show/banner.jpg (r)}: >Read: read=0, err=open file failed: googleapi: Error 403: The download quota for this file has been exceeded., downloadQuotaExceeded\r\n```\r\n\r\nMy understanding is that typically, DEBUG logging is for verbose messages needed to debug application behavior, not for error messages which cause operations to fail. Since this type of failure is passed up the stack in a way that appears like a hardware failure (or something similarly critical) the associated error messages should be much easier to find.\r\n\r\n#### How do you think rclone should be changed to solve that?\r\n\r\nMessages from APIs like Google Drive which return errors should be logged at ERROR or WARNING log levels instead of VERBOSE. This would make these errors visible to the user without requiring them to enable debug logging, which is really _far_ too much output for regular use. I _always_ want to see if my remote is returning errors, while I rarely want to see the state of the VFS cache and almost never want to see the call \r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/6217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/6217/timeline","performed_via_github_app":null,"state_reason":"completed"}