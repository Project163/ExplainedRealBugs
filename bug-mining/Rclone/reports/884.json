{"url":"https://api.github.com/repos/rclone/rclone/issues/3043","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3043/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3043/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3043/events","html_url":"https://github.com/rclone/rclone/issues/3043","id":419551646,"node_id":"MDU6SXNzdWU0MTk1NTE2NDY=","number":3043,"title":"Support setting StorageClass on individual GCS objects","user":{"login":"daltschu22","id":10089354,"node_id":"MDQ6VXNlcjEwMDg5MzU0","avatar_url":"https://avatars.githubusercontent.com/u/10089354?v=4","gravatar_id":"","url":"https://api.github.com/users/daltschu22","html_url":"https://github.com/daltschu22","followers_url":"https://api.github.com/users/daltschu22/followers","following_url":"https://api.github.com/users/daltschu22/following{/other_user}","gists_url":"https://api.github.com/users/daltschu22/gists{/gist_id}","starred_url":"https://api.github.com/users/daltschu22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daltschu22/subscriptions","organizations_url":"https://api.github.com/users/daltschu22/orgs","repos_url":"https://api.github.com/users/daltschu22/repos","events_url":"https://api.github.com/users/daltschu22/events{/privacy}","received_events_url":"https://api.github.com/users/daltschu22/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":306063008,"node_id":"MDU6TGFiZWwzMDYwNjMwMDg=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Google%20Cloud%20Storage","name":"Remote: Google Cloud Storage","color":"fbca04","default":false,"description":null},{"id":2506971747,"node_id":"MDU6TGFiZWwyNTA2OTcxNzQ3","url":"https://api.github.com/repos/rclone/rclone/labels/versioning","name":"versioning","color":"54d3cf","default":false,"description":""},{"id":2507137776,"node_id":"MDU6TGFiZWwyNTA3MTM3Nzc2","url":"https://api.github.com/repos/rclone/rclone/labels/metadata","name":"metadata","color":"289ebf","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/11","html_url":"https://github.com/rclone/rclone/milestone/11","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/11/labels","id":1480382,"node_id":"MDk6TWlsZXN0b25lMTQ4MDM4Mg==","number":11,"title":"Soon","description":"Issues which are a good idea but haven't been assigned a specific release yet.","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":75,"closed_issues":94,"state":"open","created_at":"2016-01-02T12:56:46Z","updated_at":"2025-10-12T21:14:16Z","due_on":null,"closed_at":null},"comments":3,"created_at":"2019-03-11T16:03:31Z","updated_at":"2020-12-10T20:10:45Z","closed_at":"2020-12-10T20:06:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"As an rclone GCS user, I would like to be able to set storage class for each object individually, separate from the bucket's current default class. \r\nAs it is currently, during non server side copies, the StorageClass does not attempt to be set per object.\r\nSo for example, I could have a bucket with a default of `StorageClass = REGIONAL`, but I want to upload a series of files into the bucket with the `StorageClass = COLDLINE` defined per object, there is no way to do this.\r\n\r\nGCS supports the option of setting an individual object storage class, different from the bucket class default. So I could have half my objects be Regional, and half Nearline in the same bucket for example.\r\nOr my buckets default could be set to Regional, but I decide to upload any new objects as Coldline.\r\nThis is described here:\r\nhttps://cloud.google.com/storage/docs/per-object-storage-class\r\nhttps://cloud.google.com/storage/docs/storage-classes#bucket_vs_object_storage_class\r\nThe reason for this is generally so people can do tiering within the bucket.\r\n\r\nThe metadata field on the Object for that setting is:\r\n```\r\n    // StorageClass: Storage class of the object.\r\n    StorageClass string `json:\"storageClass,omitempty\"`\r\n```\r\n\r\nFrom a previous thread:\r\n> > I wonder if there should be another option added called object_storage_class to distinguish it from the bucket storage class?\r\n\r\n> That would be easy enough to do, then you could set --gcs-object-storage-class when you wanted to do something different to what is set on the bucket.\r\n\r\n>> Either that, or just go about setting the objects storage class individually based on the existing storage_class configuration setting.\r\n\r\n> That would be easy enough too.\r\n> I think the first idea is probably the most flexible, but I wonder whether it is overkill?\r\n\r\nI think you are correct that adding a separate config seems like overkill. In my opinion it all comes down to how the user expects the application will function. \r\nBased on current documentation `The storage class to use when storing objects in Google Cloud Storage.` this seems misleading, given this issue. I can upload objects today, and they will be stored with a different class than what is defined in the config.\r\n\r\nI took a very brief look at the AWS documentation (Im much less familiar with it) and it seems they ALSO support individual object StorageClasses. \r\nhttps://docs.aws.amazon.com/AmazonS3/latest/dev/storage-class-intro.html#sc-howtoset\r\n\r\nSo its possible this change could apply to other systems beyond GCS?","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3043/timeline","performed_via_github_app":null,"state_reason":"completed"}