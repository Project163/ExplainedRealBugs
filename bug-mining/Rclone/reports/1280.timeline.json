[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2191122825","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2191122825","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2191122825,"node_id":"IC_kwDOAQ-n5M6CmeGJ","user":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-26T08:30:58Z","updated_at":"2024-06-26T08:30:58Z","body":"Hi, update here!\r\n\r\nI discovered the issue with rclone size showing different results compared to rclone about. It turns out rclone isn't mapping the entire directory structure and is missing a significant portion of level-1 directories. `Rclone tree/lsd/lsjson` behaves the same.\r\n\r\nAdditionally, rclone struggles with very long paths, such as:\r\n\r\n`f9/73/f97350101e1a9de922bdbb762a33695234102dc119ffafa25c15d0418ec82b23/@final/58/22/4ce0a556103a9a959af49edcbf6712936624f12bf27d8fce89fdfecb0ad6`\r\n\r\nThis results in many files being either \"corrupted\" (even though they are actually copied) or showing as \"file not found in the destination\" (even though the files do exist there).\r\n\r\nTo work around this, I used the `swift list` command to obtain a list of all objects, then extracted unique paths up to a specific pattern (e.g., up to the hash). After that, I ran `rclone copy` for each unique subfolder. This approach resolved the issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2191122825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2191960124","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2191960124","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2191960124,"node_id":"IC_kwDOAQ-n5M6Cpqg8","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-26T15:11:05Z","updated_at":"2024-06-26T15:11:05Z","body":"The fact that `rclone size` and `rclone copy` without `--fast-list` are showing the same objects is interesting too as `rclone size` will use a recursive listing by default, whereas `rclone copy` will recurse the directories manually, so a very different listing strategy.\r\n\r\nCan you just check that\r\n\r\n    rclone size source:my-bucket\r\n\r\nand\r\n\r\n    rclone size --disable ListR source:my-bucket\r\n\r\nReally do show the same results.\r\n\r\n> Additionally, rclone struggles with very long paths, such as:\r\n> `f9/73/f97350101e1a9de922bdbb762a33695234102dc119ffafa25c15d0418ec82b23/@final/58/22/4ce0a556103a9a959af49edcbf6712936624f12bf27d8fce89fdfecb0ad6`\r\n\r\nThere are no length limits on anything in rclone so long paths shouldn't be a concern. What happened?\r\n\r\n> This results in many files being either \"corrupted\" (even though they are actually copied) or showing as \"file not found in the destination\" (even though the files do exist there).\r\n\r\nOdd!\r\n\r\n> To work around this, I used the `swift list` command to obtain a list of all objects, then extracted unique paths up to a specific pattern (e.g., up to the hash). After that, I ran `rclone copy` for each unique subfolder. This approach resolved the issue.\r\n\r\nDo you have directory markers? As in objects with content type `\"application/directory\"` possibly ending in a `/`?\r\n\r\n> root@root#rclone about source:my-bucket\r\n> Used:    24.596 GiB\r\n> Objects: 71.233k\r\n> \r\n> root@root# rclone size source:my-bucket\r\n> Total objects: 47.978k (47978)\r\n> Total size: 12.043 GiB (12930961798 Byte)\r\n\r\nThis discrepancy is very interesting. The data from `rclone about` is read from the container so is the storage systems view of the world. The data from `rclone size` is read by recursively listing the container.\r\n\r\nSo there are 24,964 objects missing and a total size missing of 13,478,792,105 bytes or 12.55 GiB\r\n\r\nDoes the bucket contain multipart uploads? And are the parts stored in the bucket itself rather than an auxillary (`_segments`) bucket?\r\n\r\n> I discovered the issue with rclone size showing different results compared to rclone about. It turns out rclone isn't mapping the entire directory structure and is missing a significant portion of level-1 directories. `Rclone tree/lsd/lsjson` behaves the same.\r\n\r\nIf you do `rclone lsf source:my-bucket` do you see the correct top level directories? Or are there some missing there?\r\n\r\nIf you do `rclone lsf source:my-bucket -vv --dump bodies` does what the swift cluster sends match up with what rclone prints?\r\n\r\nThanks\r\n\r\nNick","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2191960124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13300241567,"node_id":"LE_lADOAQ-n5M6NSimMzwAAAAMYwZSf","url":"https://api.github.com/repos/rclone/rclone/issues/events/13300241567","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-06-26T15:11:15Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":13300241577,"node_id":"LE_lADOAQ-n5M6NSimMzwAAAAMYwZSp","url":"https://api.github.com/repos/rclone/rclone/issues/events/13300241577","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-06-26T15:11:15Z","label":{"name":"Remote: Swift","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2194029092","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2194029092","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2194029092,"node_id":"IC_kwDOAQ-n5M6Cxjok","user":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-27T07:51:25Z","updated_at":"2024-06-27T07:51:25Z","body":"Hi, thank @ncw for your response\r\n\r\n> rclone size source:my-bucket\r\n\r\n```\r\nTotal objects: 48.978k (48978)\r\nTotal size: 12.061 GiB (12950590833 Byte)\r\n```\r\n\r\n> rclone size --disable ListR source:my-bucket\r\n\r\n```\r\nTotal objects: 23.804k (23804)\r\nTotal size: 5.619 GiB (6033427793 Byte)\r\n```\r\n\r\nIt seems like the number of objects and files are even smaller when having `--disable ListR` option.\r\n\r\n> There are no length limits on anything in rclone so long paths shouldn't be a concern. What happened?\r\n\r\nTo be honest, I have no idea, all the buckets where object paths are rather short, `rclone` works without any problem.\r\nWhen it comes to buckets with long paths, `rclone` can not recognize there are files that have already been copied, so it tries to copy the files again and again. However, if I execute `rclone copy/sync source:my-bucket/f9/73/f97350101e1a9de922bdbb762a33695234102dc119ffafa25c15d0418ec82b23/@final --inplace --size-only --ignore-checksum --fast-list -vv`, all files are identical between source and destination based on size.\r\n\r\n> Do you have directory markers? As in objects with content type \"application/directory\" possibly ending in a /?\r\n\r\nNo I don't. I used `swift list` to make a list of full paths of all objects (objects only), and then executed a script to split the paths until the hash + 1 more level deeper. No `/` ending for directories. I then added to `rclone copy/sync source:my-bucket$path -inplace --size-only --ignore-checksum --fast-list -vv` (eg. `rclone copy/sync source:my-bucket/f9/73/f97350101e1a9de922bdbb762a33695234102dc119ffafa25c15d0418ec82b23/@final --inplace --size-only --ignore-checksum --fast-list -vv`, everything works.\r\n\r\n> Does the bucket contain multipart uploads? And are the parts stored in the bucket itself rather than an auxillary (_segments) bucket?\r\n\r\nIn other buckets, I have segments because those files are large. In the current bucket, no, I don't have. We have 71k files of logs and artifacts.\r\n\r\n\r\n> If you do rclone lsf source:my-bucket do you see the correct top level directories? Or are there some missing there?\r\n\r\nNo, there are a half number of top level directories missing.\r\n\r\n> If you do rclone lsf source:my-bucket -vv --dump bodies does what the swift cluster sends match up with what rclone prints?\r\n\r\n```\r\n2024/06/27 09:33:39 DEBUG : rclone: Version \"v1.66.0\" starting with parameters [\"rclone\" \"lsf\" \"source:my-bucket\" \"-vv\" \"--dump\" \"bodies\"]\r\n2024/06/27 09:33:39 DEBUG : Creating backend with remote \"source:my-bucket\"\r\n2024/06/27 09:33:39 DEBUG : Using config file from \"/rclone/rclone.conf\"\r\n2024/06/27 09:33:39 DEBUG : You have specified to dump information. Please be noted that the Accept-Encoding as shown may not be correct in the request and the response may not show Content-Encoding if the go standard libraries auto gzip encoding was in effect. In this case the body of the request will be gunzipped before showing it.\r\n2024/06/27 09:33:39 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n2024/06/27 09:33:39 DEBUG : HTTP REQUEST (req 0xc3123s23)\r\n2024/06/27 09:33:39 DEBUG : POST /v3/auth/tokens HTTP/1.1\r\nHost: my-host:5000\r\nUser-Agent: rclone/v1.66.0\r\nContent-Length: 286\r\nContent-Type: application/json\r\nAccept-Encoding: gzip\r\n\r\n{Authentication info DEDACTED}\r\n2024/06/27 09:33:39 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n2024/06/27 09:33:39 DEBUG : <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n2024/06/27 09:33:39 DEBUG : HTTP RESPONSE (req 0xc0342f00)\r\n2024/06/27 09:33:39 DEBUG : HTTP/1.1 201 CREATED\r\nContent-Length: 15860\r\nContent-Type: application/json\r\nDate: Thu, 27 Jun 2024 07:33:39 GMT\r\nServer: Apache/2.4.29 (Ubuntu)\r\nVary: X-Auth-Token\r\nX-Openstack-Request-Id: <DEDACTED>\r\nX-Subject-Token: <DEDACTED>\r\n2024/06/27 09:33:39 DEBUG : <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n2024/06/27 09:33:39 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n2024/06/27 09:33:39 DEBUG : HTTP REQUEST (req 0xc3123s23)\r\n2024/06/27 09:33:39 DEBUG : GET /swift/v1/AUTH_<DEDACTED>/my-bucket?delimiter=%2F&format=json&limit=1000 HTTP/1.1\r\nHost: my-host:80\r\nUser-Agent: rclone/v1.66.0\r\nTransfer-Encoding: chunked\r\nX-Auth-Token: XXXX\r\nAccept-Encoding: gzip\r\n\r\n0\r\n\r\n2024/06/27 09:33:39 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n2024/06/27 09:33:40 DEBUG : <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n2024/06/27 09:33:40 DEBUG : HTTP RESPONSE (req 0xc0342f00)\r\n2024/06/27 09:33:40 DEBUG : HTTP/1.1 200 OK\r\nContent-Length: 511\r\nAccept-Ranges: bytes\r\nContent-Type: application/json; charset=utf-8\r\nDate: Thu, 27 Jun 2024 07:33:40 GMT\r\nLast-Modified: Mon, 24 Jun 2024 09:03:47 GMT\r\nServer: Apache/2.4.29 (Ubuntu)\r\nX-Container-Bytes-Used: 26418493840\r\nX-Container-Bytes-Used-Actual: 26558545920\r\nX-Container-Object-Count: 71493\r\nX-Openstack-Request-Id: <DEDACTED>\r\nX-Storage-Class: STANDARD\r\nX-Storage-Policy: default-placement\r\nX-Timestamp: 1586245088.80396\r\nX-Trans-Id: <DEDACTED>\r\n\r\n[{\"subdir\":\"00/\"},{\"subdir\":\"01/\"},{\"subdir\":\"02/\"},{\"subdir\":\"04/\"},{\"subdir\":\"07/\"},{\"subdir\":\"09/\"},{\"subdir\":\"0a/\"},{\"subdir\":\"0c/\"},{\"subdir\":\"0d/\"},{\"subdir\":\"10/\"},{\"subdir\":\"13/\"},{\"subdir\":\"15/\"},{\"subdir\":\"16/\"},{\"subdir\":\"17/\"},{\"subdir\":\"18/\"},{\"subdir\":\"1a/\"},{\"subdir\":\"1d/\"},{\"subdir\":\"20/\"},{\"subdir\":\"21/\"},{\"subdir\":\"24/\"},{\"subdir\":\"26/\"},{\"subdir\":\"27/\"},{\"subdir\":\"28/\"},{\"subdir\":\"2c/\"},{\"subdir\":\"2e/\"},{\"subdir\":\"2f/\"},{\"subdir\":\"30/\"},{\"subdir\":\"32/\"},{\"subdir\":\"34/\"},{\"subdir\":\"39/\"}]\r\n2024/06/27 09:33:40 DEBUG : <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n2024/06/27 09:33:40 DEBUG : 6 go routines active\r\n```\r\n\r\nThank you,\r\nHai","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2194029092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13312857468,"node_id":"MEE_lADOAQ-n5M6NSimMzwAAAAMZghV8","url":"https://api.github.com/repos/rclone/rclone/issues/events/13312857468","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-06-27T07:51:27Z","performed_via_github_app":null},{"id":13312857486,"node_id":"SE_lADOAQ-n5M6NSimMzwAAAAMZghWO","url":"https://api.github.com/repos/rclone/rclone/issues/events/13312857486","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-06-27T07:51:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2195575821","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2195575821","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2195575821,"node_id":"IC_kwDOAQ-n5M6C3dQN","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-27T20:01:59Z","updated_at":"2024-06-27T20:01:59Z","body":"In that response are you expecting 256 directories with 2 hex digits each? If so the server only sent part of them.\r\n\r\nRclone asked for up to 1000 directories and the server only gave back 50 or so and didn't indicate there were more.\r\n\r\nFrom that it looks like the server is misbehaving somehow.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2195575821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196323273","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2196323273","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2196323273,"node_id":"IC_kwDOAQ-n5M6C6TvJ","user":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-28T07:37:01Z","updated_at":"2024-06-28T07:37:29Z","body":"I am expecting to receive 136 two-digit directories. However, I received much lesser number of directories. Using `swift list` I can see all the objects nested in different folder levels without. I guess `swift list` performs recursively too.\r\n\r\nPerhaps, as you said, the object store server seems to have some problems. I have to really go much deeper in the directory structure to be able to copy all objects to the new swift server.\r\n\r\nIs there an option to tell Rclone to ask for more directories instead of up to 1000?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196323273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13328708651,"node_id":"REFE_lADOAQ-n5M6NSimMzwAAAAMac_Qr","url":"https://api.github.com/repos/rclone/rclone/issues/events/13328708651","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8d80df2c8553abb77af0f6432411127d505f5486","commit_url":"https://api.github.com/repos/rclone/rclone/commits/8d80df2c8553abb77af0f6432411127d505f5486","created_at":"2024-06-28T08:56:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196450817","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2196450817","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2196450817,"node_id":"IC_kwDOAQ-n5M6C6y4B","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-28T08:59:38Z","updated_at":"2024-06-28T08:59:38Z","body":"I managed to find out where this came up before - in https://github.com/ncw/swift/pull/167 - the author of that made a fix for rclone too in https://github.com/rclone/rclone/pull/5224 which somehow never got merged :-(\r\n\r\nI've rebased that fix - you'll find it below.\r\n\r\nTry adding `fetch_until_empty_page = true` to your config (or use the flag `--swift-fetch-until-empty-page`\r\n\r\n[v1.68.0-beta.8050.8d80df2c8.fix-5224-swift-listings](https://beta.rclone.org/branch/fix-5224-swift-listings/v1.68.0-beta.8050.8d80df2c8.fix-5224-swift-listings/) on branch [fix-5224-swift-listings](https://github.com/rclone/rclone/tree/fix-5224-swift-listings) (uploaded in 15-30 mins)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196450817/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196560745","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2196560745","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2196560745,"node_id":"IC_kwDOAQ-n5M6C7Ntp","user":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-28T10:06:57Z","updated_at":"2024-06-28T10:06:57Z","body":"Hi @ncw,\r\n\r\nThank you for releasing the new beta. I used the flag and got the correct size of the entire bucket now. I will try to sync and see :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196560745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"honghainguyen777","id":59792233,"node_id":"MDQ6VXNlcjU5NzkyMjMz","avatar_url":"https://avatars.githubusercontent.com/u/59792233?v=4","gravatar_id":"","url":"https://api.github.com/users/honghainguyen777","html_url":"https://github.com/honghainguyen777","followers_url":"https://api.github.com/users/honghainguyen777/followers","following_url":"https://api.github.com/users/honghainguyen777/following{/other_user}","gists_url":"https://api.github.com/users/honghainguyen777/gists{/gist_id}","starred_url":"https://api.github.com/users/honghainguyen777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honghainguyen777/subscriptions","organizations_url":"https://api.github.com/users/honghainguyen777/orgs","repos_url":"https://api.github.com/users/honghainguyen777/repos","events_url":"https://api.github.com/users/honghainguyen777/events{/privacy}","received_events_url":"https://api.github.com/users/honghainguyen777/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13329530805,"node_id":"MEE_lADOAQ-n5M6NSimMzwAAAAMagH-1","url":"https://api.github.com/repos/rclone/rclone/issues/events/13329530805","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-06-28T10:06:58Z","performed_via_github_app":null},{"id":13329530813,"node_id":"SE_lADOAQ-n5M6NSimMzwAAAAMagH-9","url":"https://api.github.com/repos/rclone/rclone/issues/events/13329530813","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-06-28T10:06:58Z","performed_via_github_app":null},{"id":13329611011,"node_id":"CE_lADOAQ-n5M6NSimMzwAAAAMagbkD","url":"https://api.github.com/repos/rclone/rclone/issues/events/13329611011","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"bd5799c079c0d85b0d6214556a8985b8091e25f8","commit_url":"https://api.github.com/repos/rclone/rclone/commits/bd5799c079c0d85b0d6214556a8985b8091e25f8","created_at":"2024-06-28T10:14:28Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196573483","html_url":"https://github.com/rclone/rclone/issues/7924#issuecomment-2196573483","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7924","id":2196573483,"node_id":"IC_kwDOAQ-n5M6C7Q0r","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-28T10:15:11Z","updated_at":"2024-06-28T10:15:11Z","body":"Thanks for testing.\r\n\r\nI've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org/) in 15-30 minutes and released in v1.68\r\n\r\nLet me know what happens and if there are more problems I'll re-open this issue. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2196573483/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13336191318,"node_id":"REFE_lADOAQ-n5M6NSimMzwAAAAMa5iFW","url":"https://api.github.com/repos/rclone/rclone/issues/events/13336191318","actor":{"login":"ianusa","id":107363284,"node_id":"U_kgDOBmY71A","avatar_url":"https://avatars.githubusercontent.com/u/107363284?v=4","gravatar_id":"","url":"https://api.github.com/users/ianusa","html_url":"https://github.com/ianusa","followers_url":"https://api.github.com/users/ianusa/followers","following_url":"https://api.github.com/users/ianusa/following{/other_user}","gists_url":"https://api.github.com/users/ianusa/gists{/gist_id}","starred_url":"https://api.github.com/users/ianusa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianusa/subscriptions","organizations_url":"https://api.github.com/users/ianusa/orgs","repos_url":"https://api.github.com/users/ianusa/repos","events_url":"https://api.github.com/users/ianusa/events{/privacy}","received_events_url":"https://api.github.com/users/ianusa/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bd5799c079c0d85b0d6214556a8985b8091e25f8","commit_url":"https://api.github.com/repos/ianusa/rclone-telebox-enhanced/commits/bd5799c079c0d85b0d6214556a8985b8091e25f8","created_at":"2024-06-28T20:34:36Z","performed_via_github_app":null},{"id":13697929138,"node_id":"REFE_lADOAQ-n5M6NSimMzwAAAAMwdc-y","url":"https://api.github.com/repos/rclone/rclone/issues/events/13697929138","actor":{"login":"Fornax96","id":1247928,"node_id":"MDQ6VXNlcjEyNDc5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1247928?v=4","gravatar_id":"","url":"https://api.github.com/users/Fornax96","html_url":"https://github.com/Fornax96","followers_url":"https://api.github.com/users/Fornax96/followers","following_url":"https://api.github.com/users/Fornax96/following{/other_user}","gists_url":"https://api.github.com/users/Fornax96/gists{/gist_id}","starred_url":"https://api.github.com/users/Fornax96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fornax96/subscriptions","organizations_url":"https://api.github.com/users/Fornax96/orgs","repos_url":"https://api.github.com/users/Fornax96/repos","events_url":"https://api.github.com/users/Fornax96/events{/privacy}","received_events_url":"https://api.github.com/users/Fornax96/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"71286c8620138af1b866dce094104e93c04dae3a","commit_url":"https://api.github.com/repos/Fornaxian/rclone/commits/71286c8620138af1b866dce094104e93c04dae3a","created_at":"2024-07-30T15:35:07Z","performed_via_github_app":null}]