[{"id":9617819065,"node_id":"LE_lADOAQ-n5M5pVAaFzwAAAAI9REW5","url":"https://api.github.com/repos/rclone/rclone/issues/events/9617819065","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-23T13:20:31Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":9617819076,"node_id":"LE_lADOAQ-n5M5pVAaFzwAAAAI9REXE","url":"https://api.github.com/repos/rclone/rclone/issues/events/9617819076","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-23T13:20:32Z","label":{"name":"VFS / mount","color":"0e8a16"},"performed_via_github_app":null},{"id":9617819595,"node_id":"MIE_lADOAQ-n5M5pVAaFzwAAAAI9REfL","url":"https://api.github.com/repos/rclone/rclone/issues/events/9617819595","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-06-23T13:20:35Z","milestone":{"title":"v1.64"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604301130","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1604301130","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1604301130,"node_id":"IC_kwDOAQ-n5M5fn7FK","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-23T13:39:36Z","updated_at":"2023-06-23T13:39:36Z","body":"I think this should be achievable relatively easily.\r\n\r\nAll file / dir objects are ultimately made from the directory cache. So we only need to do the normalized comparison in the directory cache searching routine.\r\n\r\nWe actually do this already for case sensitive / insensitive file systems.\r\n\r\nSo first we look for an exact match which is a quick hash look up, and then we look for a case insensitive match which involves comparing every item.\r\n\r\nhttps://github.com/rclone/rclone/blob/2c50f26c36e7b18e0fcfe18bc844a2141c9245af/vfs/dir.go#L710-L732\r\n\r\nWe could do something very similar for the normalization options too. I think we'd want to make a normalization function which does the (NFC, NFD) and/or (lower case) and just run through the loop once. We do exactly this in the sync routines so factoring this out would be sensible.\r\n\r\nhttps://github.com/rclone/rclone/blob/2c50f26c36e7b18e0fcfe18bc844a2141c9245af/fs/march/march.go#L58-L71\r\n\r\n> Edge case to watch is situation where two names differ only by normalization and coexist in the same folder\r\n\r\nWe currently just use the first one in the case vs CASE comparison. That is the easy thing to do. To detect a collision would require scanning the whole directory which would take on average twice as long.\r\n\r\nWorth the extra CPU for an ERROR message?\r\n\r\n> New option:\r\n> \r\n> --vfs-normalize OFF/NFC/NFD - with OFF being default\r\n\r\nAssuming we are only using the normalize option to find matching file names and not actually returning them to the OS then we can get away with using NFC only and this would match this flag which only does NFC normalization.\r\n\r\n      --no-unicode-normalization   Don't normalize unicode characters in filenames\r\n\r\nOnce thing I am unclear on though - do you think we need to apply that normalization to the file names sent to the OS - is that your intention? So we  receive an NFC file name from Google Drive (say) and send the macOS kernel an NFD file name according to the flag? That will be a bit more work (but not much). I think this might be what the FUSE-T option `-o nfc` does though so maybe isn't necessary?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604301130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604343248","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1604343248","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1604343248,"node_id":"IC_kwDOAQ-n5M5foFXQ","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-23T14:12:34Z","updated_at":"2023-06-23T14:39:43Z","body":"> Once thing I am unclear on though - do you think we need to apply that normalization to the file names sent to the OS - is that your intention?\r\n\r\nYes this is the most important thing actually and whole purpose of this  - it is about sending to OS normalized names. Today we have a problem that remotes can contain both NFC and NFD names - it works on Linux but breaks macOS. \r\n\r\n> I think this might be what the FUSE-T option `-o nfc` does though so maybe isn't necessary?\r\n\r\nThis option converts names received from OS (macOS uses NFD) and makes sure that NFS mount receives NFC - so all NFS content is NFC. It also makes NFC content to work with macOS APIs.\r\nIt breaks when some content in remote is already NFD - files are not visible/directories are not browsable.\r\n\r\nOn macOS it happens for example when user uses `rclone copy/sync` - NFD names are saved in remote.\r\n\r\nWith `--vfs-normalize` to make macOS mount work we could either:\r\n\r\n1. `--vfs-normalize NFD` - this is what macOS likes the most I think\r\n\r\nREMOTE  ----------------------->  MOUNT\r\nNFC -> RCLONE -> NFD -> FUSE -> NFD <---- rclone normalized NFC->NFD\r\nNFD -> RCLONE -> NFD -> FUSE -> NFD\r\n\r\n\r\nMOUNT  ----------------------->  REMOTE\r\nNFC -> FUSE -> NFC -> RCLONE -> NFC\r\nNFD -> FUSE -> NFD -> RCLONE -> NFD\r\n\r\n\r\n\r\n2. `--vfs-normalize NFC` and use `-o nfc`\r\n\r\nREMOTE  ----------------------->  MOUNT\r\nNFC -> RCLONE -> NFC -> FUSE -> NFD \r\nNFD -> RCLONE -> NFC -> FUSE -> NFD <---- rclone normalized NFD->NFC\r\n\r\n\r\nMOUNT  ----------------------->  REMOTE\r\nNFC -> FUSE -> NFC -> RCLONE -> NFC\r\nNFD -> FUSE -> NFC-> RCLONE -> NFC\r\n\r\nIt is difficult to say which one will behave better on macOS - I think that both would work. But with NFC/NFD and macOS I have learnt that only testing can tell.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604343248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604356796","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1604356796","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1604356796,"node_id":"IC_kwDOAQ-n5M5foIq8","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-23T14:22:50Z","updated_at":"2023-06-23T14:26:19Z","body":"The key purpose of this enhancement is to fix `rclone mount` on macOS. \r\n\r\nToday it simply does not work - does not matter with macFUSE or FUSE-T. And is unfixable by `-o modules=iconv,from_code=UTF-8,to_code=UTF-8` or `-o modules=iconv,from_code=UTF-8,to_code=UTF-8-MAC` workaround. It only helps in some cases and creates new issues - like for example that files can not be open in Finder (macOS file browser)\r\n\r\n![image](https://github.com/rclone/rclone/assets/15635386/8f61ee97-d18d-432d-8606-9a357b4d0f7c)\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604356796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604527299","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1604527299","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1604527299,"node_id":"IC_kwDOAQ-n5M5foyTD","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-23T16:35:55Z","updated_at":"2023-06-23T16:35:55Z","body":"I think what I'll do is try the smallest patch that could work first. That would fix the \"... can't be found\" errors I think but it wouldn't normalize the returns to the OS. This might mean we need the `-o nfc` flag. If that doesn't work I can do the further parts..","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604527299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604537786","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1604537786","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1604537786,"node_id":"IC_kwDOAQ-n5M5fo026","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-23T16:44:18Z","updated_at":"2023-06-23T17:27:52Z","body":"Cool. I am happy at all stages to test - I do not need binary build I can happily build myself from `git clone`. I have my test bed - crypt with carefully crafted mix of NFC/NFD files and folders:) so far it breaks everything.\r\n\r\nI hoped that fuse-t can handle it fully but does not seem to be possible.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604537786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604745556","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1604745556","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1604745556,"node_id":"IC_kwDOAQ-n5M5fpnlU","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-23T19:06:38Z","updated_at":"2023-06-23T19:25:54Z","body":"Note:\r\n\r\nWith `--vfs-normalize` set to NFC or NFD `iconv` should not be applied:\r\n\r\nhttps://github.com/rclone/rclone/blob/fcb912a664de2e4df0e71b63aa3a8a1f956dd495/cmd/cmount/mount.go#L120-L126\r\n\r\nIt is crude way to actually try to normalize to NFD- but it stopped working fully with advent of APFS FS few years ago and changes in normalization in all macOS - also I suspect not 100% correct way macFUSE handles it. I actually suspect it never worked 100% before neither - but nowadays it is more apparent.\r\n\r\nStill should be there for old Apple computers users - this is why  `--vfs-normalize`  should be optional","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1604745556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1654604380","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1654604380","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1654604380,"node_id":"IC_kwDOAQ-n5M5in0Jc","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:22:25Z","updated_at":"2023-07-27T21:27:32Z","body":"Sorry to keep pestering... but can it be implemented one day?  I am not skilled enough in go to give it a go.  I do try to earn my karma points on the forum instead:) I do believe that it is missing piece of macOS `rclone mount` to work predictably and consistently - and now it is disaster people using it do not realize.\r\n\r\nI managed to convince author of `fuse-t` to make [changes](https://github.com/macos-fuse-t/fuse-t/issues/16) helping to alleviate problems moving forward. But without option to normalize `mount` to NFD on rclone side it is only half measure.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1654604380/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1654786357","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1654786357","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1654786357,"node_id":"IC_kwDOAQ-n5M5iogk1","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-28T00:12:41Z","updated_at":"2023-07-28T00:12:41Z","body":"> Sorry to keep pestering... but can it be implemented one day? I am not skilled enough in go to give it a go. I do try to earn my karma points on the forum instead:)\r\n\r\nYou have lots of karma indeed :-)\r\n\r\nI put this on the 1.64 milestone which isn't a guarantee that it will make that release, but it will be on my radar at least!\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1654786357/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-03T01:24:06Z","updated_at":"2023-09-03T01:24:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/7270","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7270/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7270/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7270/events","html_url":"https://github.com/rclone/rclone/issues/7270","id":1878899657,"node_id":"I_kwDOAQ-n5M5v_bvJ","number":7270,"title":"bisync: handle unicode normalization consistently","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":431089529,"node_id":"MDU6TGFiZWw0MzEwODk1Mjk=","url":"https://api.github.com/repos/rclone/rclone/labels/IMPORTANT","name":"IMPORTANT","color":"d93f0b","default":false,"description":null},{"id":2510652221,"node_id":"MDU6TGFiZWwyNTEwNjUyMjIx","url":"https://api.github.com/repos/rclone/rclone/labels/encoding","name":"encoding","color":"b3baf2","default":false,"description":""},{"id":3427818774,"node_id":"LA_kwDOAQ-n5M7MUF0W","url":"https://api.github.com/repos/rclone/rclone/labels/bisync","name":"bisync","color":"1D76DB","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/11","html_url":"https://github.com/rclone/rclone/milestone/11","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/11/labels","id":1480382,"node_id":"MDk6TWlsZXN0b25lMTQ4MDM4Mg==","number":11,"title":"Soon","description":"Issues which are a good idea but haven't been assigned a specific release yet.","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":75,"closed_issues":94,"state":"open","created_at":"2016-01-02T12:56:46Z","updated_at":"2025-10-12T21:14:16Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2023-09-03T01:24:05Z","updated_at":"2024-01-20T19:50:13Z","closed_at":"2024-01-20T19:50:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Bisync sometimes normalizes NFD to NFC and sometimes does not, causing errors in some scenarios (particularly for users of macOS). See https://forum.rclone.org/t/bisync-question/41434/12\r\n\r\nHere is a bare-minimum case to reproduce:\r\n```\r\n% rclone touch NFD/oÃà \r\n% rclone touch NFC/√∂\r\n% rclone bisync NFD NFC --resync\r\n2023/09/02 18:23:08 NOTICE: bisync is EXPERIMENTAL. Don't use in production!\r\n% rclone bisync NFD NFC         \r\n2023/09/02 18:23:17 NOTICE: bisync is EXPERIMENTAL. Don't use in production!\r\n2023/09/02 18:23:17 ERROR : -          Path1 file not found in Path2       - oÃà\r\n2023/09/02 18:23:17 ERROR : -          Path2 file not found in Path1       - √∂\r\n2023/09/02 18:23:17 ERROR : Bisync critical error: path1 and path2 are out of sync, run --resync to recover\r\n2023/09/02 18:23:17 ERROR : Bisync aborted. Must run --resync to recover.\r\n% \r\n```\r\n\r\nAs background context: most of the world uses NFC, but macOS prefers NFD for some reason, and will sometimes ([but not always](https://eclecticlight.co/2017/04/06/apfs-is-currently-unusable-with-most-non-english-languages/)) convert NFC filenames to NFD invisibly. (See also: #7072)\r\n\r\nRclone's `copy` and `sync` commands (including the ones used by `bisync` under-the-hood) automatically normalize to NFC, unless `--no-unicode-normalization` is specified. This is why you can usually `rclone sync` between mac and non-mac without issue -- rclone will recognize the NFC and NFD versions as the same filename.\r\n\r\nThe trouble is that there are three places where bisync does NOT do this:\r\n\r\n1. When building the list of files that need to be transferred during `--resync`\r\n2. When building the list of deltas during a non-resync, but only for so-called [\"Unusual sync checks\"](https://tip.rclone.org/bisync/#unusual-sync-checks)\r\n3. When comparing Path1 to Path2 during `--check-sync`\r\n\r\n1 and 2 end up being (mostly) harmless, because although it will try to copy the NFC and NFD versions as different files, the underlying `copy` function it calls is smart enough to realize they are the same file. It will therefore leave the files alone (if already equal) or update one of them (if not equal), but never create a duplicate.\r\n\r\n3 is where the problem is most visible. Because `--check-sync` never normalizes, it thinks the NFC and NFD versions are different files. It therefore thinks something went wrong during the bisync run, because at the end of the run the Path1 file list does not exactly match Path2. Accordingly, it throws a critical error. (`--check-sync` is true by default, but can be overridden with `--check-sync=false`.)\r\n\r\nThe long-term solution is probably that `bisync` should support normalization in the same manner as `sync` (i.e. always normalize when comparing between paths, unless `--no-unicode-normalization` has been specified.) In the mean time, as a short-term solution, the issue can be bypassed by using `--check-sync=false`.\r\n\r\nAlso worth noting: in https://github.com/rclone/rclone/issues/5679#issuecomment-1689295692 we are contemplating whether `--check-sync` should perhaps just be replaced by outsourcing it to the more robust [rclone check](https://tip.rclone.org/bisync/#concurrent-modifications), which duplicates a lot of the same functionality, but does it better. That may ultimately be the answer here too, at least for item 3 (`--check-sync`). But I think items 1 and 2 do still need to be addressed regardless, as they are (at best) misleading to users (for instance, dry runs indicate that files will be transferred when they are not in fact new/changed and won't really be transferred.)\r\n\r\nOne more note: it seems that macOS will accept NFC filenames when created via terminal commands, but not when created via apps or Finder. This is why we don't tend to see these issues at first with files synced from cloud to mac via rclone, but the same files could present issues later if edited by an app or Finder. (This is also why `rclone touch NFC/√∂` in the above repro will work, even on mac.)\r\n\r\n<!--- Please keep the note below for others who read your bug report. -->\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7270/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7270/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":10336696477,"node_id":"DEME_lADOAQ-n5M5pVAaFzwAAAAJoHXid","url":"https://api.github.com/repos/rclone/rclone/issues/events/10336696477","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-09-11T16:49:44Z","milestone":{"title":"v1.64"},"performed_via_github_app":null},{"id":10336696484,"node_id":"MIE_lADOAQ-n5M5pVAaFzwAAAAJoHXik","url":"https://api.github.com/repos/rclone/rclone/issues/events/10336696484","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-09-11T16:49:44Z","milestone":{"title":"v1.65"},"performed_via_github_app":null},{"actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T17:00:53Z","updated_at":"2023-09-22T17:00:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/7326","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7326/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7326/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7326/events","html_url":"https://github.com/rclone/rclone/pull/7326","id":1907430130,"node_id":"PR_kwDOAQ-n5M5a6eMp","number":7326,"title":"check: respect --no-unicode-normalization and --ignore-case-sync for --checkfile","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-09-21T17:20:24Z","updated_at":"2024-01-20T19:56:28Z","closed_at":"2024-01-20T19:56:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/7326","html_url":"https://github.com/rclone/rclone/pull/7326","diff_url":"https://github.com/rclone/rclone/pull/7326.diff","patch_url":"https://github.com/rclone/rclone/pull/7326.patch","merged_at":null},"body":"#### What is the purpose of this change?\r\n\r\nBefore this change, `--no-unicode-normalization` and `--ignore-case-sync` were respected for `rclone check` but not for `rclone check --checkfile`, causing them to give different results.\r\n\r\nThis change adds support for `--checkfile` so that the behavior is consistent.\r\n\r\nA brief illustration of the problem:\r\n```\r\n% rclone touch NFD/oÃà\r\n% rclone touch NFC/√∂\r\n% rclone check NFD NFC\r\n>> NOTICE: Local file system at /NFC: 0 differences found\r\n>> NOTICE: Local file system at /NFC: 1 matching files\r\n\r\n% rclone md5sum NFC --output-file NFCsums.txt \r\n% rclone check NFCsums.txt NFD --checkfile md5\r\n>> ERROR : oÃà: sum not found\r\n>> ERROR : √∂: file not in Local file system at /NFD\r\n>> NOTICE: Local file system at /NFD: 1 files missing\r\n>> NOTICE: 1 hashes missing\r\n>> NOTICE: Local file system at /NFD: 2 differences found\r\n>> NOTICE: Local file system at /NFD: 2 errors while checking\r\n>> Failed to check with 3 errors: last error was: file not in Local file system at /NFD\r\n```\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\nNo.\r\n\r\n#### Checklist\r\n\r\n- [x] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-new-feature-or-bug-fix).\r\n- [x] I have added tests for all changes in this PR if appropriate.\r\n- [x] I have added documentation for the changes if appropriate.\r\n- [x] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [x] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7326/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11378500252,"node_id":"DEME_lADOAQ-n5M5pVAaFzwAAAAKmNiKc","url":"https://api.github.com/repos/rclone/rclone/issues/events/11378500252","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2024-01-03T12:06:51Z","milestone":{"title":"v1.65"},"performed_via_github_app":null},{"id":11378500258,"node_id":"MIE_lADOAQ-n5M5pVAaFzwAAAAKmNiKi","url":"https://api.github.com/repos/rclone/rclone/issues/events/11378500258","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-01-03T12:06:51Z","milestone":{"title":"v1.66"},"performed_via_github_app":null},{"actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-25T18:06:01Z","updated_at":"2024-01-25T18:06:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/7503","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7503/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7503/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7503/events","html_url":"https://github.com/rclone/rclone/issues/7503","id":2037830409,"node_id":"I_kwDOAQ-n5M55dtMJ","number":7503,"title":"nfsmount ‚Äî not functional on macOS for writing files to OneDrive via Finder","user":{"login":"scuba-tech","id":35608185,"node_id":"MDQ6VXNlcjM1NjA4MTg1","avatar_url":"https://avatars.githubusercontent.com/u/35608185?v=4","gravatar_id":"","url":"https://api.github.com/users/scuba-tech","html_url":"https://github.com/scuba-tech","followers_url":"https://api.github.com/users/scuba-tech/followers","following_url":"https://api.github.com/users/scuba-tech/following{/other_user}","gists_url":"https://api.github.com/users/scuba-tech/gists{/gist_id}","starred_url":"https://api.github.com/users/scuba-tech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scuba-tech/subscriptions","organizations_url":"https://api.github.com/users/scuba-tech/orgs","repos_url":"https://api.github.com/users/scuba-tech/repos","events_url":"https://api.github.com/users/scuba-tech/events{/privacy}","received_events_url":"https://api.github.com/users/scuba-tech/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":430778096,"node_id":"MDU6TGFiZWw0MzA3NzgwOTY=","url":"https://api.github.com/repos/rclone/rclone/labels/VFS%20/%20mount","name":"VFS / mount","color":"0e8a16","default":false,"description":""},{"id":2464791788,"node_id":"MDU6TGFiZWwyNDY0NzkxNzg4","url":"https://api.github.com/repos/rclone/rclone/labels/OS:%20Mac","name":"OS: Mac","color":"d985dd","default":false,"description":""},{"id":2510153547,"node_id":"MDU6TGFiZWwyNTEwMTUzNTQ3","url":"https://api.github.com/repos/rclone/rclone/labels/Serving","name":"Serving","color":"5cf2b8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":31,"created_at":"2023-12-12T14:06:02Z","updated_at":"2024-02-18T15:30:21Z","closed_at":"2024-02-18T10:09:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n\r\nWe understand you are having a problem with rclone; we want to help you with that!\r\n\r\n**STOP and READ**\r\n**YOUR POST WILL BE REMOVED IF IT IS LOW QUALITY**:\r\nPlease show the effort you've put into solving the problem and please be specific.\r\nPeople are volunteering their time to help! Low effort posts are not likely to get good answers!\r\n\r\nIf you think you might have found a bug, try to replicate it with the latest beta (or stable).\r\nThe update instructions are available at https://rclone.org/commands/rclone_selfupdate/\r\n\r\nIf you can still replicate it or just got a question then please use the rclone forum:\r\n\r\n    https://forum.rclone.org/\r\n\r\nfor a quick response instead of filing an issue on this repo.\r\n\r\nIf nothing else helps, then please fill in the info below which helps us help you.\r\n\r\n**DO NOT REDACT** any information except passwords/keys/personal info.\r\n\r\nYou should use 3 backticks to begin and end your paste to make it readable.\r\n\r\nMake sure to include a log obtained with '-vv'.\r\n\r\nYou can also use '-vv --log-file bug.log' and a service such as https://pastebin.com or https://gist.github.com/\r\n\r\nThank you\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n**Hello! I'm writing with an active issue that seems to affect `rclone nfsmount` on macOS.**\r\n\r\n-----\r\n\r\n#### The associated forum post URL from `https://forum.rclone.org`\r\n\r\nhttps://forum.rclone.org/t/rclone-v1-65-0-release/43100/25?u=scuba-tech\r\n\r\n#### What is the problem you are having with rclone?\r\n\r\n**ALL** attempts to copy files of any size or type, from Finder into OneDrive, via `nfsmount` fail. \r\n\r\nIt is not possible to write from Finder or save work. It *is* possible to read/open files.\r\n\r\nSimple writing operations like `touch` and `cat > filename` from a shell do write properly into nfsmount.\r\n\r\n-----\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\n1.65.0 via brew\r\n\r\n-----\r\n\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\n\r\n**macOS Sonoma (14.1.1)** // ARM64\r\n\r\n\r\n-----\r\n\r\n#### Which cloud storage system are you using? (e.g. Google Drive)\r\n\r\nMicrosoft OneDrive (personal family // 6TB)\r\n\r\n-----\r\n\r\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\r\n\r\n`rclone nfsmount --vfs-cache-mode full --filter-from \"/Users/<user>/.config/rclone/rclone-filter-rules.txt\" OD: ~/MOUNT-OneDrive --verbose`\r\n\r\nNotes:\r\n\r\n1. I am using `--vfs-cache-mode full` to allow writing with OneDrive. Using none gives an (expected) read-only error message.\r\n2. Here are the contents of my filter rules file:\r\n\r\n```\r\n- **/.DS_Store\r\n- **/.hidden*\r\n- **/._*\r\n```\r\n\r\n#### A log from the command with the `-vv` flag (e.g. output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n```\r\n[ERROR] No file for lookup of ._GH010215.mp4\r\n[ERROR] call to 0x106<###>  failed: No such file or directory\r\nINFO  : SdT-Inboxes/GH010215.mp4: vfs cache: removed cache file as file deleted\r\n[ERROR] No file for lookup of ._7F2A7976.JPG\r\n[ERROR] call to 0x106<###>  failed: No such file or directory\r\n[ERROR] err loading attrs for SdT-Inboxes/GH010215.mp4: file does not exist\r\n[ERROR] No file for lookup of ._7F2A7977.JPG\r\n[ERROR] call to 0x106<###>  failed: No such file or directory\r\n[ERROR] err loading attrs for SdT-Inboxes/GH010215.mp4: file does not exist\r\n```\r\n\r\n<img width=\"684\" alt=\"image\" src=\"https://github.com/rclone/rclone/assets/35608185/9d2adedc-09e3-44e5-b4c5-bf5b91602585\">\r\n\r\n\r\nConfirming that the copy into the mount _did fail_, checking with Finder, `ls -hAls`, and even OneDrive webUI... all of these confirm that the file does **not** actually \"already exist\" as the error message above claims!\r\n\r\nI hope this report helps with getting `nfsmount` sorted. :) \r\n\r\n<!--- Please keep the note below for others who read your bug report. -->\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7503/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7503/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1916406717","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1916406717","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1916406717,"node_id":"IC_kwDOAQ-n5M5yOgu9","user":{"login":"FurloSK","id":4283247,"node_id":"MDQ6VXNlcjQyODMyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/4283247?v=4","gravatar_id":"","url":"https://api.github.com/users/FurloSK","html_url":"https://github.com/FurloSK","followers_url":"https://api.github.com/users/FurloSK/followers","following_url":"https://api.github.com/users/FurloSK/following{/other_user}","gists_url":"https://api.github.com/users/FurloSK/gists{/gist_id}","starred_url":"https://api.github.com/users/FurloSK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FurloSK/subscriptions","organizations_url":"https://api.github.com/users/FurloSK/orgs","repos_url":"https://api.github.com/users/FurloSK/repos","events_url":"https://api.github.com/users/FurloSK/events{/privacy}","received_events_url":"https://api.github.com/users/FurloSK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-30T09:24:07Z","updated_at":"2024-01-30T09:24:07Z","body":"Just dropping in to say that I would be extremely thankful for having this fixed at some point. It would save a lot of trouble for me and many users in Slovakia, Czech republic and other countries, where basically all words are accented, which makes using `rclone` very problematic.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1916406717/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"FurloSK","id":4283247,"node_id":"MDQ6VXNlcjQyODMyNDc=","avatar_url":"https://avatars.githubusercontent.com/u/4283247?v=4","gravatar_id":"","url":"https://api.github.com/users/FurloSK","html_url":"https://github.com/FurloSK","followers_url":"https://api.github.com/users/FurloSK/followers","following_url":"https://api.github.com/users/FurloSK/following{/other_user}","gists_url":"https://api.github.com/users/FurloSK/gists{/gist_id}","starred_url":"https://api.github.com/users/FurloSK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FurloSK/subscriptions","organizations_url":"https://api.github.com/users/FurloSK/orgs","repos_url":"https://api.github.com/users/FurloSK/repos","events_url":"https://api.github.com/users/FurloSK/events{/privacy}","received_events_url":"https://api.github.com/users/FurloSK/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926439550","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926439550","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926439550,"node_id":"IC_kwDOAQ-n5M5y0yJ-","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T08:20:03Z","updated_at":"2024-02-05T08:20:03Z","body":"I took a shot at fixing this: https://github.com/nielash/rclone/commit/af6c376ef102e56704a8bb6d81e53f3311474fd3 \r\n\r\nIt is the \"smallest patch that could work\" approach as ncw suggested. So, it does not add a new `--vfs-normalize` flag -- rather, it uses the existing `--no-unicode-normalization` (and note the double-negative -- `false` means normalize.) This seemed to be enough to fix it -- @kapitainsky I wonder if you agree?\r\n\r\n> > Edge case to watch is situation where two names differ only by normalization and coexist in the same folder\r\n> \r\n> We currently just use the first one in the case vs CASE comparison. That is the easy thing to do. To detect a collision would require scanning the whole directory which would take on average twice as long.\r\n> \r\n> Worth the extra CPU for an ERROR message?\r\n\r\nI attempted to split the difference on this by adding a new flag for this (disabled by default), `--vfs-block-norm-dupes` (better name suggestions welcome). ncw is right that there will be a performance hit, so I think most non-mac users will want to leave it off. However some mac users may want it, as otherwise the \"edge case\" @kapitainsky mentioned will have an odd effect: both versions of the file will be visible in the mount, and both will appear to be editable, however, editing either version will actually result in only the NFD version getting edited under the hood. So `--vfs-block-norm-dupes` prevents this confusion by detecting this scenario and hiding the duplicates + logging an error, similar to what `march` would do. Thoughts on this approach?\r\n\r\nOn a slightly-related note, it seems to me that there is something odd about how `lib/encoder` is behaving on mac. For example, if I mount a `crypt` remote with invalid UTF-8 paths and then run `rclone lsl` on the mount, I will get errors. However if I `rclone sync` that same remote to `local` and then `rclone lsl` the copied files, it works just fine. But then if I `rclone check` the same paths I synced, suddenly there are errors due to name encoding differences. Is it that the conversion only goes one way? Probably out of scope for this ticket, but thought I'd mention it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926439550/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11700215315,"node_id":"MEE_lADOAQ-n5M5pVAaFzwAAAAK5Yx4T","url":"https://api.github.com/repos/rclone/rclone/issues/events/11700215315","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-02-05T08:20:05Z","performed_via_github_app":null},{"id":11700215323,"node_id":"SE_lADOAQ-n5M5pVAaFzwAAAAK5Yx4b","url":"https://api.github.com/repos/rclone/rclone/issues/events/11700215323","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-02-05T08:20:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926473244","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926473244","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926473244,"node_id":"IC_kwDOAQ-n5M5y06Yc","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T08:42:28Z","updated_at":"2024-02-05T08:42:28Z","body":"> I took a shot at fixing this: [nielash@af6c376](https://github.com/nielash/rclone/commit/af6c376ef102e56704a8bb6d81e53f3311474fd3)\r\n\r\nThis is a big one for us macOS users:)\r\n\r\nAs soon as I have a moment I will start testing it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926473244/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926539160","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926539160","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926539160,"node_id":"IC_kwDOAQ-n5M5y1KeY","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T09:20:21Z","updated_at":"2024-02-05T09:22:41Z","body":"OK I could not wait - I am very excited about this chance to fix this long standing issue:) - so I quickly tried with my test data (NFC/NFD mix usage) I used in the past. And hurrah! It works. Both in Finder and terminal using FUSE-T mount.\r\n\r\nHave not looked at \"duplicates\" yet. I am a bit swamped at the moment so it is only quick try - I will take it for a proper ride later.\r\n\r\nHow exactly this patch work? Sorry I am not a programmer and struggle to understand exactly how it is achieved. I see that it ditches `iconv` conversions - this is nice - was doing it myself for long as it was maybe something working for HFS+ but definitely for APFS was only trouble. But on its own it was not enough.\r\n ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926539160/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926630678","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926630678","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926630678,"node_id":"IC_kwDOAQ-n5M5y1g0W","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:10:36Z","updated_at":"2024-02-05T10:10:36Z","body":"> And hurrah! It works. Both in Finder and terminal using FUSE-T mount.\r\n\r\nThat is encouraging to hear! üòÉ \r\n\r\n> How exactly this patch work? Sorry I am not a programmer and struggle to understand exactly how it is achieved.\r\n\r\nBasically it takes the existing `--vfs-case-insensitive` logic and extends it to apply to both case insensitivity and unicode normalization form. So, if mac references a file with its NFD name, rclone first looks to see if it has a file with that exact NFD name. If it does, great -- we're done. If it does not, instead of telling mac \"sorry, I don't have that\", it will look to see if it has a file that normalizes to the same NFC name as the one that mac is asking for. If it finds exactly one such file, it will consider this a match. If it finds more than one, it will error (this is possible for case sensitivity but should be pretty rare for NFC/NFD. For example, if mac asks for \"hello\" but rclone has both \"HELLO\" and \"HeLlo\".)\r\n\r\nSo the result is that if rclone gives mac an NFC file but mac converts it to NFD, rclone will not get confused and will be able to figure out which file mac is talking about.\r\n\r\nThe most important part is [here](https://github.com/nielash/rclone/blob/af6c376ef102e56704a8bb6d81e53f3311474fd3/vfs/dir.go#L809-L822). And this calls `operations.ApplyTransforms` to do the actual conversion:\r\n\r\nhttps://github.com/rclone/rclone/blob/91b54aafccc3aed01a5389864e8ef3902286b406/fs/operations/check.go#L381-L390\r\n\r\nThis uses the [`norm`](https://pkg.go.dev/golang.org/x/text/unicode/norm) package from the Go standard library instead of Mac's `iconv` implementation, which is known to be buggy.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926630678/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926639821","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926639821","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926639821,"node_id":"IC_kwDOAQ-n5M5y1jDN","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:15:36Z","updated_at":"2024-02-05T10:15:36Z","body":"Thank you for this explanation. When I digest it I will try to break it with my testing:) And of course I hope I will fail.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926639821/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926645382","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926645382","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926645382,"node_id":"IC_kwDOAQ-n5M5y1kaG","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:18:35Z","updated_at":"2024-02-05T10:18:35Z","body":"Maybe you could land both normalisation and nfsmount fixes at the same time? At last we could have FUSE free mount life on macOS:)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926645382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926663084","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926663084","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926663084,"node_id":"IC_kwDOAQ-n5M5y1ous","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:27:20Z","updated_at":"2024-02-05T10:27:20Z","body":"> At last we could have FUSE free mount life on macOS:)\r\n\r\nThat's the dream! üòÜ \r\n\r\nAside from https://github.com/rclone/rclone/issues/7503#issuecomment-1910713905 which I posted a fix for, are there other `nfsmount` issues?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926663084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926669746","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926669746","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926669746,"node_id":"IC_kwDOAQ-n5M5y1qWy","user":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:31:06Z","updated_at":"2024-02-05T10:31:50Z","body":"> Aside from [#7503 (comment)](https://github.com/rclone/rclone/issues/7503#issuecomment-1910713905) which I posted a fix for, are there other `nfsmount` issues?\r\n\r\nI have been using your fix few times and it serves its purpose - writing to NFS mount is possible.\r\n\r\nOne issue I noticed was `nfsmount` mount name. Firstly it can not be controlled with `--volname` and secondly it was rather random as I remember (definitely not using remote name). Not show stopper for my use so I just ignored it:)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926669746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kapitainsky","id":15635386,"node_id":"MDQ6VXNlcjE1NjM1Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/15635386?v=4","gravatar_id":"","url":"https://api.github.com/users/kapitainsky","html_url":"https://github.com/kapitainsky","followers_url":"https://api.github.com/users/kapitainsky/followers","following_url":"https://api.github.com/users/kapitainsky/following{/other_user}","gists_url":"https://api.github.com/users/kapitainsky/gists{/gist_id}","starred_url":"https://api.github.com/users/kapitainsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kapitainsky/subscriptions","organizations_url":"https://api.github.com/users/kapitainsky/orgs","repos_url":"https://api.github.com/users/kapitainsky/repos","events_url":"https://api.github.com/users/kapitainsky/events{/privacy}","received_events_url":"https://api.github.com/users/kapitainsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926691141","html_url":"https://github.com/rclone/rclone/issues/7072#issuecomment-1926691141","issue_url":"https://api.github.com/repos/rclone/rclone/issues/7072","id":1926691141,"node_id":"IC_kwDOAQ-n5M5y1vlF","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:43:18Z","updated_at":"2024-02-05T10:43:18Z","body":"Ok. That sounds fairly easy, I'll try to take a look.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1926691141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}}]