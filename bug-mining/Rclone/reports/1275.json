{"url":"https://api.github.com/repos/rclone/rclone/issues/7850","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7850/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7850/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7850/events","html_url":"https://github.com/rclone/rclone/issues/7850","id":2300757193,"node_id":"I_kwDOAQ-n5M6JIsTJ","number":7850,"title":"The issue encountered when uploading large size file to Pikpak.","user":{"login":"cj-neo","id":35209118,"node_id":"MDQ6VXNlcjM1MjA5MTE4","avatar_url":"https://avatars.githubusercontent.com/u/35209118?v=4","gravatar_id":"","url":"https://api.github.com/users/cj-neo","html_url":"https://github.com/cj-neo","followers_url":"https://api.github.com/users/cj-neo/followers","following_url":"https://api.github.com/users/cj-neo/following{/other_user}","gists_url":"https://api.github.com/users/cj-neo/gists{/gist_id}","starred_url":"https://api.github.com/users/cj-neo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cj-neo/subscriptions","organizations_url":"https://api.github.com/users/cj-neo/orgs","repos_url":"https://api.github.com/users/cj-neo/repos","events_url":"https://api.github.com/users/cj-neo/events{/privacy}","received_events_url":"https://api.github.com/users/cj-neo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":5350216513,"node_id":"LA_kwDOAQ-n5M8AAAABPuXTQQ","url":"https://api.github.com/repos/rclone/rclone/labels/remote:%20PikPak","name":"remote: PikPak","color":"FBCA04","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"wiserain","id":20354654,"node_id":"MDQ6VXNlcjIwMzU0NjU0","avatar_url":"https://avatars.githubusercontent.com/u/20354654?v=4","gravatar_id":"","url":"https://api.github.com/users/wiserain","html_url":"https://github.com/wiserain","followers_url":"https://api.github.com/users/wiserain/followers","following_url":"https://api.github.com/users/wiserain/following{/other_user}","gists_url":"https://api.github.com/users/wiserain/gists{/gist_id}","starred_url":"https://api.github.com/users/wiserain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiserain/subscriptions","organizations_url":"https://api.github.com/users/wiserain/orgs","repos_url":"https://api.github.com/users/wiserain/repos","events_url":"https://api.github.com/users/wiserain/events{/privacy}","received_events_url":"https://api.github.com/users/wiserain/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"wiserain","id":20354654,"node_id":"MDQ6VXNlcjIwMzU0NjU0","avatar_url":"https://avatars.githubusercontent.com/u/20354654?v=4","gravatar_id":"","url":"https://api.github.com/users/wiserain","html_url":"https://github.com/wiserain","followers_url":"https://api.github.com/users/wiserain/followers","following_url":"https://api.github.com/users/wiserain/following{/other_user}","gists_url":"https://api.github.com/users/wiserain/gists{/gist_id}","starred_url":"https://api.github.com/users/wiserain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiserain/subscriptions","organizations_url":"https://api.github.com/users/wiserain/orgs","repos_url":"https://api.github.com/users/wiserain/repos","events_url":"https://api.github.com/users/wiserain/events{/privacy}","received_events_url":"https://api.github.com/users/wiserain/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/13","html_url":"https://github.com/rclone/rclone/milestone/13","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/13/labels","id":1575401,"node_id":"MDk6TWlsZXN0b25lMTU3NTQwMQ==","number":13,"title":"Help Wanted","description":"Enhancements which might be useful, but currently aren't planned.\r\n\r\nAny help doing these much appreciated.","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":228,"closed_issues":302,"state":"open","created_at":"2016-02-10T17:44:20Z","updated_at":"2025-11-04T14:55:57Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2024-05-16T15:47:01Z","updated_at":"2024-06-12T04:19:26Z","closed_at":"2024-06-12T04:19:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"What is the problem you are having with rclone?\r\nI encountered a few days ago while uploading a large file. The file is 134GB, but I encountered the following error before even reaching 100GB:\r\n\r\n```bash\r\n2024/05/08 20:56:55 ERROR : /Marvels.Avengers.zip: Failed to copy: failed to upload: MultipartUpload: upload multipart failed\r\n        upload id: C278C4F1FAD2486782772961F3CA663A\r\ncaused by: TotalPartsExceeded: exceeded total allowed configured MaxUploadParts (10000). Adjust PartSize to fit in this limit\r\n```\r\n\r\nIt mentions that adjusting the PartSize parameter can allow the upload. Is the corresponding parameter max-upload-parts? However, I couldn't find this parameter in Pikpak. Currently, I only see two specific parameters for cloud storage services: --oos-max-upload-parts and --s3-max-upload-parts, but neither seems applicable to Pikpak.\r\n\r\nI'm not sure what the maximum file size limit for Pikpak is, but currently, uploading large files to Pikpak using rclone seems to be problematic.\r\n\r\nIf possible, I think rclone could handle large file uploads better. For instance, it could first check if the file size fits within the default PartSize before starting the upload. If it doesn't fit, the upload shouldn't start because uploading large files takes a lot of time. Encountering a PartSize error halfway through, requiring a settings adjustment and re-upload, wastes all the previous time.\r\n\r\nAdditionally, maybe rclone could automatically adjust the PartSize based on the file size, completing the upload without any errors. I think it's challenging for the average user to know how large the file needs to be before adjusting the PartSize for a successful upload, Of course, these are just my humble suggestions and might be a bit demanding. I'm just offering some possible directions for improvement.\r\n\r\nThank you for your help.\r\n\r\nWhat is your rclone version (output from rclone version)\r\n1.66\r\n\r\nWhich OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\nWin10 & Ubuntu 22.04, 64 bit\r\n\r\nWhich cloud storage system are you using? (e.g. Google Drive)\r\nlocal or google drive upload to pikpak\r\n\r\nThe command you were trying to run (e.g. rclone copy /tmp remote:tmp)\r\nrclone copy & sync\r\n\r\nHow to use GitHub\r\nPlease use the üëç reaction to show that you are affected by the same issue.\r\nPlease don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\nSubscribe to receive notifications on status change and new comments.","closed_by":{"login":"wiserain","id":20354654,"node_id":"MDQ6VXNlcjIwMzU0NjU0","avatar_url":"https://avatars.githubusercontent.com/u/20354654?v=4","gravatar_id":"","url":"https://api.github.com/users/wiserain","html_url":"https://github.com/wiserain","followers_url":"https://api.github.com/users/wiserain/followers","following_url":"https://api.github.com/users/wiserain/following{/other_user}","gists_url":"https://api.github.com/users/wiserain/gists{/gist_id}","starred_url":"https://api.github.com/users/wiserain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiserain/subscriptions","organizations_url":"https://api.github.com/users/wiserain/orgs","repos_url":"https://api.github.com/users/wiserain/repos","events_url":"https://api.github.com/users/wiserain/events{/privacy}","received_events_url":"https://api.github.com/users/wiserain/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7850/timeline","performed_via_github_app":null,"state_reason":"completed"}