{"url":"https://api.github.com/repos/rclone/rclone/issues/4576","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4576/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4576/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4576/events","html_url":"https://github.com/rclone/rclone/issues/4576","id":696202926,"node_id":"MDU6SXNzdWU2OTYyMDI5MjY=","number":4576,"title":"[ErrorMaxTransferLimitReachedFatal] Stop all transferts with cut-off mode soft and cautious","user":{"login":"bounty1342","id":6307253,"node_id":"MDQ6VXNlcjYzMDcyNTM=","avatar_url":"https://avatars.githubusercontent.com/u/6307253?v=4","gravatar_id":"","url":"https://api.github.com/users/bounty1342","html_url":"https://github.com/bounty1342","followers_url":"https://api.github.com/users/bounty1342/followers","following_url":"https://api.github.com/users/bounty1342/following{/other_user}","gists_url":"https://api.github.com/users/bounty1342/gists{/gist_id}","starred_url":"https://api.github.com/users/bounty1342/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bounty1342/subscriptions","organizations_url":"https://api.github.com/users/bounty1342/orgs","repos_url":"https://api.github.com/users/bounty1342/repos","events_url":"https://api.github.com/users/bounty1342/events{/privacy}","received_events_url":"https://api.github.com/users/bounty1342/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/41","html_url":"https://github.com/rclone/rclone/milestone/41","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/41/labels","id":5478342,"node_id":"MDk6TWlsZXN0b25lNTQ3ODM0Mg==","number":41,"title":"v1.54","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":55,"state":"closed","created_at":"2020-05-29T14:52:51Z","updated_at":"2021-02-03T16:09:01Z","due_on":"2021-01-30T08:00:00Z","closed_at":"2021-02-03T16:05:14Z"},"comments":3,"created_at":"2020-09-08T21:55:20Z","updated_at":"2020-09-09T14:59:28Z","closed_at":"2020-09-09T11:55:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\nIssue with cutoff=soft, all in progress transferts stop after first one finished.\r\nIssue with cutoff=cautious, all in progress transfer stop if next transfert reach max-transfert instead of skipping it.\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\n> rclone v1.53.0\r\n> - os/arch: linux/amd64\r\n> - go version: go1.15\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\n\r\n> $uname -a\r\n> Linux bounty1342vm 5.4.0-42-generic #46-Ubuntu SMP Fri Jul 10 00:24:02 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n> \r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\n\r\n> Google Drive\r\n\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n\r\n> rclone copy 'pyplexmove1:Plex/backup/!Finished' 'pyteammove1crypt:Current/backup/!Finished' \\\r\n> --stats-file-name-length 0 \\\r\n> --checkers 4 \\\r\n> --transfers 8 \\\r\n> --size-only \\\r\n> --stats=1m \\\r\n> --max-transfer=100G \\\r\n> --cutoff-mode=soft \\\r\n> -v\r\n\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n> Transferred:   \t  102.506G / 270.556 GBytes, 38%, 79.561 MBytes/s, ETA 36m2s\r\n> Transferred:           33 / 71, 46%\r\n> Elapsed time:      22m3.6s\r\n> Transferring:\r\n>  * File 7: 96% /3.906G, 9.943M/s, 14s\r\n>  * File 8: 38% /4.219G, 9.624M/s, 4m34s\r\n>  * File 1: 35% /4.246G, 9.977M/s, 4m40s\r\n>  * File 2: 24% /4.043G, 10.047M/s, 5m12s\r\n>  * File 3: 23% /4.125G, 10.232M/s, 5m17s\r\n>  * File 4: 21% /3.892G, 10.347M/s, 5m1s\r\n>  * File 5:  9% /4.182G, 9.612M/s, 6m42s\r\n>  * File 6: 10% /3.974G, 10.719M/s, 5m40s\r\n> \r\n> 2020/09/04 09:32:20 INFO  : File 7: Copied (new)\r\n> 2020/09/04 09:32:20 ERROR : Cancelling sync due to fatal error: Max transfer limit reached as set by --max-transfer\r\n> 2020/09/04 09:32:20 ERROR : File 5: Failed to copy: Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ABg5-UzEf6g4-qLBdmFukaddb4PCTdwANdHOypxJl8W9sZfHaDejqy5McpzeWJL8PV_0Q-_TLjmaC6FWig4m9__TM-0H0VFp2w\": context canceled\r\n> 2020/09/04 09:32:20 ERROR : File 4: Failed to copy: Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ABg5-UwyLCdE54srakSqysILlJaw6eUTDLiszc-OI0xDy7OyjnxGNPVz_iLHjceky4UFEZiTAg-oZaebA2Ad9c_P99jAdNIdjQ\": context canceled\r\n> 2020/09/04 09:32:20 ERROR : File 2: Failed to copy: Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ABg5-UxWJQ2Q0-L3tZe-LN_4oG5QG-pm0Q5iWzeib1C4rZxMjeCCQIlFeqaLx3G0rdyYGy4mWNrcxBZQOrsRYLY3ioFI8dG4Kg\": context canceled\r\n> 2020/09/04 09:32:20 ERROR : File 6: Failed to copy: Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ABg5-UxvQ6i7Sbm6Bb06qSxwuDZlNcveSlxK0sXwBTEN4M2ao2xHNhmLT92mEHkbrlIkwqiOVD-huGCywasLrFkfqomfMMYpsg\": context canceled\r\n> 2020/09/04 09:32:20 ERROR : File 3: Failed to copy: Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ABg5-UwQfHEFEiTjJQhVoynxhNRKV-SY-wE1uE2L1kpRL45euE7VanupOwmsiHDTipCil4uyLWseNOqxiDjM14DhoLTWOe2vqQ\": context canceled\r\n> 2020/09/04 09:32:20 ERROR : File 1: Failed to copy: Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ABg5-UyCejR6uc_wnmMg-VQLpEco7K2kuhQWZJsr2gAWhGA1KubooZguOLXcn793oDjDCFY6C0oG2knrUg42N77ZTY1Km32Bzw\": context canceled\r\n> 2020/09/04 09:32:20 ERROR : File 8: Failed to copy: Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ABg5-UxWhnF-YJwixjLY_m8FfsKNGPTyqfZvrLZC5Xh9jv4H7I8QRVT0RPbAvAg5Ua6lsMMzw_s-OXFKpUlgLj4wWAHD_Bsoqw\": context canceled\r\n> 2020/09/04 09:32:20 ERROR : Fatal error received - not attempting retries\r\n> 2020/09/04 09:32:20 INFO  : \r\n> Transferred:   \t  103.657G / 245.948 GBytes, 42%, 79.546 MBytes/s, ETA 30m31s\r\n> Errors:                 9 (fatal error encountered)\r\n> Transferred:           34 / 63, 54%\r\n> Elapsed time:     22m18.7s 2020/09/04 09:32:20 Failed to copy with 9 errors: last error was: Max transfer limit reached as set by --max-transfer\r\n\r\n\r\nFor cautious, I can think of 2 behaviours :\r\n1. Stop spawning new transfert\r\n2. spawn new transfer if file smaller than the remaining size\r\n\r\nRegards\r\n\r\nSee forum: https://forum.rclone.org/t/cutoff-mode-soft-not-working-as-expected-i-think/18913","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4576/timeline","performed_via_github_app":null,"state_reason":"completed"}