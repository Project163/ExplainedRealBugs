{"url":"https://api.github.com/repos/rclone/rclone/issues/7006","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7006/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7006/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7006/events","html_url":"https://github.com/rclone/rclone/issues/7006","id":1713019727,"node_id":"I_kwDOAQ-n5M5mGptP","number":7006,"title":"rclone crashes when reading file metadata in Android","user":{"login":"iikira","id":19154488,"node_id":"MDQ6VXNlcjE5MTU0NDg4","avatar_url":"https://avatars.githubusercontent.com/u/19154488?v=4","gravatar_id":"","url":"https://api.github.com/users/iikira","html_url":"https://github.com/iikira","followers_url":"https://api.github.com/users/iikira/followers","following_url":"https://api.github.com/users/iikira/following{/other_user}","gists_url":"https://api.github.com/users/iikira/gists{/gist_id}","starred_url":"https://api.github.com/users/iikira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iikira/subscriptions","organizations_url":"https://api.github.com/users/iikira/orgs","repos_url":"https://api.github.com/users/iikira/repos","events_url":"https://api.github.com/users/iikira/events{/privacy}","received_events_url":"https://api.github.com/users/iikira/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-05-17T03:05:01Z","updated_at":"2023-05-17T16:04:08Z","closed_at":"2023-05-17T16:03:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\nWhen reading the file metadata in android, rclone will report 'bad system call' and then exit\r\n\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nI compiled rclone with GOOS=android GOARCH=arm64, and the source code uses the release version of v1.62.2\r\n\r\nrclone v1.62.2-DEV\r\n- os/version: unknown\r\n- os/kernel: 4.9.179-perf+ (aarch64)\r\n- os/type: android\r\n- os/arch: arm64 (ARMv8 compatible)\r\n- go/version: go1.20.1\r\n- go/linking: dynamic\r\n- go/tags: none\r\n\r\n\r\n\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\nAndroid 10, 64 bit\r\n\r\n\r\n#### Which cloud storage system are you using? (e.g. Google Drive)\r\nlocal\r\n\r\n\r\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\r\n```\r\n~/tmp $ ls\r\na.txt\r\n~/tmp $ rclone -vvv copyto --metadata a.txt b.txt\r\n```\r\n\r\n\r\n\r\n#### A log from the command with the `-vv` flag (e.g. output from `rclone -vv copy /tmp remote:tmp`)\r\n```\r\n2023/05/17 02:33:48 DEBUG : rclone: Version \"v1.62.2-DEV\" starting with parameters [\"rclone\" \"-vvv\" \"copyto\" \"--metadata\" \"a.txt\" \"b.txt\"]\r\n2023/05/17 02:33:48 DEBUG : Creating backend with remote \"a.txt\"\r\n2023/05/17 02:33:48 DEBUG : Using config file from \"/data/data/com.termux/files/home/.config/rclone/rclone.conf\"\r\n2023/05/17 02:33:49 DEBUG : fs cache: adding new entry for parent of \"a.txt\", \"/data/data/com.termux/files/home/tmp\"\r\n2023/05/17 02:33:49 DEBUG : Creating backend with remote \".\"\r\n2023/05/17 02:33:49 DEBUG : fs cache: renaming cache item \".\" to be canonical \"/data/data/com.termux/files/home/tmp\"\r\n2023/05/17 02:33:49 DEBUG : a.txt: Need to transfer - File not found at Destination\r\nSIGSYS: bad system call\r\nPC=0x5b068952c0 m=0 sigcode=1\r\n\r\ngoroutine 1 [syscall]:\r\nsyscall.Syscall6(0x4000927098?, 0x5b06a4244c?, 0x5b0685bd10?, 0x1?, 0x0?, 0x5b0685bd10?, 0x40009c3da0?)\r\n\t/usr/local/go/src/syscall/syscall_linux.go:91 +0x2c fp=0x4000927050 sp=0x4000926fc0 pc=0x5b0692009c\r\nsyscall.Syscall6(0x123, 0xffffffffffffff9c, 0x40009c9620, 0x0, 0xfff, 0x4000927178, 0x0)\r\n\t<autogenerated>:1 +0x2c fp=0x40009270a0 sp=0x4000927050 pc=0x5b06920cac\r\ngolang.org/x/sys/unix.Statx(0x40009ec540?, {0x5b0685bd10?, 0x4000927238?}, 0x5b073f5058?, 0x40000cd000?, 0x4000927178)\r\n\t/Users/syy/go/pkg/mod/golang.org/x/sys@v0.6.0/unix/zsyscall_linux.go:1589 +0xa8 fp=0x4000927140 sp=0x40009270a0 pc=0x5b06a424b8\r\ngithub.com/rclone/rclone/backend/local.(*Object).readMetadataFromFile.func1()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/metadata_linux.go:26 +0x58 fp=0x4000927280 sp=0x4000927140 pc=0x5b073f54c8\r\nsync.(*Once).doSlow(0x8?, 0x5b07fa35c0?)\r\n\t/usr/local/go/src/sync/once.go:74 +0x100 fp=0x40009272e0 sp=0x4000927280 pc=0x5b06912ee0\r\nsync.(*Once).Do(...)\r\n\t/usr/local/go/src/sync/once.go:65\r\ngithub.com/rclone/rclone/backend/local.(*Object).readMetadataFromFile(0x400012b020?, 0x5b06c0d82c?)\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/metadata_linux.go:22 +0x44 fp=0x4000927310 sp=0x40009272e0 pc=0x5b073f3fa4\r\ngithub.com/rclone/rclone/backend/local.(*Object).Metadata(0x4000927388?, {0x7a489c5e10?, 0x400012b020?})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/local.go:1385 +0xac fp=0x4000927350 sp=0x4000927310 pc=0x5b073f37ac\r\ngithub.com/rclone/rclone/fs.(*OverrideRemote).Metadata(0x40009273c8?, {0x5b0832d3b8, 0x4000056058})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/override.go:65 +0x54 fp=0x4000927390 sp=0x4000927350 pc=0x5b06c0d844\r\ngithub.com/rclone/rclone/fs.GetMetadata({0x5b0832d3b8, 0x4000056058}, {0x5b083360b0?, 0x400007c420?})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/metadata.go:66 +0x54 fp=0x40009273d0 sp=0x4000927390 pc=0x5b06c0a244\r\ngithub.com/rclone/rclone/fs.GetMetadataOptions({0x5b0832d3b8, 0x4000056058}, {0x5b083360b0, 0x400007c420}, {0x40004e1300, 0x1, 0x0?})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/metadata.go:79 +0x58 fp=0x40009274a0 sp=0x40009273d0 pc=0x5b06c0a2f8\r\ngithub.com/rclone/rclone/backend/local.(*Object).Update(0x400012b140, {0x5b0832d3b8, 0x4000056058}, {0x5b08317540, 0x40009d2b00}, {0x5b083360b0?, 0x400007c420?}, {0x40004e1300?, 0x1, 0x1})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/local.go:1270 +0x5f4 fp=0x4000927590 sp=0x40009274a0 pc=0x5b073f3114\r\ngithub.com/rclone/rclone/backend/local.(*Fs).Put(0x40009697c0?, {0x5b0832d3b8, 0x4000056058}, {0x5b08317540, 0x40009d2b00}, {0x5b083360b0?, 0x400007c420?}, {0x40004e1300, 0x1, 0x1})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/local.go:598 +0x90 fp=0x4000927610 sp=0x4000927590 pc=0x5b073efe00\r\ngithub.com/rclone/rclone/fs/operations.Copy({0x5b0832d3b8, 0x4000056058}, {0x5b0833f160, 0x4000969680}, {0x0?, 0x0?}, {0x7fcdabd506, 0x5}, {0x5b0833f1d0?, 0x400012b020})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/operations/operations.go:440 +0x1420 fp=0x4000927890 sp=0x4000927610 pc=0x5b06f502c0\r\ngithub.com/rclone/rclone/fs/operations.moveOrCopyFile({0x5b0832d3b8, 0x4000056058}, {0x5b0833f160, 0x4000969680}, {0x5b0833f160?, 0x4000969680?}, {0x7fcdabd506, 0x5}, {0x7fcdabd500, 0x5}, ...)\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/operations/operations.go:1934 +0x724 fp=0x4000927a40 sp=0x4000927890 pc=0x5b06f5af24\r\ngithub.com/rclone/rclone/fs/operations.CopyFile(...)\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/operations/operations.go:1954\r\ngithub.com/rclone/rclone/cmd/copyto.glob..func1.1()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/cmd/copyto/copyto.go:59 +0x84 fp=0x4000927ab0 sp=0x4000927a40 pc=0x5b07adcb74\r\ngithub.com/rclone/rclone/cmd.Run(0x1, 0x1, 0x2?, 0x4000927cb0)\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/cmd/cmd.go:257 +0x100 fp=0x4000927c70 sp=0x4000927ab0 pc=0x5b07abe0e0\r\ngithub.com/rclone/rclone/cmd/copyto.glob..func1(0x5b09332800?, {0x40000a08c0, 0x2, 0x4})\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/cmd/copyto/copyto.go:55 +0xac fp=0x4000927d00 sp=0x4000927c70 pc=0x5b07adcaac\r\ngithub.com/spf13/cobra.(*Command).execute(0x5b09332800, {0x40000a0880, 0x4, 0x4})\r\n\t/Users/syy/go/pkg/mod/github.com/spf13/cobra@v1.6.1/command.go:920 +0x5ac fp=0x4000927e40 sp=0x4000927d00 pc=0x5b07a95cfc\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x5b0932d1c0)\r\n\t/Users/syy/go/pkg/mod/github.com/spf13/cobra@v1.6.1/command.go:1044 +0x340 fp=0x4000927f00 sp=0x4000927e40 pc=0x5b07a964d0\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n\t/Users/syy/go/pkg/mod/github.com/spf13/cobra@v1.6.1/command.go:968\r\ngithub.com/rclone/rclone/cmd.Main()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/cmd/cmd.go:567 +0x6c fp=0x4000927f60 sp=0x4000927f00 pc=0x5b07abf99c\r\nmain.main()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/rclone.go:14 +0x1c fp=0x4000927f70 sp=0x4000927f60 pc=0x5b07cb933c\r\nruntime.main()\r\n\t/usr/local/go/src/runtime/proc.go:250 +0x200 fp=0x4000927fd0 sp=0x4000927f70 pc=0x5b068cf740\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x4000927fd0 sp=0x4000927fd0 pc=0x5b069047d4\r\n\r\ngoroutine 2 [force gc (idle)]:\r\nruntime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000074fa0 sp=0x4000074f80 pc=0x5b068cfb50\r\nruntime.goparkunlock(...)\r\n\t/usr/local/go/src/runtime/proc.go:387\r\nruntime.forcegchelper()\r\n\t/usr/local/go/src/runtime/proc.go:305 +0xb0 fp=0x4000074fd0 sp=0x4000074fa0 pc=0x5b068cf9a0\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x4000074fd0 sp=0x4000074fd0 pc=0x5b069047d4\r\ncreated by runtime.init.6\r\n\t/usr/local/go/src/runtime/proc.go:293 +0x24\r\n\r\ngoroutine 3 [GC sweep wait]:\r\nruntime.gopark(0x1?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000075760 sp=0x4000075740 pc=0x5b068cfb50\r\nruntime.goparkunlock(...)\r\n\t/usr/local/go/src/runtime/proc.go:387\r\nruntime.bgsweep(0x0?)\r\n\t/usr/local/go/src/runtime/mgcsweep.go:319 +0x100 fp=0x40000757b0 sp=0x4000075760 pc=0x5b068b8e70\r\nruntime.gcenable.func1()\r\n\t/usr/local/go/src/runtime/mgc.go:178 +0x28 fp=0x40000757d0 sp=0x40000757b0 pc=0x5b068adc28\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x40000757d0 sp=0x40000757d0 pc=0x5b069047d4\r\ncreated by runtime.gcenable\r\n\t/usr/local/go/src/runtime/mgc.go:178 +0x6c\r\n\r\ngoroutine 4 [GC scavenge wait]:\r\nruntime.gopark(0x400007e000?, 0x5b0685b318?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000075f50 sp=0x4000075f30 pc=0x5b068cfb50\r\nruntime.goparkunlock(...)\r\n\t/usr/local/go/src/runtime/proc.go:387\r\nruntime.(*scavengerState).park(0x5b0934efa0)\r\n\t/usr/local/go/src/runtime/mgcscavenge.go:400 +0x5c fp=0x4000075f80 sp=0x4000075f50 pc=0x5b068b6ccc\r\nruntime.bgscavenge(0x0?)\r\n\t/usr/local/go/src/runtime/mgcscavenge.go:633 +0xa8 fp=0x4000075fb0 sp=0x4000075f80 pc=0x5b068b7288\r\nruntime.gcenable.func2()\r\n\t/usr/local/go/src/runtime/mgc.go:179 +0x28 fp=0x4000075fd0 sp=0x4000075fb0 pc=0x5b068adbc8\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x4000075fd0 sp=0x4000075fd0 pc=0x5b069047d4\r\ncreated by runtime.gcenable\r\n\t/usr/local/go/src/runtime/mgc.go:179 +0xac\r\n\r\ngoroutine 5 [finalizer wait]:\r\nruntime.gopark(0x1a0?, 0x5b093505e0?, 0xc0?, 0x36?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000074580 sp=0x4000074560 pc=0x5b068cfb50\r\nruntime.runfinq()\r\n\t/usr/local/go/src/runtime/mfinal.go:193 +0x100 fp=0x40000747d0 sp=0x4000074580 pc=0x5b068accf0\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x40000747d0 sp=0x40000747d0 pc=0x5b069047d4\r\ncreated by runtime.createfing\r\n\t/usr/local/go/src/runtime/mfinal.go:163 +0x80\r\n\r\ngoroutine 34 [select]:\r\nruntime.gopark(0x4000076778?, 0x3?, 0x90?, 0x80?, 0x4000076762?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000076610 sp=0x40000765f0 pc=0x5b068cfb50\r\nruntime.selectgo(0x4000076778, 0x400007675c, 0x40002cad80?, 0x0, 0x400004e4e0?, 0x1)\r\n\t/usr/local/go/src/runtime/select.go:327 +0x68c fp=0x4000076720 sp=0x4000076610 pc=0x5b068e04ac\r\ngo.opencensus.io/stats/view.(*worker).start(0x40002cad80)\r\n\t/Users/syy/go/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:292 +0x88 fp=0x40000767b0 sp=0x4000076720 pc=0x5b0714d7e8\r\ngo.opencensus.io/stats/view.init.0.func1()\r\n\t/Users/syy/go/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:34 +0x28 fp=0x40000767d0 sp=0x40000767b0 pc=0x5b0714c9e8\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x40000767d0 sp=0x40000767d0 pc=0x5b069047d4\r\ncreated by go.opencensus.io/stats/view.init.0\r\n\t/Users/syy/go/pkg/mod/go.opencensus.io@v0.24.0/stats/view/worker.go:34 +0xa0\r\n\r\ngoroutine 35 [GC worker (idle)]:\r\nruntime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000070740 sp=0x4000070720 pc=0x5b068cfb50\r\nruntime.gcBgMarkWorker()\r\n\t/usr/local/go/src/runtime/mgc.go:1275 +0xe4 fp=0x40000707d0 sp=0x4000070740 pc=0x5b068afa04\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x40000707d0 sp=0x40000707d0 pc=0x5b069047d4\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/usr/local/go/src/runtime/mgc.go:1199 +0x28\r\n\r\ngoroutine 7 [GC worker (idle)]:\r\nruntime.gopark(0x1ab0f6bad7ecf2?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000076f40 sp=0x4000076f20 pc=0x5b068cfb50\r\nruntime.gcBgMarkWorker()\r\n\t/usr/local/go/src/runtime/mgc.go:1275 +0xe4 fp=0x4000076fd0 sp=0x4000076f40 pc=0x5b068afa04\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x4000076fd0 sp=0x4000076fd0 pc=0x5b069047d4\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/usr/local/go/src/runtime/mgc.go:1199 +0x28\r\n\r\ngoroutine 19 [GC worker (idle)]:\r\nruntime.gopark(0x1ab0f6bad9b4ad?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x400013a740 sp=0x400013a720 pc=0x5b068cfb50\r\nruntime.gcBgMarkWorker()\r\n\t/usr/local/go/src/runtime/mgc.go:1275 +0xe4 fp=0x400013a7d0 sp=0x400013a740 pc=0x5b068afa04\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x400013a7d0 sp=0x400013a7d0 pc=0x5b069047d4\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/usr/local/go/src/runtime/mgc.go:1199 +0x28\r\n\r\ngoroutine 36 [GC worker (idle)]:\r\nruntime.gopark(0x1ab0f6bad7f30d?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000070f40 sp=0x4000070f20 pc=0x5b068cfb50\r\nruntime.gcBgMarkWorker()\r\n\t/usr/local/go/src/runtime/mgc.go:1275 +0xe4 fp=0x4000070fd0 sp=0x4000070f40 pc=0x5b068afa04\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x4000070fd0 sp=0x4000070fd0 pc=0x5b069047d4\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/usr/local/go/src/runtime/mgc.go:1199 +0x28\r\n\r\ngoroutine 37 [GC worker (idle)]:\r\nruntime.gopark(0x1ab0f6bad7e740?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000071740 sp=0x4000071720 pc=0x5b068cfb50\r\nruntime.gcBgMarkWorker()\r\n\t/usr/local/go/src/runtime/mgc.go:1275 +0xe4 fp=0x40000717d0 sp=0x4000071740 pc=0x5b068afa04\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x40000717d0 sp=0x40000717d0 pc=0x5b069047d4\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/usr/local/go/src/runtime/mgc.go:1199 +0x28\r\n\r\ngoroutine 38 [GC worker (idle)]:\r\nruntime.gopark(0x1ab0f6bad7f104?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000071f40 sp=0x4000071f20 pc=0x5b068cfb50\r\nruntime.gcBgMarkWorker()\r\n\t/usr/local/go/src/runtime/mgc.go:1275 +0xe4 fp=0x4000071fd0 sp=0x4000071f40 pc=0x5b068afa04\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x4000071fd0 sp=0x4000071fd0 pc=0x5b069047d4\r\ncreated by runtime.gcBgMarkStartWorkers\r\n\t/usr/local/go/src/runtime/mgc.go:1199 +0x28\r\n\r\ngoroutine 9 [select]:\r\nruntime.gopark(0x400013dfa0?, 0x2?, 0x78?, 0xde?, 0x400013df7c?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x400013de20 sp=0x400013de00 pc=0x5b068cfb50\r\nruntime.selectgo(0x400013dfa0, 0x400013df78, 0x0?, 0x0, 0x0?, 0x1)\r\n\t/usr/local/go/src/runtime/select.go:327 +0x68c fp=0x400013df30 sp=0x400013de20 pc=0x5b068e04ac\r\ngithub.com/rclone/rclone/cmd.StartStats.func2()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/cmd/cmd.go:372 +0xc8 fp=0x400013dfd0 sp=0x400013df30 pc=0x5b07abeee8\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x400013dfd0 sp=0x400013dfd0 pc=0x5b069047d4\r\ncreated by github.com/rclone/rclone/cmd.StartStats\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/cmd/cmd.go:368 +0xac\r\n\r\ngoroutine 10 [select]:\r\nruntime.gopark(0x400013d778?, 0x2?, 0xd8?, 0xd5?, 0x400013d714?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x400013d590 sp=0x400013d570 pc=0x5b068cfb50\r\nruntime.selectgo(0x400013d778, 0x400013d710, 0x5b07f13140?, 0x0, 0x400012a598?, 0x1)\r\n\t/usr/local/go/src/runtime/select.go:327 +0x68c fp=0x400013d6a0 sp=0x400013d590 pc=0x5b068e04ac\r\ngithub.com/rclone/rclone/fs/accounting.(*StatsInfo).averageLoop(0x400029e000)\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/accounting/stats.go:328 +0x100 fp=0x400013d7b0 sp=0x400013d6a0 pc=0x5b06dc7bc0\r\ngithub.com/rclone/rclone/fs/accounting.(*StatsInfo).startAverageLoop.func1.1()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/accounting/stats.go:357 +0x28 fp=0x400013d7d0 sp=0x400013d7b0 pc=0x5b06dc80a8\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x400013d7d0 sp=0x400013d7d0 pc=0x5b069047d4\r\ncreated by github.com/rclone/rclone/fs/accounting.(*StatsInfo).startAverageLoop.func1\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/accounting/stats.go:357 +0x70\r\n\r\ngoroutine 11 [chan receive]:\r\nruntime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000072660 sp=0x4000072640 pc=0x5b068cfb50\r\nruntime.chanrecv(0x400056d200, 0x4000072768, 0x1)\r\n\t/usr/local/go/src/runtime/chan.go:583 +0x468 fp=0x40000726f0 sp=0x4000072660 pc=0x5b06899a78\r\nruntime.chanrecv2(0x0?, 0x0?)\r\n\t/usr/local/go/src/runtime/chan.go:447 +0x14 fp=0x4000072720 sp=0x40000726f0 pc=0x5b068995f4\r\ngithub.com/rclone/rclone/backend/local.(*fadvise).worker(0x4000457f80)\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/fadvise_unix.go:115 +0x3c fp=0x40000727b0 sp=0x4000072720 pc=0x5b073ed72c\r\ngithub.com/rclone/rclone/backend/local.newFadvise.func1()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/fadvise_unix.go:75 +0x28 fp=0x40000727d0 sp=0x40000727b0 pc=0x5b073ed418\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x40000727d0 sp=0x40000727d0 pc=0x5b069047d4\r\ncreated by github.com/rclone/rclone/backend/local.newFadvise\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/backend/local/fadvise_unix.go:75 +0x120\r\n\r\ngoroutine 12 [select]:\r\nruntime.gopark(0x4000072f80?, 0x2?, 0x8?, 0x2e?, 0x4000072f34?)\r\n\t/usr/local/go/src/runtime/proc.go:381 +0xe0 fp=0x4000072dc0 sp=0x4000072da0 pc=0x5b068cfb50\r\nruntime.selectgo(0x4000072f80, 0x4000072f30, 0x0?, 0x0, 0x0?, 0x1)\r\n\t/usr/local/go/src/runtime/select.go:327 +0x68c fp=0x4000072ed0 sp=0x4000072dc0 pc=0x5b068e04ac\r\ngithub.com/rclone/rclone/fs/accounting.(*Account).averageLoop(0x40009d2b00)\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/accounting/accounting.go:212 +0xb8 fp=0x4000072fb0 sp=0x4000072ed0 pc=0x5b06dc22f8\r\ngithub.com/rclone/rclone/fs/accounting.newAccountSizeName.func1()\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/accounting/accounting.go:110 +0x28 fp=0x4000072fd0 sp=0x4000072fb0 pc=0x5b06dc1768\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:1172 +0x4 fp=0x4000072fd0 sp=0x4000072fd0 pc=0x5b069047d4\r\ncreated by github.com/rclone/rclone/fs/accounting.newAccountSizeName\r\n\t/Users/syy/go/pkg/mod/github.com/rclone/rclone@v1.62.2/fs/accounting/accounting.go:110 +0x3c4\r\n\r\nr0      0xffffffffffffff9c\r\nr1      0x40009c9620\r\nr2      0x0\r\nr3      0xfff\r\nr4      0x4000927178\r\nr5      0x0\r\nr6      0x0\r\nr7      0x40009c9622\r\nr8      0x123\r\nr9      0x40009c9620\r\nr10     0x0\r\nr11     0x0\r\nr12     0x163\r\nr13     0x155\r\nr14     0x13d\r\nr15     0x10325476\r\nr16     0x40009083a0\r\nr17     0x4000927120\r\nr18     0x7a7a0ac000\r\nr19     0x0\r\nr20     0x4000927268\r\nr21     0x40009273b0\r\nr22     0x1\r\nr23     0xffffffffffffffff\r\nr24     0x5b064a6de0\r\nr25     0x61c998f76b01fc20\r\nr26     0x5b08304d40\r\nr27     0x0\r\nr28     0x40000021a0\r\nr29     0x4000926f58\r\nlr      0x5b0689527c\r\nsp      0x4000926f60\r\npc      0x5b068952c0\r\nfault   0x0\r\n```\r\n\r\n#### Possible solution\r\nThe statx system call is not directly available in Android. Android system crashes an app that uses an illegal syscall. But executing the above command with root privileges in Android, no errors will occur.\r\n\r\nMaybe check if statx system call is available or avoid using statx system call in Android.\r\n\r\nSee also: \r\nhttps://github.com/boostorg/filesystem/issues/229\r\nhttps://android-developers.googleblog.com/2017/07/seccomp-filter-in-android-o.html\r\n\r\n\r\n<!--- Please keep the note below for others who read your bug report. -->\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7006/timeline","performed_via_github_app":null,"state_reason":"completed"}