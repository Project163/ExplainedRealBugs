{"url":"https://api.github.com/repos/rclone/rclone/issues/3138","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3138/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3138/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3138/events","html_url":"https://github.com/rclone/rclone/issues/3138","id":437584269,"node_id":"MDU6SXNzdWU0Mzc1ODQyNjk=","number":3138,"title":"Empty Trash (in particular in Mega)","user":{"login":"caspertone2003","id":4682903,"node_id":"MDQ6VXNlcjQ2ODI5MDM=","avatar_url":"https://avatars.githubusercontent.com/u/4682903?v=4","gravatar_id":"","url":"https://api.github.com/users/caspertone2003","html_url":"https://github.com/caspertone2003","followers_url":"https://api.github.com/users/caspertone2003/followers","following_url":"https://api.github.com/users/caspertone2003/following{/other_user}","gists_url":"https://api.github.com/users/caspertone2003/gists{/gist_id}","starred_url":"https://api.github.com/users/caspertone2003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caspertone2003/subscriptions","organizations_url":"https://api.github.com/users/caspertone2003/orgs","repos_url":"https://api.github.com/users/caspertone2003/repos","events_url":"https://api.github.com/users/caspertone2003/events{/privacy}","received_events_url":"https://api.github.com/users/caspertone2003/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2019-04-26T09:31:12Z","updated_at":"2019-06-09T16:00:20Z","closed_at":"2019-05-01T15:32:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"While using cloud storage, one of the challenges is always being under storage limit. Good practice is to delete not needed material.\r\n\r\nEach of the remotes have a different approach, but, usually, deleted items are temporarily stored in a \"to be finally deleted\" area -TBFDA, that is usually purged after x days of staying there.\r\n\r\nThe space used by that TBFDA is counted towards storage limits. So, if one is short, the best is to force an inmediate purge TBFDA. \"native\" web interfaces allow to do it; unsure if APIs provide the function.\r\n\r\nI did not find a mean to force purge of TBFDA in rclone for Mega.\r\n\r\nIn Mega, there are several \"system\" folders, one is /Root and other is /Trash\r\nThe only way to do this that I found in CMD was to use megatools, that allows to list /Trash and to delete item by item in /Trash.\r\n\r\nI have not found any way to use (list, delete items) mega /Trash with rclone (but documentation is so vast that I might be wrong....). rlcone ls megaremote:File is always refering to /Root/File.  But in W10 CMD has also some issues. When there are too many items to delete including non-ANSI names.... web interface is the only resort I found.\r\n\r\nI believe rclone can profit from stablishing a framework to purge TBFDA, so that internally could use the best way for each remote, and avoid the pitfalls with non-ANSI names; besides, it could be done with just a single login/logout session.\r\n\r\n(I have been pested lately for what it seems throttling by mega in terms of how often one logins/logouts, as some rclone operations produce sucesive login/logout - this is still under investigation).\r\n\r\nFor mega, the algorithm is not complex:\r\na) login\r\nb) list recursively contents of /Trash\r\nc) delete each item under /Trash and any folder under /Trash\r\nd) list remaining empty space (optional)\r\ne) logout\r\n\r\nTIA,\r\nCT\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3138/timeline","performed_via_github_app":null,"state_reason":"completed"}