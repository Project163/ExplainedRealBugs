{"url":"https://api.github.com/repos/rclone/rclone/issues/2001","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2001/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2001/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2001/events","html_url":"https://github.com/rclone/rclone/issues/2001","id":290690162,"node_id":"MDU6SXNzdWUyOTA2OTAxNjI=","number":2001,"title":"\"Failed to set modification time: NoSuchKey: The specified key does not exist\" with S3","user":{"login":"mudkipme","id":518069,"node_id":"MDQ6VXNlcjUxODA2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/518069?v=4","gravatar_id":"","url":"https://api.github.com/users/mudkipme","html_url":"https://github.com/mudkipme","followers_url":"https://api.github.com/users/mudkipme/followers","following_url":"https://api.github.com/users/mudkipme/following{/other_user}","gists_url":"https://api.github.com/users/mudkipme/gists{/gist_id}","starred_url":"https://api.github.com/users/mudkipme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mudkipme/subscriptions","organizations_url":"https://api.github.com/users/mudkipme/orgs","repos_url":"https://api.github.com/users/mudkipme/repos","events_url":"https://api.github.com/users/mudkipme/events{/privacy}","received_events_url":"https://api.github.com/users/mudkipme/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/27","html_url":"https://github.com/rclone/rclone/milestone/27","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/27/labels","id":2804379,"node_id":"MDk6TWlsZXN0b25lMjgwNDM3OQ==","number":27,"title":"v1.40","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":53,"state":"closed","created_at":"2017-09-30T13:34:06Z","updated_at":"2018-03-19T14:34:06Z","due_on":"2018-03-17T07:00:00Z","closed_at":"2018-03-19T14:34:06Z"},"comments":6,"created_at":"2018-01-23T02:46:48Z","updated_at":"2019-08-22T14:55:19Z","closed_at":"2018-01-23T11:06:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I can reproduce #315 with rclone v1.39 with Amazon S3 and filenames containing `+` character.\r\n\r\nGuess this has something to do with the difference between `PathEscape` and `QueryEscape`.\r\n\r\n> What is your rclone version\r\n\r\nrclone v1.39\r\n\r\n> Which OS you are using and how many bits\r\n\r\nArch Linux (Linux 4.14.12-x86_64)\r\n\r\n> Which cloud storage system are you using?\r\n\r\nAmazon S3\r\n\r\n> The command you were trying to run\r\n\r\n```bash\r\nmkdir /tmp/test\r\necho 'hello' > /tmp/test/file-with+44.pdf\r\nrclone sync /tmp/test s3:52poke/test\r\ntouch /tmp/test/file*\r\nrclone sync /tmp/test s3:52poke/test\r\n```\r\n\r\n> A log from the command with the `-vv` flag\r\n\r\n```\r\n2018/01/23 02:40:43 DEBUG : Using config file from \"/root/.config/rclone/rclone.conf\"\r\n2018/01/23 02:40:43 DEBUG : rclone: Version \"v1.39\" starting with parameters [\"rclone\" \"sync\" \"/tmp/test\" \"s3:52poke/test\" \"-vv\"]\r\n2018/01/23 02:40:44 INFO  : S3 bucket 52poke path test/: Modify window is 1ns\r\n2018/01/23 02:40:44 INFO  : S3 bucket 52poke path test/: Waiting for checks to finish\r\n2018/01/23 02:40:44 DEBUG : file-with+44.pdf: Modification times differ by -59.819820918s: 2018-01-23 02:38:15.498743548 +0000 UTC, 2018-01-23 02:37:15.67892263 +0000 UTC\r\n2018/01/23 02:40:44 ERROR : file-with+44.pdf: Failed to set modification time: NoSuchKey: The specified key does not exist.\r\n\tstatus code: 404, request id: DE5D7CC27715066A, host id: /9ZTOv3Tw4PcNi0HZ1bkdwZRCfOjIqsK0EzxS+5AbWshKB3vHQu26GXHCvLJj5z11xsDB8tVGz8=\r\n2018/01/23 02:40:44 DEBUG : file-with+44.pdf: Unchanged skipping\r\n2018/01/23 02:40:44 INFO  : S3 bucket 52poke path test/: Waiting for transfers to finish\r\n2018/01/23 02:40:44 ERROR : S3 bucket 52poke path test/: not deleting files as there were IO errors\r\n2018/01/23 02:40:44 ERROR : S3 bucket 52poke path test/: not deleting directories as there were IO errors\r\n2018/01/23 02:40:44 ERROR : Attempt 1/3 failed with 1 errors and: not deleting files as there were IO errors\r\n2018/01/23 02:40:44 INFO  : S3 bucket 52poke path test/: Waiting for checks to finish\r\n2018/01/23 02:40:44 DEBUG : file-with+44.pdf: Modification times differ by -59.819820918s: 2018-01-23 02:38:15.498743548 +0000 UTC, 2018-01-23 02:37:15.67892263 +0000 UTC\r\n2018/01/23 02:40:45 ERROR : file-with+44.pdf: Failed to set modification time: NoSuchKey: The specified key does not exist.\r\n\tstatus code: 404, request id: 985794AD8C542043, host id: EyB4bYuKUFbb5twd57LcgwHN+BWqRYbo/iu16KiQey2adeny6hyj88a7ioyARmhSE9co3L/ju9k=\r\n2018/01/23 02:40:45 DEBUG : file-with+44.pdf: Unchanged skipping\r\n2018/01/23 02:40:45 INFO  : S3 bucket 52poke path test/: Waiting for transfers to finish\r\n2018/01/23 02:40:45 ERROR : S3 bucket 52poke path test/: not deleting files as there were IO errors\r\n2018/01/23 02:40:45 ERROR : S3 bucket 52poke path test/: not deleting directories as there were IO errors\r\n2018/01/23 02:40:45 ERROR : Attempt 2/3 failed with 1 errors and: not deleting files as there were IO errors\r\n2018/01/23 02:40:45 INFO  : S3 bucket 52poke path test/: Waiting for checks to finish\r\n2018/01/23 02:40:46 DEBUG : file-with+44.pdf: Modification times differ by -59.819820918s: 2018-01-23 02:38:15.498743548 +0000 UTC, 2018-01-23 02:37:15.67892263 +0000 UTC\r\n2018/01/23 02:40:46 ERROR : file-with+44.pdf: Failed to set modification time: NoSuchKey: The specified key does not exist.\r\n\tstatus code: 404, request id: 77ECDEDCF074FD3C, host id: D75TCJeOx7HU+ya85KHs1WSrxkSdDYIbFGeUlPo72H1cio+KvkMvU3Kb2y7wFLNFrxgqyuDMzw4=\r\n2018/01/23 02:40:46 DEBUG : file-with+44.pdf: Unchanged skipping\r\n2018/01/23 02:40:46 INFO  : S3 bucket 52poke path test/: Waiting for transfers to finish\r\n2018/01/23 02:40:46 ERROR : S3 bucket 52poke path test/: not deleting files as there were IO errors\r\n2018/01/23 02:40:46 ERROR : S3 bucket 52poke path test/: not deleting directories as there were IO errors\r\n2018/01/23 02:40:46 ERROR : Attempt 3/3 failed with 1 errors and: not deleting files as there were IO errors\r\n2018/01/23 02:40:46 Failed to sync: not deleting files as there were IO errors\r\n```","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2001/timeline","performed_via_github_app":null,"state_reason":"completed"}