[{"actor":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-26T21:39:14Z","updated_at":"2018-03-26T21:39:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/2176","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2176/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2176/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2176/events","html_url":"https://github.com/rclone/rclone/pull/2176","id":308259162,"node_id":"MDExOlB1bGxSZXF1ZXN0MTc3MjM1NDEy","number":2176,"title":"link: allow creating public link to files and folders - closes #1562","user":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-24T12:40:37Z","updated_at":"2018-03-29T07:10:20Z","closed_at":"2018-03-29T07:10:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/2176","html_url":"https://github.com/rclone/rclone/pull/2176","diff_url":"https://github.com/rclone/rclone/pull/2176.diff","patch_url":"https://github.com/rclone/rclone/pull/2176.patch","merged_at":"2018-03-29T07:10:20Z"},"body":"For now only Google Drive and Dropbox are included.\r\n\r\nThe goal of this command is to quickly get a sharable link to hand to friends. Drive supports full ACLs, Dropbox offers password protection and automatic expiry (paid accounts). Not sure if it makes sense to implement these provider specific features. The most likeliest feature to add would probably to \"unshare\", which could be equally universal.\r\n\r\nIt's an optional interface for `Fs`, although it would probably fit nicely on `Object` as well. As it is now, it supports sharing directories. Getting dir sharing to work via `Object` would likely benefit from having a standardized `Directory` type first. I haven't surveyed the other storage providers yet, so maybe demanding directory sharing through the integration tests will have to change.\r\n\r\nNote that the Google Drive intergration test fails for me at `TestObjectRemove`, even on master.\r\n\r\nThere is one edge case in the Drive implementation that I left unsolved: on a team drive, if I lack permissions (i.e. `canShare: false`) this implementation will bail. Instead, it could check what permissions the file/dir already has, and return the link if they are already sufficient. I'd revisit this if someone actually runs into this issue.\r\n\r\nAs always, I am happy to address any feedback.","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2176/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376329570","html_url":"https://github.com/rclone/rclone/issues/2182#issuecomment-376329570","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2182","id":376329570,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjMyOTU3MA==","user":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-26T22:15:06Z","updated_at":"2018-03-26T22:15:06Z","body":"> See e.g. https://play.golang.org/p/so-l-ZSPCSo (license unknown)\r\n\r\nFor the record: When I wrote this, I intended it more as an illustration of why this is impossible to do reliably, not to actually use it :) I don't mind if you end up using it, but I would advise against it - even in tests ;)\r\n\r\nThe main risk here is that future changes (especially around heuristics for inlining and devirtualization) may make this method change behavior based on the context it's called in. This might cause non-deterministic, hard to trace and to debug test failures. Imagine a randomly failing test, where the location from the stacktrace is not related to the actual bug location, which is not reproducible in a debugger (which compiles with different optimizations) and whose root cause you can't write a test for, because *that* test might pass, while the original one still fails (because the optimization decisions are based on context). It may seem unlikely to break this way, but the pain it would cause seems immense to me :)\r\n\r\nIf it helps, [strings.Builder](https://golang.org/src/strings/builder.go#L15) uses a trick to detect copies-by-value by comparing a self-pointer; would that be useful to maybe prevent copying of `fs.Features`? Though it seems they get, in general, used as a pointer, so that probably doesn't helpâ€¦\r\n\r\nPersonally, I believe I would recommend making the optional features their own interface and then do type-assertions at the use-site. There don't seem to be a significant syntactical difference between\r\n\r\n    if ps, ok := f.(PutStreamer); ok {\r\n        ps.PutStream(foobar)\r\n    }\r\n    // or\r\n    f.(PutStreamer).PutStream(foobar)\r\n\r\nand\r\n\r\n    if ps := f.Features().PutStream; ps != nil {\r\n        ps(foobar)\r\n    }\r\n    // or\r\n    f.Features().PutStream(foobar)\r\n\r\nI'd guess that similar considerations also apply to the ErrNotImplemented idea - in that case, a conditional with a type-assertion is replaced by a conditional checking for that error. In the end, I don't think these three have very significant differences in syntactical boilerplate.\r\n\r\nThe optional interface approach, though, at least gives the *option* to use them in a signature, if a function actually needs them to work. It would open up the possibility of moving optional-feature specific code into its own function with a more specific type-signature, meaning you only have to do the runtime-checks at the outermost API layer and then get the compiler to help you.\r\n\r\nI'm just driving through, so my opinion isn't particularly important, but I do wanted to emphasize that I think the costs of the unsafe magic I devised are easy to underestimate :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376329570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376663601","html_url":"https://github.com/rclone/rclone/issues/2182#issuecomment-376663601","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2182","id":376663601,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjY2MzYwMQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-27T20:27:03Z","updated_at":"2018-03-27T20:27:03Z","body":"@Merovius \r\n\r\nI appreciate you dropping by and thank you for making that brilliant/disgusting function!  I note your warning about the unsafe magic.\r\n\r\n> Personally, I believe I would recommend making the optional features their own interface and then do type-assertions at the use-site. There don't seem to be a significant syntactical difference between\r\n\r\nThat is exactly how they used to work, but the trouble with that is that Fs can wrap other Fs.\r\n\r\nSo the outer Fs has to implement all the optional features but the inner Fs may not support them.\r\n\r\nrclone used to have a system of special error codes (not exactly like ErrNotImplemented but a different error message for each interface - similar enough) which the outer Fs would return to mean \"Not implemented\" if the inner Fs didn't support it. However knowing something doesn't exist after you call it really complicates the code.\r\n\r\nWhat I'd really like is a way of dynamically adding and removing methods to the outer Fs depending on the methods available on the inner Fs.  Then everything would work perfectly with interfaces.  However I couldn't find a way of making that work, so I went with the `C Style` way of using function pointers.\r\n\r\nI'd be very interested to hear if you have a better solution as it has been bugging me for ages!  It kind of seems like a wart of Go to me.\r\n\r\n@breunigs wrote\r\n\r\n> 1. ensure in a test that &someF == getReceiver(someF.Features().someOptionalFeature). It depends on implementation details, though. See e.g. https://play.golang.org/p/so-l-ZSPCSo (license unknown)\r\n> 2. resolve the methods in Features() whenever needed instead of once through Fill() (?)\r\n> 3. attempt to replace the Features() approach by making all optional interfaces mandatory and return errNotImplemented when a backend doesn't support them\r\n\r\nI think we've discussed 1 already.  2 Is an interesting idea and could work and be abstracted out into a helper function probably.\r\n\r\n3. is almost what rclone used to do, except it would assert the optional interface first, then call it, then do something if it wasn't implemented.  Here is the commit where it changed: 1fa258c2b45cdd81f245104608285fc7df81e5b5\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376663601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1544158052,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU0NDE1ODA1Mg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1544158052","actor":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-27T20:27:03Z","performed_via_github_app":null},{"id":1544158054,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1NDQxNTgwNTQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1544158054","actor":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-27T20:27:03Z","performed_via_github_app":null},{"id":1544158055,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU0NDE1ODA1NQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1544158055","actor":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-27T20:27:03Z","performed_via_github_app":null},{"id":1544158057,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1NDQxNTgwNTc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1544158057","actor":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-27T20:27:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376667541","html_url":"https://github.com/rclone/rclone/issues/2182#issuecomment-376667541","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2182","id":376667541,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjY2NzU0MQ==","user":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-27T20:40:06Z","updated_at":"2018-03-27T20:40:06Z","body":"> That is exactly how they used to work, but the trouble with that is that Fs can wrap other Fs.\r\n\r\nAh yes, I am [aware of the general problem](https://blog.merovius.de/2017/07/30/the-trouble-with-optional-interfaces.html) but didn't make that connection here. Unfortunately, I don't believe there is a good solution for this given the language as it stands. It's been bugging me too :)\r\n\r\nFWIW, I think [extraction-methods](https://blog.merovius.de/2017/07/30/the-trouble-with-optional-interfaces.html#extraction-methods) would be my favorite if I had to solve this - i.e. add an (optional?) `Wrapped() Fs` that should be implemented if you are wrapping something and then search the (sort of) stack for an implementation of an optional interface. But yes, it's definitely also not a good solution.\r\n\r\nSo, ignore that part of my comment, sorry for the noise :) Wasn't aware of the full extent of this.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376667541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1546309015,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NDYzMDkwMTU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1546309015","actor":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4d553ef701a13946031e52415e8738f838301fed","commit_url":"https://api.github.com/repos/rclone/rclone/commits/4d553ef701a13946031e52415e8738f838301fed","created_at":"2018-03-28T18:43:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376995245","html_url":"https://github.com/rclone/rclone/issues/2182#issuecomment-376995245","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2182","id":376995245,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk5NTI0NQ==","user":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-28T18:48:34Z","updated_at":"2018-03-28T18:48:34Z","body":"I spent some time on trying to write a test case, using the snippet @Merovius thankfully provided. Unfortunately it returns different memory addresses, even when I am quite sure the inspected function works on the right receiver. I don't understand Go well enough yet to debug why this is happening. The test cases in #2176 cover this at least partially, which is how I found this to begin with. Not ideal, bet definitely better than nothing.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/376995245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1546319600,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU0NjMxOTYwMA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1546319600","actor":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-28T18:48:34Z","performed_via_github_app":null},{"id":1546319603,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1NDYzMTk2MDM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1546319603","actor":{"login":"Merovius","id":720787,"node_id":"MDQ6VXNlcjcyMDc4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/720787?v=4","gravatar_id":"","url":"https://api.github.com/users/Merovius","html_url":"https://github.com/Merovius","followers_url":"https://api.github.com/users/Merovius/followers","following_url":"https://api.github.com/users/Merovius/following{/other_user}","gists_url":"https://api.github.com/users/Merovius/gists{/gist_id}","starred_url":"https://api.github.com/users/Merovius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Merovius/subscriptions","organizations_url":"https://api.github.com/users/Merovius/orgs","repos_url":"https://api.github.com/users/Merovius/repos","events_url":"https://api.github.com/users/Merovius/events{/privacy}","received_events_url":"https://api.github.com/users/Merovius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-28T18:48:34Z","performed_via_github_app":null},{"id":1902576504,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5MDI1NzY1MDQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902576504","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-14T12:26:36Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":1902576538,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5MDI1NzY1Mzg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902576538","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-10-14T12:26:40Z","milestone":{"title":"v1.44"},"performed_via_github_app":null},{"id":1902628861,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE5MDI2Mjg4NjE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902628861","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0f2a5403db10e2018ea995dc64fc6ecf697b6afc","commit_url":"https://api.github.com/repos/rclone/rclone/commits/0f2a5403db10e2018ea995dc64fc6ecf697b6afc","created_at":"2018-10-14T14:43:57Z","performed_via_github_app":null},{"id":1902647039,"node_id":"MDExOkNsb3NlZEV2ZW50MTkwMjY0NzAzOQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1902647039","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"0f2a5403db10e2018ea995dc64fc6ecf697b6afc","commit_url":"https://api.github.com/repos/rclone/rclone/commits/0f2a5403db10e2018ea995dc64fc6ecf697b6afc","created_at":"2018-10-14T15:28:42Z","state_reason":null,"performed_via_github_app":null}]