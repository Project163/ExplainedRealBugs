[{"id":5633064900,"node_id":"REFE_lADOAQ-n5M4-0zyQzwAAAAFPwb_E","url":"https://api.github.com/repos/rclone/rclone/issues/events/5633064900","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f9f46777ab4943b1dabbf1e548afa31e90900487","commit_url":"https://api.github.com/repos/rclone/rclone/commits/f9f46777ab4943b1dabbf1e548afa31e90900487","created_at":"2021-11-17T16:20:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/971739510","html_url":"https://github.com/rclone/rclone/issues/5816#issuecomment-971739510","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5816","id":971739510,"node_id":"IC_kwDOAQ-n5M4565F2","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-17T16:21:31Z","updated_at":"2021-11-17T16:21:31Z","body":"Have a go with this\r\n\r\n[v1.58.0-beta.5892.f9f46777a.fix-5816-vfs-stats](https://beta.rclone.org/branch/fix-5816-vfs-stats/v1.58.0-beta.5892.f9f46777a.fix-5816-vfs-stats/) on branch [fix-5816-vfs-stats](https://github.com/rclone/rclone/tree/fix-5816-vfs-stats) (uploaded in 15-30 mins)\r\n\r\nIt implements `vfs/stats` the help for which looks like this\r\n\r\n### vfs/stats: Stats for a VFS. {#vfs-stats}\r\n\r\nThis returns stats for the selected VFS.\r\n\r\n    {\r\n        // Status of the disk cache - only present if --vfs-cache-mode > off\r\n        \"diskCache\": {\r\n            \"bytesUsed\": 0,\r\n            \"erroredFiles\": 0,\r\n            \"files\": 0,\r\n            \"hashType\": 1,\r\n            \"outOfSpace\": false,\r\n            \"path\": \"/home/user/.cache/rclone/vfs/local/mnt/a\",\r\n            \"pathMeta\": \"/home/user/.cache/rclone/vfsMeta/local/mnt/a\",\r\n            \"uploadsInProgress\": 0,\r\n            \"uploadsQueued\": 0\r\n        },\r\n        \"fs\": \"/mnt/a\",\r\n        \"inUse\": 1,\r\n        // Status of the in memory metadata cache\r\n        \"metadataCache\": {\r\n            \"dirs\": 1,\r\n            \"files\": 0\r\n        },\r\n        // Options as returned by options/get\r\n        \"opt\": {\r\n            \"CacheMaxAge\": 3600000000000,\r\n            // ...\r\n            \"WriteWait\": 1000000000\r\n        }\r\n    }\r\n\r\n \r\nThis command takes an \"fs\" parameter. If this parameter is not\r\nsupplied and if there is only one VFS in use then that VFS will be\r\nused. If there is more than one VFS in use then the \"fs\" parameter\r\nmust be supplied.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/971739510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5633075576,"node_id":"LE_lADOAQ-n5M4-0zyQzwAAAAFPwel4","url":"https://api.github.com/repos/rclone/rclone/issues/events/5633075576","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-11-17T16:21:45Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":5633075578,"node_id":"LE_lADOAQ-n5M4-0zyQzwAAAAFPwel6","url":"https://api.github.com/repos/rclone/rclone/issues/events/5633075578","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-11-17T16:21:45Z","label":{"name":"VFS / mount","color":"0e8a16"},"performed_via_github_app":null},{"id":5633075939,"node_id":"MIE_lADOAQ-n5M4-0zyQzwAAAAFPwerj","url":"https://api.github.com/repos/rclone/rclone/issues/events/5633075939","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-11-17T16:21:48Z","milestone":{"title":"v1.58"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/973119615","html_url":"https://github.com/rclone/rclone/issues/5816#issuecomment-973119615","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5816","id":973119615,"node_id":"IC_kwDOAQ-n5M46AKB_","user":{"login":"jdr85","id":67578404,"node_id":"MDQ6VXNlcjY3NTc4NDA0","avatar_url":"https://avatars.githubusercontent.com/u/67578404?v=4","gravatar_id":"","url":"https://api.github.com/users/jdr85","html_url":"https://github.com/jdr85","followers_url":"https://api.github.com/users/jdr85/followers","following_url":"https://api.github.com/users/jdr85/following{/other_user}","gists_url":"https://api.github.com/users/jdr85/gists{/gist_id}","starred_url":"https://api.github.com/users/jdr85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdr85/subscriptions","organizations_url":"https://api.github.com/users/jdr85/orgs","repos_url":"https://api.github.com/users/jdr85/repos","events_url":"https://api.github.com/users/jdr85/events{/privacy}","received_events_url":"https://api.github.com/users/jdr85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T17:59:16Z","updated_at":"2021-11-18T17:59:16Z","body":"Looks like this was easier for you to implement than for me to open this issue... fantastic, thanks! ðŸ˜ƒ \r\n\r\nMaybe there could be an additional entry like \"synced\": true/false but I assume that \"files\": 0 means that the cache is completely synced.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/973119615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jdr85","id":67578404,"node_id":"MDQ6VXNlcjY3NTc4NDA0","avatar_url":"https://avatars.githubusercontent.com/u/67578404?v=4","gravatar_id":"","url":"https://api.github.com/users/jdr85","html_url":"https://github.com/jdr85","followers_url":"https://api.github.com/users/jdr85/followers","following_url":"https://api.github.com/users/jdr85/following{/other_user}","gists_url":"https://api.github.com/users/jdr85/gists{/gist_id}","starred_url":"https://api.github.com/users/jdr85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdr85/subscriptions","organizations_url":"https://api.github.com/users/jdr85/orgs","repos_url":"https://api.github.com/users/jdr85/repos","events_url":"https://api.github.com/users/jdr85/events{/privacy}","received_events_url":"https://api.github.com/users/jdr85/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/974281163","html_url":"https://github.com/rclone/rclone/issues/5816#issuecomment-974281163","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5816","id":974281163,"node_id":"IC_kwDOAQ-n5M46ElnL","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-19T17:50:11Z","updated_at":"2021-11-19T17:50:11Z","body":"For synced you'd want these both 0\r\n\r\n        \"uploadsInProgress\": 0,\r\n        \"uploadsQueued\": 0\r\n\r\nThere will always be files in the cache.\r\n\r\nI'd appreciated it if you'd have a play with the beta and see if it works for you as I only wrote the code, I didn't try it in anger ;-)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/974281163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/974597172","html_url":"https://github.com/rclone/rclone/issues/5816#issuecomment-974597172","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5816","id":974597172,"node_id":"IC_kwDOAQ-n5M46Fyw0","user":{"login":"jdr85","id":67578404,"node_id":"MDQ6VXNlcjY3NTc4NDA0","avatar_url":"https://avatars.githubusercontent.com/u/67578404?v=4","gravatar_id":"","url":"https://api.github.com/users/jdr85","html_url":"https://github.com/jdr85","followers_url":"https://api.github.com/users/jdr85/followers","following_url":"https://api.github.com/users/jdr85/following{/other_user}","gists_url":"https://api.github.com/users/jdr85/gists{/gist_id}","starred_url":"https://api.github.com/users/jdr85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdr85/subscriptions","organizations_url":"https://api.github.com/users/jdr85/orgs","repos_url":"https://api.github.com/users/jdr85/repos","events_url":"https://api.github.com/users/jdr85/events{/privacy}","received_events_url":"https://api.github.com/users/jdr85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T05:21:29Z","updated_at":"2021-11-20T05:21:29Z","body":"Hi ncw,\r\nYes, of course I already did some basic testing (although also not in anger ;)) for my use case and everything seems to work perfectly. Here's what I basically did and what happened.\r\n\r\n\r\n**(1) Mount \"test\" remote to /cloud/test;** \"test\" is a simple WebDAV remote (GMX Cloud).\r\n`./rclone --rc mount --vfs-cache-mode writes --log-level INFO --cache-dir /daten/_jdr/rclone_vfs_cache --vfs-write-back 60s --vfs-cache-max-age 2m --vfs-cache-max-size 10G --stats 1m --stats-log-level NOTICE --stats-one-line test:Backup/ /cloud/test/`\r\n\r\nAfter that, I watched the output of `rclone rc vfs/stats fs=test:Backup` in different situations.\r\n\r\n\r\n**(2) Before doing anything else (/cloud/test is still empty)**\r\n```\r\n\"diskCache\": {\r\n                \"bytesUsed\": 0,\r\n                \"erroredFiles\": 0,\r\n                \"files\": 0,\r\n                \"hashType\": 0,\r\n                \"outOfSpace\": false,\r\n                \"uploadsInProgress\": 0,\r\n                \"uploadsQueued\": 0\r\n        },\r\n```\r\n\r\n\r\n**(3) Drop a file into /cloud/test**\r\n```\r\n\"diskCache\": {\r\n                \"bytesUsed\": 77101072,\r\n                \"erroredFiles\": 0,\r\n                \"files\": 1,\r\n                \"hashType\": 0,\r\n                \"outOfSpace\": false,\r\n                \"uploadsInProgress\": 0,\r\n                \"uploadsQueued\": 1\r\n        },\r\n```\r\n--> Exactly what I expected, there is 1 new file which uses some space and this file is queued for upload.\r\n\r\n**(4) Wait until vfs-write-back time has expired (60s here)**\r\n```\r\n\"diskCache\": {\r\n                \"bytesUsed\": 77101072,\r\n                \"erroredFiles\": 0,\r\n                \"files\": 1,\r\n                \"hashType\": 0,\r\n                \"outOfSpace\": false,\r\n                \"uploadsInProgress\": 1,\r\n                \"uploadsQueued\": 0\r\n        },\r\n```\r\n--> As expected: file is now uploading and not just queued any more.\r\n\r\n**(5) Wait until file upload finished**\r\n```\r\n \"diskCache\": {\r\n                \"bytesUsed\": 77101072,\r\n                \"erroredFiles\": 0,\r\n                \"files\": 1,\r\n                \"hashType\": 0,\r\n                \"outOfSpace\": false,\r\n                \"uploadsInProgress\": 0,\r\n                \"uploadsQueued\": 0\r\n        },\r\n```\r\n--> Not uploading any more but still in cache as vfs-cache-max-age 2m has not expired yet\r\n\r\n**(6) Wait for vfs-cache-max-age expiry**\r\n```\r\n\"diskCache\": {\r\n                \"bytesUsed\": 0,\r\n                \"erroredFiles\": 0,\r\n                \"files\": 0,\r\n                \"hashType\": 0,\r\n                \"outOfSpace\": false,\r\n                \"uploadsInProgress\": 0,\r\n                \"uploadsQueued\": 0\r\n        },\r\n```\r\n--> Cache is now empty.\r\n\r\nRenames and deletions are immediately propagated to the server. The \"files\" count will increase accordingly for each file renamed/deleted until the vfs-cache-max-age has expired for the respective file.\r\n\r\nI just cannot confirm that there will always be files in the cache. As soon as the vfs-cache-max-age has expired for all files, the cache is empty (which was also what I expected).\r\n\r\nIs there anything else I should test? Otherwise I would claim that everything works as expected and this issue can probably be closed.\r\n\r\nBtw, thank you very much for this fantastic piece of software and its continuous development!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/974597172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jdr85","id":67578404,"node_id":"MDQ6VXNlcjY3NTc4NDA0","avatar_url":"https://avatars.githubusercontent.com/u/67578404?v=4","gravatar_id":"","url":"https://api.github.com/users/jdr85","html_url":"https://github.com/jdr85","followers_url":"https://api.github.com/users/jdr85/followers","following_url":"https://api.github.com/users/jdr85/following{/other_user}","gists_url":"https://api.github.com/users/jdr85/gists{/gist_id}","starred_url":"https://api.github.com/users/jdr85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdr85/subscriptions","organizations_url":"https://api.github.com/users/jdr85/orgs","repos_url":"https://api.github.com/users/jdr85/repos","events_url":"https://api.github.com/users/jdr85/events{/privacy}","received_events_url":"https://api.github.com/users/jdr85/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5662089399,"node_id":"CE_lADOAQ-n5M4-0zyQzwAAAAFRfKC3","url":"https://api.github.com/repos/rclone/rclone/issues/events/5662089399","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"d252816706a3226dbc055616df91f2e1793a0459","commit_url":"https://api.github.com/repos/rclone/rclone/commits/d252816706a3226dbc055616df91f2e1793a0459","created_at":"2021-11-23T18:00:31Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/976946608","html_url":"https://github.com/rclone/rclone/issues/5816#issuecomment-976946608","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5816","id":976946608,"node_id":"IC_kwDOAQ-n5M46OwWw","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T18:00:40Z","updated_at":"2021-11-23T18:00:40Z","body":"Thanks for testing.\r\n\r\nI've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org/) in 15-30 minutes and released in v1.58","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/976946608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/991962266","html_url":"https://github.com/rclone/rclone/issues/5816#issuecomment-991962266","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5816","id":991962266,"node_id":"IC_kwDOAQ-n5M47ICSa","user":{"login":"matzzzl","id":96022514,"node_id":"U_kgDOBbkv8g","avatar_url":"https://avatars.githubusercontent.com/u/96022514?v=4","gravatar_id":"","url":"https://api.github.com/users/matzzzl","html_url":"https://github.com/matzzzl","followers_url":"https://api.github.com/users/matzzzl/followers","following_url":"https://api.github.com/users/matzzzl/following{/other_user}","gists_url":"https://api.github.com/users/matzzzl/gists{/gist_id}","starred_url":"https://api.github.com/users/matzzzl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matzzzl/subscriptions","organizations_url":"https://api.github.com/users/matzzzl/orgs","repos_url":"https://api.github.com/users/matzzzl/repos","events_url":"https://api.github.com/users/matzzzl/events{/privacy}","received_events_url":"https://api.github.com/users/matzzzl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-12T20:08:44Z","updated_at":"2021-12-12T20:08:44Z","body":"I have tested rclone v1.58.0-beta.5918.408d9f3e7 (current latest beta) (because the feature discussed in this feature request was just what I was looking for!)\r\n\r\nBut unfortunately the \"--rc\" option of rclone does not work together with the \"--daemon\" option of rclone mount.\r\n\r\nIf I enter\r\n`rclone --rc mount --daemon --vfs-cache-mode writes --vfs-write-back 60s --vfs-cache-max-age 2m --log-level INFO  --log-file \"/tmp/rclone_mount.log\"  mega: /mnt`\r\nthe log file contains the error\r\n`Failed to start remote control: start server failed: listen tcp 127.0.0.1:5572: bind: address already in use`\r\nand the mount is not available.\r\n\r\nIf I enter this command without either \"--rc\" or \"--deamon\" everything works as expected.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/991962266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"matzzzl","id":96022514,"node_id":"U_kgDOBbkv8g","avatar_url":"https://avatars.githubusercontent.com/u/96022514?v=4","gravatar_id":"","url":"https://api.github.com/users/matzzzl","html_url":"https://github.com/matzzzl","followers_url":"https://api.github.com/users/matzzzl/followers","following_url":"https://api.github.com/users/matzzzl/following{/other_user}","gists_url":"https://api.github.com/users/matzzzl/gists{/gist_id}","starred_url":"https://api.github.com/users/matzzzl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matzzzl/subscriptions","organizations_url":"https://api.github.com/users/matzzzl/orgs","repos_url":"https://api.github.com/users/matzzzl/repos","events_url":"https://api.github.com/users/matzzzl/events{/privacy}","received_events_url":"https://api.github.com/users/matzzzl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/993166313","html_url":"https://github.com/rclone/rclone/issues/5816#issuecomment-993166313","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5816","id":993166313,"node_id":"IC_kwDOAQ-n5M47MoPp","user":{"login":"jdr85","id":67578404,"node_id":"MDQ6VXNlcjY3NTc4NDA0","avatar_url":"https://avatars.githubusercontent.com/u/67578404?v=4","gravatar_id":"","url":"https://api.github.com/users/jdr85","html_url":"https://github.com/jdr85","followers_url":"https://api.github.com/users/jdr85/followers","following_url":"https://api.github.com/users/jdr85/following{/other_user}","gists_url":"https://api.github.com/users/jdr85/gists{/gist_id}","starred_url":"https://api.github.com/users/jdr85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdr85/subscriptions","organizations_url":"https://api.github.com/users/jdr85/orgs","repos_url":"https://api.github.com/users/jdr85/repos","events_url":"https://api.github.com/users/jdr85/events{/privacy}","received_events_url":"https://api.github.com/users/jdr85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T05:16:05Z","updated_at":"2021-12-14T05:17:36Z","body":"Hi @matzzzl \r\nI guess this has nothing to do with the new feature but is a known bug tracked in #2618.\r\n\r\nIt's also described [here](https://github.com/rclone/rclone/wiki/rclone-mount-helper-script#known-issues).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/993166313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jdr85","id":67578404,"node_id":"MDQ6VXNlcjY3NTc4NDA0","avatar_url":"https://avatars.githubusercontent.com/u/67578404?v=4","gravatar_id":"","url":"https://api.github.com/users/jdr85","html_url":"https://github.com/jdr85","followers_url":"https://api.github.com/users/jdr85/followers","following_url":"https://api.github.com/users/jdr85/following{/other_user}","gists_url":"https://api.github.com/users/jdr85/gists{/gist_id}","starred_url":"https://api.github.com/users/jdr85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdr85/subscriptions","organizations_url":"https://api.github.com/users/jdr85/orgs","repos_url":"https://api.github.com/users/jdr85/repos","events_url":"https://api.github.com/users/jdr85/events{/privacy}","received_events_url":"https://api.github.com/users/jdr85/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5761532850,"node_id":"MEE_lADOAQ-n5M4-0zyQzwAAAAFXagOy","url":"https://api.github.com/repos/rclone/rclone/issues/events/5761532850","actor":{"login":"matzzzl","id":96022514,"node_id":"U_kgDOBbkv8g","avatar_url":"https://avatars.githubusercontent.com/u/96022514?v=4","gravatar_id":"","url":"https://api.github.com/users/matzzzl","html_url":"https://github.com/matzzzl","followers_url":"https://api.github.com/users/matzzzl/followers","following_url":"https://api.github.com/users/matzzzl/following{/other_user}","gists_url":"https://api.github.com/users/matzzzl/gists{/gist_id}","starred_url":"https://api.github.com/users/matzzzl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matzzzl/subscriptions","organizations_url":"https://api.github.com/users/matzzzl/orgs","repos_url":"https://api.github.com/users/matzzzl/repos","events_url":"https://api.github.com/users/matzzzl/events{/privacy}","received_events_url":"https://api.github.com/users/matzzzl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-12-14T05:16:06Z","performed_via_github_app":null},{"id":5761532854,"node_id":"SE_lADOAQ-n5M4-0zyQzwAAAAFXagO2","url":"https://api.github.com/repos/rclone/rclone/issues/events/5761532854","actor":{"login":"matzzzl","id":96022514,"node_id":"U_kgDOBbkv8g","avatar_url":"https://avatars.githubusercontent.com/u/96022514?v=4","gravatar_id":"","url":"https://api.github.com/users/matzzzl","html_url":"https://github.com/matzzzl","followers_url":"https://api.github.com/users/matzzzl/followers","following_url":"https://api.github.com/users/matzzzl/following{/other_user}","gists_url":"https://api.github.com/users/matzzzl/gists{/gist_id}","starred_url":"https://api.github.com/users/matzzzl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matzzzl/subscriptions","organizations_url":"https://api.github.com/users/matzzzl/orgs","repos_url":"https://api.github.com/users/matzzzl/repos","events_url":"https://api.github.com/users/matzzzl/events{/privacy}","received_events_url":"https://api.github.com/users/matzzzl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-12-14T05:16:06Z","performed_via_github_app":null},{"id":5877491998,"node_id":"LE_lADOAQ-n5M4-0zyQzwAAAAFeU2ke","url":"https://api.github.com/repos/rclone/rclone/issues/events/5877491998","actor":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-01-12T03:28:50Z","label":{"name":"stats","color":"8DD270"},"performed_via_github_app":null},{"actor":{"login":"olevski","id":16360283,"node_id":"MDQ6VXNlcjE2MzYwMjgz","avatar_url":"https://avatars.githubusercontent.com/u/16360283?v=4","gravatar_id":"","url":"https://api.github.com/users/olevski","html_url":"https://github.com/olevski","followers_url":"https://api.github.com/users/olevski/followers","following_url":"https://api.github.com/users/olevski/following{/other_user}","gists_url":"https://api.github.com/users/olevski/gists{/gist_id}","starred_url":"https://api.github.com/users/olevski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olevski/subscriptions","organizations_url":"https://api.github.com/users/olevski/orgs","repos_url":"https://api.github.com/users/olevski/repos","events_url":"https://api.github.com/users/olevski/events{/privacy}","received_events_url":"https://api.github.com/users/olevski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-10T09:07:38Z","updated_at":"2025-04-10T09:07:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/51","repository_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone","labels_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/51/labels{/name}","comments_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/51/comments","events_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/51/events","html_url":"https://github.com/SwissDataScienceCenter/csi-rclone/issues/51","id":2984999254,"node_id":"I_kwDOKtPbts6x63lW","number":51,"title":"Check if the vfs is synced before fully unmounting","user":{"login":"olevski","id":16360283,"node_id":"MDQ6VXNlcjE2MzYwMjgz","avatar_url":"https://avatars.githubusercontent.com/u/16360283?v=4","gravatar_id":"","url":"https://api.github.com/users/olevski","html_url":"https://github.com/olevski","followers_url":"https://api.github.com/users/olevski/followers","following_url":"https://api.github.com/users/olevski/following{/other_user}","gists_url":"https://api.github.com/users/olevski/gists{/gist_id}","starred_url":"https://api.github.com/users/olevski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olevski/subscriptions","organizations_url":"https://api.github.com/users/olevski/orgs","repos_url":"https://api.github.com/users/olevski/repos","events_url":"https://api.github.com/users/olevski/events{/privacy}","received_events_url":"https://api.github.com/users/olevski/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-04-10T09:07:37Z","updated_at":"2025-04-10T09:07:37Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":718527414,"node_id":"R_kgDOKtPbtg","name":"csi-rclone","full_name":"SwissDataScienceCenter/csi-rclone","private":false,"owner":{"login":"SwissDataScienceCenter","id":25008760,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI1MDA4NzYw","avatar_url":"https://avatars.githubusercontent.com/u/25008760?v=4","gravatar_id":"","url":"https://api.github.com/users/SwissDataScienceCenter","html_url":"https://github.com/SwissDataScienceCenter","followers_url":"https://api.github.com/users/SwissDataScienceCenter/followers","following_url":"https://api.github.com/users/SwissDataScienceCenter/following{/other_user}","gists_url":"https://api.github.com/users/SwissDataScienceCenter/gists{/gist_id}","starred_url":"https://api.github.com/users/SwissDataScienceCenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SwissDataScienceCenter/subscriptions","organizations_url":"https://api.github.com/users/SwissDataScienceCenter/orgs","repos_url":"https://api.github.com/users/SwissDataScienceCenter/repos","events_url":"https://api.github.com/users/SwissDataScienceCenter/events{/privacy}","received_events_url":"https://api.github.com/users/SwissDataScienceCenter/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/SwissDataScienceCenter/csi-rclone","description":"CSI driver for rclone","fork":true,"url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone","forks_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/forks","keys_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/teams","hooks_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/hooks","issue_events_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/events{/number}","events_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/events","assignees_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/assignees{/user}","branches_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/branches{/branch}","tags_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/tags","blobs_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/languages","stargazers_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/stargazers","contributors_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/contributors","subscribers_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/subscribers","subscription_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/subscription","commits_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/contents/{+path}","compare_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/merges","archive_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/downloads","issues_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues{/number}","pulls_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/labels{/name}","releases_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/releases{/id}","deployments_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/deployments","created_at":"2023-11-14T09:12:31Z","updated_at":"2025-10-21T13:42:25Z","pushed_at":"2025-11-05T09:31:32Z","git_url":"git://github.com/SwissDataScienceCenter/csi-rclone.git","ssh_url":"git@github.com:SwissDataScienceCenter/csi-rclone.git","clone_url":"https://github.com/SwissDataScienceCenter/csi-rclone.git","svn_url":"https://github.com/SwissDataScienceCenter/csi-rclone","homepage":null,"size":16144,"stargazers_count":14,"watchers_count":14,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":22,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":22,"watchers":14,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"To replicate:\n- mount something\n- copy a large file or many small files into the location\n- delete the pod that has the mount\n\nThe file(s) will not be fully synced with the remote.\n\nAccording to this: https://github.com/rclone/rclone/issues/5816#issuecomment-974281163\n\nYou can get vfs stats via the remote control api. In the stats you can see if there is an ongoing upload or sync.\n\n>For synced you'd want these both 0\n>  \"uploadsInProgress\": 0,\n> \"uploadsQueued\": 0\n\nHere are the docs on that remote control endpoint: https://rclone.org/rc/#vfs-stats\n\nWe should do this check in `NodeUnpublishVolume` or in DeleteVolume. There is also `NodeUnstageVolume` and one of these 3 is most suitable for this operation. Some research may be required to figure out which step makes the most sense for this.\n\n","reactions":{"url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/51/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/SwissDataScienceCenter/csi-rclone/issues/51/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]