[{"actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T11:09:13Z","updated_at":"2024-09-25T11:09:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/8090","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/8090/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/8090/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/8090/events","html_url":"https://github.com/rclone/rclone/issues/8090","id":2540706287,"node_id":"I_kwDOAQ-n5M6XcBnv","number":8090,"title":"rclone sync to onedrive keeps reuploading file because of the resolution of mtime ","user":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-09-22T06:57:15Z","updated_at":"2024-09-25T11:09:12Z","closed_at":"2024-09-25T11:09:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n\r\nWe understand you are having a problem with rclone; we want to help you with that!\r\n\r\n**STOP and READ**\r\n**YOUR POST WILL BE REMOVED IF IT IS LOW QUALITY**:\r\nPlease show the effort you've put into solving the problem and please be specific.\r\nPeople are volunteering their time to help! Low effort posts are not likely to get good answers!\r\n\r\nIf you think you might have found a bug, try to replicate it with the latest beta (or stable).\r\nThe update instructions are available at https://rclone.org/commands/rclone_selfupdate/\r\n\r\nIf you can still replicate it or just got a question then please use the rclone forum:\r\n\r\n    https://forum.rclone.org/\r\n\r\nfor a quick response instead of filing an issue on this repo.\r\n\r\nIf nothing else helps, then please fill in the info below which helps us help you.\r\n\r\n**DO NOT REDACT** any information except passwords/keys/personal info.\r\n\r\nYou should use 3 backticks to begin and end your paste to make it readable.\r\n\r\nMake sure to include a log obtained with '-vv'.\r\n\r\nYou can also use '-vv --log-file bug.log' and a service such as https://pastebin.com or https://gist.github.com/\r\n\r\nThank you\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n#### The associated forum post URL from `https://forum.rclone.org`\r\nhttps://forum.rclone.org/t/after-upgrade-rclone-sync-wants-to-do-a-full-copy-not-just-of-deltas/47864\r\nhttps://forum.rclone.org/t/rclone-v1-68-0-release/47643/7\r\nhttps://forum.rclone.org/t/onedrive-modified-time-tolerance-change/45356/2\r\n\r\n\r\n#### What is the problem you are having with rclone?\r\nAfter an upgrade to the latest rclone, an rclone sync to an encrypted OneDrive remote is attempting upload everything again rather than only the deltas. This is going to take six weeks according to rclone's ETA.\r\n\r\nThe root cause seems to be that the source file has mtime resolution down to milliseconds, but the file on onedrive only has resolution down to seconds.  There is then a sub-second mismatch in mtime, causing the file to be reuploaded\r\n\r\nI've reduced it to a sync of a single file which copies it again, each time the command is run.\r\n\r\nI can do a workaround using `--modify-window 1s` but that surely isn't the proper way to solve this?\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n```\r\nrclone v1.68.0\r\n- os/version: ubuntu 22.04 (64 bit)\r\n- os/kernel: 5.15.0-101-generic (x86_64)\r\n- os/type: linux\r\n- os/arch: amd64\r\n- go/version: go1.23.1\r\n- go/linking: static\r\n- go/tags: none\r\n```\r\n\r\n\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\nUbuntu 22.04.2 LTS, 64-bit\r\n\r\n\r\n#### Which cloud storage system are you using? (e.g. Google Drive)\r\nOneDrive (encrypted)\r\n\r\n\r\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\r\n```\r\nborg@host:/tmp$ rclone -vv sync ~/repos/photos/data/1/1202 onedrive:repos/photos/data/1\r\n```\r\n\r\n\r\n#### A log from the command with the `-vv` flag (e.g. output from `rclone -vv copy /tmp remote:tmp`)\r\nFirst run, showing time mismatch and therefore new upload\r\n```\r\nborg@host:/tmp$ rclone -vv sync ~/repos/photos/data/1/1202 onedrive:repos/photos/data/1\r\n2024/09/22 16:48:07 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"sync\" \"/home/borg/repos/photos/data/1/1202\" \"onedrive:repos/photos/data/1\"]\r\n2024/09/22 16:48:07 DEBUG : Creating backend with remote \"/home/borg/repos/photos/data/1/1202\"\r\n2024/09/22 16:48:07 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/22 16:48:07 DEBUG : fs cache: adding new entry for parent of \"/home/borg/repos/photos/data/1/1202\", \"/home/borg/repos/photos/data/1\"\r\n2024/09/22 16:48:07 DEBUG : Creating backend with remote \"onedrive:repos/photos/data/1\"\r\n2024/09/22 16:48:07 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/qtvah5opb18p4g4ve2i0lh4mio/vptothej6ciusdjpca3agsgj5o/u58r1pkbe9ip1vlcarj5tntqqs/s4s1q07jvge4ij8b60qlddrsf8\"\r\n2024/09/22 16:48:10 DEBUG : 1202: Modification times differ by -143.88454ms: 2023-02-17 21:00:17.14388454 +1100 AEDT, 2023-02-17 10:00:17 +0000 UTC\r\n2024/09/22 16:48:10 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Starting multipart upload\r\n2024/09/22 16:48:10 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Uploading segment 0/147937 size 147937\r\n2024/09/22 16:48:12 DEBUG : 1202: quickxor = cc7c7a7cd3296c4ce22217158ee76efcbec317c5 OK\r\n2024/09/22 16:48:12 INFO  : 1202: Copied (replaced existing)\r\n2024/09/22 16:48:12 INFO  :\r\nTransferred:      144.470 KiB / 144.470 KiB, 100%, 112.047 KiB/s, ETA 0s\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         4.6s\r\n\r\n2024/09/22 16:48:12 DEBUG : 9 go routines active\r\n```\r\n\r\nSecond run showing that even though it was uploaded the first time, it gets reuploaded:\r\n```\r\nborg@host:/tmp$ rclone -vv sync ~/repos/photos/data/1/1202 onedrive:repos/photos/data/1\r\n2024/09/22 16:48:17 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"sync\" \"/home/borg/repos/photos/data/1/1202\" \"onedrive:repos/photos/data/1\"]\r\n2024/09/22 16:48:17 DEBUG : Creating backend with remote \"/home/borg/repos/photos/data/1/1202\"\r\n2024/09/22 16:48:17 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/22 16:48:17 DEBUG : fs cache: adding new entry for parent of \"/home/borg/repos/photos/data/1/1202\", \"/home/borg/repos/photos/data/1\"\r\n2024/09/22 16:48:17 DEBUG : Creating backend with remote \"onedrive:repos/photos/data/1\"\r\n2024/09/22 16:48:17 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/qtvah5opb18p4g4ve2i0lh4mio/vptothej6ciusdjpca3agsgj5o/u58r1pkbe9ip1vlcarj5tntqqs/s4s1q07jvge4ij8b60qlddrsf8\"\r\n2024/09/22 16:48:20 DEBUG : 1202: Modification times differ by -143.88454ms: 2023-02-17 21:00:17.14388454 +1100 AEDT, 2023-02-17 10:00:17 +0000 UTC\r\n2024/09/22 16:48:20 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Starting multipart upload\r\n2024/09/22 16:48:20 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Uploading segment 0/147937 size 147937\r\n2024/09/22 16:48:21 DEBUG : 1202: quickxor = b93d44af98526f074f808342a06fcb2ccc70396b OK\r\n2024/09/22 16:48:21 INFO  : 1202: Copied (replaced existing)\r\n2024/09/22 16:48:21 INFO  :\r\nTransferred:      144.470 KiB / 144.470 KiB, 100%, 144.470 KiB/s, ETA 0s\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         4.0s\r\n\r\n2024/09/22 16:48:21 DEBUG : 9 go routines active\r\n```\r\n\r\nRun using `--modify-window 1s`:\r\n```\r\nborg@host:/tmp$ rclone -vv sync --modify-window 1s ~/repos/photos/data/1/1202 onedrive:repos/photos/data/1\r\n2024/09/22 16:48:32 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"sync\" \"--modify-window\" \"1s\" \"/home/borg/repos/photos/data/1/1202\" \"onedrive:repos/photos/data/1\"]\r\n2024/09/22 16:48:32 DEBUG : Creating backend with remote \"/home/borg/repos/photos/data/1/1202\"\r\n2024/09/22 16:48:32 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/22 16:48:32 DEBUG : fs cache: adding new entry for parent of \"/home/borg/repos/photos/data/1/1202\", \"/home/borg/repos/photos/data/1\"\r\n2024/09/22 16:48:32 DEBUG : Creating backend with remote \"onedrive:repos/photos/data/1\"\r\n2024/09/22 16:48:32 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/qtvah5opb18p4g4ve2i0lh4mio/vptothej6ciusdjpca3agsgj5o/u58r1pkbe9ip1vlcarj5tntqqs/s4s1q07jvge4ij8b60qlddrsf8\"\r\n2024/09/22 16:48:34 DEBUG : 1202: Size and modification time the same (differ by -143.88454ms, within tolerance 1s)\r\n2024/09/22 16:48:34 DEBUG : 1202: Unchanged skipping\r\n2024/09/22 16:48:34 INFO  :\r\nTransferred:              0 B / 0 B, -, 0 B/s, ETA -\r\nElapsed time:         2.4s\r\n\r\n2024/09/22 16:48:34 DEBUG : 6 go routines active\r\n```\r\n\r\n`lsl` showing the mismatching modification times:\r\n```\r\nborg@host:/tmp$ rclone lsl onedrive:repos/photos/data/1/1202\r\n   147857 2023-02-17 21:00:17.000000000 1202\r\nborg@host:/tmp$ rclone lsl ~/repos/photos/data/1/1202\r\n   147857 2023-02-17 21:00:17.143884540 1202\r\n```\r\n\r\n<!--- Please keep the note below for others who read your bug report. -->\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the ðŸ‘ [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/8090/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/8090/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2373813945","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2373813945","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2373813945,"node_id":"IC_kwDOAQ-n5M6NfYa5","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T11:26:00Z","updated_at":"2024-09-25T11:26:00Z","body":"What kind of onedrive are you using?\r\n\r\nCan you include the output of `rclone config redacted` please?\r\n\r\nI did a test and I'm satisfied that `--refresh-times` is working properly on a onedrive personal wrapped with crypt.\r\n\r\nEdited highlights\r\n\r\n```\r\n$ rclone sync -vv /tmp/src 'secret,remote=\"onedrive:secrets\":'\r\n$ touch /tmp/src/dir/file.txt\r\n$ rclone sync -vv /tmp/src --refresh-times 'secret,remote=\"onedrive:secrets\":'\r\nINFO  : dir/file.txt: Updated modification time in destination\r\n$ rclone sync -vv /tmp/src 'secret,remote=\"onedrive:secrets\":'\r\nDEBUG : dir/file.txt: Size and modification time the same (differ by -373.028Âµs, within tolerance 1ms)\r\nDEBUG : dir/file.txt: Unchanged skipping\r\n```\r\n\r\n> If I sync a single file and then an lsl of the remote file, I can see that it still only has one-second resolution, not millisecond resolution.\r\n\r\nSo you uploaded a file but it only has 1 second resolution? And then the resolution did not change when we changed it.\r\n\r\nWhat kind of file is this?\r\n\r\nDoes it do this for all files? Or just this type of file?\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2373813945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374023948","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2374023948","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2374023948,"node_id":"IC_kwDOAQ-n5M6NgLsM","user":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T13:00:47Z","updated_at":"2024-09-25T13:01:31Z","body":"> So you uploaded a file but it only has 1 second resolution? And then the resolution did not change when we changed it.\r\n> What kind of file is this?\r\n> Does it do this for all files? Or just this type of file?\r\n\r\nThe files are the contents of a borgbackup repository - git-ish incremental backups.  In this context, they are just standard files.  Normally I just do a vanilla `sync`, but this was before doing an upgrade to the latest `rclone`.\r\n\r\nOnce I upgraded, the large sync was taking too long, and so I investigated.  This mtime mismatch was happening on all the files, forcing a full upload.\r\n\r\nTo troubleshoot, I devolved the problem into the simplest replicable (for me) use case - that of syncing a single file.  That's what this issue reports against.  For this single file use case, the `--refresh-times` flag doesn't actually seem to refresh the times.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374023948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374033885","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2374033885","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2374033885,"node_id":"IC_kwDOAQ-n5M6NgOHd","user":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T13:04:54Z","updated_at":"2024-09-25T13:04:54Z","body":"rclone config:\r\n```\r\n[onedrive]\r\ntype = crypt\r\nremote = onedriveunderlying:rclonebackups\r\nfilename_encryption = standard\r\ndirectory_name_encryption = true\r\npassword = XXX\r\npassword2 = XXX\r\n\r\n[onedriveunderlying]\r\ntype = onedrive\r\ntoken = XXX\r\ndrive_id = XXX\r\ndrive_type = personal\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374033885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374059502","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2374059502","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2374059502,"node_id":"IC_kwDOAQ-n5M6NgUXu","user":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T13:15:44Z","updated_at":"2024-09-25T13:15:44Z","body":"Maybe the difference between your test above and mine is that in mine the files already exist with whole-second precision on the timestamp (created by a pre-1.66 version), whereas yours is going to get the timestamp from the file as it puts it","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374059502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374252037","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2374252037","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2374252037,"node_id":"IC_kwDOAQ-n5M6NhDYF","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T14:27:26Z","updated_at":"2024-09-25T14:27:26Z","body":"> Maybe the difference between your test above and mine is that in mine the files already exist with whole-second precision on the timestamp (created by a pre-1.66 version), whereas yours is going to get the timestamp from the file as it puts it\r\n\r\nThat worked for me - here the upload was made with v1.65.2 and you can see v1.68.1 correcting the times with `--refresh-times`\r\n\r\n```\r\n$ rclone-v1.65.2 sync -vv /tmp/src 'secret,remote=\"onedrive:secrets\":'\r\n$ rclone lsl 'secret,remote=\"onedrive:secrets\":'\r\n        6 2024-09-25 15:14:39.000000000 dir/file.txt\r\n  3538536 2024-09-25 12:23:49.000000000 dir/test.jpg\r\n$ rclone-v1.68.1 sync -vv /tmp/src --refresh-times 'secret,remote=\"onedrive:secrets\":'\r\nINFO  : dir/file.txt: Updated modification time in destination\r\nINFO  : dir/test.jpg: Updated modification time in destination\r\n$ rclone lsl 'secret,remote=\"onedrive:secrets\":'\r\n        6 2024-09-25 15:14:39.268000000 dir/file.txt\r\n  3538536 2024-09-25 12:23:49.422000000 dir/test.jpg\r\n```\r\n\r\nI wonder whether these old files are different somehow and can't take a ms precision timestamp, but only a 1s timestamp precision.\r\n\r\nYou could see if new files can take ms precision. Can you try uploading a new file and try the `--refresh-times` on a sync after `touch`-ing the local one?\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2374252037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375242777","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375242777","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375242777,"node_id":"IC_kwDOAQ-n5M6Nk1QZ","user":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T20:56:15Z","updated_at":"2024-09-25T20:59:57Z","body":"OK, on _one_ of my remotes this is happening again and again, so I'm able to get a debug log.\r\n\r\n```\r\n2024/09/25 16:33:57 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"/home/sweh/bin/rclone\" \"--config\" \"/home/sweh/.config/rclone/rclone.conf\" \"--delete-before\" \"--rc\" \"--log-level\" \"DEBUG\" \"--log-file\" \"/BACKUP/NO_SYNC/log/20240925_OneDriveBackups3:.txt\" \"--stats=60s\" \"sync\" \".\" \"OneDriveBackups3:\" \"--include\" \"brains/**\" \"--include\" \"monitor/**\" \"--include\" \"openwrt/**\" \"--include\" \"pugwash/**\" \"--include\" \"switches/**\" \"--include\" \"tplink-a7/**\" \"--include\" \"monitor9/**\" \"--include\" \"hass9/**\" \"--include\" \"plexserver9/**\" \"--include\" \"phoenix/**\"]\r\n```\r\n\r\nIt starts off good...\r\n\r\n```\r\n2024/09/25 16:34:02 DEBUG : switches/20200720-basement-switch.cfg: Size and modification time the same (differ by 0s, within tolerance 1ms)\r\n2024/09/25 16:34:02 DEBUG : switches/20200720-basement-switch.cfg: Unchanged skipping\r\n2024/09/25 16:34:02 DEBUG : switches/20200720-living-switch.cfg: Size and modification time the same (differ by 0s, within tolerance 1ms)\r\n```\r\n\r\nBut then a little later...\r\n\r\n```\r\n2024/09/25 16:34:03 DEBUG : brains/20240829._boot.4.gz_aa: Modification times differ by -909.387934ms: 2024-08-29 00:15:45.909387934 -0400 EDT, 2024-08-29 04:15:45 +0000 UTC\r\n2024/09/25 16:34:03 DEBUG : brains/20240829.log: Modification times differ by -68.388101ms: 2024-08-29 00:15:46.068388101 -0400 EDT, 2024-08-29 04:15:46 +0000 UTC\r\n2024/09/25 16:34:03 DEBUG : brains/20240829.root.4.gz_aa: Modification times differ by -257.383046ms: 2024-08-29 00:15:41.257383046 -0400 EDT, 2024-08-29 04:15:41 +0000 UTC\r\n```\r\n\r\nLet's look at the last of these:\r\n\r\n```\r\n% stat /BACKUP/brains/20240829.root.4.gz_aa                      \r\n  File: /BACKUP/brains/20240829.root.4.gz_aa\r\n  Size: 140938358       Blocks: 275552     IO Block: 4096   regular file\r\nDevice: fd05h/64773d    Inode: 81166355    Links: 1\r\nAccess: (0660/-rw-rw----)  Uid: (    0/    root)   Gid: (    0/    root)\r\nAccess: 2024-09-25 14:19:52.965512601 -0400\r\nModify: 2024-08-29 00:15:41.257383046 -0400\r\nChange: 2024-08-29 00:15:42.569384424 -0400\r\n Birth: 2024-08-29 00:15:06.024346027 -0400\r\n```\r\n\r\nThis is looking like OneDrive is only doing 1 second accuracy, and _not_ millisecond.\r\n\r\n(Why didn't that show on the switch files?  Huh stat shows .0000 as the last modified time; I guess that must have originally been written on a filesystem without ms accuracy and just copied over!)\r\n\r\nWhat's odd is that the other backups (OneDriveBackup1:  and OneDriveBackup2:) don't show this!\r\n\r\nThe 3 crypt's are set up the same\r\n```\r\nOneDriveBackups]\r\ntype = crypt\r\nremote = OneDriveSweharris2:Backups\r\nfilename_encryption = off\r\ndirectory_name_encryption = false\r\npassword = XXX\r\npassword2 = XXX\r\n\r\n[OneDriveBackups2]\r\ntype = crypt\r\nremote = OneDriveSweharris3:Backups\r\nfilename_encryption = off\r\ndirectory_name_encryption = false\r\npassword = XXX\r\npassword2 = XXX\r\n\r\n[OneDriveBackups3]\r\ntype = crypt\r\nremote = OneDriveSweharris:Onedrive Only/BACKUP3\r\nfilename_encryption = off\r\ndirectory_name_encryption = false\r\npassword = XXX\r\npassword2 = XXX\r\n```\r\n\r\nThe underlying remotes are similar:\r\n\r\n```\r\n[OneDriveSweharris]\r\ntype = onedrive\r\ntoken = ...\r\ndrive_id = ...\r\ndrive_type = personal\r\n\r\n[OneDriveSweharris2]\r\ntype = onedrive\r\ntoken = ...\r\ndrive_id = ...\r\ndrive_type = personal\r\n\r\n[OneDriveSweharris3]\r\ntype = onedrive\r\ntoken = ...\r\ndrive_id = ...\r\ndrive_type = personal\r\n```\r\n\r\nThe only difference _might_ be in the creation of the OneDrive itself.  OneDriveSweharris1 was my original \"created with outlook\" drive.  I then converted that to a family plan.  \"2\" and \"3\" were created with the family plan.  This _shouldn't_ make a difference, but it's the only one I can see!\r\n\r\nNow looking at a new file uploaded today using `rclone lsl ...`\r\n\r\n```\r\n% rclone lsl OneDriveBackups3:brains | grep 20240925\r\n     1052 2024-09-25 00:15:23.000000000 20240925._boot.3.gz_aa\r\n     2800 2024-09-25 00:15:23.000000000 20240925.log\r\n 61238918 2024-09-25 00:15:21.000000000 20240925.root.3.gz_aa\r\n```\r\n\r\nSo this brand new file still only has one second accuracy!\r\n\r\nBut on another remote:\r\n\r\n```\r\n% rclone lsl OneDriveBackups:penfold | grep 20240925.log\r\n     7028 2024-09-25 01:06:55.174000000 20240925.log\r\n```\r\nWe can see it got milliseconds.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375242777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375272493","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375272493","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375272493,"node_id":"IC_kwDOAQ-n5M6Nk8gt","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T21:14:09Z","updated_at":"2024-09-25T21:14:09Z","body":"Hmm, so some OneDrive personal accounts apparently can't take ms accuracy timestamps apparently.\r\n\r\nI wonder if we can tell them apart somehow.\r\n\r\n@sweharris can you try some listings with -vv --dump bodies and see if you can spot any differences between the 1s OneDrive and the 1ms one?\r\n\r\n@nielash you put the ms timestamps in - I wonder if you have any ideas about what is going on.\r\n\r\nI guess we could set the precision back to 1s - that wouldn't be a big loss.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375272493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14406139579,"node_id":"MEE_lADOAQ-n5M6X2ll4zwAAAANarD67","url":"https://api.github.com/repos/rclone/rclone/issues/events/14406139579","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-25T21:14:10Z","performed_via_github_app":null},{"id":14406139595,"node_id":"SE_lADOAQ-n5M6X2ll4zwAAAANarD7L","url":"https://api.github.com/repos/rclone/rclone/issues/events/14406139595","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-25T21:14:10Z","performed_via_github_app":null},{"id":14406139614,"node_id":"MEE_lADOAQ-n5M6X2ll4zwAAAANarD7e","url":"https://api.github.com/repos/rclone/rclone/issues/events/14406139614","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-25T21:14:10Z","performed_via_github_app":null},{"id":14406139619,"node_id":"SE_lADOAQ-n5M6X2ll4zwAAAANarD7j","url":"https://api.github.com/repos/rclone/rclone/issues/events/14406139619","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-25T21:14:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375308968","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375308968","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375308968,"node_id":"IC_kwDOAQ-n5M6NlFao","user":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T21:37:11Z","updated_at":"2024-09-25T21:38:44Z","body":"Looking at 20240925.log.bin for two different backups, one on a \"1s\" (brains) and one on a \"1ms\" (penfold)...\r\n\r\nThere's a lot of differences..\r\n\r\nFor brains (the \"broken\" one) I see something massively long graph downloadURL\r\n\r\n```\r\n      \"@microsoft.graph.downloadUrl\": \"https://my.microsoftpersonalcontent.com/p\r\nersonal/XXX/_layouts/15/download.aspx?UniqueId=XXX&Translate=false&tempauth=XXX&ApiVersion=2.0\",\r\n```\r\n\r\nFor \"penfold\" (good)\r\n```\r\n      \"@microsoft.graph.downloadUrl\": \"https://straqa.DM.files.1drv.com/XXX\",\r\n```\r\n\r\nThe corrending webURLs are also different\r\n\r\nbrains: `      \"webUrl\": \"https://onedrive.live.com?cid=XXX\",`\r\n\r\npenfold: `      \"webUrl\": \"https://1drv.ms/u/XXX\",`\r\n\r\nCreator is also different; for \"brains\" it's \"Microsoft Graph\"\r\n```\r\n      \"createdBy\": {\r\n        \"application\": {\r\n          \"id\": \"00000003-0000-0000-c000-000000000000\",\r\n          \"displayName\": \"Microsoft Graph\"\r\n        },\r\n```\r\n\r\n but for \"penfold\" it's \"rclone\"\r\n\r\n```\r\n      \"createdBy\": {\r\n        \"application\": {\r\n          \"displayName\": \"rclone\",\r\n          \"id\": \"48211038\"\r\n        },\r\n```\r\n\r\nParent reference is also different:\r\n\r\nbrains:\r\n```\r\n      \"parentReference\": {\r\n        \"driveType\": \"personal\",\r\n        \"driveId\": \"XXX\",\r\n        \"id\": \"XXX\",\r\n        \"name\": \"brains\",\r\n        \"path\": \"/drives/XXX/root:/Onedrive Only/BACKUP3/brains\",\r\n        \"siteId\": \"XXX\"\r\n      },\r\n```\r\n\r\npenfold:\r\n```\r\n      \"parentReference\": {\r\n        \"driveId\": \"XXX\",\r\n        \"driveType\": \"personal\",\r\n        \"id\": \"XXX\",\r\n        \"name\": \"penfold\",\r\n        \"path\": \"/drive/root:/Backups/penfold\"\r\n      },\r\n```\r\n\r\n(Interestingly, but not relevent to this problem, brains has quickXorHash, penfold has quickXorHash _and_ sha1Hash _and_ sha256Hash).\r\n\r\nThese look like two totally different backends!!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375308968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375358204","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375358204","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375358204,"node_id":"IC_kwDOAQ-n5M6NlRb8","user":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T22:12:27Z","updated_at":"2024-09-25T22:12:27Z","body":"Still the same problem.\r\n\r\nSync the file to a new subdir on the remote\r\n```\r\nborg@host:~$ rclone -vv sync ~/repos/photos/data/1/1202 onedrive:test/\r\n2024/09/26 08:06:54 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"sync\" \"/home/borg/repos/photos/data/1/1202\" \"onedrive:test/\"]\r\n2024/09/26 08:06:54 DEBUG : Creating backend with remote \"/home/borg/repos/photos/data/1/1202\"\r\n2024/09/26 08:06:54 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/26 08:06:54 DEBUG : fs cache: adding new entry for parent of \"/home/borg/repos/photos/data/1/1202\", \"/home/borg/repos/photos/data/1\"\r\n2024/09/26 08:06:54 DEBUG : Creating backend with remote \"onedrive:test/\"\r\n2024/09/26 08:06:54 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c\"\r\n2024/09/26 08:06:57 DEBUG : 1202: Need to transfer - File not found at Destination\r\n2024/09/26 08:06:58 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Starting multipart upload\r\n2024/09/26 08:06:59 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Uploading segment 0/147937 size 147937\r\n2024/09/26 08:07:00 DEBUG : 1202: quickxor = 8984d4cb626e8166c6c4a481ccedcb1927e8b494 OK\r\n2024/09/26 08:07:00 INFO  : 1202: Copied (new)\r\n2024/09/26 08:07:00 INFO  : \r\nTransferred:      144.470 KiB / 144.470 KiB, 100%, 48.156 KiB/s, ETA 0s\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         6.5s\r\n\r\n2024/09/26 08:07:00 DEBUG : 10 go routines active\r\n```\r\nCheck the timestamp; it has whole-second resolution:\r\n```\r\nborg@host:~$ rclone -vv lsl onedrive:test/1202\r\n2024/09/26 08:07:12 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"lsl\" \"onedrive:test/1202\"]\r\n2024/09/26 08:07:12 DEBUG : Creating backend with remote \"onedrive:test/1202\"\r\n2024/09/26 08:07:12 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/26 08:07:12 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c/vknf9rh5le44k0v06gdv2ri0ts\"\r\n2024/09/26 08:07:15 DEBUG : fs cache: adding new entry for parent of \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c/vknf9rh5le44k0v06gdv2ri0ts\", \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c\"\r\n2024/09/26 08:07:15 DEBUG : fs cache: adding new entry for parent of \"onedrive:test/1202\", \"onedrive:test\"\r\n   147857 2023-02-17 21:00:17.000000000 1202\r\n2024/09/26 08:07:15 DEBUG : 6 go routines active\r\n```\r\nAnd sync again anyway.  It still uploads the whole file:\r\n```\r\nborg@host:~$ rclone -vv sync ~/repos/photos/data/1/1202 onedrive:test/\r\n2024/09/26 08:07:22 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"sync\" \"/home/borg/repos/photos/data/1/1202\" \"onedrive:test/\"]\r\n2024/09/26 08:07:22 DEBUG : Creating backend with remote \"/home/borg/repos/photos/data/1/1202\"\r\n2024/09/26 08:07:22 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/26 08:07:22 DEBUG : fs cache: adding new entry for parent of \"/home/borg/repos/photos/data/1/1202\", \"/home/borg/repos/photos/data/1\"\r\n2024/09/26 08:07:22 DEBUG : Creating backend with remote \"onedrive:test/\"\r\n2024/09/26 08:07:22 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c\"\r\n2024/09/26 08:07:24 DEBUG : 1202: Modification times differ by -143.88454ms: 2023-02-17 21:00:17.14388454 +1100 AEDT, 2023-02-17 10:00:17 +0000 UTC\r\n2024/09/26 08:07:24 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Starting multipart upload\r\n2024/09/26 08:07:25 DEBUG : vknf9rh5le44k0v06gdv2ri0ts: Uploading segment 0/147937 size 147937\r\n2024/09/26 08:07:26 DEBUG : 1202: quickxor = 6848283a5d1f1294b70f89e75bd1d5b447077fc7 OK\r\n2024/09/26 08:07:26 INFO  : 1202: Copied (replaced existing)\r\n2024/09/26 08:07:26 INFO  : \r\nTransferred:      144.470 KiB / 144.470 KiB, 100%, 144.473 KiB/s, ETA 0s\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         3.6s\r\n\r\n2024/09/26 08:07:26 DEBUG : 9 go routines active\r\n```\r\nOn the off chance something was caching the file, I did it with a brand new file, and still got the same whole-second resolution:\r\n```\r\nborg@host:~$ date > testfile\r\nborg@host:~$ rclone -vv sync ~/testfile onedrive:test/\r\n2024/09/26 08:07:53 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"sync\" \"/home/borg/testfile\" \"onedrive:test/\"]\r\n2024/09/26 08:07:53 DEBUG : Creating backend with remote \"/home/borg/testfile\"\r\n2024/09/26 08:07:53 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/26 08:07:53 DEBUG : fs cache: adding new entry for parent of \"/home/borg/testfile\", \"/home/borg\"\r\n2024/09/26 08:07:53 DEBUG : Creating backend with remote \"onedrive:test/\"\r\n2024/09/26 08:07:53 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c\"\r\n2024/09/26 08:07:54 DEBUG : testfile: Need to transfer - File not found at Destination\r\n2024/09/26 08:07:54 DEBUG : jgnrvhn2i0lfrs5req4m822014: Starting multipart upload\r\n2024/09/26 08:07:55 DEBUG : jgnrvhn2i0lfrs5req4m822014: Uploading segment 0/81 size 81\r\n2024/09/26 08:07:56 DEBUG : testfile: quickxor = aed928320bb991ef7a5db7e8d2e807ec70366e51 OK\r\n2024/09/26 08:07:56 INFO  : testfile: Copied (new)\r\n2024/09/26 08:07:56 INFO  : \r\nTransferred:             81 B / 81 B, 100%, 81 B/s, ETA 0s\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         3.5s\r\n\r\n2024/09/26 08:07:56 DEBUG : 9 go routines active\r\nborg@host:~$ rclone -vv lsl onedrive:test/\r\n2024/09/26 08:08:03 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"lsl\" \"onedrive:test/\"]\r\n2024/09/26 08:08:03 DEBUG : Creating backend with remote \"onedrive:test/\"\r\n2024/09/26 08:08:03 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/26 08:08:03 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c\"\r\n   147857 2023-02-17 21:00:17.000000000 1202\r\n       33 2024-09-26 08:07:44.000000000 testfile\r\n2024/09/26 08:08:05 DEBUG : 6 go routines active\r\nborg@host:~$ rclone -vv sync ~/testfile onedrive:test/\r\n2024/09/26 08:08:12 DEBUG : rclone: Version \"v1.68.0\" starting with parameters [\"rclone\" \"-vv\" \"sync\" \"/home/borg/testfile\" \"onedrive:test/\"]\r\n2024/09/26 08:08:12 DEBUG : Creating backend with remote \"/home/borg/testfile\"\r\n2024/09/26 08:08:12 DEBUG : Using config file from \"/home/borg/.config/rclone/rclone.conf\"\r\n2024/09/26 08:08:12 DEBUG : fs cache: adding new entry for parent of \"/home/borg/testfile\", \"/home/borg\"\r\n2024/09/26 08:08:12 DEBUG : Creating backend with remote \"onedrive:test/\"\r\n2024/09/26 08:08:12 DEBUG : Creating backend with remote \"onedriveunderlying:rclonebackups/fumo5lkns3qomebaj3e1jacn2c\"\r\n2024/09/26 08:08:13 DEBUG : testfile: Modification times differ by -429.469948ms: 2024-09-26 08:07:44.429469948 +1000 AEST, 2024-09-25 22:07:44 +0000 UTC\r\n2024/09/26 08:08:13 DEBUG : jgnrvhn2i0lfrs5req4m822014: Starting multipart upload\r\n2024/09/26 08:08:14 DEBUG : jgnrvhn2i0lfrs5req4m822014: Uploading segment 0/81 size 81\r\n2024/09/26 08:08:15 DEBUG : testfile: quickxor = 472be3848eda28a048aa5a57107a57782ffe8cba OK\r\n2024/09/26 08:08:15 INFO  : testfile: Copied (replaced existing)\r\n2024/09/26 08:08:15 INFO  : \r\nTransferred:             81 B / 81 B, 100%, 80 B/s, ETA 0s\r\nTransferred:            1 / 1, 100%\r\nElapsed time:         2.8s\r\n\r\n2024/09/26 08:08:15 DEBUG : 9 go routines active\r\nborg@host:~$ \r\n```\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375358204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375361950","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375361950","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375361950,"node_id":"IC_kwDOAQ-n5M6NlSWe","user":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T22:15:12Z","updated_at":"2024-09-26T12:23:50Z","body":"Looking at the original `GET /v1.0/drives/XXX/root` call I also see some differences.\r\n\r\npenfold (1ms) has a cTag in the JSON, brains doesn't.\r\n\r\nwebURL for brains (1s) also has an `id` field:\r\n\r\nbrains: `\"webUrl\": \"https://onedrive.live.com?cid=XXX&id=YYY\",`\r\npenfold: `\"webUrl\": \"https://onedrive.live.com/?cid=XXX\",`\r\n\r\npenfold has additional data in the JSON\r\n\r\n```\r\n  \"createdBy\": {\r\n    \"application\": {\r\n      \"displayName\": \"OneDrive website\",\r\n      \"id\": \"44048800\"\r\n    },\r\n```\r\n\r\neTag on brains: `  \"eTag\": \"\\\"{GUID},139\\\"\",`\r\non penfold: `  \"eTag\": \"XXX\",`\r\n\r\nIn all cases (both the \"root\" and the file above), all timestamps for penfold have SS.uuuZ microseconds, but brains is just SSZ second accuracy.\r\neg\r\n`  \"lastModifiedDateTime\": \"2024-09-25T20:33:55.187Z\",`\r\nvs\r\n`  \"lastModifiedDateTime\": \"2024-09-25T21:15:11Z\",`\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375361950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375373248","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375373248","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375373248,"node_id":"IC_kwDOAQ-n5M6NlVHA","user":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T22:24:14Z","updated_at":"2024-09-25T22:24:14Z","body":"Interestingly, similar to @sweharris I have a second encrypted OneDrive remote, and this problem does not occur on it.\r\n\r\nIf I run with `--dump bodies` I see that the (1s) repo has a very recent creation time:\r\n```\r\n  \"fileSystemInfo\": {\r\n    \"createdDateTime\": \"2024-08-27T14:24:00Z\",\r\n    \"lastModifiedDateTime\": \"2024-09-25T22:08:15Z\"\r\n  },\r\n```\r\nBut it's years old to me.  The same element from the (1ms) drive shows a timestamp of 2014.\r\n\r\nI wonder if they've migrated this drive to some new platform behind the scenes.  And if so, this problem might be coming for others too, as they migrate more drives over.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375373248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bigtonylewis","id":1799409,"node_id":"MDQ6VXNlcjE3OTk0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1799409?v=4","gravatar_id":"","url":"https://api.github.com/users/bigtonylewis","html_url":"https://github.com/bigtonylewis","followers_url":"https://api.github.com/users/bigtonylewis/followers","following_url":"https://api.github.com/users/bigtonylewis/following{/other_user}","gists_url":"https://api.github.com/users/bigtonylewis/gists{/gist_id}","starred_url":"https://api.github.com/users/bigtonylewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bigtonylewis/subscriptions","organizations_url":"https://api.github.com/users/bigtonylewis/orgs","repos_url":"https://api.github.com/users/bigtonylewis/repos","events_url":"https://api.github.com/users/bigtonylewis/events{/privacy}","received_events_url":"https://api.github.com/users/bigtonylewis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14406690197,"node_id":"MEE_lADOAQ-n5M6X2ll4zwAAAANatKWV","url":"https://api.github.com/repos/rclone/rclone/issues/events/14406690197","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-25T22:24:16Z","performed_via_github_app":null},{"id":14406690209,"node_id":"SE_lADOAQ-n5M6X2ll4zwAAAANatKWh","url":"https://api.github.com/repos/rclone/rclone/issues/events/14406690209","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-25T22:24:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375381703","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375381703","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375381703,"node_id":"IC_kwDOAQ-n5M6NlXLH","user":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T22:31:25Z","updated_at":"2024-09-25T22:31:25Z","body":"Interesting, my 1s also has a recent createdDateTime: `2024-09-22T13:48:05Z` whereas the 1ms one looks more accurate: `2020-01-23T18:42:01.63Z`.\r\n\r\nCould well be backend migrations occuring!\r\n\r\nThat would also explain why I started seeing this problem again a couple of days ago!  Something changed.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375381703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375849671","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2375849671","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2375849671,"node_id":"IC_kwDOAQ-n5M6NnJbH","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-26T04:32:08Z","updated_at":"2024-09-26T04:32:08Z","body":"I am stumped. The migration theory above sounds as plausible as anything. While working on this I found many other undocumented oddities in the API.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2375849671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2376409201","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2376409201","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2376409201,"node_id":"IC_kwDOAQ-n5M6NpSBx","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-26T09:18:50Z","updated_at":"2024-09-26T09:18:50Z","body":"> (Interestingly, but not relevent to this problem, brains has quickXorHash, penfold has quickXorHash _and_ sha1Hash _and_ sha256Hash).\r\n> \r\n> These look like two totally different backends!!\r\n\r\nThat is interesting info. penfold (1ms) having those hashes means it is based off the onedrive personal line. Whereas brains (1s) looks like it is based off onedrive business which never had sha1 or sha256. However Microsoft have deprecated the sha1 and sha256 hashes so migrating to a platform that doesn't have them makes sense. My guess is that they are trying to merge the OneDrive Personal and Business infrastructure.\r\n\r\nI've noticed before that Microsoft's infrastructure (not surprisingly for something so big) is not homogeneous.\r\n\r\nSo if Microsoft are migrating OneDrive accounts to backends which only support 1s time resolution then we should probably revert the 1ms change.\r\n\r\nI don't think that 1ms time accuracy is documented anywhere.\r\n\r\n@nielash did you find documentation for it somewhere? The API docs I've see are all a bit vague about what a timestamp is.\r\n\r\nIf we do revert the 1 ms precision can anyone think of any negative consequences. What about bisync?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2376409201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14412925493,"node_id":"MEE_lADOAQ-n5M6X2ll4zwAAAANbE8o1","url":"https://api.github.com/repos/rclone/rclone/issues/events/14412925493","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-26T09:18:51Z","performed_via_github_app":null},{"id":14412925511,"node_id":"SE_lADOAQ-n5M6X2ll4zwAAAANbE8pH","url":"https://api.github.com/repos/rclone/rclone/issues/events/14412925511","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-26T09:18:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2376798096","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2376798096","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2376798096,"node_id":"IC_kwDOAQ-n5M6Nqw-Q","user":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-26T12:19:51Z","updated_at":"2024-09-26T12:19:51Z","body":"For testing purposes I added `--modify-window 1s` to my calls, and it worked as expected for my `sync` calls.  I don't use `bisync` but I can't think it'd break anything; anything that was more than 1ms different would already trigger a copy and I can't imagine someone changing a file 10 times a second and expecting each copy to get sync'd; it takes longer than that to copy the file!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2376798096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2378087091","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2378087091","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2378087091,"node_id":"IC_kwDOAQ-n5M6Nvrqz","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-26T22:56:26Z","updated_at":"2024-09-26T22:56:26Z","body":"> @nielash did you find documentation for it somewhere? The API docs I've see are all a bit vague about what a timestamp is.\r\n\r\nI agree that the docs are vague, and I would also call them inconsistent. For instance, [this example](https://learn.microsoft.com/en-us/graph/api/driveitem-list-versions?view=graph-rest-1.0&tabs=http#response-1) shows a `lastModifiedDateTime` with 3 decimal places (`2017-09-14T12:34:53.912Z`), while [this one](https://learn.microsoft.com/en-us/graph/api/driveitem-get?view=graph-rest-1.0&tabs=http#response-1) shows no decimal.\r\n\r\n> If we do revert the 1 ms precision can anyone think of any negative consequences. What about bisync?\r\n\r\nBisync should be fine -- in theory it should be the same as just manually overriding the precision with `--modify-window 1s`. There's a theoretical risk that two files could be considered equal when they are not, but in practice I think the risk would be very small, as the files would have to have an identical size and modtimes that differ by a fraction of a second.\r\n\r\nOne thing I wonder is what happens to a file that's already on onedrive with a more precise modtime before this migration. Does the existing decimal data disappear in the API response? Or does it only affect files created/updated after the migration? The former could possibly cause surprises if people are (for example) scripting with the output of `lsl`, or something.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2378087091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14423425251,"node_id":"MEE_lADOAQ-n5M6X2ll4zwAAAANbtADj","url":"https://api.github.com/repos/rclone/rclone/issues/events/14423425251","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-26T22:56:27Z","performed_via_github_app":null},{"id":14423425259,"node_id":"SE_lADOAQ-n5M6X2ll4zwAAAANbtADr","url":"https://api.github.com/repos/rclone/rclone/issues/events/14423425259","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-26T22:56:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2378142342","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2378142342","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2378142342,"node_id":"IC_kwDOAQ-n5M6Nv5KG","user":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-27T00:02:16Z","updated_at":"2024-09-27T00:02:16Z","body":"FWIW, on my \"bad\" drive, an `rclone lsl` of the OneDrive (not even the crypt overlay but the underlying onedrive) shows `.000000000` on every file.  This definitely had files on it before the migration.\r\n\r\nLooking at the `dump bodies` output, all the API results appear to be limited to seconds only (eg `\"lastModifiedDateTime\": \"2022-04-07T20:37:14Z\"`)\r\n\r\nLooking at the complete `lsl` dump output there are only _two_ entries that have a `.` in them, and that's in the `takenDateTime` field.  And that's for 2 new images I uploaded from the Android OneDrive app today; and even there it's only centiseconds; `\"takenDateTime\": \"2024-08-29T18:58:45.56Z\"`\r\n\r\n(Possibly humorous relation; the Android OneDrive app stopped uploading images and I had to clear data before it would start again; makes me wonder if this backend migration also broke Microsoft's own software!) ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2378142342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sweharris","id":9579870,"node_id":"MDQ6VXNlcjk1Nzk4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/9579870?v=4","gravatar_id":"","url":"https://api.github.com/users/sweharris","html_url":"https://github.com/sweharris","followers_url":"https://api.github.com/users/sweharris/followers","following_url":"https://api.github.com/users/sweharris/following{/other_user}","gists_url":"https://api.github.com/users/sweharris/gists{/gist_id}","starred_url":"https://api.github.com/users/sweharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweharris/subscriptions","organizations_url":"https://api.github.com/users/sweharris/orgs","repos_url":"https://api.github.com/users/sweharris/repos","events_url":"https://api.github.com/users/sweharris/events{/privacy}","received_events_url":"https://api.github.com/users/sweharris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14431073732,"node_id":"REFE_lADOAQ-n5M6X2ll4zwAAAANcKLXE","url":"https://api.github.com/repos/rclone/rclone/issues/events/14431073732","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4497e8c9c89a1e05d1afabe3c31db79149ecac3a","commit_url":"https://api.github.com/repos/rclone/rclone/commits/4497e8c9c89a1e05d1afabe3c31db79149ecac3a","created_at":"2024-09-27T13:19:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2379271080","html_url":"https://github.com/rclone/rclone/issues/8101#issuecomment-2379271080","issue_url":"https://api.github.com/repos/rclone/rclone/issues/8101","id":2379271080,"node_id":"IC_kwDOAQ-n5M6N0Muo","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-27T13:20:24Z","updated_at":"2024-09-27T13:20:24Z","body":"Thanks for all your testing and investigations.\r\n\r\nI've decided to revert the precision back to 1s - I don't think there are any downsides and this should fix the problem - please give this a quick test.\r\n\r\n[v1.69.0-beta.8342.4497e8c9c.fix-8101-onedrive-precision](https://beta.rclone.org/branch/fix-8101-onedrive-precision/v1.69.0-beta.8342.4497e8c9c.fix-8101-onedrive-precision/) on branch [fix-8101-onedrive-precision](https://github.com/rclone/rclone/tree/fix-8101-onedrive-precision) (uploaded in 15-30 mins)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/2379271080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}}]