{"url":"https://api.github.com/repos/rclone/rclone/issues/5498","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5498/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5498/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5498/events","html_url":"https://github.com/rclone/rclone/issues/5498","id":956184467,"node_id":"MDU6SXNzdWU5NTYxODQ0Njc=","number":5498,"title":"Errors uploading files when using -crypt-no-data-encryption=true","user":{"login":"gerard780","id":6089950,"node_id":"MDQ6VXNlcjYwODk5NTA=","avatar_url":"https://avatars.githubusercontent.com/u/6089950?v=4","gravatar_id":"","url":"https://api.github.com/users/gerard780","html_url":"https://github.com/gerard780","followers_url":"https://api.github.com/users/gerard780/followers","following_url":"https://api.github.com/users/gerard780/following{/other_user}","gists_url":"https://api.github.com/users/gerard780/gists{/gist_id}","starred_url":"https://api.github.com/users/gerard780/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerard780/subscriptions","organizations_url":"https://api.github.com/users/gerard780/orgs","repos_url":"https://api.github.com/users/gerard780/repos","events_url":"https://api.github.com/users/gerard780/events{/privacy}","received_events_url":"https://api.github.com/users/gerard780/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":306062764,"node_id":"MDU6TGFiZWwzMDYwNjI3NjQ=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Drive","name":"Remote: Drive","color":"fbca04","default":false,"description":null},{"id":431115744,"node_id":"MDU6TGFiZWw0MzExMTU3NDQ=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Crypt","name":"Remote: Crypt","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"gerard780","id":6089950,"node_id":"MDQ6VXNlcjYwODk5NTA=","avatar_url":"https://avatars.githubusercontent.com/u/6089950?v=4","gravatar_id":"","url":"https://api.github.com/users/gerard780","html_url":"https://github.com/gerard780","followers_url":"https://api.github.com/users/gerard780/followers","following_url":"https://api.github.com/users/gerard780/following{/other_user}","gists_url":"https://api.github.com/users/gerard780/gists{/gist_id}","starred_url":"https://api.github.com/users/gerard780/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerard780/subscriptions","organizations_url":"https://api.github.com/users/gerard780/orgs","repos_url":"https://api.github.com/users/gerard780/repos","events_url":"https://api.github.com/users/gerard780/events{/privacy}","received_events_url":"https://api.github.com/users/gerard780/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/45","html_url":"https://github.com/rclone/rclone/milestone/45","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/45/labels","id":6621711,"node_id":"MDk6TWlsZXN0b25lNjYyMTcxMQ==","number":45,"title":"v1.57","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":60,"state":"closed","created_at":"2021-04-03T13:03:06Z","updated_at":"2021-11-03T06:43:26Z","due_on":"2021-10-30T07:00:00Z","closed_at":"2021-11-01T17:01:17Z"},"comments":12,"created_at":"2021-07-29T20:31:08Z","updated_at":"2021-10-12T16:13:51Z","closed_at":"2021-10-11T21:41:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### The associated forum post URL from `https://forum.rclone.org`\r\n\r\nhttps://forum.rclone.org/t/errors-uploading-files-when-using-crypt-no-data-encryption-true/25592\r\n\r\n#### What is the problem you are having with rclone?\r\n\r\nFiles fail to upload successfully when using -crypt-no-data-encryption=true/no_data_encryption=true. \r\n\r\nThe error messages returned are different depending on which storage provider is used. Please see forum post for logs.\r\n\r\nWith Google Drive, the errors only appear when the size of the file being uploaded is greater than the --drive-upload-cutoff size limit. \r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n```\r\nrclone v1.55.1\r\n\r\nos/type: linux\r\nos/arch: amd64\r\ngo/version: go1.16.3\r\ngo/linking: static\r\ngo/tags: none\r\nAlso tested with 1.55.0 and 1.56.0\r\n```\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\n```\r\nUbuntu 18.04 64bit, Ubuntu 20.04 64bit, Windows 10 64bit, FreeBSD 13-Stable\r\n```\r\n#### Which cloud storage system are you using? (e.g. Google Drive)\r\n```\r\nGoogle Drive and Microsoft OneDrive both experience the issue while Dropbox seems to work fine\r\n```\r\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\r\n```\r\nrclone copy ~/100mbzero crypt: -vv --crypt-no-data-encryption=true\r\n```\r\n#### A log from the command with the `-vv` flag (e.g. output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n```\r\nroot@docker:/mnt# rclone copy ~/100mbzero crypt: -vv --crypt-no-data-encryption=true\r\n2021/07/26 23:55:57 DEBUG : Using config file from \"/root/.config/rclone/rclone.conf\"\r\n2021/07/26 23:55:57 DEBUG : rclone: Version \"v1.55.1\" starting with parameters [\"rclone\" \"copy\" \"/root/100mbzero\" \"crypt:\" \"-vv\" \"--crypt-no-data-encryption=true\"]\r\n2021/07/26 23:55:57 DEBUG : Creating backend with remote \"/root/100mbzero\"\r\n2021/07/26 23:55:57 DEBUG : fs cache: adding new entry for parent of \"/root/100mbzero\", \"/root\"\r\n2021/07/26 23:55:57 DEBUG : Creating backend with remote \"crypt:\"\r\n2021/07/26 23:55:57 DEBUG : crypt: detected overridden config - adding \"{94O0Q}\" suffix to name\r\n2021/07/26 23:55:57 DEBUG : Creating backend with remote \"gdrive:\"\r\n2021/07/26 23:55:57 DEBUG : fs cache: renaming cache item \"crypt:\" to be canonical \"crypt{94O0Q}:\"\r\n2021/07/26 23:55:57 DEBUG : 100mbzero: Need to transfer - File not found at Destination\r\n2021/07/26 23:55:57 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 0 length 8388608\r\n2021/07/26 23:55:58 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 8388608 length 8388608\r\n2021/07/26 23:55:58 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 16777216 length 8388608\r\n2021/07/26 23:55:59 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 25165824 length 8388608\r\n2021/07/26 23:55:59 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 33554432 length 8388608\r\n2021/07/26 23:55:59 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 41943040 length 8388608\r\n2021/07/26 23:55:59 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 50331648 length 8388608\r\n2021/07/26 23:56:00 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 58720256 length 8388608\r\n2021/07/26 23:56:00 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 67108864 length 8388608\r\n2021/07/26 23:56:00 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 75497472 length 8388608\r\n2021/07/26 23:56:01 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 83886080 length 8388608\r\n2021/07/26 23:56:01 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 92274688 length 8388608\r\n2021/07/26 23:56:01 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 100663296 length 4219936\r\n2021/07/26 23:56:01 DEBUG : pacer: low level retry 1/10 (error Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ADPycdvLVW548WOrSKXtzzvmpWhWVMFvKcPqfg_xco88jBcI_Q51nIAqJtGdcbkzMEMwRA_FgNWMoRaQuV0keymzIok\": net/http: HTTP/1.x transport connection broken: http: ContentLength=4219936 with Body length 4194304)\r\n2021/07/26 23:56:01 DEBUG : pacer: Rate limited, increasing sleep to 1.649834166s\r\n2021/07/26 23:56:01 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 100663296 length 4219936\r\n2021/07/26 23:56:02 DEBUG : pacer: low level retry 2/10 (error Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ADPycdvLVW548WOrSKXtzzvmpWhWVMFvKcPqfg_xco88jBcI_Q51nIAqJtGdcbkzMEMwRA_FgNWMoRaQuV0keymzIok\": net/http: HTTP/1.x transport connection broken: http: ContentLength=4219936 with Body length 4194304)\r\n2021/07/26 23:56:02 DEBUG : pacer: Rate limited, increasing sleep to 2.28016671s\r\n2021/07/26 23:56:03 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 100663296 length 4219936\r\n2021/07/26 23:56:03 DEBUG : pacer: low level retry 3/10 (error Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ADPycdvLVW548WOrSKXtzzvmpWhWVMFvKcPqfg_xco88jBcI_Q51nIAqJtGdcbkzMEMwRA_FgNWMoRaQuV0keymzIok\": net/http: HTTP/1.x transport connection broken: http: ContentLength=4219936 with Body length 4194304)\r\n2021/07/26 23:56:03 DEBUG : pacer: Rate limited, increasing sleep to 4.995726079s\r\n2021/07/26 23:56:05 DEBUG : p2lkcl2gh70khqnge6vtaj39hg: Sending chunk 100663296 length 4219936\r\n2021/07/26 23:56:06 DEBUG : pacer: low level retry 4/10 (error Post \"https://www.googleapis.com/upload/drive/v3/files?alt=json&fields=id%2Cname%2Csize%2Cmd5Checksum%2Ctrashed%2CexplicitlyTrashed%2CmodifiedTime%2CcreatedTime%2CmimeType%2Cparents%2CwebViewLink%2CshortcutDetails%2CexportLinks&supportsAllDrives=true&uploadType=resumable&upload_id=ADPycdvLVW548WOrSKXtzzvmpWhWVMFvKcPqfg_xco88jBcI_Q51nIAqJtGdcbkzMEMwRA_FgNWMoRaQuV0keymzIok\": net/http: HTTP/1.x transport connection broken: http: ContentLength=4219936 with Body length 4194304)\r\n2021/07/26 23:56:06 DEBUG : pacer: Rate limited, increasing sleep to 8.985683265s\r\n^C\r\n```\r\n\r\n<!--- Please keep the note below for others who read your bug report. -->\r\n\r\n#### Update\r\n\r\nOriginal request has been solved\r\nA brand new thread started below https://github.com/rclone/rclone/issues/5498#issuecomment-901451695\r\nI'm gonna update labels as the ticket was hijacked\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.","closed_by":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5498/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5498/timeline","performed_via_github_app":null,"state_reason":"completed"}