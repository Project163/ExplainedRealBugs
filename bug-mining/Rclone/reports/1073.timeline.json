[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1093048976","html_url":"https://github.com/rclone/rclone/issues/6094#issuecomment-1093048976","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6094","id":1093048976,"node_id":"IC_kwDOAQ-n5M5BJpqQ","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-08T16:10:17Z","updated_at":"2022-04-08T16:10:17Z","body":"From the ssh docs\r\n\r\n>      SendEnv\r\n>              Specifies what variables from the local environ(7) should be sent to the server.  The server must also support it, and the server must be configured to accept these enviâ€\r\n>              ronment variables.  Note that the TERM environment variable is always sent whenever a pseudo-terminal is requested as it is required by the protocol.  Refer to AcceptEnv in\r\n>              sshd_config(5) for how to configure the server.  Variables are specified by name, which may contain wildcard characters.  Multiple environment variables may be separated by\r\n>              whitespace or spread across multiple SendEnv directives.\r\n> \r\n>              See PATTERNS for more information on patterns.\r\n> \r\n>              It is possible to clear previously set SendEnv variable names by prefixing patterns with -.  The default is not to send any environment variables.\r\n\r\n>      SetEnv  Directly specify one or more environment variables and their contents to be sent to the server.  Similarly to SendEnv, the server must be prepared to accept the environment\r\n>              variable.\r\n\r\nImplementing an equivalent of `SendEnv` and `SetEnv` would probably be reasonably straight forward assuming the underlying library can do it:  https://pkg.go.dev/golang.org/x/crypto/ssh\r\n\r\nIt apparently does have support for the underlying primitive here: https://pkg.go.dev/golang.org/x/crypto/ssh#Session.Setenv\r\n\r\nSo this is mostly a matter of adding the configuration to rclone and calling that function. We should probably aim for `SetEnv` first and use `fs.SpaceSepList` to collect the environment variables in a `var=val var=val` format. This format can also be `\"var=val with spaces\"` also.\r\n\r\nAs for `SendEnv` we can use `filter` framework to build up something to match the wildcards quite easily. I don't think we need to keep exactly to the format used by ssh.\r\n\r\nIs this something you'd like to work on @ggets ? If it is I can prepare instructions. If not then @albertony has done a lot of work on the sftp backend recently - maybe they would take a look?\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1093048976/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6397682151,"node_id":"MEE_lADOAQ-n5M5HUSxhzwAAAAF9VOHn","url":"https://api.github.com/repos/rclone/rclone/issues/events/6397682151","actor":{"login":"ggets","id":4815620,"node_id":"MDQ6VXNlcjQ4MTU2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4815620?v=4","gravatar_id":"","url":"https://api.github.com/users/ggets","html_url":"https://github.com/ggets","followers_url":"https://api.github.com/users/ggets/followers","following_url":"https://api.github.com/users/ggets/following{/other_user}","gists_url":"https://api.github.com/users/ggets/gists{/gist_id}","starred_url":"https://api.github.com/users/ggets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggets/subscriptions","organizations_url":"https://api.github.com/users/ggets/orgs","repos_url":"https://api.github.com/users/ggets/repos","events_url":"https://api.github.com/users/ggets/events{/privacy}","received_events_url":"https://api.github.com/users/ggets/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-08T16:10:17Z","performed_via_github_app":null},{"id":6397682158,"node_id":"SE_lADOAQ-n5M5HUSxhzwAAAAF9VOHu","url":"https://api.github.com/repos/rclone/rclone/issues/events/6397682158","actor":{"login":"ggets","id":4815620,"node_id":"MDQ6VXNlcjQ4MTU2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4815620?v=4","gravatar_id":"","url":"https://api.github.com/users/ggets","html_url":"https://github.com/ggets","followers_url":"https://api.github.com/users/ggets/followers","following_url":"https://api.github.com/users/ggets/following{/other_user}","gists_url":"https://api.github.com/users/ggets/gists{/gist_id}","starred_url":"https://api.github.com/users/ggets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggets/subscriptions","organizations_url":"https://api.github.com/users/ggets/orgs","repos_url":"https://api.github.com/users/ggets/repos","events_url":"https://api.github.com/users/ggets/events{/privacy}","received_events_url":"https://api.github.com/users/ggets/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-04-08T16:10:17Z","performed_via_github_app":null},{"id":6397682165,"node_id":"MEE_lADOAQ-n5M5HUSxhzwAAAAF9VOH1","url":"https://api.github.com/repos/rclone/rclone/issues/events/6397682165","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-04-08T16:10:17Z","performed_via_github_app":null},{"id":6397682171,"node_id":"SE_lADOAQ-n5M5HUSxhzwAAAAF9VOH7","url":"https://api.github.com/repos/rclone/rclone/issues/events/6397682171","actor":{"login":"albertony","id":12441419,"node_id":"MDQ6VXNlcjEyNDQxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/12441419?v=4","gravatar_id":"","url":"https://api.github.com/users/albertony","html_url":"https://github.com/albertony","followers_url":"https://api.github.com/users/albertony/followers","following_url":"https://api.github.com/users/albertony/following{/other_user}","gists_url":"https://api.github.com/users/albertony/gists{/gist_id}","starred_url":"https://api.github.com/users/albertony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertony/subscriptions","organizations_url":"https://api.github.com/users/albertony/orgs","repos_url":"https://api.github.com/users/albertony/repos","events_url":"https://api.github.com/users/albertony/events{/privacy}","received_events_url":"https://api.github.com/users/albertony/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-04-08T16:10:17Z","performed_via_github_app":null},{"id":6397683478,"node_id":"LE_lADOAQ-n5M5HUSxhzwAAAAF9VOcW","url":"https://api.github.com/repos/rclone/rclone/issues/events/6397683478","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-04-08T16:10:30Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":6397683480,"node_id":"LE_lADOAQ-n5M5HUSxhzwAAAAF9VOcY","url":"https://api.github.com/repos/rclone/rclone/issues/events/6397683480","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-04-08T16:10:30Z","label":{"name":"Remote: SFTP","color":"fbca04"},"performed_via_github_app":null},{"id":6397683728,"node_id":"MIE_lADOAQ-n5M5HUSxhzwAAAAF9VOgQ","url":"https://api.github.com/repos/rclone/rclone/issues/events/6397683728","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-04-08T16:10:33Z","milestone":{"title":"Help Wanted"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1093394268","html_url":"https://github.com/rclone/rclone/issues/6094#issuecomment-1093394268","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6094","id":1093394268,"node_id":"IC_kwDOAQ-n5M5BK99c","user":{"login":"ggets","id":4815620,"node_id":"MDQ6VXNlcjQ4MTU2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4815620?v=4","gravatar_id":"","url":"https://api.github.com/users/ggets","html_url":"https://github.com/ggets","followers_url":"https://api.github.com/users/ggets/followers","following_url":"https://api.github.com/users/ggets/following{/other_user}","gists_url":"https://api.github.com/users/ggets/gists{/gist_id}","starred_url":"https://api.github.com/users/ggets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggets/subscriptions","organizations_url":"https://api.github.com/users/ggets/orgs","repos_url":"https://api.github.com/users/ggets/repos","events_url":"https://api.github.com/users/ggets/events{/privacy}","received_events_url":"https://api.github.com/users/ggets/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-08T21:59:44Z","updated_at":"2022-04-08T21:59:44Z","body":"Glad to hear it can be easily implemented. Sadly, I think it's outside the scope of my knowledge. GO just isn't my thing, I know nothing about it, sorry. Anything else I can help with, I will be glad to do so.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1093394268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ggets","id":4815620,"node_id":"MDQ6VXNlcjQ4MTU2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4815620?v=4","gravatar_id":"","url":"https://api.github.com/users/ggets","html_url":"https://github.com/ggets","followers_url":"https://api.github.com/users/ggets/followers","following_url":"https://api.github.com/users/ggets/following{/other_user}","gists_url":"https://api.github.com/users/ggets/gists{/gist_id}","starred_url":"https://api.github.com/users/ggets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggets/subscriptions","organizations_url":"https://api.github.com/users/ggets/orgs","repos_url":"https://api.github.com/users/ggets/repos","events_url":"https://api.github.com/users/ggets/events{/privacy}","received_events_url":"https://api.github.com/users/ggets/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1094499933","html_url":"https://github.com/rclone/rclone/issues/6094#issuecomment-1094499933","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6094","id":1094499933,"node_id":"IC_kwDOAQ-n5M5BPL5d","user":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T03:15:04Z","updated_at":"2022-04-11T03:15:04Z","body":"AFAIK rclone does not use SCP, but SFTP\r\nSFTP subsystem of SSH daemons does not handle SendEnv\r\nI doubt that proposed feature is of any use","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1094499933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1094761001","html_url":"https://github.com/rclone/rclone/issues/6094#issuecomment-1094761001","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6094","id":1094761001,"node_id":"IC_kwDOAQ-n5M5BQLop","user":{"login":"ggets","id":4815620,"node_id":"MDQ6VXNlcjQ4MTU2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4815620?v=4","gravatar_id":"","url":"https://api.github.com/users/ggets","html_url":"https://github.com/ggets","followers_url":"https://api.github.com/users/ggets/followers","following_url":"https://api.github.com/users/ggets/following{/other_user}","gists_url":"https://api.github.com/users/ggets/gists{/gist_id}","starred_url":"https://api.github.com/users/ggets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggets/subscriptions","organizations_url":"https://api.github.com/users/ggets/orgs","repos_url":"https://api.github.com/users/ggets/repos","events_url":"https://api.github.com/users/ggets/events{/privacy}","received_events_url":"https://api.github.com/users/ggets/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T09:03:25Z","updated_at":"2022-04-11T09:04:37Z","body":"Yes, It surely can be handled as both `SetEnv` and `SendEnv` are an official option:\r\nhttps://man.openbsd.org/sftp\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1094761001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ggets","id":4815620,"node_id":"MDQ6VXNlcjQ4MTU2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4815620?v=4","gravatar_id":"","url":"https://api.github.com/users/ggets","html_url":"https://github.com/ggets","followers_url":"https://api.github.com/users/ggets/followers","following_url":"https://api.github.com/users/ggets/following{/other_user}","gists_url":"https://api.github.com/users/ggets/gists{/gist_id}","starred_url":"https://api.github.com/users/ggets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggets/subscriptions","organizations_url":"https://api.github.com/users/ggets/orgs","repos_url":"https://api.github.com/users/ggets/repos","events_url":"https://api.github.com/users/ggets/events{/privacy}","received_events_url":"https://api.github.com/users/ggets/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6407460038,"node_id":"REFE_lADOAQ-n5M5HUSxhzwAAAAF96hTG","url":"https://api.github.com/repos/rclone/rclone/issues/events/6407460038","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c80b4d3aff96de554e9436e2e4fe8171425bf44c","commit_url":"https://api.github.com/repos/rclone/rclone/commits/c80b4d3aff96de554e9436e2e4fe8171425bf44c","created_at":"2022-04-11T09:46:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1094830932","html_url":"https://github.com/rclone/rclone/issues/6094#issuecomment-1094830932","issue_url":"https://api.github.com/repos/rclone/rclone/issues/6094","id":1094830932,"node_id":"IC_kwDOAQ-n5M5BQctU","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T09:47:40Z","updated_at":"2022-04-11T09:47:40Z","body":"I've had a go at implementing `set_env`\r\n\r\n[v1.59.0-beta.6062.c80b4d3af.fix-6094-sftp-env](https://beta.rclone.org/branch/fix-6094-sftp-env/v1.59.0-beta.6062.c80b4d3af.fix-6094-sftp-env/) on branch [fix-6094-sftp-env](https://github.com/rclone/rclone/tree/fix-6094-sftp-env) (uploaded in 15-30 mins)\r\n\r\nI tested it was working like this\r\n\r\n    rclone md5sum --max-depth 1 -vv ':sftp,user=sftptest,set_env=\"LC_POTATO=POTATO\",md5sum_command=/tmp/env,sha1sum_command=/tmp/env:'normal-file.tx\r\n\r\nNote that by default openssh is set up so that it doesn't accept many environment variables but `LC_*` is one thing it does accept.\r\n\r\n#### --sftp-set-env\r\n\r\nEnvironment variables to pass to sftp and commands\r\n\r\nSet environment variables in the form:\r\n\r\n    VAR=value\r\n\r\nto be passed to the sftp client and to any commands run (eg md5sum).\r\n\r\nPass multiple variables space separated, eg\r\n\r\n    VAR1=value VAR2=value\r\n\r\nand pass variables with spaces in in quotes, eg\r\n\r\n    \"VAR3=value with space\" \"VAR4=value with space\" VAR5=nospacehere\r\n\r\n\r\n\r\nProperties:\r\n\r\n- Config:      set_env\r\n- Env Var:     RCLONE_SFTP_SET_ENV\r\n- Type:        SpaceSepList\r\n- Default:     \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1094830932/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6822694385,"node_id":"REFE_lADOAQ-n5M5HUSxhzwAAAAGWqg3x","url":"https://api.github.com/repos/rclone/rclone/issues/events/6822694385","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5e98b67c93fbda78d38b5c4ef5df1acfb2d623ba","commit_url":"https://api.github.com/repos/rclone/rclone/commits/5e98b67c93fbda78d38b5c4ef5df1acfb2d623ba","created_at":"2022-06-16T16:59:03Z","performed_via_github_app":null},{"id":6824061943,"node_id":"CE_lADOAQ-n5M5HUSxhzwAAAAGWvuv3","url":"https://api.github.com/repos/rclone/rclone/issues/events/6824061943","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"60d87185e154109d178e2b92d185877f305253a1","commit_url":"https://api.github.com/repos/rclone/rclone/commits/60d87185e154109d178e2b92d185877f305253a1","created_at":"2022-06-16T21:14:17Z","state_reason":null,"performed_via_github_app":null},{"id":12219262471,"node_id":"REFE_lADOAQ-n5M5HUSxhzwAAAALYUyYH","url":"https://api.github.com/repos/rclone/rclone/issues/events/12219262471","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"60d87185e154109d178e2b92d185877f305253a1","commit_url":"https://api.github.com/repos/LewisHook/rclone/commits/60d87185e154109d178e2b92d185877f305253a1","created_at":"2024-03-22T18:07:27Z","performed_via_github_app":null}]