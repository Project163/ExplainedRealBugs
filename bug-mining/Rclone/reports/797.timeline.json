[{"id":2350988408,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM1MDk4ODQwOA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2350988408","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-18T14:12:35Z","performed_via_github_app":null},{"id":2350988409,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNTA5ODg0MDk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2350988409","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-18T14:12:35Z","performed_via_github_app":null},{"id":2350988721,"node_id":"MDE3OlVuc3Vic2NyaWJlZEV2ZW50MjM1MDk4ODcyMQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2350988721","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-18T14:13:25Z","performed_via_github_app":null},{"id":2350990511,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM1MDk5MDUxMQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2350990511","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-05-18T14:17:52Z","performed_via_github_app":null},{"id":2350990512,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNTA5OTA1MTI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2350990512","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-05-18T14:17:52Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/493749899","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-493749899","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":493749899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzc0OTg5OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-19T11:45:17Z","updated_at":"2019-05-19T11:45:17Z","body":"I suspect that the fact that the remote is capable of Copy is getting lost in the Wrapping by the cache or crypt backends.\r\n\r\nIf you leave out the cache backend (create a new remote just crypt -> digital oceal) does it work?\r\n\r\nBoth crypt and cache support Copy so this should work.\r\n\r\nThe Copy is hard wired into the s3 backend so there is no detection going wrong.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/493749899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/497324851","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-497324851","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":497324851,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzMyNDg1MQ==","user":{"login":"jimaan","id":6625922,"node_id":"MDQ6VXNlcjY2MjU5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/6625922?v=4","gravatar_id":"","url":"https://api.github.com/users/jimaan","html_url":"https://github.com/jimaan","followers_url":"https://api.github.com/users/jimaan/followers","following_url":"https://api.github.com/users/jimaan/following{/other_user}","gists_url":"https://api.github.com/users/jimaan/gists{/gist_id}","starred_url":"https://api.github.com/users/jimaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimaan/subscriptions","organizations_url":"https://api.github.com/users/jimaan/orgs","repos_url":"https://api.github.com/users/jimaan/repos","events_url":"https://api.github.com/users/jimaan/events{/privacy}","received_events_url":"https://api.github.com/users/jimaan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-30T13:14:48Z","updated_at":"2019-05-30T13:14:48Z","body":"> I suspect that the fact that the remote is capable of Copy is getting lost in the Wrapping by the cache or crypt backends.\r\n> \r\n> If you leave out the cache backend (create a new remote just crypt -> digital oceal) does it work?\r\n> \r\n> Both crypt and cache support Copy so this should work.\r\n> \r\n> The Copy is hard wired into the s3 backend so there is no detection going wrong.\r\n\r\nHi! \r\n\r\nSorry for the late reply! Just tested without the cache(crypt --> DO bucket) and this works as suspected. Using OneDrive instead of Digital Ocean(crypt --> cache --> onedrive) also works fine for renaming/moving files.\r\n\r\nuser@HOSTNAME:/dodata/data# touch a.txt\r\nuser@HOSTNAME:/dodata/data# mv a.txt b.txt\r\n\r\nThis time no error: mv: cannot move 'a.txt' to 'b.txt': Input/output error\r\n\r\n>\r\n;DEBUG : data/: Lookup: name=\"a.txt\"\r\n;DEBUG : data/: >Lookup: node=data/a.txt, err=<nil>\r\n;DEBUG : data/a.txt: Attr:\r\n;DEBUG : data/a.txt: >Attr: a=valid=1s ino=0 size=0 mode=-rw-rw-r--, err=<nil>\r\n;DEBUG : data/: Lookup: name=\"b.txt\"\r\n;DEBUG : data/: >Lookup: node=<nil>, err=no such file or directory\r\n;DEBUG : data/a.txt: Attr:\r\n;DEBUG : data/a.txt: >Attr: a=valid=1s ino=0 size=0 mode=-rw-rw-r--, err=<nil>\r\n;DEBUG : data/: Lookup: name=\"b.txt\"\r\n;DEBUG : data/: >Lookup: node=<nil>, err=no such file or directory\r\n;DEBUG : data/: Lookup: name=\"b.txt\"\r\n;DEBUG : data/: >Lookup: node=<nil>, err=no such file or directory\r\n;DEBUG : data/: Rename: oldName=\"a.txt\", newName=\"b.txt\", newDir=data/\r\n;INFO  : data/a.txt: Copied (server side copy)\r\n;INFO  : data/a.txt: Deleted\r\n;DEBUG : data/a.txt: Updating file with data/b.txt 0xc0004a5720\r\n;DEBUG : data/: >Rename: err=<nil>\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/497324851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimaan","id":6625922,"node_id":"MDQ6VXNlcjY2MjU5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/6625922?v=4","gravatar_id":"","url":"https://api.github.com/users/jimaan","html_url":"https://github.com/jimaan","followers_url":"https://api.github.com/users/jimaan/followers","following_url":"https://api.github.com/users/jimaan/following{/other_user}","gists_url":"https://api.github.com/users/jimaan/gists{/gist_id}","starred_url":"https://api.github.com/users/jimaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimaan/subscriptions","organizations_url":"https://api.github.com/users/jimaan/orgs","repos_url":"https://api.github.com/users/jimaan/repos","events_url":"https://api.github.com/users/jimaan/events{/privacy}","received_events_url":"https://api.github.com/users/jimaan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/498405509","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-498405509","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":498405509,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODQwNTUwOQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T20:04:28Z","updated_at":"2019-06-03T20:04:28Z","body":"I just looked through the source of the cache backend.\r\n\r\nIt looks like if you use `--cache-tmp-upload-path` then cache turns off support for server side Copy :-(\r\n\r\nI'm not quite sure why that is though!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/498405509/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2386061402,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjM4NjA2MTQwMg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2386061402","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-06-03T20:05:13Z","rename":{"from":"DigitalOcean (S3) - Move operation does not fallback to Copy","to":"cache: server side copy not supported with --cache-tmp-upload-path"},"performed_via_github_app":null},{"id":2386061641,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzODYwNjE2NDE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2386061641","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-06-03T20:05:18Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":2386061741,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDIzODYwNjE3NDE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2386061741","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-06-03T20:05:21Z","milestone":{"title":"Known Problem"},"performed_via_github_app":null},{"id":2386062039,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzODYwNjIwMzk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2386062039","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-06-03T20:05:29Z","label":{"name":"Remote: Cache","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499884677","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-499884677","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":499884677,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTg4NDY3Nw==","user":{"login":"jimaan","id":6625922,"node_id":"MDQ6VXNlcjY2MjU5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/6625922?v=4","gravatar_id":"","url":"https://api.github.com/users/jimaan","html_url":"https://github.com/jimaan","followers_url":"https://api.github.com/users/jimaan/followers","following_url":"https://api.github.com/users/jimaan/following{/other_user}","gists_url":"https://api.github.com/users/jimaan/gists{/gist_id}","starred_url":"https://api.github.com/users/jimaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimaan/subscriptions","organizations_url":"https://api.github.com/users/jimaan/orgs","repos_url":"https://api.github.com/users/jimaan/repos","events_url":"https://api.github.com/users/jimaan/events{/privacy}","received_events_url":"https://api.github.com/users/jimaan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T13:28:36Z","updated_at":"2019-06-07T13:28:36Z","body":"Thank you for investigating further. I'm going to test without --cache-tmp-upload-path as i'm not sure i need offline uploading for now.\r\n\r\nAnything else i can help/debug with?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/499884677/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimaan","id":6625922,"node_id":"MDQ6VXNlcjY2MjU5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/6625922?v=4","gravatar_id":"","url":"https://api.github.com/users/jimaan","html_url":"https://github.com/jimaan","followers_url":"https://api.github.com/users/jimaan/followers","following_url":"https://api.github.com/users/jimaan/following{/other_user}","gists_url":"https://api.github.com/users/jimaan/gists{/gist_id}","starred_url":"https://api.github.com/users/jimaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimaan/subscriptions","organizations_url":"https://api.github.com/users/jimaan/orgs","repos_url":"https://api.github.com/users/jimaan/repos","events_url":"https://api.github.com/users/jimaan/events{/privacy}","received_events_url":"https://api.github.com/users/jimaan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500206846","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-500206846","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":500206846,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDIwNjg0Ng==","user":{"login":"jimaan","id":6625922,"node_id":"MDQ6VXNlcjY2MjU5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/6625922?v=4","gravatar_id":"","url":"https://api.github.com/users/jimaan","html_url":"https://github.com/jimaan","followers_url":"https://api.github.com/users/jimaan/followers","following_url":"https://api.github.com/users/jimaan/following{/other_user}","gists_url":"https://api.github.com/users/jimaan/gists{/gist_id}","starred_url":"https://api.github.com/users/jimaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimaan/subscriptions","organizations_url":"https://api.github.com/users/jimaan/orgs","repos_url":"https://api.github.com/users/jimaan/repos","events_url":"https://api.github.com/users/jimaan/events{/privacy}","received_events_url":"https://api.github.com/users/jimaan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-09T12:03:46Z","updated_at":"2019-06-09T12:03:46Z","body":"Tested without --cache-tmp-upload-path. For my current usecase it works great! Renaming/moving objects server side works as expected.\r\n\r\nAlso found a software fix/switch on my side that makes it so renaming is no longer required after the file is written to the cache remote. Post processing happens locally that way and the last object move to the cache remote is the final destination and name. Offline uploading works fine with this method.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/500206846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jimaan","id":6625922,"node_id":"MDQ6VXNlcjY2MjU5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/6625922?v=4","gravatar_id":"","url":"https://api.github.com/users/jimaan","html_url":"https://github.com/jimaan","followers_url":"https://api.github.com/users/jimaan/followers","following_url":"https://api.github.com/users/jimaan/following{/other_user}","gists_url":"https://api.github.com/users/jimaan/gists{/gist_id}","starred_url":"https://api.github.com/users/jimaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimaan/subscriptions","organizations_url":"https://api.github.com/users/jimaan/orgs","repos_url":"https://api.github.com/users/jimaan/repos","events_url":"https://api.github.com/users/jimaan/events{/privacy}","received_events_url":"https://api.github.com/users/jimaan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"kernworks","id":8253183,"node_id":"MDQ6VXNlcjgyNTMxODM=","avatar_url":"https://avatars.githubusercontent.com/u/8253183?v=4","gravatar_id":"","url":"https://api.github.com/users/kernworks","html_url":"https://github.com/kernworks","followers_url":"https://api.github.com/users/kernworks/followers","following_url":"https://api.github.com/users/kernworks/following{/other_user}","gists_url":"https://api.github.com/users/kernworks/gists{/gist_id}","starred_url":"https://api.github.com/users/kernworks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kernworks/subscriptions","organizations_url":"https://api.github.com/users/kernworks/orgs","repos_url":"https://api.github.com/users/kernworks/repos","events_url":"https://api.github.com/users/kernworks/events{/privacy}","received_events_url":"https://api.github.com/users/kernworks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T04:20:28Z","updated_at":"2019-10-31T04:20:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/3691","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/3691/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/3691/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/3691/events","html_url":"https://github.com/rclone/rclone/issues/3691","id":515145980,"node_id":"MDU6SXNzdWU1MTUxNDU5ODA=","number":3691,"title":"Request: support B2 server-side copy using cache storage system","user":{"login":"kernworks","id":8253183,"node_id":"MDQ6VXNlcjgyNTMxODM=","avatar_url":"https://avatars.githubusercontent.com/u/8253183?v=4","gravatar_id":"","url":"https://api.github.com/users/kernworks","html_url":"https://github.com/kernworks","followers_url":"https://api.github.com/users/kernworks/followers","following_url":"https://api.github.com/users/kernworks/following{/other_user}","gists_url":"https://api.github.com/users/kernworks/gists{/gist_id}","starred_url":"https://api.github.com/users/kernworks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kernworks/subscriptions","organizations_url":"https://api.github.com/users/kernworks/orgs","repos_url":"https://api.github.com/users/kernworks/repos","events_url":"https://api.github.com/users/kernworks/events{/privacy}","received_events_url":"https://api.github.com/users/kernworks/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-10-31T04:02:19Z","updated_at":"2019-10-31T04:20:28Z","closed_at":"2019-10-31T04:20:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"#### What is the problem you are having with rclone?\r\nB2 server side copy appears to not work when using a mounted cache storage system. When mounting the B2 storage system directly everything works as expected.\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nrclone v1.50.0\r\n- os/arch: linux/amd64\r\n- go version: go1.13.3\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\nCentOS Linux release 7.7.1908 (Core) 64 bit\r\nName        : kernel\r\nVersion     : 3.10.0\r\nRelease     : 1062.4.1.el7\r\nArchitecture: x86_64\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\nI am using cache storage system on top of B2 with the rclone mount command. \r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\nmv /mnt/b2/test10MB /mnt/b2/test10MBa\r\n\r\n\r\n#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\nrclone mount KFB2Cache: /mnt/b2 -vvv\r\n2019/10/30 23:54:18 DEBUG : rclone: Version \"v1.50.0\" starting with parameters [\"rclone\" \"mount\" \"KFB2Cache:\" \"/mnt/b2\" \"-vvv\"]\r\n2019/10/30 23:54:18 DEBUG : Using config file from \"/root/.config/rclone/rclone.conf\"\r\n2019/10/30 23:54:19 DEBUG : KFB2Cache: wrapped KFB2:KF-Test at root\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Cache DB path: /root/.cache/rclone/cache-backend/KFB2Cache.db\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Cache chunk path: /root/.cache/rclone/cache-backend/KFB2Cache\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Chunk Memory: true\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Chunk Size: 10M\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Chunk Total Size: 20G\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Chunk Clean Interval: 1h0m0s\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Workers: 4\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: File Age: 2w\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Cache Writes: enabled\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Upload Temp Rest Time: 2s\r\n2019/10/30 23:54:19 INFO  : KFB2Cache: Upload Temp FS: /tmp/rcloud_KFB2Cache\r\n2019/10/30 23:54:19 DEBUG : Adding path \"cache/expire\" to remote control registry\r\n2019/10/30 23:54:19 DEBUG : Adding path \"cache/stats\" to remote control registry\r\n2019/10/30 23:54:19 DEBUG : Adding path \"cache/fetch\" to remote control registry\r\n2019/10/30 23:54:19 DEBUG : Cache remote KFB2Cache:: Mounting on \"/mnt/b2\"\r\n2019/10/30 23:54:19 INFO  : Cache remote KFB2Cache:: poll-interval is not supported by this remote\r\n2019/10/30 23:54:19 DEBUG : Adding path \"vfs/forget\" to remote control registry\r\n2019/10/30 23:54:19 DEBUG : Adding path \"vfs/refresh\" to remote control registry\r\n2019/10/30 23:54:19 DEBUG : Adding path \"vfs/poll-interval\" to remote control registry\r\n2019/10/30 23:54:19 DEBUG : : Root:\r\n2019/10/30 23:54:19 DEBUG : : >Root: node=/, err=<nil>\r\n2019/10/30 23:54:47 DEBUG : /: Lookup: name=\"test10MBa\"\r\n2019/10/30 23:54:47 DEBUG : Cache remote KFB2Cache:: list ''\r\n2019/10/30 23:54:47 DEBUG : : list: cold listing: 2019-10-16 23:40:34.7963427 -0400 EDT\r\n2019/10/30 23:54:47 DEBUG : : list: read 0 from temp fs\r\n2019/10/30 23:54:47 DEBUG : : list: temp fs entries: []\r\n2019/10/30 23:54:47 DEBUG : : list: read 2 from source\r\n2019/10/30 23:54:47 DEBUG : : list: source entries: [backups test10MB]\r\n2019/10/30 23:54:47 DEBUG : : list: cached object: test10MB\r\n2019/10/30 23:54:47 DEBUG : : list: cached directories: 0\r\n2019/10/30 23:54:47 DEBUG : : list: cached dir: '', cache ts: 2019-10-30 23:54:47.670431 -0400 EDT m=+29.046985401\r\n2019/10/30 23:54:47 DEBUG : /: >Lookup: node=<nil>, err=no such file or directory\r\n2019/10/30 23:54:47 DEBUG : /: Lookup: name=\"test10MB\"\r\n2019/10/30 23:54:47 DEBUG : /: >Lookup: node=test10MB, err=<nil>\r\n2019/10/30 23:54:47 DEBUG : test10MB: Attr:\r\n2019/10/30 23:54:47 DEBUG : test10MB: >Attr: a=valid=1s ino=0 size=10485760 mode=-rw-r--r--, err=<nil>\r\n2019/10/30 23:54:47 DEBUG : /: Lookup: name=\"test10MBa\"\r\n2019/10/30 23:54:47 DEBUG : /: >Lookup: node=<nil>, err=no such file or directory\r\n2019/10/30 23:54:47 DEBUG : /: Lookup: name=\"test10MBa\"\r\n2019/10/30 23:54:47 DEBUG : /: >Lookup: node=<nil>, err=no such file or directory\r\n2019/10/30 23:54:47 DEBUG : /: Rename: oldName=\"test10MB\", newName=\"test10MBa\", newDir=/\r\n2019/10/30 23:54:47 ERROR : test10MB: Dir.Rename error: Fs \"Cache remote KFB2Cache:\" can't rename files (no server side Move or Copy)\r\n2019/10/30 23:54:47 ERROR : test10MB: Dir.Rename error: Fs \"Cache remote KFB2Cache:\" can't rename files (no server side Move or Copy)\r\n2019/10/30 23:54:47 DEBUG : /: >Rename: err=Fs \"Cache remote KFB2Cache:\" can't rename files (no server side Move or Copy)\r\n\r\n#### Working log of the B2 storage system without using cache:\r\nrclone mount KFB2:KF-Test /mnt/b2 -vvv\r\n2019/10/31 00:00:25 DEBUG : rclone: Version \"v1.50.0\" starting with parameters [\"rclone\" \"mount\" \"KFB2:KF-Test\" \"/mnt/b2\" \"-vvv\"]\r\n2019/10/31 00:00:25 DEBUG : Using config file from \"/root/.config/rclone/rclone.conf\"\r\n2019/10/31 00:00:25 DEBUG : B2 bucket KF-Test: Mounting on \"/mnt/b2\"\r\n2019/10/31 00:00:25 INFO  : B2 bucket KF-Test: poll-interval is not supported by this remote\r\n2019/10/31 00:00:25 DEBUG : Adding path \"vfs/forget\" to remote control registry\r\n2019/10/31 00:00:25 DEBUG : Adding path \"vfs/refresh\" to remote control registry\r\n2019/10/31 00:00:25 DEBUG : Adding path \"vfs/poll-interval\" to remote control registry\r\n2019/10/31 00:00:25 DEBUG : : Root:\r\n2019/10/31 00:00:25 DEBUG : : >Root: node=/, err=<nil>\r\n2019/10/31 00:00:41 DEBUG : /: Lookup: name=\"test10MBa\"\r\n2019/10/31 00:00:41 DEBUG : /: >Lookup: node=<nil>, err=no such file or directory\r\n2019/10/31 00:00:41 DEBUG : /: Lookup: name=\"test10MB\"\r\n2019/10/31 00:00:41 DEBUG : /: >Lookup: node=test10MB, err=<nil>\r\n2019/10/31 00:00:41 DEBUG : test10MB: Attr:\r\n2019/10/31 00:00:41 DEBUG : test10MB: >Attr: a=valid=1s ino=0 size=10485760 mode=-rw-r--r--, err=<nil>\r\n2019/10/31 00:00:41 DEBUG : /: Lookup: name=\"test10MBa\"\r\n2019/10/31 00:00:41 DEBUG : /: >Lookup: node=<nil>, err=no such file or directory\r\n2019/10/31 00:00:41 DEBUG : /: Lookup: name=\"test10MBa\"\r\n2019/10/31 00:00:41 DEBUG : /: >Lookup: node=<nil>, err=no such file or directory\r\n2019/10/31 00:00:41 DEBUG : /: Rename: oldName=\"test10MB\", newName=\"test10MBa\", newDir=/\r\n2019/10/31 00:00:43 DEBUG : test10MB: SHA-1 = 47e2292db609f418723a48e735744cf5bc302c2d OK\r\n2019/10/31 00:00:43 INFO  : test10MB: Copied (server side copy)\r\n2019/10/31 00:00:43 INFO  : test10MB: Deleted\r\n2019/10/31 00:00:43 DEBUG : test10MB: Updating file with test10MBa 0xc0005737c0\r\n2019/10/31 00:00:43 DEBUG : /: >Rename: err=<nil>\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/3691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/3691/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/569505264","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-569505264","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":569505264,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTUwNTI2NA==","user":{"login":"itspage","id":5963447,"node_id":"MDQ6VXNlcjU5NjM0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5963447?v=4","gravatar_id":"","url":"https://api.github.com/users/itspage","html_url":"https://github.com/itspage","followers_url":"https://api.github.com/users/itspage/followers","following_url":"https://api.github.com/users/itspage/following{/other_user}","gists_url":"https://api.github.com/users/itspage/gists{/gist_id}","starred_url":"https://api.github.com/users/itspage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itspage/subscriptions","organizations_url":"https://api.github.com/users/itspage/orgs","repos_url":"https://api.github.com/users/itspage/repos","events_url":"https://api.github.com/users/itspage/events{/privacy}","received_events_url":"https://api.github.com/users/itspage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-29T13:23:48Z","updated_at":"2019-12-29T13:23:48Z","body":"I'm also seeing this exact issue, with an S3 compatible backend (Scaleway).\r\n\r\nDisabling `--cache-tmp-upload-path` did the trick.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/569505264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"itspage","id":5963447,"node_id":"MDQ6VXNlcjU5NjM0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5963447?v=4","gravatar_id":"","url":"https://api.github.com/users/itspage","html_url":"https://github.com/itspage","followers_url":"https://api.github.com/users/itspage/followers","following_url":"https://api.github.com/users/itspage/following{/other_user}","gists_url":"https://api.github.com/users/itspage/gists{/gist_id}","starred_url":"https://api.github.com/users/itspage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itspage/subscriptions","organizations_url":"https://api.github.com/users/itspage/orgs","repos_url":"https://api.github.com/users/itspage/repos","events_url":"https://api.github.com/users/itspage/events{/privacy}","received_events_url":"https://api.github.com/users/itspage/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/626951359","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-626951359","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":626951359,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk1MTM1OQ==","user":{"login":"DWSR","id":11413,"node_id":"MDQ6VXNlcjExNDEz","avatar_url":"https://avatars.githubusercontent.com/u/11413?v=4","gravatar_id":"","url":"https://api.github.com/users/DWSR","html_url":"https://github.com/DWSR","followers_url":"https://api.github.com/users/DWSR/followers","following_url":"https://api.github.com/users/DWSR/following{/other_user}","gists_url":"https://api.github.com/users/DWSR/gists{/gist_id}","starred_url":"https://api.github.com/users/DWSR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DWSR/subscriptions","organizations_url":"https://api.github.com/users/DWSR/orgs","repos_url":"https://api.github.com/users/DWSR/repos","events_url":"https://api.github.com/users/DWSR/events{/privacy}","received_events_url":"https://api.github.com/users/DWSR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T20:42:50Z","updated_at":"2020-05-11T23:14:57Z","body":"I did some digging on this because it's really hampering my ability to use rclone the way that I want. I'm inexperienced in Go, so bear with me:\r\n\r\nIt appears that the way that this feature is implemented is by creating a `local` backend using the path passed to `tmp_upload_path`. That is done here: https://github.com/rclone/rclone/blob/master/backend/cache/cache.go#L486\r\n\r\nBased on my very technical and complex print statement debugging, I believe the `local` backend does not implement (or flag itself as having implemented) the `Copy` feature.\r\n\r\nBased on the above pieces of information when the `cache` backend figures out which features are supported, it \"subtracts\" the unsupported features of the `local` backend from the features of the wrapped backend [here](https://github.com/rclone/rclone/blob/master/backend/cache/cache.go#L522). Thus, even though various remote backends (e.g. `b2`, `s3`) support server side copy, `cache` with `tmp_upload_path` specified does not.\r\n\r\nNow, as to how to fix this? I mean, the most straightforward approach would be to implement the Copy feature on the `local` backend (I'm surprised this isn't there already!), but I have no idea how to do that. Hopefully someone with better knowledge of Go and/or this project can easily spot how to do this, otherwise I'll probably take a stab at it at some point.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/626951359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DWSR","id":11413,"node_id":"MDQ6VXNlcjExNDEz","avatar_url":"https://avatars.githubusercontent.com/u/11413?v=4","gravatar_id":"","url":"https://api.github.com/users/DWSR","html_url":"https://github.com/DWSR","followers_url":"https://api.github.com/users/DWSR/followers","following_url":"https://api.github.com/users/DWSR/following{/other_user}","gists_url":"https://api.github.com/users/DWSR/gists{/gist_id}","starred_url":"https://api.github.com/users/DWSR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DWSR/subscriptions","organizations_url":"https://api.github.com/users/DWSR/orgs","repos_url":"https://api.github.com/users/DWSR/repos","events_url":"https://api.github.com/users/DWSR/events{/privacy}","received_events_url":"https://api.github.com/users/DWSR/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"DWSR","id":11413,"node_id":"MDQ6VXNlcjExNDEz","avatar_url":"https://avatars.githubusercontent.com/u/11413?v=4","gravatar_id":"","url":"https://api.github.com/users/DWSR","html_url":"https://github.com/DWSR","followers_url":"https://api.github.com/users/DWSR/followers","following_url":"https://api.github.com/users/DWSR/following{/other_user}","gists_url":"https://api.github.com/users/DWSR/gists{/gist_id}","starred_url":"https://api.github.com/users/DWSR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DWSR/subscriptions","organizations_url":"https://api.github.com/users/DWSR/orgs","repos_url":"https://api.github.com/users/DWSR/repos","events_url":"https://api.github.com/users/DWSR/events{/privacy}","received_events_url":"https://api.github.com/users/DWSR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T16:19:17Z","updated_at":"2020-05-12T16:19:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/4225","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4225/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4225/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4225/events","html_url":"https://github.com/rclone/rclone/pull/4225","id":616787200,"node_id":"MDExOlB1bGxSZXF1ZXN0NDE2ODMxMDAz","number":4225,"title":"Add Copy to Local Backend","user":{"login":"DWSR","id":11413,"node_id":"MDQ6VXNlcjExNDEz","avatar_url":"https://avatars.githubusercontent.com/u/11413?v=4","gravatar_id":"","url":"https://api.github.com/users/DWSR","html_url":"https://github.com/DWSR","followers_url":"https://api.github.com/users/DWSR/followers","following_url":"https://api.github.com/users/DWSR/following{/other_user}","gists_url":"https://api.github.com/users/DWSR/gists{/gist_id}","starred_url":"https://api.github.com/users/DWSR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DWSR/subscriptions","organizations_url":"https://api.github.com/users/DWSR/orgs","repos_url":"https://api.github.com/users/DWSR/repos","events_url":"https://api.github.com/users/DWSR/events{/privacy}","received_events_url":"https://api.github.com/users/DWSR/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-05-12T16:19:16Z","updated_at":"2020-05-17T00:09:20Z","closed_at":"2020-05-17T00:09:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/4225","html_url":"https://github.com/rclone/rclone/pull/4225","diff_url":"https://github.com/rclone/rclone/pull/4225.diff","patch_url":"https://github.com/rclone/rclone/pull/4225.patch","merged_at":null},"body":"#### What is the purpose of this change?\r\n\r\nThis change implements the Copy feature on the `local` backend in order to fix an issue with the `tmp_upload_path` feature of the `cache` backend.\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\nhttps://github.com/rclone/rclone/issues/3206\r\n\r\n#### Checklist\r\n\r\n- [x] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-pull-request).\r\n- [x] I have added tests for all changes in this PR if appropriate.\r\n- [x] I have added documentation for the changes if appropriate.\r\n- [ ] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [ ] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4225/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/628781089","html_url":"https://github.com/rclone/rclone/issues/3206#issuecomment-628781089","issue_url":"https://api.github.com/repos/rclone/rclone/issues/3206","id":628781089,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODc4MTA4OQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T17:31:16Z","updated_at":"2020-05-14T17:31:16Z","body":"> I did some digging on this because it's really hampering my ability to use rclone the way that I want. I'm inexperienced in Go, so bear with me:\r\n\r\n:-)\r\n\r\n> It appears that the way that this feature is implemented is by creating a `local` backend using the path passed to `tmp_upload_path`. That is done here: https://github.com/rclone/rclone/blob/master/backend/cache/cache.go#L486\r\n\r\nSo far so good.\r\n\r\n> Based on my very technical and complex print statement debugging, I believe the `local` backend does not implement (or flag itself as having implemented) the `Copy` feature.\r\n\r\nThat is correct.\r\n\r\nI'm a big fan of debugging with print statements myself ;-)\r\n \r\n> Based on the above pieces of information when the `cache` backend figures out which features are supported, it \"subtracts\" the unsupported features of the `local` backend from the features of the wrapped backend [here](https://github.com/rclone/rclone/blob/master/backend/cache/cache.go#L522). Thus, even though various remote backends (e.g. `b2`, `s3`) support server side copy, `cache` with `tmp_upload_path` specified does not.\r\n\r\nOK\r\n\r\n> Now, as to how to fix this? I mean, the most straightforward approach would be to implement the Copy feature on the `local` backend (I'm surprised this isn't there already!), but I have no idea how to do that. Hopefully someone with better knowledge of Go and/or this project can easily spot how to do this, otherwise I'll probably take a stab at it at some point.\r\n\r\nThe local backend doesn't have `Copy` because rclone already has some very well tested code to do copies and there isn't a quicker way of doing it that just using that code, so not implementing copy is the right thing to do. However if you do implement Copy but return the error `fs.ErrorCantCopy` then rclone will use its fallback Copy as if you hadn't implemented Copy at all.\r\n\r\nPerhaps what we should do is remove the resetting of copy here\r\n\r\nhttps://github.com/rclone/rclone/blob/4006345cfbe8ef81554b0fc79aaeb765e9fbc064/backend/cache/cache.go#L523-L525\r\n\r\nAn instead in Copy if `src` is on the tempFs (so is a local object) then just return `fs.ErrorCantCopy`...\r\n\r\nhttps://github.com/rclone/rclone/blob/4006345cfbe8ef81554b0fc79aaeb765e9fbc064/backend/cache/cache.go#L1528\r\n\r\nSo how to detect `src` is on the tempFs... Probably `src.Fs() == f.tempFs` is the easiest way.\r\n\r\nSo I think you need something like this - completely untested ;-)\r\n\r\n```diff\r\ndiff --git a/backend/cache/cache.go b/backend/cache/cache.go\r\nindex 8b1263cad..98ebe79b0 100644\r\n--- a/backend/cache/cache.go\r\n+++ b/backend/cache/cache.go\r\n@@ -520,9 +520,6 @@ func NewFs(name, rootPath string, m configmap.Mapper) (fs.Fs, error) {\r\n \t// override only those features that use a temp fs and it doesn't support them\r\n \t//f.features.ChangeNotify = f.ChangeNotify\r\n \tif f.opt.TempWritePath != \"\" {\r\n-\t\tif f.tempFs.Features().Copy == nil {\r\n-\t\t\tf.features.Copy = nil\r\n-\t\t}\r\n \t\tif f.tempFs.Features().Move == nil {\r\n \t\t\tf.features.Move = nil\r\n \t\t}\r\n@@ -1533,6 +1530,9 @@ func (f *Fs) Copy(ctx context.Context, src fs.Object, remote string) (fs.Object,\r\n \t\tfs.Errorf(src, \"source remote (%v) doesn't support Copy\", src.Fs())\r\n \t\treturn nil, fs.ErrorCantCopy\r\n \t}\r\n+\tif f.opt.TempWritePath != \"\" && src.Fs() == f.tempFs {\r\n+\t\treturn nil, fs.ErrorCantCopy\r\n+\t}\r\n \t// the source must be a cached object or we abort\r\n \tsrcObj, ok := src.(*Object)\r\n \tif !ok {\r\n```\r\n\r\nI note immediately after that code is \r\n\r\n```go\r\n\t// the source must be a cached object or we abort\r\n\tsrcObj, ok := src.(*Object)\r\n\tif !ok {\r\n\t\tfs.Errorf(srcObj, \"can't copy - not same remote type\")\r\n\t\treturn nil, fs.ErrorCantCopy\r\n\t}\r\n```\r\n\r\nSo actually just removing the Copy masking would do the same thing modulo an ugly error message.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/628781089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"DWSR","id":11413,"node_id":"MDQ6VXNlcjExNDEz","avatar_url":"https://avatars.githubusercontent.com/u/11413?v=4","gravatar_id":"","url":"https://api.github.com/users/DWSR","html_url":"https://github.com/DWSR","followers_url":"https://api.github.com/users/DWSR/followers","following_url":"https://api.github.com/users/DWSR/following{/other_user}","gists_url":"https://api.github.com/users/DWSR/gists{/gist_id}","starred_url":"https://api.github.com/users/DWSR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DWSR/subscriptions","organizations_url":"https://api.github.com/users/DWSR/orgs","repos_url":"https://api.github.com/users/DWSR/repos","events_url":"https://api.github.com/users/DWSR/events{/privacy}","received_events_url":"https://api.github.com/users/DWSR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T00:13:40Z","updated_at":"2020-05-17T00:13:40Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/4242","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4242/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4242/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4242/events","html_url":"https://github.com/rclone/rclone/pull/4242","id":619580027,"node_id":"MDExOlB1bGxSZXF1ZXN0NDE5MDQwMjM4","number":4242,"title":"Cache - Add Support for Server Side Copy When Using Temp Upload","user":{"login":"DWSR","id":11413,"node_id":"MDQ6VXNlcjExNDEz","avatar_url":"https://avatars.githubusercontent.com/u/11413?v=4","gravatar_id":"","url":"https://api.github.com/users/DWSR","html_url":"https://github.com/DWSR","followers_url":"https://api.github.com/users/DWSR/followers","following_url":"https://api.github.com/users/DWSR/following{/other_user}","gists_url":"https://api.github.com/users/DWSR/gists{/gist_id}","starred_url":"https://api.github.com/users/DWSR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DWSR/subscriptions","organizations_url":"https://api.github.com/users/DWSR/orgs","repos_url":"https://api.github.com/users/DWSR/repos","events_url":"https://api.github.com/users/DWSR/events{/privacy}","received_events_url":"https://api.github.com/users/DWSR/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-17T00:13:40Z","updated_at":"2020-05-19T11:17:41Z","closed_at":"2020-05-19T11:17:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/4242","html_url":"https://github.com/rclone/rclone/pull/4242","diff_url":"https://github.com/rclone/rclone/pull/4242.diff","patch_url":"https://github.com/rclone/rclone/pull/4242.patch","merged_at":"2020-05-19T11:17:41Z"},"body":"#### What is the purpose of this change?\r\n\r\nThis change adds support for server side copying to the cache backend (when wrapping a backend that supports it) when the `tmp_upload_path` option is specified. Previously, this configuration would result in the following behaviour from e.g. `mv`:\r\n\r\n```text\r\nuser@HOSTNAME:/data/data# mv a.txt b.txt\r\nmv: cannot move 'a.txt' to 'b.txt': Input/output error\r\n```\r\n\r\nrclone itself would emit a message similar to the following:\r\n\r\n```text\r\nERROR : data/a.txt: Dir.Rename error: Fs \"Encrypted drive 'data:'\" can't rename files (no server side Move or Copy)\r\n```\r\n\r\nThis was caused by the `cache` backend \"masking out\" Copy support from the wrapped backend due to the `local` backend not supporting it.\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\nhttps://github.com/rclone/rclone/issues/3206\r\n\r\n#### Checklist\r\n\r\n- [x] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-pull-request).\r\n- [x] I have added tests for all changes in this PR if appropriate.\r\n- [x] I have added documentation for the changes if appropriate.\r\n- [x] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [x] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4242/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3351343427,"node_id":"MDExOkNsb3NlZEV2ZW50MzM1MTM0MzQyNw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/3351343427","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"19ff7c9302aa9d76b679076ed3cadf85d716548f","commit_url":"https://api.github.com/repos/rclone/rclone/commits/19ff7c9302aa9d76b679076ed3cadf85d716548f","created_at":"2020-05-19T11:17:44Z","state_reason":null,"performed_via_github_app":null}]