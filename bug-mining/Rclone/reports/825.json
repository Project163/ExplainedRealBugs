{"url":"https://api.github.com/repos/rclone/rclone/issues/4032","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4032/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4032/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4032/events","html_url":"https://github.com/rclone/rclone/issues/4032","id":574572048,"node_id":"MDU6SXNzdWU1NzQ1NzIwNDg=","number":4032,"title":"Drop the vendor directory","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":252555516,"node_id":"MDU6TGFiZWwyNTI1NTU1MTY=","url":"https://api.github.com/repos/rclone/rclone/labels/maintenance","name":"maintenance","color":"5319e7","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/40","html_url":"https://github.com/rclone/rclone/milestone/40","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/40/labels","id":5062622,"node_id":"MDk6TWlsZXN0b25lNTA2MjYyMg==","number":40,"title":"v1.53","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"closed","created_at":"2020-02-01T14:11:00Z","updated_at":"2020-09-05T13:46:47Z","due_on":"2020-08-31T07:00:00Z","closed_at":"2020-09-05T13:46:47Z"},"comments":12,"created_at":"2020-03-03T10:38:08Z","updated_at":"2020-07-21T15:14:55Z","closed_at":"2020-07-21T15:13:56Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Now that rclone only supports go1.14, go1.13, go1.12 and go1.11 we can drop the vendor directory from rclone and rely solely on go modules (that is assuming go1.11 modules work well enough which I haven't tested yet.)\r\n\r\nCons of the vendor directory\r\n\r\n- bulks the repo\r\n- makes it harder for contributors making a separate vendor patch\r\n- makes merges more painful\r\n- go1.13 ignores the vendor directory so modules are in use now\r\n\r\nPros of the vendor directory\r\n\r\n- all the files available for a fully reproducible build\r\n    - we could easily add back the vendor directory as part of making the source release\r\n\r\nThere is some [useful discussion here for restic](https://github.com/restic/restic/issues/2482) which is a similar project\r\n\r\nI think I'm probably in favour of dropping the vendor directory but adding it back with `go mod vendor` for the source release.\r\n\r\nI'd like feedback from the team (or any other interested parties) - any thoughts?\r\n\r\nCc: @breunigs @buengese @Cnly @darthShadow @dibu28 @ishuah @ivandeex @klauspost @remusb @sandeepkru\r\n\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4032/timeline","performed_via_github_app":null,"state_reason":"completed"}