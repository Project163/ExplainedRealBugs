[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/138467573","html_url":"https://github.com/rclone/rclone/issues/125#issuecomment-138467573","issue_url":"https://api.github.com/repos/rclone/rclone/issues/125","id":138467573,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODQ2NzU3Mw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-08T07:58:35Z","updated_at":"2015-09-08T07:58:35Z","body":"That is a good idea - thanks.  When doing an upload with rclone we always know the size of the object - telling it to the remote in a `Content-Length` header seems very sensible.  It might be a little tricky to implement though due to the layers involved.\n\nrclone does that additional request to read the MD5SUM as well as the length so it can't stop doing it unfortunately.  Swift has very good integrity checking on upload with MD5SUMs, but not all the other cloud storage systems do.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/138467573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":403325202,"node_id":"MDEyOkxhYmVsZWRFdmVudDQwMzMyNTIwMg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/403325202","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-09-08T07:58:52Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":403325203,"node_id":"MDEyOkxhYmVsZWRFdmVudDQwMzMyNTIwMw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/403325203","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-09-08T07:58:52Z","label":{"name":"maintenance","color":"5319e7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/138588886","html_url":"https://github.com/rclone/rclone/issues/125#issuecomment-138588886","issue_url":"https://api.github.com/repos/rclone/rclone/issues/125","id":138588886,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODU4ODg4Ng==","user":{"login":"nodughere","id":11858952,"node_id":"MDQ6VXNlcjExODU4OTUy","avatar_url":"https://avatars.githubusercontent.com/u/11858952?v=4","gravatar_id":"","url":"https://api.github.com/users/nodughere","html_url":"https://github.com/nodughere","followers_url":"https://api.github.com/users/nodughere/followers","following_url":"https://api.github.com/users/nodughere/following{/other_user}","gists_url":"https://api.github.com/users/nodughere/gists{/gist_id}","starred_url":"https://api.github.com/users/nodughere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nodughere/subscriptions","organizations_url":"https://api.github.com/users/nodughere/orgs","repos_url":"https://api.github.com/users/nodughere/repos","events_url":"https://api.github.com/users/nodughere/events{/privacy}","received_events_url":"https://api.github.com/users/nodughere/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-08T14:45:46Z","updated_at":"2015-09-08T14:45:46Z","body":"I didn't realize that a MD5SUM was performed during upload and compared on the head after successful upload.  That is a good implementation.\n\nI am glad to test your substitution of Transfer-Encoding for Content-Length or get you access to a Swift VM where you can run Swift & S3 API testing and see the headers in the proxy logs.\n\nPlease do note that there is a possibility that in an eventually consistent system such as Swift that after the update of an object, heading of the object may return the old data.  Maybe you could make a switch called --verify that the user could set to false if they knew that the operations were to a system that was eventually consistent.\n\nDoug\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/138588886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nodughere","id":11858952,"node_id":"MDQ6VXNlcjExODU4OTUy","avatar_url":"https://avatars.githubusercontent.com/u/11858952?v=4","gravatar_id":"","url":"https://api.github.com/users/nodughere","html_url":"https://github.com/nodughere","followers_url":"https://api.github.com/users/nodughere/followers","following_url":"https://api.github.com/users/nodughere/following{/other_user}","gists_url":"https://api.github.com/users/nodughere/gists{/gist_id}","starred_url":"https://api.github.com/users/nodughere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nodughere/subscriptions","organizations_url":"https://api.github.com/users/nodughere/orgs","repos_url":"https://api.github.com/users/nodughere/repos","events_url":"https://api.github.com/users/nodughere/events{/privacy}","received_events_url":"https://api.github.com/users/nodughere/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/138638994","html_url":"https://github.com/rclone/rclone/issues/125#issuecomment-138638994","issue_url":"https://api.github.com/repos/rclone/rclone/issues/125","id":138638994,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODYzODk5NA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-08T17:19:32Z","updated_at":"2015-09-08T17:19:32Z","body":"@nodughere Thanks for the offer of a test swift.  I wrote and maintain the [swift library](https://github.com/ncw/swift) for Go.  I'd be interested if you have access to a swift installation with v3 auth?\n\nI note your concern about the eventually consistent system causing a problem.  In practice (and through 100s of runs of the unit tests) it doesn't except very occasionally.  If it does detect a problem like that then rclone will just retry the transfer.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/138638994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":403899472,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDAzODk5NDcy","url":"https://api.github.com/repos/rclone/rclone/issues/events/403899472","actor":{"login":"nodughere","id":11858952,"node_id":"MDQ6VXNlcjExODU4OTUy","avatar_url":"https://avatars.githubusercontent.com/u/11858952?v=4","gravatar_id":"","url":"https://api.github.com/users/nodughere","html_url":"https://github.com/nodughere","followers_url":"https://api.github.com/users/nodughere/followers","following_url":"https://api.github.com/users/nodughere/following{/other_user}","gists_url":"https://api.github.com/users/nodughere/gists{/gist_id}","starred_url":"https://api.github.com/users/nodughere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nodughere/subscriptions","organizations_url":"https://api.github.com/users/nodughere/orgs","repos_url":"https://api.github.com/users/nodughere/repos","events_url":"https://api.github.com/users/nodughere/events{/privacy}","received_events_url":"https://api.github.com/users/nodughere/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-08T17:19:32Z","performed_via_github_app":null},{"id":403899474,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwMzg5OTQ3NA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/403899474","actor":{"login":"nodughere","id":11858952,"node_id":"MDQ6VXNlcjExODU4OTUy","avatar_url":"https://avatars.githubusercontent.com/u/11858952?v=4","gravatar_id":"","url":"https://api.github.com/users/nodughere","html_url":"https://github.com/nodughere","followers_url":"https://api.github.com/users/nodughere/followers","following_url":"https://api.github.com/users/nodughere/following{/other_user}","gists_url":"https://api.github.com/users/nodughere/gists{/gist_id}","starred_url":"https://api.github.com/users/nodughere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nodughere/subscriptions","organizations_url":"https://api.github.com/users/nodughere/orgs","repos_url":"https://api.github.com/users/nodughere/repos","events_url":"https://api.github.com/users/nodughere/events{/privacy}","received_events_url":"https://api.github.com/users/nodughere/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-08T17:19:32Z","performed_via_github_app":null},{"id":425971613,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQyNTk3MTYxMw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/425971613","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-10-03T14:40:00Z","milestone":{"title":"1.23"},"performed_via_github_app":null},{"id":425981719,"node_id":"MDExOkNsb3NlZEV2ZW50NDI1OTgxNzE5","url":"https://api.github.com/repos/rclone/rclone/issues/events/425981719","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"95fd79faf961304ef5a4b663196d87ebc7ae6087","commit_url":"https://api.github.com/repos/rclone/rclone/commits/95fd79faf961304ef5a4b663196d87ebc7ae6087","created_at":"2015-10-03T15:34:27Z","state_reason":null,"performed_via_github_app":null}]