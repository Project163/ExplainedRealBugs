[{"id":1795937809,"node_id":"MDEyOkxhYmVsZWRFdmVudDE3OTU5Mzc4MDk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1795937809","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-08-18T10:54:41Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":1795937825,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE3OTU5Mzc4MjU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1795937825","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-08-18T10:54:44Z","milestone":{"title":"v1.43"},"performed_via_github_app":null},{"id":1795943572,"node_id":"MDExOkNsb3NlZEV2ZW50MTc5NTk0MzU3Mg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1795943572","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"41f709e13b6b2be65b6a80357c932a1da28a10c7","commit_url":"https://api.github.com/repos/rclone/rclone/commits/41f709e13b6b2be65b6a80357c932a1da28a10c7","created_at":"2018-08-18T11:17:30Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/414050876","html_url":"https://github.com/rclone/rclone/issues/2471#issuecomment-414050876","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2471","id":414050876,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDA1MDg3Ng==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-18T11:17:41Z","updated_at":"2018-08-18T11:17:41Z","body":"I can confirm this and note that a leading slash seems to fix the problem.  \r\n\r\n```\r\n$ echo \"hello\" | rclone rcat yandex:hello.txt\r\n$ rclone lsf yandex: | grep hello.txt\r\nhello.txt\r\n$ rclone ls yandex:hello.txt\r\n2018/08/18 11:56:18 ERROR : : error listing: directory not found\r\n2018/08/18 11:56:18 Failed to ls: directory not found\r\n$ rclone ls yandex:/hello.txt\r\n        6 hello.txt\r\n$ rclone delete  yandex:hello.txt\r\n2018/08/18 11:56:32 ERROR : : error listing: directory not found\r\n2018/08/18 11:56:32 ERROR : Attempt 1/3 failed with 1 errors and: directory not found\r\n2018/08/18 11:56:32 ERROR : : error listing: directory not found\r\n2018/08/18 11:56:32 ERROR : Attempt 2/3 failed with 1 errors and: directory not found\r\n2018/08/18 11:56:32 ERROR : : error listing: directory not found\r\n2018/08/18 11:56:32 ERROR : Attempt 3/3 failed with 1 errors and: directory not found\r\n2018/08/18 11:56:32 Failed to delete: directory not found\r\n$ rclone delete  yandex:/hello.txt\r\n$ \r\n```\r\n\r\nThis doesn't appear to be a problem in anything except the root directory (which explains why the integration tests haven't broken)\r\n\r\n```\r\n$ echo \"hello\" | rclone rcat yandex:hello/hello.txt\r\n$ rclone ls yandex:hello/hello.txt\r\n        6 hello.txt\r\n$ rclone delete yandex:hello/hello.txt\r\n$ \r\n```\r\n\r\nThe main difference between the `yandex:hello.txt` and the `yandex:/hello.txt` case seems to be this\r\n\r\n```\r\n2018/08/18 12:01:26 DEBUG : HTTP REQUEST (req 0xc00019e000)\r\n2018/08/18 12:01:26 DEBUG : GET /v1/disk/resources?limit=1000&offset=0&path=disk%3A%2F.%2F HTTP/1.1\r\nHost: cloud-api.yandex.com\r\nUser-Agent: rclone/v1.42-108-g757f5d47-go1.11\r\nAuthorization: XXXX\r\nAccept-Encoding: gzip\r\n\r\n2018/08/18 12:01:26 DEBUG : HTTP RESPONSE (req 0xc00019e000)\r\n2018/08/18 12:01:26 DEBUG : HTTP/1.1 404 NOT FOUND\r\n```\r\n\r\nvs\r\n\r\n```\r\n2018/08/18 12:02:08 DEBUG : HTTP REQUEST (req 0xc00041a800)\r\n2018/08/18 12:02:08 DEBUG : GET /v1/disk/resources?limit=1000&offset=0&path=disk%3A%2F HTTP/1.1\r\nHost: cloud-api.yandex.com\r\nUser-Agent: rclone/v1.42-108-g757f5d47-go1.11\r\nAuthorization: XXXX\r\nAccept-Encoding: gzip\r\n\r\n2018/08/18 12:02:09 DEBUG : HTTP RESPONSE (req 0xc00041a800)\r\n2018/08/18 12:02:09 DEBUG : HTTP/1.1 200 OK\r\n```\r\n\r\nThe with slash case is looking for the path `path=disk:/` whereas the no slash case is looking for `path=disk:/./` which is strange and is almost certainly an artifact in the code.\r\n\r\nA bit of code inspection found the problem and here is the fix\r\n\r\nhttps://beta.rclone.org/v1.42-111-g41f709e1/ (uploaded in 15-30 mins)\r\n\r\nThis will be in [the latest beta](https://beta.rclone.org) and v1.43.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/414050876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}}]