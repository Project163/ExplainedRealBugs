[{"id":3848448468,"node_id":"MDEyOkxhYmVsZWRFdmVudDM4NDg0NDg0Njg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3848448468","actor":{"login":"darthShadow","id":6824881,"node_id":"MDQ6VXNlcjY4MjQ4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/6824881?v=4","gravatar_id":"","url":"https://api.github.com/users/darthShadow","html_url":"https://github.com/darthShadow","followers_url":"https://api.github.com/users/darthShadow/followers","following_url":"https://api.github.com/users/darthShadow/following{/other_user}","gists_url":"https://api.github.com/users/darthShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/darthShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darthShadow/subscriptions","organizations_url":"https://api.github.com/users/darthShadow/orgs","repos_url":"https://api.github.com/users/darthShadow/repos","events_url":"https://api.github.com/users/darthShadow/events{/privacy}","received_events_url":"https://api.github.com/users/darthShadow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-10-07T04:06:31Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/704874768","html_url":"https://github.com/rclone/rclone/issues/4659#issuecomment-704874768","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4659","id":704874768,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDg3NDc2OA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T11:33:34Z","updated_at":"2020-10-07T11:33:34Z","body":"At the moment you can do this for non backend flags\r\n\r\n```\r\n$ RCLONE_BUFFER_SIZE=111M rclone help flags | grep buffer-size\r\n      --buffer-size SizeSuffix               In memory buffer size when reading files for each --transfer. (default 111M)\r\n```\r\n\r\nBut this does not work for backend flags\r\n\r\n```\r\n$ RCLONE_DRIVE_CHUNK_SIZE=111M rclone help flags | grep drive-chunk-size\r\n      --drive-chunk-size SizeSuffix                              Upload chunk size. Must a power of 2 >= 256k. (default 8M)\r\n```\r\n\r\nThe setting is effective but just doesn't show in the help.\r\n\r\n----\r\n\r\nThis is relatively easy to do, however the way it is done is by setting the default value of the config item so it displays correctly in the help.\r\n\r\nCurrently config values for the backend are read in this order (most specific to least specific)\r\n\r\n1. flag values\r\n2. remote specific environment vars\r\n3. backend specific environment vars\r\n4. config file\r\n5. default values\r\n\r\nSo in order to display the env var values we need to read the env var from step 3 and store it as the default value \r\n in step 5. This is fine since we are setting a lower priority than the one we are reading it from. If it was the other way round then there is potential for settings to go missing.\r\n\r\nSo I don't think this will have unexpected consequences, but testing is appreciated :-)\r\n\r\n[v1.54.0-beta.4812.8c19b6123.fix-backend-flags](https://beta.rclone.org/branch/fix-backend-flags/v1.54.0-beta.4812.8c19b6123.fix-backend-flags/) on branch [fix-backend-flags](https://github.com/rclone/rclone/tree/fix-backend-flags) (uploaded in 15-30 mins)\r\n\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/704874768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3850040007,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDM4NTAwNDAwMDc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3850040007","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-10-07T11:33:42Z","milestone":{"title":"v1.54"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/705090315","html_url":"https://github.com/rclone/rclone/issues/4659#issuecomment-705090315","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4659","id":705090315,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTA5MDMxNQ==","user":{"login":"qweasdzxc787","id":25219897,"node_id":"MDQ6VXNlcjI1MjE5ODk3","avatar_url":"https://avatars.githubusercontent.com/u/25219897?v=4","gravatar_id":"","url":"https://api.github.com/users/qweasdzxc787","html_url":"https://github.com/qweasdzxc787","followers_url":"https://api.github.com/users/qweasdzxc787/followers","following_url":"https://api.github.com/users/qweasdzxc787/following{/other_user}","gists_url":"https://api.github.com/users/qweasdzxc787/gists{/gist_id}","starred_url":"https://api.github.com/users/qweasdzxc787/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qweasdzxc787/subscriptions","organizations_url":"https://api.github.com/users/qweasdzxc787/orgs","repos_url":"https://api.github.com/users/qweasdzxc787/repos","events_url":"https://api.github.com/users/qweasdzxc787/events{/privacy}","received_events_url":"https://api.github.com/users/qweasdzxc787/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T17:39:59Z","updated_at":"2020-10-07T17:39:59Z","body":"Tested, looks good.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/705090315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"qweasdzxc787","id":25219897,"node_id":"MDQ6VXNlcjI1MjE5ODk3","avatar_url":"https://avatars.githubusercontent.com/u/25219897?v=4","gravatar_id":"","url":"https://api.github.com/users/qweasdzxc787","html_url":"https://github.com/qweasdzxc787","followers_url":"https://api.github.com/users/qweasdzxc787/followers","following_url":"https://api.github.com/users/qweasdzxc787/following{/other_user}","gists_url":"https://api.github.com/users/qweasdzxc787/gists{/gist_id}","starred_url":"https://api.github.com/users/qweasdzxc787/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qweasdzxc787/subscriptions","organizations_url":"https://api.github.com/users/qweasdzxc787/orgs","repos_url":"https://api.github.com/users/qweasdzxc787/repos","events_url":"https://api.github.com/users/qweasdzxc787/events{/privacy}","received_events_url":"https://api.github.com/users/qweasdzxc787/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3871767640,"node_id":"MDExOkNsb3NlZEV2ZW50Mzg3MTc2NzY0MA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/3871767640","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"72083c65adff1d563a0f9ba92e15c2a837c420c8","commit_url":"https://api.github.com/repos/rclone/rclone/commits/72083c65adff1d563a0f9ba92e15c2a837c420c8","created_at":"2020-10-13T14:44:43Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/707789103","html_url":"https://github.com/rclone/rclone/issues/4659#issuecomment-707789103","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4659","id":707789103,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzc4OTEwMw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-13T14:44:56Z","updated_at":"2020-10-13T14:44:56Z","body":"Thanks for testing.\r\n\r\nI've merged this to master now which means it will be in [the latest beta](https://beta.rclone.org) in 15-30 mins and released in v1.54","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/707789103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}}]