{"url":"https://api.github.com/repos/rclone/rclone/issues/1788","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/1788/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/1788/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/1788/events","html_url":"https://github.com/rclone/rclone/issues/1788","id":269964635,"node_id":"MDU6SXNzdWUyNjk5NjQ2MzU=","number":1788,"title":"Dropbox: error reading destination directory: too_many_requests","user":{"login":"mathieucarbou","id":61346,"node_id":"MDQ6VXNlcjYxMzQ2","avatar_url":"https://avatars.githubusercontent.com/u/61346?v=4","gravatar_id":"","url":"https://api.github.com/users/mathieucarbou","html_url":"https://github.com/mathieucarbou","followers_url":"https://api.github.com/users/mathieucarbou/followers","following_url":"https://api.github.com/users/mathieucarbou/following{/other_user}","gists_url":"https://api.github.com/users/mathieucarbou/gists{/gist_id}","starred_url":"https://api.github.com/users/mathieucarbou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mathieucarbou/subscriptions","organizations_url":"https://api.github.com/users/mathieucarbou/orgs","repos_url":"https://api.github.com/users/mathieucarbou/repos","events_url":"https://api.github.com/users/mathieucarbou/events{/privacy}","received_events_url":"https://api.github.com/users/mathieucarbou/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":306062879,"node_id":"MDU6TGFiZWwzMDYwNjI4Nzk=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Dropbox","name":"Remote: Dropbox","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/18","html_url":"https://github.com/rclone/rclone/milestone/18","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/18/labels","id":1832726,"node_id":"MDk6TWlsZXN0b25lMTgzMjcyNg==","number":18,"title":"Known Problem","description":"This milestone contains issues which are known problems which are proving difficult to fix, or are awaiting an external fix or we haven't got round to yet.","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":70,"closed_issues":148,"state":"open","created_at":"2016-06-16T16:59:54Z","updated_at":"2025-08-25T17:05:37Z","due_on":null,"closed_at":null},"comments":12,"created_at":"2017-10-31T13:48:44Z","updated_at":"2021-05-01T23:32:23Z","closed_at":"2018-12-05T22:03:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"> What is your rclone version (eg output from `rclone -V`)\r\n> Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\n\r\n```\r\nrclone v1.38-049-gd0b9baabÎ²\r\n- os/arch: linux/amd64\r\n- go version: go1.9.2\r\n```\r\n\r\n> Which cloud storage system are you using? (eg Google Drive)\r\n\r\n`Dropbox`\r\n\r\n> The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n\r\n`./rclone --log-level \"INFO\" --transfers 3 --delete-excluded --config \"$CONFIG\" --exclude-from \"EXCLUDES\" sync /share/homes/mathieu/Backups dropbox:NAS/Backups`\r\n\r\n> A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n```\r\n2017/10/31 09:39:58 INFO  : \r\nTransferred:      0 Bytes (0 Bytes/s)\r\nErrors:                 0\r\nChecks:             10893\r\nTransferred:            0\r\nElapsed time:        7m1s\r\n\r\n2017/10/31 09:40:40 ERROR : mathieu@MACBOOKPRO/mathieu/Pictures/Lightroom/medias/medias Smart Previews.lrdata/8/8AB4: error reading destination directory: too_many_requests/\r\n2017/10/31 09:40:42 ERROR : mathieu@MACBOOKPRO/mathieu/Pictures/Lightroom/medias/medias Smart Previews.lrdata/4/4A14: error reading destination directory: too_many_requests/.\r\n2017/10/31 09:40:46 ERROR : mathieu@MACBOOKPRO/mathieu/Pictures/Lightroom/medias/medias Smart Previews.lrdata/D/D9B3: error reading destination directory: too_many_requests/...\r\n2017/10/31 09:40:48 ERROR : mathieu@MACBOOKPRO/mathieu/Pictures/Lightroom/medias/medias Smart Previews.lrdata/C/C8B8: error reading destination directory: too_many_requests/..\r\n2017/10/31 09:40:58 INFO  : \r\nTransferred:      0 Bytes (0 Bytes/s)\r\nErrors:                 4\r\nChecks:             10893\r\nTransferred:            0\r\nElapsed time:        8m1s\r\n```\r\n\r\nI think this issue can also be in relation to #1354. Dropbox seems to have a rate-limited API. See:\r\n\r\n- https://github.com/saguiitay/DropboxRestAPI/issues/12\r\n- https://www.dropbox.com/developers/documentation/http/documentation\r\n\r\n`429 | Your app is making too many requests for the given user or team and is being rate limited. Your app should wait for the number of seconds specified in the \"Retry-After\" response header before trying again.The Content-Type of the response can be JSON or plaintext. If it is JSON, it will be typeRateLimitErrorYou can find more information in theÂ data ingress guide.\r\n`\r\n\r\nIt would be nice that rclone obeys this rate limit and retry-after to avoid recording error count, and also log in the console the fact that we are waiting because of the rate limit ðŸ˜ƒ ","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/1788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/1788/timeline","performed_via_github_app":null,"state_reason":"completed"}