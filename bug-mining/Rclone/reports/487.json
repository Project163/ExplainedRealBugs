{"url":"https://api.github.com/repos/rclone/rclone/issues/2054","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2054/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2054/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2054/events","html_url":"https://github.com/rclone/rclone/issues/2054","id":294809490,"node_id":"MDU6SXNzdWUyOTQ4MDk0OTA=","number":2054,"title":"box: multipart upload problems","user":{"login":"jostasche","id":13698618,"node_id":"MDQ6VXNlcjEzNjk4NjE4","avatar_url":"https://avatars.githubusercontent.com/u/13698618?v=4","gravatar_id":"","url":"https://api.github.com/users/jostasche","html_url":"https://github.com/jostasche","followers_url":"https://api.github.com/users/jostasche/followers","following_url":"https://api.github.com/users/jostasche/following{/other_user}","gists_url":"https://api.github.com/users/jostasche/gists{/gist_id}","starred_url":"https://api.github.com/users/jostasche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jostasche/subscriptions","organizations_url":"https://api.github.com/users/jostasche/orgs","repos_url":"https://api.github.com/users/jostasche/repos","events_url":"https://api.github.com/users/jostasche/events{/privacy}","received_events_url":"https://api.github.com/users/jostasche/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":906990104,"node_id":"MDU6TGFiZWw5MDY5OTAxMDQ=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Box","name":"Remote: Box","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/30","html_url":"https://github.com/rclone/rclone/milestone/30","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/30/labels","id":3306002,"node_id":"MDk6TWlsZXN0b25lMzMwNjAwMg==","number":30,"title":"v1.43","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":44,"state":"closed","created_at":"2018-04-28T12:06:49Z","updated_at":"2018-09-02T14:49:32Z","due_on":"2018-09-01T07:00:00Z","closed_at":"2018-09-02T14:31:31Z"},"comments":14,"created_at":"2018-02-06T15:51:10Z","updated_at":"2018-08-11T15:35:44Z","closed_at":"2018-08-11T15:35:12Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"rclone fails to upload some of the larger files to Box. My observation is that it typically happens for the exact same files (1-13GB in size), but seems to succeed eventually when restarted over and over. I am unsure if it is because a certain amount of time (days/weeks) passed.\r\n\r\nI ran four synchronisations in debugging mode today and attached all log files. \r\nThe errors slightly differ, but all mention \"refresh token\" or \"multipart upload\" errors:\r\n\r\nafter many \r\n`commit multipart upload failed`\r\n\r\nthe following errors occur\r\n`ERROR : box root 'Jos/0.85': Token refresh failed: couldn't list files: Get https://api.box.com/2.0/folders/450***84/items?fields=type%2Cid%2Csequence_id%2Cetag%2Csha1%2Cname%2Csize%2Ccreated_at%2Cmodified_at%2Ccontent_created_at%2Ccontent_modified_at%2Citem_status&limit=1000&offset=0: oauth2: cannot fetch token: 400 Bad Request`\r\n\r\n`Response: {“error\":“invalid_grant”,“error_description”:“Refresh token has expired”}`\r\n\r\nI used to encounter the “range_overlaps_existing_part” error, but I didn't manage reproduce it today in debugging mode.\r\n`ERROR : ******.trr: Failed to copy: multipart upload failed to upload part: Error “range_overlaps_existing_part” (416): Part overlaps with previously uploaded part: {id: “15AE83DA”, “offset”: 6106906624, “size”: 8388608}`\r\n\r\n[rclone.log.1.txt](https://github.com/ncw/rclone/files/1699719/rclone.log.1.txt)\r\n[rclone.log.2.txt](https://github.com/ncw/rclone/files/1699718/rclone.log.2.txt)\r\n[rclone.log.3.txt](https://github.com/ncw/rclone/files/1699717/rclone.log.3.txt)\r\n[rclone.log.4.beta.txt](https://github.com/ncw/rclone/files/1699716/rclone.log.4.beta.txt)\r\n\r\nMy details:\r\n- rclone v1.39     os/arch: linux/amd64    go version: go1.9.2 (used the beta version for the fourth attempt, see logs)\r\n- x86_64 GNU/Linux\r\n- Box.com\r\n- ./rclone-v1.39-linux-amd64/rclone sync -v --max-size 15G --stats 1m /data/ box:data --exclude \".*/**\"\r\n\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2054/timeline","performed_via_github_app":null,"state_reason":"completed"}