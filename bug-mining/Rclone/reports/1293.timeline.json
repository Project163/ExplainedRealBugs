[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333292652","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-333292652","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":333292652,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI5MjY1Mg==","user":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T08:14:12Z","updated_at":"2017-09-30T08:14:12Z","body":"@ncw would it be possible and maybe not too difficult to keep extended attributes when doing local to local rclone at least?\r\n\r\nbtw.. I managed to create a list of files that match the rclone filter in a format that is usable by rsync's files-from\r\n\r\nit's ugly.. because my regex is quite poor.. but it does work. Basically I did a --dry-run from source -> empty folder with rclone and then cleaned up the extra noise with sed:\r\n\r\n```\r\nlogFile=${1}\r\n\r\nsed -E -i.bak 's#^[0-9]{1,4}/[0-9]{1,2}/[0-9]{1,2} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2} [a-zA-Z ]{1,6}: ##' $logFile\r\nsed -E -i.bak '/^Local file system at/d' $logFile\r\nsed -E -i.bak 's/: Not copying as --dry-run//g' $logFile\r\n\r\nsed -E -i.bak '/^Transferred:/d' $logFile\r\nsed -E -i.bak '/^Errors:/d' $logFile\r\nsed -E -i.bak '/^Checks:/d' $logFile\r\nsed -E -i.bak '/^Transferred:/d' $logFile\r\nsed -E -i.bak '/^Elapsed time:/d' $logFile\r\n```\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333292652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1272680638,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI3MjY4MDYzOA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1272680638","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-09-30T08:14:12Z","performed_via_github_app":null},{"id":1272680639,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyNzI2ODA2Mzk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1272680639","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-09-30T08:14:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333314712","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-333314712","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":333314712,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNDcxMg==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T15:10:18Z","updated_at":"2017-09-30T15:10:18Z","body":"> I'm trying very hard to restore my macOS system from b2 after copying it with Rclone.\r\n> \r\n> I'm now realizing that Rclone didn't save extended attributes and that means that all my macOS Applications won't open at all since they're missing those attributes.\r\n\r\n:-(  I'm sorry about that.  I'm not an OS X user so it dropped off my radar.  How much stuff does OS X store in the attributes? In the bad old days, mac OS used to store the whole program binary in the resource fork - is that the case now?\r\n\r\nCould you make a new ticket specifically about xattrs because I don't think there is one and if you could describe what OS X stores in them, and how OS X programs copy them about to systems which don't understand xattrs (eg FAT formatted disks, or Google Drive) that would be really useful.\r\n\r\n> However rsync has a --files-from which says \"rsync all those files in a file and nothing else\" This would work perfectly if I could get Rclone to produce a list of files that match Rclone's filters.. is there a way to do that? \r\n\r\nYou are going to kick yourself, but `rclone ls` is what you want!\r\n\r\n> would it be possible and maybe not too difficult to keep extended attributes when doing local to local rclone at least?\r\n\r\nCan you write that in the xattrs issue too please - it is a good idea!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333314712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333804505","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-333804505","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":333804505,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzgwNDUwNQ==","user":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T10:40:37Z","updated_at":"2017-10-03T10:40:37Z","body":"hah.. yea.. thankfully I didn't waste too much time writing those sed filters.. and I still need to use a sed filter on rclone ls to remove the size at the beginning.. since rsync's --files-from expects only paths\r\n\r\nthanks for letting me know. would be nice to add an option to return only file paths and not size.. datestamps would be a useful optional output of ls too\r\n\r\nfor the xattrs to be honest I barely understand it myself.. I mean I don't even understand what's really going on here.. I just know after using rsync with -E flag all my apps work correctly again. But that means my b2 backup is not as useful as I thought it was\r\n\r\nif I come across the info you need I'll be sure to pass it along to you","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333804505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333822657","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-333822657","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":333822657,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzgyMjY1Nw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T12:11:19Z","updated_at":"2017-10-03T12:11:19Z","body":"If `rsync -E` fixed it, then what you are after is just the normal attributes I think?  Namely executable?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/333822657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/379499404","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-379499404","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":379499404,"node_id":"MDEyOklzc3VlQ29tbWVudDM3OTQ5OTQwNA==","user":{"login":"ckujau","id":822519,"node_id":"MDQ6VXNlcjgyMjUxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/822519?v=4","gravatar_id":"","url":"https://api.github.com/users/ckujau","html_url":"https://github.com/ckujau","followers_url":"https://api.github.com/users/ckujau/followers","following_url":"https://api.github.com/users/ckujau/following{/other_user}","gists_url":"https://api.github.com/users/ckujau/gists{/gist_id}","starred_url":"https://api.github.com/users/ckujau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckujau/subscriptions","organizations_url":"https://api.github.com/users/ckujau/orgs","repos_url":"https://api.github.com/users/ckujau/repos","events_url":"https://api.github.com/users/ckujau/events{/privacy}","received_events_url":"https://api.github.com/users/ckujau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-07T21:09:26Z","updated_at":"2018-04-07T21:11:17Z","body":"Because my local `xfs` file system [supports metadata checksums only](https://git.kernel.org/pub/scm/fs/xfs/xfsprogs-dev.git/tree/doc/CHANGES?h=v3.2.3#n10), I too am using [extended attributes](https://en.wikipedia.org/wiki/Extended_file_attributes) to store a file's `md5sum` as extended attributes:\r\n\r\n```\r\n$ getfattr -d README \r\n# file: README\r\nuser.checksum.md5=\"7599d8ff89f9a84e9a4259eca5eeef7c\"\r\n````\r\nThis works in [Linux](https://manpages.debian.org/unstable/attr/setfattr.1.en.html \"setfattr(1)\") but also (with different tools) for [FreeBSD](https://github.com/edenzik/pxattr \"A fork of pxattr: a portable extended attributes C++ programming interface\"), [macOS](https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/xattr.1.html \"xattr(1)\") and [Solaris](https://docs.oracle.com/cd/E36784_01/html/E36870/runat-1.html \"runat(1)\") systems. Ideally those attributes should be stored in the backups too. `rsync` has `-X` (or `-E` on macOS) to accomplish this, but of course the backup destination must support those attributes as well. [Backblaze B2](https://www.backblaze.com/b2/docs/b2_get_file_info.html) appears to have support for something called `fileInfo` - maybe this can used to store user-defined extended attributes? I realize that B2 stores `contentSha1` anyway, so my need to store `user.checksum.md5` may be moot, but it was just meant as an example; @vesper8 mentioned some attributes that macOS needs to start applications but it really could be anything.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/379499404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ckujau","id":822519,"node_id":"MDQ6VXNlcjgyMjUxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/822519?v=4","gravatar_id":"","url":"https://api.github.com/users/ckujau","html_url":"https://github.com/ckujau","followers_url":"https://api.github.com/users/ckujau/followers","following_url":"https://api.github.com/users/ckujau/following{/other_user}","gists_url":"https://api.github.com/users/ckujau/gists{/gist_id}","starred_url":"https://api.github.com/users/ckujau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckujau/subscriptions","organizations_url":"https://api.github.com/users/ckujau/orgs","repos_url":"https://api.github.com/users/ckujau/repos","events_url":"https://api.github.com/users/ckujau/events{/privacy}","received_events_url":"https://api.github.com/users/ckujau/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1562343763,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU2MjM0Mzc2Mw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1562343763","actor":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-07T21:09:26Z","performed_via_github_app":null},{"id":1562343764,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1NjIzNDM3NjQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1562343764","actor":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-07T21:09:27Z","performed_via_github_app":null},{"id":2977386463,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50Mjk3NzM4NjQ2Mw==","url":"https://api.github.com/repos/rclone/rclone/issues/events/2977386463","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-01-24T14:20:10Z","rename":{"from":"extended attributes? or fallback rsync mode? filter-from?","to":"Add extended attributes"},"performed_via_github_app":null},{"id":2977386681,"node_id":"MDEyOkxhYmVsZWRFdmVudDI5NzczODY2ODE=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2977386681","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-01-24T14:20:14Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":2977386788,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI5NzczODY3ODg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/2977386788","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-01-24T14:20:17Z","milestone":{"title":"Help Wanted"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/617051114","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-617051114","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":617051114,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzA1MTExNA==","user":{"login":"guss77","id":381782,"node_id":"MDQ6VXNlcjM4MTc4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/381782?v=4","gravatar_id":"","url":"https://api.github.com/users/guss77","html_url":"https://github.com/guss77","followers_url":"https://api.github.com/users/guss77/followers","following_url":"https://api.github.com/users/guss77/following{/other_user}","gists_url":"https://api.github.com/users/guss77/gists{/gist_id}","starred_url":"https://api.github.com/users/guss77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guss77/subscriptions","organizations_url":"https://api.github.com/users/guss77/orgs","repos_url":"https://api.github.com/users/guss77/repos","events_url":"https://api.github.com/users/guss77/events{/privacy}","received_events_url":"https://api.github.com/users/guss77/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T09:00:52Z","updated_at":"2020-04-21T09:01:47Z","body":"S3 (which is what I use rclone with - the protocol if not the service) supports [\"User Metadata\"](https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html) which maps really well from xattr.\r\n\r\nFor example, the FUSE filesystem [YAS3FS](https://github.com/danilop/yas3fs) stores xattr as S3 user metadata","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/617051114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guss77","id":381782,"node_id":"MDQ6VXNlcjM4MTc4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/381782?v=4","gravatar_id":"","url":"https://api.github.com/users/guss77","html_url":"https://github.com/guss77","followers_url":"https://api.github.com/users/guss77/followers","following_url":"https://api.github.com/users/guss77/following{/other_user}","gists_url":"https://api.github.com/users/guss77/gists{/gist_id}","starred_url":"https://api.github.com/users/guss77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guss77/subscriptions","organizations_url":"https://api.github.com/users/guss77/orgs","repos_url":"https://api.github.com/users/guss77/repos","events_url":"https://api.github.com/users/guss77/events{/privacy}","received_events_url":"https://api.github.com/users/guss77/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3997436297,"node_id":"MDEyOkxhYmVsZWRFdmVudDM5OTc0MzYyOTc=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3997436297","actor":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-15T13:59:52Z","label":{"name":"metadata","color":"289ebf"},"performed_via_github_app":null},{"actor":{"login":"eatnumber1","id":17551,"node_id":"MDQ6VXNlcjE3NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17551?v=4","gravatar_id":"","url":"https://api.github.com/users/eatnumber1","html_url":"https://github.com/eatnumber1","followers_url":"https://api.github.com/users/eatnumber1/followers","following_url":"https://api.github.com/users/eatnumber1/following{/other_user}","gists_url":"https://api.github.com/users/eatnumber1/gists{/gist_id}","starred_url":"https://api.github.com/users/eatnumber1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eatnumber1/subscriptions","organizations_url":"https://api.github.com/users/eatnumber1/orgs","repos_url":"https://api.github.com/users/eatnumber1/repos","events_url":"https://api.github.com/users/eatnumber1/events{/privacy}","received_events_url":"https://api.github.com/users/eatnumber1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-04T21:07:49Z","updated_at":"2021-07-04T21:07:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/5438","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5438/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5438/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5438/events","html_url":"https://github.com/rclone/rclone/pull/5438","id":936540292,"node_id":"MDExOlB1bGxSZXF1ZXN0NjgzMjM3MTU5","number":5438,"title":"Expose file hashes and mime type as extended attributes.","user":{"login":"eatnumber1","id":17551,"node_id":"MDQ6VXNlcjE3NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17551?v=4","gravatar_id":"","url":"https://api.github.com/users/eatnumber1","html_url":"https://github.com/eatnumber1","followers_url":"https://api.github.com/users/eatnumber1/followers","following_url":"https://api.github.com/users/eatnumber1/following{/other_user}","gists_url":"https://api.github.com/users/eatnumber1/gists{/gist_id}","starred_url":"https://api.github.com/users/eatnumber1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eatnumber1/subscriptions","organizations_url":"https://api.github.com/users/eatnumber1/orgs","repos_url":"https://api.github.com/users/eatnumber1/repos","events_url":"https://api.github.com/users/eatnumber1/events{/privacy}","received_events_url":"https://api.github.com/users/eatnumber1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":430778096,"node_id":"MDU6TGFiZWw0MzA3NzgwOTY=","url":"https://api.github.com/repos/rclone/rclone/labels/VFS%20/%20mount","name":"VFS / mount","color":"0e8a16","default":false,"description":""},{"id":2482505172,"node_id":"MDU6TGFiZWwyNDgyNTA1MTcy","url":"https://api.github.com/repos/rclone/rclone/labels/needs%20rebase","name":"needs rebase","color":"d93f0b","default":false,"description":""},{"id":2504883054,"node_id":"MDU6TGFiZWwyNTA0ODgzMDU0","url":"https://api.github.com/repos/rclone/rclone/labels/hashing","name":"hashing","color":"54d3cf","default":false,"description":""}],"state":"open","locked":false,"assignee":{"login":"eatnumber1","id":17551,"node_id":"MDQ6VXNlcjE3NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17551?v=4","gravatar_id":"","url":"https://api.github.com/users/eatnumber1","html_url":"https://github.com/eatnumber1","followers_url":"https://api.github.com/users/eatnumber1/followers","following_url":"https://api.github.com/users/eatnumber1/following{/other_user}","gists_url":"https://api.github.com/users/eatnumber1/gists{/gist_id}","starred_url":"https://api.github.com/users/eatnumber1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eatnumber1/subscriptions","organizations_url":"https://api.github.com/users/eatnumber1/orgs","repos_url":"https://api.github.com/users/eatnumber1/repos","events_url":"https://api.github.com/users/eatnumber1/events{/privacy}","received_events_url":"https://api.github.com/users/eatnumber1/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"eatnumber1","id":17551,"node_id":"MDQ6VXNlcjE3NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17551?v=4","gravatar_id":"","url":"https://api.github.com/users/eatnumber1","html_url":"https://github.com/eatnumber1","followers_url":"https://api.github.com/users/eatnumber1/followers","following_url":"https://api.github.com/users/eatnumber1/following{/other_user}","gists_url":"https://api.github.com/users/eatnumber1/gists{/gist_id}","starred_url":"https://api.github.com/users/eatnumber1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eatnumber1/subscriptions","organizations_url":"https://api.github.com/users/eatnumber1/orgs","repos_url":"https://api.github.com/users/eatnumber1/repos","events_url":"https://api.github.com/users/eatnumber1/events{/privacy}","received_events_url":"https://api.github.com/users/eatnumber1/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":28,"created_at":"2021-07-04T21:07:49Z","updated_at":"2024-06-17T12:40:49Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/5438","html_url":"https://github.com/rclone/rclone/pull/5438","diff_url":"https://github.com/rclone/rclone/pull/5438.diff","patch_url":"https://github.com/rclone/rclone/pull/5438.patch","merged_at":null},"body":"Hey there, in spite of the checklist below, I'd like some feedback on this direction before I put effort into making tests and implementing it for all the fuse backends. Can you take an early look?\r\n\r\n#### What is the purpose of this change?\r\n\r\nThis change adds extended attributes found at `system.hash.<hash_type>`.\r\nBy reading these extended attributes, rclone will query and return the\r\nhash from the storage backend without needing to download the file.\r\n\r\nThe following is an example of using these attributes when reading a\r\nfile stored in Google Drive using the Mac OSX `xattr` tool.\r\n\r\n```\r\n$ xattr image.jpg\r\nsystem.hash.md5\r\n$ xattr -p system.hash.md5 image.jpg\r\n920e3d7899c8eed81b50d6f26fe0f64b\r\n```\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\nNot directly, although there's been discussion about exposing hashes through the fs layer, and discussion about extended attributes in the past. The topics I've found are: #1710, #1190, and #3673.\r\n\r\n#### Checklist\r\n\r\n- [X] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-pull-request).\r\n- [X] I have added tests for all changes in this PR if appropriate.\r\n- [x] I have added documentation for the changes if appropriate.\r\n- [X] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [x] I'm done, this Pull Request is ready for review :-)","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5438/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-21T04:57:12Z","updated_at":"2021-09-21T04:57:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/5604","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5604/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5604/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5604/events","html_url":"https://github.com/rclone/rclone/issues/5604","id":998539531,"node_id":"I_kwDOAQ-n5M47hIEL","number":5604,"title":"rclone copy permissions and symbolic links","user":{"login":"javobalazs","id":14152413,"node_id":"MDQ6VXNlcjE0MTUyNDEz","avatar_url":"https://avatars.githubusercontent.com/u/14152413?v=4","gravatar_id":"","url":"https://api.github.com/users/javobalazs","html_url":"https://github.com/javobalazs","followers_url":"https://api.github.com/users/javobalazs/followers","following_url":"https://api.github.com/users/javobalazs/following{/other_user}","gists_url":"https://api.github.com/users/javobalazs/gists{/gist_id}","starred_url":"https://api.github.com/users/javobalazs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javobalazs/subscriptions","organizations_url":"https://api.github.com/users/javobalazs/orgs","repos_url":"https://api.github.com/users/javobalazs/repos","events_url":"https://api.github.com/users/javobalazs/events{/privacy}","received_events_url":"https://api.github.com/users/javobalazs/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399006,"node_id":"MDU6TGFiZWw4NjM5OTAwNg==","url":"https://api.github.com/repos/rclone/rclone/labels/duplicate","name":"duplicate","color":"cccccc","default":true,"description":null},{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":718218493,"node_id":"MDU6TGFiZWw3MTgyMTg0OTM=","url":"https://api.github.com/repos/rclone/rclone/labels/help%20wanted","name":"help wanted","color":"c2e0c6","default":true,"description":null},{"id":2507137776,"node_id":"MDU6TGFiZWwyNTA3MTM3Nzc2","url":"https://api.github.com/repos/rclone/rclone/labels/metadata","name":"metadata","color":"289ebf","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/13","html_url":"https://github.com/rclone/rclone/milestone/13","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/13/labels","id":1575401,"node_id":"MDk6TWlsZXN0b25lMTU3NTQwMQ==","number":13,"title":"Help Wanted","description":"Enhancements which might be useful, but currently aren't planned.\r\n\r\nAny help doing these much appreciated.","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":228,"closed_issues":302,"state":"open","created_at":"2016-02-10T17:44:20Z","updated_at":"2025-11-04T14:55:57Z","due_on":null,"closed_at":null},"comments":3,"created_at":"2021-09-16T19:08:12Z","updated_at":"2021-10-21T01:32:20Z","closed_at":"2021-10-21T01:32:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"#### What is your current rclone version (output from `rclone version`)?\r\n\r\n```bash\r\n# command\r\nrclone version\r\n# output\r\nrclone v1.53.3-DEV\r\n- os/arch: linux/amd64\r\n- go version: go1.15.4\r\n```\r\n\r\n#### What problem are you are trying to solve?\r\n\r\n(I've checked the issues)\r\nI recently used `rclone copy` during a migration from a linux system to another. Unfortunately I only noticed afterwards that file permissions had not been preserved. The target (and remote) was an SFTP link, capable of preserving the permissions. Actually, the user was the same (same name, uid, group, gid).\r\n\r\n#### How do you think rclone should be changed to solve that?\r\n\r\nWith a flag `--with-permissions`, that is only applicable (or only works) if the file system supports it (SFTP is okay). \r\n\r\nActually, a symbolic link creation flag may come handy in a similar way. With certain file systems you can create symlinks (like SFTP). As far as I know you can do that even if the symlink's target doesn't exist. So I propose a `--create-links` flag that tries to create the link if it's possible. It may fall back to the behavior of `--links` or simply fail if there's no file system support.\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5604/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":7007013791,"node_id":"SE_lADOAQ-n5M4PmyK_zwAAAAGhpouf","url":"https://api.github.com/repos/rclone/rclone/issues/events/7007013791","actor":{"login":"modelrockettier","id":2689079,"node_id":"MDQ6VXNlcjI2ODkwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2689079?v=4","gravatar_id":"","url":"https://api.github.com/users/modelrockettier","html_url":"https://github.com/modelrockettier","followers_url":"https://api.github.com/users/modelrockettier/followers","following_url":"https://api.github.com/users/modelrockettier/following{/other_user}","gists_url":"https://api.github.com/users/modelrockettier/gists{/gist_id}","starred_url":"https://api.github.com/users/modelrockettier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/modelrockettier/subscriptions","organizations_url":"https://api.github.com/users/modelrockettier/orgs","repos_url":"https://api.github.com/users/modelrockettier/repos","events_url":"https://api.github.com/users/modelrockettier/events{/privacy}","received_events_url":"https://api.github.com/users/modelrockettier/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-17T06:15:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1827332039","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-1827332039","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":1827332039,"node_id":"IC_kwDOAQ-n5M5s6t_H","user":{"login":"metadaddy","id":723517,"node_id":"MDQ6VXNlcjcyMzUxNw==","avatar_url":"https://avatars.githubusercontent.com/u/723517?v=4","gravatar_id":"","url":"https://api.github.com/users/metadaddy","html_url":"https://github.com/metadaddy","followers_url":"https://api.github.com/users/metadaddy/followers","following_url":"https://api.github.com/users/metadaddy/following{/other_user}","gists_url":"https://api.github.com/users/metadaddy/gists{/gist_id}","starred_url":"https://api.github.com/users/metadaddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metadaddy/subscriptions","organizations_url":"https://api.github.com/users/metadaddy/orgs","repos_url":"https://api.github.com/users/metadaddy/repos","events_url":"https://api.github.com/users/metadaddy/events{/privacy}","received_events_url":"https://api.github.com/users/metadaddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T08:11:14Z","updated_at":"2023-11-27T08:13:29Z","body":"I've been researching this a bit; if I can find time, I might have a stab at implementing something. For now, I'm documenting my findings here...\r\n\r\n@ncw macOS bundles a variant of rsync 2.6.9 that includes a patch that uses the `-E` option to copy extended attributes. When this functionality was later officially added to rsync, the options were changed so that `-E` became \"preserve executability\" and `-X` became \"preserve extended attributes\".\r\n\r\nThe convention on Mac OS X when copying files with extended attributes to filesystems that do not support them is to create a file that has the name of the original file prefixed by a \"._\" that contains the original file's extended attributes in [AppleDouble](https://web.archive.org/web/20180311140826if_/http://kaiser-edv.de/documents/AppleSingle_AppleDouble.pdf) file format.\r\n\r\nIt is possible to combine rclone with rsync to achieve what @vesper8 is looking for. You need `--noappledouble=false` to enable MacFUSE ('FUSE for macOS' now?) to support AppleDouble files and `--vfs-cache-mode=writes` since writing extended attributes to the AppleDouble file results in seek operations.\r\n\r\nFor example, I used:\r\n\r\n```\r\n% rclone mount b2remote:metadaddy-private ~/b2mount --noappledouble=false --vfs-cache-mode=writes\r\n```\r\n\r\nThen, in another terminal tab:\r\n\r\n```\r\n# The -l@ combination of options makes ls display extended attribute keys and sizes\r\n% ls -l@ ~/synctest\r\ntotal 2528\r\n-rw-r--r--@ 1 ppatterson  staff  288272 Jun  2 16:23 image1.png\r\n\tcom.apple.lastuseddate#PS\t    16 \r\n\tcom.apple.metadata:kMDItemIsScreenCapture\t    42 \r\n\tcom.apple.metadata:kMDItemScreenCaptureGlobalRect\t    76 \r\n\tcom.apple.metadata:kMDItemScreenCaptureType\t    49 \r\n-rw-r--r--@ 1 ppatterson  staff  328771 Jun  2 16:23 image2.png\r\n\tcom.apple.lastuseddate#PS\t    16 \r\n\tcom.apple.metadata:kMDItemIsScreenCapture\t    42 \r\n\tcom.apple.metadata:kMDItemScreenCaptureGlobalRect\t    76 \r\n\tcom.apple.metadata:kMDItemScreenCaptureType\t    49 \r\n-rw-r--r--@ 1 ppatterson  staff  305882 Jun  2 12:45 image3.png\r\n\tcom.apple.lastuseddate#PS\t    16 \r\n\tcom.apple.metadata:kMDItemIsScreenCapture\t    42 \r\n\tcom.apple.metadata:kMDItemScreenCaptureGlobalRect\t    76 \r\n\tcom.apple.metadata:kMDItemScreenCaptureType\t    49 \r\n-rw-r--r--@ 1 ppatterson  staff  364312 Jun  2 12:45 image4.png\r\n\tcom.apple.lastuseddate#PS\t    16 \r\n\tcom.apple.metadata:kMDItemIsScreenCapture\t    42 \r\n\tcom.apple.metadata:kMDItemScreenCaptureGlobalRect\t    76 \r\n\tcom.apple.metadata:kMDItemScreenCaptureType\t    49 \r\n% rsync -r -E synctest ~/b2mount\r\n```\r\n\r\nThis results in eight files being written to B2:\r\n\r\n```\r\n% rclone ls b2remote:metadaddy-private/synctest\r\n     4096 ._image1.png\r\n     4096 ._image2.png\r\n     4096 ._image3.png\r\n     4096 ._image4.png\r\n   288272 image1.png\r\n   328771 image2.png\r\n   305882 image3.png\r\n   364312 image4.png\r\n```\r\n\r\nLet's grab one and take a closer look:\r\n\r\n```\r\n% rclone copyto b2remote:metadaddy-private/synctest/._image1.png ._image1.png\r\n% ls -la\r\ntotal 8\r\ndrwxr-xr-x    3 ppatterson  staff     96 Nov 26 22:53 .\r\ndrwx------@ 743 ppatterson  staff  23776 Nov 26 22:53 ..\r\n-rw-r--r--    1 ppatterson  staff   4096 Nov 26 20:12 ._image1.png\r\n% file ._image1.png \r\n._image1.png: AppleDouble encoded Macintosh file\r\n% hexdump -C ._image1.png \r\n00000000  00 05 16 07 00 02 00 00  4d 61 63 20 4f 53 20 58  |........Mac OS X|\r\n00000010  20 20 20 20 20 20 20 20  00 02 00 00 00 09 00 00  |        ........|\r\n00000020  00 32 00 00 0e b0 00 00  00 02 00 00 0e e2 00 00  |.2..............|\r\n00000030  01 1e 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|\r\n00000040  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|\r\n00000050  00 00 00 00 41 54 54 52  00 00 00 05 00 00 0e e2  |....ATTR........|\r\n00000060  00 00 01 50 00 00 00 b7  00 00 00 00 00 00 00 00  |...P............|\r\n00000070  00 00 00 00 00 00 00 04  00 00 01 50 00 00 00 10  |...........P....|\r\n00000080  00 00 1a 63 6f 6d 2e 61  70 70 6c 65 2e 6c 61 73  |...com.apple.las|\r\n00000090  74 75 73 65 64 64 61 74  65 23 50 53 00 00 00 00  |tuseddate#PS....|\r\n000000a0  00 00 01 60 00 00 00 2a  00 00 2a 63 6f 6d 2e 61  |...`...*..*com.a|\r\n000000b0  70 70 6c 65 2e 6d 65 74  61 64 61 74 61 3a 6b 4d  |pple.metadata:kM|\r\n000000c0  44 49 74 65 6d 49 73 53  63 72 65 65 6e 43 61 70  |DItemIsScreenCap|\r\n000000d0  74 75 72 65 00 00 00 00  00 00 01 8a 00 00 00 4c  |ture...........L|\r\n000000e0  00 00 32 63 6f 6d 2e 61  70 70 6c 65 2e 6d 65 74  |..2com.apple.met|\r\n000000f0  61 64 61 74 61 3a 6b 4d  44 49 74 65 6d 53 63 72  |adata:kMDItemScr|\r\n00000100  65 65 6e 43 61 70 74 75  72 65 47 6c 6f 62 61 6c  |eenCaptureGlobal|\r\n00000110  52 65 63 74 00 00 00 00  00 00 01 d6 00 00 00 31  |Rect...........1|\r\n00000120  00 00 2c 63 6f 6d 2e 61  70 70 6c 65 2e 6d 65 74  |..,com.apple.met|\r\n00000130  61 64 61 74 61 3a 6b 4d  44 49 74 65 6d 53 63 72  |adata:kMDItemScr|\r\n00000140  65 65 6e 43 61 70 74 75  72 65 54 79 70 65 00 00  |eenCaptureType..|\r\n00000150  fa 79 7a 64 00 00 00 00  94 fc cd 1e 00 00 00 00  |.yzd............|\r\n00000160  62 70 6c 69 73 74 30 30  09 08 00 00 00 00 00 00  |bplist00........|\r\n00000170  01 01 00 00 00 00 00 00  00 01 00 00 00 00 00 00  |................|\r\n00000180  00 00 00 00 00 00 00 00  00 09 62 70 6c 69 73 74  |..........bplist|\r\n00000190  30 30 a4 01 01 02 03 23  00 00 00 00 00 00 00 00  |00.....#........|\r\n000001a0  23 40 9e 00 00 00 00 00  00 23 40 90 e0 00 00 00  |#@.......#@.....|\r\n000001b0  00 00 08 0d 16 1f 00 00  00 00 00 00 01 01 00 00  |................|\r\n000001c0  00 00 00 00 00 04 00 00  00 00 00 00 00 00 00 00  |................|\r\n000001d0  00 00 00 00 00 28 62 70  6c 69 73 74 30 30 57 64  |.....(bplist00Wd|\r\n000001e0  69 73 70 6c 61 79 08 00  00 00 00 00 00 01 01 00  |isplay..........|\r\n000001f0  00 00 00 00 00 00 01 00  00 00 00 00 00 00 00 00  |................|\r\n00000200  00 00 00 00 00 00 10 00  00 00 00 00 00 00 00 00  |................|\r\n00000210  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|\r\n*\r\n00000ee0  00 00 00 00 01 00 00 00  01 00 00 00 00 00 00 00  |................|\r\n00000ef0  00 1e 54 68 69 73 20 72  65 73 6f 75 72 63 65 20  |..This resource |\r\n00000f00  66 6f 72 6b 20 69 6e 74  65 6e 74 69 6f 6e 61 6c  |fork intentional|\r\n00000f10  6c 79 20 6c 65 66 74 20  62 6c 61 6e 6b 20 20 20  |ly left blank   |\r\n00000f20  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|\r\n*\r\n00000fe0  00 00 00 00 01 00 00 00  01 00 00 00 00 00 00 00  |................|\r\n00000ff0  00 1e 00 00 00 00 00 00  00 00 00 1c 00 1e ff ff  |................|\r\n00001000\r\n```\r\n\r\nThe next step is to figure out how the extended attributes that rsync reads from APFS on my local disk get transformed into the `._` prefixed AppleDouble-format file that lands in B2. Looking at the rsync code, it just seems to call [setxattr()](https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/setxattr.2.html). \r\n\r\nLooking at MacFuse, on macOS 10.5 and above, it seems to just hand the AppleDouble file (unless `--noappledouble` is `true`) off to rclone, so it seems like macOS itself is writing the AppleDouble file. On macOS 10.4 ('Tiger'), it looks like MacFuse actually writes the AppleDouble file.\r\n\r\nSo, putting it all together, it seems like rclone needs an option that enables it to read and write extended attributes via system calls when accessing macOS file systems that support them, and as AppleDouble files when accessing anything else.\r\n\r\nIt looks like the [copyfile()](https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man3/copyfile.3.html) library function's `COPYFILE_PACK` and `COPYFILE_UNPACK` flags should do most of the work for us. The [apfs](https://github.com/go-darwin/apfs) package provides a golang binding for copyfile().","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1827332039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"metadaddy","id":723517,"node_id":"MDQ6VXNlcjcyMzUxNw==","avatar_url":"https://avatars.githubusercontent.com/u/723517?v=4","gravatar_id":"","url":"https://api.github.com/users/metadaddy","html_url":"https://github.com/metadaddy","followers_url":"https://api.github.com/users/metadaddy/followers","following_url":"https://api.github.com/users/metadaddy/following{/other_user}","gists_url":"https://api.github.com/users/metadaddy/gists{/gist_id}","starred_url":"https://api.github.com/users/metadaddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metadaddy/subscriptions","organizations_url":"https://api.github.com/users/metadaddy/orgs","repos_url":"https://api.github.com/users/metadaddy/repos","events_url":"https://api.github.com/users/metadaddy/events{/privacy}","received_events_url":"https://api.github.com/users/metadaddy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11067622859,"node_id":"MEE_lADOAQ-n5M4PmyK_zwAAAAKTroXL","url":"https://api.github.com/repos/rclone/rclone/issues/events/11067622859","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-11-27T08:11:14Z","performed_via_github_app":null},{"id":11067622868,"node_id":"SE_lADOAQ-n5M4PmyK_zwAAAAKTroXU","url":"https://api.github.com/repos/rclone/rclone/issues/events/11067622868","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-11-27T08:11:14Z","performed_via_github_app":null},{"id":11067622884,"node_id":"MEE_lADOAQ-n5M4PmyK_zwAAAAKTroXk","url":"https://api.github.com/repos/rclone/rclone/issues/events/11067622884","actor":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-11-27T08:11:14Z","performed_via_github_app":null},{"id":11067622896,"node_id":"SE_lADOAQ-n5M4PmyK_zwAAAAKTroXw","url":"https://api.github.com/repos/rclone/rclone/issues/events/11067622896","actor":{"login":"vesper8","id":816028,"node_id":"MDQ6VXNlcjgxNjAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/816028?v=4","gravatar_id":"","url":"https://api.github.com/users/vesper8","html_url":"https://github.com/vesper8","followers_url":"https://api.github.com/users/vesper8/followers","following_url":"https://api.github.com/users/vesper8/following{/other_user}","gists_url":"https://api.github.com/users/vesper8/gists{/gist_id}","starred_url":"https://api.github.com/users/vesper8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesper8/subscriptions","organizations_url":"https://api.github.com/users/vesper8/orgs","repos_url":"https://api.github.com/users/vesper8/repos","events_url":"https://api.github.com/users/vesper8/events{/privacy}","received_events_url":"https://api.github.com/users/vesper8/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-11-27T08:11:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1827618754","html_url":"https://github.com/rclone/rclone/issues/1710#issuecomment-1827618754","issue_url":"https://api.github.com/repos/rclone/rclone/issues/1710","id":1827618754,"node_id":"IC_kwDOAQ-n5M5s7z_C","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T11:05:57Z","updated_at":"2023-11-27T11:05:57Z","body":"> So, putting it all together, it seems like rclone needs an option that enables it to read and write extended attributes via system calls when accessing macOS file systems that support them, and as AppleDouble files when accessing anything else.\r\n\r\nRclone does now have support for this with the `--metadata` flag. On the local backend this will read and write the xattr and this will be saved and restored in any backend that supports metadata (like s3).\r\n\r\nHowever... rclone only saves and restores xattrs starting with the \"user.\" tag at the moment\r\n\r\nhttps://github.com/rclone/rclone/blob/85f142a206f83d1d3b03e271ada6509ef6b8c39e/backend/local/xattr.go#L16\r\n\r\nSo if you wanted to experiment you could try setting that to `\"\"` and see if rclone can preserve xattr when copying local to local with `-M`.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/1827618754/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11359165444,"node_id":"REFE_lADOAQ-n5M4PmyK_zwAAAAKlDxwE","url":"https://api.github.com/repos/rclone/rclone/issues/events/11359165444","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8205b549b6208ea428bd3362f40a4d562410f9a9","commit_url":"https://api.github.com/repos/nielash/rclone/commits/8205b549b6208ea428bd3362f40a4d562410f9a9","created_at":"2023-12-30T01:21:43Z","performed_via_github_app":null},{"actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-30T01:29:57Z","updated_at":"2023-12-30T01:29:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/7534","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7534/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7534/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7534/events","html_url":"https://github.com/rclone/rclone/pull/7534","id":2060491861,"node_id":"PR_kwDOAQ-n5M5i9SJj","number":7534,"title":"local: add server-side copy with xattrs on macOS (part-fix #1710)","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":2464791788,"node_id":"MDU6TGFiZWwyNDY0NzkxNzg4","url":"https://api.github.com/repos/rclone/rclone/labels/OS:%20Mac","name":"OS: Mac","color":"d985dd","default":false,"description":""},{"id":2507137776,"node_id":"MDU6TGFiZWwyNTA3MTM3Nzc2","url":"https://api.github.com/repos/rclone/rclone/labels/metadata","name":"metadata","color":"289ebf","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/54","html_url":"https://github.com/rclone/rclone/milestone/54","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/54/labels","id":9909337,"node_id":"MI_kwDOAQ-n5M4AlzRZ","number":54,"title":"v1.66","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":5,"closed_issues":25,"state":"closed","created_at":"2023-09-11T16:50:18Z","updated_at":"2024-08-15T14:36:39Z","due_on":"2024-02-29T08:00:00Z","closed_at":"2024-03-10T12:33:48Z"},"comments":13,"created_at":"2023-12-30T01:29:56Z","updated_at":"2024-08-15T14:36:39Z","closed_at":"2024-08-15T14:36:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/7534","html_url":"https://github.com/rclone/rclone/pull/7534","diff_url":"https://github.com/rclone/rclone/pull/7534.diff","patch_url":"https://github.com/rclone/rclone/pull/7534.patch","merged_at":"2024-08-15T14:36:38Z"},"body":"#### What is the purpose of this change?\r\n\r\nBefore this change, macOS-specific metadata was not preserved by rclone, even for local-to-local transfers (it does not use the \"user.\" prefix, nor is Mac metadata limited to xattrs.) Additionally, rclone did not take advantage of APFS's native \"cloning\" functionality for fast and deduplicated transfers.\r\n\r\nAfter this change, local (on macOS only) supports \"server-side copy\" similarly to other remotes, and achieves this by using (when possible) macOS's native APFS \"cloning\", which is the same underlying mechanism deployed when a user duplicates a file via the Finder UI. This has several advantages over the previous behavior:\r\n\r\n- It is extremely fast (even large files can be cloned instantly)\r\n- It is very efficient in terms of storage, as it automatically deduplicates when possible (i.e. so that having two identical files does not consume more storage than having just one.) (The concept is similar to a \"hard link\", but subsequent modifications will not affect the original file.)\r\n- It preserves Mac-specific metadata to the maximum degree, including not only xattrs but also metadata not easily settable by other methods, including Finder and Spotlight params.\r\n\r\nWhen server-side \"clone\" is not available (for example, on non-APFS volumes), it falls back to server-side \"copy\" (still preserving metadata but using more disk storage.) It is only used when both remotes are local (and not wrapped by other remotes, such as crypt.) The behavior of local on non-mac systems is unchanged.\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\n- #1710 (addresses the local-to-local part only)\r\n\r\n#### Checklist\r\n\r\n- [x] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-new-feature-or-bug-fix).\r\n- [x] I have added tests for all changes in this PR if appropriate.\r\n- [x] I have added documentation for the changes if appropriate.\r\n- [x] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [x] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7534/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11359186316,"node_id":"REFE_lADOAQ-n5M4PmyK_zwAAAAKlD22M","url":"https://api.github.com/repos/rclone/rclone/issues/events/11359186316","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"105b455ee3a2520bf6b8512e38e028c7d6bea38b","commit_url":"https://api.github.com/repos/nielash/rclone/commits/105b455ee3a2520bf6b8512e38e028c7d6bea38b","created_at":"2023-12-30T01:38:10Z","performed_via_github_app":null},{"actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-30T01:48:11Z","updated_at":"2023-12-30T01:48:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/7535","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/7535/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/7535/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/7535/events","html_url":"https://github.com/rclone/rclone/pull/7535","id":2060496087,"node_id":"PR_kwDOAQ-n5M5i9S8u","number":7535,"title":"local: preserve macOS metadata on non-local remotes - fixes #1710","user":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":306062764,"node_id":"MDU6TGFiZWwzMDYwNjI3NjQ=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Drive","name":"Remote: Drive","color":"fbca04","default":false,"description":null},{"id":306063362,"node_id":"MDU6TGFiZWwzMDYwNjMzNjI=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Local%20FS","name":"Remote: Local FS","color":"fbca04","default":false,"description":""},{"id":2464791788,"node_id":"MDU6TGFiZWwyNDY0NzkxNzg4","url":"https://api.github.com/repos/rclone/rclone/labels/OS:%20Mac","name":"OS: Mac","color":"d985dd","default":false,"description":""},{"id":2507137776,"node_id":"MDU6TGFiZWwyNTA3MTM3Nzc2","url":"https://api.github.com/repos/rclone/rclone/labels/metadata","name":"metadata","color":"289ebf","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/54","html_url":"https://github.com/rclone/rclone/milestone/54","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/54/labels","id":9909337,"node_id":"MI_kwDOAQ-n5M4AlzRZ","number":54,"title":"v1.66","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":5,"closed_issues":25,"state":"closed","created_at":"2023-09-11T16:50:18Z","updated_at":"2024-08-15T14:36:39Z","due_on":"2024-02-29T08:00:00Z","closed_at":"2024-03-10T12:33:48Z"},"comments":10,"created_at":"2023-12-30T01:48:10Z","updated_at":"2025-10-27T15:56:47Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/7535","html_url":"https://github.com/rclone/rclone/pull/7535","diff_url":"https://github.com/rclone/rclone/pull/7535.diff","patch_url":"https://github.com/rclone/rclone/pull/7535.patch","merged_at":null},"body":"#### What is the purpose of this change?\r\n\r\nBefore this change, macOS-specific metadata was not preserved by rclone, even for local-to-local transfers (it does not use the \"user.\" prefix, nor is Mac metadata limited to xattrs.)\r\n\r\nAfter this change, macOS-specific metadata can be preserved by storing it as an rclone metadata value in \"AppleDouble\" format (only when the source is `local` on macOS and `--local-apple-double` is set). In the reverse direction (dest is macOS `local`) rclone will automatically \"unpack\" this metadata to its original form (for instance, as mac xattrs).\r\n\r\nNote that these values can sometimes exceed the length limitations imposed by some backends (such as Drive) on metadata values. For this reason, an additional `--local-metadata-max-length` flag has been added to allow skipping values that would otherwise error.\r\n\r\nUsing the \"AppleDouble\" format in this way has an advantage over using Go's xattr package, as AppleDouble is the native and idiomatic format for storing macOS metadata and can preserve not just xattrs but also metadata such as Finder and Spotlight params. It is also (arguably) preferable to rsync's approach, which requires a separate `._`prefixed sidecar for every file (hidden on macOS but often visible and messy on other remotes, and which also runs the risk of resource forks becoming separated from their data forks.)\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\n- #1710 \r\n\r\n#### Checklist\r\n\r\n- [x] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-new-feature-or-bug-fix).\r\n- [x] I have added tests for all changes in this PR if appropriate.\r\n- [x] I have added documentation for the changes if appropriate.\r\n- [x] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [x] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/7535/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/7535/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11359229537,"node_id":"COE_lADOAQ-n5M4PmyK_zwAAAAKlEBZh","url":"https://api.github.com/repos/rclone/rclone/issues/events/11359229537","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"connected","commit_id":null,"commit_url":null,"created_at":"2023-12-30T02:11:39Z","performed_via_github_app":null},{"id":11520450099,"node_id":"REFE_lADOAQ-n5M4PmyK_zwAAAAKurB4z","url":"https://api.github.com/repos/rclone/rclone/issues/events/11520450099","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"da7a3902848451f8cdef9dc949b428f4823ef275","commit_url":"https://api.github.com/repos/nielash/rclone/commits/da7a3902848451f8cdef9dc949b428f4823ef275","created_at":"2024-01-18T05:21:36Z","performed_via_github_app":null},{"id":11520469078,"node_id":"REFE_lADOAQ-n5M4PmyK_zwAAAAKurGhW","url":"https://api.github.com/repos/rclone/rclone/issues/events/11520469078","actor":{"login":"nielash","id":31582349,"node_id":"MDQ6VXNlcjMxNTgyMzQ5","avatar_url":"https://avatars.githubusercontent.com/u/31582349?v=4","gravatar_id":"","url":"https://api.github.com/users/nielash","html_url":"https://github.com/nielash","followers_url":"https://api.github.com/users/nielash/followers","following_url":"https://api.github.com/users/nielash/following{/other_user}","gists_url":"https://api.github.com/users/nielash/gists{/gist_id}","starred_url":"https://api.github.com/users/nielash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nielash/subscriptions","organizations_url":"https://api.github.com/users/nielash/orgs","repos_url":"https://api.github.com/users/nielash/repos","events_url":"https://api.github.com/users/nielash/events{/privacy}","received_events_url":"https://api.github.com/users/nielash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8c3ea8e45552b89ed82aa4b4757e3a22a09879e9","commit_url":"https://api.github.com/repos/nielash/rclone/commits/8c3ea8e45552b89ed82aa4b4757e3a22a09879e9","created_at":"2024-01-18T05:25:06Z","performed_via_github_app":null}]