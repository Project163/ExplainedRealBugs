[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374706759","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374706759","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374706759,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDcwNjc1OQ==","user":{"login":"remusb","id":5675944,"node_id":"MDQ6VXNlcjU2NzU5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5675944?v=4","gravatar_id":"","url":"https://api.github.com/users/remusb","html_url":"https://github.com/remusb","followers_url":"https://api.github.com/users/remusb/followers","following_url":"https://api.github.com/users/remusb/following{/other_user}","gists_url":"https://api.github.com/users/remusb/gists{/gist_id}","starred_url":"https://api.github.com/users/remusb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remusb/subscriptions","organizations_url":"https://api.github.com/users/remusb/orgs","repos_url":"https://api.github.com/users/remusb/repos","events_url":"https://api.github.com/users/remusb/events{/privacy}","received_events_url":"https://api.github.com/users/remusb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T18:26:09Z","updated_at":"2018-03-20T18:27:19Z","body":"Are you using cache? If yes and you're also using Plex, can you disable that feature and see if it does the same thing?\r\n\r\nIt will be enough to just remove the configs from the section and start again.\r\n\r\nLE: Even easier will be to run simply with `-v`.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374706759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"remusb","id":5675944,"node_id":"MDQ6VXNlcjU2NzU5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5675944?v=4","gravatar_id":"","url":"https://api.github.com/users/remusb","html_url":"https://github.com/remusb","followers_url":"https://api.github.com/users/remusb/followers","following_url":"https://api.github.com/users/remusb/following{/other_user}","gists_url":"https://api.github.com/users/remusb/gists{/gist_id}","starred_url":"https://api.github.com/users/remusb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remusb/subscriptions","organizations_url":"https://api.github.com/users/remusb/orgs","repos_url":"https://api.github.com/users/remusb/repos","events_url":"https://api.github.com/users/remusb/events{/privacy}","received_events_url":"https://api.github.com/users/remusb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374727551","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374727551","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374727551,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDcyNzU1MQ==","user":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T19:30:46Z","updated_at":"2018-03-20T19:30:46Z","body":"no I'm not using cache and it is running with -v normally.  The older version didn't use cache as that was not implemented yet I dont think.  The new one is using the same remotes and setup as the old.  The only change is the executable upgrade.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374727551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374731697","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374731697","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374731697,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDczMTY5Nw==","user":{"login":"remusb","id":5675944,"node_id":"MDQ6VXNlcjU2NzU5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5675944?v=4","gravatar_id":"","url":"https://api.github.com/users/remusb","html_url":"https://github.com/remusb","followers_url":"https://api.github.com/users/remusb/followers","following_url":"https://api.github.com/users/remusb/following{/other_user}","gists_url":"https://api.github.com/users/remusb/gists{/gist_id}","starred_url":"https://api.github.com/users/remusb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remusb/subscriptions","organizations_url":"https://api.github.com/users/remusb/orgs","repos_url":"https://api.github.com/users/remusb/repos","events_url":"https://api.github.com/users/remusb/events{/privacy}","received_events_url":"https://api.github.com/users/remusb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T19:44:25Z","updated_at":"2018-03-20T19:45:51Z","body":"Hmm, ok. There was another report in the forum and that person uses cache. I was trying to establish a corellation but it seems to be coming from somewhere else.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374731697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"remusb","id":5675944,"node_id":"MDQ6VXNlcjU2NzU5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5675944?v=4","gravatar_id":"","url":"https://api.github.com/users/remusb","html_url":"https://github.com/remusb","followers_url":"https://api.github.com/users/remusb/followers","following_url":"https://api.github.com/users/remusb/following{/other_user}","gists_url":"https://api.github.com/users/remusb/gists{/gist_id}","starred_url":"https://api.github.com/users/remusb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remusb/subscriptions","organizations_url":"https://api.github.com/users/remusb/orgs","repos_url":"https://api.github.com/users/remusb/repos","events_url":"https://api.github.com/users/remusb/events{/privacy}","received_events_url":"https://api.github.com/users/remusb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374734381","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374734381","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374734381,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDczNDM4MQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T19:52:48Z","updated_at":"2018-03-20T19:52:48Z","body":"I'd like to replicate this if possible.  Can you describe the activity that causes the problem more?\r\n\r\nOr maybe you've got a script I could run?\r\n\r\nWhich provider are you using?  And are you using crypt too?\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374734381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1531840078,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1MzE4NDAwNzg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1531840078","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-03-20T19:52:57Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":1531840194,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE1MzE4NDAxOTQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1531840194","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-03-20T19:53:00Z","milestone":{"title":"v1.41"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374740153","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374740153","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374740153,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc0MDE1Mw==","user":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T20:11:59Z","updated_at":"2018-03-20T20:12:40Z","body":"So the batch script is actually just a set of rclone commands to sync stuff up against the mount points.  \r\n\r\nSETUP:\r\nI have a local mount point called /data/Media1\r\nI have the rclone mounted on /data/Media2\r\n\r\nThis is my mount:\r\nI'm using the following mount:\r\n```\r\nexport RCLONE_CONFIG=\"/home/robert/.rclone.conf\"\r\nexport RCLONE_BUFFER_SIZE=0M\r\nexport RCLONE_RETRIES=5\r\nexport RCLONE_STATS=0\r\nexport RCLONE_TIMEOUT=10m\r\nexport RCLONE_LOG_LEVEL=INFO\r\nexport RCLONE_DRIVE_USE_TRASH=false\r\n/usr/sbin/rclone -vv --log-file /data/log/rmount-gs.log \r\nmount robgs-cryptp:Media /data/Media2\r\n--allow-other \r\n--default-permissions \r\n--gid $gid --uid $uid \r\n--max-read-ahead 1024k \r\n--buffer-size 50M \r\n--dir-cache-time=72h \r\n--umask $UMASK 2>&1 > /data/log/debug &\r\n```\r\n\r\nBATCH:\r\nThe batch script is simply copying new data from one to the other using this among other commands. But this is where most of hte activity starts and where the OOM starts to happen:\r\n```\r\nexport RCLONE_STATS=5m\r\nexport RCLONE_CONFIG=/home/robert/.rclone.conf\r\nexport RCLONE_ONE_FILE_SYSTEM=true\r\nexport RCLONE_RETRIES=10\r\nexport RCLONE_BWLIMIT=\"07:00,5M 23:00,10M\"\r\nexport RCLONE_TRANSFERS=8\r\nexport RCLONE_CHECKERS=16\r\nexport RCLONE_SKIP_LINKS=true\r\nexport RCLONE_DRIVE_USE_TRASH=false\r\nrclone \\\r\n   -v \\\r\n   --modify-window 1ms \\\r\n   --exclude=**nfo \\\r\n copy /data/Media1 /data/Media2 \r\n```\r\n\r\n\r\nI'm using google as a provider and it is using crypt as well.  Media2 is simply synced with Media1 but I don't delete so it becomes a superset of what is copied to Media1.  New files get put in Media1 and then replicated via this process.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374740153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374745776","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374745776","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374745776,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc0NTc3Ng==","user":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T20:30:17Z","updated_at":"2018-03-20T20:30:37Z","body":"I am experiencing this too, only noticed as my IOWAIT shot up as I hit the swap and rclone pages were being pushed to the disk. \r\nAs to replication, can't seem to replicate it other than mount the remote with crypt/cache and try and play media on plex, after about 5 mins it thrashes the disk as memory shoots up from 200MB to the full 2GB on the VPS.\r\n\r\nThis wasn't the behaviour in the later betas of 1.39, anything changed in that respect?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374745776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374755748","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374755748","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374755748,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc1NTc0OA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:03:09Z","updated_at":"2018-03-20T21:03:09Z","body":"I managed to replicate this...\r\n\r\nFirst I made a directory with 1000 files in using\r\n\r\n    make_test_files -max-size 1000000 test-files\r\n\r\n(this is one of the rclone tools)\r\n\r\nI then mounted up\r\n\r\n    rclone mount /tmp/test1 /mnt/tmp/\r\n\r\nand ran this little script to copy the files in and out of the mount\r\n\r\n```\r\n#!/bin/bash\r\n\r\nfor i in `seq 100`; do\r\n    echo \"round $i\"\r\n    rclone -v move /tmp/test-files/ /mnt/tmp/test-files\r\n    rclone -v move /mnt/tmp/test-files /tmp/test-files/\r\n    echo \"waiting for 10s... (round $i)\"\r\n    sleep 10s\r\ndone\r\n```\r\n\r\nv1.39 uses a pretty constant 4MB, v1.40 goes up and up!\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374755748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374756433","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374756433","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374756433,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc1NjQzMw==","user":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:05:35Z","updated_at":"2018-03-20T21:07:27Z","body":"https://i.imgur.com/Lvm01QB.png\r\nGraph of when I replicate your steps, looks like a memory leak alright. Once RAM is exhausted it's just 100% IOWAIT stalled as it's trying to use swap.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374756433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374759168","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374759168","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374759168,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc1OTE2OA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:14:51Z","updated_at":"2018-03-20T21:19:25Z","body":"OK here is the pprof memory usage - rclone was at about 2GB RSS when I took this.\r\n\r\nSo looks like it might be a bug in the fuse library... Though I'm not 100% sure about that.\r\n\r\n![profile001](https://user-images.githubusercontent.com/536803/37683177-9b576a86-2c83-11e8-9155-ef1fbc88962b.png)\r\n\r\n```\r\n(pprof) list allocMessage\r\nTotal: 1.83GB\r\nROUTINE ======================== github.com/ncw/rclone/vendor/bazil.org/fuse.allocMessage in /home/ncw/go/src/github.com/ncw/rclone/vendor/bazil.org/fuse/fuse.go\r\n    1.76GB     1.76GB (flat, cum) 96.03% of Total\r\n         .          .    419:var reqPool = sync.Pool{\r\n         .          .    420:\tNew: allocMessage,\r\n         .          .    421:}\r\n         .          .    422:\r\n         .          .    423:func allocMessage() interface{} {\r\n    1.76GB     1.76GB    424:\tm := &message{buf: make([]byte, bufSize)}\r\n         .          .    425:\tm.hdr = (*inHeader)(unsafe.Pointer(&m.buf[0]))\r\n         .          .    426:\treturn m\r\n         .          .    427:}\r\n         .          .    428:\r\n         .          .    429:func getMessage(c *Conn) *message {\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374759168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374761503","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374761503","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374761503,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc2MTUwMw==","user":{"login":"remusb","id":5675944,"node_id":"MDQ6VXNlcjU2NzU5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5675944?v=4","gravatar_id":"","url":"https://api.github.com/users/remusb","html_url":"https://github.com/remusb","followers_url":"https://api.github.com/users/remusb/followers","following_url":"https://api.github.com/users/remusb/following{/other_user}","gists_url":"https://api.github.com/users/remusb/gists{/gist_id}","starred_url":"https://api.github.com/users/remusb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remusb/subscriptions","organizations_url":"https://api.github.com/users/remusb/orgs","repos_url":"https://api.github.com/users/remusb/repos","events_url":"https://api.github.com/users/remusb/events{/privacy}","received_events_url":"https://api.github.com/users/remusb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:22:56Z","updated_at":"2018-03-20T21:23:48Z","body":"Was it updated just before the release? It's a bit weird no one noticed this in the last betas.\r\n\r\nA simple list of the vendor shows that it wasn't.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374761503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"remusb","id":5675944,"node_id":"MDQ6VXNlcjU2NzU5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5675944?v=4","gravatar_id":"","url":"https://api.github.com/users/remusb","html_url":"https://github.com/remusb","followers_url":"https://api.github.com/users/remusb/followers","following_url":"https://api.github.com/users/remusb/following{/other_user}","gists_url":"https://api.github.com/users/remusb/gists{/gist_id}","starred_url":"https://api.github.com/users/remusb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remusb/subscriptions","organizations_url":"https://api.github.com/users/remusb/orgs","repos_url":"https://api.github.com/users/remusb/repos","events_url":"https://api.github.com/users/remusb/events{/privacy}","received_events_url":"https://api.github.com/users/remusb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374761814","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374761814","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374761814,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc2MTgxNA==","user":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:24:05Z","updated_at":"2018-03-20T21:24:05Z","body":"I have this issue on 1.39 though.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374761814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374761899","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374761899","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374761899,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc2MTg5OQ==","user":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:24:22Z","updated_at":"2018-03-20T21:24:22Z","body":"rclone v1.39-211-g572ee5ecÎ²","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374761899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374769500","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374769500","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374769500,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc2OTUwMA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:51:12Z","updated_at":"2018-03-20T21:51:12Z","body":"I used the magic of git bisect to narrow it down to this commit fc32fee4add93e7a3bda180c7c1088f93c759d13\r\n\r\n```\r\ncommit fc32fee4add93e7a3bda180c7c1088f93c759d13\r\nAuthor: Nick Craig-Wood <nick@craig-wood.com>\r\nDate:   Fri Mar 2 16:39:42 2018 +0000\r\n\r\n    mount, cmount: add --attr-timeout to control attribute caching in kernel\r\n    \r\n    This flag allows the attribute caching in the kernel to be controlled.\r\n    The default is 0s - no caching - which is recommended for filesystems\r\n    which can change outside the control of the kernel.\r\n    \r\n    Previously this was at the default meaning it was 60s for mount and 1s\r\n    for cmount.  This showed strange effects when files changed on the\r\n    remote not via the kernel.  For instance Caddy would serve corrupted\r\n    files for a while when serving from an rclone mount when a file\r\n    changed on the remote.\r\n```\r\n\r\nWhich is both good and bad.\r\n\r\nGood because there is a workaround `--attr-timeout 1s`, but bad because this is the [second bug I've bisected to the same commit today](https://forum.rclone.org/t/rclone-1-39-vs-1-40-mount-issue/5112/4)\r\n\r\nI tried `--attr-timeout 1ms` and that still leaked a bit of memory, whereas `--attr-timeout 1s` seems OK.\r\n\r\nI suspect this is a bug in the fuse library as `rclone cmount` (which is based off libfuse) doesn't show the same behaviour - it works fine with `--attr-timeout 0`.\r\n\r\nI'll report a bug upstream in a moment...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374769500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374770132","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374770132","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374770132,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc3MDEzMg==","user":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:53:29Z","updated_at":"2018-03-20T21:53:29Z","body":"I've not seen cmount mentioned before, what's the difference?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374770132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374770666","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374770666","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374770666,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc3MDY2Ng==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:55:30Z","updated_at":"2018-03-20T21:55:30Z","body":"cmount is a libfuse based mount - it works just the same.  It isn't normally compiled in for linux as it requires cgo which would require a cross compile environment for all the OSes.  Build it in with `go build -tags cmount`.  It provides the mount command on Windows.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374770666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T22:01:15Z","updated_at":"2018-03-20T22:01:15Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazil/fuse/issues/196","repository_url":"https://api.github.com/repos/bazil/fuse","labels_url":"https://api.github.com/repos/bazil/fuse/issues/196/labels{/name}","comments_url":"https://api.github.com/repos/bazil/fuse/issues/196/comments","events_url":"https://api.github.com/repos/bazil/fuse/issues/196/events","html_url":"https://github.com/bazil/fuse/issues/196","id":307054765,"node_id":"MDU6SXNzdWUzMDcwNTQ3NjU=","number":196,"title":"Memory leak when Attribute.Valid is set to 0","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":122191064,"node_id":"MDU6TGFiZWwxMjIxOTEwNjQ=","url":"https://api.github.com/repos/bazil/fuse/labels/performance","name":"performance","color":"c7def8","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-20T22:01:15Z","updated_at":"2020-04-15T05:30:26Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":9156559,"node_id":"MDEwOlJlcG9zaXRvcnk5MTU2NTU5","name":"fuse","full_name":"bazil/fuse","private":false,"owner":{"login":"bazil","id":3642252,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM2NDIyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3642252?v=4","gravatar_id":"","url":"https://api.github.com/users/bazil","html_url":"https://github.com/bazil","followers_url":"https://api.github.com/users/bazil/followers","following_url":"https://api.github.com/users/bazil/following{/other_user}","gists_url":"https://api.github.com/users/bazil/gists{/gist_id}","starred_url":"https://api.github.com/users/bazil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazil/subscriptions","organizations_url":"https://api.github.com/users/bazil/orgs","repos_url":"https://api.github.com/users/bazil/repos","events_url":"https://api.github.com/users/bazil/events{/privacy}","received_events_url":"https://api.github.com/users/bazil/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazil/fuse","description":"FUSE library for Go.â  go get bazil.org/fuse   â","fork":false,"url":"https://api.github.com/repos/bazil/fuse","forks_url":"https://api.github.com/repos/bazil/fuse/forks","keys_url":"https://api.github.com/repos/bazil/fuse/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazil/fuse/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazil/fuse/teams","hooks_url":"https://api.github.com/repos/bazil/fuse/hooks","issue_events_url":"https://api.github.com/repos/bazil/fuse/issues/events{/number}","events_url":"https://api.github.com/repos/bazil/fuse/events","assignees_url":"https://api.github.com/repos/bazil/fuse/assignees{/user}","branches_url":"https://api.github.com/repos/bazil/fuse/branches{/branch}","tags_url":"https://api.github.com/repos/bazil/fuse/tags","blobs_url":"https://api.github.com/repos/bazil/fuse/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazil/fuse/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazil/fuse/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazil/fuse/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazil/fuse/statuses/{sha}","languages_url":"https://api.github.com/repos/bazil/fuse/languages","stargazers_url":"https://api.github.com/repos/bazil/fuse/stargazers","contributors_url":"https://api.github.com/repos/bazil/fuse/contributors","subscribers_url":"https://api.github.com/repos/bazil/fuse/subscribers","subscription_url":"https://api.github.com/repos/bazil/fuse/subscription","commits_url":"https://api.github.com/repos/bazil/fuse/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazil/fuse/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazil/fuse/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazil/fuse/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazil/fuse/contents/{+path}","compare_url":"https://api.github.com/repos/bazil/fuse/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazil/fuse/merges","archive_url":"https://api.github.com/repos/bazil/fuse/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazil/fuse/downloads","issues_url":"https://api.github.com/repos/bazil/fuse/issues{/number}","pulls_url":"https://api.github.com/repos/bazil/fuse/pulls{/number}","milestones_url":"https://api.github.com/repos/bazil/fuse/milestones{/number}","notifications_url":"https://api.github.com/repos/bazil/fuse/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazil/fuse/labels{/name}","releases_url":"https://api.github.com/repos/bazil/fuse/releases{/id}","deployments_url":"https://api.github.com/repos/bazil/fuse/deployments","created_at":"2013-04-01T21:32:37Z","updated_at":"2025-11-01T20:56:32Z","pushed_at":"2023-12-20T08:43:43Z","git_url":"git://github.com/bazil/fuse.git","ssh_url":"git@github.com:bazil/fuse.git","clone_url":"https://github.com/bazil/fuse.git","svn_url":"https://github.com/bazil/fuse","homepage":"http://bazil.org/fuse","size":1142,"stargazers_count":1700,"watchers_count":1700,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":280,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":62,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":280,"open_issues":62,"watchers":1700,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"In rclone recently I decided to [set the attribute caching time to 0s](https://github.com/ncw/rclone/commit/fc32fee4add93e7a3bda180c7c1088f93c759d13).\r\n\r\nThis stopped a number of file system oddities I was seeing.\r\n\r\nHowever it seems to have provoked a possible bug in this library.  Here is the background: https://github.com/ncw/rclone/issues/2157\r\n\r\nThe reason why I think it is the library is that if I set the attribute caching to non-zero the memory leak disappears, and the pprof is quite suggestive:\r\n\r\n![profile001](https://user-images.githubusercontent.com/536803/37684993-c98c6108-2c89-11e8-9231-bcba649fdb7a.png)\r\n\r\n```\r\n(pprof) list allocMessage\r\nTotal: 1.83GB\r\nROUTINE ======================== github.com/ncw/rclone/vendor/bazil.org/fuse.allocMessage in /home/ncw/go/src/github.com/ncw/rclone/vendor/bazil.org/fuse/fuse.go\r\n    1.76GB     1.76GB (flat, cum) 96.03% of Total\r\n         .          .    419:var reqPool = sync.Pool{\r\n         .          .    420:\tNew: allocMessage,\r\n         .          .    421:}\r\n         .          .    422:\r\n         .          .    423:func allocMessage() interface{} {\r\n    1.76GB     1.76GB    424:\tm := &message{buf: make([]byte, bufSize)}\r\n         .          .    425:\tm.hdr = (*inHeader)(unsafe.Pointer(&m.buf[0]))\r\n         .          .    426:\treturn m\r\n         .          .    427:}\r\n         .          .    428:\r\n         .          .    429:func getMessage(c *Conn) *message {\r\n```\r\n\r\nAny thoughts?\r\n\r\nIt setting attribute caching to zero a really bad idea?","reactions":{"url":"https://api.github.com/repos/bazil/fuse/issues/196/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazil/fuse/issues/196/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374772295","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374772295","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374772295,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc3MjI5NQ==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T22:01:52Z","updated_at":"2018-03-20T22:01:52Z","body":"Upstream bug report: https://github.com/bazil/fuse/issues/196","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374772295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374778299","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374778299","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374778299,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc3ODI5OQ==","user":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T22:26:06Z","updated_at":"2018-03-20T22:26:06Z","body":"Are we likely to run into any issues at 1s, especially with vfs caching enabled and the cache layer?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374778299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374954245","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374954245","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374954245,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDk1NDI0NQ==","user":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T14:22:46Z","updated_at":"2018-03-21T14:33:14Z","body":"I haven't had a OOM termination or the memory usage since Ive added --attr-timeout 1s\r\n\r\n@ncw Can you tell me what that can negatively affect running with that timeout?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374954245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1533329862,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUzMzMyOTg2Mg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1533329862","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-21T14:23:32Z","performed_via_github_app":null},{"id":1533329863,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1MzMzMjk4NjM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1533329863","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-21T14:23:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374966573","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374966573","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374966573,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDk2NjU3Mw==","user":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T14:56:02Z","updated_at":"2018-03-21T14:56:02Z","body":"I imagine it's just that it'll mean for a second at any given time there's a chance data on the remote will be out of sync to locally and thus streaming the file may go awry. Least that's how I read it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374966573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374967623","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-374967623","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":374967623,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDk2NzYyMw==","user":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T14:58:38Z","updated_at":"2018-03-21T14:58:38Z","body":"I'll also enable cache and make sure its stable.  I tried this before and ran into the same issue before reverting to non-cached again.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/374967623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/375231290","html_url":"https://github.com/rclone/rclone/issues/2157#issuecomment-375231290","issue_url":"https://api.github.com/repos/rclone/rclone/issues/2157","id":375231290,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTIzMTI5MA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T09:25:34Z","updated_at":"2018-03-22T09:25:34Z","body":"@daniel-loader wrote:\r\n> Are we likely to run into any issues at 1s, especially with vfs caching enabled and the cache layer?\r\n\r\nProbably not.  For previous rclone's the value was 60s (or 1s on Windows).\r\n\r\nWhat it means is that if you upload a new file not via the mount then there is a 1s window of opportunity for the kernel to be caching stale data.  In practice what this means is that the kernel gets the length of the file wrong and you either get a truncated file or a file with corruption on the end.\r\n\r\n1s is quite a small window and the kernel would have to be caching the inode for it to be a problem, so I think you are very unlikely to see it.  In fact I didn't have any reports of problems with it at 60s, though people may not have realised there was a problem as retrying will have fixed it.\r\n\r\n@calisro Assuming this fixes your problem, I think I'll set the default back to 1s.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/375231290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1535100296,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUzNTEwMDI5Ng==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1535100296","actor":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-22T09:25:34Z","performed_via_github_app":null},{"id":1535100299,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1MzUxMDAyOTk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1535100299","actor":{"login":"danielloader","id":933423,"node_id":"MDQ6VXNlcjkzMzQyMw==","avatar_url":"https://avatars.githubusercontent.com/u/933423?v=4","gravatar_id":"","url":"https://api.github.com/users/danielloader","html_url":"https://github.com/danielloader","followers_url":"https://api.github.com/users/danielloader/followers","following_url":"https://api.github.com/users/danielloader/following{/other_user}","gists_url":"https://api.github.com/users/danielloader/gists{/gist_id}","starred_url":"https://api.github.com/users/danielloader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielloader/subscriptions","organizations_url":"https://api.github.com/users/danielloader/orgs","repos_url":"https://api.github.com/users/danielloader/repos","events_url":"https://api.github.com/users/danielloader/events{/privacy}","received_events_url":"https://api.github.com/users/danielloader/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-22T09:25:34Z","performed_via_github_app":null},{"id":1535100301,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUzNTEwMDMwMQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/1535100301","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-22T09:25:34Z","performed_via_github_app":null},{"id":1535100303,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1MzUxMDAzMDM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/1535100303","actor":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-22T09:25:34Z","performed_via_github_app":null}]