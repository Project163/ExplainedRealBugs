{"url":"https://api.github.com/repos/rclone/rclone/issues/1467","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/1467/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/1467/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/1467/events","html_url":"https://github.com/rclone/rclone/issues/1467","id":233680210,"node_id":"MDU6SXNzdWUyMzM2ODAyMTA=","number":1467,"title":".rclone.conf becoming owned by a different user with different permissions","user":{"login":"calisro","id":5018276,"node_id":"MDQ6VXNlcjUwMTgyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5018276?v=4","gravatar_id":"","url":"https://api.github.com/users/calisro","html_url":"https://github.com/calisro","followers_url":"https://api.github.com/users/calisro/followers","following_url":"https://api.github.com/users/calisro/following{/other_user}","gists_url":"https://api.github.com/users/calisro/gists{/gist_id}","starred_url":"https://api.github.com/users/calisro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calisro/subscriptions","organizations_url":"https://api.github.com/users/calisro/orgs","repos_url":"https://api.github.com/users/calisro/repos","events_url":"https://api.github.com/users/calisro/events{/privacy}","received_events_url":"https://api.github.com/users/calisro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2017-06-05T19:07:03Z","updated_at":"2017-06-25T07:05:41Z","closed_at":"2017-06-25T07:05:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Somewhere between beta.v1.36-49-g5135ff7β  and v1.36-158-ga5cfdfd2β something has changed in the way the .rclone.conf file is being saved to disk.  In my setup I have rclone mounts running as root.  I also use rclone scripted as my non-root user to do some activities.\r\n\r\nI have found that the .rclone.conf file is getting replaced (probably by the mounts running as root) and changing the ownership to root.  It shoudn't be root.  \r\n\r\nIf I change it back to my user, after some time it changes back to root.  This breaks other processes I have running on the box that require access to that file as it is unreadable.  \r\n\r\nI would guess it is this commit that introduced the problem.\r\n\r\nhttps://github.com/ncw/rclone/commit/9cede6b372002a739cca8d5db589c61c6d229bba\r\n\r\nhttps://github.com/ncw/rclone/issues/1287\r\n\r\nIt looks like a temp config file is being created to mitigate some risk on blowing up the config file.  When that is done, it should be creating that new config with exactly the same permissions, ownership, and even ACLs.\r\n\r\n\r\n","closed_by":{"login":"breunigs","id":307954,"node_id":"MDQ6VXNlcjMwNzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/307954?v=4","gravatar_id":"","url":"https://api.github.com/users/breunigs","html_url":"https://github.com/breunigs","followers_url":"https://api.github.com/users/breunigs/followers","following_url":"https://api.github.com/users/breunigs/following{/other_user}","gists_url":"https://api.github.com/users/breunigs/gists{/gist_id}","starred_url":"https://api.github.com/users/breunigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breunigs/subscriptions","organizations_url":"https://api.github.com/users/breunigs/orgs","repos_url":"https://api.github.com/users/breunigs/repos","events_url":"https://api.github.com/users/breunigs/events{/privacy}","received_events_url":"https://api.github.com/users/breunigs/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/1467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/1467/timeline","performed_via_github_app":null,"state_reason":"completed"}