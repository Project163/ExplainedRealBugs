[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/884051930","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-884051930","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":884051930,"node_id":"IC_kwDOAQ-n5M40sY_a","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T09:47:29Z","updated_at":"2021-07-21T09:47:29Z","body":"Can you try this with the just released v1.56.0 please? I think we may have fixed this already","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/884051930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5049219512,"node_id":"MDEyOkxhYmVsZWRFdmVudDUwNDkyMTk1MTI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5049219512","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-07-21T09:47:40Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":5049219513,"node_id":"MDEyOkxhYmVsZWRFdmVudDUwNDkyMTk1MTM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5049219513","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-07-21T09:47:40Z","label":{"name":"Remote: S3","color":"fbca04"},"performed_via_github_app":null},{"id":5049219813,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDUwNDkyMTk4MTM=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5049219813","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-07-21T09:47:43Z","milestone":{"title":"v1.57"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/884304546","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-884304546","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":884304546,"node_id":"IC_kwDOAQ-n5M40tWqi","user":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T16:01:15Z","updated_at":"2021-07-21T16:01:15Z","body":"@ncw After upgrading to latest version, getting different error as below for same rclone command. \r\n\r\n`aws s3 ls s3://test-logs/2021-07-13/ --profile test-profile-1` (Works !)\r\n`rclone ls s3://test-logs/2021-07-13/ --s3-profile test-profile-1` (Fails !!!)\r\n\r\n```\r\n2021/07/21 11:56:44 DEBUG : rclone: Version \"v1.56.0\" starting with parameters [\"rclone\" \"ls\" \"s3://test-logs/2021-07-13/\" \"--s3-profile\" \"test-profile-1\" \"-vv\"]\r\n2021/07/21 11:56:44 DEBUG : Creating backend with remote \"s3://test-logs/2021-07-13/\"\r\n2021/07/21 11:56:44 DEBUG : Using config file from \"/home/ec2-user/.config/rclone/rclone.conf\"\r\n2021/07/21 11:56:44 DEBUG : s3: detected overridden config - adding \"{jb-DA}\" suffix to name\r\n2021/07/21 11:56:44 DEBUG : fs cache: renaming cache item \"s3://test-logs/2021-07-13/\" to be canonical \"s3{jb-DA}:test-logs/2021-07-13/\"\r\n2021/07/21 11:56:50 DEBUG : 4 go routines active\r\n2021/07/21 11:56:50 Failed to ls: NoCredentialProviders: no valid providers in chain. Deprecated.\r\n        For verbose messaging see aws.Config.CredentialsChainVerboseErrors\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/884304546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5051193532,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTA1MTE5MzUzMg==","url":"https://api.github.com/repos/rclone/rclone/issues/events/5051193532","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-07-21T16:01:16Z","performed_via_github_app":null},{"id":5051193534,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUwNTExOTM1MzQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5051193534","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-07-21T16:01:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/887577703","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-887577703","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":887577703,"node_id":"IC_kwDOAQ-n5M4051xn","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T14:49:30Z","updated_at":"2021-07-27T14:49:30Z","body":"The profiles are definitely working, I tested that locally\r\n\r\n    rclone lsf :s3,env_auth,profile=test:\r\n\r\nSo it must be the arn role as you suggested.\r\n\r\nThat is parsed by the AWS SDK so either there is a bug in that (possible) or rclone isn't calling the right bits of the SDK (also possible).\r\n\r\nI suspect that it was probably this change that broke it for you e618ea83dd3e539b53d2e60b49336e27347b56f8\r\n\r\nCan you verify that?\r\n\r\nI'm afraid I'm out of my depth now with AWS authentication so I really need some help here!\r\n\r\nThanks\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/887577703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T16:26:01Z","updated_at":"2021-07-27T16:26:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/5414","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5414/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5414/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5414/events","html_url":"https://github.com/rclone/rclone/issues/5414","id":922988421,"node_id":"MDU6SXNzdWU5MjI5ODg0MjE=","number":5414,"title":"cannot use AWS roles to list/copy data from S3 buckets Using a k8s container","user":{"login":"jonjesse","id":36024721,"node_id":"MDQ6VXNlcjM2MDI0NzIx","avatar_url":"https://avatars.githubusercontent.com/u/36024721?v=4","gravatar_id":"","url":"https://api.github.com/users/jonjesse","html_url":"https://github.com/jonjesse","followers_url":"https://api.github.com/users/jonjesse/followers","following_url":"https://api.github.com/users/jonjesse/following{/other_user}","gists_url":"https://api.github.com/users/jonjesse/gists{/gist_id}","starred_url":"https://api.github.com/users/jonjesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonjesse/subscriptions","organizations_url":"https://api.github.com/users/jonjesse/orgs","repos_url":"https://api.github.com/users/jonjesse/repos","events_url":"https://api.github.com/users/jonjesse/events{/privacy}","received_events_url":"https://api.github.com/users/jonjesse/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399009,"node_id":"MDU6TGFiZWw4NjM5OTAwOQ==","url":"https://api.github.com/repos/rclone/rclone/labels/question","name":"question","color":"a07898","default":true,"description":""},{"id":314138213,"node_id":"MDU6TGFiZWwzMTQxMzgyMTM=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20S3","name":"Remote: S3","color":"fbca04","default":false,"description":null},{"id":1891823079,"node_id":"MDU6TGFiZWwxODkxODIzMDc5","url":"https://api.github.com/repos/rclone/rclone/labels/waiting%20for%20reply...","name":"waiting for reply...","color":"ef0093","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"jonjesse","id":36024721,"node_id":"MDQ6VXNlcjM2MDI0NzIx","avatar_url":"https://avatars.githubusercontent.com/u/36024721?v=4","gravatar_id":"","url":"https://api.github.com/users/jonjesse","html_url":"https://github.com/jonjesse","followers_url":"https://api.github.com/users/jonjesse/followers","following_url":"https://api.github.com/users/jonjesse/following{/other_user}","gists_url":"https://api.github.com/users/jonjesse/gists{/gist_id}","starred_url":"https://api.github.com/users/jonjesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonjesse/subscriptions","organizations_url":"https://api.github.com/users/jonjesse/orgs","repos_url":"https://api.github.com/users/jonjesse/repos","events_url":"https://api.github.com/users/jonjesse/events{/privacy}","received_events_url":"https://api.github.com/users/jonjesse/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":5,"created_at":"2021-06-16T19:07:17Z","updated_at":"2021-10-26T18:52:21Z","closed_at":"2021-10-26T18:52:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n\r\nWe understand you are having a problem with rclone; we want to help you with that!\r\n\r\n**STOP and READ**\r\n**YOUR POST WILL BE REMOVED IF IT IS LOW QUALITY**:\r\nPlease show the effort you've put in to solving the problem and please be specific.\r\nPeople are volunteering their time to help! Low effort posts are not likely to get good answers!\r\n\r\nIf you think you might have found a bug, try to replicate it with the latest beta (or stable).\r\nThe update instructions are available at https://rclone.org/commands/rclone_selfupdate/\r\n\r\nIf you can still replicate it or just got a question then please use the rclone forum:\r\n\r\n    https://forum.rclone.org/\r\n\r\nfor a quick response instead of filing an issue on this repo.\r\n\r\nIf nothing else helps, then please fill in the info below which helps us help you.\r\n\r\n**DO NOT REDACT** any information except passwords/keys/personal info.\r\n\r\nYou should use 3 backticks to begin and end your paste to make it readable.\r\n\r\nMake sure to include a log obtained with '-vv'.\r\n\r\nYou can also use '-vv --log-file bug.log' and a service such as https://pastebin.com or https://gist.github.com/\r\n\r\nThank you\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n#### The associated forum post URL from `https://forum.rclone.org`\r\n\r\n\r\n\r\n#### What is the problem you are having with rclone?\r\n\r\nUsing a container running in AWS EKS environment, I am getting an access denied when trying to list files from a bucket. It is not a permissions issue since I can access bucket using the aws s3 commands\r\n\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\n```\r\n rclone version\r\nrclone v1.55.1\r\n- os/type: linux\r\n- os/arch: amd64\r\n- go/version: go1.16.3\r\n- go/linking: static\r\n- go/tags: none\r\n```\r\n\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\n\r\nLinux container\r\n\r\n#### Which cloud storage system are you using? (e.g. Google Drive)\r\n\r\nS3\r\n\r\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\r\n\r\n```\r\nrclone -vvvv ls s3://<private>/\r\n```\r\n\r\n#### A log from the command with the `-vv` flag (e.g. output from `rclone -vv copy /tmp remote:tmp`)\r\n\r\n```\r\n rclone -vvvv ls s3://<private>\r\n2021/06/16 18:08:33 DEBUG : Using config file from \"/root/.config/rclone/rclone.conf\"\r\n2021/06/16 18:08:33 DEBUG : rclone: Version \"v1.55.1\" starting with parameters [\"rclone\" \"-vvvv\" \"ls\" \"s3://<private>\"]\r\n2021/06/16 18:08:33 DEBUG : Creating backend with remote \"s3://<private>\"\r\n2021/06/16 18:08:38 DEBUG : fs cache: renaming cache item \"s3://<private>\" to be canonical \"s3:<private>\"\r\n2021/06/16 18:08:38 DEBUG : 4 go routines active\r\n2021/06/16 18:08:38 Failed to ls: AccessDenied: Access Denied\r\n\tstatus code: 403, request id: 6EE309SFXR03MW4S, host id: iKFzmE/c5K2DEABT9vOtH2vmwAllEwB7pqa/NNWLj5/CmHqpUv3I+CWK7L0orPKEvYAhoNYIVGU=\r\n```\r\n\r\nPlease note that this is not an S3 permissions issue.\r\nAdditional information:\r\ncontainer uses a role attached to it:\r\n```\r\naws sts get-caller-identity\r\n{\r\n    \"UserId\": \"AROASI6AIV3SMVUZ62UUB:<private>\",\r\n    \"Account\": \"<private>\",\r\n    \"Arn\": \"arn:aws:sts::<private>:assumed-role/<private>\"\r\n}\r\n```\r\nUsing this role I can list/read/write files to the S3 bucket using aws s3 command\r\n\r\nbelow are contents of the rclone.conf file:\r\n\r\n```\r\ncat /root/.config/rclone/rclone.conf \r\n[s3]\r\ntype = s3\r\nprovider = AWS\r\nregion = us-east-1\r\nenv_auth = true\r\nserver_side_encryption = AES256\r\nacl = private\r\n```\r\nThe environmental variable associated with pod regarding aws:\r\n\r\n```\r\nenv | grep -i aws\r\nAWS_DEFAULT_REGION=us-east-1\r\nAWS_ROLE_ARN=arn:aws:iam::<private>:role/<private>\r\nAWS_WEB_IDENTITY_TOKEN_FILE=/var/run/secrets/eks.amazonaws.com/serviceaccount/token\r\n```\r\n\r\n<!--- Please keep the note below for others who read your bug report. -->\r\n\r\n#### How to use GitHub\r\n\r\n* Please use the üëç [reaction](https://blog.github.com/2016-03-10-add-reactions-to-pull-requests-issues-and-comments/) to show that you are affected by the same issue.\r\n* Please don't comment if you have no relevant information to add. It's just extra noise for everyone subscribed to this issue.\r\n* Subscribe to receive notifications on status change and new comments.\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5414/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5414/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/895658170","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-895658170","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":895658170,"node_id":"IC_kwDOAQ-n5M41Yqi6","user":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T01:23:15Z","updated_at":"2021-08-10T01:23:15Z","body":"No luck. I am still getting AccessDenied error, as similar to the one I provided in issue description. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/895658170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/896159586","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-896159586","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":896159586,"node_id":"IC_kwDOAQ-n5M41ak9i","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T17:07:29Z","updated_at":"2021-08-10T17:07:29Z","body":"I did a bit of searching... Try\r\n\r\n    export AWS_SDK_LOAD_CONFIG=1\r\n\r\nand see if that makes it work?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/896159586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/896208791","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-896208791","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":896208791,"node_id":"IC_kwDOAQ-n5M41aw-X","user":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T18:14:38Z","updated_at":"2021-08-10T18:14:38Z","body":"Tried above suggestion with latest version and getting below error.\r\n```\r\n2021/08/10 14:11:03 DEBUG : rclone: Version \"v1.56.0\" starting with parameters [\"rclone\" \"ls\" \"-vvv\" \"s3://test-logs/2021-07-13/\" \"--s3-profile\" \"test-profile-1\"]\r\n2021/08/10 14:11:03 DEBUG : Creating backend with remote \"s3://test-logs/2021-07-13/\"\r\n2021/08/10 14:11:03 DEBUG : Using config file from \"/Users/aparthiban/.config/rclone/rclone.conf\"\r\n2021/08/10 14:11:03 DEBUG : s3: detected overridden config - adding \"{jb-DA}\" suffix to name\r\n2021/08/10 14:11:03 DEBUG : fs cache: renaming cache item \"s3://test-logs/2021-07-13/\" to be canonical \"s3{jb-DA}:test-logs/2021-07-13\"\r\n2021/08/10 14:11:07 DEBUG : 4 go routines active\r\n2021/08/10 14:11:07 Failed to ls: NoCredentialProviders: no valid providers in chain. Deprecated.\r\n        For verbose messaging see aws.Config.CredentialsChainVerboseErrors\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/896208791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5141240845,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxNDEyNDA4NDU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5141240845","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"98d494411fcd073be3b6a4a579219fe7912acfd5","commit_url":"https://api.github.com/repos/rclone/rclone/commits/98d494411fcd073be3b6a4a579219fe7912acfd5","created_at":"2021-08-11T10:48:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/896717581","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-896717581","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":896717581,"node_id":"IC_kwDOAQ-n5M41ctMN","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T10:49:46Z","updated_at":"2021-08-11T10:49:46Z","body":"Can you try this binary please?\r\n\r\nI reverted e618ea8 to see if that was the problem.\r\n\r\n[v1.57.0-beta.5614.98d494411.fix-5468-s3-auth](https://beta.rclone.org/branch/fix-5468-s3-auth/v1.57.0-beta.5614.98d494411.fix-5468-s3-auth/) on branch [fix-5468-s3-auth](https://github.com/rclone/rclone/tree/fix-5468-s3-auth) (uploaded in 15-30 mins)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/896717581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/897084916","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-897084916","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":897084916,"node_id":"IC_kwDOAQ-n5M41eG30","user":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T19:16:31Z","updated_at":"2021-08-11T19:16:31Z","body":"With the above mentioned binary, I am getting different error as below. I also tried setting `export AWS_SDK_LOAD_CONFIG=1`, but no luck. \r\n\r\n```\r\nairflow@a26841ef9be8:~$ rclone lsd -vvv s3://test-logs/2021-07-13/ --s3-profile test-profile-1\r\n2021/08/11 15:12:09 DEBUG : rclone: Version \"v1.57.0-beta.5614.98d494411.fix-5468-s3-auth\" starting with parameters [\"rclone\" \"lsd\" \"-vvv\" \"s3://test-logs/2021-07-13/\" \"--s3-profile\" \"test-profile-1\"]\r\n2021/08/11 15:12:09 DEBUG : Creating backend with remote \"s3://test-logs/2021-07-13/\"\r\n2021/08/11 15:12:09 DEBUG : Using config file from \"/usr/local/airflow/.config/rclone/rclone.conf\"\r\n2021/08/11 15:12:09 DEBUG : s3: detected overridden config - adding \"{jb-DA}\" suffix to name\r\n2021/08/11 15:12:09 DEBUG : fs cache: renaming cache item \"s3://test-logs/2021-07-13/\" to be canonical \"s3{jb-DA}:test-logs/2021-07-13\"\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x18 pc=0x12ecb42]\r\n\r\ngoroutine 83 [running]:\r\ngithub.com/aws/aws-sdk-go/aws/credentials/stscreds.(*WebIdentityRoleProvider).RetrieveWithContext(0xc0006ff170, 0x21ba568, 0xc000042090, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        github.com/aws/aws-sdk-go@v1.38.22/aws/credentials/stscreds/web_identity_provider.go:111 +0x62\r\ngithub.com/aws/aws-sdk-go/aws/credentials/stscreds.(*WebIdentityRoleProvider).Retrieve(0xc0006ff170, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x7f2372b82390, ...)\r\n        github.com/aws/aws-sdk-go@v1.38.22/aws/credentials/stscreds/web_identity_provider.go:104 +0x96\r\ngithub.com/aws/aws-sdk-go/aws/credentials.(*ChainProvider).Retrieve(0xc000614c30, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        github.com/aws/aws-sdk-go@v1.38.22/aws/credentials/chain_provider.go:75 +0xfe\r\ngithub.com/aws/aws-sdk-go/aws/credentials.(*Credentials).singleRetrieve(0xc0003ce600, 0x21ba798, 0xc00049f530, 0x0, 0x0, 0x0, 0x0)\r\n        github.com/aws/aws-sdk-go@v1.38.22/aws/credentials/credentials.go:279 +0x551\r\ngithub.com/aws/aws-sdk-go/aws/credentials.(*Credentials).GetWithContext.func1(0x0, 0x0, 0x0, 0x0)\r\n        github.com/aws/aws-sdk-go@v1.38.22/aws/credentials/credentials.go:255 +0x8a\r\ngithub.com/aws/aws-sdk-go/internal/sync/singleflight.(*Group).doCall(0xc0003ce600, 0xc0001323c0, 0x0, 0x0, 0xc00011e7c0)\r\n        github.com/aws/aws-sdk-go@v1.38.22/internal/sync/singleflight/singleflight.go:97 +0x2e\r\ncreated by github.com/aws/aws-sdk-go/internal/sync/singleflight.(*Group).DoChan\r\n        github.com/aws/aws-sdk-go@v1.38.22/internal/sync/singleflight/singleflight.go:90 +0x2cc\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/897084916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/898567753","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-898567753","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":898567753,"node_id":"IC_kwDOAQ-n5M41jw5J","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T16:06:41Z","updated_at":"2021-08-13T16:06:41Z","body":"That is kind of what I was expecting - that crash is the reason we took that code out!\r\n\r\nWould it be possible for you to do a `git bisect` to find the commit that broke the code?\r\n\r\nOr alternatively give some simple instructions on how to create this part of your config `role_arn = arn:aws:iam::00000000000:role/test-role` so I can reproduce the config locally? Ideally some AWS CLI commands I can run.\r\n\r\nThanks\r\n\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/898567753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/900769968","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-900769968","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":900769968,"node_id":"IC_kwDOAQ-n5M41sKiw","user":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T02:45:22Z","updated_at":"2021-08-18T02:45:22Z","body":"@ncw You can refer this documentation https://docs.aws.amazon.com/codedeploy/latest/userguide/getting-started-create-service-role.html","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/900769968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5172208870,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTE3MjIwODg3MA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/5172208870","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-08-18T02:45:22Z","performed_via_github_app":null},{"id":5172208874,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUxNzIyMDg4NzQ=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5172208874","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-08-18T02:45:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/901427811","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-901427811","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":901427811,"node_id":"IC_kwDOAQ-n5M41urJj","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:01:40Z","updated_at":"2021-08-18T21:01:40Z","body":"I created an arn which allows S3 access from EC2 and tried it out on an EC2 server. I either got permission denied\r\n\r\n> An error occurred (AccessDenied) when calling the AssumeRole operation: User: arn:aws:iam::xxxx:user/xxx is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::xxxx:role/s3-read-only\r\n\r\nOr I it worked if I assigned the ARN direct to the EC2 instance. But then it worked without the config `~/.aws/credentials` file.\r\n\r\nSo I guess to progress further I need to fix that error, but I couldn't work out how to do that - assigning the ARN to the ec2 must be the wrong thing to do, but the user quoted above **is** the ec2 instance.\r\n\r\nHow are you using the config?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/901427811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/901440272","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-901440272","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":901440272,"node_id":"IC_kwDOAQ-n5M41uuMQ","user":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T21:24:37Z","updated_at":"2021-08-18T21:25:17Z","body":"@ncw Can you try following steps and let me know if you are able to reproduce the issue.\r\n\r\n1. Create a role with arn `arn:aws:iam::1234568890:role/test-role`, which has access to specific s3 bucket/path - `s3://test-logs/2021-07-13/`\r\n2. Create a policy with below permissions and assign it to the role (should be different) linked to an EC2 instance.\r\n```\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": \"sts:AssumeRole\",\r\n            \"Resource\": \"arn:aws:iam::1234568890:role/test-role\"\r\n        },\r\n        {\r\n            \"Sid\": \"AllowAccountLevelS3Actions\",\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"s3:ListAllMyBuckets\",\r\n                \"s3:ListBucket\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        },\r\n   ]\r\n}\r\n```\r\n3. Create config in EC2 instance as below.\r\n```\r\n> ~/.aws/credentials\r\n\r\n[test-profile-1]\r\nrole_arn =arn:aws:iam::1234568890:role/test-role\r\nsource_profile = EC2InstanceMetadata\r\n```\r\n4. Try accessing the s3 bucket using AWS config.\r\n```\r\naws s3 ls s3://test-logs/2021-07-13/ --profile test-profile-1\r\nrclone ls s3://test-logs/2021-07-13/ --s3-profile test-profile-1\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/901440272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5177237454,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTE3NzIzNzQ1NA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/5177237454","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-08-18T21:25:18Z","performed_via_github_app":null},{"id":5177237459,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUxNzcyMzc0NTk=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5177237459","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-08-18T21:25:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/903136914","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-903136914","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":903136914,"node_id":"IC_kwDOAQ-n5M411MaS","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-21T15:57:04Z","updated_at":"2021-08-21T15:57:04Z","body":"I'll try to find some time for the above.\r\n\r\nIn the mean time, could you try\r\n\r\nhttps://beta.rclone.org/v1.57.0-beta.5642.6a9ef27b0/\r\n\r\nThis has the latest AWS SDK built in which might make a difference.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/903136914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/903371148","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-903371148","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":903371148,"node_id":"IC_kwDOAQ-n5M412FmM","user":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T01:10:55Z","updated_at":"2021-08-23T01:10:55Z","body":"Getting same error with above beta version as similar to latest version (v1.56.0).\r\n```\r\n> rclone ls -vvv s3://test-logs/2021-07-13/ --s3-profile test-profile-1\r\n\r\n2021/08/22 21:06:24 DEBUG : rclone: Version \"v1.57.0-beta.5642.6a9ef27b0\" starting with parameters [\"rclone\" \"ls\" \"-vvv\" \"s3://test-logs/2021-07-13/\" \"--s3-profile\" \"test-profile-1\"]\r\n2021/08/22 21:06:24 DEBUG : Creating backend with remote \"s3://test-logs/2021-07-13/\"\r\n2021/08/22 21:06:24 DEBUG : Using config file from \"/usr/local/airflow/.config/rclone/rclone.conf\"\r\n2021/08/22 21:06:24 DEBUG : s3: detected overridden config - adding \"{jb-DA}\" suffix to name\r\n2021/08/22 21:06:24 DEBUG : fs cache: renaming cache item \"s3://test-logs/2021-07-13/\" to be canonical \"s3{jb-DA}:test-logs/2021-07-13\"\r\n2021/08/22 21:06:26 DEBUG : 2 go routines active\r\n2021/08/22 21:06:26 Failed to ls: NoCredentialProviders: no valid providers in chain. Deprecated.\r\n        For verbose messaging see aws.Config.CredentialsChainVerboseErrors\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/903371148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arulparthiban","id":54913256,"node_id":"MDQ6VXNlcjU0OTEzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/54913256?v=4","gravatar_id":"","url":"https://api.github.com/users/arulparthiban","html_url":"https://github.com/arulparthiban","followers_url":"https://api.github.com/users/arulparthiban/followers","following_url":"https://api.github.com/users/arulparthiban/following{/other_user}","gists_url":"https://api.github.com/users/arulparthiban/gists{/gist_id}","starred_url":"https://api.github.com/users/arulparthiban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arulparthiban/subscriptions","organizations_url":"https://api.github.com/users/arulparthiban/orgs","repos_url":"https://api.github.com/users/arulparthiban/repos","events_url":"https://api.github.com/users/arulparthiban/events{/privacy}","received_events_url":"https://api.github.com/users/arulparthiban/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/908785069","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-908785069","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":908785069,"node_id":"IC_kwDOAQ-n5M42KvWt","user":{"login":"tonyreina","id":37851530,"node_id":"MDQ6VXNlcjM3ODUxNTMw","avatar_url":"https://avatars.githubusercontent.com/u/37851530?v=4","gravatar_id":"","url":"https://api.github.com/users/tonyreina","html_url":"https://github.com/tonyreina","followers_url":"https://api.github.com/users/tonyreina/followers","following_url":"https://api.github.com/users/tonyreina/following{/other_user}","gists_url":"https://api.github.com/users/tonyreina/gists{/gist_id}","starred_url":"https://api.github.com/users/tonyreina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonyreina/subscriptions","organizations_url":"https://api.github.com/users/tonyreina/orgs","repos_url":"https://api.github.com/users/tonyreina/repos","events_url":"https://api.github.com/users/tonyreina/events{/privacy}","received_events_url":"https://api.github.com/users/tonyreina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-30T23:51:46Z","updated_at":"2021-08-30T23:51:46Z","body":"I'm having this issue as well with specifying roles. AWS CLI works fine.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/908785069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tonyreina","id":37851530,"node_id":"MDQ6VXNlcjM3ODUxNTMw","avatar_url":"https://avatars.githubusercontent.com/u/37851530?v=4","gravatar_id":"","url":"https://api.github.com/users/tonyreina","html_url":"https://github.com/tonyreina","followers_url":"https://api.github.com/users/tonyreina/followers","following_url":"https://api.github.com/users/tonyreina/following{/other_user}","gists_url":"https://api.github.com/users/tonyreina/gists{/gist_id}","starred_url":"https://api.github.com/users/tonyreina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonyreina/subscriptions","organizations_url":"https://api.github.com/users/tonyreina/orgs","repos_url":"https://api.github.com/users/tonyreina/repos","events_url":"https://api.github.com/users/tonyreina/events{/privacy}","received_events_url":"https://api.github.com/users/tonyreina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/917958287","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-917958287","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":917958287,"node_id":"IC_kwDOAQ-n5M42tu6P","user":{"login":"stefanoverna","id":51573,"node_id":"MDQ6VXNlcjUxNTcz","avatar_url":"https://avatars.githubusercontent.com/u/51573?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanoverna","html_url":"https://github.com/stefanoverna","followers_url":"https://api.github.com/users/stefanoverna/followers","following_url":"https://api.github.com/users/stefanoverna/following{/other_user}","gists_url":"https://api.github.com/users/stefanoverna/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanoverna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanoverna/subscriptions","organizations_url":"https://api.github.com/users/stefanoverna/orgs","repos_url":"https://api.github.com/users/stefanoverna/repos","events_url":"https://api.github.com/users/stefanoverna/events{/privacy}","received_events_url":"https://api.github.com/users/stefanoverna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T08:24:43Z","updated_at":"2021-09-13T08:24:43Z","body":"Same issue here too!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/917958287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stefanoverna","id":51573,"node_id":"MDQ6VXNlcjUxNTcz","avatar_url":"https://avatars.githubusercontent.com/u/51573?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanoverna","html_url":"https://github.com/stefanoverna","followers_url":"https://api.github.com/users/stefanoverna/followers","following_url":"https://api.github.com/users/stefanoverna/following{/other_user}","gists_url":"https://api.github.com/users/stefanoverna/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanoverna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanoverna/subscriptions","organizations_url":"https://api.github.com/users/stefanoverna/orgs","repos_url":"https://api.github.com/users/stefanoverna/repos","events_url":"https://api.github.com/users/stefanoverna/events{/privacy}","received_events_url":"https://api.github.com/users/stefanoverna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/918078536","html_url":"https://github.com/rclone/rclone/issues/5468#issuecomment-918078536","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5468","id":918078536,"node_id":"IC_kwDOAQ-n5M42uMRI","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T11:01:04Z","updated_at":"2021-09-13T11:01:04Z","body":"@aparthiban-turner I had a go with your new instructions.\r\n\r\nAssigning the role to the EC2 instance seems to make both AWS cli and rclone work without specifying the profile, so I must be doing something wrong again.\r\n\r\nYou wrote:\r\n> 1. Create a role with arn `arn:aws:iam::1234568890:role/test-role`, which has access to specific s3 bucket/path - `s3://test-logs/2021-07-13/`\r\n\r\nCan you specify this step in more detail please? I only figured out how to create a role with full or read only access to s3. It basically says give all stuff in EC2 read only access to S3.\r\n\r\n> 2. Create a policy with below permissions and assign it to the role (should be different) linked to an EC2 instance.\r\n\r\nI don't think I understand what to do with this policy. Do I add it to the role created in 1? Or do I create a new role and assign it to that?\r\n\r\n@tonyreina @stefanoverna care to add some step by step instructions for configuring an EC2 instance so I can replicate the problem? I know almost nothing about AWS iam/roles/arns!\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/918078536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5292122446,"node_id":"MEE_lADOAQ-n5M44lI_vzwAAAAE7b2FO","url":"https://api.github.com/repos/rclone/rclone/issues/events/5292122446","actor":{"login":"stefanoverna","id":51573,"node_id":"MDQ6VXNlcjUxNTcz","avatar_url":"https://avatars.githubusercontent.com/u/51573?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanoverna","html_url":"https://github.com/stefanoverna","followers_url":"https://api.github.com/users/stefanoverna/followers","following_url":"https://api.github.com/users/stefanoverna/following{/other_user}","gists_url":"https://api.github.com/users/stefanoverna/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanoverna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanoverna/subscriptions","organizations_url":"https://api.github.com/users/stefanoverna/orgs","repos_url":"https://api.github.com/users/stefanoverna/repos","events_url":"https://api.github.com/users/stefanoverna/events{/privacy}","received_events_url":"https://api.github.com/users/stefanoverna/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-09-13T11:01:05Z","performed_via_github_app":null},{"id":5292122450,"node_id":"SE_lADOAQ-n5M44lI_vzwAAAAE7b2FS","url":"https://api.github.com/repos/rclone/rclone/issues/events/5292122450","actor":{"login":"stefanoverna","id":51573,"node_id":"MDQ6VXNlcjUxNTcz","avatar_url":"https://avatars.githubusercontent.com/u/51573?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanoverna","html_url":"https://github.com/stefanoverna","followers_url":"https://api.github.com/users/stefanoverna/followers","following_url":"https://api.github.com/users/stefanoverna/following{/other_user}","gists_url":"https://api.github.com/users/stefanoverna/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanoverna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanoverna/subscriptions","organizations_url":"https://api.github.com/users/stefanoverna/orgs","repos_url":"https://api.github.com/users/stefanoverna/repos","events_url":"https://api.github.com/users/stefanoverna/events{/privacy}","received_events_url":"https://api.github.com/users/stefanoverna/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-09-13T11:01:05Z","performed_via_github_app":null}]