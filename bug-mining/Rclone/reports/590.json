{"url":"https://api.github.com/repos/rclone/rclone/issues/2960","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2960/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2960/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2960/events","html_url":"https://github.com/rclone/rclone/issues/2960","id":408430491,"node_id":"MDU6SXNzdWU0MDg0MzA0OTE=","number":2960,"title":"Use semver for releases","user":{"login":"myitcv","id":3374574,"node_id":"MDQ6VXNlcjMzNzQ1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3374574?v=4","gravatar_id":"","url":"https://api.github.com/users/myitcv","html_url":"https://github.com/myitcv","followers_url":"https://api.github.com/users/myitcv/followers","following_url":"https://api.github.com/users/myitcv/following{/other_user}","gists_url":"https://api.github.com/users/myitcv/gists{/gist_id}","starred_url":"https://api.github.com/users/myitcv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myitcv/subscriptions","organizations_url":"https://api.github.com/users/myitcv/orgs","repos_url":"https://api.github.com/users/myitcv/repos","events_url":"https://api.github.com/users/myitcv/events{/privacy}","received_events_url":"https://api.github.com/users/myitcv/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/34","html_url":"https://github.com/rclone/rclone/milestone/34","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/34/labels","id":3845049,"node_id":"MDk6TWlsZXN0b25lMzg0NTA0OQ==","number":34,"title":"v1.47","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":30,"state":"closed","created_at":"2018-11-24T15:22:45Z","updated_at":"2019-04-16T14:08:10Z","due_on":"2019-04-13T07:00:00Z","closed_at":"2019-04-15T17:13:00Z"},"comments":4,"created_at":"2019-02-09T13:14:17Z","updated_at":"2019-02-10T20:55:50Z","closed_at":"2019-02-10T20:55:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n\r\nWelcome :-) We understand you are having a problem with rclone; we want to help you with that!\r\n\r\nIf you've just got a question or aren't sure if you've found a bug then please use the rclone forum:\r\n\r\n    https://forum.rclone.org/\r\n\r\ninstead of filing an issue for a quick response.\r\n\r\nIf you think you might have found a bug, please can you try to replicate it with the latest beta?\r\n\r\n    https://beta.rclone.org/\r\n    \r\nIf you can still replicate it with the latest beta, then please fill in the info below which makes our lives much easier.  A log with -vv will make our day :-)\r\n\r\nThank you\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n#### What is the problem you are having with rclone?\r\n\r\nUnable to get the latest version of `rclone` using the `go` tool in module mode.\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\n\r\nn/a\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\n\r\nLinux 64bit.\r\n\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\n\r\nn/a\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\n\r\nIn module-mode, `github.com/ncw/rclone` will only work with valid semver versions. Hence:\r\n\r\n```\r\ncd $(mktemp -d)\r\ngo mod init mod\r\ngo get github.com/ncw/rclone\r\ngo list -m github.com/ncw/rclone\r\n```\r\n\r\ngives:\r\n\r\n```\r\ngithub.com/ncw/rclone v1.43.1\r\n```\r\n\r\nThat is to say, it is not possible to add a module requirement for a release of `github.com/ncw/rclone` other than for valid semver versions (`1.43.1` is the latest valid semver version).\r\n\r\nIn Go 1.12 this will also affect `go get` outside of a module context now that https://github.com/golang/go/issues/24250 has landed:\r\n\r\n```\r\nGO111MODULE=on go get github.com/ncw/rclone\r\n$GOPATH/bin/rclone version\r\n```\r\n\r\ngives:\r\n\r\n```\r\nrclone v1.43.1\r\n- os/arch: linux/amd64\r\n- go version: go1.12beta2\r\n```\r\n\r\nGiven that rclone has already moved to using modules for its dependencies, this is the preferred way of installing via the `go` tool.\r\n\r\nSo where people are looking to:\r\n\r\n* add rclone as a requirement for their module\r\n* install rclone \"globally\" on their system using module-mode\r\n\r\nthey will have to resort to doing:\r\n\r\n```\r\ngo get github.com/ncw/rclone@master\r\n```\r\n\r\nor a specific commit, which seems less than ideal.\r\n\r\nIt would be sufficient to add additional tags as part of the release process, but not sure how that would sit with your release process. For example, in addition to tagging [`v1.46`](https://github.com/ncw/rclone/tree/v1.46), you could also tag `v1.46.0`. Yes the version reported by `rclone --version` would/might still read `v1.46`, but at least the `go` tool in module mode would be able to resolve to a valid semver version.","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2960/timeline","performed_via_github_app":null,"state_reason":"completed"}