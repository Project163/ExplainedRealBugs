{"url":"https://api.github.com/repos/rclone/rclone/issues/820","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/820/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/820/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/820/events","html_url":"https://github.com/rclone/rclone/issues/820","id":185096568,"node_id":"MDU6SXNzdWUxODUwOTY1Njg=","number":820,"title":"Authentication failed Error on large files and no resume","user":{"login":"yonjah","id":1829789,"node_id":"MDQ6VXNlcjE4Mjk3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/1829789?v=4","gravatar_id":"","url":"https://api.github.com/users/yonjah","html_url":"https://github.com/yonjah","followers_url":"https://api.github.com/users/yonjah/followers","following_url":"https://api.github.com/users/yonjah/following{/other_user}","gists_url":"https://api.github.com/users/yonjah/gists{/gist_id}","starred_url":"https://api.github.com/users/yonjah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yonjah/subscriptions","organizations_url":"https://api.github.com/users/yonjah/orgs","repos_url":"https://api.github.com/users/yonjah/repos","events_url":"https://api.github.com/users/yonjah/events{/privacy}","received_events_url":"https://api.github.com/users/yonjah/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":306063114,"node_id":"MDU6TGFiZWwzMDYwNjMxMTQ=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20One%20Drive","name":"Remote: One Drive","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/24","html_url":"https://github.com/rclone/rclone/milestone/24","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/24/labels","id":2226541,"node_id":"MDk6TWlsZXN0b25lMjIyNjU0MQ==","number":24,"title":"v1.37","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":53,"state":"closed","created_at":"2017-01-03T21:05:26Z","updated_at":"2017-11-13T21:38:50Z","due_on":"2017-07-23T07:00:00Z","closed_at":"2017-07-23T14:08:10Z"},"comments":7,"created_at":"2016-10-25T12:01:42Z","updated_at":"2017-03-29T16:41:03Z","closed_at":"2017-03-29T16:41:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"rclone v1.33\nLinux Fedora 23 64 bit\nOneDrive\nWhen filing an issue, please include the following information if\npossible as well as a description of the problem.  Make sure you test\nwith the [latest beta of rclone](http://rclone.org/downloads/).\nrclone copy local to remote\n\nLog >>>\n\n```\n2016/10/23 22:06:24 \nTransferred:   210 MBytes (59.686 kBytes/s)\nErrors:                 0\nChecks:              1029\nTransferred:            0\nElapsed time:    1h0m2.8s\nTransferring:\n * ...dir/large_file.gz: 36% done. avg:   69.9, cur:    2.3 kByte/s. ETA: 45h28m38s\n\n2016/10/23 22:07:24 \nTransferred:   210 MBytes (58.708 kBytes/s)\nErrors:                 0\nChecks:              1029\nTransferred:            0\nElapsed time:    1h1m2.8s\nTransferring:\n * ...dir/large_file.gz: 36% done. avg:   68.5, cur:    0.0 kByte/s. ETA: 2486h39m29s\n\n2016/10/23 22:07:35 folder/dir/large_file.gz: Cancelling multipart upload\n2016/10/23 22:07:37 remote: Saving new token in config file\n2016/10/23 22:07:37 folder/dir/large_file.gz: Failed to copy: unauthenticated: Authentication failed\n2016/10/23 22:07:37 folder/dir/large_file.gz: Removing failed copy\n2016/10/23 22:07:37 folder/dir/large_file.gz: Failed to remove failed copy: invalidRequest: API not found\n2016/10/23 22:07:37 folder/dir/next_file.gz: Size and modification time the same (differ by 0s, within tolerance 1s)\n2016/10/23 22:07:37 folder/dir/next_file.gz: Unchanged skipping\n```\n\nI have a very slow and unstable internet connection. when I try to upload large files (>500MB ) I usually get  an Authentication Error after the file is being upload for a large period of time.\nI guess this is because it takes so long the authentication tokens are invalid.\n\nWhen this error occurs rclone reauthenticates but skip the file and does not resume the upload.\nThis is not only very frustrating (when it happens at 97%) but make it impossible to upload very large files (> 1,5G) since with my connection speed they will always eventually fail.\n\nI'm not sure if onedrive (and other services) allows to re authenticate and continue the upload (or if it possible to somehow refresh the token before it happens) but it would be a great improvement to have.\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/820/timeline","performed_via_github_app":null,"state_reason":"completed"}