[{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/828283123","html_url":"https://github.com/rclone/rclone/issues/5282#issuecomment-828283123","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5282","id":828283123,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODI4MzEyMw==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T08:59:47Z","updated_at":"2021-04-28T08:59:47Z","body":"Have you looked at the the `transferTime` property. This is the time that a given StatsInfo has been transferring data.\r\n\r\nThis isn't quite what you asked for but it is close.\r\n\r\n> For applications that embed rclone as a library and may perform multiple transfers over the application lifetime, this value isn't relevant. I know that library embedding isn't necessarily one of rclone's design goals,\r\n\r\nWe are trying to make rclone usable as a library - it is slow progress but we are getting there!\r\n\r\n> One possible solution would be to make `startTime` scoped to a particular `StatsInfo` object, initialized at construction\r\n\r\n\r\nIf `transferTime` doesn't work for you then this sounds like a sensible idea. So `startTime` would become the time from the initialization of this `StatsInfo`.\r\n\r\n> and then reset along with the other counters when `StatsInfo.ResetCounters` is called.\r\n\r\nI'm not 100% sure whether that will break something or not, but a check of the code convinces me that it probably won't!\r\n\r\n> I'm happy to file a PR with a patch that improves this if someone on the rclone team could provide a bit of guidance!\r\n\r\nGreat!\r\n\r\nThis should be reasonably straight forward.\r\n\r\nMove this\r\n\r\nhttps://github.com/rclone/rclone/blob/9ccd870267b3bda042acc8f131becd457f37ef01/fs/accounting/stats.go#L21\r\n\r\ninto this\r\n\r\nhttps://github.com/rclone/rclone/blob/9ccd870267b3bda042acc8f131becd457f37ef01/fs/accounting/stats.go#L24\r\n\r\nInitialise here\r\n\r\nhttps://github.com/rclone/rclone/blob/9ccd870267b3bda042acc8f131becd457f37ef01/fs/accounting/stats.go#L57\r\n\r\nReset here\r\n\r\nhttps://github.com/rclone/rclone/blob/9ccd870267b3bda042acc8f131becd457f37ef01/fs/accounting/stats.go#L536\r\n\r\nAnd use the compiler errors to fixup any places the `startTime` global was used.\r\n\r\nSee the [contributing guide](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-pull-request) for info on how to get set up.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/828283123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"macklin-10x","id":53452532,"node_id":"MDQ6VXNlcjUzNDUyNTMy","avatar_url":"https://avatars.githubusercontent.com/u/53452532?v=4","gravatar_id":"","url":"https://api.github.com/users/macklin-10x","html_url":"https://github.com/macklin-10x","followers_url":"https://api.github.com/users/macklin-10x/followers","following_url":"https://api.github.com/users/macklin-10x/following{/other_user}","gists_url":"https://api.github.com/users/macklin-10x/gists{/gist_id}","starred_url":"https://api.github.com/users/macklin-10x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/macklin-10x/subscriptions","organizations_url":"https://api.github.com/users/macklin-10x/orgs","repos_url":"https://api.github.com/users/macklin-10x/repos","events_url":"https://api.github.com/users/macklin-10x/events{/privacy}","received_events_url":"https://api.github.com/users/macklin-10x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T17:45:24Z","updated_at":"2021-04-28T17:45:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/5286","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5286/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5286/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5286/events","html_url":"https://github.com/rclone/rclone/pull/5286","id":870196983,"node_id":"MDExOlB1bGxSZXF1ZXN0NjI1NDMyMTY5","number":5286,"title":"Deglobalize StatsInfo startTime/elapsedTime.","user":{"login":"macklin-10x","id":53452532,"node_id":"MDQ6VXNlcjUzNDUyNTMy","avatar_url":"https://avatars.githubusercontent.com/u/53452532?v=4","gravatar_id":"","url":"https://api.github.com/users/macklin-10x","html_url":"https://github.com/macklin-10x","followers_url":"https://api.github.com/users/macklin-10x/followers","following_url":"https://api.github.com/users/macklin-10x/following{/other_user}","gists_url":"https://api.github.com/users/macklin-10x/gists{/gist_id}","starred_url":"https://api.github.com/users/macklin-10x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/macklin-10x/subscriptions","organizations_url":"https://api.github.com/users/macklin-10x/orgs","repos_url":"https://api.github.com/users/macklin-10x/repos","events_url":"https://api.github.com/users/macklin-10x/events{/privacy}","received_events_url":"https://api.github.com/users/macklin-10x/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2523110692,"node_id":"MDU6TGFiZWwyNTIzMTEwNjky","url":"https://api.github.com/repos/rclone/rclone/labels/refactoring","name":"refactoring","color":"5319e7","default":false,"description":""},{"id":3479933419,"node_id":"LA_kwDOAQ-n5M7Pa5Hr","url":"https://api.github.com/repos/rclone/rclone/labels/stats","name":"stats","color":"8DD270","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-28T17:45:24Z","updated_at":"2021-10-25T11:01:13Z","closed_at":"2021-05-01T13:51:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rclone/rclone/pulls/5286","html_url":"https://github.com/rclone/rclone/pull/5286","diff_url":"https://github.com/rclone/rclone/pull/5286.diff","patch_url":"https://github.com/rclone/rclone/pull/5286.patch","merged_at":"2021-05-01T13:51:21Z"},"body":"<!--\r\nThank you very much for contributing code or documentation to rclone! Please\r\nfill out the following questions to make it easier for us to review your\r\nchanges.\r\n\r\nYou do not need to check all the boxes below all at once, feel free to take\r\nyour time and add more commits. If you're done and ready for review, please\r\ncheck the last box.\r\n-->\r\n\r\n#### What is the purpose of this change?\r\n\r\nReplaces the `accounting.startTime` package var with a field on `StatsInfo`, initialized on construction and reset along with `ResetCounters`.\r\n\r\n#### Was the change discussed in an issue or in the forum before?\r\n\r\nhttps://github.com/rclone/rclone/issues/5282\r\n\r\n#### Checklist\r\n\r\n- [X] I have read the [contribution guidelines](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#submitting-a-pull-request).\r\n- [X] I have added tests for all changes in this PR if appropriate.\r\n- [X] I have added documentation for the changes if appropriate.\r\n- [X] All commit messages are in [house style](https://github.com/rclone/rclone/blob/master/CONTRIBUTING.md#commit-messages).\r\n- [X] I'm done, this Pull Request is ready for review :-)\r\n","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5286/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/828653981","html_url":"https://github.com/rclone/rclone/issues/5282#issuecomment-828653981","issue_url":"https://api.github.com/repos/rclone/rclone/issues/5282","id":828653981,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODY1Mzk4MQ==","user":{"login":"macklin-10x","id":53452532,"node_id":"MDQ6VXNlcjUzNDUyNTMy","avatar_url":"https://avatars.githubusercontent.com/u/53452532?v=4","gravatar_id":"","url":"https://api.github.com/users/macklin-10x","html_url":"https://github.com/macklin-10x","followers_url":"https://api.github.com/users/macklin-10x/followers","following_url":"https://api.github.com/users/macklin-10x/following{/other_user}","gists_url":"https://api.github.com/users/macklin-10x/gists{/gist_id}","starred_url":"https://api.github.com/users/macklin-10x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/macklin-10x/subscriptions","organizations_url":"https://api.github.com/users/macklin-10x/orgs","repos_url":"https://api.github.com/users/macklin-10x/repos","events_url":"https://api.github.com/users/macklin-10x/events{/privacy}","received_events_url":"https://api.github.com/users/macklin-10x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T17:48:44Z","updated_at":"2021-04-28T17:48:44Z","body":"Ah I see that `transferTime` is what was (I think?) previously called `elapsedTime`.  I think that the deglobalized `elapsedTime` is even closer to what I'm looking for, which is the total wall clock time a transfer operation has been running (in other words, what a human sitting there with a stopwatch wondering \"geez how long has this upload been running\" would measure).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/828653981/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"macklin-10x","id":53452532,"node_id":"MDQ6VXNlcjUzNDUyNTMy","avatar_url":"https://avatars.githubusercontent.com/u/53452532?v=4","gravatar_id":"","url":"https://api.github.com/users/macklin-10x","html_url":"https://github.com/macklin-10x","followers_url":"https://api.github.com/users/macklin-10x/followers","following_url":"https://api.github.com/users/macklin-10x/following{/other_user}","gists_url":"https://api.github.com/users/macklin-10x/gists{/gist_id}","starred_url":"https://api.github.com/users/macklin-10x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/macklin-10x/subscriptions","organizations_url":"https://api.github.com/users/macklin-10x/orgs","repos_url":"https://api.github.com/users/macklin-10x/repos","events_url":"https://api.github.com/users/macklin-10x/events{/privacy}","received_events_url":"https://api.github.com/users/macklin-10x/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4673607125,"node_id":"MDExOkNsb3NlZEV2ZW50NDY3MzYwNzEyNQ==","url":"https://api.github.com/repos/rclone/rclone/issues/events/4673607125","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"35a86193b7c7ba190e9a70b62a5a07cc010bf9e1","commit_url":"https://api.github.com/repos/rclone/rclone/commits/35a86193b7c7ba190e9a70b62a5a07cc010bf9e1","created_at":"2021-05-01T13:51:25Z","state_reason":null,"performed_via_github_app":null},{"id":5153937688,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxNTM5Mzc2ODg=","url":"https://api.github.com/repos/rclone/rclone/issues/events/5153937688","actor":{"login":"negative0","id":12236512,"node_id":"MDQ6VXNlcjEyMjM2NTEy","avatar_url":"https://avatars.githubusercontent.com/u/12236512?v=4","gravatar_id":"","url":"https://api.github.com/users/negative0","html_url":"https://github.com/negative0","followers_url":"https://api.github.com/users/negative0/followers","following_url":"https://api.github.com/users/negative0/following{/other_user}","gists_url":"https://api.github.com/users/negative0/gists{/gist_id}","starred_url":"https://api.github.com/users/negative0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/negative0/subscriptions","organizations_url":"https://api.github.com/users/negative0/orgs","repos_url":"https://api.github.com/users/negative0/repos","events_url":"https://api.github.com/users/negative0/events{/privacy}","received_events_url":"https://api.github.com/users/negative0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"272bd188d51634b216bf7a6f6bd5a3fbd427ad02","commit_url":"https://api.github.com/repos/negative0/rclone/commits/272bd188d51634b216bf7a6f6bd5a3fbd427ad02","created_at":"2021-08-13T06:10:44Z","performed_via_github_app":null}]