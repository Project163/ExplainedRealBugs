{"url":"https://api.github.com/repos/rclone/rclone/issues/6335","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/6335/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/6335/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/6335/events","html_url":"https://github.com/rclone/rclone/issues/6335","id":1315634601,"node_id":"I_kwDOAQ-n5M5Oav2p","number":6335,"title":"VFS doesn't update mtime for directories","user":{"login":"lorenz","id":5228892,"node_id":"MDQ6VXNlcjUyMjg4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5228892?v=4","gravatar_id":"","url":"https://api.github.com/users/lorenz","html_url":"https://github.com/lorenz","followers_url":"https://api.github.com/users/lorenz/followers","following_url":"https://api.github.com/users/lorenz/following{/other_user}","gists_url":"https://api.github.com/users/lorenz/gists{/gist_id}","starred_url":"https://api.github.com/users/lorenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lorenz/subscriptions","organizations_url":"https://api.github.com/users/lorenz/orgs","repos_url":"https://api.github.com/users/lorenz/repos","events_url":"https://api.github.com/users/lorenz/events{/privacy}","received_events_url":"https://api.github.com/users/lorenz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":430778096,"node_id":"MDU6TGFiZWw0MzA3NzgwOTY=","url":"https://api.github.com/repos/rclone/rclone/labels/VFS%20/%20mount","name":"VFS / mount","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-23T11:17:10Z","updated_at":"2025-02-15T15:22:18Z","closed_at":"2025-02-15T15:22:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\nI'm using `serve webdav` to serve a local directory over WebDAV. This works fine except that the VFS layer doesn't update the mtime (ModTime) of directories even after `dir-cache-time` has expired. Debugging revealed that the problem is in `dir.go:635` where rclone reuses `node` (which has the old modTime), `item` (the new value with the correct modTime) is just discarded.\r\n\r\nI'm not familiar with the design principles of the rclone VFS layer so I'm not sure what the right fix here is.\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nSelf-built from revision 2f461f13e3efe603bdd8fb4057f3e8242a59956f\r\n\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\nLinux x86_64\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/6335/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/6335/timeline","performed_via_github_app":null,"state_reason":"completed"}