[{"id":3745032382,"node_id":"MDEyOkxhYmVsZWRFdmVudDM3NDUwMzIzODI=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3745032382","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-09-09T10:02:30Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":3745032635,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDM3NDUwMzI2MzU=","url":"https://api.github.com/repos/rclone/rclone/issues/events/3745032635","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-09-09T10:02:34Z","milestone":{"title":"v1.54"},"performed_via_github_app":null},{"id":3745449170,"node_id":"MDExOkNsb3NlZEV2ZW50Mzc0NTQ0OTE3MA==","url":"https://api.github.com/repos/rclone/rclone/issues/events/3745449170","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"75de30cfa8701bfdd3f9ea23892bb090545623c0","commit_url":"https://api.github.com/repos/rclone/rclone/commits/75de30cfa8701bfdd3f9ea23892bb090545623c0","created_at":"2020-09-09T11:55:32Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/689513450","html_url":"https://github.com/rclone/rclone/issues/4576#issuecomment-689513450","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4576","id":689513450,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTUxMzQ1MA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T11:57:21Z","updated_at":"2020-09-09T11:57:21Z","body":"The problem appears to be here\r\n\r\nhttps://github.com/rclone/rclone/blob/c8a719ae0dbe856ebdbc1d49a99d50818ba5cd16/fs/operations/operations.go#L364-L367\r\n\r\nReturning `ErrorMaxTransferLimitReachedFatal` stops the transfer completely, whereas it should only stop new files being put into the queue.\r\n\r\nI've pushed a fix for this - can you give it a test? (I accidentally pushed it to master rather than a branch - eeek )\r\n\r\n[v1.54.0-beta.4766.75de30cfa](https://beta.rclone.org/v1.54.0-beta.4766.75de30cfa/) on branch [master](https://github.com/rclone/rclone/tree/master) (uploaded in 15-30 mins)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/689513450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/689585121","html_url":"https://github.com/rclone/rclone/issues/4576#issuecomment-689585121","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4576","id":689585121,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU4NTEyMQ==","user":{"login":"bounty1342","id":6307253,"node_id":"MDQ6VXNlcjYzMDcyNTM=","avatar_url":"https://avatars.githubusercontent.com/u/6307253?v=4","gravatar_id":"","url":"https://api.github.com/users/bounty1342","html_url":"https://github.com/bounty1342","followers_url":"https://api.github.com/users/bounty1342/followers","following_url":"https://api.github.com/users/bounty1342/following{/other_user}","gists_url":"https://api.github.com/users/bounty1342/gists{/gist_id}","starred_url":"https://api.github.com/users/bounty1342/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bounty1342/subscriptions","organizations_url":"https://api.github.com/users/bounty1342/orgs","repos_url":"https://api.github.com/users/bounty1342/repos","events_url":"https://api.github.com/users/bounty1342/events{/privacy}","received_events_url":"https://api.github.com/users/bounty1342/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:04:45Z","updated_at":"2020-09-09T14:04:45Z","body":"Thanks you for this fix !\r\n\r\n### Command with --cutoff-mode=soft :\r\n> /home/bounty1342/test/rclone copy -vv --drive-use-trash=false --tpslimit 10 --transfers 3  -P --drive-acknowledge-abuse \"/home/bounty1342/files\" \"b1342_TDP:/\" --buffer-size=512M --max-transfer 600M --cutoff-mode=soft\r\n> 2020/09/09 13:33:41 DEBUG : rclone: Version \"v1.54.0-beta.4766.75de30cfa\" starting with parameters [\"/home/bounty1342/test/rclone\" \"copy\" \"-vv\" \"--drive-use-trash=false\" \"--tpslimit\" \"10\" \"--transfers\" \"3\" \"-P\" \"--drive-acknowledge-abuse\" \"/home/bounty1342/files\" \"b1342_TDP:/\" \"--buffer-size=512M\" \"--max-transfer\" \"600M\" \"--cutoff-mode=soft\"]\r\n\r\nWorks as expected ðŸ‘ \r\n> 2020-09-09 13:34:37 ERROR : Can't retry this error - not attempting retries\r\n> Transferred:   \t    1.399G / 3.481 GBytes, 40%, 25.619 MBytes/s, ETA 1m23s\r\n> Errors:                 2 (no need to retry)\r\n> Transferred:            4 / 8, 50%\r\n> Elapsed time:        56.3s\r\n> 2020/09/09 13:34:37 INFO  : \r\n> Transferred:   \t    1.399G / 3.481 GBytes, 40%, 25.619 MBytes/s, ETA 1m23s\r\n> Errors:                 2 (no need to retry)\r\n> Transferred:            4 / 8, 50%\r\n> Elapsed time:        56.3s\r\n> \r\n> 2020/09/09 13:34:37 DEBUG : 8 go routines active\r\n> 2020/09/09 13:34:37 Failed to copy with 2 errors: last error was: Max transfer limit reached as set by --max-transfer\r\n\r\n### Command with --cutoff-mode=cautious :\r\n> /home/bounty1342/test/rclone copy -vv --drive-use-trash=false --tpslimit 10 --transfers 3  -P --drive-acknowledge-abuse \"/home/bounty1342/files\" \"b1342_TDP:/\" --buffer-size=512M --max-transfer 1000M --cutoff-mode=cautious\r\n> 2020/09/09 13:42:50 DEBUG : rclone: Version \"v1.54.0-beta.4766.75de30cfa\" starting with parameters [\"/home/bounty1342/test/rclone\" \"copy\" \"-vv\" \"--drive-use-trash=false\" \"--tpslimit\" \"10\" \"--transfers\" \"3\" \"-P\" \"--drive-acknowledge-abuse\" \"/home/bounty1342/files\" \"b1342_TDP:/\" \"--buffer-size=512M\" \"--max-transfer\" \"1000M\" \"--cutoff-mode=cautious\"]\r\n\r\nWorks as expected ðŸ‘ \r\n\r\n> 2020-09-09 13:43:28 ERROR : Can't retry this error - not attempting retries\r\n> Transferred:   \t  946.145M / 3.448 GBytes, 27%, 25.262 MBytes/s, ETA 1m42s\r\n> Errors:                 2 (no need to retry)\r\n> Transferred:            3 / 8, 38%\r\n> Elapsed time:        38.0s\r\n> 2020/09/09 13:43:28 INFO  : \r\n> Transferred:   \t  946.145M / 3.448 GBytes, 27%, 25.262 MBytes/s, ETA 1m42s\r\n> Errors:                 2 (no need to retry)\r\n> Transferred:            3 / 8, 38%\r\n> Elapsed time:        38.0s\r\n> \r\n> 2020/09/09 13:43:28 DEBUG : 8 go routines active\r\n> 2020/09/09 13:43:28 Failed to copy with 2 errors: last error was: Max transfer limit reached as set by --max-transfer\r\n\r\n### Border case - Command with --cutoff-mode=cautious :\r\nAll files sizes > --max-transfer\r\n\r\n- Hard stop at limit\r\n- Soft stop initialising transferts when limit reach\r\n- cautious stop before transfering\r\n\r\nWorks as expected ðŸ‘ \r\n\r\n### Border case - Command with --cutoff-mode=cautious :\r\n\r\n> /home/bounty1342/test/rclone copy -vv --drive-use-trash=false --tpslimit 10 --transfers 3  -P --drive-acknowledge-abuse \"/home/bounty1342/files\" \"b1342_TDP:/\" --buffer-size=512M --max-transfer 400M --cutoff-mode=cautious\r\n> 2020/09/09 13:51:27 DEBUG : rclone: Version \"v1.54.0-beta.4766.75de30cfa\" starting with parameters [\"/home/bounty1342/test/rclone\" \"copy\" \"-vv\" \"--drive-use-trash=false\" \"--tpslimit\" \"10\" \"--transfers\" \"3\" \"-P\" \"--drive-acknowledge-abuse\" \"/home/bounty1342/files\" \"b1342_TDP:/\" \"--buffer-size=512M\" \"--max-transfer\" \"400M\" \"--cutoff-mode=cautious\"]\r\n\r\n\r\nGenerate one transfert over the limit : ðŸ‘Ž \r\n\r\n> 2020-09-09 13:51:52 ERROR : Can't retry this error - not attempting retries\r\n> Transferred:   \t  533.885M / 3.520 GBytes, 15%, 21.690 MBytes/s, ETA 2m21s\r\n> Errors:                 2 (no need to retry)\r\n> Transferred:            2 / 8, 25%\r\n> Elapsed time:        25.0s\r\n> 2020/09/09 13:51:52 INFO  : \r\n> Transferred:   \t  533.885M / 3.520 GBytes, 15%, 21.690 MBytes/s, ETA 2m21s\r\n> Errors:                 2 (no need to retry)\r\n> Transferred:            2 / 8, 25%\r\n> Elapsed time:        25.0s\r\n> \r\n> 2020/09/09 13:51:52 DEBUG : 6 go routines active\r\n> 2020/09/09 13:51:52 Failed to copy with 2 errors: last error was: Max transfer limit reached as set by --max-transfer\r\n\r\nAdding more tranfert, result with only one over the limit too.\r\n\r\n> /home/bounty1342/test/rclone copy -vv --drive-use-trash=false --tpslimit 10 --transfers 10  -P --drive-acknowledge-abuse \"/home/bounty1342/files\" \"b1342_TDP:/\" --buffer-size=512M --max-transfer 400M --cutoff-mode=cautious\r\n> 2020/09/09 13:54:47 DEBUG : rclone: Version \"v1.54.0-beta.4766.75de30cfa\" starting with parameters [\"/home/bounty1342/test/rclone\" \"copy\" \"-vv\" \"--drive-use-trash=false\" \"--tpslimit\" \"10\" \"--transfers\" \"10\" \"-P\" \"--drive-acknowledge-abuse\" \"/home/bounty1342/files\" \"b1342_TDP:/\" \"--buffer-size=512M\" \"--max-transfer\" \"400M\" \"--cutoff-mode=cautious\"]\r\n\r\n> 2020-09-09 13:58:40 ERROR : Can't retry this error - not attempting retries\r\n> Transferred:   \t  533.885M / 533.885 MBytes, 100%, 22.859 MBytes/s, ETA 0s\r\n> Errors:                 8 (no need to retry)\r\n> Transferred:            2 / 2, 100%\r\n> Elapsed time:        23.8s\r\n> 2020/09/09 13:58:40 INFO  : \r\n> Transferred:   \t  533.885M / 533.885 MBytes, 100%, 22.859 MBytes/s, ETA 0s\r\n> Errors:                 8 (no need to retry)\r\n> Transferred:            2 / 2, 100%\r\n> Elapsed time:        23.8s\r\n> \r\n> 2020/09/09 13:58:40 DEBUG : 6 go routines active\r\n> 2020/09/09 13:58:40 Failed to copy with 8 errors: last error was: Max transfer limit reached as set by --max-transfer\r\n\r\n\r\nI'm personally please with the fix, but to avoid future issues, you might want look into it.\r\nRegards\r\n\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/689585121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bounty1342","id":6307253,"node_id":"MDQ6VXNlcjYzMDcyNTM=","avatar_url":"https://avatars.githubusercontent.com/u/6307253?v=4","gravatar_id":"","url":"https://api.github.com/users/bounty1342","html_url":"https://github.com/bounty1342","followers_url":"https://api.github.com/users/bounty1342/followers","following_url":"https://api.github.com/users/bounty1342/following{/other_user}","gists_url":"https://api.github.com/users/bounty1342/gists{/gist_id}","starred_url":"https://api.github.com/users/bounty1342/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bounty1342/subscriptions","organizations_url":"https://api.github.com/users/bounty1342/orgs","repos_url":"https://api.github.com/users/bounty1342/repos","events_url":"https://api.github.com/users/bounty1342/events{/privacy}","received_events_url":"https://api.github.com/users/bounty1342/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/689619748","html_url":"https://github.com/rclone/rclone/issues/4576#issuecomment-689619748","issue_url":"https://api.github.com/repos/rclone/rclone/issues/4576","id":689619748,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYxOTc0OA==","user":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:59:27Z","updated_at":"2020-09-09T14:59:27Z","body":"Great testing - thanks!\r\n\r\n`--cutoff-mode cautious` has a race condition namely it checks to see if there is enough space only at the start of the transfer. However it doesn't include the files currently transferring in the space it is looking at.\r\n\r\nSo I think if you try your test with `--transfers 1` then it will work.\r\n\r\nTo fix this would need a lot of extra infrastructure so I think I will leave it as it is. The transfer limits will always be somewhat approximate due to buffering etc anyway.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/comments/689619748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T22:46:25Z","updated_at":"2020-09-11T22:46:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rclone/rclone/issues/4583","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/4583/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/4583/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/4583/events","html_url":"https://github.com/rclone/rclone/issues/4583","id":698308496,"node_id":"MDU6SXNzdWU2OTgzMDg0OTY=","number":4583,"title":"â€“cutoff-mode=soft not working as expected","user":{"login":"astura8","id":27502629,"node_id":"MDQ6VXNlcjI3NTAyNjI5","avatar_url":"https://avatars.githubusercontent.com/u/27502629?v=4","gravatar_id":"","url":"https://api.github.com/users/astura8","html_url":"https://github.com/astura8","followers_url":"https://api.github.com/users/astura8/followers","following_url":"https://api.github.com/users/astura8/following{/other_user}","gists_url":"https://api.github.com/users/astura8/gists{/gist_id}","starred_url":"https://api.github.com/users/astura8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astura8/subscriptions","organizations_url":"https://api.github.com/users/astura8/orgs","repos_url":"https://api.github.com/users/astura8/repos","events_url":"https://api.github.com/users/astura8/events{/privacy}","received_events_url":"https://api.github.com/users/astura8/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-10T18:04:16Z","updated_at":"2020-09-11T22:46:25Z","closed_at":"2020-09-11T22:46:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17803236,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgwMzIzNg==","name":"rclone","full_name":"rclone/rclone","private":false,"owner":{"login":"rclone","id":24937341,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/24937341?v=4","gravatar_id":"","url":"https://api.github.com/users/rclone","html_url":"https://github.com/rclone","followers_url":"https://api.github.com/users/rclone/followers","following_url":"https://api.github.com/users/rclone/following{/other_user}","gists_url":"https://api.github.com/users/rclone/gists{/gist_id}","starred_url":"https://api.github.com/users/rclone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclone/subscriptions","organizations_url":"https://api.github.com/users/rclone/orgs","repos_url":"https://api.github.com/users/rclone/repos","events_url":"https://api.github.com/users/rclone/events{/privacy}","received_events_url":"https://api.github.com/users/rclone/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rclone/rclone","description":"\"rsync for cloud storage\" - Google Drive, S3, Dropbox, Backblaze B2, One Drive, Swift, Hubic, Wasabi, Google Cloud Storage, Azure Blob, Azure Files, Yandex Files","fork":false,"url":"https://api.github.com/repos/rclone/rclone","forks_url":"https://api.github.com/repos/rclone/rclone/forks","keys_url":"https://api.github.com/repos/rclone/rclone/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rclone/rclone/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rclone/rclone/teams","hooks_url":"https://api.github.com/repos/rclone/rclone/hooks","issue_events_url":"https://api.github.com/repos/rclone/rclone/issues/events{/number}","events_url":"https://api.github.com/repos/rclone/rclone/events","assignees_url":"https://api.github.com/repos/rclone/rclone/assignees{/user}","branches_url":"https://api.github.com/repos/rclone/rclone/branches{/branch}","tags_url":"https://api.github.com/repos/rclone/rclone/tags","blobs_url":"https://api.github.com/repos/rclone/rclone/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rclone/rclone/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rclone/rclone/git/refs{/sha}","trees_url":"https://api.github.com/repos/rclone/rclone/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rclone/rclone/statuses/{sha}","languages_url":"https://api.github.com/repos/rclone/rclone/languages","stargazers_url":"https://api.github.com/repos/rclone/rclone/stargazers","contributors_url":"https://api.github.com/repos/rclone/rclone/contributors","subscribers_url":"https://api.github.com/repos/rclone/rclone/subscribers","subscription_url":"https://api.github.com/repos/rclone/rclone/subscription","commits_url":"https://api.github.com/repos/rclone/rclone/commits{/sha}","git_commits_url":"https://api.github.com/repos/rclone/rclone/git/commits{/sha}","comments_url":"https://api.github.com/repos/rclone/rclone/comments{/number}","issue_comment_url":"https://api.github.com/repos/rclone/rclone/issues/comments{/number}","contents_url":"https://api.github.com/repos/rclone/rclone/contents/{+path}","compare_url":"https://api.github.com/repos/rclone/rclone/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rclone/rclone/merges","archive_url":"https://api.github.com/repos/rclone/rclone/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rclone/rclone/downloads","issues_url":"https://api.github.com/repos/rclone/rclone/issues{/number}","pulls_url":"https://api.github.com/repos/rclone/rclone/pulls{/number}","milestones_url":"https://api.github.com/repos/rclone/rclone/milestones{/number}","notifications_url":"https://api.github.com/repos/rclone/rclone/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rclone/rclone/labels{/name}","releases_url":"https://api.github.com/repos/rclone/rclone/releases{/id}","deployments_url":"https://api.github.com/repos/rclone/rclone/deployments","created_at":"2014-03-16T16:19:57Z","updated_at":"2025-11-09T20:38:02Z","pushed_at":"2025-11-08T21:33:38Z","git_url":"git://github.com/rclone/rclone.git","ssh_url":"git@github.com:rclone/rclone.git","clone_url":"https://github.com/rclone/rclone.git","svn_url":"https://github.com/rclone/rclone","homepage":"https://rclone.org","size":217990,"stargazers_count":53422,"watchers_count":53422,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4767,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1169,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure-blob","azure-blob-storage","azure-files","backblaze-b2","cloud-storage","dropbox","encryption","ftp","fuse-filesystem","go","golang","google-cloud-storage","google-drive","onedrive","openstack-swift","rclone","s3","sftp","sync","webdav"],"visibility":"public","forks":4767,"open_issues":1169,"watchers":53422,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"#### Output of `rclone version`\r\nrclone v1.53.0\r\n\r\nos/arch: linux/amd64\r\ngo version: go1.15\r\n\r\n#### Describe the issue\r\nâ€“cutoff-mode=soft not working as expected\r\n\r\nQuoting Nick Craig-Wood in https://forum.rclone.org/t/cutoff-mode-soft-not-working-as-expected-i-think/18913/12 :\r\n\"\r\nI have a vague memory that there is a bug in this area but I can't find it, so feel free to make an issue.\r\n\r\nThis is the bit of code you are looking for...\r\n\r\ngithub.com 1\r\nrclone/rclone/blob/c8a719ae0dbe856ebdbc1d49a99d50818ba5cd16/fs/operations/operations.go#L364-L367 1\r\n\t\tif fs.Config.MaxTransfer >= 0 && (accounting.Stats(ctx).GetBytes() >= int64(fs.Config.MaxTransfer) ||\r\n\t\t\t(fs.Config.CutoffMode == fs.CutoffModeCautious && accounting.Stats(ctx).GetBytesWithPending()+src.Size() >= int64(fs.Config.MaxTransfer))) {\r\n\t\t\treturn nil, accounting.ErrorMaxTransferLimitReachedFatal\r\n\t\t}\r\nWhat that says that if the transfer mode is hit then end with accounting.ErrorMaxTransferLimitReachedFatal - that isn't such a good idea as that will stop everything immediately as you've seen.\r\n\r\nWhat we want is a different sort of error which signals to the sync routines that it should no longer queue any new files, or maybe this check should be in the sync routine.\r\n\r\nIf you stick it in an issue, I'll have a go at fixing it!\r\n\"","reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/4583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/4583/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]