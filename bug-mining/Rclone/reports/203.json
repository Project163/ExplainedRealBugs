{"url":"https://api.github.com/repos/rclone/rclone/issues/708","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/708/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/708/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/708/events","html_url":"https://github.com/rclone/rclone/issues/708","id":175929929,"node_id":"MDU6SXNzdWUxNzU5Mjk5Mjk=","number":708,"title":"Failed upload attempts should not count as \"Transferred\"","user":{"login":"romanrm","id":272240,"node_id":"MDQ6VXNlcjI3MjI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/272240?v=4","gravatar_id":"","url":"https://api.github.com/users/romanrm","html_url":"https://github.com/romanrm","followers_url":"https://api.github.com/users/romanrm/followers","following_url":"https://api.github.com/users/romanrm/following{/other_user}","gists_url":"https://api.github.com/users/romanrm/gists{/gist_id}","starred_url":"https://api.github.com/users/romanrm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romanrm/subscriptions","organizations_url":"https://api.github.com/users/romanrm/orgs","repos_url":"https://api.github.com/users/romanrm/repos","events_url":"https://api.github.com/users/romanrm/events{/privacy}","received_events_url":"https://api.github.com/users/romanrm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399005,"node_id":"MDU6TGFiZWw4NjM5OTAwNQ==","url":"https://api.github.com/repos/rclone/rclone/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/21","html_url":"https://github.com/rclone/rclone/milestone/21","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/21/labels","id":1890781,"node_id":"MDk6TWlsZXN0b25lMTg5MDc4MQ==","number":21,"title":"v1.34","description":"","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":48,"state":"closed","created_at":"2016-07-18T22:13:42Z","updated_at":"2016-11-06T10:51:40Z","due_on":null,"closed_at":"2016-11-06T10:51:40Z"},"comments":2,"created_at":"2016-09-09T05:16:21Z","updated_at":"2016-09-12T17:28:40Z","closed_at":"2016-09-12T17:28:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello,\n\nLet's say I get an upload error with HubiC:\n\n```\n2016/09/09 00:20:00 ...: Failed to copy: HTTP Error: 503: 503 Service Unavailable\n2016/09/09 00:20:00 ...: Removing failed copy\n...\n2016/09/09 00:20:06 HTTP REQUEST\n2016/09/09 00:20:06 DELETE\n...\n2016/09/09 00:20:08 HTTP RESPONSE\n2016/09/09 00:20:08 HTTP/1.1 404 Not Found\n```\n\nOK, it didn't get uploaded, and there's even no partial copy to delete.\n\nBut it still counts as \"Transferred\" in stats:\n\n```\nTransferred:   817.161 MBytes (1.501 MBytes/s)\nErrors:                 4\nChecks:             14271\nTransferred:            4\nElapsed time:      9m4.2s\n```\n\nThe other 3 were like that also. Nothing got uploaded so far -- I'd expect stats to say \"Errors: 4, Transferred: 0\" at this point.\n\nAfter getting two files uploaded successfully:\n\n```\nTransferred:   1.664 GBytes (2.018 MBytes/s)\nErrors:                 4\nChecks:             14271\nTransferred:            6\nElapsed time:     14m4.2s\n```\n\nThis all is even more confusing since (if I'm not mistaken) when 2nd and 3rd attempt to upload previously transferred files are performed, those ALSO increment \"Transferred\", and also no matter succeeded or failed.\n\nIMO the \"Transferred\" stat should only count files which were successfully uploaded (\"201 Created\" in terms of HubiC), and count each file only once, no matter how many attempts.\n\nThanks\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/708/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/708/timeline","performed_via_github_app":null,"state_reason":"completed"}