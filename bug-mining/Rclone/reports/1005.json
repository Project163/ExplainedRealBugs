{"url":"https://api.github.com/repos/rclone/rclone/issues/5720","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/5720/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/5720/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/5720/events","html_url":"https://github.com/rclone/rclone/issues/5720","id":1025852915,"node_id":"I_kwDOAQ-n5M49JUXz","number":5720,"title":"Support S3 authorisation headers","user":{"login":"r0kk3rz","id":8215875,"node_id":"MDQ6VXNlcjgyMTU4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/8215875?v=4","gravatar_id":"","url":"https://api.github.com/users/r0kk3rz","html_url":"https://github.com/r0kk3rz","followers_url":"https://api.github.com/users/r0kk3rz/followers","following_url":"https://api.github.com/users/r0kk3rz/following{/other_user}","gists_url":"https://api.github.com/users/r0kk3rz/gists{/gist_id}","starred_url":"https://api.github.com/users/r0kk3rz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r0kk3rz/subscriptions","organizations_url":"https://api.github.com/users/r0kk3rz/orgs","repos_url":"https://api.github.com/users/r0kk3rz/repos","events_url":"https://api.github.com/users/r0kk3rz/events{/privacy}","received_events_url":"https://api.github.com/users/r0kk3rz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":173668299,"node_id":"MDU6TGFiZWwxNzM2NjgyOTk=","url":"https://api.github.com/repos/rclone/rclone/labels/doc%20fix","name":"doc fix","color":"f0b040","default":false,"description":""},{"id":314138213,"node_id":"MDU6TGFiZWwzMTQxMzgyMTM=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20S3","name":"Remote: S3","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-10-14T01:52:09Z","updated_at":"2021-10-18T11:53:04Z","closed_at":"2021-10-18T11:53:04Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What is the problem you are having with rclone?\r\nI am trying to configure rclone for use with an amazon snowball edge device using s3.\r\n\r\nIt appears this device does not support using signed URLs for authentication and requires an authentication header to be sent, and it seems there is no option to configure this behavior in rclone.\r\n\r\nthe request from rclone is:\r\n```\r\n2021/10/14 00:28:34 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n2021/10/14 00:28:34 DEBUG : >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n2021/10/14 00:28:34 DEBUG : HTTP REQUEST (req 0xc000698200)\r\n2021/10/14 00:28:34 DEBUG : PUT /sealog/CS2001_eventTemplates.json?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=[redacted]%2Faws4_request&X-Amz-Date=20211014T002834Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost%3Bx-amz-acl%3Bx-amz-meta-mtime&X-Amz-Signature=[redacted] HTTP/1.1\r\nHost: 147.66.81.30:8080\r\nUser-Agent: rclone/v1.56.2\r\nContent-Length: 2679\r\ncontent-md5: kM3xyCS2sV//fqKm1Q98QA==\r\ncontent-type: application/json\r\nx-amz-acl: private\r\nx-amz-meta-mtime: 1611752214\r\nAccept-Encoding: gzip\r\n```\r\n\r\nthe http response from the device is:\r\n```\r\n<Error xsi:schemaLocation=\"http://s3.amazonaws.com/doc/2006-03-01/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n    <Code>InvalidPart</Code>\r\n    <Message>Authorization header cannot be null or empty</Message>\r\n</Error>\r\n```\r\n\r\n#### What is your rclone version (output from `rclone version`)\r\nrclone v1.56.2\r\n- os/version: ubuntu 20.04 (64 bit)\r\n- os/kernel: 5.4.0-72-generic (x86_64)\r\n- os/type: linux\r\n- os/arch: amd64\r\n- go/version: go1.16.8\r\n- go/linking: static\r\n- go/tags: none\r\n\r\n#### Which OS you are using and how many bits (e.g. Windows 7, 64 bit)\r\nUbuntu 20.04.2 LTS 64bit\r\n\r\n#### Which cloud storage system are you using? (e.g. Google Drive)\r\nAmazon Snowball Edge\r\n\r\n\r\n#### The command you were trying to run (e.g. `rclone copy /tmp remote:tmp`)\r\nrclone sync --checksum [src] [dest]\r\n\r\n\r\n","closed_by":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/5720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/5720/timeline","performed_via_github_app":null,"state_reason":"completed"}